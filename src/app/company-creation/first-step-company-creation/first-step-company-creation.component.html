<form [formGroup]="companyForm">
  <div class="row" style="text-align: center; margin-bottom: 10px">
    <div
      class="col-lg-12"
      [ngStyle]="{
        'background-image': companyForm?.get('background').value
          ? 'url(' + serverimgPath + companyForm?.get('background').value + ')'
          : 'url(' + background + ')'
      }"
      style="border-radius: 4px; height: 140px;"
    >
      <div class="upload-background">
        <mat-icon (click)="openUploadBackgroundWindow()" style="font-size: 30px; bottom: -24px; position: absolute" class="texts"
          >photo_camera</mat-icon
        >
      </div>
      <input
        *ngIf="!isLoadingUpload"
        type="file"
        #fileUploadBackground
        name="file"
        style="display: none"
        accept="image/png, image/jpeg, image/jpg"
        (change)="handleInputBackgroundChange($event)"
      />
    </div>

    <div class="col-lg-12">
      <div class="candidate-profile">
        <img [src]="photo ? serverimgPath + photo : companyImage" (click)="openUploadWindow()" class="candidate-photo img-profile" />
        <div class="logo-spinner-wrapper" style="position: relative; top: -97px; right: 0px" *ngIf="isLoadingUpload">
          <mat-progress-spinner style="margin: 0 auto" mode="indeterminate" color="accent"></mat-progress-spinner>
        </div>
        <input
          *ngIf="!isLoadingUpload"
          type="file"
          #fileUpload
          name="file"
          style="display: none"
          accept="image/png, image/jpeg, image/jpg"
          (change)="handleInputChange($event)"
        />
        <div class="upload-logo">
          <mat-icon (click)="openUploadWindow()" style="font-size: 30px" class="text-logo">photo_camera</mat-icon>
        </div>
      </div>
    </div>
  </div>
  <hr />

  <div class="row display-web">
    <div class="col-lg-12">
      <div class="col-lg-6">
        <div class="row">
          <div class="col-lg-4" style="padding-right: 0px">
            <label>{{ 'Company Name' | translate }}*</label>
          </div>
          <div class="col-lg-8">
            <div class="form-group">
              <input class="form-control" required formControlName="company_name" />
              <div
                class="invalid-feedback"
                *ngIf="
                  companyForm.get('company_name').hasError('required') &&
                  (companyForm.get('company_name').dirty || companyForm.get('company_name').touched)
                "
              >
                {{ 'This field is required' | translate }}
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <label>{{ 'Industry' | translate }}*</label>
          </div>
          <div class="col-lg-8">
            <div class="form-group">
              <input class="form-control" required formControlName="industry" />
              <div
                class="invalid-feedback"
                *ngIf="
                  companyForm.get('industry').hasError('required') &&
                  (companyForm.get('industry').dirty || companyForm.get('industry').touched)
                "
              >
                {{ 'This field is required' | translate }}
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <label>{{ 'Brand' | translate }}*</label>
          </div>
          <div class="col-lg-8">
            <div class="form-group">
              <input class="form-control" required formControlName="brand" />
              <div
                class="invalid-feedback"
                *ngIf="
                  companyForm.get('brand').hasError('required') && (companyForm.get('brand').dirty || companyForm.get('brand').touched)
                "
              >
                {{ 'This field is required' | translate }}
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <label>{{ 'Address' | translate }}*</label>
          </div>
          <div class="col-lg-8">
            <div class="form-group">
              <input class="form-control" formControlName="address" />
              <div
                class="invalid-feedback"
                *ngIf="
                  companyForm.get('address').hasError('required') &&
                  (companyForm.get('address').dirty || companyForm.get('address').touched)
                "
              >
                {{ 'This field is required' | translate }}
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <label>{{ 'Country' | translate }}*</label>
          </div>
          <div class="col-lg-8">
            <div class="form-group">
              <input
                type="text"
                matInput
                class="form-control"
                formControlName="country"
                [matAutocomplete]="autoCountrys"
                (keyup)="filterCountrys()"
              />
              <mat-autocomplete #autoCountrys="matAutocomplete">
                <mat-option *ngFor="let option of filteredCountryFinance" [value]="option.name">
                  {{ option.name }}
                </mat-option>
              </mat-autocomplete>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <label>{{ 'City' | translate }}*</label>
          </div>
          <div class="col-lg-8">
            <div class="form-group">
              <input class="form-control" formControlName="city" />
              <div
                class="invalid-feedback"
                *ngIf="companyForm.get('city').hasError('required') && (companyForm.get('city').dirty || companyForm.get('city').touched)"
              >
                {{ 'This field is required' | translate }}
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="row">
          <div class="col-lg-4">
            <label>{{ 'Website' | translate }}</label>
          </div>
          <div class="col-lg-8">
            <div class="form-group">
              <input class="form-control" required formControlName="website" />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <label>{{ 'LinkedIn' | translate }}</label>
          </div>
          <div class="col-lg-8">
            <div class="form-group">
              <input class="form-control" required formControlName="linkedin" />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <label>{{ 'Facebook' | translate }}</label>
          </div>
          <div class="col-lg-8">
            <div class="form-group">
              <input class="form-control" required formControlName="facebook" />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <label>{{ 'Youtube' | translate }}</label>
          </div>
          <div class="col-lg-8">
            <div class="form-group">
              <input class="form-control" required formControlName="youtube" />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <label>{{ 'Twitter' | translate }}</label>
          </div>
          <div class="col-lg-8">
            <div class="form-group">
              <input class="form-control" required formControlName="twitter" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row display-mobile" [formGroup]="companyForm">
    <div class="col-lg-12">
      <div class="row">
        <div class="col-lg-4">
          <label>{{ 'Company Name' | translate }}*</label>
        </div>
        <div class="col-lg-8">
          <div class="form-group">
            <input class="form-control" required formControlName="company_name" />
            <div
              class="invalid-feedback"
              *ngIf="
                companyForm.get('company_name').hasError('required') &&
                (companyForm.get('company_name').dirty || companyForm.get('company_name').touched)
              "
            >
              {{ 'This field is required' | translate }}
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-4">
          <label>{{ 'Industry' | translate }}*</label>
        </div>
        <div class="col-lg-8">
          <div class="form-group">
            <input class="form-control" required formControlName="industry" />
            <div
              class="invalid-feedback"
              *ngIf="
                companyForm.get('industry').hasError('required') &&
                (companyForm.get('industry').dirty || companyForm.get('industry').touched)
              "
            >
              {{ 'This field is required' | translate }}
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-4">
          <label>{{ 'Brand' | translate }}*</label>
        </div>
        <div class="col-lg-8">
          <div class="form-group">
            <input class="form-control" required formControlName="brand" />
            <div
              class="invalid-feedback"
              *ngIf="companyForm.get('brand').hasError('required') && (companyForm.get('brand').dirty || companyForm.get('brand').touched)"
            >
              {{ 'This field is required' | translate }}
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-4">
          <label>{{ 'Address' | translate }}*</label>
        </div>
        <div class="col-lg-8">
          <div class="form-group">
            <input class="form-control" formControlName="address" />
            <div
              class="invalid-feedback"
              *ngIf="
                companyForm.get('address').hasError('required') && (companyForm.get('address').dirty || companyForm.get('address').touched)
              "
            >
              {{ 'This field is required' | translate }}
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-4">
          <label>{{ 'Country' | translate }}*</label>
        </div>
        <div class="col-lg-8">
          <div class="form-group">
            <input
              type="text"
              matInput
              class="form-control"
              formControlName="country"
              [matAutocomplete]="autoCountrys"
              (keyup)="filterCountrys()"
            />
            <mat-autocomplete #autoCountrys="matAutocomplete">
              <mat-option *ngFor="let option of filteredCountryFinance" [value]="option.name">
                {{ option.name }}
              </mat-option>
            </mat-autocomplete>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-4">
          <label>{{ 'City' | translate }}*</label>
        </div>
        <div class="col-lg-8">
          <div class="form-group">
            <input class="form-control" formControlName="city" />
            <div
              class="invalid-feedback"
              *ngIf="companyForm.get('city').hasError('required') && (companyForm.get('city').dirty || companyForm.get('city').touched)"
            >
              {{ 'This field is required' | translate }}
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-4">
          <label>{{ 'Website' | translate }}</label>
        </div>
        <div class="col-lg-8">
          <div class="form-group">
            <input class="form-control" formControlName="website" />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-4">
          <label>{{ 'LinkedIn' | translate }}</label>
        </div>
        <div class="col-lg-8">
          <div class="form-group">
            <input class="form-control" formControlName="linkedin" />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-4">
          <label>{{ 'Facebook' | translate }}</label>
        </div>
        <div class="col-lg-8">
          <div class="form-group">
            <input class="form-control" formControlName="facebook" />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-4">
          <label>{{ 'Youtube' | translate }}</label>
        </div>
        <div class="col-lg-8">
          <div class="form-group">
            <input class="form-control" formControlName="youtube" />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-4">
          <label>{{ 'Twitter' | translate }}</label>
        </div>
        <div class="col-lg-8">
          <div class="form-group">
            <input class="form-control" formControlName="twitter" />
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

<div class="btn-conditions">
  <button
    color="accent"
    mat-raised-button
    class="btn-save"
    (click)="saveCompany()"
    matTooltip="{{ 'CARDDETAIL.Save' | translate }} "
    [disabled]="companyForm.invalid"
  >
    <mat-icon class="mat-icon-default">save</mat-icon>
    {{ 'CARDDETAIL.Save' | translate }}
  </button>
</div>
