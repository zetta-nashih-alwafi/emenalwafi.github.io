"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[3021],{93021:(Y,M,m)=>{m.d(M,{u:()=>P});var u=m(24006),_=m(65938),E=m(68745),T=m(35226),g=m.n(T),i=m(94650),c=m(50777),p=m(89383),r=m(84075),e=m(94442),y=m(8739),V=m(73555),D=m(4859),R=m(97392),F=m(51572),x=m(10266),A=m(30277),U=m(36895),W=m(88796);const L=["importFile"];function B(v,S){if(1&v){const o=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19)(2,"button",20),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(o);const I=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(I.downloadTemplate())}),i.\u0275\u0275elementStart(3,"mat-icon",21),i.\u0275\u0275text(4,"cloud_download"),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(5),i.\u0275\u0275pipe(6,"translate"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementContainerEnd()}if(2&v){const o=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("disabled",o.importForm.invalid||o.isWaitingForResponse||!(null!=o.importForm&&o.importForm.get("file_delimeter").value)),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(6,2,"Download Template")," ")}}function N(v,S){if(1&v){const o=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19)(2,"input",22,23),i.\u0275\u0275listener("change",function(I){i.\u0275\u0275restoreView(o);const w=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(w.handleInputChange(I))}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"button",24),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(o);const I=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(I.openUploadWindow())}),i.\u0275\u0275elementStart(5,"mat-icon",21),i.\u0275\u0275text(6,"add"),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(7),i.\u0275\u0275pipe(8,"translate"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementContainerEnd()}if(2&v){const o=i.\u0275\u0275nextContext();i.\u0275\u0275advance(4),i.\u0275\u0275property("disabled",o.importForm.invalid||o.isWaitingForResponse||!(null!=o.importForm&&o.importForm.get("file_delimeter").value)),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(8,2,"Import File")," ")}}function H(v,S){if(1&v){const o=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",27)(1,"span",28),i.\u0275\u0275text(2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(3,"mat-icon",29),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(o);const I=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(I.resetValue())}),i.\u0275\u0275text(4,"close"),i.\u0275\u0275elementEnd()()}if(2&v){const o=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("matTooltip",null==o.file?null:o.file.name),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1("",null==o.file?null:o.file.name," ")}}function K(v,S){if(1&v&&(i.\u0275\u0275elementStart(0,"div",5)(1,"div",25)(2,"label"),i.\u0275\u0275text(3),i.\u0275\u0275pipe(4,"translate"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275template(5,H,5,2,"div",26),i.\u0275\u0275elementEnd()),2&v){const o=i.\u0275\u0275nextContext();i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(4,2,"Data File")),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",null==o.file?null:o.file.name)}}function b(v,S){1&v&&(i.\u0275\u0275elementStart(0,"div",30),i.\u0275\u0275element(1,"mat-progress-spinner",31),i.\u0275\u0275elementEnd())}let P=(()=>{class v{constructor(o,O,I,w,$,G,j,Q){this.fb=o,this.dialogRef=O,this.rncpTitleService=I,this.translate=w,this.utilService=$,this.financeService=G,this.admissionService=j,this.data=Q,this.isWaitingForResponse=!1,this.templateDownloaded=!1,this.scholars=[],this.subs=new E.Y,this.delimeter=[{key:"COMMA [ , ]",value:","},{key:"SEMICOLON [ ; ]",value:";"},{key:"TAB [ ]",value:"tab"}]}ngOnInit(){this.initForm()}initForm(){this.importForm=this.fb.group({file_delimeter:[";",[u.Validators.required]]})}handleInputChange(o){this.isWaitingForResponse=!0;const O=o.target.files[0];this.file=o.target.files[0],console.log(O);const w=this.utilService.getFileExtension(O.name).toLocaleLowerCase();console.log(w),["csv","tsv"].includes(w)?this.isWaitingForResponse=!1:(this.file=null,this.isWaitingForResponse=!1,g().fire({type:"info",title:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TITLE"),text:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TEXT",{file_exts:".csv, .tsv"}),allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1}))}openUploadWindow(){this.importFile.nativeElement.click()}submit(){this.importForm.invalid||this.callCheckImportAPI()}callCheckImportAPI(){this.isWaitingForResponse=!0,console.log("_file",this.file),this.file&&(this.subs.sink=this.financeService.ImportCandidateData(this.importForm.get("file_delimeter").value,this.file).subscribe(o=>{o.is_error?g().fire({type:"info",title:this.translate.instant("Oscar_S8_Import.TITLE"),html:this.translate.instant("Oscar_S8_Import.TEXT"),confirmButtonText:this.translate.instant("Oscar_S8_Import.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)}):(this.isWaitingForResponse=!1,g().fire({type:"success",title:this.translate.instant("Oscar_S7_Import.TITLE"),html:this.translate.instant("Oscar_S7_Import.TEXT",{numberStudents:o.total_imported_candidates}),confirmButtonText:this.translate.instant("Oscar_S7_Import.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)}))},o=>{this.isWaitingForResponse=!1,o&&o.message&&o.message.includes("Network error: Http failure response for")?g().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):g().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}getDataScholarSeasons(){this.subs.sink=this.financeService.GetAllScholarSeasons().subscribe(o=>{o&&o.length&&(this.scholars=o,this.importForm.get("scholar_season").value||this.importForm.get("scholar_season").setValue(this.scholars[0]._id))},o=>{o&&o.message&&o.message.includes("Network error: Http failure response for")?g().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):g().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}downloadTemplate(){this.templateDownloaded=!0,this.financeService.downloadTemplateOscarCSV(this.importForm.get("file_delimeter").value),this.importForm.get("file_delimeter").disable()}resetValue(){this.templateDownloaded=!1,this.file=null,this.importForm.get("file_delimeter").setValue(null),this.importForm.get("file_delimeter").reset(),this.importForm.get("file_delimeter").enable(),this.importForm.get("file_delimeter").clearValidators(),this.importForm.get("file_delimeter").updateValueAndValidity()}swalError(o){console.log("[Response BE][Error] : ",o),g().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}closeDialog(){this.dialogRef.close()}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(o){return new(o||v)(i.\u0275\u0275directiveInject(u.UntypedFormBuilder),i.\u0275\u0275directiveInject(_.so),i.\u0275\u0275directiveInject(c.r),i.\u0275\u0275directiveInject(p.sK),i.\u0275\u0275directiveInject(r.t),i.\u0275\u0275directiveInject(e.N),i.\u0275\u0275directiveInject(y.Q),i.\u0275\u0275directiveInject(_.WI))},v.\u0275cmp=i.\u0275\u0275defineComponent({type:v,selectors:[["ms-import-oscar-dialog"]],viewQuery:function(o,O){if(1&o&&i.\u0275\u0275viewQuery(L,5),2&o){let I;i.\u0275\u0275queryRefresh(I=i.\u0275\u0275loadQuery())&&(O.importFile=I.first)}},decls:35,vars:25,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header-div",2,"padding","0"],["svgIcon","file-upload",1,"height-icon"],[1,"header-text"],["mat-icon-button","","type","button",1,"header-icon",3,"click"],[3,"formGroup"],[1,"p-grid"],[1,"p-col-12"],[1,"p-grid",2,"margin-bottom","25px"],[1,"p-col-5","title-school"],[1,"school-name"],[1,"class-scholar",2,"width","100%"],["bindLabel","key","bindValue","value","formControlName","file_delimeter",1,"mrgn-btn","custom-style-ngselect",3,"disabled","items","appendTo","multiple","placeholder"],[4,"ngIf"],["class","p-grid",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center",1,"footer-form"],["mat-raised-button","","color","accent","type","button",1,"oscar-import-submit",3,"disabled","click"],["mat-raised-button","","color","primary","type","button",1,"oscar-import-reset",3,"click"],["mat-raised-button","","color","warn","type","button",1,"oscar-import-close",3,"click"],["class","loading-indicator",4,"ngIf"],[1,"p-col-6",2,"padding","0.7em 0px","text-align","right"],["mat-raised-button","","color","accent",1,"margin-right-0","oscar-import-download",3,"disabled","click"],[1,"mat-icon-default"],["type","file","accept",".csv, .tsv","disableMultipart","true",2,"display","none",3,"change"],["importFile",""],["mat-raised-button","","color","accent",1,"margin-right-0",3,"disabled","click"],[1,"p-col-3",2,"padding","0.5em 0px","float","left"],["class","p-col-9 border-file","style","padding: 1em; text-align: right",3,"matTooltip",4,"ngIf"],[1,"p-col-9","border-file",2,"padding","1em","text-align","right",3,"matTooltip"],[1,"file-name"],[1,"icon-delete",3,"click"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(o,O){1&o&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275element(1,"mat-icon",1),i.\u0275\u0275elementStart(2,"h2",2),i.\u0275\u0275text(3),i.\u0275\u0275pipe(4,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(5,"button",3),i.\u0275\u0275listener("click",function(){return O.closeDialog()}),i.\u0275\u0275elementStart(6,"mat-icon"),i.\u0275\u0275text(7,"close"),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275element(8,"hr"),i.\u0275\u0275elementStart(9,"div",4)(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10),i.\u0275\u0275element(16,"ng-select",11),i.\u0275\u0275pipe(17,"translate"),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275template(18,B,7,4,"ng-container",12),i.\u0275\u0275template(19,N,9,4,"ng-container",12),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(20,K,6,4,"div",13),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275elementStart(21,"div",14)(22,"div")(23,"button",15),i.\u0275\u0275listener("click",function(){return O.submit()}),i.\u0275\u0275text(24),i.\u0275\u0275pipe(25,"translate"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(26,"div")(27,"button",16),i.\u0275\u0275listener("click",function(){return O.resetValue()}),i.\u0275\u0275text(28),i.\u0275\u0275pipe(29,"translate"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(30,"div")(31,"button",17),i.\u0275\u0275listener("click",function(){return O.closeDialog()}),i.\u0275\u0275text(32),i.\u0275\u0275pipe(33,"translate"),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275template(34,b,2,0,"div",18)),2&o&&(i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(4,15,"IMPORT_TEMPLATE.IMPORT")," "),i.\u0275\u0275advance(6),i.\u0275\u0275property("formGroup",O.importForm),i.\u0275\u0275advance(7),i.\u0275\u0275propertyInterpolate("placeholder",i.\u0275\u0275pipeBind1(17,17,"Delimeter")),i.\u0275\u0275property("disabled",O.templateDownloaded)("items",O.delimeter)("appendTo","body")("multiple",!1),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",!O.templateDownloaded),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",O.templateDownloaded),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",O.templateDownloaded),i.\u0275\u0275advance(3),i.\u0275\u0275property("disabled",!O.file),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(25,19,"Import")," "),i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(29,21,"Reset")," "),i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(33,23,"Cancel")," "),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",O.isWaitingForResponse))},dependencies:[V.Zt,V.Bh,D.lW,R.Hw,F.Ou,x.gM,u.NgControlStatus,u.NgControlStatusGroup,u.FormGroupDirective,u.FormControlName,A.xw,A.Wh,U.O5,W.w9,p.X$],styles:[".header-form[_ngcontent-%COMP%]{padding:18px}.footer-form[_ngcontent-%COMP%]{padding-top:10px}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#000;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  ng-dropdown-panel{z-index:99999999999}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#000;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.class-scholar[_ngcontent-%COMP%]{width:150px;display:inline-block;vertical-align:middle;margin-right:10px}.title-school[_ngcontent-%COMP%]{margin-right:10px}.border-file[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.1);padding:.5em}.icon-delete[_ngcontent-%COMP%]{color:red;margin-left:5px;cursor:pointer;font-size:20px}.file-name[_ngcontent-%COMP%]{display:inline-block;width:330px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.height-icon[_ngcontent-%COMP%]{max-height:33px!important}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{color:#000}  .mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}  .custom-style-ngselect.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{white-space:normal!important}"]}),v})()},97679:(Y,M,m)=>{m.d(M,{l:()=>i});var u=m(13125),_=m(24850),E=m(94650),T=m(80529),g=m(18497);let i=(()=>{class c{constructor(r,e){this.httpClient=r,this.apollo=e}getAdmissionChannels(){return this.httpClient.get("assets/data/admission-channels.json")}getScholarPeriod(){return this.httpClient.get("assets/data/scholar-period.json")}getSchools(){return this.httpClient.get("assets/data/schools.json")}getCampus(){return this.httpClient.get("assets/data/campus-tab.json")}getSpeciality(){return this.httpClient.get("assets/data/speciality.json")}getLegalEntities(){return this.httpClient.get("assets/data/legal-entities.json")}getPaymentModes(){return this.httpClient.get("assets/data/payment-modes.json")}getScholarshipFees(){return this.httpClient.get("assets/data/scholarship-fees.json")}getAffectedTermsBillingForAskingPayment(r,e,y,V){return this.apollo.mutate({mutation:u.ZP`
          mutation GetAffectedTermsBillingForAskingPayment($amount: Float, $billing_id: ID, $payment_method: EnumPaymentMethod, $is_from_asking_payment_sepa: Boolean) {
            GetAffectedTermsBilling(amount: $amount, billing_id: $billing_id, payment_method: $payment_method, is_from_asking_payment_sepa: $is_from_asking_payment_sepa) {
              _id
              term_id
              term_index
              term_payment {
                date
                time
              }
              term_payment_deferment {
                date
                time
              }
              is_term_pending
              is_term_paid
              term_amount
              term_pay_amount
              term_pay_date {
                date
                time
              }
              is_partial
              term_status
              term_amount_not_authorised
              term_amount_pending
              term_amount_chargeback
              payment_source
              term_source
              payment_type
              amount
              pay_amount
              status
              is_regulation
            }
          }
        `,variables:{amount:r,billing_id:e,payment_method:y||null,is_from_asking_payment_sepa:V},context:{useMultipart:!0}}).pipe((0,_.U)(D=>D.data.GetAffectedTermsBilling))}getPaymentMethodAdyen(r){return this.apollo.watchQuery({query:u.ZP`
          query GetAllAvailPaymentMethods($filter: FilterPaymentMethodInput!) {
            GetAllAvailPaymentMethods(filter: $filter) {
              brands
              details {
                key
                type
              }
              name
              type
            }
          }
        `,fetchPolicy:"network-only",variables:{filter:r}}).valueChanges.pipe((0,_.U)(e=>e.data.GetAllAvailPaymentMethods))}getAllCountryCodes(){return this.apollo.watchQuery({query:u.ZP`
          query GetAllCountryCodes {
            GetAllCountryCodes {
              _id
              country
              country_code
              currency
              currency_code
            }
          }
        `,fetchPolicy:"network-only"}).valueChanges.pipe((0,_.U)(r=>r.data.GetAllCountryCodes))}getAllTypeOfInformation(r,e){return this.apollo.watchQuery({query:u.ZP`
          query GetAllTypeOfInformation($pagination: PaginationInput, $filter: TypeOfInformationFilterInput) {
            GetAllTypeOfInformation(pagination: $pagination, filter: $filter) {
              _id
              type_of_information
              type_of_formation
              description
              count_document
              sigle
              admission_form_id {
                _id
                form_builder_name
              }
              document_builder_id {
                _id
                document_builder_name
              }
              form_builder_id {
                _id
                form_builder_name
              }
            }
          }
        `,fetchPolicy:"network-only",variables:{pagination:r,filter:e}}).valueChanges.pipe((0,_.U)(y=>y.data.GetAllTypeOfInformation))}getAllTypeOfInformationDropdown(){return this.apollo.watchQuery({query:u.ZP`
          query GetAllTypeOfInformation {
            GetAllTypeOfInformation {
              _id
              type_of_information
              type_of_formation
              description
              sigle
            }
          }
        `,fetchPolicy:"network-only"}).valueChanges.pipe((0,_.U)(r=>r.data.GetAllTypeOfInformation))}getAllTypeOfInformationByScholar(r){return this.apollo.watchQuery({query:u.ZP`
          query GetAllTypeOfInformation {
            GetAllTypeOfInformation {
              _id
              type_of_information
              type_of_formation
              description
            }
          }
        `,fetchPolicy:"network-only"}).valueChanges.pipe((0,_.U)(e=>e.data.GetAllTypeOfInformation))}createTypeOfInformation(r){return this.apollo.mutate({mutation:u.ZP`
          mutation CreateTypeOfInformation($type_of_information_input: TypeOfInformationInput) {
            CreateTypeOfInformation(type_of_information_input: $type_of_information_input) {
              _id
            }
          }
        `,variables:{type_of_information_input:r}}).pipe((0,_.U)(e=>e.data.CreateTypeOfInformation))}updateTypeOfInformation(r,e){return this.apollo.mutate({mutation:u.ZP`
          mutation UpdateTypeOfInformation($_id: ID!, $type_of_information_input: TypeOfInformationInput) {
            UpdateTypeOfInformation(_id: $_id, type_of_information_input: $type_of_information_input) {
              _id
            }
          }
        `,variables:{_id:r,type_of_information_input:e}}).pipe((0,_.U)(y=>y.data.UpdateTypeOfInformation))}deleteTypeOfInformation(r){return this.apollo.mutate({mutation:u.ZP`
          mutation DeleteTypeOfInformation($_id: ID!) {
            DeleteTypeOfInformation(_id: $_id) {
              _id
            }
          }
        `,variables:{_id:r}}).pipe((0,_.U)(e=>e.data.DeleteTypeOfInformation))}addInducedHoursCoefficient(r,e){return this.apollo.mutate({mutation:u.ZP`
        mutation UpdatePrograms($_id: [ID], $induced_hours: Float) {
          UpdatePrograms(program_ids: $_id, program_input: { induced_hours_coefficient: $induced_hours })
        }
      `,variables:{_id:r,induced_hours:e}})}addPaidLeaveAllowance(r,e){return this.apollo.mutate({mutation:u.ZP`
        mutation UpdatePrograms($_id: [ID], $paid_leave_allowance_rate: Float) {
          UpdatePrograms(program_ids: $_id, program_input: { paid_leave_allowance_rate: $paid_leave_allowance_rate })
        }
      `,variables:{_id:r,paid_leave_allowance_rate:e}})}}return c.\u0275fac=function(r){return new(r||c)(E.\u0275\u0275inject(T.eN),E.\u0275\u0275inject(g._M))},c.\u0275prov=E.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},9962:(Y,M,m)=>{m.d(M,{J:()=>E});var u=m(94650),_=m(89383);let E=(()=>{class T{constructor(i){this.translate=i}createAndUpdateSpreadsheet(i,c,p){const r={spreadsheetId:"",range:"",valueInputOption:"USER_ENTERED"};gapi.auth2.getAuthInstance().signIn(),gapi.client.sheets.spreadsheets.create({properties:{title:c},fields:"spreadsheetId"}).then(e=>{r.spreadsheetId=e.result.spreadsheetId;const y={spreadsheetId:p.spreadsheetId,sheetId:p.sheetId},V={destinationSpreadsheetId:e.result.spreadsheetId};console.log("dest & origin sheet : ",V,y),gapi.client.sheets.spreadsheets.sheets.copyTo(y,V).then(function(D){r.range=D.result.title+"!"+p.range,gapi.client.sheets.spreadsheets.values.update(r,i).then(function(){gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:r.spreadsheetId},{requests:[{deleteSheet:{sheetId:0}}]}).then(function(){window.open("https://docs.google.com/spreadsheets/d/"+r.spreadsheetId)},function(A){console.error("error: "+A.result.error.message)})},function(F){console.error("error: "+F.result.error.message)})},function(D){console.error("error: "+D.result.error.message)})})}executeSurveySheetOneTimes(i,c,p){const r={spreadsheetId:"",range:"",valueInputOption:"RAW"};gapi.auth2.getAuthInstance().signIn(),gapi.client.sheets.spreadsheets.create({properties:{title:c},fields:"spreadsheetId"}).then(e=>{r.spreadsheetId=e.result.spreadsheetId,gapi.client.sheets.spreadsheets.sheets.copyTo({spreadsheetId:p.spreadsheetId,sheetId:p.sheetId},{destinationSpreadsheetId:e.result.spreadsheetId}).then(function(D){r.range=D.result.title+"!"+p.range,gapi.client.sheets.spreadsheets.values.update(r,i).then(function(F){gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:r.spreadsheetId},{requests:[{deleteSheet:{sheetId:0}}]}).then(function(U){window.open("https://docs.google.com/spreadsheets/d/"+r.spreadsheetId)},function(U){console.error("error: "+U.result.error.message)})},function(F){console.error("error: "+F.result.error.message)})},function(D){console.error("error: "+D.result.error.message)})})}executeSurveySheetContinues(i,c,p,r){const y={spreadsheetId:"",range:"",valueInputOption:"RAW"};gapi.auth2.getAuthInstance().signIn(),gapi.client.sheets.spreadsheets.create({properties:{title:c},fields:"spreadsheetId"}).then(V=>{console.log("create",V),y.spreadsheetId=V.result.spreadsheetId;const F={spreadsheetId:y.spreadsheetId},x={spreadsheetId:y.spreadsheetId};gapi.client.sheets.spreadsheets.sheets.copyTo({spreadsheetId:p.spreadsheetId,sheetId:p.sheetId},{destinationSpreadsheetId:V.result.spreadsheetId}).then(function(A){gapi.client.sheets.spreadsheets.batchUpdate(x,{requests:[{deleteSheet:{sheetId:0}}]}).then(function(W){gapi.client.sheets.spreadsheets.get(F).then(function(L){console.log(L);let B=A.result.title;y.range=B+"!"+p.range;let N={values:i.values[0]};L&&L.result&&L.result.sheets&&L.result.sheets.length&&gapi.client.sheets.spreadsheets.batchUpdate(x,{requests:[{updateSheetProperties:{properties:{title:r+""+i.values.length+0,sheetId:L.result.sheets[0].properties.sheetId},fields:"title"}}]}).then(function(K){i.values&&i.values.length>1?i.values.forEach((b,P)=>{0!==P?gapi.client.sheets.spreadsheets.batchUpdate(x,{requests:[{addSheet:{properties:{title:r+""+i.values.length+P,sheetId:1e7+P}}}]}).then(function(S){gapi.client.sheets.spreadsheets.batchUpdate(x,{requests:[{copyPaste:{destination:{sheetId:1e7+P},source:{sheetId:L.result.sheets[0].properties.sheetId}}}]}).then(function(O){N={values:b},B=r+""+i.values.length+P,y.range=B+"!"+p.range,gapi.client.sheets.spreadsheets.values.update(y,N).then(function(I){P===i.values.length-1&&window.open("https://docs.google.com/spreadsheets/d/"+y.spreadsheetId)},function(I){console.error("error: "+I.result.error.message)})},function(O){console.error("error: "+O.result.error.message)})},function(S){console.error("error: "+S.result.error.message)}):(N={values:b},B=r+""+i.values.length+P,y.range=B+"!"+p.range,gapi.client.sheets.spreadsheets.values.update(y,N).then(function(v){1===i.values.length&&window.open("https://docs.google.com/spreadsheets/d/"+y.spreadsheetId)},function(v){console.error("error: "+v.result.error.message)}))}):(N={values:i.values[0]},B=r+""+i.values.length+0,y.range=B+"!"+p.range,gapi.client.sheets.spreadsheets.values.update(y,N).then(function(b){window.open("https://docs.google.com/spreadsheets/d/"+y.spreadsheetId)},function(b){console.error("error: "+b.result.error.message)}))},function(K){console.error("error: "+K.result.error.message)})})},function(W){console.error("error: "+W.result.error.message)})},function(A){console.error("error: "+A.result.error.message)})})}}return T.\u0275fac=function(i){return new(i||T)(u.\u0275\u0275inject(_.sK))},T.\u0275prov=u.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},91750:(Y,M,m)=>{m.d(M,{U:()=>ne});var u=m(68745),_=m(24006),E=m(65938),T=m(1059),g=m(24850),i=m(17489),p=m(35226),r=m.n(p),e=m(94650),y=m(89383),V=m(79710),D=m(97679),R=m(94442),F=m(84130),x=m(52688),A=m(73555),U=m(47957),W=m(3238),L=m(4859),B=m(97392),N=m(59549),H=m(284),K=m(51572),b=m(36895);function P(d,C){1&d&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&d&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"This field is required")))}function v(d,C){if(1&d){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",37),e.\u0275\u0275listener("click",function(){const l=e.\u0275\u0275restoreView(t).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.getSchoolDropdown(null==l?null:l._id))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&d){const t=C.$implicit;e.\u0275\u0275property("value",null==t?null:t.scholar_season),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t?null:t.scholar_season," ")}}function S(d,C){1&d&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&d&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"This field is required")))}function o(d,C){if(1&d){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",37),e.\u0275\u0275listener("click",function(){const l=e.\u0275\u0275restoreView(t).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.getCampusDropdown(null==l?null:l._id))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&d){const t=C.$implicit;e.\u0275\u0275property("value",null==t?null:t.short_name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t?null:t.short_name," ")}}function O(d,C){1&d&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&d&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"This field is required")))}function I(d,C){if(1&d){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",37),e.\u0275\u0275listener("click",function(){const l=e.\u0275\u0275restoreView(t).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.getLevelDropdown(null==l?null:l._id))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&d){const t=C.$implicit;e.\u0275\u0275property("value",null==t?null:t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t?null:t.name," ")}}function w(d,C){1&d&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&d&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"This field is required")))}function $(d,C){if(1&d){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",37),e.\u0275\u0275listener("click",function(){const l=e.\u0275\u0275restoreView(t).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.getSectorDropdown(null==l?null:l._id))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&d){const t=C.$implicit;e.\u0275\u0275property("value",null==t?null:t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t?null:t.name," ")}}function G(d,C){1&d&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&d&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"This field is required")))}function j(d,C){if(1&d){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",37),e.\u0275\u0275listener("click",function(){const l=e.\u0275\u0275restoreView(t).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.getSpecialityDropdown(null==l?null:l._id))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&d){const t=C.$implicit;e.\u0275\u0275property("value",null==t?null:t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t?null:t.name," ")}}function Q(d,C){if(1&d){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",37),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.getTypeFormationDropdown("none"))}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()}2&d&&(e.\u0275\u0275property("value",e.\u0275\u0275pipeBind1(1,2,"None")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"None")," "))}function X(d,C){if(1&d){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",37),e.\u0275\u0275listener("click",function(){const l=e.\u0275\u0275restoreView(t).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.getTypeFormationDropdown(null==l?null:l._id))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&d){const t=C.$implicit;e.\u0275\u0275property("value",null==t?null:t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t?null:t.name," ")}}function z(d,C){1&d&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&d&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"This field is required")))}function J(d,C){if(1&d){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",37),e.\u0275\u0275listener("click",function(){const l=e.\u0275\u0275restoreView(t).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.getDevMemberDropdown(l))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(2&d){const t=C.$implicit;e.\u0275\u0275property("value",null==t?null:t.type_of_formation),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"type_formation."+(null==t?null:t.type_of_formation))," ")}}function q(d,C){if(1&d){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",37),e.\u0275\u0275listener("click",function(){const l=e.\u0275\u0275restoreView(t).$implicit,a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.selectOptionContinousFormationManager(l))}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()}if(2&d){const t=C.$implicit;e.\u0275\u0275property("value",(null!=t&&t.civility&&"neutral"===(null==t?null:t.civility)?"":e.\u0275\u0275pipeBind1(1,4,null==t?null:t.civility))+" "+(null==t?null:t.first_name)+" "+(null==t?null:t.last_name)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate3(" ",null!=t&&t.civility&&"neutral"===(null==t?null:t.civility)?"":e.\u0275\u0275pipeBind1(3,6,null==t?null:t.civility)," ",null==t?null:t.first_name," ",null==t?null:t.last_name," ")}}function ee(d,C){1&d&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&d&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"This field is required")))}function te(d,C){if(1&d&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",10)(2,"mat-form-field",38),e.\u0275\u0275element(3,"input",39),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementStart(5,"mat-autocomplete",14,40),e.\u0275\u0275template(7,q,4,8,"mat-option",16),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,ee,3,3,"mat-error",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&d){const t=e.\u0275\u0275reference(6),s=e.\u0275\u0275nextContext();let n;e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate1("placeholder","",e.\u0275\u0275pipeBind1(4,5,"Continuous Formation Manager"),"*"),e.\u0275\u0275property("matAutocomplete",t),e.\u0275\u0275advance(2),e.\u0275\u0275property("panelWidth","fit"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(8,7,s.filteredManager)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==s.filterFormCtrl||null==(n=s.filterFormCtrl.get("continuous_formation_manager_id"))?null:n.errors)}}function ie(d,C){1&d&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&d&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"This field is required")))}function se(d,C){if(1&d){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",37),e.\u0275\u0275listener("click",function(){const l=e.\u0275\u0275restoreView(t).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.selectDevMember(null==l?null:l._id))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&d){const t=C.$implicit;e.\u0275\u0275property("value",null==t?null:t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t?null:t.name," ")}}function ae(d,C){1&d&&(e.\u0275\u0275elementStart(0,"div",41),e.\u0275\u0275element(1,"mat-spinner",42),e.\u0275\u0275elementEnd()),2&d&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("diameter",100))}let ne=(()=>{class d{constructor(t,s,n,l,a,h,f,k,Z){this.dialogRef=t,this.fb=s,this.translate=n,this.candidateService=l,this.admissionEntrypointService=a,this.financeService=h,this.permissions=f,this.data=k,this.userService=Z,this.subs=new u.Y,this.scholarList=[],this.schoolList=[],this.campusList=[],this.levelList=[],this.sectorList=[],this.specialityList=[],this.formationList=[],this.memberList=[],this.isWaitingForResponse=!1,this.isUserAdmissionMember=!1,this.selectAll=!1,this.isDisplayNone=!1,this.isContinous=!1,this.listContinousManager=[],this.isAcadDirMember=!1}ngOnInit(){console.log("MAT_DIALOG_DATA",this.data),this.isPermission=this.userService.getPermission(),this.currentUser=this.userService.getLocalStorageUser();const t=this.currentUser?.entities?.find(s=>s?.type?.name===this.isPermission[0]);if(this.currentUserTypeId=t?.type?._id,this.isUserAdmissionMember=!!this.permissions.getPermission("Admission Member"),this.isAcadDirMember=!(!this.permissions.getPermission("Academic Director")&&!this.permissions.getPermission("Academic Member")),console.log(this.data),"all"===this.data.type?(this.selectAll=!0,this.filteredValues=this.data.filter,this.countDocument=this.data.countDocument,this.candidateId=this.data.candidateId,console.log(this.filteredValues)):(this.selectAll=!1,this.candidateId=this.data.candidateId,console.log(this.candidateId)),this.initForm(),this.initFilterForm(),this.getScholarSeason(),this.isUserAdmissionMember){const s={_id:this.currentUser._id,name:("neutral"!==this.currentUser.civility?this.translate.instant(this.currentUser.civility)+" ":"")+this.currentUser.last_name.toUpperCase()+" "+this.currentUser.first_name};this.memberList.push(s),this.assignProgramForm.get("dev_member").setValue(this.currentUser._id),this.filterFormCtrl.get("devMember").setValue(s.name)}}ngOnDestroy(){this.subs.unsubscribe()}closeDialog(){this.dialogRef.close()}initForm(){this.assignProgramForm=this.fb.group({scholar_season:["",_.Validators.required],school:["",_.Validators.required],campus:["",_.Validators.required],level:["",_.Validators.required],sector:["",_.Validators.required],type_of_formation_id:["",_.Validators.required],speciality:[""],continuous_formation_manager_id:[""],dev_member:["",_.Validators.required]})}initFilterForm(){this.filterFormCtrl=this.fb.group({scholarSeason:["",_.Validators.required],school:["",_.Validators.required],campus:["",_.Validators.required],level:["",_.Validators.required],sector:["",_.Validators.required],type_of_formation_id:["",_.Validators.required],speciality:[""],continuous_formation_manager_id:[""],devMember:["",_.Validators.required]})}getScholarSeason(){this.isWaitingForResponse=!0;let t={is_published:!0};const s="readmission"===this.data?.from;"readmission"===this.data?.from&&this.data?.candidateId?.length&&(t.candidate_id=this.data?.candidateId[0]?._id),this.subs.sink=this.candidateService.getAllScholarSeasons(t,s).subscribe(n=>{console.log("_schol",n),n&&(this.scholarList=n,this.isWaitingForResponse=!1,this.initFilter())},n=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?r().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):r().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}initFilter(){this.filteredScholar=this.filterFormCtrl.controls.scholarSeason.valueChanges.pipe((0,T.O)(""),(0,g.U)(t=>this.scholarList.filter(s=>!s||s.scholar_season.toLowerCase().includes(t.toString().toLowerCase())))),this.filteredSchool=this.filterFormCtrl.controls.school.valueChanges.pipe((0,T.O)(""),(0,g.U)(t=>this.schoolList.filter(s=>!s||s.short_name.toLowerCase().includes(t.toLowerCase())))),this.filteredCampus=this.filterFormCtrl.controls.campus.valueChanges.pipe((0,T.O)(""),(0,g.U)(t=>this.campusList.filter(s=>!s||s.name.toLowerCase().includes(t.toLowerCase())))),this.filteredLevel=this.filterFormCtrl.controls.level.valueChanges.pipe((0,T.O)(""),(0,g.U)(t=>t?this.levelList.filter(s=>!s||s.name.toLowerCase().includes(t.toString().toLowerCase())).sort((s,n)=>s.name-n.name):this.levelList.sort((s,n)=>s.name-n.name))),this.filteredSector=this.filterFormCtrl.controls.sector.valueChanges.pipe((0,T.O)(""),(0,g.U)(t=>this.sectorList.filter(s=>!s||s.name.toLowerCase().includes(t.toLowerCase())))),this.filteredSpeciality=this.filterFormCtrl.controls.speciality.valueChanges.pipe((0,T.O)(""),(0,g.U)(t=>this.specialityList.filter(s=>!s||s.name.toLowerCase().includes(t.toLowerCase())))),this.filteredFormation=this.filterFormCtrl.controls.type_of_formation_id.valueChanges.pipe((0,T.O)(""),(0,g.U)(t=>this.formationList.filter(s=>!s||this.translate.instant("type_formation."+s.type_of_information).toLowerCase().includes(t.toLowerCase())))),this.filteredMember=this.filterFormCtrl.controls.devMember.valueChanges.pipe((0,T.O)(""),(0,g.U)(t=>this.memberList.filter(s=>!s||s.name.toLowerCase().includes(t.toLowerCase()))))}getUserTypeIdList(){const t=this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type:[],s=[];if(t){const n=t.filter(l=>"operator_dir"===l.name);if(n?.length)s.push(n[0]?._id);else{const l=t.filter(a=>"operator_admin"===a.name);l?.length?s.push(l[0]?._id):t.forEach(a=>{("Admission Director"===a.name||"Admission Member"===a.name||"Continuous formation manager"===a.name)&&s.push(a._id)})}}return s}getSchoolDropdown(t){console.log("scholar id",t),this.isWaitingForResponse=!0,this.isDisplayNone=!1,this.schoolList=[],this.campusList=[],this.levelList=[],this.sectorList=[],this.specialityList=[],this.formationList=[],this.listContinousManager=[],this.isContinous=!1,this.isUserAdmissionMember||(this.memberList=[],this.assignProgramForm.controls.dev_member.patchValue(""),this.filterFormCtrl.controls.devMember.patchValue("")),this.assignProgramForm.controls.school.patchValue(""),this.assignProgramForm.controls.campus.patchValue(""),this.assignProgramForm.controls.level.patchValue(""),this.assignProgramForm.controls.sector.patchValue(""),this.assignProgramForm.controls.speciality.patchValue(""),this.assignProgramForm.controls.type_of_formation_id.patchValue(""),this.assignProgramForm.controls.continuous_formation_manager_id.patchValue(""),this.filterFormCtrl.controls.school.patchValue(""),this.filterFormCtrl.controls.campus.patchValue(""),this.filterFormCtrl.controls.level.patchValue(""),this.filterFormCtrl.controls.sector.patchValue(""),this.filterFormCtrl.controls.speciality.patchValue(""),this.filterFormCtrl.controls.type_of_formation_id.patchValue(""),this.filterFormCtrl.controls.continuous_formation_manager_id.patchValue("");const s=this.getUserTypeIdList();console.log(s),this.selectedScholarId=t,this.assignProgramForm.controls.scholar_season.patchValue(this.selectedScholarId);const n=`filter: { scholar_season_id:"${t}"}`;console.log(n),this.subs.sink=this.candidateService.GetAllSchoolFilter(t,n,s,!0,null,!(!this.isAcadDirMember||"readmission"!==this.data?.from)).subscribe(a=>{console.log("_school",a),a&&(this.schoolList=a,this.schoolList=this.schoolList.sort((h,f)=>h?.short_name?.localeCompare(f?.short_name)),this.initFilter(),this.isWaitingForResponse=!1)},a=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(a),a&&a.message&&a.message.includes("Network error: Http failure response for")?r().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):r().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCampusDropdown(t){console.log("school id",t),this.isWaitingForResponse=!0,this.isDisplayNone=!1,this.campusList=[],this.levelList=[],this.sectorList=[],this.specialityList=[],this.listContinousManager=[],this.formationList=[],this.isContinous=!1,this.isUserAdmissionMember||(this.memberList=[],this.filterFormCtrl.controls.devMember.patchValue("")),this.assignProgramForm.controls.campus.patchValue(""),this.assignProgramForm.controls.level.patchValue(""),this.assignProgramForm.controls.sector.patchValue(""),this.assignProgramForm.controls.speciality.patchValue(""),this.assignProgramForm.controls.type_of_formation_id.patchValue(""),this.assignProgramForm.controls.continuous_formation_manager_id.patchValue(""),this.filterFormCtrl.controls.campus.patchValue(""),this.filterFormCtrl.controls.level.patchValue(""),this.filterFormCtrl.controls.sector.patchValue(""),this.filterFormCtrl.controls.speciality.patchValue(""),this.filterFormCtrl.controls.type_of_formation_id.patchValue(""),this.filterFormCtrl.controls.continuous_formation_manager_id.patchValue(""),this.selectedSchoolId=t,this.assignProgramForm.controls.school.patchValue(this.selectedSchoolId);const s={scholar_season_id:this.selectedScholarId,school_id:this.selectedSchoolId},n=this.getUserTypeIdList();this.subs.sink=this.candidateService.GetAllCampuses(s,n,!0,!(!this.isAcadDirMember||"readmission"!==this.data?.from)||null).subscribe(a=>{console.log("_campuses",a),a&&(this.campusList=a,this.campusList=this.campusList.sort((h,f)=>h?.name?.localeCompare(f?.name)),this.initFilter(),this.isWaitingForResponse=!1)},a=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(a),a&&a.message&&a.message.includes("Network error: Http failure response for")?r().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):r().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),console.log("campus list",this.campusList)}getLevelDropdown(t){console.log("campus id",t),this.isWaitingForResponse=!0,this.isDisplayNone=!1,this.levelList=[],this.sectorList=[],this.specialityList=[],this.formationList=[],this.listContinousManager=[],this.isContinous=!1,this.isUserAdmissionMember||(this.memberList=[],this.assignProgramForm.controls.dev_member.patchValue(""),this.filterFormCtrl.controls.devMember.patchValue("")),this.assignProgramForm.controls.level.patchValue(""),this.assignProgramForm.controls.sector.patchValue(""),this.assignProgramForm.controls.speciality.patchValue(""),this.assignProgramForm.controls.type_of_formation_id.patchValue(""),this.assignProgramForm.controls.continuous_formation_manager_id.patchValue(""),this.filterFormCtrl.controls.level.patchValue(""),this.filterFormCtrl.controls.sector.patchValue(""),this.filterFormCtrl.controls.speciality.patchValue(""),this.filterFormCtrl.controls.type_of_formation_id.patchValue(""),this.filterFormCtrl.controls.continuous_formation_manager_id.patchValue(""),this.selectedCampusId=t,this.assignProgramForm.controls.campus.patchValue(this.selectedCampusId);const s={scholar_season_id:this.selectedScholarId,school_id:this.selectedSchoolId,campus_id:this.selectedCampusId},n=this.getUserTypeIdList();this.subs.sink=this.candidateService.GetAllLevels(s,n,!0,!(!this.isAcadDirMember||"readmission"!==this.data?.from)||null).subscribe(a=>{console.log("_levels",a),a&&(this.levelList=a,this.initFilter(),this.isWaitingForResponse=!1)},a=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(a),a&&a.message&&a.message.includes("Network error: Http failure response for")?r().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):r().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),console.log("level list",this.levelList)}getSectorDropdown(t){console.log("level id",t),this.isWaitingForResponse=!0,this.isDisplayNone=!1,this.sectorList=[],this.specialityList=[],this.formationList=[],this.listContinousManager=[],this.isContinous=!1,this.isUserAdmissionMember||(this.memberList=[],this.assignProgramForm.controls.dev_member.patchValue(""),this.filterFormCtrl.controls.devMember.patchValue("")),this.assignProgramForm.controls.sector.patchValue(""),this.assignProgramForm.controls.speciality.patchValue(""),this.assignProgramForm.controls.type_of_formation_id.patchValue(""),this.assignProgramForm.controls.continuous_formation_manager_id.patchValue(""),this.filterFormCtrl.controls.sector.patchValue(""),this.filterFormCtrl.controls.speciality.patchValue(""),this.filterFormCtrl.controls.type_of_formation_id.patchValue(""),this.filterFormCtrl.controls.continuous_formation_manager_id.patchValue(""),this.selectedLevelId=t,this.assignProgramForm.controls.level.patchValue(this.selectedLevelId);const s={scholar_season_id:this.selectedScholarId,candidate_school_ids:[this.selectedSchoolId],campuses:[this.selectedCampusId],levels:[this.selectedLevelId]};console.log(s),this.subs.sink=this.financeService.GetAllSectorsDropdown(s).subscribe(n=>{console.log("_sector",n),n&&(this.sectorList=n,this.initFilter(),this.isWaitingForResponse=!1)},n=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?r().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):r().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getSpecialityDropdown(t){console.log("sector id",t),this.isWaitingForResponse=!0,this.isDisplayNone=!1,this.specialityList=[],this.formationList=[],this.listContinousManager=[],this.isContinous=!1,this.isUserAdmissionMember||(this.memberList=[],this.assignProgramForm.controls.dev_member.patchValue(""),this.filterFormCtrl.controls.devMember.patchValue("")),this.formationList=[],this.assignProgramForm.controls.type_of_formation_id.patchValue(""),this.assignProgramForm.controls.speciality.patchValue(""),this.assignProgramForm.controls.continuous_formation_manager_id.patchValue(""),this.filterFormCtrl.controls.speciality.patchValue(""),this.filterFormCtrl.controls.type_of_formation_id.patchValue(""),this.filterFormCtrl.controls.continuous_formation_manager_id.patchValue(""),this.selectedSectorId=t,this.assignProgramForm.controls.sector.patchValue(this.selectedSectorId),this.subs.sink=this.candidateService.getAllProgramsToGetSpeciality({scholar_season_id:this.selectedScholarId,school_id:[this.selectedSchoolId],campus:[this.selectedCampusId],level:[this.selectedLevelId],sector:[this.selectedSectorId]}).subscribe(n=>{const l=i.cloneDeep(n),a=l.find(f=>!f?.speciality_id?._id),h=[];l.forEach(f=>{f?.speciality_id?._id&&h.push(f?.speciality_id)}),console.log("_speciality",n,a,h),this.isDisplayNone=!!a,h&&h?.length?(this.specialityList=h,this.initFilter(),this.isWaitingForResponse=!1):(this.getTypeFormationDropdown(null),this.isWaitingForResponse=!1)},n=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?r().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):r().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),console.log("speciality list",this.specialityList)}getTypeFormationDropdown(t){console.log("speciality id",t),this.isWaitingForResponse=!0,t&&("none"!==t?(this.selectedSpecialityId=t,this.assignProgramForm.controls.speciality.patchValue(this.selectedSpecialityId)):(this.selectedSpecialityId=null,this.assignProgramForm.controls.speciality.patchValue(null))),this.subs.sink=this.admissionEntrypointService.getAllTypeOfInformationByScholar(this.selectedScholarId).subscribe(s=>{console.log("_speciality",s),s&&(this.formationList=s.filter(n=>n.type_of_formation),this.initFilter(),this.isWaitingForResponse=!1)},s=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(s),s&&s.message&&s.message.includes("Network error: Http failure response for")?r().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):r().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),console.log("speciality list",this.specialityList)}displayWithType(t){if(t){const s=this.formationList.find(n=>n.type_of_formation.toLowerCase().trim().includes(t));return s?this.translate.instant("type_formation."+s.type_of_formation):t}return t}getDevMemberDropdown(t){console.log("FORMATION id",t),this.isContinous="classic"!==t.type_of_formation,this.isWaitingForResponse=!0,this.memberList=[],this.assignProgramForm.get("continuous_formation_manager_id").setValue(""),this.filterFormCtrl.get("continuous_formation_manager_id").setValue(""),this.isUserAdmissionMember||(this.assignProgramForm.controls.dev_member.patchValue(""),this.filterFormCtrl.controls.devMember.patchValue("")),"none"!==t?(this.selectedFormationId=t._id,this.assignProgramForm.controls.type_of_formation_id.patchValue(this.selectedFormationId)):(this.selectedFormationId=null,this.assignProgramForm.controls.type_of_formation_id.patchValue(null));const s=this.assignProgramForm.controls.school.value,n=this.assignProgramForm.controls.campus.value,l=this.assignProgramForm.controls.level.value;if(this.isUserAdmissionMember){const a={_id:this.currentUser._id,name:("neutral"!==this.currentUser.civility?this.translate.instant(this.currentUser.civility)+" ":"")+this.currentUser.last_name.toUpperCase()+" "+this.currentUser.first_name};this.memberList.push(a)}this.subs.sink="readmission"!==this.data.from?this.candidateService.getDevMemberDropdown("","","").subscribe(a=>{console.log("_devMember",a),a&&(i.cloneDeep(a).forEach(f=>{if(f&&f._id){const k={_id:f._id,name:("neutral"!==f.civility?this.translate.instant(f.civility)+" ":"")+f.last_name.toUpperCase()+" "+f.first_name};this.memberList.push(k)}}),this.isWaitingForResponse=!1,this.initFilter(),this.getContinuousFormationManagerList(n,s,l))},a=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(a),a&&a.message&&a.message.includes("Network error: Http failure response for")?r().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):r().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.candidateService.getAcadMemberDropdown(n,s,l).subscribe(a=>{console.log("_devMember",a),a&&(i.cloneDeep(a).forEach(f=>{if(f&&f._id){const k={_id:f._id,name:("neutral"!==f.civility?this.translate.instant(f.civility)+" ":"")+f.last_name.toUpperCase()+" "+f.first_name};this.memberList.push(k)}}),this.isWaitingForResponse=!1,this.initFilter(),this.getContinuousFormationManagerList(n,s,l))},a=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(a),a&&a.message&&a.message.includes("Network error: Http failure response for")?r().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):r().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),console.log("devMember list",this.memberList)}selectDevMember(t){console.log("_devMember id",t),this.selectedMemberId=t,this.assignProgramForm.controls.dev_member.patchValue(this.selectedMemberId)}checkProgram(t,s,n,l){return s&&(s=s.slice(0,3).toUpperCase()),t&&(t=t.slice(0,3).toUpperCase()),t&&(l=t),s&&(l+=s),n&&(l=l+" "+n),l}checkFormValidity(){return!!this.filterFormCtrl.invalid&&(r().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.filterFormCtrl.markAllAsTouched(),!0)}submit(){if(this.isContinous&&!this.assignProgramForm.get("continuous_formation_manager_id").value)this.filterFormCtrl.get("continuous_formation_manager_id").setValidators(_.Validators.required),this.filterFormCtrl.get("continuous_formation_manager_id").updateValueAndValidity(),this.checkFormValidity();else{if(this.filterFormCtrl.get("continuous_formation_manager_id").clearValidators(),this.filterFormCtrl.get("continuous_formation_manager_id").updateValueAndValidity(),this.checkFormValidity())return;this.isWaitingForResponse=!0;const t=this.checkProgram(this.filterFormCtrl.controls.school.value,this.filterFormCtrl.controls.campus.value,this.filterFormCtrl.controls.level.value,""),s=this.assignProgramForm.getRawValue();if((null===this.selectedSpecialityId||null===s.speciality||void 0===this.selectedSpecialityId||""===s.speciality)&&delete s.speciality,console.log("payload",s,this.selectedSpecialityId),this.selectAll)this.swalOscarS2(!0,this.countDocument,t,s);else{let a,l=[];this.candidateId.forEach(h=>{l.push(h._id)}),1===l.length?(a=this.candidateId[0].first_name+" "+this.candidateId[0].last_name,l=i.uniqBy(l),this.swalOscarS1(!1,a,t,s,l)):(a=l.length,this.swalOscarS2(!1,a,t,s,l))}}}assignCandidateReadmission(t,s,n){let l=null,a=null;this.filteredValues&&this.filteredValues.crm_table&&"oscar"===this.filteredValues.crm_table&&(l="readmission"!==this.data.from?{source_type:this.filteredValues&&this.filteredValues.source_type?this.filteredValues.source_type:null,crm_table:this.filteredValues&&this.filteredValues.crm_table?this.filteredValues.crm_table:null,program_desired:this.filteredValues&&Array.isArray(this.filteredValues.program_desired)?this.filteredValues.program_desired:[],trial_date:this.filteredValues&&Array.isArray(this.filteredValues.trial_date)?this.filteredValues.trial_date:[],oscar_campus_tenant_key:this.filteredValues&&Array.isArray(this.filteredValues.oscar_campus_tenant_key)?this.filteredValues.oscar_campus_tenant_key:[]}:{source_type:this.filteredValues&&this.filteredValues.source_type?this.filteredValues.source_type:null,program_desired:this.filteredValues&&Array.isArray(this.filteredValues.program_desired)?this.filteredValues.program_desired:[],trial_date:this.filteredValues&&Array.isArray(this.filteredValues.trial_date)?this.filteredValues.trial_date:[],oscar_campus_tenant_key:this.filteredValues&&Array.isArray(this.filteredValues.oscar_campus_tenant_key)?this.filteredValues.oscar_campus_tenant_key:[]},a={name:this.filteredValues&&this.filteredValues.name?this.filteredValues.name:"",telephone:this.filteredValues&&this.filteredValues.telephone?this.filteredValues.telephone:"",email:this.filteredValues&&this.filteredValues.email?this.filteredValues.email:"",date_added:this.filteredValues&&this.filteredValues.date_added?this.filteredValues.date_added:"",program_desired:this.filteredValues&&!Array.isArray(this.filteredValues.program_desired)?this.filteredValues.program_desired:"",trial_date:this.filteredValues&&!Array.isArray(this.filteredValues.trial_date)?this.filteredValues.trial_date:""}),this.filteredValues&&this.filteredValues.crm_table&&"hubspot"===this.filteredValues.crm_table&&(l="readmission"!==this.data.from?{crm_table:this.filteredValues&&this.filteredValues.crm_table?this.filteredValues.crm_table:null,schools:this.filteredValues&&this.filteredValues.school&&this.filteredValues.school.length>0?this.filteredValues.school:[],campuses:this.filteredValues&&this.filteredValues.campus&&this.filteredValues.campus.length>0?this.filteredValues.campus:[],levels:this.filteredValues&&this.filteredValues.level&&this.filteredValues.level.length>0?this.filteredValues.level:[]}:{scholar_season:this.filteredValues&&this.filteredValues.scholar_season&&this.filteredValues.scholar_season.length>0?this.filteredValues.scholar_season:null,schools:this.filteredValues&&this.filteredValues.school&&this.filteredValues.school.length>0?this.filteredValues.school:[],campuses:this.filteredValues&&this.filteredValues.campus&&this.filteredValues.campus.length>0?this.filteredValues.campus:[],levels:this.filteredValues&&this.filteredValues.level&&this.filteredValues.level.length>0?this.filteredValues.level:[],candidate:this.filteredValues&&this.filteredValues.candidate?this.filteredValues.candidate:null,candidate_unique_number:this.filteredValues&&this.filteredValues.candidate_unique_number?this.filteredValues.candidate_unique_number:null,candidate_admission_statuses:this.filteredValues&&this.filteredValues.candidate_admission_statuses?this.filteredValues.candidate_admission_statuses:[],initial_intake_channel:this.filteredValues&&this.filteredValues.initial_intake_channel?this.filteredValues.initial_intake_channel:null,intake_channel_name:this.filteredValues&&this.filteredValues.intake_channel_name?this.filteredValues.intake_channel_name:null,type_of_formation:this.filteredValues&&this.filteredValues.type_of_formation?this.filteredValues.type_of_formation:null,financial_situation:this.filteredValues&&this.filteredValues.financial_situation?this.filteredValues.financial_situation:null,jury_decision:this.filteredValues&&this.filteredValues.jury_decision?this.filteredValues.jury_decision:null,readmission_program_desired:this.filteredValues&&this.filteredValues.programs_desired?this.filteredValues.programs_desired:null,sectors:this.filteredValues&&this.filteredValues.sectors&&this.filteredValues.sectors.length>0?this.filteredValues.sectors:[],specialities:this.filteredValues&&this.filteredValues.specialities&&this.filteredValues.specialities.length>0?this.filteredValues.specialities:[]},a={name:this.filteredValues&&this.filteredValues.name?this.filteredValues.name:"",telephone:this.filteredValues&&this.filteredValues.telephone?this.filteredValues.telephone:"",email:this.filteredValues&&this.filteredValues.email?this.filteredValues.email:"",date_added:this.filteredValues&&this.filteredValues.date_added?this.filteredValues.date_added:"",program_desired:this.filteredValues&&this.filteredValues.program_desired?this.filteredValues.program_desired:"",trial_date:this.filteredValues&&this.filteredValues.trial_date?this.filteredValues.trial_date:""}),this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.AssignProgramToCandidate(t,s,l,a,n,!0).subscribe(h=>{h?(this.isWaitingForResponse=!1,r().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{console.log("select type All"),this.dialogRef.close("select type All")})):this.isWaitingForResponse=!1},h=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(h),h&&h.message&&h.message.includes("Network error: Http failure response for")?r().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):this.handleError(h)})}assignCandidate(t,s,n){console.log("hahahah");let l=null,a=null;this.filteredValues&&this.filteredValues.crm_table&&"oscar"===this.filteredValues.crm_table&&(l="readmission"!==this.data.from?{source_type:this.filteredValues&&this.filteredValues.source_type?this.filteredValues.source_type:null,crm_table:this.filteredValues&&this.filteredValues.crm_table?this.filteredValues.crm_table:null,program_desired:this.filteredValues&&Array.isArray(this.filteredValues.program_desired)?this.filteredValues.program_desired:[],trial_date:this.filteredValues&&Array.isArray(this.filteredValues.trial_date)?this.filteredValues.trial_date:[],oscar_campus_tenant_key:this.filteredValues&&Array.isArray(this.filteredValues.oscar_campus_tenant_key)?this.filteredValues.oscar_campus_tenant_key:[]}:{source_type:this.filteredValues&&this.filteredValues.source_type?this.filteredValues.source_type:null,program_desired:this.filteredValues&&Array.isArray(this.filteredValues.program_desired)?this.filteredValues.program_desired:[],trial_date:this.filteredValues&&Array.isArray(this.filteredValues.trial_date)?this.filteredValues.trial_date:[],oscar_campus_tenant_key:this.filteredValues&&Array.isArray(this.filteredValues.oscar_campus_tenant_key)?this.filteredValues.oscar_campus_tenant_key:[]},a={name:this.filteredValues&&this.filteredValues.name?this.filteredValues.name:"",telephone:this.filteredValues&&this.filteredValues.telephone?this.filteredValues.telephone:"",email:this.filteredValues&&this.filteredValues.email?this.filteredValues.email:"",date_added:this.filteredValues&&this.filteredValues.date_added?this.filteredValues.date_added:"",program_desired:this.filteredValues&&!Array.isArray(this.filteredValues.program_desired)?this.filteredValues.program_desired:"",trial_date:this.filteredValues&&!Array.isArray(this.filteredValues.trial_date)?this.filteredValues.trial_date:""}),this.filteredValues&&this.filteredValues.crm_table&&"hubspot"===this.filteredValues.crm_table&&(l="readmission"!==this.data.from?{crm_table:this.filteredValues&&this.filteredValues.crm_table?this.filteredValues.crm_table:null,schools:this.filteredValues&&this.filteredValues.school&&this.filteredValues.school.length>0?this.filteredValues.school:[],campuses:this.filteredValues&&this.filteredValues.campus&&this.filteredValues.campus.length>0?this.filteredValues.campus:[],levels:this.filteredValues&&this.filteredValues.level&&this.filteredValues.level.length>0?this.filteredValues.level:[]}:{schools:this.filteredValues&&this.filteredValues.school&&this.filteredValues.school.length>0?this.filteredValues.school:[],campuses:this.filteredValues&&this.filteredValues.campus&&this.filteredValues.campus.length>0?this.filteredValues.campus:[],levels:this.filteredValues&&this.filteredValues.level&&this.filteredValues.level.length>0?this.filteredValues.level:[]},a={name:this.filteredValues&&this.filteredValues.name?this.filteredValues.name:"",telephone:this.filteredValues&&this.filteredValues.telephone?this.filteredValues.telephone:"",email:this.filteredValues&&this.filteredValues.email?this.filteredValues.email:"",date_added:this.filteredValues&&this.filteredValues.date_added?this.filteredValues.date_added:"",program_desired:this.filteredValues&&this.filteredValues.program_desired?this.filteredValues.program_desired:"",trial_date:this.filteredValues&&this.filteredValues.trial_date?this.filteredValues.trial_date:""}),this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.AssignProgramToCandidate(t,s,l,a,n,!1).subscribe(h=>{h?(this.isWaitingForResponse=!1,r().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{console.log("select type All"),this.dialogRef.close("select type All")})):this.isWaitingForResponse=!1},h=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(h),h&&h.message&&h.message.includes("Network error: Http failure response for")?r().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):this.handleError(h)})}swalOscarS1(t,s,n,l,a){let h=3;r().fire({type:"question",title:this.translate.instant("Oscar_S1.Title"),html:this.translate.instant("Oscar_S1.Text",{candidate:s,program:n}),allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("Oscar_S1.Button 1",{timer:h}),cancelButtonText:this.translate.instant("Oscar_S1.Button 2"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{r().disableConfirmButton();const f=r().getConfirmButton();this.intVal=setInterval(()=>{h-=1,f.innerText=this.translate.instant("Oscar_S1.Button 1")+` (${h})`},1e3),this.timeOutVal=setTimeout(()=>{f.innerText=this.translate.instant("Oscar_S1.Button 1"),r().enableConfirmButton(),clearInterval(this.intVal),clearTimeout(this.timeOutVal)},1e3*h)}}).then(f=>{clearTimeout(this.timeOutVal),this.isWaitingForResponse=!1,f.value&&("crm"===this.data.from?this.assignCandidate(t,l,a):this.assignCandidateReadmission(t,l,a))})}swalOscarS2(t,s,n,l,a){let h=3;r().fire({type:"question",title:this.translate.instant("Oscar_S2.Title"),html:this.translate.instant("Oscar_S2.Text",{totalCandidate:s,program:n}),allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("Oscar_S2.Button 1",{timer:h}),cancelButtonText:this.translate.instant("Oscar_S2.Button 2"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{r().disableConfirmButton();const f=r().getConfirmButton();this.intVal=setInterval(()=>{h-=1,f.innerText=this.translate.instant("Oscar_S2.Button 1")+` (${h})`},1e3),this.timeOutVal=setTimeout(()=>{f.innerText=this.translate.instant("Oscar_S2.Button 1"),r().enableConfirmButton(),clearInterval(this.intVal),clearTimeout(this.timeOutVal)},1e3*h)}}).then(f=>{clearTimeout(this.timeOutVal),this.isWaitingForResponse=!1,f.value&&(a?"crm"===this.data.from?this.assignCandidate(t,l,a):this.assignCandidateReadmission(t,l,a):"crm"===this.data.from?this.assignCandidate(t,l):this.assignCandidateReadmission(t,l))})}handleError(t){"GraphQL error: some candidate already have program"===t.message?r().fire({type:"info",title:this.translate.instant("OSCAR_S4.TITLE"),html:this.translate.instant("OSCAR_S4.TEXT"),confirmButtonText:this.translate.instant("OSCAR_S4.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("select type All")}):"GraphQL error: cannot assign the same program with the current program"===t.message?r().fire({type:"info",title:this.translate.instant("TransferSameProgram.Title"),text:this.translate.instant("TransferSameProgram.Text"),confirmButtonText:this.translate.instant("TransferSameProgram.Button"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{}):"GraphQL error: Exceed the maximum limit of 300 students"===t.message?r().fire({type:"info",title:this.translate.instant("ReAdmission_S4.Title"),text:this.translate.instant("ReAdmission_S4.Text"),confirmButtonText:this.translate.instant("ReAdmission_S4.Button"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("select type All")}):"GraphQL error: Legal Entity not found!"===t.message?r().fire({type:"info",title:this.translate.instant("OSCAR_S3.TITLE"),text:this.translate.instant("OSCAR_S3.TEXT"),confirmButtonText:this.translate.instant("OSCAR_S3.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("select type All")}):"GraphQL error: Program not found!"===t.message?r().fire({type:"info",title:this.translate.instant("Oscar_S5.TITLE"),text:this.translate.instant("Oscar_S5.TEXT"),confirmButtonText:this.translate.instant("Oscar_S5.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("select type All")}):t&&t.message&&t.message.includes("Network error: Http failure response for")?r().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):r().fire({type:"info",title:this.translate.instant("SORRY"),text:t&&t.message?this.translate.instant(t.message.replaceAll("GraphQL error: ","")):t,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(()=>{this.dialogRef.close("select type All")})}getContinuousFormationManagerList(t,s,n){this.subs.sink=this.candidateService.getUserContinuousFormationManager(["61ceb560688f572138e023b2"],t,s,n).subscribe(a=>{a&&(this.listContinousManager=a,this.filteredManager=this.filterFormCtrl.get("continuous_formation_manager_id").valueChanges.pipe((0,T.O)(""),(0,g.U)(h=>this.listContinousManager.filter(f=>!f||f.first_name.toLowerCase().includes(h.toString().toLowerCase())))))},a=>{this.userService.postErrorLog(a),a&&a.message&&a.message.includes("Network error: Http failure response for")?r().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):r().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}selectOptionContinousFormationManager(t){this.assignProgramForm.get("continuous_formation_manager_id").patchValue(t._id);const s=(t.civility&&"neutral"===t.civility?"":this.translate.instant(t.civility))+" "+t.first_name+" "+t.last_name;this.filterFormCtrl.get("continuous_formation_manager_id").patchValue(s)}}return d.\u0275fac=function(t){return new(t||d)(e.\u0275\u0275directiveInject(E.so),e.\u0275\u0275directiveInject(_.UntypedFormBuilder),e.\u0275\u0275directiveInject(y.sK),e.\u0275\u0275directiveInject(V.o),e.\u0275\u0275directiveInject(D.l),e.\u0275\u0275directiveInject(R.N),e.\u0275\u0275directiveInject(F.YI),e.\u0275\u0275directiveInject(E.WI),e.\u0275\u0275directiveInject(x.e))},d.\u0275cmp=e.\u0275\u0275defineComponent({type:d,selectors:[["ms-oscar-assign-program-dialog"]],decls:96,vars:85,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper","header-dialog"],[1,"p-grid"],[1,"w-30","no-padding"],["mat-icon-button","","svgIcon","clipboard-check",1,"mt-5px"],[1,"p-col-10","no-padding"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",3,"formGroup"],[1,"p-col-6","pad-y-none"],[1,"full-wid"],["matInput","","formControlName","scholarSeason","required","",3,"placeholder","matAutocomplete"],[4,"ngIf"],[3,"panelWidth"],["autoScholar","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["matInput","","formControlName","school","required","",3,"placeholder","matAutocomplete"],["autoSchool","matAutocomplete"],["matInput","","formControlName","campus","required","",3,"placeholder","matAutocomplete"],["autoCampus","matAutocomplete"],["matInput","","formControlName","level","required","",3,"placeholder","matAutocomplete"],["autoLevel","matAutocomplete"],["matInput","","formControlName","sector","required","",3,"placeholder","matAutocomplete"],["autoSector","matAutocomplete"],["matInput","","formControlName","speciality",3,"placeholder","matAutocomplete"],["autoSpeciality","matAutocomplete"],[3,"value","click",4,"ngIf"],["matInput","","formControlName","type_of_formation_id",3,"placeholder","matAutocomplete"],[3,"displayWith","panelWidth"],["autoFormation","matAutocomplete"],["matInput","","formControlName","devMember","required","",3,"placeholder","matAutocomplete"],["autoMember","matAutocomplete"],["class","inner-loading-indicator",4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end","mr-10"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-button","","mat-raised-button","","color","primary",1,"mr-0",3,"click"],[3,"value","click"],["floatLabel","auto"],["matInput","","formControlName","continuous_formation_manager_id",3,"placeholder","matAutocomplete"],["autoContinuousManager","matAutocomplete"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(t,s){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.\u0275\u0275element(4,"mat-icon",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",5)(6,"h3",6),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",7)(10,"button",8),e.\u0275\u0275listener("click",function(){return s.closeDialog()}),e.\u0275\u0275elementStart(11,"mat-icon"),e.\u0275\u0275text(12,"close"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(13,"div",9)(14,"div",2)(15,"div",10)(16,"mat-form-field",11),e.\u0275\u0275element(17,"input",12),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275template(19,P,3,3,"mat-error",13),e.\u0275\u0275elementStart(20,"mat-autocomplete",14,15),e.\u0275\u0275template(22,v,2,2,"mat-option",16),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(24,"div",10)(25,"mat-form-field",11),e.\u0275\u0275element(26,"input",17),e.\u0275\u0275pipe(27,"translate"),e.\u0275\u0275template(28,S,3,3,"mat-error",13),e.\u0275\u0275elementStart(29,"mat-autocomplete",14,18),e.\u0275\u0275template(31,o,2,2,"mat-option",16),e.\u0275\u0275pipe(32,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(33,"div",10)(34,"mat-form-field",11),e.\u0275\u0275element(35,"input",19),e.\u0275\u0275pipe(36,"translate"),e.\u0275\u0275template(37,O,3,3,"mat-error",13),e.\u0275\u0275elementStart(38,"mat-autocomplete",14,20),e.\u0275\u0275template(40,I,2,2,"mat-option",16),e.\u0275\u0275pipe(41,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(42,"div",10)(43,"mat-form-field",11),e.\u0275\u0275element(44,"input",21),e.\u0275\u0275pipe(45,"translate"),e.\u0275\u0275template(46,w,3,3,"mat-error",13),e.\u0275\u0275elementStart(47,"mat-autocomplete",14,22),e.\u0275\u0275template(49,$,2,2,"mat-option",16),e.\u0275\u0275pipe(50,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(51,"div",10)(52,"mat-form-field",11),e.\u0275\u0275element(53,"input",23),e.\u0275\u0275pipe(54,"translate"),e.\u0275\u0275template(55,G,3,3,"mat-error",13),e.\u0275\u0275elementStart(56,"mat-autocomplete",14,24),e.\u0275\u0275template(58,j,2,2,"mat-option",16),e.\u0275\u0275pipe(59,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(60,"div",10)(61,"mat-form-field",11),e.\u0275\u0275element(62,"input",25),e.\u0275\u0275pipe(63,"translate"),e.\u0275\u0275elementStart(64,"mat-autocomplete",14,26),e.\u0275\u0275template(66,Q,4,6,"mat-option",27),e.\u0275\u0275template(67,X,2,2,"mat-option",16),e.\u0275\u0275pipe(68,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(69,"div",10)(70,"mat-form-field",11),e.\u0275\u0275element(71,"input",28),e.\u0275\u0275pipe(72,"translate"),e.\u0275\u0275template(73,z,3,3,"mat-error",13),e.\u0275\u0275elementStart(74,"mat-autocomplete",29,30),e.\u0275\u0275template(76,J,3,4,"mat-option",16),e.\u0275\u0275pipe(77,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(78,te,10,9,"ng-container",13),e.\u0275\u0275elementStart(79,"div",10)(80,"mat-form-field",11),e.\u0275\u0275element(81,"input",31),e.\u0275\u0275pipe(82,"translate"),e.\u0275\u0275template(83,ie,3,3,"mat-error",13),e.\u0275\u0275elementStart(84,"mat-autocomplete",14,32),e.\u0275\u0275template(86,se,2,2,"mat-option",16),e.\u0275\u0275pipe(87,"async"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(88,ae,2,1,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(89,"div",34)(90,"button",35),e.\u0275\u0275listener("click",function(){return s.closeDialog()}),e.\u0275\u0275text(91),e.\u0275\u0275pipe(92,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(93,"button",36),e.\u0275\u0275listener("click",function(){return s.submit()}),e.\u0275\u0275text(94),e.\u0275\u0275pipe(95,"translate"),e.\u0275\u0275elementEnd()()),2&t){const n=e.\u0275\u0275reference(21),l=e.\u0275\u0275reference(30),a=e.\u0275\u0275reference(39),h=e.\u0275\u0275reference(48),f=e.\u0275\u0275reference(57),k=e.\u0275\u0275reference(65),Z=e.\u0275\u0275reference(75),re=e.\u0275\u0275reference(85);e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,47,"Assign program")),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",s.filterFormCtrl),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(18,49,"Scholar Season")),e.\u0275\u0275property("matAutocomplete",n),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.filterFormCtrl.get("scholarSeason").errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("panelWidth","fit"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(23,51,s.filteredScholar)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(27,53,"INTERN_FOLLOW_UP.School")),e.\u0275\u0275property("matAutocomplete",l),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.filterFormCtrl.get("school").errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("panelWidth","fit"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(32,55,s.filteredSchool)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(36,57,"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus")),e.\u0275\u0275property("matAutocomplete",a),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.filterFormCtrl.get("campus").errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("panelWidth","fit"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(41,59,s.filteredCampus)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(45,61,"ADMISSION.TABLE_ADMISSION_CHANNEL.Level")),e.\u0275\u0275property("matAutocomplete",h),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.filterFormCtrl.get("level").errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("panelWidth","fit"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(50,63,s.filteredLevel)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(54,65,"Sector")),e.\u0275\u0275property("matAutocomplete",f),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.filterFormCtrl.get("sector").errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("panelWidth","fit"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(59,67,s.filteredSector)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(63,69,"Speciality")),e.\u0275\u0275property("matAutocomplete",k),e.\u0275\u0275advance(2),e.\u0275\u0275property("panelWidth","fit"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.isDisplayNone),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(68,71,s.filteredSpeciality)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(72,73,"ADMISSION.Type Of formation")),e.\u0275\u0275property("matAutocomplete",Z),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.filterFormCtrl.get("type_of_formation_id").errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("displayWith",s.displayWithType.bind(s))("panelWidth","fit"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(77,75,s.filteredFormation)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.isContinous),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(82,77,"readmission"===(null==s.data?null:s.data.from)?"Academic Member":"Dev Member")),e.\u0275\u0275property("matAutocomplete",re),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.filterFormCtrl.get("devMember").errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("panelWidth","fit"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(87,79,s.filteredMember)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.isWaitingForResponse),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(92,81,"CANCEL")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(95,83,"Validate")," ")}},dependencies:[A.Zt,A.Bh,U.XC,U.ZL,W.ey,L.lW,E.xY,E.H8,B.Hw,N.TO,N.KE,H.Nt,K.Ou,_.DefaultValueAccessor,_.NgControlStatus,_.NgControlStatusGroup,_.RequiredValidator,_.FormGroupDirective,_.FormControlName,b.sg,b.O5,y.X$,b.Ov],styles:[".dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black}.no-padding[_ngcontent-%COMP%]{padding:0}.float-right[_ngcontent-%COMP%]{float:right}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.mat-dialog-content[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:15px}.w-30[_ngcontent-%COMP%]{width:30px}.w-65[_ngcontent-%COMP%]{width:65px}.mt-5px[_ngcontent-%COMP%]{margin-top:5px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}"]}),d})()},83515:(Y,M,m)=>{m.d(M,{w:()=>T});var u=m(15439),E=m(94650);let T=(()=>{class g{transform(c,p){return c?u(c,"HH:mm").add(-u().utcOffset(),"m").format("HH:mm"):""}transformDate(c,p){return c?u(c+p,"DD/MM/YYYYHH:mm").add(-u().utcOffset(),"m").format("DD/MM/YYYY"):""}transformDateTime(c,p){return c?u(c+p,"DD/MM/YYYYHH:mm").add(-u().utcOffset(),"m").format("DD/MM/YYYYHH:mm"):""}transformJavascriptDate(c){if(c){const p=u(c).format("DD/MM/YYYY"),r=u(c).format("HH:mm"),e=u(p+r,"DD/MM/YYYYHH:mm").add(-u().utcOffset(),"m");return{date:e.format("DD/MM/YYYY"),time:e.format("HH:mm")}}return""}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275pipe=E.\u0275\u0275definePipe({name:"parseLocalToUtc",type:g,pure:!0}),g})()},62416:(Y,M,m)=>{m.d(M,{t:()=>T});var u=m(15439),E=m(94650);let T=(()=>{class g{transform(c,p){return c?u(c,"HH:mm").subtract(-u().utcOffset(),"m").format("HH:mm"):""}transformAMPM(c,p){return c?u(c,"HH:mm").subtract(-u().utcOffset(),"m").format("HH:mm"):""}transformDate(c,p){if(c&&p)return u(c+p,"DD/MM/YYYYHH:mm").subtract(-u().utcOffset(),"m").format("DD/MM/YYYY")}transformDateInDateFormat(c,p){if(c&&p)return u(c+p,"DD/MM/YYYYHH:mm").subtract(-u().utcOffset(),"m")}fixDateFormat(c){if(c&&c.includes("-")){const p=c.split("-");c=`${p[2]}/${p[1]}/${p[0]}`}return c}fixDateFormatUtc(c){if(c&&c.includes("-")){const p=c.split("-");c=`${p[2].split("T")[0]}/${p[1]}/${p[0]}`}return c}fixTimeFormat(c){return c&&!c.includes(":")&&(c="00:00"),c}transformDateToJavascriptDate(c,p){if(c=this.fixDateFormat(c),p=this.fixTimeFormat(p),c&&p)return u(c+p,"DD/MM/YYYYHH:mm").subtract(-u().utcOffset(),"m").toDate()}transformDateToStringFormat(c,p){if(c&&p)return u(c+p,"DD/MM/YYYYHH:mm").subtract(-u().utcOffset(),"m").format("MMM DD, YYYY")}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275pipe=E.\u0275\u0275definePipe({name:"parseUtcToLocal",type:g,pure:!0}),g})()}}]);