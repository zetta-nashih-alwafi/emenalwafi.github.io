"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[1405],{11405:(_,f,h)=>{h.d(f,{YC:()=>C,e7:()=>w,to:()=>g});var t=h(94650),l=h(24006),m=h(36895);const d=["captchaWrapperElem"];let u=(()=>{class i{constructor(e,a,n,s){this.renderer=e,this.zone=a,this.injector=n,this.scriptService=s,this.captchaElemPrefix="ngx_captcha_id_",this.setupCaptcha=!0,this.useGlobalDomain=!1,this.type="image",this.tabIndex=0,this.success=new t.EventEmitter,this.load=new t.EventEmitter,this.reset=new t.EventEmitter,this.ready=new t.EventEmitter,this.error=new t.EventEmitter,this.expire=new t.EventEmitter,this.setupAfterLoad=!1,this.resetCaptchaAfterSuccess=!1,this.isLoaded=!1}ngAfterViewInit(){this.control=this.injector.get(l.NgControl).control}ngAfterViewChecked(){this.setupCaptcha&&(this.setupCaptcha=!1,this.setupComponent())}ngOnChanges(e){e&&e.hl&&!e.hl.firstChange&&e.hl.currentValue!==e.hl.previousValue&&this.scriptService.cleanup(),e&&e.useGlobalDomain&&!e.useGlobalDomain.firstChange&&e.useGlobalDomain.currentValue!==e.useGlobalDomain.previousValue&&this.scriptService.cleanup(),this.setupCaptcha=!0}getResponse(){return this.reCaptchaApi.getResponse(this.captchaId)}getCaptchaId(){return this.captchaId}resetCaptcha(){this.zone.run(()=>{this.reCaptchaApi.reset(),this.onChange(void 0),this.onTouched(void 0),this.reset.next()})}getCurrentResponse(){return this.currentResponse}reloadCaptcha(){this.setupComponent()}ensureCaptchaElem(e){const a=document.getElementById(e);if(!a)throw Error(`Captcha element with id '${e}' was not found`);this.captchaElem=a}renderReCaptcha(){this.zone.runOutsideAngular(()=>{this.captchaId=this.reCaptchaApi.render(this.captchaElemId,this.getCaptchaProperties()),this.ready.next()})}handleCallback(e){this.currentResponse=e,this.success.next(e),this.zone.run(()=>{this.onChange(e),this.onTouched(e)}),this.resetCaptchaAfterSuccess&&this.resetCaptcha()}getPseudoUniqueNumber(){return(new Date).getUTCMilliseconds()+Math.floor(9999*Math.random())}setupComponent(){this.captchaSpecificSetup(),this.createAndSetCaptchaElem(),this.scriptService.registerCaptchaScript(this.useGlobalDomain,"explicit",e=>{this.onloadCallback(e)},this.hl)}onloadCallback(e){if(this.reCaptchaApi=e,!this.reCaptchaApi)throw Error("ReCaptcha Api was not initialized correctly");this.isLoaded=!0,this.load.next(),this.renderReCaptcha(),this.setupAfterLoad&&(this.setupAfterLoad=!1,this.setupComponent())}generateNewElemId(){return this.captchaElemPrefix+this.getPseudoUniqueNumber()}createAndSetCaptchaElem(){if(this.captchaElemId=this.generateNewElemId(),!this.captchaElemId)throw Error("Captcha elem Id is not set");if(!this.captchaWrapperElem)throw Error("Captcha DOM element is not initialized");this.captchaWrapperElem.nativeElement.innerHTML="";const e=this.renderer.createElement("div");e.id=this.captchaElemId,this.renderer.appendChild(this.captchaWrapperElem.nativeElement,e),this.ensureCaptchaElem(this.captchaElemId)}writeValue(e){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}handleErrorCallback(){this.zone.run(()=>{this.onChange(void 0),this.onTouched(void 0)}),this.error.next()}handleExpireCallback(){this.expire.next(),this.resetCaptcha()}}return i.\u0275fac=function(e){t.\u0275\u0275invalidFactory()},i.\u0275dir=t.\u0275\u0275defineDirective({type:i,inputs:{useGlobalDomain:"useGlobalDomain",type:"type",tabIndex:"tabIndex",siteKey:"siteKey",hl:"hl"},outputs:{success:"success",load:"load",reset:"reset",ready:"ready",error:"error",expire:"expire"},features:[t.\u0275\u0275NgOnChangesFeature]}),i})();const o={InvisibleReCaptcha:0,ReCaptcha2:1};o[o.InvisibleReCaptcha]="InvisibleReCaptcha",o[o.ReCaptcha2]="ReCaptcha2";let p=(()=>{class i{constructor(e){this.zone=e,this.windowGrecaptcha="grecaptcha",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com"}registerCaptchaScript(e,a,n,s){if(this.grecaptchaScriptLoaded())return void this.zone.run(()=>{n(window[this.windowGrecaptcha])});window[this.windowOnLoadCallbackProperty]=()=>this.zone.run(n.bind(this,window[this.windowGrecaptcha]));const c=document.createElement("script");c.innerHTML="",c.src=this.getCaptchaScriptUrl(e,a,s),c.async=!0,c.defer=!0,document.getElementsByTagName("head")[0].appendChild(c)}cleanup(){window[this.windowOnLoadCallbackProperty]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(){return!(!window[this.windowOnLoadCallbackProperty]||!window[this.windowGrecaptcha])}getLanguageParam(e){return e?`&hl=${e}`:""}getCaptchaScriptUrl(e,a,n){return`https://www.${e?this.globalDomain:this.defaultDomain}/recaptcha/api.js?onload=${this.windowOnLoadCallbackProperty}&render=${a}${this.getLanguageParam(n)}`}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275inject(t.NgZone))},i.\u0275prov=t.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})(),g=(()=>{class i extends u{constructor(e,a,n,s){super(e,a,n,s),this.renderer=e,this.zone=a,this.injector=n,this.scriptService=s,this.windowOnErrorCallbackProperty="ngx_captcha_error_callback",this.windowOnExpireCallbackProperty="ngx_captcha_expire_callback",this.theme="light",this.size="normal",this.recaptchaType=o.ReCaptcha2}ngOnChanges(e){super.ngOnChanges(e)}ngOnDestroy(){window[this.windowOnErrorCallbackProperty]={},window[this.windowOnExpireCallbackProperty]={}}captchaSpecificSetup(){this.registerCallbacks()}getCaptchaProperties(){return{sitekey:this.siteKey,callback:e=>this.zone.run(()=>this.handleCallback(e)),"expired-callback":()=>this.zone.run(()=>this.handleExpireCallback()),"error-callback":()=>this.zone.run(()=>this.handleErrorCallback()),theme:this.theme,type:this.type,size:this.size,tabindex:this.tabIndex}}registerCallbacks(){window[this.windowOnErrorCallbackProperty]=super.handleErrorCallback.bind(this),window[this.windowOnExpireCallbackProperty]=super.handleExpireCallback.bind(this)}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(p))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ngx-recaptcha2"]],viewQuery:function(e,a){if(1&e&&t.\u0275\u0275viewQuery(d,5),2&e){let n;t.\u0275\u0275queryRefresh(n=t.\u0275\u0275loadQuery())&&(a.captchaWrapperElem=n.first)}},inputs:{theme:"theme",size:"size",hl:"hl"},features:[t.\u0275\u0275ProvidersFeature([{provide:l.NG_VALUE_ACCESSOR,useExisting:(0,t.forwardRef)(()=>i),multi:!0}]),t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature],decls:2,vars:0,consts:[["captchaWrapperElem",""]],template:function(e,a){1&e&&t.\u0275\u0275element(0,"div",null,0)},encapsulation:2}),i})(),C=(()=>{class i{constructor(e,a){this.scriptService=e,this.zone=a}execute(e,a,n,s){this.executeAsPromise(e,a,s).then(n)}executeAsPromise(e,a,n){return new Promise((s,c)=>{this.scriptService.registerCaptchaScript(!(!n||!n.useGlobalDomain),e,b=>{this.zone.runOutsideAngular(()=>{b.execute(e,{action:a}).then(y=>{this.zone.run(()=>{s(y)})}).catch(c)})})})}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275inject(p),t.\u0275\u0275inject(t.NgZone))},i.\u0275prov=t.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})(),w=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({providers:[p,C],imports:[m.ez]}),i})()}}]);