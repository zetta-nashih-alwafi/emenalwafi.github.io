"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[9494],{49494:(gt,B,m)=>{m.r(B),m.d(B,{ChequeTransactionModule:()=>Xe});var t=m(94650),_=m(36895),N=m(93730),R=m(37204),v=m(88796),z=m(30160),h=m(610),k=m(36224),f=m(3848),P=m(68745),_t=m(35226),b=m.n(_t),U=m(67154),T=m(94442),y=m(89383),Z=m(95017),c=m(24006),Y=m(98739),C=m(53626),tt=m(80013),g=m(17489),ft=m(91495),F=m(62416),E=m(10830),u=m(15439),M=m(65938),et=m(95321),nt=m(73555),it=m(3238),I=m(4859),S=m(99602),D=m(97392),O=m(59549),j=m(284),at=m(84385);function bt(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-option",36),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=l.$implicit;t.\u0275\u0275property("value",e.code),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,2,e.code)," ")}}let Ct=(()=>{class a{constructor(e,n,i,s,d,o,r){this.dialogRef=e,this.fb=n,this.translate=i,this.financeService=s,this.parseStringDatePipe=d,this.acadJourneyService=o,this.data=r,this.subs=new P.Y,this.isMainAddressSelected=!1,this.isStudentSelected=!1,this.isParentSelected=!1,this.isUncleSelected=!1,this.nationalitiesList=[],this.nationalList=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.currencyList=[],this.dummyData=[],this.termsList=[],this.financialList=[],this.toFilterList=[{value:"Student",key:"Student"},{value:"Finance Support",key:"Finance Support"}],this.bank=["BNP Paribas","Credit Agricole","BPCE","Societe Generale","Groupe Cr\xe9dit Mutuel","Cr\xe9dit Cooperatif","La Banque Postale","Cr\xe9dit du Nord","AXA Banque","Banque Palatine","HSBC France","CIC Banque Transatlantique","BRED Banque Populaire"],this.generalDepositPaid=!1,this.dataFinanceList=[]}ngOnInit(){this.today=new Date,this.iniVerificationForm(),this.subs.sink=this.acadJourneyService.getCurrency().subscribe(e=>{this.currencyList=e}),this.subs.sink=this.financeService.dataBilling.subscribe(e=>{e&&(this.dataBilling=e)}),this.subs.sink=this.financeService.dataCheque.subscribe(e=>{e&&(this.dummyData=e)}),this.getDataBilling()}iniVerificationForm(){this.identityForm=this.fb.group({payor:[null],student:[null],student_account:[null],amount:[null],financial_support:[null,c.Validators.required],currency:["EUR"],letter:[null],bank_name:[null],cheque_number:[""],date:[""],term_payment:this.fb.group({date:[""],time:[""]}),term_amount:[""],term_index:[""],term_type:[""],billing_id:[""],student_id:[""],index:[""]})}onWheel(e){e?.preventDefault()}getDataBilling(){const e=g.cloneDeep(this.dataBilling);if(this.mappingBilling=e.filter(n=>n.candidate_id).map(n=>({student_name:n.candidate_id.last_name+" "+n.candidate_id.first_name+" "+(n.candidate_id.civility?"neutral"===n.candidate_id.civility?"":this.translate.instant(n.candidate_id.civility):"")+" "+n.intake_channel.program,account_number:n.account_number,terms:n.terms,deposit:n.deposit,is_deposit_completed:n.is_deposit_completed,financial_supports:n.financial_supports,billing_id:n._id,student_id:n.candidate_id._id})),e.filter(n=>n.candidate_id).forEach(n=>{n.financial_supports&&n.financial_supports.length&&n.financial_supports.forEach(i=>{const s={finance:i.family_name+" "+i.name+" "+(i.civility?"neutral"===i.civility?"":this.translate.instant(i.civility):"")+" ("+this.translate.instant("CARDDETAIL.RELATION."+i.relation)+")",student_name:n.candidate_id.last_name+" "+n.candidate_id.first_name+" "+(n.candidate_id.civility?"neutral"===n.candidate_id.civility?"":this.translate.instant(n.candidate_id.civility):"")+" "+n.intake_channel,account_number:n.account_number,terms:n.terms,deposit:n.deposit,is_deposit_completed:n.is_deposit_completed,billing_id:n._id,student_id:n.candidate_id._id};this.financialList.push(s)})}),this.data&&this.data.student_id){const n=this.mappingBilling.filter(i=>i.student_id===this.data.student_id);n&&n.length&&this.studentSelected(n[0])}this.identityForm.patchValue(this.data)}studentSelected(e){this.identityForm.get("letter").setValue(null),this.identityForm.get("financial_support").setValue(null);const n=g.cloneDeep(this.dataBilling),i=e&&e.account_number?e.account_number:"",s=e&&e.billing_id?e.billing_id:"",d=e&&e.candidate_id?e.candidate_id:"";if(this.identityForm.get("student_account").setValue(i),this.identityForm.get("billing_id").setValue(s),this.identityForm.get("student_id").setValue(d),e){if(e.terms&&e.terms.length?(e.terms.forEach((o,r)=>{o.term=r+1}),this.termsList=e.terms.filter(o=>(!1===o.is_term_paid||o.term_amount!==o.term_pay_amount)&&0!==o.term_amount),this.termsList=this.termsList.sort((o,r)=>u.utc(o.term_payment_deferment).diff(u.utc(r.term_payment_deferment))),this.termsList=this.termsList.map(o=>({name:this.translate.instant("terms")+" "+o.term+" "+(o.term_payment.date?" - "+o.term_payment.date:"")+" "+(o.term_amount-o.term_pay_amount<=0?" ":" - "+(o.term_amount-o.term_pay_amount)+" \u20ac"),term_amount:o.term_amount,term_index:o.term,term_type:"term",term_payment:{date:o.term_payment.date,time:o.term_payment.time}}))):this.termsList=[],e&&e.is_deposit_completed)this.generalDepositPaid=!0;else{const o={name:this.translate.instant("Down Payment"),term_type:"deposit"};this.termsList.push(o)}e.financial_supports&&e.financial_supports.length?this.financialList=e.financial_supports.map(o=>({finance:o.family_name+" "+o.name+" "+(o.civility?"neutral"===o.civility?"":this.translate.instant(o.civility):"")+" ("+this.translate.instant("CARDDETAIL.RELATION."+o.relation)+")",student_name:e.student_name,account_number:e.account_number,terms:e.terms,deposit:e.deposit,is_deposit_completed:e.is_deposit_completed,billing_id:e.billing_id,student_id:e.candidate_id})):this.financialList.push({finance:e.student_name,student_name:e.student_name,account_number:e.account_number,terms:e.terms,deposit:e.deposit,is_deposit_completed:e.is_deposit_completed,billing_id:e.billing_id,student_id:e.candidate_id})}else this.termsList=[],this.financialList=[],this.identityForm.get("financial_support").setValue(null),this.identityForm.get("letter").setValue(null),this.identityForm.get("billing_id").setValue(""),n.forEach(o=>{o.financial_supports&&o.financial_supports.length&&o.financial_supports.forEach(r=>{const p={finance:r.family_name+" "+r.name+" "+(r.civility?"neutral"===r.civility?"":this.translate.instant(r.civility):"")+" ("+this.translate.instant("CARDDETAIL.RELATION."+r.relation)+")",student_name:o.candidate_id.last_name+" "+o.candidate_id.first_name+" "+(o.candidate_id.civility?"neutral"===o.candidate_id.civility?"":this.translate.instant(o.candidate_id.civility):"")+" "+o.intake_channel,account_number:o.account_number,terms:o.terms,deposit:o.deposit,is_deposit_completed:o.is_deposit_completed,billing_id:o._id,student_id:o.candidate_id._id};this.financialList.push(p)})})}financeSelected(e){if(!this.identityForm.get("student").value){const n=e&&e.account_number?e.account_number:"",i=e&&e.student_name?e.student_name:"",s=e&&e.billing_id?e.billing_id:"",d=e&&e.candidate_id?e.candidate_id:"";if(this.identityForm.get("student_account").setValue(n),this.identityForm.get("student").setValue(i),this.identityForm.get("billing_id").setValue(s),this.identityForm.get("student_id").setValue(d),e)if(e.terms&&e.terms.length?(e.terms.forEach((o,r)=>{o.term=r+1}),this.termsList=e.terms.filter(o=>(!1===o.is_term_paid||o.term_amount!==o.term_pay_amount)&&0!==o.term_amount),this.termsList=this.termsList.sort((o,r)=>u.utc(o.term_payment_deferment).diff(u.utc(r.term_payment_deferment))),this.termsList=this.termsList.map(o=>({name:this.translate.instant("terms")+" "+o.term+" "+(o.term_payment.date?" - "+o.term_payment.date:"")+" "+(o.term_amount-o.term_pay_amount<=0?" ":" - "+(o.term_amount-o.term_pay_amount)+" \u20ac"),term_amount:o.term_amount,term_index:o.term,term_type:"term",term_payment:{date:o.term_payment.date,time:o.term_payment.time}}))):this.termsList=[],e&&e.is_deposit_completed)this.generalDepositPaid=!0;else{const o={name:this.translate.instant("Down Payment"),term_type:"deposit"};this.termsList.push(o)}}}letterSelected(e){if(e){const n=e.map(i=>i.term_index);this.identityForm.get("term_index").setValue(n)}else this.identityForm.get("term_index").setValue(null);if(e){const n=e.map(r=>r.term_amount),i=e.filter(r=>r&&r.term_index).map(r=>r.term_index.toString()),s=e.filter(r=>r&&r.term_payment&&r.term_payment.date).map(r=>r.term_payment.date.toString()),d=e.filter(r=>r&&r.term_payment&&r.term_payment.time).map(r=>r.term_payment.time.toString()),o=e.filter(r=>r&&r.term_type).map(r=>r.term_type);this.identityForm.get("term_amount").setValue(n),this.identityForm.get("term_index").setValue(i),this.identityForm.get("term_type").setValue(o),this.identityForm.get("term_payment").get("date").setValue(s),this.identityForm.get("term_payment").get("time").setValue(d)}else this.identityForm.get("term_amount").setValue(null),this.identityForm.get("term_index").setValue(null),this.identityForm.get("term_type").setValue(null),this.identityForm.get("term_payment").get("date").setValue(null),this.identityForm.get("term_payment").get("time").setValue(null)}submitVerification(){const e=g.cloneDeep(this.identityForm.value);this.dummyData[e.index]=e,this.financeService.setDataCheque(this.dummyData),this.dialogRef.close()}closeDialog(){this.dialogRef.close()}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}}return a.\u0275fac=function(e){return new(e||a)(t.\u0275\u0275directiveInject(M.so),t.\u0275\u0275directiveInject(c.UntypedFormBuilder),t.\u0275\u0275directiveInject(y.sK),t.\u0275\u0275directiveInject(T.N),t.\u0275\u0275directiveInject(E.n),t.\u0275\u0275directiveInject(et.g),t.\u0275\u0275directiveInject(M.WI))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["ms-cheque-edit-dialog"]],features:[t.\u0275\u0275ProvidersFeature([E.n])],decls:87,vars:55,consts:[[1,"dialog-border"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],[2,"vertical-align","middle"],[1,"p-col-10","acad-title"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding"],[1,"p-col","no-padding"],[1,"p-col-3","pad-y-none"],[1,"p-grid","baseline",2,"width","45%","display","inline-block","margin-right","7px !important"],["floatLabel","never"],["matInput","","readonly","","formControlName","date",3,"placeholder","matDatepicker","click"],["matSuffix","",3,"for"],["myDatepickers",""],[1,"p-grid","baseline",2,"width","52%","display","inline-block"],["matInput","","formControlName","cheque_number","type","text"],[1,"p-grid","baseline"],["formControlName","bank_name",1,"mrgn-btn",2,"width","100%",3,"appendTo","items","multiple","placeholder"],[1,"p-grid","baseline",2,"width","60%","display","inline-block","margin-right","7px !important"],["matInput","","formControlName","amount","type","number",3,"wheel"],[1,"p-grid","baseline",2,"width","35%","display","inline-block"],["formControlName","currency"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","payor","type","text"],["bindLabel","student_name","bindValue","student_name","formControlName","student",1,"mrgn-btn",2,"width","100%",3,"appendTo","items","multiple","placeholder","change"],["matInput","","formControlName","student_account","type","text"],["bindLabel","finance","bindValue","finance","formControlName","financial_support",1,"mrgn-btn",2,"width","100%",3,"appendTo","items","multiple","placeholder","change"],["bindLabel","name","bindValue","name","formControlName","letter",1,"mrgn-btn",2,"width","100%",3,"appendTo","items","multiple","placeholder","change"],["align","center"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(e,n){if(1&e){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5,"euro"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",5)(7,"h3",6),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",7)(11,"button",8)(12,"mat-icon"),t.\u0275\u0275text(13,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(14,"form",9)(15,"div",10)(16,"mat-dialog-content")(17,"div",11)(18,"div",2)(19,"div",12)(20,"div",2)(21,"div",13)(22,"div",14)(23,"mat-form-field",15)(24,"input",16),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const d=t.\u0275\u0275reference(28);return t.\u0275\u0275resetView(d.open())}),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(26,"mat-datepicker-toggle",17)(27,"mat-datepicker",null,18),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(29,"div",19)(30,"mat-form-field")(31,"mat-label"),t.\u0275\u0275text(32),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(34,"input",20),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(35,"div",13)(36,"div",21),t.\u0275\u0275element(37,"ng-select",22),t.\u0275\u0275pipe(38,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(39,"div",13)(40,"div",23)(41,"mat-form-field")(42,"mat-label"),t.\u0275\u0275text(43),t.\u0275\u0275pipe(44,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(45,"input",24),t.\u0275\u0275listener("wheel",function(d){return n.onWheel(d)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(46,"div",25)(47,"mat-form-field",15)(48,"mat-label"),t.\u0275\u0275text(49),t.\u0275\u0275pipe(50,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(51,"mat-select",26),t.\u0275\u0275template(52,bt,3,4,"mat-option",27),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(53,"div",13)(54,"div",21)(55,"mat-form-field")(56,"mat-label"),t.\u0275\u0275text(57),t.\u0275\u0275pipe(58,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(59,"input",28),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(60,"div",2)(61,"div",13)(62,"div",21)(63,"ng-select",29),t.\u0275\u0275listener("change",function(d){return n.studentSelected(d)}),t.\u0275\u0275pipe(64,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(65,"div",13)(66,"div",21)(67,"mat-form-field")(68,"mat-label"),t.\u0275\u0275text(69),t.\u0275\u0275pipe(70,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(71,"input",30),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(72,"div",13)(73,"div",21)(74,"ng-select",31),t.\u0275\u0275listener("change",function(d){return n.financeSelected(d)}),t.\u0275\u0275pipe(75,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(76,"div",13)(77,"div",21)(78,"ng-select",32),t.\u0275\u0275listener("change",function(d){return n.letterSelected(d)}),t.\u0275\u0275pipe(79,"translate"),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275elementStart(80,"mat-dialog-actions",33)(81,"button",34),t.\u0275\u0275text(82),t.\u0275\u0275pipe(83,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(84,"button",35),t.\u0275\u0275listener("click",function(){return n.submitVerification()}),t.\u0275\u0275text(85),t.\u0275\u0275pipe(86,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&e){const i=t.\u0275\u0275reference(28);t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,29,"Modify Cheque")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",n.identityForm),t.\u0275\u0275advance(10),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(25,31,"Date")),t.\u0275\u0275property("matDatepicker",i),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",i),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(33,33,"Chq Nber")),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(38,35,"Bank")),t.\u0275\u0275property("appendTo","body")("items",n.bank)("multiple",!1),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(44,37,"Amount")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(50,39,"Curr.")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",n.currencyList),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(58,41,"Ref payor"),""),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(64,43,"Student"),"*"),t.\u0275\u0275property("appendTo","body")("items",n.mappingBilling)("multiple",!1),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(70,45,"Student Account")),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(75,47,"Financial Support")),t.\u0275\u0275property("appendTo","body")("items",n.financialList)("multiple",!1),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(79,49,"Lettering")),t.\u0275\u0275property("appendTo","body")("items",n.termsList)("multiple",!0),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(83,51,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(86,53,"Save")," ")}},dependencies:[nt.Zt,nt.Bh,it.ey,I.lW,S.Mq,S.hl,S.nW,M.ZT,M.xY,M.H8,D.Hw,O.KE,O.hX,O.R9,j.Nt,at.gD,c.\u0275NgNoValidate,c.DefaultValueAccessor,c.NumberValueAccessor,c.NgControlStatus,c.NgControlStatusGroup,c.FormGroupDirective,c.FormControlName,_.sg,v.w9,y.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-131px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}.header-who[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.icon-who[_ngcontent-%COMP%]{width:30px;float:left;padding-top:0!important}.name-who[_ngcontent-%COMP%]{display:inline-block;text-align:center;margin-right:0!important;width:240px}.card-selected[_ngcontent-%COMP%]{background-color:#fdd835}.card[_ngcontent-%COMP%]{width:340px;padding-bottom:3px!important;padding:10px;vertical-align:middle;border:1px solid #252525;border-radius:4px;text-align:center;align-self:center;display:inline-block;margin-top:10px;cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-select-container{color:#000;background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#000;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}"]}),a})();var L=m(83515),ot=m(31698),H=m(79710),A=m(96334),yt=m(56709),W=m(51572),xt=m(96308),V=m(10266),vt=m(24784);const Ot=function(a,l){return{"icon-true":a,"icon-false":l}};function Pt(a,l){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",55)(1,"div",56)(2,"div",57)(3,"button",58)(4,"mat-icon",49),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"button",59),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.confirmCheque())}),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"button",60),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275element(15,"mat-icon",61),t.\u0275\u0275text(16),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(4),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(20,Ot,e.confirmed,!e.confirmed)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.confirmed?"\u2714":"\u2a2f"," "),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.confirmed?t.\u0275\u0275pipeBind1(7,8,"Confirmed"):t.\u0275\u0275pipeBind1(8,10,"Not Confirmed")," "),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(10,12,"I Confirm")),t.\u0275\u0275property("disabled",e.confirmed||!(null!=e.dummyData&&e.dummyData.length)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(12,14,"I Confirm")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(14,16,"Reset Filter")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(17,18,"Reset")," ")}}function Mt(a,l){1&a&&t.\u0275\u0275element(0,"th",62)}function St(a,l){1&a&&t.\u0275\u0275element(0,"th",63)}function wt(a,l){1&a&&t.\u0275\u0275element(0,"th",63)}function kt(a,l){1&a&&t.\u0275\u0275element(0,"th",63)}function Et(a,l){1&a&&t.\u0275\u0275element(0,"th",63)}function Tt(a,l){1&a&&t.\u0275\u0275element(0,"th",63)}function Ft(a,l){1&a&&t.\u0275\u0275element(0,"th",63)}function It(a,l){1&a&&t.\u0275\u0275element(0,"th",63)}function Dt(a,l){1&a&&t.\u0275\u0275element(0,"th",63)}function Bt(a,l){1&a&&t.\u0275\u0275element(0,"th",63)}function Lt(a,l){1&a&&t.\u0275\u0275element(0,"th",63)}function At(a,l){1&a&&t.\u0275\u0275element(0,"th",62)}function Vt(a,l){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",62)(1,"mat-checkbox",64),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?s.masterToggle():null)}),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function qt(a,l){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",65)(1,"mat-checkbox",66),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){const d=t.\u0275\u0275restoreView(e).$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?o.selection.toggle(d):null)}),t.\u0275\u0275elementEnd()()}if(2&a){const e=l.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(e))}}function Nt(a,l){1&a&&(t.\u0275\u0275elementStart(0,"th",67),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Date")))}function Rt(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"td",68),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=l.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.translateDates(null==e?null:e.date)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(n.translateDates(null==e?null:e.date))}}function zt(a,l){1&a&&(t.\u0275\u0275elementStart(0,"th",67),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Bank")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Bank")))}function Ut(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"td",68),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=l.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.bank_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e?null:e.bank_name)}}function Yt(a,l){1&a&&(t.\u0275\u0275elementStart(0,"th",67),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Chq Nber")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Chq Nber")))}function jt(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"td",68),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=l.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.cheque_number),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e?null:e.cheque_number)}}function Ht(a,l){1&a&&(t.\u0275\u0275elementStart(0,"th",67),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Payor")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Payor")))}function Wt(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"td",68),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=l.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.payor),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e?null:e.payor)}}function $t(a,l){1&a&&(t.\u0275\u0275elementStart(0,"th",67),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Student")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Student")))}function Gt(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"td",68),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=l.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.student),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e?null:e.student)}}function Qt(a,l){1&a&&(t.\u0275\u0275elementStart(0,"th",67),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Student Account")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Student Account")))}function Kt(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"td",68),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=l.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.student_account),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e?null:e.student_account)}}function Xt(a,l){1&a&&(t.\u0275\u0275elementStart(0,"th",67),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Financial Support")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Financial Support")))}function Jt(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"td",68),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=l.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.financial_support),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e?null:e.financial_support)}}function Zt(a,l){1&a&&(t.\u0275\u0275elementStart(0,"th",67),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Amount")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Amount")))}function te(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"td",68),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=l.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.formatNumber(null==e?null:e.amount)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(n.formatNumber(null==e?null:e.amount))}}function ee(a,l){1&a&&(t.\u0275\u0275elementStart(0,"th",67),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Curr.")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Curr.")))}function ne(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"td",68),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=l.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.currency),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e?null:e.currency)}}function ie(a,l){1&a&&(t.\u0275\u0275elementStart(0,"th",67),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Lettering")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Lettering")))}function ae(a,l){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",71),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&a){const e=l.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e)}}function oe(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"td",69),t.\u0275\u0275template(1,ae,3,1,"ng-container",70),t.\u0275\u0275elementEnd()),2&a){const e=l.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.renderTooltipEntity(e.letter)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.letter)}}function re(a,l){1&a&&(t.\u0275\u0275elementStart(0,"th",67),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function le(a,l){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",72)(1,"button",73),t.\u0275\u0275listener("click",function(){const s=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.editChequeTransaction(s))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"mat-icon"),t.\u0275\u0275text(4,"edit"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"button",73),t.\u0275\u0275listener("click",function(){const s=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.deleteStudent(s))}),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"close"),t.\u0275\u0275elementEnd()()()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,4,"Edit")),t.\u0275\u0275property("disabled",e.confirmed),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(6,6,"Delete")),t.\u0275\u0275property("disabled",e.confirmed)}}function se(a,l){1&a&&(t.\u0275\u0275elementStart(0,"th",74)(1,"div",75),t.\u0275\u0275element(2,"mat-spinner",76),t.\u0275\u0275elementEnd()())}function de(a,l){1&a&&t.\u0275\u0275element(0,"tr",77)}function ce(a,l){1&a&&t.\u0275\u0275element(0,"tr",77)}function me(a,l){1&a&&t.\u0275\u0275element(0,"tr",77)}function pe(a,l){if(1&a&&t.\u0275\u0275element(0,"tr",78),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isLoading)}}function he(a,l){if(1&a&&t.\u0275\u0275element(0,"tr",79),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isLoading)}}const rt=function(a){return{hide:a}};function ue(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"div",80),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,rt,e.isLoading)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"NOT RECORD FOUND")," ")}}const ge=function(){return["table-action"]},_e=function(){return["loading"]},fe=function(a){return{"hide-pagination-buttons":a}},be=function(){return[10]};let Ce=(()=>{class a{constructor(e,n,i,s,d,o,r,p,x){this.candidatesHistoryService=e,this.candidateService=n,this.dialog=i,this.financeService=s,this.parseUTCToLocalPipe=d,this.parseStringDatePipe=o,this.translate=r,this.parseLocalToUTCPipe=p,this.coreService=x,this.displayedColumns=["select","date","bank","cheaqueNumber","payor","student","studentAccount","financialSupport","amount","curr","lettering","action"],this.filterColumns=["selectFilter","dateFilter","bankFilter","cheaqueNumberFilter","payorFilter","studentFilter","studentAccountFilter","financialSupportFilter","amountFilter","currFilter","letteringFilter","actionFilter"],this.tutorialIcon="../../assets/img/tutorial.png",this.candidateFilter=new c.UntypedFormControl(""),this.nationalityFilter=new c.UntypedFormControl("AllF"),this.intakeChannelFilter=new c.UntypedFormControl("AllF"),this.preEngagementLevelFilter=new c.UntypedFormControl("AllM"),this.engagementLevelFilter=new c.UntypedFormControl("AllM"),this.actionFilter=new c.UntypedFormControl("AllF"),this.notificationFilter=new c.UntypedFormControl(""),this.actionByFilter=new c.UntypedFormControl(""),this.dateFilter=new c.UntypedFormControl(""),this.timeFilter=new c.UntypedFormControl(""),this.admissionMemberFilter=new c.UntypedFormControl(""),this.selection=new Z.Ov(!0,[]),this.nationalityFilterList=[{value:"All",key:"AllF"},{value:"FR",key:"French"},{value:"US",key:"American"},{value:"GB",key:"United Kingdom"}],this.intakeChannelFilterList=[{value:"AllF",key:"AllF"},{value:"20-21_EFAPAR_1",key:"20-21 EFAPAR 1"},{value:"21-22_EFATOU_2",key:"21-22 EFATOU 2"},{value:"20-21_ICABOR_1",key:"20-21 ICABOR 1"}],this.actionFilterList=[{value:"AllF",key:"AllF"},{value:"wap_sms",key:"Whatsapp or SMS"},{value:"email",key:"Email"},{value:"note",key:"Note"}],this.engagementLevelFilterList=[{value:"AllM",key:"AllM"},{value:"lost",key:"Lost"},{value:"low",key:"Low"},{value:"medium",key:"Medium"},{value:"high",key:"High"},{value:"registered",key:"Registered"}],this.filteredValues={candidate:"",nationality:"",intake_channel:"",engagement_level:"",action:"",admission_member:"",email_address:""},this.maleIcon="../../../../../assets/img/student_icon.png",this.femaleIcon="../../../../../assets/img/student_icon_fem.png",this.greenHeartIcon="../../../../../assets/img/enagement_icon_green.png",this.flagsIconPath="../../../../../assets/icons/flags/",this.dataSource=new C.by([]),this.config={disableClose:!0,width:"600px"},this.dataCount=0,this.subs=new P.Y,this.isReset=!1,this.dataLoaded=!1,this.sortValue=null,this.disableExport=!0,this.disableToday=!0,this.disableYesterday=!0,this.disableLast7Days=!0,this.disableLast30Days=!0,this.confirmed=!1,this.disableThisMonth=!0,this.titleList=[],this.originalTitleList=[],this.schoolList=[],this.dataBilling=[],this.originalCandidateList=[],this.dummyData=[],this.stepData=[]}ngOnInit(){this.subs.sink=this.financeService.dataCheque.subscribe(e=>{e&&(this.dummyData=e,this.getCandidatesHistoryData())}),this.subs.sink=this.financeService.dataBilling.subscribe(e=>{e&&(this.dataBilling=e)}),this.subs.sink=this.financeService.confirmed.subscribe(e=>{this.confirmed=e}),this.subs.sink=this.financeService.dataChequeEnitty.subscribe(e=>{this.dataEntityCheque=e}),this.subs.sink=this.financeService.allDataCheque.subscribe(e=>{this.stepData=e})}ngOnDestroy(){this.subs.unsubscribe()}renderTooltipEntity(e){let n="",i=0;for(const s of e)i++,i>1?s&&(n+=", ",n+=s):s&&(n+=s);return n}getCandidatesHistoryData(){this.dataSource.data=this.dummyData,this.paginator.length=this.dummyData&&this.dummyData.length?this.dummyData.length:0,this.dataCount=this.dummyData&&this.dummyData.length?this.dummyData.length:0}isAllSelected(){const e=this.selection.selected.length,n=this.dataSource.data.length;return e?this.enableAllTopActions():this.disableAllTopActions(),e===n}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e)),this.selection.hasValue()&&!this.isAllSelected()?this.enableAllTopActions():this.disableAllTopActions()}confirmCheque(){this.confirmed=!0,this.financeService.setConfirmation(!0),this.financeService.setDataCheque(this.dummyData)}initFilter(){this.subs.sink=this.candidateFilter.valueChanges.pipe((0,tt.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.candidateFilter.setValue(""),this.filteredValues.candidate="",this.paginator.pageIndex=0,this.isReset||this.getCandidatesHistoryData()):(this.filteredValues.candidate=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getCandidatesHistoryData())})}translateDates(e){return u(e,"DD/MM/YYYY").format("DD/MM/YYYY")}disableAllTopActions(){this.disableExport=!0,this.disableToday=!0,this.disableYesterday=!0,this.disableLast7Days=!0,this.disableLast30Days=!0,this.disableThisMonth=!0}enableAllTopActions(){this.disableExport=!1,this.disableToday=!1,this.disableYesterday=!1,this.disableLast7Days=!1,this.disableLast30Days=!1,this.disableThisMonth=!1}cleanFilterData(){const e=g.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(i=>{e[i]&&(n+="full_name"===i||"candidate_id"===i?` ${i}:"${e[i]}"`:` ${i}:${e[i]}`)}),n}lettrageDialog(e){const n=this.dummyData.reduce((i,s)=>(s.accounting_document&&(i+=1),i),0);e.student_ids=g.uniqBy(e.student_ids,"_id"),this.subs.sink=this.dialog.open(ft.U,{width:"800px",minHeight:"100px",disableClose:!0,data:{...e,totalStudentAssigned:n}}).afterClosed().subscribe(i=>{if(i&&i._id){const s=this.dummyData.findIndex(d=>d._id===i._id);this.dummyData[s]=i,this.getCandidatesHistoryData()}})}isAllDataGreen(){let e=!0;for(const n of this.dummyData)if(!n.letter){e=!1;break}return e}formatPayload(){const e=g.cloneDeep(this.dummyData);return e.forEach(n=>{n.student_id=n.candidate_id._id,delete n.student_ids}),e}validateData(){console.log("Data Payload",this.dummyData,this.dataEntityCheque,this.stepData);const e={legal_entity:this.dataEntityCheque.legal_id,bank:this.dataEntityCheque.bank_name,account_number:this.dataEntityCheque.accounting_account,cheque_details:[],status:"active"},n=this.dummyData.map(i=>({cheque_number:i.cheque_number,currency:i.currency,amount:i.amount,cheque_date:{date:u(i.date,"DD/MM/YYYY").format("DD/MM/YYYY"),time:"15:59"},bank:i.bank_name,financial_supports:i.financial_support,payer:i.payor,student_id:i.student_id,billing_id:i.billing_id,letterage:[]}));e.cheque_details=n,e.cheque_details.forEach(i=>{i.cheque_date.date=this.parseLocalToUTCPipe.transformDate(i.cheque_date.date,"15:59")}),this.dummyData.forEach(i=>{const s=[],d=[];i.term_amount&&i.term_amount.length&&(i.term_amount.forEach((r,p)=>{if(r){const w={term_payment:{date:i.term_payment.date[p],time:i.term_payment.time[p]},term_amount:i.term_amount[p],term_index:parseInt(i.term_index[p])-1,term_type:i.term_type[p]};s.push(w)}else{const w={term_payment:null,term_amount:0,term_index:parseInt(i.term_index[p])-1,term_type:i.term_type[p]};s.push(w)}}),d.push({letterage:s,billing_id:i.billing_id}),e.cheque_details.forEach(r=>{d&&d.length&&d.forEach(p=>{r.billing_id===p.billing_id&&(r.letterage=p.letterage)})}))}),this.subs.sink=this.financeService.CreateCheque(e).subscribe(i=>{this.financeService.setStatusStepThreeCheque(!0),this.financeService.setCurrentStep(3),b().fire({type:"success",title:"Bravo !"})},i=>{i&&i.message&&i.message.includes("Network error: Http failure response for")?b().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):b().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}formatNumber(e){let n="";return e&&(n=parseInt(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$& "),n=n.toString().slice(0,-3)),n}deleteStudent(e){b().fire({type:"warning",title:this.translate.instant("REMOVE_CHEQUE.TITLE"),html:this.translate.instant("REMOVE_CHEQUE.TEXT",{candidateName:e.student}),showCancelButton:!0,allowEscapeKey:!0,allowOutsideClick:!1,reverseButtons:!0,confirmButtonText:this.translate.instant("REMOVE_CHEQUE.BUTTON_1"),cancelButtonText:this.translate.instant("REMOVE_CHEQUE.BUTTON_2")}).then(n=>{n.value&&(this.dummyData.splice(e.index,1),this.getCandidatesHistoryData(),b().fire({type:"success",text:this.translate.instant("Cheque deleted"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("PAYMENT_FOLLOW_S5.BUTTON")}).then(i=>{}))})}editChequeTransaction(e){this.subs.sink=this.dialog.open(Ct,{width:"1350px",minHeight:"100px",disableClose:!0,data:e}).afterClosed().subscribe(n=>{})}previous(){this.financeService.setCurrentStep(1)}translateDate(e,n){if(e){const s=this.parseStringDatePipe.transformStringToDate(this.parseUTCToLocalPipe.transformDate(e,n||"15:59"));return u(s,"DD/MM/YYYY").format("DD/MM/YY")}return""}toggleSidebar(){this.coreService.sidenavOpen&&(this.coreService.sidenavOpen=!this.coreService.sidenavOpen),this.coreService.sidenavTutorialOpen=!this.coreService.sidenavTutorialOpen}}return a.\u0275fac=function(e){return new(e||a)(t.\u0275\u0275directiveInject(ot.m),t.\u0275\u0275directiveInject(H.o),t.\u0275\u0275directiveInject(M.uw),t.\u0275\u0275directiveInject(T.N),t.\u0275\u0275directiveInject(F.t),t.\u0275\u0275directiveInject(E.n),t.\u0275\u0275directiveInject(y.sK),t.\u0275\u0275directiveInject(L.w),t.\u0275\u0275directiveInject(A.p))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["ms-confirmation-step"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(Y.NW,7),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.paginator=i.first)}},features:[t.\u0275\u0275ProvidersFeature([F.t,E.n,L.w])],decls:98,vars:37,consts:[[1,"p-grid",2,"margin-bottom","5px","border-bottom","1px solid #4e4e4e"],[1,"p-col-12",2,"padding-left","10px"],[2,"width","20px","float","left","padding","4px 0px 0px 0px","margin-right","10px"],[2,"font-size","16px"],[1,"titleImport"],["mat-button","",2,"margin-left","10px !important","line-height","16px","margin","0px","padding","0px !important",3,"matTooltip","click"],[2,"font-size","16px","width","65px","position","relative",3,"src"],[1,"top-space"],[1,"horizontal"],["mat-table","","matSort","",1,"mat-elevation-z8",2,"font-family","firaSans",3,"dataSource"],["matColumnDef","table-action"],["mat-header-cell","","colspan","14","class","action-header-column",4,"matHeaderCellDef"],["matColumnDef","selectFilter",1,"mat-column-select"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["matColumnDef","dateFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","bankFilter"],["matColumnDef","cheaqueNumberFilter"],["matColumnDef","payorFilter"],["matColumnDef","studentFilter"],["matColumnDef","studentAccountFilter"],["matColumnDef","financialSupportFilter"],["matColumnDef","amountFilter"],["matColumnDef","currFilter"],["matColumnDef","letteringFilter"],["matColumnDef","actionFilter"],["matColumnDef","select",1,"mat-column-select"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","date"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","bank"],["matColumnDef","cheaqueNumber"],["matColumnDef","payor"],["matColumnDef","student"],["matColumnDef","studentAccount"],["matColumnDef","financialSupport"],["matColumnDef","amount"],["matColumnDef","curr"],["matColumnDef","lettering"],["mat-cell","","class","tag-container",3,"matTooltip",4,"matCellDef"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","14","style","text-align: center !important",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",3,"ngClass",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],[1,"p-grid","mrgn-t-sm",2,"margin-bottom","20px !important","margin-top","10px !important"],[1,"p-col-12",2,"text-align","right","padding","0px"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","accent",1,"margin-right-0",3,"disabled","click"],["mat-header-cell","","colspan","14",1,"action-header-column"],[1,"p-grid"],[1,"p-col-12","text-right"],["color","accent","mat-raised-button",""],["color","accent","mat-raised-button","",3,"disabled","matTooltip","click"],["color","primary","mat-raised-button","",3,"matTooltip"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell","",1,"text-center"],["mat-header-cell",""],[3,"checked","indeterminate","change"],["mat-cell","",1,"text-center"],[3,"checked","click","change"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-cell","",3,"matTooltip"],["mat-cell","",1,"tag-container",3,"matTooltip"],[4,"ngFor","ngForOf"],[1,"tags"],["mat-cell",""],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"disabled","matTooltip","click"],["mat-header-cell","","colspan","14",2,"text-align","center !important"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records",3,"ngClass"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"span")(4,"mat-icon",3),t.\u0275\u0275text(5,"account_balance"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(6,"div")(7,"span",4),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"button",5),t.\u0275\u0275listener("click",function(){return n.toggleSidebar()}),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275element(12,"img",6),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(13,"div",7)(14,"div",8)(15,"table",9),t.\u0275\u0275elementContainerStart(16,10),t.\u0275\u0275template(17,Pt,18,23,"th",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,12),t.\u0275\u0275template(19,Mt,1,0,"th",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,14),t.\u0275\u0275template(21,St,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,16),t.\u0275\u0275template(23,wt,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,17),t.\u0275\u0275template(25,kt,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(26,18),t.\u0275\u0275template(27,Et,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(28,19),t.\u0275\u0275template(29,Tt,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(30,20),t.\u0275\u0275template(31,Ft,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(32,21),t.\u0275\u0275template(33,It,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(34,22),t.\u0275\u0275template(35,Dt,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(36,23),t.\u0275\u0275template(37,Bt,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(38,24),t.\u0275\u0275template(39,Lt,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(40,25),t.\u0275\u0275template(41,At,1,0,"th",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(42,26),t.\u0275\u0275template(43,Vt,2,2,"th",13),t.\u0275\u0275template(44,qt,2,1,"td",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(45,28),t.\u0275\u0275template(46,Nt,5,6,"th",29),t.\u0275\u0275template(47,Rt,2,2,"td",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(48,31),t.\u0275\u0275template(49,zt,5,6,"th",29),t.\u0275\u0275template(50,Ut,2,2,"td",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(51,32),t.\u0275\u0275template(52,Yt,5,6,"th",29),t.\u0275\u0275template(53,jt,2,2,"td",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(54,33),t.\u0275\u0275template(55,Ht,5,6,"th",29),t.\u0275\u0275template(56,Wt,2,2,"td",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(57,34),t.\u0275\u0275template(58,$t,5,6,"th",29),t.\u0275\u0275template(59,Gt,2,2,"td",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(60,35),t.\u0275\u0275template(61,Qt,5,6,"th",29),t.\u0275\u0275template(62,Kt,2,2,"td",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(63,36),t.\u0275\u0275template(64,Xt,5,6,"th",29),t.\u0275\u0275template(65,Jt,2,2,"td",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(66,37),t.\u0275\u0275template(67,Zt,5,6,"th",29),t.\u0275\u0275template(68,te,2,2,"td",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(69,38),t.\u0275\u0275template(70,ee,5,6,"th",29),t.\u0275\u0275template(71,ne,2,2,"td",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(72,39),t.\u0275\u0275template(73,ie,5,6,"th",29),t.\u0275\u0275template(74,oe,2,2,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(75,41),t.\u0275\u0275template(76,re,5,6,"th",29),t.\u0275\u0275template(77,le,9,8,"td",42),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(78,43),t.\u0275\u0275template(79,se,3,0,"th",44),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(80,de,1,0,"tr",45),t.\u0275\u0275template(81,ce,1,0,"tr",45),t.\u0275\u0275template(82,me,1,0,"tr",45),t.\u0275\u0275template(83,pe,1,1,"tr",46),t.\u0275\u0275template(84,he,1,1,"tr",47),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(85,ue,3,6,"div",48),t.\u0275\u0275pipe(86,"async"),t.\u0275\u0275elementStart(87,"div",49),t.\u0275\u0275pipe(88,"async"),t.\u0275\u0275element(89,"mat-paginator",50),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(90,"div",51)(91,"div",52)(92,"button",53),t.\u0275\u0275listener("click",function(){return n.previous()}),t.\u0275\u0275text(93),t.\u0275\u0275pipe(94,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(95,"button",54),t.\u0275\u0275listener("click",function(){return n.validateData()}),t.\u0275\u0275text(96),t.\u0275\u0275pipe(97,"translate"),t.\u0275\u0275elementEnd()()()),2&e&&(t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,18,"Confirmation")),t.\u0275\u0275advance(2),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(11,20,"Tutorial for this module")),t.\u0275\u0275advance(2),t.\u0275\u0275property("src",n.tutorialIcon,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(3),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(65),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(30,ge)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(31,_e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(86,22,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(32,rt,t.\u0275\u0275pipeBind1(88,24,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(34,fe,n.dataCount<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(36,be)),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(94,26,"Previous")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!n.confirmed),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(97,28,"Next")," "))},dependencies:[_.mk,_.sg,_.O5,I.lW,yt.oG,D.Hw,Y.NW,W.Ou,xt.YE,C.BZ,C.fO,C.as,C.w1,C.Dz,C.nj,C.ge,C.ev,C.XQ,C.Gk,V.gM,vt.oO,_.Ov,y.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}@font-face{font-family:firaSans;src:url(FiraSansExtraCondensed-Regular.4f3f4d10e46c8043.woff)}.form-field[_ngcontent-%COMP%]{margin-top:6px}.person-image[_ngcontent-%COMP%]{display:inline-block;margin-right:0;height:18px;width:18px;vertical-align:baseline}.flag-icon[_ngcontent-%COMP%]{vertical-align:text-top;height:17px;width:17px}img.engagement-level-icon[_ngcontent-%COMP%]{height:15px;width:15px;display:inline;margin:0}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}th.mat-header-cell[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{align-items:center;font-size:10pt}table.mat-table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     table{font-size:10pt}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{align-items:center!important;border-right:1px solid #545454;padding:4px!important}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:3%}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:5%;min-width:60px;max-width:60px!important;padding-left:0!important;text-align:center;font-size:10pt}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:6%;min-width:70px;text-align:center;font-size:10pt}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:5%;min-width:64px;text-align:center;font-size:10pt}[_nghost-%COMP%]     table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(4) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:10%;text-align:center;font-size:10pt}[_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){width:15%;min-width:170px;text-align:center;font-size:10pt}[_nghost-%COMP%]     table tr td:nth-child(6) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(6) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){width:5%;min-width:64px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(7) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(7) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){width:5%;min-width:155px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(8) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(8) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(9), [_nghost-%COMP%]     table tr th:nth-child(9){width:2%;min-width:45px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(9) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(9) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(10), [_nghost-%COMP%]     table tr th:nth-child(10){width:2%;min-width:40px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(10) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(10) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(11), [_nghost-%COMP%]     table tr th:nth-child(11){width:13%;min-width:160px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(11) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(11) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(12), [_nghost-%COMP%]     table tr th:nth-child(12){width:5%;min-width:75px;text-align:center}[_nghost-%COMP%]     table tr td:nth-child(12) .mat-icon-button, [_nghost-%COMP%]     table tr th:nth-child(12) .mat-icon-button{height:24px!important;width:24px!important}[_nghost-%COMP%]     table tr td:nth-child(12) .mat-icon, [_nghost-%COMP%]     table tr th:nth-child(12) .mat-icon{font-size:16px;width:18px!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr td *{vertical-align:middle}[_nghost-%COMP%]     table tr th{align-items:center;text-align:center!important;font-size:10pt!important}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr th button.mat-sort-header-button{display:inline!important}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121;border-bottom:none!important;font-size:10pt!important;height:auto}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}[_nghost-%COMP%]     table thead tr:nth-child(2) th .mat-icon-svgIcon, [_nghost-%COMP%]     table thead tr:nth-child(3) th .mat-icon-svgIcon{vertical-align:text-bottom}[_nghost-%COMP%]     table thead tr:nth-child(2) th:nth-child(19) .mat-icon, [_nghost-%COMP%]     table thead tr:nth-child(3) th:nth-child(19) .mat-icon{display:inline-flex;margin:8%}[_nghost-%COMP%]     table thead tr:nth-child(3){vertical-align:unset}[_nghost-%COMP%]     table thead tr:nth-child(3) th:nth-child(3){padding-top:0!important}.action-header-column[_ngcontent-%COMP%]{text-align:right!important;vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.tag-container[_ngcontent-%COMP%]{white-space:normal;text-align:left!important;line-height:2.3;overflow-wrap:break-word}.horizontal[_ngcontent-%COMP%]{overflow:auto}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 0;border-radius:3px;margin-right:0;width:auto;display:block!important;margin-bottom:5px;height:26px;line-height:23px}.hide[_ngcontent-%COMP%]{display:none}.icon-false[_ngcontent-%COMP%]{color:red;font-size:19px;font-weight:600;text-align:center;vertical-align:middle;padding-right:5px;margin-top:-9px;width:15px!important}.icon-true[_ngcontent-%COMP%]{color:green;font-size:15px;font-weight:700;text-align:center;vertical-align:middle;padding-right:5px;margin-top:-9px;width:15px!important}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.icon-thumbsup[_ngcontent-%COMP%]{width:13px;padding:2px 0 0}.icon-certifier[_ngcontent-%COMP%]{width:15px}.loading-indicator[_ngcontent-%COMP%]{position:fixed;z-index:999;height:2em;width:6em;overflow:show;margin:auto;inset:0}.loading-indicator[_ngcontent-%COMP%]:before{content:"";display:block;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000004d}.yellow[_ngcontent-%COMP%]{color:#ffd740}.orange[_ngcontent-%COMP%]{color:#f49f36}.blue[_ngcontent-%COMP%]{color:#36ebf4}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.black[_ngcontent-%COMP%]{color:#000}.green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#adff2f}.red-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#ff4040}.black-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#000}h5[_ngcontent-%COMP%]{font-weight:200}.top-table-text[_ngcontent-%COMP%]{font-size:18px;color:#fff;padding-left:.5rem}']}),a})();var lt=m(33296),st=m(68516),dt=m(58840),ct=m(50777),mt=m(52688),pt=m(80529),ht=m(80484),ut=m(84130),q=m(73546);const ye=["importFile"];function xe(a,l){1&a&&(t.\u0275\u0275elementStart(0,"div",42)(1,"div",43),t.\u0275\u0275element(2,"mat-spinner",44),t.\u0275\u0275elementEnd()())}function ve(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-option",45),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=l.$implicit;t.\u0275\u0275property("value",e.code),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,2,e.code)," ")}}function Oe(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-option",45),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=l.$implicit;t.\u0275\u0275property("value",e.code),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,2,e.code)," ")}}function Pe(a,l){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",51)(1,"button",52),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().index,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.removeArrayCheque(i))}),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"remove"),t.\u0275\u0275elementEnd()()()}}function Me(a,l){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",48)(1,"div",8)(2,"div",16)(3,"div",8)(4,"div",17)(5,"div",18)(6,"mat-form-field")(7,"input",19),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(11);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(9,"mat-datepicker-toggle",20)(10,"mat-datepicker",null,21),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",22)(13,"mat-form-field")(14,"mat-label"),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(17,"input",23),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(18,"div",17)(19,"div",24),t.\u0275\u0275element(20,"ng-select",25),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(22,"div",17)(23,"div",26)(24,"mat-form-field")(25,"mat-label"),t.\u0275\u0275text(26),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(28,"input",27),t.\u0275\u0275listener("wheel",function(i){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onWheel(i))}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(29,"div",28)(30,"mat-form-field")(31,"mat-label"),t.\u0275\u0275text(32),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(34,"mat-select",29),t.\u0275\u0275template(35,Oe,3,4,"mat-option",30),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(36,"div",17)(37,"div",24)(38,"mat-form-field")(39,"mat-label"),t.\u0275\u0275text(40),t.\u0275\u0275pipe(41,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(42,"input",31),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(43,"div",8)(44,"div",17)(45,"div",24)(46,"ng-select",32),t.\u0275\u0275listener("change",function(i){const d=t.\u0275\u0275restoreView(e).index,o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.studentSelectedArray(i,d))}),t.\u0275\u0275pipe(47,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(48,"div",17)(49,"div",24)(50,"mat-form-field")(51,"mat-label"),t.\u0275\u0275text(52),t.\u0275\u0275pipe(53,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(54,"input",49),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(55,"div",17)(56,"div",24)(57,"ng-select",35),t.\u0275\u0275listener("change",function(i){const d=t.\u0275\u0275restoreView(e).index,o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.financeSelectedArray(i,d))}),t.\u0275\u0275pipe(58,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(59,"div",17)(60,"div",24)(61,"ng-select",36),t.\u0275\u0275listener("change",function(i){const d=t.\u0275\u0275restoreView(e).index,o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.letterSelectedArray(i,d))}),t.\u0275\u0275pipe(62,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(63,Pe,4,0,"div",50),t.\u0275\u0275elementEnd()()}if(2&a){const e=l.index,n=t.\u0275\u0275reference(11),i=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("formGroupName",e),t.\u0275\u0275advance(7),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(8,23,"Date"),"*"),t.\u0275\u0275property("matDatepicker",n),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",n),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(16,25,"Chq Nber"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(21,27,"Bank"),"*"),t.\u0275\u0275property("items",i.bank)("multiple",!1),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(27,29,"Amount"),"*"),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(33,31,"Curr."),"*"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",i.currencyList),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(41,33,"Ref payor"),"*"),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(47,35,"Student"),"*"),t.\u0275\u0275property("items",i.studentArrayList[e])("multiple",!1),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(53,37,"Student Account"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(58,39,"Financial Support"),"*"),t.\u0275\u0275property("items",i.financialArrayList[e])("multiple",!1),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(62,41,"Lettering"),"*"),t.\u0275\u0275property("items",i.termArrayList[e])("multiple",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==i.arrayCheque?null:i.arrayCheque.length)}}function Se(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"div",46),t.\u0275\u0275template(1,Me,64,43,"div",47),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.arrayCheque.controls)}}let we=(()=>{class a{constructor(e,n,i,s,d,o,r,p,x,w,$,G,Q,K,X,J,Je){this.route=e,this.fb=n,this.studentService=i,this.schoolService=s,this.titleService=d,this.translate=o,this.userService=r,this.httpClient=p,this.fileUploadService=x,this.candidateService=w,this.pageTitleService=$,this.dialog=G,this.cdr=Q,this.financeService=K,this.permissionsService=X,this.acadJourneyService=J,this.coreService=Je,this.subs=new P.Y,this.currentIndex=-1,this.templateCSVDownloadName="comma",this.server=lt.a.baseApi,this.isAcadir=!1,this.isClose=!1,this.isWaitingForResponse=!1,this.campusList=[],this.listObjective=[],this.titles=[],this.classes=[],this.levels=[],this.scholars=[],this.school=[],this.currencyList=[],this.letterList=["Term 1 - 03/12/2020 - 321 \u20ac"],this.studentList=["Mrs Ole Spinka"],this.bank=["BNP Paribas","Credit Agricole","BPCE","Societe Generale","Groupe Cr\xe9dit Mutuel","Cr\xe9dit Cooperatif","La Banque Postale","Cr\xe9dit du Nord","AXA Banque","Banque Palatine","HSBC France","CIC Banque Transatlantique","BRED Banque Populaire"],this.isDelimeterOn=!1,this.isLevelOn=!1,this.isSchoolOn=!1,this.isCampusOn=!1,this.isDirectorAdmission=!1,this.isMemberAdmission=!1,this.templateDonwloaded=!1,this.generalDepositPaid=!1,this.dummyData=[],this.termsList=[],this.financialList=[],this.originalTermsList=[],this.originalFinancialList=[],this.studentArrayList=[],this.financialArrayList=[],this.termArrayList=[],this.tutorialIcon="../../assets/img/tutorial.png"}ngOnInit(){this.currentUser=this.userService.getLocalStorageUser(),this.initBankCheque(),this.currentUser=this.userService.getLocalStorageUser(),this.dataIsChanged(),this.subs.sink=this.acadJourneyService.getCurrency().subscribe(e=>{this.currencyList=e}),this.subs.sink=this.financeService.dataChequeEnitty.subscribe(e=>{e&&(this.dataEntity=e)}),this.subs.sink=this.financeService.dataBilling.subscribe(e=>{e&&(this.dataBilling=e,this.getDataBilling())}),this.getDataBilling(),this.subs.sink=this.financeService.dataCheque.subscribe(e=>{e&&(this.dummyData=e,this.dummyData&&this.dummyData.length&&(this.initBankCheque(),this.dummyData.forEach(n=>{this.arrayCheque.push(this.initImportForm())}),this.importForm.get("cheque_bank").patchValue(this.dummyData)))}),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.dataBilling&&this.dataBilling.length&&(this.mappingBilling=this.dataBilling.map(n=>({student_name:n.candidate_id.last_name+" "+n.candidate_id.first_name+" "+(n.candidate_id.civility?"neutral"===n.candidate_id.civility?"":this.translate.instant(n.candidate_id.civility):"")+" "+n.intake_channel,account_number:n.account_number,terms:n.terms,deposit:n.deposit,is_deposit_completed:n.is_deposit_completed,financial_supports:n.financial_supports,billing_id:n._id,student_id:n.candidate_id._id})),this.dataBilling.forEach(n=>{n.financial_supports&&n.financial_supports.length&&n.financial_supports.forEach(i=>{const s={finance:i.family_name+" "+i.name+" "+(i.civility?"neutral"===i.civility?"":this.translate.instant(i.civility):"")+" ("+this.translate.instant("CARDDETAIL.RELATION."+i.relation)+")",student_name:n.candidate_id.last_name+" "+n.candidate_id.first_name+" "+(n.candidate_id.civility?"neutral"===n.candidate_id.civility?"":this.translate.instant(n.candidate_id.civility):"")+" "+n.intake_channel,account_number:n.account_number,terms:n.terms,deposit:n.deposit,is_deposit_completed:n.is_deposit_completed,billing_id:n._id,student_id:n.candidate_id._id};this.financialList.push(s)})}))})}onWheel(e){e?.preventDefault()}selectStudent(){const e=this.importForm.get("student_account").value;if(e&&this.originalMappingBilling&&this.originalMappingBilling.length){const n=this.originalMappingBilling.filter(i=>i.account_number.toLowerCase().trim().includes(e.toLowerCase()));if(n&&n.length){if(this.importForm.get("billing_id").setValue(n[0].billing_id),this.importForm.get("student_id").setValue(n[0].candidate_id),this.importForm.get("student").setValue(n[0].student_name),n[0].terms&&n[0].terms.length?(n[0].terms.forEach((i,s)=>{i.term=s+1}),this.termsList=n[0].terms.filter(i=>(!1===i.is_term_paid||i.term_amount!==i.term_pay_amount)&&0!==i.term_amount),this.termsList=this.termsList.sort((i,s)=>u.utc(i.term_payment_deferment).diff(u.utc(s.term_payment_deferment))),this.termsList=this.termsList.map(i=>({name:this.translate.instant("terms")+" "+i.term+" "+(i.term_payment.date?" - "+i.term_payment.date:"")+" "+(i.term_amount-i.term_pay_amount<=0?" ":" - "+(i.term_amount-i.term_pay_amount)+" \u20ac"),term_amount:i.term_amount,term_index:i.term,term_type:"term",term_payment:{date:i.term_payment.date,time:i.term_payment.time}}))):this.termsList=[],n[0]&&n[0].is_deposit_completed)this.generalDepositPaid=!0;else{const i={name:this.translate.instant("Down Payment"),term_type:"deposit"};this.termsList.push(i)}n[0].financial_supports&&n[0].financial_supports.length?(this.financialList=[],this.financialList=n[0].financial_supports.map(i=>({finance:i.family_name+" "+i.name+" "+(i.civility?"neutral"===i.civility?"":this.translate.instant(i.civility):"")+" ("+this.translate.instant("CARDDETAIL.RELATION."+i.relation)+")",student_name:n[0].student_name,account_number:n[0].account_number,terms:n[0].terms,deposit:n[0].deposit,is_deposit_completed:n[0].is_deposit_completed,billing_id:n[0].billing_id,student_id:n[0].candidate_id}))):(this.financialList=[],this.financialList.push({finance:n[0].student_name,student_name:n[0].student_name,account_number:n[0].account_number,terms:n[0].terms,deposit:n[0].deposit,is_deposit_completed:n[0].is_deposit_completed,billing_id:n[0].billing_id,student_id:n[0].candidate_id}))}}else this.termsList=[],this.financialList=[],this.importForm.get("billing_id").setValue(null),this.importForm.get("student_id").setValue(null),this.importForm.get("student").setValue(null),this.importForm.get("letter").setValue(null),this.importForm.get("financial_support").setValue(null)}getDataBilling(){const e=g.cloneDeep(this.dataBilling);e&&(this.mappingBilling=e.filter(n=>n.candidate_id).map(n=>({student_name:n.candidate_id.last_name+" "+n.candidate_id.first_name+" "+(n.candidate_id.civility?"neutral"===n.candidate_id.civility?"":this.translate.instant(n.candidate_id.civility):"")+" "+n.intake_channel.program,account_number:n.account_number,terms:n.terms,deposit:n.deposit,is_deposit_completed:n.is_deposit_completed,financial_supports:n.financial_supports,billing_id:n._id,student_id:n.candidate_id._id})),this.originalMappingBilling=this.mappingBilling,e.filter(n=>n.candidate_id).forEach(n=>{n.financial_supports&&n.financial_supports.length&&n.financial_supports.forEach(i=>{const s={finance:i.family_name+" "+i.name+" "+(i.civility?"neutral"===i.civility?"":this.translate.instant(i.civility):"")+" ("+this.translate.instant("CARDDETAIL.RELATION."+i.relation)+")",student_name:n.candidate_id.last_name+" "+n.candidate_id.first_name+" "+(n.candidate_id.civility?"neutral"===n.candidate_id.civility?"":this.translate.instant(n.candidate_id.civility):"")+" "+n.intake_channel,account_number:n.account_number,terms:n.terms,deposit:n.deposit,is_deposit_completed:n.is_deposit_completed,billing_id:n._id,student_id:n.candidate_id._id};this.financialList.push(s)})}),this.originalFinancialList=this.financialList)}studentSelected(e){this.importForm.get("letter").setValue(null),this.importForm.get("financial_support").setValue(null),console.log("Data Selected",e);const n=g.cloneDeep(this.dataBilling),i=e&&e.account_number?e.account_number:"",s=e&&e.billing_id?e.billing_id:"",d=e&&e.student_id?e.student_id:"";if(this.importForm.get("student_account").setValue(i),this.importForm.get("billing_id").setValue(s),this.importForm.get("student_id").setValue(d),e){if(e.terms&&e.terms.length?(e.terms.forEach((o,r)=>{o.term=r+1}),this.termsList=e.terms.filter(o=>(!1===o.is_term_paid||o.term_amount!==o.term_pay_amount)&&0!==o.term_amount),this.termsList=this.termsList.sort((o,r)=>u.utc(o.term_payment_deferment).diff(u.utc(r.term_payment_deferment))),this.termsList=this.termsList.map(o=>({name:this.translate.instant("terms")+" "+o.term+" "+(o.term_payment.date?" - "+o.term_payment.date:"")+" "+(o.term_amount-o.term_pay_amount<=0?" ":" - "+(o.term_amount-o.term_pay_amount)+" \u20ac"),term_amount:o.term_amount,term_index:o.term,term_type:"term",term_payment:{date:o.term_payment.date,time:o.term_payment.time}}))):this.termsList=[],e&&e.is_deposit_completed)this.generalDepositPaid=!0;else{const o={name:this.translate.instant("Down Payment"),term_type:"deposit"};this.termsList.push(o)}e.financial_supports&&e.financial_supports.length?(this.financialList=e.financial_supports.map(o=>({finance:o.family_name+" "+o.name+" "+(o.civility?"neutral"===o.civility?"":this.translate.instant(o.civility):"")+" ("+this.translate.instant("CARDDETAIL.RELATION."+o.relation)+")",student_name:e.student_name,account_number:e.account_number,terms:e.terms,deposit:e.deposit,is_deposit_completed:e.is_deposit_completed,billing_id:e.billing_id,student_id:e.candidate_id})),this.financialList&&1===this.financialList.length&&this.importForm.get("financial_support").setValue(this.financialList[0].finance)):(this.financialList.push({finance:e.student_name,student_name:e.student_name,account_number:e.account_number,terms:e.terms,deposit:e.deposit,is_deposit_completed:e.is_deposit_completed,billing_id:e.billing_id,student_id:e.candidate_id}),this.financialList&&1===this.financialList.length&&this.importForm.get("financial_support").setValue(this.financialList[0].finance))}else this.termsList=[],this.financialList=[],this.importForm.get("financial_support").setValue(null),this.importForm.get("letter").setValue(null),this.importForm.get("billing_id").setValue(""),n.forEach(o=>{o.financial_supports&&o.financial_supports.length&&(o.financial_supports.forEach(r=>{const p={finance:r.family_name+" "+r.name+" "+(r.civility?"neutral"===r.civility?"":this.translate.instant(r.civility):"")+" ("+this.translate.instant("CARDDETAIL.RELATION."+r.relation)+")",student_name:o.candidate_id.last_name+" "+o.candidate_id.first_name+" "+(o.candidate_id.civility?"neutral"===o.candidate_id.civility?"":this.translate.instant(o.candidate_id.civility):"")+" "+o.intake_channel,account_number:o.account_number,terms:o.terms,deposit:o.deposit,is_deposit_completed:o.is_deposit_completed,billing_id:o._id,student_id:o.candidate_id._id};this.financialList.push(p)}),this.financialList&&1===this.financialList.length&&this.importForm.get("financial_support").setValue(this.financialList[0].finance))})}financeSelected(e){if(!this.importForm.get("student").value){const n=e&&e.account_number?e.account_number:"",i=e&&e.student_name?e.student_name:"",s=e&&e.billing_id?e.billing_id:"",d=e&&e.candidate_id?e.candidate_id:"";if(this.importForm.get("student_account").setValue(n),this.importForm.get("student").setValue(i),this.importForm.get("billing_id").setValue(s),this.importForm.get("student_id").setValue(d),e)if(e.terms&&e.terms.length?(e.terms.forEach((o,r)=>{o.term=r+1}),this.termsList=e.terms.filter(o=>(!1===o.is_term_paid||o.term_amount!==o.term_pay_amount)&&0!==o.term_amount),this.termsList=this.termsList.sort((o,r)=>u.utc(o.term_payment_deferment).diff(u.utc(r.term_payment_deferment))),this.termsList=this.termsList.map(o=>({name:this.translate.instant("terms")+" "+o.term+" "+(o.term_payment.date?" - "+o.term_payment.date:"")+" "+(o.term_amount-o.term_pay_amount<=0?" ":" - "+(o.term_amount-o.term_pay_amount)+" \u20ac"),term_amount:o.term_amount,term_index:o.term,term_type:"term",term_payment:{date:o.term_payment.date,time:o.term_payment.time}}))):this.termsList=[],e&&e.is_deposit_completed)this.generalDepositPaid=!0;else{const o={name:this.translate.instant("Down Payment"),term_type:"deposit"};this.termsList.push(o)}}}letterSelected(e){if(e){const n=e.map(i=>i.term_index);this.importForm.get("term_index").setValue(n)}else this.importForm.get("term_index").setValue(null);if(e){const n=e.map(r=>r.term_amount),i=e.filter(r=>r&&r.term_index).map(r=>r.term_index.toString()),s=e.filter(r=>r&&r.term_payment&&r.term_payment.date).map(r=>r.term_payment.date.toString()),d=e.filter(r=>r&&r.term_payment&&r.term_payment.time).map(r=>r.term_payment.time.toString()),o=e.filter(r=>r&&r.term_type).map(r=>r.term_type);this.importForm.get("term_amount").setValue(n),this.importForm.get("term_index").setValue(i),this.importForm.get("term_type").setValue(o),this.importForm.get("term_payment").get("date").setValue(s),this.importForm.get("term_payment").get("time").setValue(d)}else this.importForm.get("term_amount").setValue(null),this.importForm.get("term_index").setValue(null),this.importForm.get("term_type").setValue(null),this.importForm.get("term_payment").get("date").setValue(null),this.importForm.get("term_payment").get("time").setValue(null)}initBankCheque(){this.importForm=this.fb.group({cheque_bank:this.fb.array([]),payor:[null,c.Validators.required],student:[null,c.Validators.required],student_account:[null,c.Validators.required],amount:[null,c.Validators.required],financial_support:[null,c.Validators.required],currency:["EUR",c.Validators.required],letter:[null,c.Validators.required],bank_name:[null,c.Validators.required],cheque_number:["",c.Validators.required],date:["",c.Validators.required],term_payment:this.fb.group({date:[""],time:[""]}),term_amount:[""],term_index:[""],term_type:[""],billing_id:[""],student_id:[""]})}get arrayCheque(){return this.importForm.get("cheque_bank")}addChequeBank(){this.arrayCheque.push(this.initImportForm());const e=this.importForm.get("cheque_bank").value;this.currentIndex=e&&e.length?e.length-1:-1;const n={payor:this.importForm.get("payor").value,student:this.importForm.get("student").value,student_account:this.importForm.get("student_account").value,amount:this.importForm.get("amount").value,financial_support:this.importForm.get("financial_support").value,currency:this.importForm.get("currency").value,letter:this.importForm.get("letter").value,bank_name:this.importForm.get("bank_name").value,cheque_number:this.importForm.get("cheque_number").value,date:this.importForm.get("date").value,billing_id:this.importForm.get("billing_id").value,term_amount:this.importForm.get("term_amount").value,term_index:this.importForm.get("term_index").value,term_type:this.importForm.get("term_type").value,student_id:this.importForm.get("student_id").value,term_payment:{date:this.importForm.get("term_payment").get("date").value,time:this.importForm.get("term_payment").get("time").value}};this.importForm.get("cheque_bank").get(this.currentIndex.toString()).patchValue(n),this.importForm.get("payor").setValue(null),this.importForm.get("student").setValue(null),this.importForm.get("student_account").setValue(null),this.importForm.get("amount").setValue(null),this.importForm.get("financial_support").setValue(null),this.importForm.get("currency").setValue("EUR"),this.importForm.get("letter").setValue(null),this.importForm.get("bank_name").setValue(null),this.importForm.get("cheque_number").setValue(null),this.importForm.get("date").setValue(null),this.importForm.get("billing_id").setValue(null),this.importForm.get("student_id").setValue(""),this.studentArrayList[this.currentIndex]=this.mappingBilling,this.financialArrayList[this.currentIndex]=this.financialList,this.termArrayList[this.currentIndex]=this.termsList,this.financialList=this.originalFinancialList,this.mappingBilling=this.originalMappingBilling,this.termsList=[]}removeArrayCheque(e){this.arrayCheque.removeAt(e)}initImportForm(){return this.fb.group({payor:[null,c.Validators.required],student:[null,c.Validators.required],student_account:[null,c.Validators.required],amount:[null,c.Validators.required],financial_support:[null,c.Validators.required],currency:[null,c.Validators.required],letter:[null,c.Validators.required],bank_name:[null,c.Validators.required],cheque_number:["",c.Validators.required],date:["",c.Validators.required],term_payment:this.fb.group({date:[""],time:[""]}),term_amount:[""],term_index:[""],term_type:[""],billing_id:[""],student_id:[""]})}ngAfterViewChecked(){this.cdr.detectChanges()}getDataDelimeter(){this.isDelimeterOn=!0}resetImport(){this.importForm.get("billing_entity").setValue(null),this.importForm.get("bank_name").setValue(null),this.importForm.get("delimiter").setValue(""),this.importForm.get("date").setValue(""),this.path="",this.fileName="",this.templateDonwloaded=!1}onCancelImport(){}submitImport(){const e=g.cloneDeep(this.importForm.get("cheque_bank").value),n=g.cloneDeep(this.importForm.value);e&&e.length&&e.forEach((i,s)=>{e[s].index=s}),this.financeService.setStatusStepTwoCheque(!0),this.financeService.setDataCheque(e),this.financeService.setAllDataCheque(n),this.financeService.setCurrentStep(2)}previous(){this.financeService.setCurrentStep(0)}dataIsChanged(){}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}studentSelectedArray(e,n){this.importForm.get("cheque_bank").get(n.toString()).get("letter").setValue(null),this.importForm.get("cheque_bank").get(n.toString()).get("financial_support").setValue(null),console.log("Data Selected",e);const i=g.cloneDeep(this.dataBilling),s=e&&e.account_number?e.account_number:"",d=e&&e.billing_id?e.billing_id:"",o=e&&e.student_id?e.student_id:"";if(this.importForm.get("cheque_bank").get(n.toString()).get("student_account").setValue(s),this.importForm.get("cheque_bank").get(n.toString()).get("billing_id").setValue(d),this.importForm.get("cheque_bank").get(n.toString()).get("student_id").setValue(o),e){if(e.terms&&e.terms.length?(e.terms.forEach((r,p)=>{r.term=p+1}),this.termArrayList[n]=e.terms.filter(r=>!1===r.is_term_paid||r.term_amount!==r.term_pay_amount),this.termArrayList[n]=this.termArrayList[n].sort((r,p)=>u.utc(r.term_payment_deferment).diff(u.utc(p.term_payment_deferment))),this.termArrayList[n]=this.termArrayList[n].map(r=>({name:this.translate.instant("terms")+" "+r.term+" "+(r.term_payment.date?" - "+r.term_payment.date:"")+" "+(r.term_amount-r.term_pay_amount<=0?" ":" - "+(r.term_amount-r.term_pay_amount)+" \u20ac"),term_amount:r.term_amount,term_index:r.term,term_type:"term",term_payment:{date:r.term_payment.date,time:r.term_payment.time}}))):this.termArrayList[n]=[],e&&e.is_deposit_completed)this.generalDepositPaid=!0;else{const r={name:this.translate.instant("Down Payment"),term_type:"deposit"};this.termArrayList[n].push(r)}e.financial_supports&&e.financial_supports.length?this.financialArrayList[n]=e.financial_supports.map(r=>({finance:r.family_name+" "+r.name+" "+(r.civility?"neutral"===r.civility?"":this.translate.instant(r.civility):"")+" ("+this.translate.instant("CARDDETAIL.RELATION."+r.relation)+")",student_name:e.student_name,account_number:e.account_number,terms:e.terms,deposit:e.deposit,is_deposit_completed:e.is_deposit_completed,billing_id:e.billing_id,student_id:e.candidate_id})):this.financialArrayList[n].push({finance:e.student_name,student_name:e.student_name,account_number:e.account_number,terms:e.terms,deposit:e.deposit,is_deposit_completed:e.is_deposit_completed,billing_id:e.billing_id,student_id:e.candidate_id})}else this.termArrayList[n]=[],this.financialArrayList[n]=[],this.importForm.get("cheque_bank").get(n.toString()).get("financial_support").setValue(null),this.importForm.get("cheque_bank").get(n.toString()).get("letter").setValue(null),this.importForm.get("cheque_bank").get(n.toString()).get("billing_id").setValue(""),i.forEach(r=>{r.financial_supports&&r.financial_supports.length&&r.financial_supports.forEach(p=>{const x={finance:p.family_name+" "+p.name+" "+(p.civility?"neutral"===p.civility?"":this.translate.instant(p.civility):"")+" ("+this.translate.instant("CARDDETAIL.RELATION."+p.relation)+")",student_name:r.candidate_id.last_name+" "+r.candidate_id.first_name+" "+(r.candidate_id.civility?"neutral"===r.candidate_id.civility?"":this.translate.instant(r.candidate_id.civility):"")+" "+r.intake_channel,account_number:r.account_number,terms:r.terms,deposit:r.deposit,is_deposit_completed:r.is_deposit_completed,billing_id:r._id,student_id:r.candidate_id._id};this.financialArrayList[n].push(x)})})}financeSelectedArray(e,n){if(!this.importForm.get("cheque_bank").get(n.toString()).get("student").value){const i=e&&e.account_number?e.account_number:"",s=e&&e.student_name?e.student_name:"",d=e&&e.billing_id?e.billing_id:"",o=e&&e.candidate_id?e.candidate_id:"";if(this.importForm.get("cheque_bank").get(n.toString()).get("student_account").setValue(i),this.importForm.get("cheque_bank").get(n.toString()).get("student").setValue(s),this.importForm.get("cheque_bank").get(n.toString()).get("billing_id").setValue(d),this.importForm.get("cheque_bank").get(n.toString()).get("student_id").setValue(o),e)if(e.terms&&e.terms.length?(e.terms.forEach((r,p)=>{r.term=p+1}),this.termArrayList[n]=e.terms.filter(r=>!1===r.is_term_paid||r.term_amount!==r.term_pay_amount),this.termArrayList[n]=this.termArrayList[n].sort((r,p)=>u.utc(r.term_payment_deferment).diff(u.utc(p.term_payment_deferment))),this.termArrayList[n]=this.termArrayList[n].map(r=>({name:this.translate.instant("terms")+" "+r.term+" "+(r.term_payment.date?" - "+r.term_payment.date:"")+" "+(r.term_amount-r.term_pay_amount<=0?" ":" - "+(r.term_amount-r.term_pay_amount)+" \u20ac"),term_amount:r.term_amount,term_index:r.term,term_type:"term",term_payment:{date:r.term_payment.date,time:r.term_payment.time}}))):this.termArrayList[n]=[],e&&e.is_deposit_completed)this.generalDepositPaid=!0;else{const r={name:this.translate.instant("Down Payment"),term_type:"deposit"};this.termArrayList[n].push(r)}}}letterSelectedArray(e,n){if(e){const i=e.map(p=>p.term_amount),s=e.filter(p=>p&&p.term_index).map(p=>p.term_index.toString()),d=e.filter(p=>p&&p.term_payment&&p.term_payment.date).map(p=>p.term_payment.date),o=e.filter(p=>p&&p.term_payment&&p.term_payment.time).map(p=>p.term_payment.time),r=e.filter(p=>p&&p.term_type).map(p=>p.term_type);this.importForm.get("cheque_bank").get(n.toString()).get("term_amount").setValue(i),this.importForm.get("cheque_bank").get(n.toString()).get("term_index").setValue(s),this.importForm.get("cheque_bank").get(n.toString()).get("term_type").setValue(r),this.importForm.get("cheque_bank").get(n.toString()).get("term_payment").get("date").setValue(d),this.importForm.get("cheque_bank").get(n.toString()).get("term_payment").get("time").setValue(o)}else this.importForm.get("cheque_bank").get(n.toString()).get("term_amount").setValue(null),this.importForm.get("cheque_bank").get(n.toString()).get("term_index").setValue(null),this.importForm.get("cheque_bank").get(n.toString()).get("term_type").setValue(null),this.importForm.get("cheque_bank").get(n.toString()).get("term_payment").get("date").setValue(null),this.importForm.get("cheque_bank").get(n.toString()).get("term_payment").get("time").setValue(null)}toggleSidebar(){this.coreService.sidenavOpen&&(this.coreService.sidenavOpen=!this.coreService.sidenavOpen),this.coreService.sidenavTutorialOpen=!this.coreService.sidenavTutorialOpen}}return a.\u0275fac=function(e){return new(e||a)(t.\u0275\u0275directiveInject(h.gz),t.\u0275\u0275directiveInject(c.UntypedFormBuilder),t.\u0275\u0275directiveInject(st.q),t.\u0275\u0275directiveInject(dt.E),t.\u0275\u0275directiveInject(ct.r),t.\u0275\u0275directiveInject(y.sK),t.\u0275\u0275directiveInject(mt.e),t.\u0275\u0275directiveInject(pt.eN),t.\u0275\u0275directiveInject(ht.J),t.\u0275\u0275directiveInject(H.o),t.\u0275\u0275directiveInject(U.Z),t.\u0275\u0275directiveInject(M.uw),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(T.N),t.\u0275\u0275directiveInject(ut.YI),t.\u0275\u0275directiveInject(et.g),t.\u0275\u0275directiveInject(A.p))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["ms-cheque-to-bank"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(ye,5),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.importFile=i.first)}},inputs:{schoolId:"schoolId",selectedRncpTitleId:"selectedRncpTitleId",selectedClassId:"selectedClassId"},features:[t.\u0275\u0275ProvidersFeature([F.t,E.n])],decls:99,vars:62,consts:[[1,"p-col-12","no-padding",2,"min-height","505px"],[1,"p-grid",2,"margin-bottom","5px","border-bottom","1px solid #4e4e4e"],[1,"p-col-12",2,"padding-left","10px"],[2,"width","20px","float","left","padding","4px 0px 0px 0px","margin-right","10px"],[2,"font-size","16px"],[1,"titleImport"],["mat-button","",2,"margin-left","10px !important","line-height","16px","margin","0px","padding","0px !important",3,"matTooltip","click"],[2,"font-size","16px","width","65px","position","relative",3,"src"],[1,"p-grid"],[1,"p-col-12",2,"padding-left","0px","padding-right","0px"],["class","p-col-12","style","text-align: center !important; display: contents",4,"ngIf"],[3,"formGroup"],[1,"p-col-12","no-padding",2,"text-align","right","font-size","12px"],["mat-icon-button","","color","success",1,"small-icon",3,"disabled","click"],[1,"p-grid",2,"padding-top","10px"],[1,"p-col-12",2,"padding-bottom","0px","margin-left","7px","margin-right","7px !important","width","98%"],[1,"p-col","no-padding"],[1,"p-col-3","pad-y-none"],[1,"p-grid","baseline",2,"width","45%","display","inline-block","margin-right","7px !important"],["matInput","","readonly","","formControlName","date",3,"placeholder","matDatepicker","click"],["matSuffix","",3,"for"],["myDatepickers",""],[1,"p-grid","baseline",2,"width","50%","display","inline-block"],["matInput","","formControlName","cheque_number","type","text"],[1,"p-grid","baseline"],["formControlName","bank_name",1,"mrgn-btn",2,"width","100%",3,"items","multiple","placeholder"],[1,"p-grid","baseline",2,"width","60%","display","inline-block","margin-right","7px !important"],["matInput","","formControlName","amount","type","number",3,"wheel"],[1,"p-grid","baseline",2,"width","35%","display","inline-block"],["formControlName","currency"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","payor","type","text"],["bindLabel","student_name","bindValue","student_name","formControlName","student",1,"mrgn-btn",2,"width","100%",3,"items","multiple","placeholder","change"],[1,"p-grid","baseline","custom-mat-form"],["matInput","","formControlName","student_account","type","text",3,"keydown.enter","keyup"],["bindLabel","finance","bindValue","finance","formControlName","financial_support",1,"mrgn-btn",2,"width","100%",3,"items","multiple","placeholder","change"],["bindLabel","name","bindValue","name","formControlName","letter",1,"mrgn-btn",2,"width","100%",3,"items","multiple","placeholder","change"],["class","p-grid form-border","formArrayName","cheque_bank",4,"ngIf"],[1,"p-grid","mrgn-t-sm",2,"margin-bottom","20px !important"],[1,"p-col-12",2,"text-align","right","padding","0px"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","accent",1,"margin-right-0",3,"disabled","click"],[1,"p-col-12",2,"text-align","center !important","display","contents"],[1,"center-spinner","spinner-wrapper"],["color","accent"],[3,"value"],["formArrayName","cheque_bank",1,"p-grid","form-border"],["class","p-col-12 border-white",3,"formGroupName",4,"ngFor","ngForOf"],[1,"p-col-12","border-white",3,"formGroupName"],["matInput","","formControlName","student_account","type","text"],["class","p-col-fixed text-right no-padding",4,"ngIf"],[1,"p-col-fixed","text-right","no-padding"],["mat-icon-button","","color","red",1,"small-icon",3,"click"]],template:function(e,n){if(1&e){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span")(5,"mat-icon",4),t.\u0275\u0275text(6,"account_balance"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(7,"div")(8,"span",5),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"button",6),t.\u0275\u0275listener("click",function(){return n.toggleSidebar()}),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275element(13,"img",7),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(14,"div",8)(15,"div",9),t.\u0275\u0275template(16,xe,3,0,"div",10),t.\u0275\u0275elementStart(17,"mat-card")(18,"form",11)(19,"div",8)(20,"div",12),t.\u0275\u0275text(21),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275elementStart(23,"button",13),t.\u0275\u0275listener("click",function(){return n.addChequeBank()}),t.\u0275\u0275elementStart(24,"mat-icon"),t.\u0275\u0275text(25,"add"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(26,"div",14)(27,"div",15)(28,"div",8)(29,"div",16)(30,"div",8)(31,"div",17)(32,"div",18)(33,"mat-form-field")(34,"input",19),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const d=t.\u0275\u0275reference(38);return t.\u0275\u0275resetView(d.open())}),t.\u0275\u0275pipe(35,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(36,"mat-datepicker-toggle",20)(37,"mat-datepicker",null,21),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(39,"div",22)(40,"mat-form-field")(41,"mat-label"),t.\u0275\u0275text(42),t.\u0275\u0275pipe(43,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(44,"input",23),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(45,"div",17)(46,"div",24),t.\u0275\u0275element(47,"ng-select",25),t.\u0275\u0275pipe(48,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(49,"div",17)(50,"div",26)(51,"mat-form-field")(52,"mat-label"),t.\u0275\u0275text(53),t.\u0275\u0275pipe(54,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(55,"input",27),t.\u0275\u0275listener("wheel",function(d){return n.onWheel(d)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(56,"div",28)(57,"mat-form-field")(58,"mat-label"),t.\u0275\u0275text(59),t.\u0275\u0275pipe(60,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(61,"mat-select",29),t.\u0275\u0275template(62,ve,3,4,"mat-option",30),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(63,"div",17)(64,"div",24)(65,"mat-form-field")(66,"mat-label"),t.\u0275\u0275text(67),t.\u0275\u0275pipe(68,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(69,"input",31),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(70,"div",8)(71,"div",17)(72,"div",24)(73,"ng-select",32),t.\u0275\u0275listener("change",function(d){return n.studentSelected(d)}),t.\u0275\u0275pipe(74,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(75,"div",17)(76,"div",33)(77,"mat-form-field")(78,"mat-label"),t.\u0275\u0275text(79),t.\u0275\u0275pipe(80,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(81,"input",34),t.\u0275\u0275listener("keydown.enter",function(){return n.selectStudent()})("keyup",function(){return n.selectStudent()}),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(82,"div",17)(83,"div",24)(84,"ng-select",35),t.\u0275\u0275listener("change",function(d){return n.financeSelected(d)}),t.\u0275\u0275pipe(85,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(86,"div",17)(87,"div",24)(88,"ng-select",36),t.\u0275\u0275listener("change",function(d){return n.letterSelected(d)}),t.\u0275\u0275pipe(89,"translate"),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275template(90,Se,2,1,"div",37),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(91,"div",38)(92,"div",39)(93,"button",40),t.\u0275\u0275listener("click",function(){return n.previous()}),t.\u0275\u0275text(94),t.\u0275\u0275pipe(95,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(96,"button",41),t.\u0275\u0275listener("click",function(){return n.submitImport()}),t.\u0275\u0275text(97),t.\u0275\u0275pipe(98,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&e){const i=t.\u0275\u0275reference(38);t.\u0275\u0275advance(9),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(10,32,"Cheques to Banking")),t.\u0275\u0275advance(2),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(12,34,"Tutorial for this module")),t.\u0275\u0275advance(2),t.\u0275\u0275property("src",n.tutorialIcon,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275property("formGroup",n.importForm),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(22,36,"Add cheque")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",n.importForm.invalid),t.\u0275\u0275advance(11),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(35,38,"Date"),"*"),t.\u0275\u0275property("matDatepicker",i),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",i),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(43,40,"Chq Nber"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(48,42,"Bank"),"*"),t.\u0275\u0275property("items",n.bank)("multiple",!1),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(54,44,"Amount"),"*"),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(60,46,"Curr."),"*"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",n.currencyList),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(68,48,"Ref payor"),"*"),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(74,50,"Student"),"*"),t.\u0275\u0275property("items",n.mappingBilling)("multiple",!1),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(80,52,"Student Account"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(85,54,"Financial Support"),"*"),t.\u0275\u0275property("items",n.financialList)("multiple",!1),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(89,56,"Lettering"),"*"),t.\u0275\u0275property("items",n.termsList)("multiple",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==n.arrayCheque?null:n.arrayCheque.length),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(95,58,"PREVIOUS")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!(null!=n.arrayCheque&&n.arrayCheque.length)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(98,60,"Next")," ")}},dependencies:[_.sg,_.O5,it.ey,I.lW,q.a8,S.Mq,S.hl,S.nW,D.Hw,O.KE,O.hX,O.R9,j.Nt,W.Ou,at.gD,V.gM,c.\u0275NgNoValidate,c.DefaultValueAccessor,c.NumberValueAccessor,c.NgControlStatus,c.NgControlStatusGroup,c.FormGroupDirective,c.FormControlName,c.FormGroupName,c.FormArrayName,v.w9,y.X$],styles:[".baseline[_ngcontent-%COMP%]{align-items:baseline}.titleImport[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]  .ng-select .ng-select-container{color:#fff;background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{color:#000}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.form-border[_ngcontent-%COMP%]{padding-top:10px;border:2px solid #fdd835;margin-top:15px!important}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.swal2-button[_ngcontent-%COMP%]{line-height:30px;font-size:12px!important;border-radius:2px}.border-white[_ngcontent-%COMP%]{padding-bottom:0;margin-left:7px;margin-right:7px!important;width:98%;border:1px solid;margin-bottom:10px!important}  .swal2-label{font-weight:700;font-size:14px}  .swal2-radio label{font-weight:700!important;font-size:14px!important}.spinner-wrapper[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;display:flex;justify-content:center;align-items:center;top:0;left:0;background-color:#23232380;z-index:998}@media only screen and (max-width: 685px){.custom-mat-form[_ngcontent-%COMP%]     .mat-form-field{margin-top:1px!important}}@media only screen and (min-width: 686px) and (max-width: 958px){.custom-mat-form[_ngcontent-%COMP%]     .mat-form-field{margin-top:2px!important}}@media only screen and (min-width: 959px) and (max-width: 1365px){.custom-mat-form[_ngcontent-%COMP%]     .mat-form-field{margin-top:0!important}}@media only screen and (min-width: 1366px){.custom-mat-form[_ngcontent-%COMP%]     .mat-form-field{margin-top:-4px!important}}"]}),a})();const ke=["importFile"];function Ee(a,l){1&a&&(t.\u0275\u0275elementStart(0,"div",27)(1,"div",28),t.\u0275\u0275element(2,"mat-spinner",29),t.\u0275\u0275elementEnd()())}let Te=(()=>{class a{constructor(e,n,i,s,d,o,r,p,x,w,$,G,Q,K,X,J){this.route=e,this.fb=n,this.studentService=i,this.schoolService=s,this.titleService=d,this.translate=o,this.userService=r,this.httpClient=p,this.fileUploadService=x,this.candidateService=w,this.pageTitleService=$,this.dialog=G,this.cdr=Q,this.financeService=K,this.permissionsService=X,this.coreService=J,this.subs=new P.Y,this.templateCSVDownloadName="comma",this.server=lt.a.baseApi,this.isAcadir=!1,this.isClose=!1,this.isWaitingForResponse=!1,this.campusList=[],this.listObjective=[],this.titles=[],this.classes=[],this.levels=[],this.scholars=[],this.school=[],this.tutorialIcon="../../assets/img/tutorial.png",this.billingEntities=[],this.bank=["BNP Paribas","Credit Agricole","BPCE","Societe Generale","Groupe Cr\xe9dit Mutuel","Cr\xe9dit Cooperatif","La Banque Postale","Cr\xe9dit du Nord","AXA Banque","Banque Palatine","HSBC France","CIC Banque Transatlantique","BRED Banque Populaire"],this.isDelimeterOn=!1,this.isLevelOn=!1,this.isSchoolOn=!1,this.isCampusOn=!1,this.isDirectorAdmission=!1,this.isMemberAdmission=!1,this.templateDonwloaded=!1,this.isFormChanged=!1}ngOnInit(){this.currentUser=this.userService.getLocalStorageUser(),this.isDirectorAdmission=!!this.permissionsService.getPermission("Director of Admissions"),this.isMemberAdmission=!!this.permissionsService.getPermission("Member Admission"),this.initImportForm(),this.initDummyImportForm(),this.getScholarSeasons(),this.currentUser=this.userService.getLocalStorageUser(),this.dataIsChanged(),this.subs.sink=this.financeService.dataChequeEnitty.subscribe(e=>{e&&this.importForm.patchValue(e),this.initialForm=this.importForm.value}),this.subs.sink=this.importForm.valueChanges.subscribe(e=>this.compareForm())}compareForm(){this.financeService.childrenFormValidationStatus=JSON.stringify(this.initialForm)===JSON.stringify(this.importForm.value)}getScholarSeasons(){this.isWaitingForResponse=!0,this.financeService.GetAllScholarSeasonsPublished().subscribe(e=>{this.isWaitingForResponse=!1,this.scholars=e},e=>{e&&e.message&&e.message.includes("Network error: Http failure response for")&&b().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})})}onScholarClear(){this.importForm.get("scholar_season_id").value||(this.billingEntities=[])}getBillingEntities(){if(this.isWaitingForResponse=!0,this.importForm.get("billing_entity").patchValue(null),!this.importForm.get("scholar_season_id").value)return this.isWaitingForResponse=!1,void(this.billingEntities=[]);this.financeService.getAllLegalEntityByScholar(this.importForm.get("scholar_season_id").value).subscribe(e=>{this.isWaitingForResponse=!1,this.billingEntities=e},e=>{this.isWaitingForResponse=!1,e&&e.message&&e.message.includes("Network error: Http failure response for")&&b().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})})}initImportForm(){this.importForm=this.fb.group({scholar_season_id:[null,c.Validators.required],billing_entity:[null,c.Validators.required],bank_name:[null,c.Validators.required],date:["",c.Validators.required],accounting_account:[""],bordereau_number:[null,c.Validators.required],legal_id:["",c.Validators.required]})}initDummyImportForm(){this.importDummyForm=this.fb.group({billing_entity:[null,c.Validators.required],bank_name:[null,c.Validators.required],accounting_account:[""],bordereau_number:[null,c.Validators.required],date:["",c.Validators.required]})}openUploadWindow(){this.importFile.nativeElement.click()}ngAfterViewChecked(){this.cdr.detectChanges()}getDataCampus(){}getDataBank(e){console.log("_ev",e),this.importForm.get("bank_name").setValue(null),e&&(this.importForm.get("accounting_account").setValue(e.account_code),this.importForm.get("legal_id").setValue(e._id)),e&&e.banks&&(this.bank=e.banks)}getDataDelimeter(){this.isDelimeterOn=!0}resetImport(){this.importForm.get("billing_entity").setValue(null),this.importForm.get("bank_name").setValue(null),this.importForm.get("accounting_account").setValue(null),this.importForm.get("date").setValue(""),this.importForm.get("bordereau_number").setValue(null),this.path="",this.fileName="",this.templateDonwloaded=!1}onCancelImport(){}submitImport(){this.isWaitingForResponse=!0;const e=this.importForm.value;this.financeService.setDataEntityCheque(e),this.subs.sink=this.financeService.getAllBillingForCheque('filter: { legal_entity: "'+(e.billing_entity?e.billing_entity:"")+'", scholar_season_id:"'+(e.scholar_season_id?e.scholar_season_id:"")+'"}').subscribe(i=>{this.isWaitingForResponse=!1,i&&i.length&&this.financeService.setDataBilling(i),this.financeService.childrenFormValidationStatus=!0,b().fire({type:"success",title:"Bravo !"}).then(s=>{this.financeService.setStatusStepOneCheque(!0),this.financeService.setCurrentStep(1)})},i=>{i&&i.message&&i.message.includes("Network error: Http failure response for")&&b().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})})}csvTypeSelection(){const e=g.cloneDeep(this.importForm.value),n=u(this.importForm.get("date").value,"DD-MM-YYYY").format("DD-MM-YYYY");this.financeService.downloadImportReconciliationCSV(e.delimiter,n)}dataIsChanged(){}toggleSidebar(){this.coreService.sidenavOpen&&(this.coreService.sidenavOpen=!this.coreService.sidenavOpen),this.coreService.sidenavTutorialOpen=!this.coreService.sidenavTutorialOpen}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}}return a.\u0275fac=function(e){return new(e||a)(t.\u0275\u0275directiveInject(h.gz),t.\u0275\u0275directiveInject(c.UntypedFormBuilder),t.\u0275\u0275directiveInject(st.q),t.\u0275\u0275directiveInject(dt.E),t.\u0275\u0275directiveInject(ct.r),t.\u0275\u0275directiveInject(y.sK),t.\u0275\u0275directiveInject(mt.e),t.\u0275\u0275directiveInject(pt.eN),t.\u0275\u0275directiveInject(ht.J),t.\u0275\u0275directiveInject(H.o),t.\u0275\u0275directiveInject(U.Z),t.\u0275\u0275directiveInject(M.uw),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(T.N),t.\u0275\u0275directiveInject(ut.YI),t.\u0275\u0275directiveInject(A.p))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["ms-cheque-entity-bank"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(ke,5),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.importFile=i.first)}},inputs:{schoolId:"schoolId",selectedRncpTitleId:"selectedRncpTitleId",selectedClassId:"selectedClassId"},decls:76,vars:56,consts:[[1,"p-grid",2,"margin-bottom","5px","border-bottom","1px solid #4e4e4e"],[1,"p-col-12",2,"padding-left","10px"],[2,"width","20px","float","left","padding","4px 0px 0px 0px","margin-right","10px"],[2,"font-size","16px"],[1,"titleImport"],["mat-button","",2,"margin-left","10px !important","line-height","16px","margin","0px","padding","0px !important",3,"matTooltip","click"],[2,"font-size","16px","width","65px","position","relative",3,"src"],[1,"p-grid"],[1,"p-col-12",2,"padding-left","0px","padding-right","0px"],["class","p-col-12","style","text-align: center !important; display: contents",4,"ngIf"],[3,"formGroup"],[1,"p-col-7"],[1,"p-grid","baseline"],[2,"width","33%"],["bindLabel","scholar_season","bindValue","_id","formControlName","scholar_season_id",1,"mrgn-btn",2,"width","67%",3,"items","placeholder","change","clear"],["bindLabel","legal_entity_name","bindValue","legal_entity_name","formControlName","billing_entity",1,"mrgn-btn",2,"width","67%",3,"items","placeholder","disabled","change"],["formControlName","bank_name",1,"mrgn-btn",2,"width","67%",3,"items","placeholder","disabled"],["floatLabel","never",2,"width","67%"],["matInput","","readonly","","formControlName","date",3,"placeholder","matDatepicker","click"],["matSuffix","",3,"for"],["myDatepickers",""],["matInput","","formControlName","bordereau_number",3,"placeholder"],[1,"p-grid","mrgn-t-sm"],[1,"p-col-12",2,"text-align","right","padding","0px"],["mat-raised-button","","color","warn",3,"click"],[1,"mat-icon-default"],["mat-raised-button","","color","accent",1,"margin-right-0",3,"disabled","click"],[1,"p-col-12",2,"text-align","center !important","display","contents"],[1,"center-spinner","spinner-wrapper"],["color","accent"]],template:function(e,n){if(1&e){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"span")(4,"mat-icon",3),t.\u0275\u0275text(5,"account_balance"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(6,"div")(7,"span",4),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"button",5),t.\u0275\u0275listener("click",function(){return n.toggleSidebar()}),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275element(12,"img",6),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(13,"div",7)(14,"div",8),t.\u0275\u0275template(15,Ee,3,0,"div",9),t.\u0275\u0275elementStart(16,"mat-card")(17,"form",10)(18,"div",7)(19,"div",11)(20,"div",12)(21,"mat-label",13),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(24,"ng-select",14),t.\u0275\u0275listener("change",function(){return n.getBillingEntities()})("clear",function(){return n.onScholarClear()}),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(26,"div",7)(27,"div",11)(28,"div",12)(29,"mat-label",13),t.\u0275\u0275text(30),t.\u0275\u0275pipe(31,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(32,"ng-select",15),t.\u0275\u0275listener("change",function(d){return n.getDataBank(d)}),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(34,"div",7)(35,"div",11)(36,"div",12)(37,"mat-label",13),t.\u0275\u0275text(38),t.\u0275\u0275pipe(39,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(40,"ng-select",16),t.\u0275\u0275pipe(41,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(42,"div",7)(43,"div",11)(44,"div",12)(45,"mat-label",13),t.\u0275\u0275text(46),t.\u0275\u0275pipe(47,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(48,"mat-form-field",17)(49,"input",18),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const d=t.\u0275\u0275reference(53);return t.\u0275\u0275resetView(d.open())}),t.\u0275\u0275pipe(50,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(51,"mat-datepicker-toggle",19)(52,"mat-datepicker",null,20),t.\u0275\u0275elementStart(54,"mat-error"),t.\u0275\u0275text(55),t.\u0275\u0275pipe(56,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(57,"div",7)(58,"div",11)(59,"div",12)(60,"mat-label",13),t.\u0275\u0275text(61),t.\u0275\u0275pipe(62,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(63,"mat-form-field",17),t.\u0275\u0275element(64,"input",21),t.\u0275\u0275pipe(65,"translate"),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275elementStart(66,"div",22)(67,"div",23)(68,"button",24),t.\u0275\u0275listener("click",function(){return n.resetImport()}),t.\u0275\u0275elementStart(69,"mat-icon",25),t.\u0275\u0275text(70,"cancel"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(71),t.\u0275\u0275pipe(72,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(73,"button",26),t.\u0275\u0275listener("click",function(){return n.submitImport()}),t.\u0275\u0275text(74),t.\u0275\u0275pipe(75,"translate"),t.\u0275\u0275elementEnd()()()}if(2&e){const i=t.\u0275\u0275reference(53);let s,d;t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,26,"Entity & Bank")),t.\u0275\u0275advance(2),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(11,28,"Tutorial for this module")),t.\u0275\u0275advance(2),t.\u0275\u0275property("src",n.tutorialIcon,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275property("formGroup",n.importForm),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(23,30,"Scholar Season"),"*"),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(25,32,"Scholar Season"),"*"),t.\u0275\u0275property("items",n.scholars),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(31,34,"Entity of Billing"),"*"),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(33,36,"Entity of Billing"),"*"),t.\u0275\u0275property("items",n.billingEntities)("disabled",!(null!=n.importForm&&null!=(s=n.importForm.get("scholar_season_id"))&&s.value&&n.billingEntities.length)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(39,38,"Bank"),"*"),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(41,40,"Bank"),"*"),t.\u0275\u0275property("items",n.bank)("disabled",!(null!=n.importForm&&null!=(d=n.importForm.get("scholar_season_id"))&&d.value)||n.isSchoolOn),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(47,42,"Date of Banking")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(50,44,"Date of Banking")),t.\u0275\u0275property("matDatepicker",i),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",i),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(56,46,"This field is required")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(62,48,"Slip Number")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(65,50,"Slip Number")),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(72,52,"CANCEL")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",n.importForm.invalid),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(75,54,"Next")," ")}},dependencies:[_.O5,I.lW,q.a8,S.Mq,S.hl,S.nW,D.Hw,O.TO,O.KE,O.hX,O.R9,j.Nt,W.Ou,V.gM,c.\u0275NgNoValidate,c.DefaultValueAccessor,c.NgControlStatus,c.NgControlStatusGroup,c.FormGroupDirective,c.FormControlName,v.w9,y.X$],styles:[".baseline[_ngcontent-%COMP%]{align-items:baseline}.titleImport[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]  .ng-select .ng-select-container{color:#fff;background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.swal2-button[_ngcontent-%COMP%]{line-height:30px;font-size:12px!important;border-radius:2px}  .swal2-label{font-weight:700;font-size:14px}  .swal2-radio label{font-weight:700!important;font-size:14px!important}.spinner-wrapper[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;display:flex;justify-content:center;align-items:center;top:0;left:0;background-color:#23232380;z-index:998}"]}),a})();var Fe=m(10736),Ie=m(54066),De=m(6190),Be=m(92340),Le=m(99589),Ae=m(23673),Ve=m(11481);function qe(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"tr")(1,"td",49),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"td",50),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"td",50),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"td",50),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"td",51),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"currency"),t.\u0275\u0275elementEnd()()),2&a){const e=l.$implicit,n=l.index,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(i.generateRef(n+1)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.payor),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.bank_name),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.cheque_number),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind4(11,5,null==e?null:e.amount,"EURO","","0.2"))}}function Ne(a,l){if(1&a&&(t.\u0275\u0275elementStart(0,"tr")(1,"td",52),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"td",53),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"td",53),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"td",53),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"td",46),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"currency"),t.\u0275\u0275elementEnd()()),2&a){const e=l.$implicit,n=l.index,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(i.generateRef(n+1)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.payor),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.bank_name),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.cheque_number),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind4(11,5,null==e?null:e.amount,"EURO","","0.2")," ")}}let Re=(()=>{class a{constructor(e,n,i,s,d,o,r,p,x,w){this.candidatesHistoryService=e,this.dialog=n,this.financeService=i,this.parseUTCToLocalPipe=s,this.parseStringDatePipe=d,this.transcriptBuilderService=o,this.parseLocalToUTCPipe=r,this.router=p,this.sanitizer=x,this.coreService=w,this.displayedColumns=["select","accounting","type","date","from","reference","amount","student","program","transaction","lettrage"],this.dataList=["data"],this.filterColumns=["selectFilter","accountingFilter","typeFilter","dateFilter","fromFilter","referenceFilter","amountFilter","studentFilter","programFilter","transactionFilter","lettrageFilter"],this.stamps=Le._.stampDummy,this.candidateFilter=new c.UntypedFormControl(""),this.nationalityFilter=new c.UntypedFormControl("AllF"),this.intakeChannelFilter=new c.UntypedFormControl("AllF"),this.preEngagementLevelFilter=new c.UntypedFormControl("AllM"),this.engagementLevelFilter=new c.UntypedFormControl("AllM"),this.actionFilter=new c.UntypedFormControl("AllF"),this.notificationFilter=new c.UntypedFormControl(""),this.actionByFilter=new c.UntypedFormControl(""),this.dateFilter=new c.UntypedFormControl(""),this.timeFilter=new c.UntypedFormControl(""),this.admissionMemberFilter=new c.UntypedFormControl(""),this.selection=new Z.Ov(!0,[]),this.nationalityFilterList=[{value:"All",key:"AllF"},{value:"FR",key:"French"},{value:"US",key:"American"},{value:"GB",key:"United Kingdom"}],this.intakeChannelFilterList=[{value:"AllF",key:"AllF"},{value:"20-21_EFAPAR_1",key:"20-21 EFAPAR 1"},{value:"21-22_EFATOU_2",key:"21-22 EFATOU 2"},{value:"20-21_ICABOR_1",key:"20-21 ICABOR 1"}],this.actionFilterList=[{value:"AllF",key:"AllF"},{value:"wap_sms",key:"Whatsapp or SMS"},{value:"email",key:"Email"},{value:"note",key:"Note"}],this.engagementLevelFilterList=[{value:"AllM",key:"AllM"},{value:"lost",key:"Lost"},{value:"low",key:"Low"},{value:"medium",key:"Medium"},{value:"high",key:"High"},{value:"registered",key:"Registered"}],this.filteredValues={candidate:"",nationality:"",intake_channel:"",engagement_level:"",action:"",admission_member:"",email_address:""},this.maleIcon="../../../../../assets/img/student_icon.png",this.femaleIcon="../../../../../assets/img/student_icon_fem.png",this.greenHeartIcon="../../../../../assets/img/enagement_icon_green.png",this.stamp="../../../../../assets/img/school-stamp.jpg",this.flagsIconPath="../../../../../assets/icons/flags/",this.dataSource=new C.by([]),this.config={disableClose:!0,width:"600px"},this.dataCount=0,this.subs=new P.Y,this.isReset=!1,this.dataLoaded=!1,this.sortValue=null,this.disableExport=!0,this.disableToday=!0,this.disableYesterday=!0,this.disableLast7Days=!0,this.disableLast30Days=!0,this.disableThisMonth=!0,this.titleList=[],this.originalTitleList=[],this.schoolList=[],this.originalCandidateList=[],this.dummyData=[],this.stepData=[],this.totalAmount=0}ngOnInit(){this.today=u().format("DD/MM/YYYY"),this.subs.sink=this.financeService.dataCheque.subscribe(e=>{e&&(this.dummyData=e,this.getCandidatesHistoryData())}),this.subs.sink=this.financeService.dataChequeEnitty.subscribe(e=>{this.dataEntityCheque=e}),this.subs.sink=this.financeService.allDataCheque.subscribe(e=>{this.stepData=e})}ngOnDestroy(){this.subs.unsubscribe()}generateRef(e){let n="0";return e>=0||e<10?n="00"+e.toString():(e>=10||e<100)&&(n="0"+e.toString()),n}translateDate(e,n){if(e){const s=this.parseStringDatePipe.transformStringToDate(this.parseUTCToLocalPipe.transformDate(e,n||"15:59"));return u(s,"DD/MM/YYYY").format("DD/MM/YY")}return""}thumbsUp(e){this.dummyData[e].letter=!this.dummyData[e].letter,this.getCandidatesHistoryData()}getCandidatesHistoryData(){this.totalAmount=0,this.dataSource.data=this.dummyData,this.dataSource.paginator=this.paginator,this.dataCount=this.dummyData.length,this.dummyData&&this.dummyData.length&&this.dummyData.forEach(e=>{this.totalAmount+=e.amount?e.amount:0})}isAllSelected(){const e=this.selection.selected.length,n=this.dataSource.data.length;return e?this.enableAllTopActions():this.disableAllTopActions(),e===n}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e)),this.selection.hasValue()&&!this.isAllSelected()?this.enableAllTopActions():this.disableAllTopActions()}initFilter(){this.subs.sink=this.candidateFilter.valueChanges.pipe((0,tt.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.candidateFilter.setValue(""),this.filteredValues.candidate="",this.paginator.pageIndex=0,this.isReset||this.getCandidatesHistoryData()):(this.filteredValues.candidate=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getCandidatesHistoryData())})}disableAllTopActions(){this.disableExport=!0,this.disableToday=!0,this.disableYesterday=!0,this.disableLast7Days=!0,this.disableLast30Days=!0,this.disableThisMonth=!0}enableAllTopActions(){this.disableExport=!1,this.disableToday=!1,this.disableYesterday=!1,this.disableLast7Days=!1,this.disableLast30Days=!1,this.disableThisMonth=!1}cleanFilterData(){const e=g.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(i=>{e[i]&&(n+="full_name"===i||"candidate_id"===i?` ${i}:"${e[i]}"`:` ${i}:${e[i]}`)}),n}lettrageDialog(e){this.subs.sink=this.dialog.open(Fe.k,{width:"800px",minHeight:"100px",disableClose:!0}).afterClosed().subscribe(n=>{})}validateData(){this.financeService.setAllDataCheque(null),this.financeService.setConfirmation(null),this.financeService.setDataBilling(null),this.financeService.setDataCheque(null),this.financeService.setDataEntityCheque(null),this.financeService.setStatusStepFourCheque(!1),this.financeService.setStatusStepThreeCheque(!1),this.financeService.setStatusStepTwoCheque(!1),this.financeService.setStatusStepOneCheque(!1),this.financeService.setCurrentStep(0),b().fire({type:"success",title:"Bravo !"}).then(e=>{this.router.navigate(["/finance-follow-up"])})}imgURL(e){return this.sanitizer.bypassSecurityTrustUrl(e)}exportPdf(){const e=document.getElementById("pdf-cheque").innerHTML;let n=De.Y;n+=e,n=Ie.B+n,this.transcriptBuilderService.generatePdf(n,"Cheque Deposit Slip").subscribe(s=>{const d=document.createElement("a");d.setAttribute("type","hidden"),d.download=s.filename,d.href=Be.N.PDF_SERVER_URL+s.filePath,d.target="_blank",document.body.appendChild(d),d.click(),d.remove()})}toggleSidebar(){this.coreService.sidenavOpen&&(this.coreService.sidenavOpen=!this.coreService.sidenavOpen),this.coreService.sidenavTutorialOpen=!this.coreService.sidenavTutorialOpen}}return a.\u0275fac=function(e){return new(e||a)(t.\u0275\u0275directiveInject(ot.m),t.\u0275\u0275directiveInject(M.uw),t.\u0275\u0275directiveInject(T.N),t.\u0275\u0275directiveInject(F.t),t.\u0275\u0275directiveInject(E.n),t.\u0275\u0275directiveInject(Ae.L),t.\u0275\u0275directiveInject(L.w),t.\u0275\u0275directiveInject(h.F0),t.\u0275\u0275directiveInject(Ve.H7),t.\u0275\u0275directiveInject(A.p))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["ms-cheque-deposit-slip"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(Y.NW,7),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.paginator=i.first)}},features:[t.\u0275\u0275ProvidersFeature([F.t,E.n,L.w])],decls:207,vars:91,consts:[[1,"p-grid",2,"margin-bottom","5px","border-bottom","1px solid #4e4e4e"],[1,"p-col-12",2,"padding-left","10px"],[2,"width","20px","float","left","padding","4px 0px 0px 0px","margin-right","10px"],[2,"font-size","16px"],[1,"titleImport"],["mat-button","",2,"margin-left","10px !important","line-height","16px","margin","0px","padding","0px !important","width","16px !important","min-width","16px",3,"matTooltip","click"],[2,"font-size","16px","width","16px"],[1,"pdf-card"],[1,"p-grid"],[1,"p-col-12","text-right","no-padding"],["color","accent","mat-raised-button","",3,"matTooltip","click"],[1,"pdf-container"],[1,"p-col-12"],[1,"p-col-6","no-padding"],[1,"text-left"],[1,"p-col-12","no-padding"],[1,"text-center"],[1,"text-right"],[1,"p-grid","doc-table-wrapper"],["width","100%","border","1"],[1,"bg-gray"],["width","10%",1,"font-weight-bold","pad-l-sm"],["width","25%",1,"font-weight-bold","pad-l-sm"],["width","15%",1,"font-weight-bold","pad-l-sm"],[4,"ngFor","ngForOf"],["width","100%","border","0"],["width","25%",1,"font-weight-bold","pad-l-sm",2,"text-align","right","padding","0px","right","-35px","position","relative"],["width","10%",1,"font-weight-bold","pad-l-sm",2,"padding","0px"],["width","25%",1,"font-weight-bold","pad-l-sm",2,"padding","0px"],["width","15%",1,"font-weight-bold","pad-l-sm",2,"padding","0px"],[1,"p-col-6","no-padding",2,"text-align","center","padding-top","25px !important"],[1,"text-center","name"],[1,"p-col-6","no-padding",2,"text-align","center"],[1,"student-details-img",2,"height","135px",3,"src"],[1,"p-grid","mrgn-t-sm",2,"margin-bottom","20px !important","margin-top","10px !important"],[1,"p-col-12",2,"text-align","right","padding","0px"],["mat-raised-button","","color","accent",1,"margin-right-0",3,"click"],[1,"mat-icon-default"],["id","pdf-cheque",2,"display","none"],[1,"p-col-9","no-padding"],[1,"p-col-3","no-padding"],[2,"width","100%","text-align","right !important","float","right","margin-bottom","10px !important"],["width","10%",1,"font-weight-bold","pad-l-sm",2,"font-size","12px !important","text-align","center !important"],["width","25%",1,"font-weight-bold","pad-l-sm",2,"font-size","12px !important","text-align","center !important"],["width","15%",1,"font-weight-bold","pad-l-sm",2,"font-size","12px !important","text-align","center !important"],["width","25%",1,"font-weight-bold","pad-l-sm",2,"text-align","right","padding","0px","right","-15px","position","relative","font-size","12px"],["width","15%",2,"font-size","12px !important","text-align","center !important"],[1,"p-col-12",2,"position","fixed","bottom","150px"],[1,"text-center",2,"padding-top","50px !important","display","block"],["width","10%",2,"text-align","center !important"],["width","25%",2,"text-align","center !important"],["width","15%",2,"text-align","center !important"],["width","10%",2,"font-size","12px !important","text-align","center !important"],["width","25%",2,"font-size","12px !important","text-align","center !important"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"span")(4,"mat-icon",3),t.\u0275\u0275text(5,"account_balance"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(6,"div")(7,"span",4),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"button",5),t.\u0275\u0275listener("click",function(){return n.toggleSidebar()}),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementStart(12,"mat-icon",6),t.\u0275\u0275text(13,"help"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(14,"mat-card",7)(15,"mat-card-title")(16,"div",8)(17,"div",9)(18,"button",10),t.\u0275\u0275listener("click",function(){return n.exportPdf()}),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(22,"div",11)(23,"div",8)(24,"div",12)(25,"div",8)(26,"div",13)(27,"h5",14),t.\u0275\u0275text(28),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(29,"div",13)(30,"h5",14),t.\u0275\u0275text(31),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(32,"div",8)(33,"div",13)(34,"h5",14),t.\u0275\u0275text(35,"6 avenue de Provence"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(36,"div",13)(37,"h5",14),t.\u0275\u0275text(38,"6 avenue de Provence"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(39,"div",8)(40,"div",13)(41,"h5",14),t.\u0275\u0275text(42,"75452 Paris 9, France"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(43,"div",13)(44,"h5",14),t.\u0275\u0275text(45,"75452 Paris 9, France"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(46,"div",12)(47,"div",8)(48,"div",15)(49,"h5",14),t.\u0275\u0275text(50),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(51,"div",12)(52,"div",8)(53,"div",15)(54,"h3",16),t.\u0275\u0275text(55),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(56,"div",15)(57,"h5",17),t.\u0275\u0275text(58),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(59,"div",18)(60,"table",19),t.\u0275\u0275elementContainerStart(61),t.\u0275\u0275elementStart(62,"tr",20)(63,"td",21),t.\u0275\u0275text(64),t.\u0275\u0275pipe(65,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(66,"td",22),t.\u0275\u0275text(67),t.\u0275\u0275pipe(68,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(69,"td",22),t.\u0275\u0275text(70),t.\u0275\u0275pipe(71,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(72,"td",22),t.\u0275\u0275text(73),t.\u0275\u0275pipe(74,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(75,"td",23),t.\u0275\u0275text(76),t.\u0275\u0275pipe(77,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(78,qe,12,10,"tr",24),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(79,"div",18)(80,"table",25),t.\u0275\u0275elementContainerStart(81),t.\u0275\u0275elementStart(82,"tr"),t.\u0275\u0275element(83,"td",21)(84,"td",22)(85,"td",22),t.\u0275\u0275elementStart(86,"td",26),t.\u0275\u0275text(87),t.\u0275\u0275pipe(88,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(89,"td",23),t.\u0275\u0275text(90),t.\u0275\u0275pipe(91,"currency"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(92,"tr"),t.\u0275\u0275element(93,"td",27)(94,"td",28)(95,"td",28),t.\u0275\u0275elementStart(96,"td",26),t.\u0275\u0275text(97),t.\u0275\u0275pipe(98,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(99,"td",29),t.\u0275\u0275text(100),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(101,"div",12)(102,"div",8)(103,"div",30)(104,"h5",16),t.\u0275\u0275text(105),t.\u0275\u0275pipe(106,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(107,"span",31),t.\u0275\u0275text(108,"(..................................)"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(109,"div",32),t.\u0275\u0275element(110,"img",33),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(111,"div",34)(112,"div",35)(113,"button",36),t.\u0275\u0275listener("click",function(){return n.validateData()}),t.\u0275\u0275elementStart(114,"mat-icon",37),t.\u0275\u0275text(115,"euro"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(116),t.\u0275\u0275pipe(117,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(118,"div",38)(119,"div",8)(120,"div",12)(121,"div",8)(122,"div",39)(123,"span",14),t.\u0275\u0275text(124),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(125,"div",40)(126,"span",14),t.\u0275\u0275text(127),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(128,"div",8)(129,"div",39)(130,"span",14),t.\u0275\u0275text(131,"6 avenue de Provence"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(132,"div",40)(133,"span",14),t.\u0275\u0275text(134,"6 avenue de Provence"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(135,"div",8)(136,"div",39)(137,"span",14),t.\u0275\u0275text(138,"75452 Paris 9, France"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(139,"div",40)(140,"span",14),t.\u0275\u0275text(141,"75452 Paris 9, France"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(142,"div",12)(143,"div",8)(144,"div",15)(145,"span",14),t.\u0275\u0275text(146),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(147,"div",15)(148,"div",8)(149,"div",15)(150,"h3",16),t.\u0275\u0275text(151),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(152,"div",15)(153,"span",41),t.\u0275\u0275text(154),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(155,"div",8)(156,"table",19),t.\u0275\u0275elementContainerStart(157),t.\u0275\u0275elementStart(158,"tr",20)(159,"td",42),t.\u0275\u0275text(160),t.\u0275\u0275pipe(161,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(162,"td",43),t.\u0275\u0275text(163),t.\u0275\u0275pipe(164,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(165,"td",43),t.\u0275\u0275text(166),t.\u0275\u0275pipe(167,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(168,"td",43),t.\u0275\u0275text(169),t.\u0275\u0275pipe(170,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(171,"td",44),t.\u0275\u0275text(172),t.\u0275\u0275pipe(173,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(174,Ne,12,10,"tr",24),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(175,"div",8)(176,"table",25),t.\u0275\u0275elementContainerStart(177),t.\u0275\u0275elementStart(178,"tr"),t.\u0275\u0275element(179,"td",21)(180,"td",22)(181,"td",22),t.\u0275\u0275elementStart(182,"td",45),t.\u0275\u0275text(183),t.\u0275\u0275pipe(184,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(185,"td",46),t.\u0275\u0275text(186),t.\u0275\u0275pipe(187,"currency"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(188,"tr"),t.\u0275\u0275element(189,"td",21)(190,"td",22)(191,"td",22),t.\u0275\u0275elementStart(192,"td",45),t.\u0275\u0275text(193),t.\u0275\u0275pipe(194,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(195,"td",46),t.\u0275\u0275text(196),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(197,"div",47)(198,"div",8)(199,"div",30)(200,"h5",16),t.\u0275\u0275text(201),t.\u0275\u0275pipe(202,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(203,"span",48),t.\u0275\u0275text(204,"(..................................)"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(205,"div",32),t.\u0275\u0275element(206,"img",33),t.\u0275\u0275elementEnd()()()()),2&e&&(t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,39,"Cheque Deposit Slip")),t.\u0275\u0275advance(2),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(11,41,"Tutorial for this module")),t.\u0275\u0275advance(8),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(19,43,"PDF")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(21,45,"PDF")," "),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(null==n.dataEntityCheque?null:n.dataEntityCheque.billing_entity),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(null==n.dataEntityCheque?null:n.dataEntityCheque.bank_name),t.\u0275\u0275advance(19),t.\u0275\u0275textInterpolate1("Compte : ",null==n.dataEntityCheque?null:n.dataEntityCheque.accounting_account,""),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("Bordereau No : ",null==n.dataEntityCheque?null:n.dataEntityCheque.bordereau_number,""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("Date : ",n.today,""),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(65,47,"Ref")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(68,49,"Payor")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(71,51,"Bank")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(74,53,"Chq. Nber")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(77,55,"Amount")," (\u20ac)"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.dummyData),t.\u0275\u0275advance(9),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(88,57,"Total Amount")," : "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind4(91,59,n.totalAmount,"EURO","","0.2")),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(98,64,"Nber of Cheques")," : "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",n.dummyData&&n.dummyData.length?n.dummyData.length:"-"," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(106,66,"Signature")),t.\u0275\u0275advance(5),t.\u0275\u0275property("src",n.stamp,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(117,68,"Retour Tableau de suivi des paiement")," "),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(null==n.dataEntityCheque?null:n.dataEntityCheque.billing_entity),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(null==n.dataEntityCheque?null:n.dataEntityCheque.bank_name),t.\u0275\u0275advance(19),t.\u0275\u0275textInterpolate1("Compte : ",null==n.dataEntityCheque?null:n.dataEntityCheque.accounting_account,""),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("Bordereau No : ",null==n.dataEntityCheque?null:n.dataEntityCheque.bordereau_number,""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("Date : ",n.today,""),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(161,70,"Ref")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(164,72,"Payor")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(167,74,"Bank")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(170,76,"Chq. Nber")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(173,78,"Amount")," (\u20ac) "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.dummyData),t.\u0275\u0275advance(9),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(184,80,"Total Amount")," : "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind4(187,82,n.totalAmount,"EURO","","0.2")," "),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(194,87,"Nber of Cheques")," : "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",n.dummyData&&n.dummyData.length?n.dummyData.length:"-"," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(202,89,"Signature")),t.\u0275\u0275advance(5),t.\u0275\u0275property("src",n.stamps,t.\u0275\u0275sanitizeUrl))},dependencies:[_.sg,I.lW,q.a8,q.n5,D.Hw,V.gM,_.H9,y.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}@font-face{font-family:firaSans;src:url(FiraSansExtraCondensed-Regular.4f3f4d10e46c8043.woff)}.pdf-card[_ngcontent-%COMP%]{margin:1rem;border-radius:2px;padding:8px}.pdf-container[_ngcontent-%COMP%]{font-size:12px;background-color:#fff;color:#000;padding:10px;padding-bottom:40px!important}span.text-center.name[_ngcontent-%COMP%]{padding-top:50px!important;display:block}.doc-rncp-title[_ngcontent-%COMP%]{text-align:center;font-weight:700;display:block}.font-weight-bold[_ngcontent-%COMP%]{text-align:center;font-weight:700}.doc-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;margin:30px auto}tbody[_ngcontent-%COMP%]{display:table-row-group;vertical-align:middle;border-color:inherit}.table-row-border[_ngcontent-%COMP%]{border:2px solid #000}.table-row-side-border[_ngcontent-%COMP%]{border-right:2px solid #000;border-left:2px solid #000;border-bottom:1px dotted #000}.gray-bg[_ngcontent-%COMP%]{background-color:#d6d6d6;padding:3px 5px}.blue-bg[_ngcontent-%COMP%]{background-color:#ecf3ff;padding:3px 5px}.white-bg[_ngcontent-%COMP%]{background-color:#fff;padding:3px 5px}.placeholder-text[_ngcontent-%COMP%]{color:transparent}.outline-border-grey[_ngcontent-%COMP%]{border:1px black solid;background:#d6d6d6;color:#000}.outline-border-white[_ngcontent-%COMP%]{border:1px black solid;background:white;color:#000}.outline-border-dot[_ngcontent-%COMP%]{border-style:dotted solid dotted solid;border-width:1px;border-color:#000;background:white;color:#000}@page Section1{size:8.27in 11.69in;margin:.5in;mso-header-margin:.5in;mso-footer-margin:.5in;mso-paper-source:0}div.Section1[_ngcontent-%COMP%]{page:Section1}"]}),a})();function ze(a,l){1&a&&(t.\u0275\u0275elementStart(0,"h5"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(2,2,"FINANCE_IMPORT.Step 1")," ",t.\u0275\u0275pipeBind1(3,4,"Entity & Bank"),""))}function Ue(a,l){1&a&&t.\u0275\u0275element(0,"ms-cheque-entity-bank")}function Ye(a,l){1&a&&(t.\u0275\u0275elementStart(0,"h5"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(2,2,"FINANCE_IMPORT.Step 2")," ",t.\u0275\u0275pipeBind1(3,4,"Cheques to Banking"),""))}function je(a,l){1&a&&t.\u0275\u0275element(0,"ms-cheque-to-bank")}function He(a,l){1&a&&(t.\u0275\u0275elementStart(0,"h5"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(2,2,"FINANCE_IMPORT.Step 3")," ",t.\u0275\u0275pipeBind1(3,4,"Confirmation"),""))}function We(a,l){1&a&&t.\u0275\u0275element(0,"ms-confirmation-step")}function $e(a,l){1&a&&(t.\u0275\u0275elementStart(0,"h5"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(2,2,"FINANCE_IMPORT.Step 4")," ",t.\u0275\u0275pipeBind1(3,4,"Cheque Deposit Slip"),""))}function Ge(a,l){1&a&&t.\u0275\u0275element(0,"ms-cheque-deposit-slip")}const Qe=[{path:"",component:(()=>{class a{constructor(e,n,i){this.pageTitleService=e,this.financeService=n,this.translate=i,this.subs=new P.Y,this.selected=0,this.tabIndex=0,this.firstTab=!1,this.secondTab=!1,this.thirdTab=!1,this.fourthTab=!1}ngOnInit(){this.financeService.setDataEntityCheque(null),this.subs.sink=this.financeService.statusStepOneCheque.subscribe(e=>{e&&(this.selected=1,this.secondTab=!0)}),this.subs.sink=this.financeService.statusStepTwoCheque.subscribe(e=>{e&&(this.selected=2,this.thirdTab=!0)}),this.subs.sink=this.financeService.statusStepThreeCheque.subscribe(e=>{e&&(this.selected=3,this.fourthTab=!0)}),this.subs.sink=this.financeService.statusStepFourCheque.subscribe(e=>{e&&(this.selected=0)}),this.subs.sink=this.financeService.currentStep.subscribe(e=>{this.selected=e,1===this.selected?this.secondTab=!0:2===this.selected?this.thirdTab=!0:3===this.selected&&(this.fourthTab=!0)})}ngAfterViewInit(){this.tabs._handleClick=this.checkIfAnyChildrenFormInvalid.bind(this)}checkIfAnyChildrenFormInvalid(e,n,i){return this.financeService.childrenFormValidationStatus?f.SP.prototype._handleClick.apply(this.tabs,[e,n,i]):this.fireUnsavedDataWarningSwal(e,n,i)}fireUnsavedDataWarningSwal(e,n,i){b().fire({type:"warning",title:this.translate.instant("TMTC_S01.TITLE"),text:this.translate.instant("TMTC_S01.TEXT"),confirmButtonText:this.translate.instant("TMTC_S01.BUTTON_1"),showCancelButton:!0,cancelButtonText:this.translate.instant("TMTC_S01.BUTTON_2"),allowEscapeKey:!1,allowOutsideClick:!1}).then(s=>!s.value&&(s.dismiss?(this.financeService.childrenFormValidationStatus=!0,f.SP.prototype._handleClick.apply(this.tabs,[e,n,i])):void 0))}ngOnDestroy(){this.financeService.setCurrentStep(0)}getTabIndex(e){return e===this.translate.instant("FINANCE_IMPORT.Step 1")+" "+this.translate.instant("Entity & Bank")?0:e===this.translate.instant("FINANCE_IMPORT.Step 2")+" "+this.translate.instant("Cheques to Banking")?1:e===this.translate.instant("FINANCE_IMPORT.Step 3")+" "+this.translate.instant("Confirmation")?2:e===this.translate.instant("FINANCE_IMPORT.Step 4")+" "+this.translate.instant("Cheque Deposit Slip")?3:e!==this.translate.instant("Next")&&e!==this.translate.instant("Previous")&&e!==this.translate.instant("Retour Tableau de suivi des paiement")?-1:void(this.subs.sink=this.financeService.currentStep.subscribe(n=>{this.selected=n}))}getValidTab(e){return e===this.translate.instant("FINANCE_IMPORT.Step 1")+" "+this.translate.instant("Entity & Bank")||e===this.translate.instant("FINANCE_IMPORT.Step 2")+" "+this.translate.instant("Cheques to Banking")||e===this.translate.instant("FINANCE_IMPORT.Step 3")+" "+this.translate.instant("Confirmation")||e===this.translate.instant("FINANCE_IMPORT.Step 4")+" "+this.translate.instant("Cheque Deposit Slip")||e===this.translate.instant("Next")||e===this.translate.instant("Previous")||e===this.translate.instant("Retour Tableau de suivi des paiement")}getTabFromParam(e){return e===this.translate.instant("cheque-entity-bank")?0:e===this.translate.instant("cheque-to-bank")?1:e===this.translate.instant("confirmation-step")?2:e===this.translate.instant("cheque-deposit-slip")?3:-1}canDeactivate(){return this.financeService.childrenFormValidationStatus?(this.financeService.childrenFormValidationStatus=!0,!0):new Promise((e,n)=>{b().fire({type:"warning",title:this.translate.instant("TMTC_S01.TITLE"),text:this.translate.instant("TMTC_S01.TEXT"),confirmButtonText:this.translate.instant("TMTC_S01.BUTTON_1"),showCancelButton:!0,cancelButtonText:this.translate.instant("TMTC_S01.BUTTON_2"),allowEscapeKey:!1,allowOutsideClick:!1}).then(i=>{i.value?e(!1):i.dismiss&&(this.financeService.childrenFormValidationStatus=!0,e(!0))})})}}return a.\u0275fac=function(e){return new(e||a)(t.\u0275\u0275directiveInject(U.Z),t.\u0275\u0275directiveInject(T.N),t.\u0275\u0275directiveInject(y.sK))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["ms-cheque-transaction"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(f.SP,5),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.tabs=i.first)}},decls:14,vars:4,consts:[[3,"selectedIndex"],["value","cheque-entity-bank","label","first-step"],["mat-tab-label",""],["matTabContent",""],["value","cheque-to-bank","label","second-step",3,"disabled"],["value","confirmation-step","label","third-step",3,"disabled"],["value","cheque-deposit-slip","label","fourth-step",3,"disabled"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div")(1,"mat-tab-group",0)(2,"mat-tab",1),t.\u0275\u0275template(3,ze,4,6,"ng-template",2),t.\u0275\u0275template(4,Ue,1,0,"ng-template",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-tab",4),t.\u0275\u0275template(6,Ye,4,6,"ng-template",2),t.\u0275\u0275template(7,je,1,0,"ng-template",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"mat-tab",5),t.\u0275\u0275template(9,He,4,6,"ng-template",2),t.\u0275\u0275template(10,We,1,0,"ng-template",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"mat-tab",6),t.\u0275\u0275template(12,$e,4,6,"ng-template",2),t.\u0275\u0275template(13,Ge,1,0,"ng-template",3),t.\u0275\u0275elementEnd()()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("selectedIndex",n.selected),t.\u0275\u0275advance(4),t.\u0275\u0275property("disabled",1>n.selected&&!n.secondTab),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",2>n.selected&&!n.thirdTab),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",3>n.selected&&!n.fourthTab))},dependencies:[f.SP,f.uD,f.uX,f.Vc,Ce,we,Te,Re,y.X$]}),a})(),canDeactivate:[k.g]}];let Ke=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=t.\u0275\u0275defineInjector({imports:[h.Bz.forChild(Qe),h.Bz]}),a})(),Xe=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:t.LOCALE_ID,useValue:"fr-FR"},{provide:t.LOCALE_ID,useValue:"id-ID"},{provide:t.LOCALE_ID,useValue:"es-ES"}],imports:[_.ez,Ke,N.m,R.d,v.A0,z.ii.forRoot()]}),a})()},83515:(gt,B,m)=>{m.d(B,{w:()=>R});var t=m(15439),N=m(94650);let R=(()=>{class v{transform(h,k){return h?t(h,"HH:mm").add(-t().utcOffset(),"m").format("HH:mm"):""}transformDate(h,k){return h?t(h+k,"DD/MM/YYYYHH:mm").add(-t().utcOffset(),"m").format("DD/MM/YYYY"):""}transformDateTime(h,k){return h?t(h+k,"DD/MM/YYYYHH:mm").add(-t().utcOffset(),"m").format("DD/MM/YYYYHH:mm"):""}transformJavascriptDate(h){if(h){const k=t(h).format("DD/MM/YYYY"),f=t(h).format("HH:mm"),P=t(k+f,"DD/MM/YYYYHH:mm").add(-t().utcOffset(),"m");return{date:P.format("DD/MM/YYYY"),time:P.format("HH:mm")}}return""}}return v.\u0275fac=function(h){return new(h||v)},v.\u0275pipe=N.\u0275\u0275definePipe({name:"parseLocalToUtc",type:v,pure:!0}),v})()}}]);