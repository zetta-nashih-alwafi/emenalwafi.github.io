"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[4235],{75223:(et,V,_)=>{_.d(V,{r:()=>j});var a=_(94650),L=_(89383),q=_(36895),$=_(97392);function E(h,S){1&h&&(a.\u0275\u0275elementStart(0,"span",12),a.\u0275\u0275text(1," , "),a.\u0275\u0275elementEnd())}function f(h,S){if(1&h&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275template(3,E,2,0,"span",11),a.\u0275\u0275elementContainerEnd()),2&h){const d=S.$implicit,O=S.last;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(2,2,d)," "),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",!O)}}function C(h,S){if(1&h){const d=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-icon",13),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(d);const y=a.\u0275\u0275nextContext(3),M=y.$implicit,F=y.index,k=a.\u0275\u0275nextContext(3);return a.\u0275\u0275resetView(k.removeFilter(M,F))}),a.\u0275\u0275text(1,"close"),a.\u0275\u0275elementEnd()}}function x(h,S){if(1&h&&(a.\u0275\u0275elementStart(0,"span",9),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275template(3,f,4,4,"ng-container",7),a.\u0275\u0275template(4,C,2,0,"mat-icon",10),a.\u0275\u0275elementEnd()),2&h){const d=a.\u0275\u0275nextContext(2).$implicit,O=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("",a.\u0275\u0275pipeBind1(2,3,null==d?null:d.column)," : "),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",null==d?null:d.key),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!(O.isReadmission&&"scholar_season"===(null==d?null:d.name)))}}function w(h,S){if(1&h){const d=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-icon",13),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(d);const y=a.\u0275\u0275nextContext(3),M=y.$implicit,F=y.index,k=a.\u0275\u0275nextContext(3);return a.\u0275\u0275resetView(k.removeFilter(M,F))}),a.\u0275\u0275text(1,"close"),a.\u0275\u0275elementEnd()}}function K(h,S){if(1&h&&(a.\u0275\u0275elementStart(0,"span",9),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275template(4,w,2,0,"mat-icon",10),a.\u0275\u0275elementEnd()),2&h){const d=a.\u0275\u0275nextContext(2).$implicit,O=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate2("",a.\u0275\u0275pipeBind1(2,3,null==d?null:d.column)," : ",a.\u0275\u0275pipeBind1(3,5,null==d?null:d.key)," "),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",!(O.isReadmission&&"scholar_season"===(null==d?null:d.name)))}}function z(h,S){if(1&h&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,x,5,5,"span",8),a.\u0275\u0275template(2,K,5,7,"span",8),a.\u0275\u0275elementContainerEnd()),2&h){const d=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",null==d?null:d.isMultiple),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!(null!=d&&d.isMultiple))}}function W(h,S){if(1&h&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,z,3,2,"ng-container",1),a.\u0275\u0275elementContainerEnd()),2&h){const d=S.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","super_filter"===(null==d?null:d.type))}}function v(h,S){if(1&h&&(a.\u0275\u0275elementStart(0,"div",4)(1,"span",5),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"span"),a.\u0275\u0275text(5,":"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"span",6),a.\u0275\u0275template(7,W,2,1,"ng-container",7),a.\u0275\u0275elementEnd()()),2&h){const d=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass","en"===d.translate.currentLang?"filter-type":"filter-type-fr"),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("",a.\u0275\u0275pipeBind1(3,3,"Super Filter")," "),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",d.filterBreadcrumbData)}}function I(h,S){1&h&&(a.\u0275\u0275elementStart(0,"span",12),a.\u0275\u0275text(1," , "),a.\u0275\u0275elementEnd())}function G(h,S){if(1&h&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275template(3,I,2,0,"span",11),a.\u0275\u0275elementContainerEnd()),2&h){const d=S.$implicit,O=S.last,y=a.\u0275\u0275nextContext(3).$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",null!=y&&y.noTranslate?d:a.\u0275\u0275pipeBind1(2,2,d)," "),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",!O)}}function Q(h,S){if(1&h){const d=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"span",9),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275template(4,G,4,4,"ng-container",7),a.\u0275\u0275elementStart(5,"mat-icon",13),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(d);const y=a.\u0275\u0275nextContext(2),M=y.$implicit,F=y.index,k=a.\u0275\u0275nextContext(3);return a.\u0275\u0275resetView(k.removeFilter(M,F))}),a.\u0275\u0275text(6,"close"),a.\u0275\u0275elementEnd()()}if(2&h){const d=a.\u0275\u0275nextContext(2).$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("",null!=d&&d.stepColumnName?a.\u0275\u0275pipeBind1(2,2,null==d?null:d.stepColumnName)+" "+(null==d?null:d.column):a.\u0275\u0275pipeBind1(3,4,null==d?null:d.column)," : "),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",null==d?null:d.key)}}function X(h,S){if(1&h){const d=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"span",9),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275pipe(4,"translate"),a.\u0275\u0275elementStart(5,"mat-icon",13),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(d);const y=a.\u0275\u0275nextContext(2),M=y.$implicit,F=y.index,k=a.\u0275\u0275nextContext(3);return a.\u0275\u0275resetView(k.removeFilter(M,F))}),a.\u0275\u0275text(6,"close"),a.\u0275\u0275elementEnd()()}if(2&h){const d=a.\u0275\u0275nextContext(2).$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate2("",null!=d&&d.stepColumnName?a.\u0275\u0275pipeBind1(2,2,null==d?null:d.stepColumnName)+" "+(null==d?null:d.column):a.\u0275\u0275pipeBind1(3,4,null==d?null:d.column)," : ",!0===(null==d?null:d.noTranslate)?null==d?null:d.key:a.\u0275\u0275pipeBind1(4,6,null==d?null:d.key)," ")}}function R(h,S){if(1&h&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,Q,7,6,"span",8),a.\u0275\u0275template(2,X,7,8,"span",8),a.\u0275\u0275elementContainerEnd()),2&h){const d=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",null==d?null:d.isMultiple),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!(null!=d&&d.isMultiple))}}function Y(h,S){if(1&h&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,R,3,2,"ng-container",1),a.\u0275\u0275elementContainerEnd()),2&h){const d=S.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","table_filter"===(null==d?null:d.type))}}function Z(h,S){if(1&h&&(a.\u0275\u0275elementStart(0,"div",14)(1,"span",5),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"span"),a.\u0275\u0275text(5,":"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"span",6),a.\u0275\u0275template(7,Y,2,1,"ng-container",7),a.\u0275\u0275elementEnd()()),2&h){const d=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass","en"===d.translate.currentLang?"filter-type":"filter-type-fr"),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("",a.\u0275\u0275pipeBind1(3,3,"Table Filter")," "),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",d.filterBreadcrumbData)}}function g(h,S){if(1&h){const d=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"span",9),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementStart(4,"mat-icon",13),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(d);const y=a.\u0275\u0275nextContext(),M=y.$implicit,F=y.index,k=a.\u0275\u0275nextContext(3);return a.\u0275\u0275resetView(k.removeFilter(M,F))}),a.\u0275\u0275text(5,"close"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerEnd()}if(2&h){const d=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1("",a.\u0275\u0275pipeBind1(3,1,null==d?null:d.key)," ")}}function P(h,S){if(1&h&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,g,6,3,"ng-container",1),a.\u0275\u0275elementContainerEnd()),2&h){const d=S.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","action_filter"===(null==d?null:d.type))}}function t(h,S){if(1&h&&(a.\u0275\u0275elementStart(0,"div",14)(1,"span",5),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"span"),a.\u0275\u0275text(5,":"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"span",6),a.\u0275\u0275template(7,P,2,1,"ng-container",7),a.\u0275\u0275elementEnd()()),2&h){const d=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass","en"===d.translate.currentLang?"filter-type":"filter-type-fr"),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("",a.\u0275\u0275pipeBind1(3,3,"Action Filter")," "),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",d.filterBreadcrumbData)}}function B(h,S){if(1&h&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,v,8,5,"div",2),a.\u0275\u0275template(2,Z,8,5,"div",3),a.\u0275\u0275template(3,t,8,5,"div",3),a.\u0275\u0275elementContainerEnd()),2&h){const d=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",d.filterDataExist("super_filter")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",d.filterDataExist("table_filter")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",d.filterDataExist("action_filter"))}}let j=(()=>{class h{constructor(d){this.translate=d,this.removeFilterTrigger=new a.EventEmitter}ngOnInit(){}filterDataExist(d){return!!this.filterBreadcrumbData.find(y=>y?.type===d)}removeFilter(d,O){this.filterBreadcrumbData.splice(O,1),this.removeFilterTrigger.emit(d)}}return h.\u0275fac=function(d){return new(d||h)(a.\u0275\u0275directiveInject(L.sK))},h.\u0275cmp=a.\u0275\u0275defineComponent({type:h,selectors:[["ms-filter-breadcrumb"]],inputs:{filterBreadcrumbData:"filterBreadcrumbData",isReadmission:"isReadmission"},outputs:{removeFilterTrigger:"removeFilterTrigger"},decls:2,vars:1,consts:[[1,"filter-breadcrumb"],[4,"ngIf"],["class","filter-breadcrumb-container mt-10",4,"ngIf"],["class","filter-breadcrumb-container",4,"ngIf"],[1,"filter-breadcrumb-container","mt-10"],[3,"ngClass"],[1,"breadcrumb-value"],[4,"ngFor","ngForOf"],["class","breadcrumb-filter",4,"ngIf"],[1,"breadcrumb-filter"],["class","icon-remove",3,"click",4,"ngIf"],["class","comma",4,"ngIf"],[1,"comma"],[1,"icon-remove",3,"click"],[1,"filter-breadcrumb-container"]],template:function(d,O){1&d&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275template(1,B,4,3,"ng-container",1),a.\u0275\u0275elementEnd()),2&d&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",null==O.filterBreadcrumbData?null:O.filterBreadcrumbData.length))},dependencies:[q.mk,q.sg,q.O5,$.Hw,L.X$],styles:[".filter-breadcrumb[_ngcontent-%COMP%]{padding:1rem}.filter-breadcrumb-container[_ngcontent-%COMP%]{display:flex;align-items:baseline}.filter-breadcrumb-container[_ngcontent-%COMP%] ~ .filter-breadcrumb-container[_ngcontent-%COMP%]{margin-top:1rem}.breadcrumb-value[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:0 1rem;gap:4px}.filter-type[_ngcontent-%COMP%]{width:100px}.filter-type-fr[_ngcontent-%COMP%]{width:150px}.breadcrumb-filter[_ngcontent-%COMP%]{background-color:#ffd740;color:#000;padding:.25rem .5rem;border-radius:.375rem;font-size:.75rem;display:flex;flex-wrap:wrap;align-items:center}.comma[_ngcontent-%COMP%]{margin-right:4px}.icon-remove[_ngcontent-%COMP%]{vertical-align:middle;margin-left:.25rem;font-size:inherit;cursor:pointer}"]}),h})()},62416:(et,V,_)=>{_.d(V,{t:()=>$});var a=_(15439),q=_(94650);let $=(()=>{class E{transform(C,x){return C?a(C,"HH:mm").subtract(-a().utcOffset(),"m").format("HH:mm"):""}transformAMPM(C,x){return C?a(C,"HH:mm").subtract(-a().utcOffset(),"m").format("HH:mm"):""}transformDate(C,x){if(C&&x)return a(C+x,"DD/MM/YYYYHH:mm").subtract(-a().utcOffset(),"m").format("DD/MM/YYYY")}transformDateInDateFormat(C,x){if(C&&x)return a(C+x,"DD/MM/YYYYHH:mm").subtract(-a().utcOffset(),"m")}fixDateFormat(C){if(C&&C.includes("-")){const x=C.split("-");C=`${x[2]}/${x[1]}/${x[0]}`}return C}fixDateFormatUtc(C){if(C&&C.includes("-")){const x=C.split("-");C=`${x[2].split("T")[0]}/${x[1]}/${x[0]}`}return C}fixTimeFormat(C){return C&&!C.includes(":")&&(C="00:00"),C}transformDateToJavascriptDate(C,x){if(C=this.fixDateFormat(C),x=this.fixTimeFormat(x),C&&x)return a(C+x,"DD/MM/YYYYHH:mm").subtract(-a().utcOffset(),"m").toDate()}transformDateToStringFormat(C,x){if(C&&x)return a(C+x,"DD/MM/YYYYHH:mm").subtract(-a().utcOffset(),"m").format("MMM DD, YYYY")}}return E.\u0275fac=function(C){return new(C||E)},E.\u0275pipe=q.\u0275\u0275definePipe({name:"parseUtcToLocal",type:E,pure:!0}),E})()},94235:(et,V,_)=>{_.r(V),_.d(V,{StudentsTableModule:()=>Si});var a=_(36895),L=_(610),q=_(25360),$=_(95017),E=_(80529),f=_(24006),C=_(98739),x=_(96308),w=_(53626),K=_(41076),z=_(62416),W=_(92340),v=_(17489),I=_(15439),G=_(1059),Q=_(22868),X=_(24850),R=_(80013),Y=_(68745),Z=_(35226),g=_.n(Z),P=_(65938),t=_(94650),B=_(89383),j=_(69725),h=_(52688),S=_(73555),d=_(3238),O=_(4859),y=_(97392),M=_(59549),F=_(51572),k=_(84385);function ct(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",20,21),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),o=i.$implicit,s=i.index,r=t.\u0275\u0275reference(1),p=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(p.checkSequence(r,o,s))}),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()}if(2&l){const e=c.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.name)}}function dt(l,c){1&l&&(t.\u0275\u0275elementStart(0,"mat-option",22),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")))}function pt(l,c){1&l&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ut(l,c){1&l&&(t.\u0275\u0275elementStart(0,"div",23),t.\u0275\u0275element(1,"mat-progress-spinner",24),t.\u0275\u0275elementEnd())}let nt=(()=>{class l{constructor(e,n,i,o,s,r){this.translate=e,this.fb=n,this.dialogRef=i,this.data=o,this.studentService=s,this.authService=r,this.sequenceList=[],this.subs=new Y.Y,this.isWaitingForResponse=!1,this.listSequence=[],this.listSequenceDate=[],this.listDatePerSequence=[],this.checkSequenceAvail=!1}ngOnInit(){this.data&&this.data.program_id&&(this.programId=this.data.program_id,this.getSequenceDropdown()),this.initForm()}initForm(){this.sequenceForm=this.fb.group({program_sequence_ids:[null,[f.Validators.required]]})}getSequenceDropdown(){this.isWaitingForResponse=!0,this.subs.sink=this.studentService.GetOneProgram(this.programId).subscribe(e=>{this.isWaitingForResponse=!1,e&&e.course_sequence_id&&e.course_sequence_id.program_sequences_id&&(this.sequenceList=e.course_sequence_id.program_sequences_id,this.sequenceFilter())},e=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(e),g().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("OK")})})}sequenceFilter(){if(this.sequenceList&&this.sequenceList.length)if("single"===this.data.type)this.data.program_sequence_ids&&this.data.program_sequence_ids.length&&this.data.program_sequence_ids.forEach(e=>{this.sequenceList=this.sequenceList.filter(n=>n._id!==e._id)});else if("multiple"===this.data.type&&this.data.program_sequence_ids&&this.data.program_sequence_ids.length){let e;for(let n=0;n<this.data.program_sequence_ids.length&&(e=v(this.data.program_sequence_ids[0]).xorWith(this.data.program_sequence_ids[n],v.isEqual).isEmpty(),e);n++);e&&this.data.program_sequence_ids[0]&&this.data.program_sequence_ids[0].length&&this.data.program_sequence_ids[0].forEach(n=>{this.sequenceList=this.sequenceList.filter(i=>i._id!==n._id)})}}onValidate(){if(this.sequenceForm.invalid)return g().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.sequenceForm.markAllAsTouched(),!0;this.checkSequenceAvail?g().fire({type:"warning",title:this.translate.instant("StudTable_S1.Title"),html:this.translate.instant("StudTable_S1.Text"),confirmButtonText:this.translate.instant("StudTable_S1.Button")}).then(e=>{"single"===this.data.type?this.assignSingle():"multiple"===this.data.type&&this.assignMultiple()}):"single"===this.data.type?this.assignSingle():"multiple"===this.data.type&&this.assignMultiple()}createPayloadSingle(){return v.cloneDeep(this.sequenceForm.get("program_sequence_ids").value)}assignSingle(){const e=this.createPayloadSingle();this.isWaitingForResponse=!0,this.subs.sink=this.studentService.AssignProgramSequencesToStudent(e,this.data.student_id,this.data.candidate_id).subscribe(n=>{this.isWaitingForResponse=!1,n&&g().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},n=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(n),n&&n.message&&String(n.message).includes("cannot add student to class, limit already reached")?g().fire({type:"warning",title:this.translate.instant("StudTable_S3.Title"),html:this.translate.instant("StudTable_S3.Text"),confirmButtonText:this.translate.instant("StudTable_S3.Button"),allowOutsideClick:!1}):n&&n.message&&String(n.message).includes("sequence does not have group yet")?g().fire({type:"warning",title:this.translate.instant("StudTable_S4.Title"),html:this.translate.instant("StudTable_S4.Text"),confirmButtonText:this.translate.instant("StudTable_S4.Button"),allowOutsideClick:!1}):g().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}createPayloadMultiple(){const e=v.cloneDeep(this.data.candidates),n=v.cloneDeep(this.data.program_sequence_ids),i=[];return Array.isArray(e)&&e.forEach((o,s)=>{let r,p=v.cloneDeep(this.sequenceForm.get("program_sequence_ids").value);if(n&&n.length&&n[s]&&n[s].length&&p&&p.length){let m;p.forEach((u,b)=>{m=n[s].filter(T=>T._id===u),m&&m.length&&p.splice(b,1)})}r={student_id:o.student_id,candidate_id:o.candidate_id,program_sequence_ids:p},i.push(r)}),i}assignMultiple(){const e=this.createPayloadMultiple();this.isWaitingForResponse=!0,this.subs.sink=this.studentService.AssignManySequencesToManyStudents(e).subscribe(n=>{this.isWaitingForResponse=!1,n&&g().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},n=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(n),n&&n.message&&String(n.message).includes("cannot add student to class, limit already reached")?g().fire({type:"warning",title:this.translate.instant("StudTable_S3.Title"),html:this.translate.instant("StudTable_S3.Text"),confirmButtonText:this.translate.instant("StudTable_S3.Button"),allowOutsideClick:!1}):n&&n.message&&String(n.message).includes("sequence does not have group yet")?g().fire({type:"warning",title:this.translate.instant("StudTable_S4.Title"),html:this.translate.instant("StudTable_S4.Text"),confirmButtonText:this.translate.instant("StudTable_S4.Button"),allowOutsideClick:!1}):g().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}checkSequence(e,n,i){if(this.listSequenceDate=[],e.selected){const o=e.value,s=v.cloneDeep(this.data.candidates),r=v.cloneDeep(this.data.program_sequence_ids),p=n&&n.start_date&&n.start_date.date?n.start_date.date:null,m=n&&n.end_date&&n.end_date.date?n.end_date.date:null;if(p&&m){const u=this.getDaysBetweenDates(p,m);if(u&&u.length){this.listDatePerSequence.push(u),this.listSequence.push(n),this.listDatePerSequence.forEach(T=>{this.listSequenceDate=this.listSequenceDate.concat(T)});const b=this.toFindDuplicates(this.listSequenceDate);if(b&&b.length){let T="";if(this.listDatePerSequence.length){let H=!1;this.listDatePerSequence.forEach((A,N)=>{A.some(vi=>u.includes(vi))&&!H&&(H=!0,this.listSequence&&this.listSequence[N]&&(T=this.listSequence[N].name))})}g().fire({allowOutsideClick:!1,type:"info",title:this.translate.instant("TEMPLATE_OVERLAP_S1.Title"),html:this.translate.instant("TEMPLATE_OVERLAP_S1.Text",{sequence:T||""}),confirmButtonText:this.translate.instant("TEMPLATE_OVERLAP_S1.Button")});const D=this.sequenceForm.get("program_sequence_ids").value;if(n){const H=D.filter(N=>N!==n._id);this.sequenceForm.get("program_sequence_ids").patchValue(H);const A=this.listSequence.findIndex(N=>N._id===n._id);this.listDatePerSequence&&this.listDatePerSequence.length&&A>=0&&this.listDatePerSequence[A]&&this.listDatePerSequence.splice(A,1),this.listSequence&&this.listSequence.length&&A>=0&&this.listSequence[A]&&this.listSequence.splice(A,1)}}}}s&&s.length&&s.forEach((u,b)=>{if(r&&r.length&&r[b]&&r[b].length&&o){let T;T=r[b].filter(D=>D._id===o),this.checkSequenceAvail=!1,T&&T.length&&(this.checkSequenceAvail=!0)}})}else if(n){const o=this.listSequence.findIndex(s=>s._id===n._id);this.listDatePerSequence&&this.listDatePerSequence.length&&o>=0&&this.listDatePerSequence[o]&&this.listDatePerSequence.splice(o,1),this.listSequence&&this.listSequence.length&&o>=0&&this.listSequence[o]&&this.listSequence.splice(o,1)}}getDaysBetweenDates(e,n){let i=v.cloneDeep(e),o=v.cloneDeep(n);const s=[];for(i=I(i,"DD/MM/YYYY").format("YYYY-MM-DD"),o=I(o,"DD/MM/YYYY").format("YYYY-MM-DD");I(i).isSameOrBefore(o);)s.push(i),i=I(i).add(1,"days"),i=I(i,"YYYY-MM-DD").format("YYYY-MM-DD");return s}toFindDuplicates(e){const n=new Set(e);return e.filter(o=>{if(!n.has(o))return o;n.delete(o)})}ngOnDestroy(){this.subs.unsubscribe()}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B.sK),t.\u0275\u0275directiveInject(f.UntypedFormBuilder),t.\u0275\u0275directiveInject(P.so),t.\u0275\u0275directiveInject(P.WI),t.\u0275\u0275directiveInject(j.P),t.\u0275\u0275directiveInject(h.e))},l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["ms-assign-sequence-dialog"]],decls:36,vars:21,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],[1,"p-col-10","acad-title"],[1,"dialogTitle"],[1,"p-col","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[3,"formGroup"],[1,"p-col-12","no-padding"],[1,"p-grid","p-dir-col"],[1,"font-bold"],["formControlName","program_sequence_ids","multiple","","panelClass","sequencePanel",3,"disableOptionCentering"],[3,"value","click",4,"ngFor","ngForOf"],["disabled","",4,"ngIf"],[4,"ngIf"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],["class","loading-indicator",4,"ngIf"],[3,"value","click"],["sequenceCheck",""],["disabled",""],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),t.\u0275\u0275element(3,"div",3),t.\u0275\u0275elementStart(4,"div",4)(5,"h3",5),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",6)(9,"button",7)(10,"mat-icon"),t.\u0275\u0275text(11,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(12,"form",8)(13,"mat-dialog-content")(14,"div",2)(15,"div",9)(16,"div",10)(17,"p",11),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"mat-form-field")(21,"mat-label"),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(24,"mat-select",12),t.\u0275\u0275template(25,ct,3,2,"mat-option",13),t.\u0275\u0275template(26,dt,3,3,"mat-option",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,pt,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(28,"mat-dialog-actions",16)(29,"button",17),t.\u0275\u0275text(30),t.\u0275\u0275pipe(31,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(32,"button",18),t.\u0275\u0275listener("click",function(){return n.onValidate()}),t.\u0275\u0275text(33),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(35,ut,2,0,"div",19)),2&e&&(t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(7,11,"Assign sequence")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",n.sequenceForm),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(19,13,"Please select one or multiple sequence to assign to the selected students"),":"),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(23,15,"course_sequence.Sequences")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disableOptionCentering",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n.sequenceList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===n.sequenceList.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.sequenceForm.get("program_sequence_ids").hasError("required")&&n.sequenceForm.get("program_sequence_ids").touched),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(31,17,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(34,19,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[a.sg,a.O5,S.Zt,S.Bh,d.ey,O.lW,P.ZT,P.xY,P.H8,y.Hw,M.TO,M.KE,M.hX,F.Ou,k.gD,f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,B.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-15px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}[_nghost-%COMP%]  .ng-select .ng-select-container{border-left:0px!important;border-right:0px!important;border-top:0px!important;border-radius:0!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}  .mat-select-panel-wrap{flex-basis:fit-content!important}  .sequencePanel{margin-top:25px!important;margin-left:40px!important}"]}),l})();var mt=_(61294),_t=_(36746),it=_(84075),ht=_(71122),lt=_(47957),ot=_(284),at=_(24784),U=_(88796);function gt(l,c){1&l&&(t.\u0275\u0275elementStart(0,"div",22),t.\u0275\u0275element(1,"mat-spinner",23),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}function ft(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"div",24),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&l){const e=c.item;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.form_builder_name," ")}}function bt(l,c){1&l&&(t.\u0275\u0275elementStart(0,"span",25),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ct(l,c){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"input",32),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&l){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,2,"search")),t.\u0275\u0275property("formControl",e.studentSignatoryName)}}function St(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"mat-option",37),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e?null:e.last_name)," ",null==e?null:e.first_name," ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e?null:e.civility)," ")}}function vt(l,c){1&l&&(t.\u0275\u0275elementStart(0,"span",25),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function xt(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"input",33),t.\u0275\u0275listener("keyup",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(),s=o.index,r=o.$implicit,p=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(p.filterSignatoryUser(i.target.value,s,r.value.user_type_id))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"mat-autocomplete",34,35),t.\u0275\u0275template(5,St,4,8,"mat-option",36),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,vt,3,3,"span",17),t.\u0275\u0275elementContainerEnd()}if(2&l){const e=t.\u0275\u0275reference(4),n=t.\u0275\u0275nextContext(),i=n.index,o=n.$implicit,s=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,6,"search")),t.\u0275\u0275property("matAutocomplete",e),t.\u0275\u0275advance(2),t.\u0275\u0275property("displayWith",s.displayFullName.bind(s))("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",s.signatoryUserList[i]),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.invalid&&o.touched)}}function yt(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"div",29)(1,"div",30),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",31),t.\u0275\u0275template(4,Ct,3,4,"ng-container",18),t.\u0275\u0275template(5,xt,7,8,"ng-container",18),t.\u0275\u0275elementEnd()()),2&l){const e=c.$implicit,n=c.index,i=t.\u0275\u0275nextContext(3);let o,s;t.\u0275\u0275property("formGroupName",n),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",e.invalid&&e.touched?"red":""),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",i.getNameOfUserType(e,"signatory"),"*"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.studentSignatory&&"5a067bba1c0217218c75f8ab"===(null==e||null==(o=e.get("user_type_id"))?null:o.value)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","5a067bba1c0217218c75f8ab"!==(null==e||null==(s=e.get("user_type_id"))?null:s.value)||!i.studentSignatory&&"5a067bba1c0217218c75f8ab"===(null==e||null==(s=e.get("user_type_id"))?null:s.value))}}function Ot(l,c){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",26)(2,"h4",27),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div"),t.\u0275\u0275template(6,yt,6,5,"div",28),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()),2&l){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"SENDING_CONTRACT_DIALOG.assign user for signatory")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",null==e.signatoryArr?null:e.signatoryArr.controls)}}function Tt(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"div",30),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",e.invalid&&e.touched?"red":""),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,n.getNameOfUserType(e,"validator")),"* ")}}function wt(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"input",41),t.\u0275\u0275listener("keyup",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2),s=o.index,r=o.$implicit,p=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(p.filterValidatorUser(i.target.value,s,r.value.validator))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementEnd()}if(2&l){t.\u0275\u0275nextContext();const e=t.\u0275\u0275reference(4);t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(1,2,"search")),t.\u0275\u0275property("matAutocomplete",e)}}function Mt(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"mat-option",37),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e?null:e.last_name)," ",null==e?null:e.first_name," ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e?null:e.civility)," ")}}function Pt(l,c){1&l&&(t.\u0275\u0275elementStart(0,"span",25),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ft(l,c){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",31),t.\u0275\u0275template(2,wt,2,4,"input",40),t.\u0275\u0275elementStart(3,"mat-autocomplete",34,35),t.\u0275\u0275template(5,Mt,4,8,"mat-option",36),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,Pt,3,3,"span",17),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&l){const e=t.\u0275\u0275nextContext(),n=e.$implicit,i=e.index,o=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.value.validator),t.\u0275\u0275advance(1),t.\u0275\u0275property("displayWith",o.displayFullName.bind(o))("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",o.validatorUserList[i]),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.invalid&&n.touched)}}function It(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"div",29),t.\u0275\u0275template(1,Tt,3,4,"div",39),t.\u0275\u0275template(2,Ft,7,5,"ng-container",18),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit;t.\u0275\u0275property("formGroupName",c.index),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.value?null:e.value.validator),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.value?null:e.value.validator)}}function kt(l,c){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",38)(2,"h4",27),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,It,3,3,"div",28),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&l){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"SENDING_CONTRACT_DIALOG.assign user for step validatory")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.validatorArr?null:e.validatorArr.controls)}}function Et(l,c){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ot,7,4,"ng-container",18),t.\u0275\u0275template(2,kt,6,4,"ng-container",18),t.\u0275\u0275elementContainerEnd()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.signatoryArr||null==e.signatoryArr.controls?null:e.signatoryArr.controls.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.validatorArr||null==e.validatorArr.controls?null:e.validatorArr.controls.length)}}let At=(()=>{class l{constructor(e,n,i,o,s,r,p,m,u){this.fb=e,this.formBuilderService=n,this.academicService=i,this.translate=o,this.utilService=s,this.teacherService=r,this.dialogRef=p,this.userService=m,this.data=u,this.subs=new Y.Y,this.validatorUserList=[],this.signatoryUserList=[],this.studentSignatory=null,this.studentsDropdown=[],this.studentSignatoryName=new f.UntypedFormControl(null)}ngOnInit(){1===this.data?.students?.length&&(this.studentSignatory={name:this.data.students[0]?.last_name?.toUpperCase()+" "+this.data.students[0]?.first_name+" "+(""===this.data.students[0].civility?"":this.translate.instant(this.data.students[0].civility)),id:this.data.students[0]?.user_id?._id}),this.initFormBuilder(),this.getFormBuilderOneTime(),this.getAllUserType()}initFormBuilder(){this.typeForm=this.fb.group({form_builder_id:[null,[f.Validators.required]],contract_validator_signatory_status:this.fb.array([]),step_validator_input:this.fb.array([])})}getFormBuilderOneTime(){this.isWaitingForResponse=!0,this.subs.sink=this.formBuilderService.getAllFormBuildersByTemplate("one_time_form").subscribe(e=>{this.listFormBuilder=e&&e.length?e:[],this.isWaitingForResponse=!1},e=>{this.userService.postErrorLog(e)})}getAllUserType(){this.subs.sink=this.academicService.getAllUserTypesIncludeStudent().subscribe(e=>{e&&(this.userTypeList=e,console.log("this.userTypeList",this.userTypeList))},e=>{this.userService.postErrorLog(e),g().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getFilterSignatoryUser(e,n,i){this.isWaitingForResponse=!0,this.subs.sink=this.teacherService.GetAllUsers(e,i).subscribe(o=>{this.isWaitingForResponse=!1,o&&o.length&&(console.log("signatory user:: ",o,"index::",n),this.signatoryUserList[n]=o)},o=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(o),g().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getFilterSignatoryUserIncludeStudent(e,n,i){this.subs.sink=this.teacherService.GetAllUsersIncludeStudent(e,i).subscribe(o=>{if(o&&o.length)if(console.log("signatory user include student  :: ",o),"5a067bba1c0217218c75f8ab"===e&&this.data?.students?.length){let s=[];v.cloneDeep(o).forEach(p=>{const m=this.data.students.find(u=>p._id===u?.user_id?._id);m&&s.push(m)}),this.signatoryUserList[n]=s}else this.signatoryUserList[n]=o},o=>{this.userService.postErrorLog(o),g().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}filterSignatoryUser(e,n,i){if(console.log(e.length>2,0===e.length),e.length>2||0===e.length){const o=this.utilService.simpleDiacriticSensitiveRegex(e.toLowerCase());if("5a067bba1c0217218c75f8ab"===i)if(this.studentsDropdown?.length)if(e?.length>2&&o){const s=this.studentsDropdown.filter(r=>this.utilService.simpleDiacriticSensitiveRegex(r?.last_name?.toLowerCase())?.includes(o));s?.length?this.signatoryUserList[n]=s:this.getFilterSignatoryUserIncludeStudent(i,n,o)}else setTimeout(()=>{this.signatoryUserList[n]=this.studentsDropdown},600);else this.getFilterSignatoryUserIncludeStudent(i,n,o);else this.getFilterSignatoryUser(i,n,o)}}filterValidatorUser(e,n,i){if(e.length>2||0===e.length){const o=this.utilService.simpleDiacriticSensitiveRegex(e.toLowerCase());this.getFilterValidatorUser(i,n,o)}}getFilterValidatorUser(e,n,i){this.isWaitingForResponse=!0,this.subs.sink=this.teacherService.GetAllUsers(e,i).subscribe(o=>{this.isWaitingForResponse=!1,o&&o.length&&(this.validatorUserList[n]=o)},o=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(o),o&&o.message&&o.message.includes("Network error: Http failure response for")?g().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):g().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getNameOfUserType(e,n){let i;const o=e.value;return this.userTypeList&&this.userTypeList.length&&(o&&"validator"===n?i=this.userTypeList.find(r=>r._id===o.validator):o&&"signatory"===n&&(i=this.userTypeList.find(r=>r._id===o.user_type_id))),i&&i.name?this.translate.instant("USER_TYPES."+i.name):""}initSignatoryForm(){return this.fb.group({user_type_id:[null],user_id:[null,[f.Validators.required]]})}initValidatorsForm(){return this.fb.group({user_validator:[null,[f.Validators.required]],validator:[null],pre_contract_template_step_id:[null]})}pushValidator(){this.getValidatorArray().push(this.initValidatorsForm())}getValidatorArray(){return this.typeForm.get("step_validator_input")}get validatorArr(){return this.typeForm.get("step_validator_input")}pushSignatory(){this.getSignatoryArray().push(this.initSignatoryForm())}get signatoryArr(){return this.typeForm.get("contract_validator_signatory_status")}getSignatoryArray(){return this.typeForm.get("contract_validator_signatory_status")}selectedTemplate(e){const n=v.cloneDeep(e),i=this.typeForm.get("step_validator_input").value,o=this.typeForm.get("contract_validator_signatory_status").value;if(i&&i.length)for(let m=i.length-1;m>=0;m--)this.validatorArr.removeAt(m);if(o&&o.length)for(let m=o.length-1;m>=0;m--)this.signatoryArr.removeAt(m);const s=n&&n.steps&&n.steps.length?n.steps:[],r=s.find(m=>m&&m.step_type&&"step_with_signing_process"===m.step_type);if(r&&r.contract_signatory&&r.contract_signatory.length){r.contract_signatory.forEach(u=>{this.pushSignatory()});const m=r.contract_signatory.map(u=>({user_id:this.studentSignatory&&"5a067bba1c0217218c75f8ab"===u?._id?this.studentSignatory?.id:null,user_type_id:u._id,is_already_sign:!1}));this.typeForm.get("contract_validator_signatory_status").patchValue(m),this.typeForm.get("contract_validator_signatory_status").value.forEach((u,b)=>{"5a067bba1c0217218c75f8ab"===u?.user_type_id?this.studentSignatory?this.studentSignatoryName.patchValue(this.studentSignatory?.name):this.data?.students?.length&&(!this.data?.isCheckedAll||this.data?.isCheckedAll&&this.data?.students?.length<=100)?(this.data.students.filter(T=>{T?.user_id?._id&&this.studentsDropdown.push({...T?.user_id})}),console.log("cek studentdropdown",this.studentsDropdown),this.signatoryUserList[b]=this.studentsDropdown):this.getFilterSignatoryUserIncludeStudent(u?.user_type_id,b):this.getFilterSignatoryUser(u.user_type_id,b)})}const p=s.filter(m=>m&&m.validator);if(p&&p.length){p.forEach(u=>{u.validator&&this.pushValidator()});let m=p.map(u=>({user_validator:null,validator:u&&u.validator?u.validator._id:null,pre_contract_template_step_id:u._id}));m=m.filter(u=>u.user_validator||u.validator),this.typeForm.get("step_validator_input").patchValue(m),this.typeForm.get("step_validator_input").value.forEach((u,b)=>{this.validatorUserList[b]=this.getFilterValidatorUser(u.validator,b)})}}onSubmitForm(){const e=this.typeForm.value,n=this.translate.currentLang,i=e.contract_validator_signatory_status.map(p=>({user_type_id:p.user_type_id,user_id:"5a067bba1c0217218c75f8ab"===p.user_type_id&&this.studentSignatory?p?.user_id:p?.user_id?._id})),o=e.step_validator_input.map(p=>({pre_contract_template_step_id:p.pre_contract_template_step_id,user_validator:p.user_validator._id,validator:p.validator}));let s=[],r=[];this.data?.students?.length&&(s=this.data.students.map(p=>p._id),r=this.data.students.map(p=>p.candidate_id._id)),this.isWaitingForResponse=!0,this.subs.sink=this.formBuilderService.sendOneTimeFormToStudent(s,r,e.form_builder_id,n,o,i).subscribe(p=>{console.log("get data",p),this.isWaitingForResponse=!1,p.includes("some student already receive the form")?g().fire({type:"success",title:this.translate.instant("OneTimeForm_S2.TITLE"),text:this.translate.instant("OneTimeForm_S2.TEXT"),confirmButtonText:this.translate.instant("OneTimeForm_S2.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)}):g().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},p=>{this.isWaitingForResponse=!1,console.log("error:: ",p),this.userService.postErrorLog(p),p&&p.message?.includes("cannot send same form to students")?g().fire({type:"info",title:this.translate.instant("OneTimeForm_S1.TITLE"),text:this.translate.instant("OneTimeForm_S1.TEXT"),confirmButtonText:this.translate.instant("OneTimeForm_S1.BUTTON"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):g().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}onValidate(){if(this.typeForm.invalid)return g().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.typeForm.markAllAsTouched(),!0;this.onSubmitForm()}displayFullName(e){if(e){const n=e.civility&&"neutral"!==e.civility&&e.civility?this.translate?this.translate.instant(e.civility):e.civility:"";return e.last_name.toUpperCase()+" "+e.first_name+" "+n}return null}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(f.UntypedFormBuilder),t.\u0275\u0275directiveInject(mt.c),t.\u0275\u0275directiveInject(_t.P),t.\u0275\u0275directiveInject(B.sK),t.\u0275\u0275directiveInject(it.t),t.\u0275\u0275directiveInject(ht.I),t.\u0275\u0275directiveInject(P.so),t.\u0275\u0275directiveInject(h.e),t.\u0275\u0275directiveInject(P.WI))},l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["ms-send-one-time-form-dialog"]],decls:37,vars:21,consts:[["class","loading-indicator",4,"ngIf"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],["svgIcon","form-select",2,"vertical-align","middle"],[1,"p-col-10","acad-title"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding"],[1,"p-col-5","center-label","no-padding-left","label-align"],[1,"p-col-7","no-padding"],["aria-required","true","bindLabel","form_builder_name","bindValue","_id","clearAllText","Clear","formControlName","form_builder_id",1,"mrgn-btn",3,"items","appendTo","placeholder","change"],["ng-option-tmp",""],["style","color: #f44336; font-size: 75%; margin: 0",4,"ngIf"],[4,"ngIf"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[1,"loading-indicator"],["color","accent",3,"diameter"],[1,"break-space"],[2,"color","#f44336","font-size","75%","margin","0"],["formArrayName","contract_validator_signatory_status",1,"assign-border"],[1,"section-title"],["class","p-grid",3,"formGroupName",4,"ngFor","ngForOf"],[1,"p-grid",3,"formGroupName"],[1,"p-col-4","section-field-title",3,"ngClass"],[1,"p-col-8"],["required","","matInput","","type","text","readonly","",1,"custom-input",3,"formControl","placeholder"],["required","","matInput","","type","text","formControlName","user_id",1,"custom-input",3,"placeholder","matAutocomplete","keyup"],[3,"displayWith","panelWidth"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formArrayName","step_validator_input",1,"assign-border"],["class","p-col-4 section-field-title",3,"ngClass",4,"ngIf"],["required","","matInput","","type","text","class","custom-input","formControlName","user_validator",3,"placeholder","matAutocomplete","keyup",4,"ngIf"],["required","","matInput","","type","text","formControlName","user_validator",1,"custom-input",3,"placeholder","matAutocomplete","keyup"]],template:function(e,n){1&e&&(t.\u0275\u0275template(0,gt,2,1,"div",0),t.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.\u0275\u0275element(5,"mat-icon",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",6)(7,"h3",7),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",8)(11,"button",9)(12,"mat-icon"),t.\u0275\u0275text(13,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(14,"form",10)(15,"div",11)(16,"mat-dialog-content")(17,"div",3)(18,"div",12)(19,"div",3)(20,"div",13)(21,"label"),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"div",14)(25,"ng-select",15),t.\u0275\u0275listener("change",function(o){return n.selectedTemplate(o)}),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275template(27,ft,2,1,"ng-template",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(28,bt,3,3,"span",17),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(29,Et,3,2,"ng-container",18),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(30,"mat-dialog-actions",19)(31,"button",20),t.\u0275\u0275text(32),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(34,"button",21),t.\u0275\u0275listener("click",function(){return n.onValidate()}),t.\u0275\u0275text(35),t.\u0275\u0275pipe(36,"translate"),t.\u0275\u0275elementEnd()()()()),2&e&&(t.\u0275\u0275property("ngIf",n.isWaitingForResponse),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,11,"Send one time form")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",n.typeForm),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(23,13,"Please select a form to send"),"*"),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(26,15,"One Time Form")),t.\u0275\u0275property("items",n.listFormBuilder)("appendTo","body"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.typeForm.get("form_builder_id").hasError("required")&&(n.typeForm.get("form_builder_id").touched||n.typeForm.get("form_builder_id").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.typeForm?null:n.typeForm.get("form_builder_id").value),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(33,17,"FORM_BUILDER.Cancel")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(36,19,"FORM_BUILDER.Validate")," "))},dependencies:[a.mk,a.sg,a.O5,S.Zt,S.Bh,lt.XC,lt.ZL,d.ey,O.lW,P.ZT,P.xY,P.H8,y.Hw,ot.Nt,F.Ou,f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormControlDirective,f.FormGroupDirective,f.FormControlName,f.FormGroupName,f.FormArrayName,at.oO,U.w9,U.ir,a.gd,B.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-38px}.label-align[_ngcontent-%COMP%]{align-self:center}.assign-border[_ngcontent-%COMP%]{border:2px solid #fdd835;padding:5px;margin:5px}.custom-input[_ngcontent-%COMP%]{border-bottom:1px solid rgb(241,241,241)!important}.red[_ngcontent-%COMP%]{color:#ff4040}.break-space[_ngcontent-%COMP%]{white-space:break-spaces}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}"]}),l})();var Dt=_(75994),Bt=_(44758),st=_(67154),Nt=_(79710),Lt=_(94442),qt=_(11481),Vt=_(56709),J=_(99602),tt=_(28255),Rt=_(10266),Ut=_(75223);function Ht(l,c){1&l&&(t.\u0275\u0275elementStart(0,"label",84),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"CARDDETAIL.Scholar Season")," "))}function $t(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,e.scholar_season)," ")}}function Yt(l,c){1&l&&(t.\u0275\u0275elementStart(0,"label",84),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.School")," "))}function zt(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,e.short_name)," ")}}function Wt(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.selectAllData(i,"school"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("school"))("indeterminate",e.isSomeDropdownSelected("school")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function jt(l,c){1&l&&t.\u0275\u0275template(0,Wt,3,5,"ng-template",86)}function Kt(l,c){1&l&&(t.\u0275\u0275elementStart(0,"label",84),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus")," "))}function Gt(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,e.name)," ")}}function Qt(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.selectAllData(i,"campus"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("campus"))("indeterminate",e.isSomeDropdownSelected("campus")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Xt(l,c){1&l&&t.\u0275\u0275template(0,Qt,3,5,"ng-template",86)}function Zt(l,c){1&l&&(t.\u0275\u0275elementStart(0,"label",84),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.Level")," "))}function Jt(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,e.name)," ")}}function te(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.selectAllData(i,"level"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("level"))("indeterminate",e.isSomeDropdownSelected("level")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function ee(l,c){1&l&&t.\u0275\u0275template(0,te,3,5,"ng-template",86)}function ne(l,c){1&l&&(t.\u0275\u0275elementStart(0,"label",84),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.Sector")," "))}function ie(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,e.name)," ")}}function le(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.selectAllData(i,"sector"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("sector"))("indeterminate",e.isSomeDropdownSelected("sector")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function oe(l,c){1&l&&t.\u0275\u0275template(0,le,3,5,"ng-template",86)}function ae(l,c){1&l&&(t.\u0275\u0275elementStart(0,"label",84),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.Speciality")," "))}function se(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,e.name)," ")}}function re(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.selectAllData(i,"speciality"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("speciality"))("indeterminate",e.isSomeDropdownSelected("speciality")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function ce(l,c){1&l&&t.\u0275\u0275template(0,re,3,5,"ng-template",86)}function de(l,c){1&l&&(t.\u0275\u0275elementStart(0,"label",84),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"All_Students.Tag")," "))}function pe(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1)),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function ue(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.selectAllData(i,"tags"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("tags"))("indeterminate",e.isSomeDropdownSelected("tags")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllF")," ")}}function me(l,c){1&l&&t.\u0275\u0275template(0,ue,3,5,"ng-template",86)}function _e(l,c){1&l&&(t.\u0275\u0275elementStart(0,"span",90),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Updated")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Updated")," "))}function he(l,c){1&l&&(t.\u0275\u0275elementStart(0,"span",91),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Update in progress")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Update in progress"),""))}function ge(l,c){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,_e,4,6,"span",88),t.\u0275\u0275template(2,he,4,6,"span",89),t.\u0275\u0275elementContainerEnd()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.hyperplanningStatus?null:e.hyperplanningStatus.is_update_student_running),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.hyperplanningStatus&&e.hyperplanningStatus.is_update_student_running))}}function fe(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"button",99),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-icon"),t.\u0275\u0275text(5,"expand_more"),t.\u0275\u0275elementEnd()()),2&l){t.\u0275\u0275nextContext();const e=t.\u0275\u0275reference(3);t.\u0275\u0275property("matMenuTriggerFor",e)("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Action")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Action")," ")}}function be(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",95),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.controllerButton("send-mail"))}),t.\u0275\u0275elementStart(1,"mat-icon"),t.\u0275\u0275text(2,"send"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"span"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()}2&l&&(t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,1,"Send email")))}function Ce(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",95),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.controllerButton("assign-sequence"))}),t.\u0275\u0275elementStart(1,"mat-icon"),t.\u0275\u0275text(2,"list_alt"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"span"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()}2&l&&(t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,1,"Assign sequence")))}function Se(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,fe,6,7,"button",92),t.\u0275\u0275elementStart(2,"mat-menu",null,93),t.\u0275\u0275template(4,be,6,3,"button",94),t.\u0275\u0275elementStart(5,"button",95),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.controllerButton("one-time-form"))}),t.\u0275\u0275element(6,"mat-icon",96),t.\u0275\u0275elementStart(7,"span"),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(10,Ce,6,3,"button",94),t.\u0275\u0275elementStart(11,"button",95),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.updateHyperplanning())}),t.\u0275\u0275elementStart(12,"mat-icon"),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(13,"svg",97),t.\u0275\u0275element(14,"path",98),t.\u0275\u0275elementEnd()(),t.\u0275\u0275namespaceHTML(),t.\u0275\u0275elementStart(15,"span"),t.\u0275\u0275text(16),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd()}if(2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.allowActions),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",e.allowSendEmail),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,5,"Send one time form")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.allowAssignSequences),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(17,7,"Update hyperplanning"))}}function ve(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",18),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.controllerButton("export"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",100),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(2,2,"Export")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,4,"Export")," "))}function xe(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"span",101),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(2,2,"Selected Data")," : ",e.isCheckedAll?e.dataCount-(null==e.dataUnselectUser?null:e.dataUnselectUser.length):null==e.dataSelected?null:e.dataSelected.length,"")}}function ye(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",102)(1,"div",103),t.\u0275\u0275element(2,"mat-spinner",104),t.\u0275\u0275elementEnd()()),2&l&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("diameter",64))}function Oe(l,c){1&l&&t.\u0275\u0275element(0,"th",105)}function Te(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"th",105)(1,"mat-form-field")(2,"mat-label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(5,"input",106),t.\u0275\u0275elementEnd()()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"search")),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",e.filter.controls.student_number)}}function we(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"th",105)(1,"mat-form-field")(2,"mat-label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(5,"input",106),t.\u0275\u0275elementEnd()()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"search")),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",e.filter.controls.full_name)}}function Me(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1)),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function Pe(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllData(i,"intakeChannel"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("intakeChannel"))("indeterminate",e.isSomeDropdownSelected("intakeChannel")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Fe(l,c){1&l&&t.\u0275\u0275template(0,Pe,3,5,"ng-template",86)}function Ie(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",105)(1,"ng-select",107),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onFilterSelectMultiple("initial_intake_channels","initial_intake_channel_filter"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Me,2,3,"ng-template",8),t.\u0275\u0275template(5,Fe,1,0,null,10),t.\u0275\u0275elementEnd()()}if(2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.dropdowns.intake_channels.filtered)("appendTo","body")("multiple",!0)("formControl",e.filter.controls.initial_intake_channel_filter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.dropdowns||null==e.dropdowns.intake_channels||null==e.dropdowns.intake_channels.filtered?null:e.dropdowns.intake_channels.filtered.length)}}function ke(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"perimeter."+e.value)," ")}}function Ee(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllData(i,"typeRegistration"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("typeRegistration"))("indeterminate",e.isSomeDropdownSelected("typeRegistration")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Ae(l,c){1&l&&t.\u0275\u0275template(0,Ee,3,5,"ng-template",86)}function De(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",105)(1,"ng-select",108),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onFilterSelectMultiple("type_of_registrations","type_of_registration"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,ke,3,5,"ng-template",8),t.\u0275\u0275template(5,Ae,1,0,null,10),t.\u0275\u0275elementEnd()()}if(2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.dropdowns.type_of_registrations)("appendTo","body")("multiple",!0)("formControl",e.filter.controls.type_of_registration)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.dropdowns||null==e.dropdowns.type_of_registrations?null:e.dropdowns.type_of_registrations.length)}}function Be(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1)),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.sigle," ")}}function Ne(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllData(i,"typeOfFormation"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("typeOfFormation"))("indeterminate",e.isSomeDropdownSelected("typeOfFormation")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Le(l,c){1&l&&t.\u0275\u0275template(0,Ne,3,5,"ng-template",86)}function qe(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",105)(1,"ng-select",109),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onFilterSelectMultiple("type_of_formations","type_of_formation"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Be,2,3,"ng-template",8),t.\u0275\u0275template(5,Le,1,0,null,10),t.\u0275\u0275elementEnd()()}if(2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.dropdowns.type_of_formations)("appendTo","body")("multiple",!0)("formControl",e.filter.controls.type_of_formation)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.dropdowns||null==e.dropdowns.type_of_formations?null:e.dropdowns.type_of_formations.length)}}function Ve(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1)),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.program," ")}}function Re(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllData(i,"programs"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("programs"))("indeterminate",e.isSomeDropdownSelected("programs")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Ue(l,c){1&l&&t.\u0275\u0275template(0,Re,3,5,"ng-template",86)}function He(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",105)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onFilterSelectMultiple("programs","current_program_filter"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Ve,2,3,"ng-template",8),t.\u0275\u0275template(5,Ue,1,0,null,10),t.\u0275\u0275elementEnd()()}if(2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.dropdowns.programs.filtered)("appendTo","body")("multiple",!0)("formControl",e.filter.controls.current_program_filter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.dropdowns||null==e.dropdowns.programs||null==e.dropdowns.programs.filtered?null:e.dropdowns.programs.filtered.length)}}function $e(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,e.value)," ")}}function Ye(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllData(i,"studentStatus"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("studentStatus"))("indeterminate",e.isSomeDropdownSelected("studentStatus")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function ze(l,c){1&l&&t.\u0275\u0275template(0,Ye,3,5,"ng-template",86)}function We(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",105)(1,"ng-select",108),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onFilterSelectMultiple("student_statuses","student_status"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,$e,3,5,"ng-template",8),t.\u0275\u0275template(5,ze,1,0,null,10),t.\u0275\u0275elementEnd()()}if(2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.dropdowns.statuses)("appendTo","body")("multiple",!0)("formControl",e.filter.controls.student_status)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.dropdowns||null==e.dropdowns.statuses?null:e.dropdowns.statuses.length)}}function je(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",105)(1,"mat-form-field",111)(2,"mat-label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"input",112),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(8);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"mat-datepicker-toggle",113)(7,"mat-datepicker",null,114),t.\u0275\u0275elementEnd()()}if(2&l){const e=t.\u0275\u0275reference(8),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,5,"MailBox.DATE")),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",n.filter.controls.registration_date)("matDatepicker",e)("readonly",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("for",e)}}function Ke(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,e.value)," ")}}function Ge(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllData(i,"financialSituation"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("financialSituation"))("indeterminate",e.isSomeDropdownSelected("financialSituation")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Qe(l,c){1&l&&t.\u0275\u0275template(0,Ge,3,5,"ng-template",86)}function Xe(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",105)(1,"ng-select",108),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onFilterSelectMultiple("financial_situations","financial_situation"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Ke,3,5,"ng-template",8),t.\u0275\u0275template(5,Qe,1,0,null,10),t.\u0275\u0275elementEnd()()}if(2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.dropdowns.financial_situations)("appendTo","body")("multiple",!0)("formControl",e.filter.controls.financial_situation)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.dropdowns||null==e.dropdowns.financial_situations?null:e.dropdowns.financial_situations.length)}}function Ze(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"PAYMENT_INFORMATION."+(null==e?null:e.value))," ")}}function Je(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllData(i,"paymentInformation"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("paymentInformation"))("indeterminate",e.isSomeDropdownSelected("paymentInformation")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function tn(l,c){1&l&&t.\u0275\u0275template(0,Je,3,5,"ng-template",86)}function en(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",105)(1,"ng-select",108),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onFilterSelectMultiple("modality_step_special_form_statuses","modality_step_special_form_status"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Ze,3,5,"ng-template",8),t.\u0275\u0275template(5,tn,1,0,null,10),t.\u0275\u0275elementEnd()()}if(2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.dropdowns.modality_step_special_form_statuses)("appendTo","body")("multiple",!0)("formControl",e.filter.controls.modality_step_special_form_status)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.dropdowns||null==e.dropdowns.modality_step_special_form_statuses?null:e.dropdowns.modality_step_special_form_statuses.length)}}function nn(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1)),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function ln(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllData(i,"assignSequence"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("assignSequence"))("indeterminate",e.isSomeDropdownSelected("assignSequence")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function on(l,c){1&l&&t.\u0275\u0275template(0,ln,3,5,"ng-template",86)}function an(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",105)(1,"ng-select",108),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onFilterSelectMultiple("assignment_sequences","assignment_sequence"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,nn,2,3,"ng-template",8),t.\u0275\u0275template(5,on,1,0,null,10),t.\u0275\u0275elementEnd()()}if(2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.dropdownAssignmentSequence)("appendTo","body")("multiple",!0)("formControl",e.filter.controls.assignment_sequence)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.dropdownAssignmentSequence?null:e.dropdownAssignmentSequence.length)}}function sn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"th",105)(1,"mat-form-field")(2,"mat-label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(5,"input",106),t.\u0275\u0275elementEnd()()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"search")),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",e.filter.controls.current_sequence)}}function rn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"th",105)(1,"mat-form-field")(2,"mat-label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(5,"input",106),t.\u0275\u0275elementEnd()()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"search")),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",e.filter.controls.current_group)}}function cn(l,c){if(1&l&&(t.\u0275\u0275element(0,"input",85),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&l){const e=c.item,n=c.item$;t.\u0275\u0275propertyInterpolate1("id","item-",c.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"course_sequence."+(null==e?null:e.value))," ")}}function dn(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",87),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllData(i,"typeOfSequence"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("typeOfSequence"))("indeterminate",e.isSomeDropdownSelected("typeOfSequence")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function pn(l,c){1&l&&t.\u0275\u0275template(0,dn,3,5,"ng-template",86)}function un(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",105)(1,"ng-select",108),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onFilterSelectMultiple("type_of_sequences","type_of_sequence"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,cn,3,5,"ng-template",8),t.\u0275\u0275template(5,pn,1,0,null,10),t.\u0275\u0275elementEnd()()}if(2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.dropdowns.type_of_sequences)("appendTo","body")("multiple",!0)("formControl",e.filter.controls.type_of_sequence)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.dropdowns||null==e.dropdowns.type_of_sequences?null:e.dropdowns.type_of_sequences.length)}}function mn(l,c){1&l&&t.\u0275\u0275element(0,"th",105)}function _n(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",105)(1,"mat-checkbox",115),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?o.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.showOptions("all",""))}),t.\u0275\u0275elementEnd()()}if(2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&((null==e.dataUnselectUser?null:e.dataUnselectUser.length)>0||!e.isAllSelected()))("aria-label",e.checkboxLabel())}}function hn(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",116)(1,"mat-checkbox",117),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){const s=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(s.candidate_id._id):null)})("change",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.showOptions("one",o))}),t.\u0275\u0275elementEnd()()}if(2&l){const e=c.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(e.candidate_id._id)||n.isCheckedAll&&!(null!=n.dataUnselect&&n.dataUnselect.includes(null==e||null==e.candidate_id?null:e.candidate_id._id)))("aria-label",n.checkboxLabel(e))}}function gn(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",118),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",119),t.\u0275\u0275text(3," account_box "),t.\u0275\u0275elementEnd()()),2&l&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Student Number"))}function fn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"td",120),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.student_number),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.student_number," ")}}function bn(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",121),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Name")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Name")," "))}function Cn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"td",120),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.last_name)+" "+(null==e?null:e.first_name)+" "+(null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(2,4,null==e?null:e.civility))),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,6,null==e?null:e.last_name)+" "+(null==e?null:e.first_name)+" "+(null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(5,8,null==e?null:e.civility))," ")}}function Sn(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Intake Channel")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Intake Channel")," "))}function vn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"td",120),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.initial_intake_channel),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.initial_intake_channel," ")}}function xn(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",123),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Type of Registration")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Type of Registration")," "))}function yn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"td",120),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit;t.\u0275\u0275property("matTooltip",null!=e&&e.type_of_registration?t.\u0275\u0275pipeBind1(1,2,"STUDENT_TABLE."+(null==e?null:e.type_of_registration)):""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.type_of_registration?t.\u0275\u0275pipeBind1(3,4,"STUDENT_TABLE."+(null==e?null:e.type_of_registration)):""," ")}}function On(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"th",124),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"img",125),t.\u0275\u0275elementEnd()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Type of Formation")),t.\u0275\u0275advance(2),t.\u0275\u0275property("src",e.shieldAccountIcon,t.\u0275\u0275sanitizeUrl)}}function Tn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"td",120),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit;t.\u0275\u0275property("matTooltip",null==e||null==e.type_of_formation?null:e.type_of_formation.sigle),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.type_of_formation?null:e.type_of_formation.sigle," ")}}function wn(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",126),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Current Program")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Current Program")," "))}function Mn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"td",120),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.currentProgram(e)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.currentProgram(e)," ")}}function Pn(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",127),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Status")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Status")," "))}function Fn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.student_status)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Reg.")," ")}}function In(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.student_status)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,null==e?null:e.student_status)," ")}}function kn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"td",116),t.\u0275\u0275template(1,Fn,4,6,"span",128),t.\u0275\u0275template(2,In,4,6,"span",128),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","registered"===(null==e?null:e.student_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","resigned_after_registered"===(null==e?null:e.student_status))}}function En(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",130),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Registration Date")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Registration Date")," "))}function An(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"td",131),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.transformDate(null==e?null:e.registration_date)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.transformDate(null==e?null:e.registration_date)," ")}}function Dn(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",132),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Financial Situation")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Financial Situation")," "))}const rt=function(l,c){return{red:l,green:c}};function Bn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"td",131),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",133),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd()()),2&l){const e=c.$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.financial_situation)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(4,rt,"not_ok"===(null==e?null:e.financial_situation),"ok"===(null==e?null:e.financial_situation)))}}function Nn(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",134),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",135),t.\u0275\u0275elementEnd()),2&l&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Payment Information"))}function Ln(l,c){1&l&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1," - "),t.\u0275\u0275elementEnd())}const qn=function(l,c){return{purple:l,green:c}};function Vn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"span")(1,"mat-icon",136),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3," lens "),t.\u0275\u0275elementEnd()()),2&l){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(4,qn,"sent"===(null==e||null==e.candidate_id?null:e.candidate_id.modality_step_special_form_status),"completed"===(null==e||null==e.candidate_id?null:e.candidate_id.modality_step_special_form_status)))("matTooltip",t.\u0275\u0275pipeBind1(2,2,"PAYMENT_INFORMATION."+(null==e||null==e.candidate_id?null:e.candidate_id.modality_step_special_form_status)))}}function Rn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"td",116),t.\u0275\u0275template(1,Ln,2,0,"span",10),t.\u0275\u0275template(2,Vn,4,7,"span",10),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&null!=e.candidate_id&&e.candidate_id.modality_step_special_form_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.candidate_id?null:e.candidate_id.modality_step_special_form_status)}}function Un(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",137),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Assignment Sequence")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Assignment Sequence")," "))}function Hn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"td",116)(1,"mat-icon",136),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd()()),2&l){const e=c.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",(null!=e&&null!=e.candidate_id&&null!=e.candidate_id.program_sequence_ids&&e.candidate_id.program_sequence_ids.length?null==e||null==e.candidate_id||null==e.candidate_id.program_sequence_ids?null:e.candidate_id.program_sequence_ids.length:"0")+" "+t.\u0275\u0275pipeBind1(2,2,"course_sequence.Sequences")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(4,rt,(null==e||null==e.candidate_id?null:e.candidate_id.program_sequence_ids)&&!(null!=e&&null!=e.candidate_id&&null!=e.candidate_id.program_sequence_ids&&e.candidate_id.program_sequence_ids.length)||!(null!=e&&null!=e.candidate_id&&e.candidate_id.program_sequence_ids),(null==e||null==e.candidate_id?null:e.candidate_id.program_sequence_ids)&&(null==e||null==e.candidate_id||null==e.candidate_id.program_sequence_ids?null:e.candidate_id.program_sequence_ids.length)&&(null==e||null==e.candidate_id||null==e.candidate_id.program_sequence_ids?null:e.candidate_id.program_sequence_ids.length)>0))}}function $n(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",138),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Current Sequence")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Current Sequence")," "))}function Yn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&l){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",null==e||null==e.candidate_id||null==e.candidate_id.current_program_sequence_id?null:e.candidate_id.current_program_sequence_id.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.candidate_id||null==e.candidate_id.current_program_sequence_id?null:e.candidate_id.current_program_sequence_id.name," ")}}function zn(l,c){1&l&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"No current sequence")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"No current sequence")," "))}function Wn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"td",116),t.\u0275\u0275template(1,Yn,2,2,"span",128),t.\u0275\u0275template(2,zn,4,6,"span",128),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.candidate_id?null:e.candidate_id.current_program_sequence_id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&null!=e.candidate_id&&e.candidate_id.current_program_sequence_id))}}function jn(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",134),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Current group")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Current group")," "))}function Kn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&l){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",null==e||null==e.student_class_id?null:e.student_class_id.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.student_class_id?null:e.student_class_id.name," ")}}function Gn(l,c){1&l&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"No current group")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"No current group")," "))}function Qn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"td",116),t.\u0275\u0275template(1,Kn,2,2,"span",128),t.\u0275\u0275template(2,Gn,4,6,"span",128),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.student_class_id?null:e.student_class_id.name),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&null!=e.student_class_id&&e.student_class_id.name))}}function Xn(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",139),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Type of Sequence")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Type of Sequence")," "))}function Zn(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"course_sequence."+(null==e||null==e.candidate_id||null==e.candidate_id.current_program_sequence_id?null:e.candidate_id.current_program_sequence_id.type_of_sequence))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"course_sequence."+(null==e||null==e.candidate_id||null==e.candidate_id.current_program_sequence_id?null:e.candidate_id.current_program_sequence_id.type_of_sequence))," ")}}function Jn(l,c){1&l&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"-")," "))}function ti(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"td",116),t.\u0275\u0275template(1,Zn,4,6,"span",128),t.\u0275\u0275template(2,Jn,3,3,"span",10),t.\u0275\u0275elementEnd()),2&l){const e=c.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.candidate_id?null:e.candidate_id.current_program_sequence_id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&null!=e.candidate_id&&e.candidate_id.current_program_sequence_id))}}function ei(l,c){1&l&&(t.\u0275\u0275elementStart(0,"th",134),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Action")," "))}function ni(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",140),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.openSendSingleEmailDialog(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"send"),t.\u0275\u0275elementEnd()()}if(2&l){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Send email"))}}function ii(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",140),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onAssignSequence(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"list_alt"),t.\u0275\u0275elementEnd()()}if(2&l){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Assign sequence"))}}function li(l,c){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",116)(1,"button",140),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.connectAsStudent(o))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",141),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",140),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.goToStudentCard(null==o||null==o.candidate_id?null:o.candidate_id._id,o))}),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementStart(6,"mat-icon"),t.\u0275\u0275text(7,"visibility"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(8,ni,4,4,"button",142),t.\u0275\u0275template(9,ii,4,4,"button",142),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,6,"Connect as this User")),t.\u0275\u0275property("disabled",e.selection.hasValue()),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)("matTooltip",t.\u0275\u0275pipeBind1(5,8,"View student card")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",e.allowSendEmail),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.allowAssignSequences)}}function oi(l,c){1&l&&t.\u0275\u0275element(0,"tr",143)}function ai(l,c){1&l&&t.\u0275\u0275element(0,"tr",143)}function si(l,c){if(1&l&&t.\u0275\u0275element(0,"tr",144),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function ri(l,c){if(1&l&&t.\u0275\u0275element(0,"tr",145),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function ci(l,c){1&l&&(t.\u0275\u0275elementStart(0,"div",146),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")," "))}function di(l,c){1&l&&(t.\u0275\u0275elementStart(0,"div",147),t.\u0275\u0275element(1,"mat-progress-spinner",148),t.\u0275\u0275elementEnd())}function pi(l,c){if(1&l&&t.\u0275\u0275element(0,"iframe",149),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("src",e.studentSafeUrl,t.\u0275\u0275sanitizeResourceUrl)}}const ui=function(){return["loading"]},mi=function(l){return{hide:l}},_i=function(l){return{"hide-pagination-buttons":l}},hi=function(){return[10]},gi=[{path:"",component:(()=>{class l{constructor(e,n,i,o,s,r,p,m,u,b,T,D,H,A){this.http=e,this.dialog=n,this.router=i,this.permissions=o,this.pageTitle=s,this.translate=r,this.studentService=p,this.parseUtcToLocalPipe=m,this.candidatesService=u,this.userService=b,this.financeService=T,this.utilityService=D,this.sanitizer=H,this.pageTitleService=A,this.displayedColumns=["checkbox","student-number","name","intake-channel","type-of-registration","type-of-formation","current-program","status","registration-date","financial-situation","payment-information","assignment-sequence","current-sequence","current-group","type-of-sequence","action"],this.candidate_admission_statuses=["admission_in_progress","bill_validated","engaged","registered","resigned","resigned_after_engaged","resigned_after_registered","report_inscription","in_scholarship","mission_card_validated","resignation_missing_prerequisites","resign_after_school_begins","no_show"],this.filterCols=this.displayedColumns.map(N=>`${N}-filter`),this.allowExport=!1,this.allowActions=!1,this.allowAssignSequences=!1,this.allowSendEmail=!1,this.filterBreadcrumbData=[],this.superFilter={value:{scholar_season_id:null,school_ids:null,campus_ids:null,level_ids:null,sector_ids:null,speciality_ids:null,tag_ids:null},controls:{scholar_season_filter:new f.UntypedFormControl("All"),schools_filter:new f.UntypedFormControl(null),campuses_filter:new f.UntypedFormControl(null),levels_filter:new f.UntypedFormControl(null),sector_filter:new f.UntypedFormControl(null),speciality_filter:new f.UntypedFormControl(null),tagFilter:new f.UntypedFormControl(null)}},this.isSuperFilterApplied=!1,this.filter={value:{student_number:null,full_name:null,initial_intake_channel:null,type_of_registration:null,type_of_formation:null,programs:null,student_status:"registered",registration_date:null,financial_situations:null,modality_step_special_form_statuses:null,assignment_sequences:null,current_sequence:null,current_student_class:null,type_of_sequence:null,offset:null,initial_intake_channels:null,type_of_registrations:null,type_of_formations:null,type_of_sequences:null,student_statuses:null,is_registered_table:!0},controls:{student_number:new f.UntypedFormControl(null),full_name:new f.UntypedFormControl(null),initial_intake_channel_filter:new f.UntypedFormControl(null),current_program_filter:new f.UntypedFormControl(null),registration_date:new f.UntypedFormControl(null),current_sequence:new f.UntypedFormControl(null),current_group:new f.UntypedFormControl(null),type_of_sequence:new f.UntypedFormControl(null),type_of_registration:new f.UntypedFormControl(null),type_of_formation:new f.UntypedFormControl(null),student_status:new f.UntypedFormControl(null),financial_situation:new f.UntypedFormControl(null),modality_step_special_form_status:new f.UntypedFormControl(null),assignment_sequence:new f.UntypedFormControl(null),scholar_season_filter:new f.UntypedFormControl(null),schools_filter:new f.UntypedFormControl(null),campuses_filter:new f.UntypedFormControl(null),levels_filter:new f.UntypedFormControl(null),sector_filter:new f.UntypedFormControl(null),speciality_filter:new f.UntypedFormControl(null),tagFilter:new f.UntypedFormControl(null)}},this.listObjective=[],this.originalScholar=[],this.dropdowns={intake_channels:{initial:[],filtered:[]},type_of_registrations:[{value:"admission",label:this.translate.instant("perimeter.admission")},{value:"readmission",label:this.translate.instant("perimeter.readmission")}],type_of_formations:[],programs:{initial:[],filtered:[]},statuses:[{value:"registered",label:this.translate.instant("registered")}],financial_situations:[{value:"ok",label:this.translate.instant("ok")},{value:"not_ok",label:this.translate.instant("not_ok")}],modality_step_special_form_statuses:[{value:"no_modality_payment",label:this.translate.instant("PAYMENT_INFORMATION.no_modality_payment")},{value:"sent",label:this.translate.instant("PAYMENT_INFORMATION.sent")},{value:"completed",label:this.translate.instant("PAYMENT_INFORMATION.completed")}],type_of_sequences:[{value:"enseignement",label:this.translate.instant("course_sequence.enseignement")},{value:"period_in_company",label:this.translate.instant("course_sequence.period_in_company")},{value:"school_exchange",label:this.translate.instant("course_sequence.school_exchange")}],scholar_season:[],schools:[],campuses:[],levels:[],sectors:[],specialities:[],tagList:[]},this.dialogConfig={disableClose:!0,minWidth:"750px",autoFocus:!1},this.subs=new Y.Y,this.studentIds=[],this.dataSource=new w.by([]),this.selection=new $.Ov(!0,[]),this.sortValue=null,this.dataCount=0,this.dataLoaded=!1,this.isWaitingForResponse=!1,this.isLoading=!1,this.isReset=!1,this.isCheckedAll=!1,this.disabledExport=!0,this.dataSelected=[],this.dataSelectedId=[],this.dataUnselect=[],this.clickedActionButton=null,this.allStudentForCheckbox=[],this.allStudentsData=[],this.allStudentsEmail=[],this.pageSelected=[],this.shieldAccountIcon="../../../../../assets/img/shield-account.png",this.isDisabled=!0,this.isMultipleFilter=!1,this.dropdownAssignmentSequence=[{value:!0,label:this.translate.instant("Yes")},{value:!1,label:this.translate.instant("No")}]}ngOnInit(){this.studentSafeUrl=this.safeUrl(),this.currentUser=this.userService.getLocalStorageUser(),this.isPermission=this.userService.getPermission();const e=this.currentUser?.entities?.find(n=>n?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id,this.pageTitleService.setTitle("NAV.STUDENT.Registered"),this.getTypeOfSequenesDropdown(),this.subs.sink=this.translate.onLangChange.subscribe(n=>{this.getDataScholarSeasons(),this.dropdowns?.type_of_registrations?.length&&(this.dropdowns.type_of_registrations=this.dropdowns.type_of_registrations.map(i=>({value:i.value,label:this.translate.instant("perimeter."+i.value)}))),this.dropdowns?.type_of_sequences?.length&&this.getTypeOfSequenesDropdown(),this.dropdowns?.statuses?.length&&(this.dropdowns.statuses=this.dropdowns.statuses.map(i=>({value:i.value,label:this.translate.instant(i.value)}))),this.dropdowns?.modality_step_special_form_statuses?.length&&(this.dropdowns.modality_step_special_form_statuses=this.dropdowns.modality_step_special_form_statuses.map(i=>({value:i.value,label:this.translate.instant("PAYMENT_INFORMATION."+i.value)}))),this.dropdowns?.financial_situations?.length&&(this.dropdowns.financial_situations=this.dropdowns.financial_situations.map(i=>({value:i.value,label:this.translate.instant(i.value)}))),this.dropdownAssignmentSequence?.length&&(this.dropdownAssignmentSequence=this.dropdownAssignmentSequence.map(i=>({value:i.value,label:this.translate.instant(!0===i.value?"Yes":"No")}))),this.dropdowns?.specialities?.length&&(this.dropdowns.specialities=this.dropdowns.specialities.map(i=>("none"===i?._id&&(i.name=this.translate.instant("None")),{...i})))}),this.getPermissions(),this.getDataScholarSeasons(),this.getDataTags(),this.getDropdowns(),this.sinkFilter(),this.getAllStudents("init"),this.superFilter.controls.scholar_season_filter.value&&"All"===this.superFilter.controls.scholar_season_filter.value&&this.getDataForList()}getTypeOfSequenesDropdown(){this.dropdowns.type_of_sequences=[{value:"enseignement",label:this.translate.instant("course_sequence.enseignement")},{value:"period_in_company",label:this.translate.instant("course_sequence.period_in_company")},{value:"school_exchange",label:this.translate.instant("course_sequence.school_exchange")}],this.dropdowns.type_of_sequences=this.dropdowns.type_of_sequences.map(e=>({value:e.value,label:this.translate.instant("course_sequence."+e.value)})).sort((e,n)=>this.utilityService.simplifyRegex(e.label).localeCompare(this.utilityService.simplifyRegex(n.label)))}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,G.O)(null),(0,Q.b)(()=>{!this.isReset&&!this.isSuperFilterApplied&&this.getAllStudents("afterview"),this.dataLoaded=!0,this.isSuperFilterApplied=!1})).subscribe()}safeUrl(){return this.sanitizer.bypassSecurityTrustResourceUrl(`${W.N.studentEnvironment}/session/login`)}onSort(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getAllStudents("sort"))}clearSelectIfFilter(){this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.isCheckedAll=!1,this.selectType=""}resetFilter(){this.isReset=!0,Object.keys(this.filter.controls).forEach(e=>{this.filter.controls[e].setValue(null,{emitEvent:!1})}),Object.keys(this.filter.value).forEach(e=>{this.filter.value[e]=null}),Object.keys(this.superFilter.controls).forEach(e=>{this.superFilter.controls[e].setValue("scholar_season_filter"===e?"All":null,{emitEvent:!1})}),Object.keys(this.superFilter.value).forEach(e=>{this.superFilter.value[e]=null}),this.selection.clear(),this.paginator.firstPage(),this.isCheckedAll=!1,this.dataSelected=[],this.dataSelectedId=[],this.dataUnselect=[],this.selectType="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sort.direction="",this.sort.active="",this.sortValue=null,this.filter.value.student_status="registered",this.filter.value.is_registered_table=!0,this.dropdowns.schools=[],this.dropdowns.campuses=[],this.dropdowns.levels=[],this.dropdowns.sectors=[],this.dropdowns.specialities=[],this.dropdowns.tagList=[],this.superFilterVal=null,this.filterBreadcrumbData=[],this.isMultipleFilter=!1,this.isReset&&(this.getAllStudents("reset"),this.getDataTags()),this.superFilter.controls.scholar_season_filter.setValue("All"),this.superFilter.controls.schools_filter.setValue(null),this.superFilter.controls.campuses_filter.setValue(null),this.superFilter.controls.levels_filter.setValue(null),this.superFilter.controls.sector_filter.setValue(null),this.superFilter.controls.speciality_filter.setValue(null),this.superFilter.controls.tagFilter.setValue(null),this.isDisabled=!0,this.superFilter.controls.scholar_season_filter.value&&"All"===this.superFilter.controls.scholar_season_filter.value&&this.getDataForList()}getAllStudents(e){const n={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0};"superFilter"===e&&(this.superFilterVal=v.cloneDeep(this.cleanSuperFilterData())),this.filter.value.offset=this.filter.value.registration_date?I().utcOffset():null;const i={...this.cleanFilterData(),...this.superFilterVal};this.isWaitingForResponse=!0,this.subs.sink=this.studentService.GetAllStudentsTable(n,i,this.sortValue).subscribe(s=>{s&&s.length?(this.dataSource.data=s,this.paginator.length=s[0].count_document,this.dataCount=s[0].count_document):(this.dataSource.data=[],this.paginator.length=0,this.dataCount=0),this.noData=this.dataSource.connect().pipe((0,X.U)(r=>0===r.length)),this.isReset=!1,this.isWaitingForResponse=!1,this.dropdowns.intake_channels.filtered=[...this.dropdowns.intake_channels.initial],this.dropdowns.programs.initial=this.dropdowns.programs.initial.sort((r,p)=>this.utilityService.simplifyRegex(r.program).localeCompare(this.utilityService.simplifyRegex(p.program))),this.dropdowns.programs.filtered=[...this.dropdowns.programs.initial],this.filterBreadcrumbFormat(i),this.getUpdateInfo()},s=>{this.userService.postErrorLog(s),s&&(this.dataSource.data=[],this.paginator.length=0,this.dataCount=0,this.isWaitingForResponse=!1,this.handleNetworkError(s))})}handleNetworkError(e){const n=["jwt expired","str & salt required","Authorization header is missing","salt","UnAuthenticated"],i=o=>o.toLocaleLowerCase();e instanceof Error?n.find(o=>i(e.message).includes(i(o)))&&this.userService.handlerSessionExpired():"string"==typeof e&&n.find(o=>i(e).includes(i(o)))&&this.userService.handlerSessionExpired()}getUpdateInfo(){this.isWaitingForResponse=!0,this.subs.sink=this.candidatesService.getAppPermission().subscribe(e=>{console.log("hyperplanning",e),e&&e.hyperplanning&&(this.hyperplanningStatus=e.hyperplanning),this.isWaitingForResponse=!1},e=>{this.userService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("UnAuthenticated")||e.message.includes("salt"))?this.authService.handlerSessionExpired():e&&e.message&&e.message.includes("Network error: Http failure response for")?g().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):g().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}updateHyperplanning(){this.isWaitingForResponse=!0,this.subs.sink=this.studentService.sendStudentsToHyperplanning().subscribe(e=>{e&&g().fire({type:"success",title:this.translate.instant("Bravo!"),text:this.translate.instant("We are updating hyperplanning, it can take few minutes before the status change"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}),this.isWaitingForResponse=!1,this.getAllStudents()},e=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(e),console.log(e),e&&e.message&&e.message.includes("There is no template connected to this program")?g().fire({type:"info",title:this.translate.instant("BAD_CONNECTION.Title"),text:this.translate.instant("There is no template connected to this program"),confirmButtonText:this.translate.instant("Okay"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):g().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("OK")})})}cleanFilterData(){const e=v.cloneDeep(this.filter.value);return Object.keys(e).forEach(n=>{null===e[n]&&delete e[n]}),e}cleanSuperFilterData(){return this.superFilter.value.school_ids&&0===this.superFilter.value.school_ids.length&&(this.superFilter.value.school_ids=null),this.superFilter.value.campus_ids&&0===this.superFilter.value.campus_ids.length&&(this.superFilter.value.campus_ids=null),this.superFilter.value.level_ids&&0===this.superFilter.value.level_ids.length&&(this.superFilter.value.level_ids=null),this.superFilter.value.speciality_ids&&0===this.superFilter.value.speciality_ids.length&&(this.superFilter.value.speciality_ids=null),this.superFilter.value.sector_ids&&0===this.superFilter.value.sector_ids.length&&(this.superFilter.value.sector_ids=null),this.superFilter.value.tag_ids&&0===this.superFilter.value.tag_ids.length&&(this.superFilter.value.tag_ids=null),this.superFilter.value}transformDate(e){return e&&e.date&&e.time?this.parseUtcToLocalPipe.transformDate(e.date,e.time):""}intakeChannel(e){return e&&e.initial_intake_channel&&e.scholar_season&&e.intake_channel.program&&e.scholar_season.scholar_season?(e.scholar_season.scholar_season.concat(" ",e.initial_intake_channel.program),e.initial_intake_channel):""}currentProgram(e){let n="";return e&&e.program&&e.program.scholar_season_id&&e.program.program&&e.program.scholar_season_id.scholar_season?(n=e.program.scholar_season_id.scholar_season.concat(" ",e.program.program),n):""}getPermissions(){this.allowSendEmail=Boolean(this.permissions.studentsSendEmail()),this.allowAssignSequences=Boolean(this.permissions.studentsAssignSequence()),this.allowActions=Boolean(this.permissions.studentsActions()),this.allowExport=Boolean(this.permissions.studentsExport())}getDropdowns(){this.subs.sink=this.studentService.getAllStudentInitialIntakeChannel().subscribe(e=>{e&&e.length&&(this.dropdowns.intake_channels.initial=[...e],this.dropdowns.intake_channels.filtered=[...e])},e=>{this.userService.postErrorLog(e),console.error("Error fetching intake channels dropdown",e)}),this.subs.sink=this.studentService.getAllTypeOfFormationDropdown().subscribe(e=>{e&&e.length&&(this.dropdowns.type_of_formations=[...e],this.dropdowns.type_of_formations=this.dropdowns.type_of_formations.sort((n,i)=>this.utilityService.simplifyRegex(n.sigle).localeCompare(this.utilityService.simplifyRegex(i.sigle))))},e=>{this.userService.postErrorLog(e),console.error("Error fetching type of formations dropdown",e)}),this.subs.sink=this.studentService.getAllProgramsByUserType(this.currentUserTypeId).subscribe(e=>{const n=v.cloneDeep(e);n&&n.length&&(n.forEach(i=>{i.program=i.scholar_season_id&&i.scholar_season_id.scholar_season?i.scholar_season_id.scholar_season+" "+i.program:i.program}),this.dropdowns.programs.initial=[...n],this.dropdowns.programs.filtered=[...n])},e=>{this.userService.postErrorLog(e),console.error("Error fetching student programs",e)})}getDataScholarSeasons(){this.subs.sink=this.financeService.GetAllScholarSeasonsPublished().subscribe(e=>{e&&e.length&&(this.originalScholar=v.cloneDeep(e),this.dropdowns.scholar_season=[],this.dropdowns.scholar_season=this.originalScholar.sort((n,i)=>n.scholar_season>i.scholar_season?1:i.scholar_season>n.scholar_season?-1:0),this.dropdowns.scholar_season.unshift({_id:"All",scholar_season:this.translate.instant("All")}),this.dropdowns.scholar_season=v.uniqBy(this.dropdowns.scholar_season,"_id"),console.log("SCHOLAR: ",this.dropdowns.scholar_season))},e=>{this.userService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():g().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}scholarSelect(){this.dropdowns.schools=[],this.dropdowns.campuses=[],this.dropdowns.levels=[],this.dropdowns.sectors=[],this.dropdowns.specialities=[],this.superFilter.controls.schools_filter.value&&this.superFilter.controls.schools_filter.setValue(null),this.superFilter.controls.campuses_filter.value&&this.superFilter.controls.campuses_filter.setValue(null),this.superFilter.controls.levels_filter.value&&this.superFilter.controls.levels_filter.setValue(null),this.superFilter.controls.sector_filter.value&&this.superFilter.controls.sector_filter.setValue(null),this.superFilter.controls.speciality_filter.value&&this.superFilter.controls.speciality_filter.setValue(null),this.superFilter.controls.scholar_season_filter.value&&0!==this.superFilter.controls.scholar_season_filter.value.length?(this.superFilter.value.scholar_season_id="All"!==this.superFilter.controls.scholar_season_filter.value?this.superFilter.controls.scholar_season_filter.value:"",this.getDataForList(this.superFilter.value.scholar_season_id)):this.superFilter.value.scholar_season_id=""}getDataForList(e){const n=e||"";this.subs.sink=this.candidatesService.GetAllSchoolFilter(n,`filter: { scholar_season_id:"${n}"}`,this.currentUserTypeId).subscribe(o=>{if(o)if(this.currentUser&&this.currentUser.entities&&this.currentUser.entities.length&&this.currentUser.app_data&&this.currentUser.app_data.school_package&&this.currentUser.app_data.school_package.length){const s=[];this.currentUser.app_data.school_package.forEach(r=>{s.push(r.school)}),this.listObjective=s,this.dropdowns.schools=this.listObjective,this.dropdowns.schools=this.dropdowns.schools.sort((r,p)=>r.short_name>p.short_name?1:p.short_name>r.short_name?-1:0)}else this.listObjective=o,this.dropdowns.schools=this.listObjective,this.dropdowns.schools=this.dropdowns.schools.sort((s,r)=>s.short_name>r.short_name?1:r.short_name>s.short_name?-1:0)},o=>{this.userService.postErrorLog(o),o&&o.message&&(o.message.includes("jwt expired")||o.message.includes("str & salt required")||o.message.includes("Authorization header is missing")||o.message.includes("salt"))?this.userService.handlerSessionExpired():g().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}checkSuperfilterSchool(){const e=this.superFilter.controls.schools_filter.value;this.superFilter.controls.schools_filter.patchValue(e&&e.length?e:null),this.getDataCampus()}getDataCampus(){if(this.dropdowns.specialities=[],this.dropdowns.sectors=[],this.dropdowns.levels=[],this.dropdowns.campuses=[],this.superFilter.controls.campuses_filter.value&&this.superFilter.controls.campuses_filter.setValue(null),this.superFilter.controls.levels_filter.value&&this.superFilter.controls.levels_filter.setValue(null),this.superFilter.controls.sector_filter.value&&this.superFilter.controls.sector_filter.setValue(null),this.superFilter.controls.speciality_filter.value&&this.superFilter.controls.speciality_filter.setValue(null),console.log("listobjective",this.listObjective),this.currentUser&&this.currentUser.entities&&this.currentUser.entities.length&&this.currentUser.app_data&&this.currentUser.app_data.school_package&&this.superFilter.controls.schools_filter&&this.currentUser.app_data.school_package.length){const n=this.superFilter.controls.schools_filter.value;console.log("getDataLevel",n),this.currentUser.app_data.school_package.forEach(i=>{(i&&i.school&&i.school._id&&n.includes(i.school._id)&&!n.includes("All")||i&&i.school&&i.school._id&&n.includes("All"))&&(this.dropdowns.campuses=v.concat(this.dropdowns.campuses,i.school.campuses))}),console.log("this.dropdowns.campuses",this.dropdowns.campuses),this.getDataLevel()}else if(this.superFilter.controls.schools_filter.value&&!this.superFilter.controls.schools_filter.value.includes("All")&&this.listObjective&&this.listObjective.length){const n=this.superFilter.controls.schools_filter.value;this.listObjective.filter(o=>n.includes(o._id)).filter((o,s)=>{o.campuses&&o.campuses.length&&o.campuses.filter((r,p)=>{this.dropdowns.campuses.push(r)})}),this.getDataLevel()}else this.superFilter.controls.schools_filter.value&&this.superFilter.controls.schools_filter.value.includes("All")&&this.listObjective&&this.listObjective.length?(this.listObjective.forEach(n=>{n.campuses&&n.campuses.length&&n.campuses.forEach(i=>{this.dropdowns.campuses.push(i)})}),this.getDataLevel()):(this.dropdowns.campuses=[],this.getDataLevel());const e=v.chain(this.dropdowns.campuses).groupBy("name").map((n,i)=>({name:i,_id:n&&n.length?n[0]._id:null,campuses:n})).value();e&&e.length&&e.forEach((n,i)=>{let o=[];n&&n.campuses&&n.campuses.length&&n.campuses.forEach((s,r)=>{o=v.concat(o,s.levels)}),e[i].levels=v.uniqBy(o,"name")}),this.dropdowns.campuses=v.uniqBy(e,"_id"),this.dropdowns.campuses=this.dropdowns.campuses.sort((n,i)=>n.name>i.name?1:i.name>n.name?-1:0)}checkSuperfilterCampus(){const e=this.superFilter.controls.campuses_filter.value;this.superFilter.controls.campuses_filter.patchValue(e&&e.length?e:null),this.getDataLevel()}getDataLevel(){if(this.dropdowns.specialities=[],this.dropdowns.sectors=[],this.dropdowns.levels=[],this.superFilter.controls.levels_filter.value&&this.superFilter.controls.levels_filter.setValue(null),this.superFilter.controls.sector_filter.value&&this.superFilter.controls.sector_filter.setValue(null),this.superFilter.controls.speciality_filter.value&&this.superFilter.controls.speciality_filter.setValue(null),this.currentUser&&this.currentUser.entities&&this.currentUser.entities.length&&this.currentUser.app_data&&this.currentUser.app_data.school_package&&this.superFilter.controls.schools_filter&&this.superFilter.controls.campuses_filter&&this.currentUser.app_data.school_package.length){const e=this.superFilter.controls.schools_filter.value,n=this.superFilter.controls.campuses_filter.value;n&&n.length&&!n.includes("All")?this.currentUser.app_data.school_package.forEach(i=>{i&&i.school&&i.school._id&&(e.includes(i.school._id)||e.includes("All"))&&this.dropdowns.campuses.filter(s=>n.includes(s._id)).forEach(s=>{s&&s.levels&&s.levels.length&&(this.dropdowns.levels=v.concat(this.dropdowns.levels,s.levels))})}):n&&n.length&&n.includes("All")&&this.dropdowns&&this.dropdowns.campuses&&this.dropdowns.campuses.length&&this.dropdowns.campuses.forEach(i=>{i&&i.levels&&i.levels.length&&(this.dropdowns.levels=v.concat(this.dropdowns.levels,i.levels))}),console.log("getDataLevel",this.currentUser.app_data.school_package,e,n,this.dropdowns)}else if(this.superFilter.controls.campuses_filter.value&&!this.superFilter.controls.campuses_filter.value.includes("All")&&this.dropdowns&&this.dropdowns.campuses&&this.dropdowns.campuses.length){const e=this.superFilter.controls.campuses_filter.value;this.dropdowns.campuses.filter(i=>e.includes(i._id)).forEach(i=>{i&&i.levels&&i.levels.length&&i.levels.forEach(o=>{this.dropdowns.levels.push(o)})})}else this.superFilter.controls.campuses_filter.value&&this.superFilter.controls.campuses_filter.value.includes("All")&&this.dropdowns&&this.dropdowns.campuses&&this.dropdowns.campuses.length?this.dropdowns.campuses.forEach(e=>{e&&e.levels&&e.levels.length&&e.levels.forEach(n=>{this.dropdowns.levels.push(n)})}):this.dropdowns.levels=[];this.dropdowns.levels=v.uniqBy(this.dropdowns.levels,"name"),this.dropdowns.levels=this.dropdowns.levels.sort((e,n)=>e.name>n.name?1:n.name>e.name?-1:0)}checkSuperfilterLevel(){const e=this.superFilter.controls.levels_filter.value;this.superFilter.controls.levels_filter.patchValue(e&&e.length?e:null),this.getDataSector()}getDataSector(){this.dropdowns.specialities=[],this.dropdowns.sectors=[],this.superFilter.controls.sector_filter.value&&this.superFilter.controls.sector_filter.setValue(null),this.superFilter.controls.speciality_filter.value&&this.superFilter.controls.speciality_filter.setValue(null);let e=[],n=[],i=[];this.superFilter.controls.levels_filter.value&&this.superFilter.controls.levels_filter.value.includes("All")&&this.dropdowns&&this.dropdowns.levels&&this.dropdowns.levels.length&&(e=this.dropdowns.levels.map(s=>s._id)),this.superFilter.controls.campuses_filter.value&&this.superFilter.controls.campuses_filter.value.includes("All")&&this.dropdowns&&this.dropdowns.campuses&&this.dropdowns.campuses.length&&(n=this.dropdowns.campuses.map(s=>s._id)),this.superFilter.controls.schools_filter.value&&this.superFilter.controls.schools_filter.value.includes("All")&&this.dropdowns&&this.dropdowns.schools&&this.dropdowns.schools.length&&(i=this.dropdowns.schools.map(s=>s._id)),this.superFilter.value.level_ids||e.length?this.subs.sink=this.financeService.GetAllSectorsDropdown({scholar_season_id:this.superFilter.value.scholar_season_id&&"All"!==this.superFilter.value.scholar_season_id?this.superFilter.value.scholar_season_id:null,candidate_school_ids:i&&i.length?i:this.superFilter.value.school_ids?this.superFilter.value.school_ids:null,campuses:n&&n.length?n:this.superFilter.value.campus_ids?this.superFilter.value.campus_ids:null,levels:e&&e.length?e:this.superFilter.value.level_ids?this.superFilter.value.level_ids:null}).subscribe(s=>{s&&s.length&&(this.dropdowns.sectors=s,this.dropdowns.sectors=v.uniqBy(this.dropdowns.sectors,"name"),this.dropdowns.sectors=this.dropdowns.sectors.sort((r,p)=>r.name>p.name?1:p.name>r.name?-1:0))},s=>{this.userService.postErrorLog(s),s&&s.message&&s.message.includes("Network error: Http failure response for")&&g().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})}):(this.dropdowns.sectors=[],this.dropdowns.specialities=[])}checkSuperfilterSector(){const e=this.superFilter.controls.sector_filter.value;this.superFilter.controls.sector_filter.patchValue(e&&e.length?e:null),this.getDataSpeciality()}getDataSpeciality(){this.dropdowns.specialities=[],this.superFilter.controls.speciality_filter.value&&this.superFilter.controls.speciality_filter.setValue(null);let e=[],n=[],i=[],o=[];this.superFilter.controls.levels_filter.value&&this.superFilter.controls.levels_filter.value.includes("All")&&this.dropdowns&&this.dropdowns.levels&&this.dropdowns.levels.length&&(e=this.dropdowns.levels.map(r=>r._id)),this.superFilter.controls.campuses_filter.value&&this.superFilter.controls.campuses_filter.value.includes("All")&&this.dropdowns&&this.dropdowns.campuses&&this.dropdowns.campuses.length&&(n=this.dropdowns.campuses.map(r=>r._id)),this.superFilter.controls.schools_filter.value&&this.superFilter.controls.schools_filter.value.includes("All")&&this.dropdowns&&this.dropdowns.schools&&this.dropdowns.schools.length&&(i=this.dropdowns.schools.map(r=>r._id)),this.superFilter.controls.sector_filter.value&&this.superFilter.controls.sector_filter.value.includes("All")&&this.dropdowns&&this.dropdowns.sectors&&this.dropdowns.sectors.length&&(o=this.dropdowns.sectors.map(r=>r._id));const s={scholar_season_id:this.superFilter.value.scholar_season_id&&"All"!==this.superFilter.value.scholar_season_id?this.superFilter.value.scholar_season_id:null,candidate_school_ids:i&&i.length?i:this.superFilter.value.school_ids?this.superFilter.value.school_ids:null,campuses:n&&n.length?n:this.superFilter.value.campus_ids?this.superFilter.value.campus_ids:null,levels:e&&e.length?e:this.superFilter.value.level_ids?this.superFilter.value.level_ids:null,sectors:o&&o.length?o:this.superFilter.value.sector_ids?this.superFilter.value.sector_ids:null};this.superFilter.value.sector_ids||this.superFilter.controls.sector_filter.value&&this.superFilter.controls.sector_filter.value.includes("All")?this.subs.sink=this.candidatesService.GetAllSpecializationsByScholar(s).subscribe(r=>{r&&r.length&&(this.dropdowns.specialities=r,this.dropdowns.specialities=v.uniqBy(this.dropdowns.specialities,"name"),this.dropdowns.specialities=this.dropdowns.specialities.sort((p,m)=>p.name>m.name?1:m.name>p.name?-1:0),this.dropdowns.specialities.unshift({_id:"none",name:this.translate.instant("None")}))},r=>{this.userService.postErrorLog(r),r&&r.message&&r.message.includes("Network error: Http failure response for")&&g().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})}):this.dropdowns.specialities=[]}checkSuperfilterSpeciality(){const e=this.superFilter.controls.speciality_filter.value;this.superFilter.controls.speciality_filter.patchValue(e&&e.length?e:null),this.getDataBySpeciality()}getDataBySpeciality(){console.log("_fil",this.filter.value)}getDataTags(){this.subs.sink=this.candidatesService.getAllTags(!0,"finance_student",this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[],this.candidate_admission_statuses).subscribe(n=>{n&&n.length&&(console.log("ini tagList",n),this.dropdowns.tagList=n,this.dropdowns.tagList=this.dropdowns.tagList.sort((i,o)=>this.utilityService.simplifyRegex(i.name?.toLowerCase())<this.utilityService.simplifyRegex(o.name?.toLowerCase())?-1:this.utilityService.simplifyRegex(i.name?.toLowerCase())>this.utilityService.simplifyRegex(o.name?.toLowerCase())?1:0))},n=>{this.authService.postErrorLog(n),n&&n.message&&(n.message.includes("jwt expired")||n.message.includes("str & salt required")||n.message.includes("Authorization header is missing")||n.message.includes("salt"))?this.authService.handlerSessionExpired():n&&n.message&&n.message.includes("Network error: Http failure response for")?g().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):g().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}checkSuperFilterTags(){const e=this.superFilter?.controls?.tagFilter?.value;this.superFilter?.controls?.tagFilter?.patchValue(e&&e.length?e:null)}sinkFilter(){this.subs.sink=this.filter.controls.student_number.valueChanges.pipe((0,R.b)(500)).subscribe(e=>{this.filter.value.student_number=Boolean(e)?e:null,this.paginator.firstPage(),this.isReset||this.getAllStudents("filter student number")}),this.subs.sink=this.filter.controls.full_name.valueChanges.pipe((0,R.b)(500)).subscribe(e=>{this.filter.value.full_name=Boolean(e)?e:null,this.paginator.firstPage(),this.isReset||this.getAllStudents("filter full name")}),this.subs.sink=this.filter.controls.initial_intake_channel_filter.valueChanges.subscribe(e=>{this.isMultipleFilter=!0}),this.subs.sink=this.filter.controls.current_program_filter.valueChanges.subscribe(e=>{this.isMultipleFilter=!0}),this.subs.sink=this.filter.controls.registration_date.valueChanges.subscribe(e=>{this.filter.value.registration_date=e instanceof Date?I(e).format("DD/MM/YYYY"):null,this.paginator.firstPage(),this.isReset||this.getAllStudents("filter regis date")}),this.subs.sink=this.filter.controls.current_sequence.valueChanges.pipe((0,R.b)(500)).subscribe(e=>{this.filter.value.current_sequence=Boolean(e)?e:null,this.paginator.firstPage(),this.isReset||this.getAllStudents("filter current seq")}),this.subs.sink=this.filter.controls.current_group.valueChanges.pipe((0,R.b)(500)).subscribe(e=>{this.filter.value.current_student_class=Boolean(e)?e:null,this.paginator.firstPage(),this.isReset||this.getAllStudents("filter current seq")}),this.subs.sink=this.filter.controls.type_of_registration.valueChanges.subscribe(e=>{this.isMultipleFilter=!0}),this.subs.sink=this.filter.controls.type_of_formation.valueChanges.subscribe(e=>{this.isMultipleFilter=!0}),this.subs.sink=this.filter.controls.type_of_sequence.valueChanges.subscribe(e=>{this.isMultipleFilter=!0}),this.subs.sink=this.filter.controls.student_status.valueChanges.subscribe(e=>{this.isMultipleFilter=!0}),this.subs.sink=this.filter.controls.modality_step_special_form_status.valueChanges.subscribe(e=>{this.isMultipleFilter=!0}),this.subs.sink=this.filter.controls.financial_situation.valueChanges.subscribe(e=>{this.isMultipleFilter=!0}),this.subs.sink=this.filter.controls.assignment_sequence.valueChanges.subscribe(e=>{this.isMultipleFilter=!0}),this.subs.sink=this.superFilter.controls.scholar_season_filter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.value.speciality_ids=null,this.superFilter.value.sector_ids=null,this.superFilter.value.level_ids=null,this.superFilter.value.campus_ids=null,this.superFilter.value.school_ids=null,this.superFilter.value.scholar_season_id=null===e||this.isReset&&"All"===e?null:e}),this.subs.sink=this.superFilter.controls.schools_filter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.value.speciality_ids=null,this.superFilter.value.sector_ids=null,this.superFilter.value.level_ids=null,this.superFilter.value.campus_ids=null,this.superFilter.value.school_ids=e&&e.length&&!e.includes("All")?e:null}),this.subs.sink=this.superFilter.controls.campuses_filter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.value.speciality_ids=null,this.superFilter.value.sector_ids=null,this.superFilter.value.level_ids=null,this.superFilter.value.campus_ids=e&&e.length&&!e.includes("All")?e:null}),this.subs.sink=this.superFilter.controls.levels_filter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.value.speciality_ids=null,this.superFilter.value.sector_ids=null,this.superFilter.value.level_ids=e&&e.length&&!e.includes("All")?e:null}),this.subs.sink=this.superFilter.controls.sector_filter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.value.speciality_ids=null,this.superFilter.value.sector_ids=e&&e.length&&!e.includes("All")?e:null}),this.subs.sink=this.superFilter.controls.speciality_filter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.value.speciality_ids=e&&e.length&&!e.includes("All")?e:null}),this.subs.sink=this.superFilter.controls.tagFilter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.value.tag_ids=""===e||e&&e.includes("All")?[]:e})}displayWithProgramNameFn(e){if(e===this.translate.instant("All"))return e;if(!e)return"";const n=this.dropdowns.programs.initial.find(i=>i&&i._id&&e&&i._id===e);return n&&n.program?n.program:""}onFilterSelect(e,n,i){i?(n=this.filter?.controls[i]?.value,console.log("cek value",n)):this.filter.value[e]="All"!==n?n:null,"student_statuses"===e&&(this.filter.value.student_status="registered"),this.isMultipleFilter=!1,this.paginator.firstPage(),this.isReset||this.getAllStudents("filter select")}onFilterSelectMultiple(e,n){if(this.isMultipleFilter){this.isMultipleFilter=!1;const i=this.filter?.controls[n]?.value;this.filter.value[e]=i?.length?i:null,"student_statuses"===e&&(this.filter.value.student_status=this.filter?.value?.student_statuses?.length?null:"registered"),this.paginator.firstPage(),this.isReset||this.getAllStudents("filter select")}}goToStudentCard(e,n,i){console.log("cek row",n);const o={selectedCandidate:e,sortValue:JSON.stringify(this.sortValue)||"",tab:i||"",paginator:JSON.stringify({pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize})},s=this.router.createUrlTree(["candidate-file"],{queryParams:o});window.open(s.toString(),"_blank")}openSendSingleEmailDialog(e){if(e){const n=e?.candidate_id?.payment_supports?.map(o=>(o.intake_channel=e?.program,o.candidate={_id:e?.candidate_id?._id},o));this.subs.sink=this.dialog.open(Dt.v,{width:"600px",minHeight:"100px",disableClose:!0,data:{candidate_id:{_id:e?.candidate_id?._id,candidate_admission_status:e?.student_status,civility:e?.candidate_id?.civility,email:e?.candidate_id?.email,emailDefault:e?.candidate_id?.school_mail,first_name:e?.candidate_id?.first_name,last_name:e?.candidate_id?.last_name,intake_channel:e?.program},financial_supports:n,triggeredFromStudent:!0}}).afterClosed().subscribe(o=>{!this.isReset&&o&&this.getAllStudents("send email")})}}openSendMultipleEmailDialog(){if(this.dataSelected.length<1)g().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Students")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else{const e=this.dataSelected;let n=[];e?.length&&e.forEach(i=>{let o=[];i?.candidate_id?.payment_supports?.length&&(o=i.candidate_id.payment_supports.filter(r=>r.relation).map(r=>r.email)),n.push({candidate:{candidate_id:i.candidate_id,email:i.email,_id:i.candidate_id&&i.candidate_id._id?i.candidate_id._id:null,intake_channel:i?.program},financial_supp:{email:o}})}),g().fire({title:this.translate.instant("Followup_S3.Title"),html:this.translate.instant("Followup_S3.Text"),type:"question",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("Followup_S3.BUTTON 1"),cancelButtonText:this.translate.instant("Followup_S3.BUTTON 2")}).then(i=>{n=n.map(i&&i.value?o=>({...o,triggeredFromStudent:!0}):o=>(delete o.financial_supp,o.triggeredFromStudent=!0,o)),this.subs.sink=this.dialog.open(K.v,{...this.dialogConfig,data:n}).afterClosed().subscribe(()=>{this.clearSelectIfFilter()},o=>{console.error("Something went wrong after closing send multiple email dialog.",o)})})}}onAssignMultipleSequence(){if(this.dataSelected.length<1)g().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Students")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else{let e=[];this.dataSelected&&this.dataSelected.map(s=>s.program)&&this.dataSelected.map(s=>s.program).length&&(e=this.dataSelected.map(s=>s.program),e=v.uniqBy(e,"_id"));const n=Array.isArray(this.dataSelected)?this.dataSelected:[],i=n.filter(s=>s?.candidate_id?.program_sequence_ids).map(s=>s.candidate_id.program_sequence_ids),o=n.filter(s=>s?._id&&s?.candidate_id?._id).map(s=>({student_id:s._id,candidate_id:s.candidate_id._id}));e.length>1?g().fire({type:"warning",title:this.translate.instant("StudTable_S2.Title"),html:this.translate.instant("StudTable_S2.Text"),confirmButtonText:this.translate.instant("StudTable_S2.Button")}):this.subs.sink=this.dialog.open(nt,{width:"800px",minHeight:"100px",disableClose:!0,data:{candidates:o,program_id:null===e[0]?null:e[0]._id,program_sequence_ids:i,type:"multiple"}}).afterClosed().subscribe(s=>{s&&(this.getAllStudents(),this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.dataUnselect=[],this.allStudentForCheckbox=[],this.isCheckedAll=!1)})}}onAssignSequence(e){this.subs.sink=this.dialog.open(nt,{width:"800px",minHeight:"100px",disableClose:!0,data:{student_id:e._id,candidate_id:e.candidate_id._id,program_id:e.program?e.program._id:null,program_sequence_ids:e.candidate_id.program_sequence_ids,type:"single"}}).afterClosed().subscribe(n=>{n&&(this.getAllStudents(),this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.dataUnselect=[],this.allStudentForCheckbox=[],this.isCheckedAll=!1)})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){const e=this.selection.selected.length,n=this.dataSource.data.length;return!!this.isCheckedAll||e===n||e>n}masterToggle(){this.isAllSelected()?(this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.dataUnselect=[],this.allStudentForCheckbox=[],this.isCheckedAll=!1):(this.selection.clear(),this.dataSelected=[],this.dataUnselect=[],this.allStudentForCheckbox=[],this.isCheckedAll=!0,this.dataSource.data.map(e=>{this.dataUnselect.includes(e.candidate_id._id)||this.selection.select(e.candidate_id._id)}))}getDataAllForCheckbox(e){const n={limit:300,page:e},i={...this.cleanFilterData(),...this.superFilterVal};this.isWaitingForResponse=!0,this.subs.sink=this.studentService.GetAllStudentsTable(n,i,this.sortValue).subscribe(s=>{s&&s.length?(this.allStudentForCheckbox.push(...s),this.getDataAllForCheckbox(e+1)):(this.isWaitingForResponse=!1,this.isCheckedAll?(this.allStudentForCheckbox&&this.allStudentForCheckbox.length&&this.allStudentForCheckbox.forEach(r=>{this.selection.select(r._id),this.dataSelected.push(r)}),this.pageSelected.push(this.paginator.pageIndex)):this.pageSelected=[])},s=>{this.isReset=!1,this.isWaitingForResponse=!1,this.userService.postErrorLog(s),g().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("OK")})})}translateTime(e){if(e){const n=this.parseUtcToLocalPipe.transform(e);return n&&"Invalid date"!==n&&"Invalid date"!==I(n,"HH:mm").format("HH[h]mm")?I(n,"HH:mm").format("HH[h]mm"):"00h00"}return""}translateDate(e,n){return e&&n?this.parseUtcToLocalPipe.transformDate(e,n):""}showOptions(e,n){if(this.isCheckedAll){if(n)if(this.dataUnselect.includes(n.candidate_id._id)){const s=this.dataUnselect.findIndex(r=>r===n.candidate_id._id);this.dataUnselect.splice(s,1),this.selection.select(n.candidate_id._id)}else this.dataUnselect.push(n.candidate_id._id),this.selection.deselect(n.candidate_id._id)}else if(n)if(this.dataSelected&&this.dataSelected.length){const s=this.dataSelected.filter(r=>r.candidate_id._id===n.candidate_id._id);if(s&&s.length<1)this.dataSelected.push(n);else{const r=this.dataSelected.findIndex(p=>p.candidate_id._id===n.candidate_id._id);this.dataSelected.splice(r,1)}}else this.dataSelected.push(n);this.disabledExport=!(this.dataSelected.length>0),this.dataSelectedId=[],this.selectType=e,(this.dataSelected&&this.dataSelected.length?this.dataSelected:this.selection.selected).forEach(s=>{this.dataSelectedId.push(s.candidate_id._id)})}downloadCSV(){if(this.dataSelected&&this.dataSelected.length<1&&!this.isCheckedAll)return g().fire({type:"warning",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:String(this.translate.instant("student")).toLocaleLowerCase()}),confirmButtonText:this.translate.instant("Followup_S8.Button")});{const e={",":this.translate.instant("IMPORT_DECISION_S1.COMMA"),";":this.translate.instant("IMPORT_DECISION_S1.SEMICOLON"),tab:this.translate.instant("IMPORT_DECISION_S1.TAB")};g().fire({type:"question",title:this.translate.instant("EXPORT_DECISION.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translate.instant("IMPORT_DECISION_S1.CANCEL"),confirmButtonText:this.translate.instant("IMPORT_DECISION_S1.OK"),input:"radio",inputOptions:e,inputValue:this.translate&&"fr"===this.translate.currentLang?";":"",inputValidator:n=>new Promise((i,o)=>{n?(i(""),g().enableConfirmButton()):(g().disableConfirmButton(),o(this.translate.instant("IMPORT_DECISION_S1.INVALID")))}),onOpen:function(){g().disableConfirmButton(),g().getContent().addEventListener("click",function(o){g().enableConfirmButton()}),";"===g().getInput().getAttribute("value")&&g().enableConfirmButton()}}).then(n=>{n.value&&this.openDownloadCsv(n.value)})}}cleanFilterDataCSV(){let e=v.cloneDeep(this.filter.value);this.superFilterVal&&(e={...e,...this.superFilterVal});let i,o,s,r,p,m,n="";return Object.keys(e).forEach(u=>{if(e[u]||!1===e[u])if("school_ids"===u)i=e.school_ids.map(b=>'"'+b+'"'),n+=`,"school_ids":[${i}]`;else if("campus_ids"===u)r=e.campus_ids.map(b=>'"'+b+'"'),n+=`,"campus_ids":[${r}]`;else if("level_ids"===u)o=e.level_ids.map(b=>'"'+b+'"'),n+=`,"level_ids":[${o}]`;else if("sector_ids"===u)p=e.sector_ids.map(b=>'"'+b+'"'),n+=`,"sector_ids":[${p}]`;else if("speciality_ids"===u)m=e.speciality_ids.map(b=>'"'+b+'"'),n+=`,"speciality_ids":[${m}]`;else if("tags"===u)s=e.tags.map(b=>'"'+b+'"'),n+=`,"tag_ids":[${s}]`;else if("initial_intake_channels"===u||"type_of_registrations"===u||"type_of_formations"===u||"type_of_sequences"===u||"student_statuses"===u||"programs"===u||"modality_step_special_form_statuses"===u||"financial_situations"===u||"assignment_sequences"===u){const b=e[u]?.map(T=>'"'+T+'"');n=n?n+`,"${u}":[${b}]`:n+`"${u}":[${b}]`}else n=n?n+`,"${u}":"${e[u]}"`:n+`"${u}":"${e[u]}"`}),'"filter":{'+n+"}"}openDownloadCsv(e){let n=W.N.apiUrl;n=n.replace("graphql","");const i=this.translate.currentLang.toLowerCase();let s;if(console.log("_ini filter",this.dataSelected),this.dataSelected.length&&!this.isCheckedAll||this.dataUnselect&&this.dataUnselect.length){const b=[...new Set(this.dataSelected.map(D=>`"${D.candidate_id._id}"`))];s='"filter":{"student_ids": ['+[...new Set(this.dataSelected.map(D=>'"'+D._id+'"'))].toString()+'], "candidate_ids": ['+b.toString()+'], "offset": "'+I().utcOffset()+'"}'}else this.isCheckedAll&&(s=this.cleanFilterDataCSV());console.log("INI JUGA FILTER",s);const r=this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id.map(b=>'"'+b+'"'):[],p=encodeURI(n+"downloadStudentCSV/"+e+"/"+i),m={headers:new E.WM({Authorization:JSON.parse(localStorage.getItem("admtc-token-encryption")),"Content-Type":"application/json"})},u="{"+s+`,"user_type_id":"${this.currentUserTypeId}","user_type_ids":[`+r+"]}";this.isWaitingForResponse=!0,this.http.post(p,u,m).subscribe(b=>{this.isWaitingForResponse=!1,b&&g().fire({type:"success",title:this.translate.instant("ReAdmission_S3.TITLE"),text:this.translate.instant("ReAdmission_S3.TEXT"),confirmButtonText:this.translate.instant("ReAdmission_S3.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>this.clearSelectIfFilter())},b=>{this.isWaitingForResponse=!1,g().fire({type:"info",title:this.translate.instant("SORRY"),text:b&&b.message?this.translate.instant(b.message.replaceAll("GraphQL error: ","")):b,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}openOneTimeFormDialog(e){if(this.selection.selected.length<1)return g().fire({type:"warning",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:String(this.translate.instant("student")).toLocaleLowerCase()}),confirmButtonText:this.translate.instant("Followup_S8.Button")});this.subs.sink=this.dialog.open(At,{width:"800px",panelClass:"one-time-pop-up",data:{students:this.dataSelected,selectType:this.selectType,isCheckedAll:this.isCheckedAll},disableClose:!0}).afterClosed().subscribe(n=>{n&&(this.getAllStudents(),this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.dataUnselect=[],this.allStudentForCheckbox=[],this.isCheckedAll=!1)})}controllerButton(e){this.clickedActionButton=e,setTimeout(()=>{({"send-mail":this.getAllStudentsForSendingMail.bind(this),"assign-sequence":this.getAllStudentsForAssigningSequences.bind(this),export:this.getAllStudentsForExport.bind(this),"one-time-form":this.getAllStudentsForOneTimeForm.bind(this)})[e](0)},500)}getAllStudentsForSendingMail(e){if("send-mail"!==this.clickedActionButton)return;const n={limit:500,page:e},i=this.sortValue,o={...this.cleanFilterData(),...this.superFilterVal};this.isCheckedAll?(0===e&&(this.dataSelected=[]),this.isLoading=!0,this.subs.sink=this.studentService.getMultipleEmails(n,i,o).subscribe(r=>{r&&r.length&&r.length>0?(this.dataSelected.push(...r),this.getAllStudentsForSendingMail(e+1)):(this.isLoading=!1,this.isCheckedAll&&this.dataSelected&&this.dataSelected.length&&(this.dataSelected=this.dataSelected.filter(p=>!this.dataUnselect.includes(p._id)),console.log("getMultipleEmails",this.dataSelected),this.dataSelected&&this.dataSelected.length&&this.openSendMultipleEmailDialog()))},r=>{this.userService.postErrorLog(r),g().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r})})):this.openSendMultipleEmailDialog()}getAllStudentsForAssigningSequences(e){if("assign-sequence"!==this.clickedActionButton)return;const n={limit:500,page:e},i=this.sortValue,o={...this.cleanFilterData(),...this.superFilterVal};this.isCheckedAll?(0===e&&(this.dataSelected=[]),this.isLoading=!0,this.subs.sink=this.studentService.getMultipleStudentProgramAndProgramSequences(n,o,i).subscribe(r=>{r&&r.length&&r.length>0?(this.dataSelected.push(...r),this.getAllStudentsForAssigningSequences(e+1)):(this.isLoading=!1,this.isCheckedAll&&this.dataSelected&&this.dataSelected.length&&(this.dataSelected=this.dataSelected.filter(p=>!this.dataUnselect.includes(p.candidate_id._id)),this.dataSelected&&this.dataSelected.length&&this.onAssignMultipleSequence()))},r=>{this.userService.postErrorLog(r),g().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r})})):this.onAssignMultipleSequence()}connectAsStudent(e){console.log("_123",e),this.isLoading=!0;const n=this.utilityService.getCurrentUser(),i=e&&e.user_id&&e.user_id._id?e.user_id._id:null;n&&i&&"registered"===e.student_status?this.subs.sink=this.userService.loginAsUser(n._id,i).subscribe(o=>{if(this.isLoading=!1,o?.user?.student_id?._id){const s=o.user;g().fire({type:"success",title:this.translate.instant("SUCCESS"),html:this.translate.instant("USER_S7_SUPERUSER.TEXT",{UserCivility:this.translate.instant(e.civility),UserFirstName:e.first_name,UserLastName:e.last_name}),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("UNDERSTOOD")}).then(r=>{("5a067bba1c0217218c75f8ab"===s.entities[0].type._id||s.student_id)&&this.userService.connectAsStudent(o,"Student","connect")})}else g().fire({type:"warning",title:this.translate.instant("Student_Not_Registered.TITLE"),html:this.translate.instant("Student_Not_Registered.TEXT",{civility:"neutral"===e.civility?"":`${this.translate.instant(e.civility)} `,firstname:e.first_name,lastname:e.last_name}),confirmButtonText:this.translate.instant("Student_Not_Registered.BUTTON"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})},o=>{this.isLoading=!1,"GraphQL error: you cannot logged in as this user"===o.message&&g().fire({type:"info",title:this.translate.instant("SWAL_CONNECTAS.TITLE"),html:this.translate.instant("SWAL_CONNECTAS.TEXT"),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("SWAL_CONNECTAS.BUTTON")})}):(this.isLoading=!1,g().fire({type:"warning",title:this.translate.instant("Student_Not_Registered.TITLE"),html:this.translate.instant("Student_Not_Registered.TEXT",{civility:"neutral"===e.civility?"":`${this.translate.instant(e.civility)} `,firstname:e.first_name,lastname:e.last_name}),confirmButtonText:this.translate.instant("Student_Not_Registered.BUTTON"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}))}ngOnDestroy(){this.pageTitleService.setTitle(null),this.subs.unsubscribe()}getAllStudentsForExport(e){if("export"!==this.clickedActionButton)return;const n={limit:500,page:e},i=this.sortValue,o={...this.cleanFilterData(),...this.superFilterVal};this.isCheckedAll?this.dataUnselect.length<1?this.downloadCSV():(0===e&&(this.dataSelected=[]),this.isLoading=!0,this.subs.sink=this.studentService.getMultipleStudentId(n,o,i).subscribe(r=>{r&&r.length&&r.length>0?(this.dataSelected.push(...r),this.getAllStudentsForExport(e+1)):(this.isLoading=!1,this.isCheckedAll&&this.dataSelected&&this.dataSelected.length&&(this.dataSelected=this.dataSelected.filter(p=>!this.dataUnselect.includes(p._id)),console.log("getMultipleStudentId",this.dataSelected),this.dataSelected&&this.dataSelected.length&&this.downloadCSV()))},r=>{g().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r})})):this.downloadCSV()}getAllStudentsForOneTimeForm(e){if("one-time-form"!==this.clickedActionButton)return;const n={limit:500,page:e},i=this.sortValue,o={...this.cleanFilterData(),...this.superFilterVal};this.isCheckedAll?(0===e&&(this.dataSelected=[]),this.isLoading=!0,this.subs.sink=this.studentService.getStudentOneTime(n,i,o).subscribe(r=>{r&&r.length&&r.length>0?(this.dataSelected.push(...r),this.getAllStudentsForOneTimeForm(e+1)):(this.isLoading=!1,this.isCheckedAll&&this.dataSelected&&this.dataSelected.length&&(this.dataSelected=this.dataSelected.filter(p=>!this.dataUnselect.includes(p.candidate_id._id)),this.dataSelected&&this.dataSelected.length&&this.openOneTimeFormDialog(this.isCheckedAll)))},r=>{this.userService.postErrorLog(r),g().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r})})):this.openOneTimeFormDialog()}applySuperFilter(){this.isSuperFilterApplied=!0,this.paginator.firstPage(),this.getAllStudents("superFilter"),this.isSuperFilterApplied=!1,this.isDisabled=!0}filterBreadcrumb(e,n,i,o,s,r){const p={type:e,column:n,value:i,key:o,isMultiple:s,noTranslate:r},m=this.filterBreadcrumbData.findIndex(u=>u?.type===e&&u?.column===n);-1!==m?(this.filterBreadcrumbData[m]=p,!this.filterBreadcrumbData[m]?.value?.length&&!this.filterBreadcrumbData[m]?.key?.length&&this.filterBreadcrumbData.splice(m,1)):-1===m&&p?.value?.length&&this.filterBreadcrumbData.push(p)}filterBreadcrumbFormat(e){let n,i,o,s,r,p;e?.scholar_season_id?(n="super_filter",i="CARDDETAIL.Scholar Season",o=e.scholar_season_id,s=this.dropdowns.scholar_season.find(m=>m?._id===o)?.scholar_season||"",r=!1,this.filterBreadcrumb(n,i,o,s,r)):(n="super_filter",i="CARDDETAIL.Scholar Season",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.school_ids?.length?(n="super_filter",i="ADMISSION.TABLE_ADMISSION_CHANNEL.School",o=this.superFilter?.controls?.schools_filter?.value?.length===this.dropdowns?.schools?.length?["AllM"]:e.school_ids,s=this.superFilter?.controls?.schools_filter?.value?.length===this.dropdowns?.schools?.length?["AllM"]:e.school_ids.map(m=>this.dropdowns.schools.find(b=>b?._id===m)?.short_name).filter(Boolean),r=!0,this.filterBreadcrumb(n,i,o,s,r)):(n="super_filter",i="ADMISSION.TABLE_ADMISSION_CHANNEL.School",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.campus_ids?.length?(n="super_filter",i="ADMISSION.TABLE_ADMISSION_CHANNEL.Campus",o=this.superFilter?.controls?.campuses_filter?.value?.length===this.dropdowns?.campuses?.length?["AllM"]:e.campus_ids,s=this.superFilter?.controls?.campuses_filter?.value?.length===this.dropdowns?.campuses?.length?["AllM"]:e.campus_ids.map(m=>this.dropdowns.campuses.find(b=>b?._id===m)?.name).filter(Boolean),r=!0,this.filterBreadcrumb(n,i,o,s,r)):(n="super_filter",i="ADMISSION.TABLE_ADMISSION_CHANNEL.Campus",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.level_ids?.length?(n="super_filter",i="ADMISSION.TABLE_ADMISSION_CHANNEL.Level",o=this.superFilter?.controls?.levels_filter?.value?.length===this.dropdowns?.levels?.length?["AllM"]:e.level_ids,s=this.superFilter?.controls?.levels_filter?.value?.length===this.dropdowns?.levels?.length?["AllM"]:e.level_ids.map(m=>this.dropdowns.levels.find(b=>b?._id===m)?.name).filter(Boolean),r=!0,this.filterBreadcrumb(n,i,o,s,r)):(n="super_filter",i="ADMISSION.TABLE_ADMISSION_CHANNEL.Level",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.sector_ids?.length?(n="super_filter",i="ADMISSION.TABLE_ADMISSION_CHANNEL.Sector",o=this.superFilter?.controls?.sector_filter?.value?.length===this.dropdowns?.sectors?.length?["AllM"]:e.sector_ids,s=this.superFilter?.controls?.sector_filter?.value?.length===this.dropdowns?.sectors?.length?["AllM"]:e.sector_ids.map(m=>this.dropdowns.sectors.find(b=>b?._id===m)?.name).filter(Boolean),r=!0,this.filterBreadcrumb(n,i,o,s,r)):(n="super_filter",i="ADMISSION.TABLE_ADMISSION_CHANNEL.Sector",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.speciality_ids?.length?(n="super_filter",i="ADMISSION.TABLE_ADMISSION_CHANNEL.Speciality",o=this.superFilter?.controls?.speciality_filter?.value?.length===this.dropdowns?.specialities?.length?["AllM"]:e.speciality_ids,s=this.superFilter?.controls?.speciality_filter?.value?.length===this.dropdowns?.specialities?.length?["AllM"]:e.speciality_ids.map(m=>{const u=this.dropdowns.specialities.find(b=>b?._id===m);return("None"===u?.name||"Aucune"===u?.name)&&(u.name="None"),u?.name}).filter(Boolean),r=!0,this.filterBreadcrumb(n,i,o,s,r)):(n="super_filter",i="ADMISSION.TABLE_ADMISSION_CHANNEL.Speciality",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),console.log({type:n,column:i,key:s,value:o,isMultiple:r}),e?.student_number?(n="table_filter",i="Student Number",o=e.student_number,s=e.student_number,r=!1,p=!0,this.filterBreadcrumb(n,i,o,s,r,p)):(n="table_filter",i="Student Number",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.full_name?(n="table_filter",i="Name",o=e.full_name,s=e.full_name,r=!1,p=!0,this.filterBreadcrumb(n,i,o,s,r,p)):(n="table_filter",i="Name",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.initial_intake_channels?.length?(n="table_filter",i="Intake Channel",o=this.filter?.controls?.initial_intake_channel_filter?.value.length===this.dropdowns?.intake_channels?.filtered?.length?["AllM"]:e.initial_intake_channels,s=this.filter?.controls?.initial_intake_channel_filter?.value.length===this.dropdowns?.intake_channels?.filtered?.length?["AllM"]:e.initial_intake_channels,r=!0,p=!0,this.filterBreadcrumb(n,i,o,s,r,p)):(n="table_filter",i="Intake Channel",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.type_of_registrations?.length?(n="table_filter",i="Type of Registration",o=this.filter?.controls?.type_of_registration?.value?.length===this.dropdowns?.type_of_registrations?.length?["AllM"]:e.type_of_registrations,s=this.filter?.controls?.type_of_registration?.value?.length===this.dropdowns?.type_of_registrations?.length?["AllM"]:e.type_of_registrations.map(m=>"perimeter."+m),r=!0,console.log("KEY",s),this.filterBreadcrumb(n,i,o,s,r)):(n="table_filter",i="Type of Registration",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.type_of_formations?.length?(n="table_filter",i="Type of Formation",o=this.filter?.controls?.type_of_formation?.value?.length===this.dropdowns?.type_of_formations?.length?["AllM"]:e.type_of_formations,s=this.filter?.controls?.type_of_formation?.value?.length===this.dropdowns?.type_of_formations?.length?["AllM"]:e.type_of_formations.map(m=>this.dropdowns.type_of_formations.find(u=>u?._id===m)?.sigle||""),r=!0,this.filterBreadcrumb(n,i,o,s,r)):(n="table_filter",i="Type of Formation",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.student_statuses?.length?(n="table_filter",i="Status",o=this.filter?.controls?.student_status?.value?.length===this.dropdowns?.statuses?.length?["AllM"]:e.student_statuses,s=this.filter?.controls?.student_status?.value?.length===this.dropdowns?.statuses?.length?["AllM"]:e.student_statuses,r=!0,this.filterBreadcrumb(n,i,o,s,r)):e?.student_status?(n="table_filter",i="Status",o=e.student_status,s=e.student_status,r=!1,this.filterBreadcrumb(n,i,o,s,r)):(n="table_filter",i="Status",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.registration_date&&(n="table_filter",i="Registration Date",o=e.registration_date,s=e.registration_date,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.current_sequence?(n="table_filter",i="Current Sequence",s=e.current_sequence,o=e.current_sequence,r=!1,p=!0,this.filterBreadcrumb(n,i,o,s,r,p)):(n="table_filter",i="Current Sequence",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.current_student_class?(n="table_filter",i="Current group",s=e.current_student_class,o=e.current_student_class,r=!1,p=!0,this.filterBreadcrumb(n,i,o,s,r,p)):(n="table_filter",i="Current group",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.type_of_sequences?.length?(n="table_filter",i="Type of Sequence",s=this.filter?.controls?.type_of_sequence?.value?.length===this.dropdowns?.type_of_sequences?.length?["AllM"]:e.type_of_sequences.map(m=>"course_sequence."+m),o=this.filter?.controls?.type_of_sequence?.value?.length===this.dropdowns?.type_of_sequences?.length?["AllM"]:e.type_of_sequences,r=!0,this.filterBreadcrumb(n,i,o,s,r)):(n="table_filter",i="Type of Sequence",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.programs?.length?(n="table_filter",i="Current Program",o=this.filter?.controls?.current_program_filter?.value?.length===this.dropdowns?.programs?.filtered?.length?["AllM"]:e.programs,s=this.filter?.controls?.current_program_filter?.value?.length===this.dropdowns?.programs?.filtered?.length?["AllM"]:e.programs.map(m=>this.dropdowns.programs.filtered.find(u=>u?._id===m)?.program||""),r=!0,this.filterBreadcrumb(n,i,o,s,r)):(n="table_filter",i="Current Program",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.financial_situations?.length?(n="table_filter",i="Financial Situation",o=this.filter?.controls?.financial_situation?.value?.length===this.dropdowns?.financial_situations?.length?["AllM"]:e.financial_situations,s=this.filter?.controls?.financial_situation?.value?.length===this.dropdowns?.financial_situations?.length?["AllM"]:e.financial_situations,r=!0,this.filterBreadcrumb(n,i,o,s,r)):(n="table_filter",i="Financial Situation",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.modality_step_special_form_statuses?.length?(n="table_filter",i="Payment Information",s=this.filter?.controls?.modality_step_special_form_status?.value?.length===this.dropdowns?.modality_step_special_form_statuses?.length?["AllM"]:e.modality_step_special_form_statuses.map(m=>"PAYMENT_INFORMATION."+m),o=this.filter?.controls?.modality_step_special_form_status?.value?.length===this.dropdowns?.modality_step_special_form_statuses?.length?["AllM"]:e.modality_step_special_form_statuses,r=!0,this.filterBreadcrumb(n,i,o,s,r)):(n="table_filter",i="Payment Information",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r)),e?.assignment_sequences?.length?(n="table_filter",i="Assignment Sequence",s=this.filter?.controls?.assignment_sequence?.value?.length===this.dropdownAssignmentSequence?.length?["AllM"]:e.assignment_sequences.map(m=>m?"Yes":"No"),o=this.filter?.controls?.assignment_sequence?.value?.length===this.dropdownAssignmentSequence?.length?["AllM"]:e.assignment_sequences.map(m=>String(m)),r=!0,this.filterBreadcrumb(n,i,o,s,r)):(n="table_filter",i="Assignment Sequence",s=null,o=null,r=!1,this.filterBreadcrumb(n,i,o,s,r))}removeFilterBreadcrumb(e){if("super_filter"===e?.type){const n=["CARDDETAIL.Scholar Season","ADMISSION.TABLE_ADMISSION_CHANNEL.School","ADMISSION.TABLE_ADMISSION_CHANNEL.Campus","ADMISSION.TABLE_ADMISSION_CHANNEL.Level","ADMISSION.TABLE_ADMISSION_CHANNEL.Sector","ADMISSION.TABLE_ADMISSION_CHANNEL.Speciality"],i={"CARDDETAIL.Scholar Season":()=>{this.superFilter.controls.scholar_season_filter.setValue("All"),this.superFilter.value.scholar_season_id=null,this.superFilterVal.scholar_season_id&&(this.superFilterVal.scholar_season_id=null);const o=n;this.filterBreadcrumbData=this.filterBreadcrumbData.filter(s=>"super_filter"!==s?.type&&!o.includes(s?.column)),this.scholarSelect(),this.applySuperFilter()},"ADMISSION.TABLE_ADMISSION_CHANNEL.School":()=>{this.superFilter.controls.schools_filter.setValue(null),this.superFilter.value.school_ids=[],this.superFilterVal?.school_ids&&(this.superFilterVal.school_ids=[]);const o=n.findIndex(r=>"ADMISSION.TABLE_ADMISSION_CHANNEL.School"===r),s=n.splice(o,n.length-o);this.filterBreadcrumbData=this.filterBreadcrumbData.filter(r=>"super_filter"===r?.type&&!s.includes(r?.column)),this.checkSuperfilterSchool(),this.applySuperFilter()},"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus":()=>{this.superFilter.controls.campuses_filter.setValue(null),this.superFilter.value.campus_ids=[],this.superFilterVal?.campus_ids&&(this.superFilterVal.campus_ids=[]);const o=n.findIndex(r=>"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus"===r),s=n.splice(o,n.length-o);this.filterBreadcrumbData=this.filterBreadcrumbData.filter(r=>"super_filter"===r?.type&&!s.includes(r?.column)),this.checkSuperfilterCampus(),this.applySuperFilter()},"ADMISSION.TABLE_ADMISSION_CHANNEL.Level":()=>{this.superFilter.controls.levels_filter.setValue(null),this.superFilter.value.level_ids=[],this.superFilterVal?.level_ids&&(this.superFilterVal.level_ids=[]);const o=n.findIndex(r=>"ADMISSION.TABLE_ADMISSION_CHANNEL.Level"===r),s=n.splice(o,n.length-o);this.filterBreadcrumbData=this.filterBreadcrumbData.filter(r=>"super_filter"===r?.type&&!s.includes(r?.column)),this.checkSuperfilterLevel(),this.applySuperFilter()},"ADMISSION.TABLE_ADMISSION_CHANNEL.Sector":()=>{this.superFilter.controls.sector_filter.setValue(null),this.superFilter.value.sector_ids=[],this.superFilterVal?.sector_ids&&(this.superFilterVal.sector_ids=[]);const o=n.findIndex(r=>"ADMISSION.TABLE_ADMISSION_CHANNEL.Sector"===r),s=n.splice(o,n.length-o);this.filterBreadcrumbData=this.filterBreadcrumbData.filter(r=>"super_filter"===r?.type&&!s.includes(r?.column)),this.checkSuperfilterSector(),this.applySuperFilter()},"ADMISSION.TABLE_ADMISSION_CHANNEL.Speciality":()=>{this.superFilter.controls.speciality_filter.setValue(null),this.superFilter.value.speciality_ids=[],this.superFilterVal?.speciality_ids&&(this.superFilterVal.speciality_ids=[]);const o=n.findIndex(r=>"ADMISSION.TABLE_ADMISSION_CHANNEL.Speciality"===r),s=n.splice(o,n.length-o);this.filterBreadcrumbData=this.filterBreadcrumbData.filter(r=>"super_filter"===r?.type&&!s.includes(r?.column)),this.checkSuperfilterSpeciality(),this.applySuperFilter()}};i[e?.column]&&i[e.column](),"scholar_season"===e.name?(this.superFilter.controls.scholar_season_filter.setValue("All"),this.scholarSelect()):"school"===e.name?(this.superFilter.controls.schools_filter.setValue(""),this.checkSuperfilterSchool()):"campus"===e.name?(this.superFilter.controls.campuses_filter.setValue(""),this.checkSuperfilterCampus()):"level"===e.name?(this.superFilter.controls.campuses_filter.setValue(""),this.checkSuperfilterLevel()):"sectors"===e.name?(this.superFilter.controls.sector_filter.setValue(""),this.checkSuperfilterSector()):"specialities"===e.name&&this.superFilter.controls.speciality_filter.setValue("")}else if("table_filter"===e?.type){const i={"Student Number":{formControlRef:this.filter.controls.student_number,upcomingValue:null},Name:{formControlRef:this.filter.controls.full_name,upcomingValue:null},"Intake Channel":{formControlRef:this.filter.controls.initial_intake_channel_filter,upcomingValue:null,callback:()=>{this.onFilterSelect("initial_intake_channels",null)}},"Type of Registration":{formControlRef:this.filter.controls.type_of_registration,upcomingValue:null,callback:()=>{this.onFilterSelect("type_of_registrations",null)}},"Type of Formation":{formControlRef:this.filter.controls.type_of_formation,upcomingValue:null,callback:()=>{this.onFilterSelect("type_of_formations",null)}},"Current Program":{formControlRef:this.filter.controls.current_program_filter,upcomingValue:null,callback:()=>{this.onFilterSelect("programs",null)}},Status:{formControlRef:this.filter.controls.student_status,upcomingValue:null,callback:()=>{this.onFilterSelect("student_statuses",null)}},"Registration Date":{formControlRef:this.filter.controls.registration_date,upcomingValue:null},"Financial Situation":{formControlRef:this.filter.controls.financial_situation,upcomingValue:null,callback:()=>{this.onFilterSelect("financial_situations",null)}},"Payment Information":{formControlRef:this.filter.controls.modality_step_special_form_status,upcomingValue:null,callback:()=>{this.onFilterSelect("modality_step_special_form_statuses",null)}},"Assignment Sequence":{formControlRef:this.filter.controls.assignment_sequence,upcomingValue:null,callback:()=>{this.onFilterSelect("assignment_sequences",null)}},"Current Sequence":{formControlRef:this.filter.controls.current_sequence,upcomingValue:null},"Current group":{formControlRef:this.filter.controls.current_group,upcomingValue:null},"Type of Sequence":{formControlRef:this.filter.controls.type_of_sequence,upcomingValue:null,callback:()=>{this.onFilterSelect("type_of_sequences",null)}}}[e?.column];i.formControlRef.setValue(i.upcomingValue);const o=this.filterBreadcrumbData.findIndex(s=>"table_filter"===s?.type&&s?.column===e?.column);o>=0&&this.filterBreadcrumbData.splice(o,1),i?.callback&&i.callback()}}isAllDropdownSelected(e){if("scholar"===e){const n=this.superFilter.controls.scholar_season_filter.value;return n&&0!==n.length&&n.length===this.dropdowns.scholar_season.length}if("school"===e){const n=this.superFilter.controls.schools_filter.value;return n&&0!==n.length&&n.length===this.dropdowns.schools.length}if("campus"===e){const n=this.superFilter.controls.campuses_filter.value;return n&&0!==n.length&&n.length===this.dropdowns.campuses.length}if("level"===e){const n=this.superFilter.controls.levels_filter.value;return n&&0!==n.length&&n.length===this.dropdowns.levels.length}if("sector"===e){const n=this.superFilter.controls.sector_filter.value;return n&&0!==n.length&&n.length===this.dropdowns.sectors.length}if("speciality"===e){const n=this.superFilter.controls.speciality_filter.value;return n&&0!==n.length&&n.length===this.dropdowns.specialities.length}if("intakeChannel"===e){const n=this.filter.controls.initial_intake_channel_filter.value;return n&&0!==n.length&&n.length===this.dropdowns.intake_channels.filtered.length}if("typeRegistration"===e){const n=this.filter.controls.type_of_registration.value;return n&&0!==n.length&&n.length===this.dropdowns.type_of_registrations.length}if("typeOfFormation"===e){const n=this.filter.controls.type_of_formation.value;return n&&0!==n.length&&n.length===this.dropdowns.type_of_formations.length}if("typeOfSequence"===e){const n=this.filter.controls.type_of_sequence.value;return n&&0!==n.length&&n.length===this.dropdowns.type_of_sequences.length}if("studentStatus"===e){const n=this.filter.controls.student_status.value;return n&&0!==n.length&&n.length===this.dropdowns.statuses.length}if("programs"===e){const n=this.filter.controls.current_program_filter.value;return n&&0!==n.length&&n.length===this.dropdowns.programs.filtered.length}if("paymentInformation"===e){const n=this.filter.controls.modality_step_special_form_status.value;return n&&0!==n.length&&n.length===this.dropdowns.modality_step_special_form_statuses.length}if("financialSituation"===e){const n=this.filter.controls.financial_situation.value;return n&&0!==n.length&&n.length===this.dropdowns.financial_situations.length}if("assignSequence"===e){const n=this.filter.controls.assignment_sequence.value;return n&&0!==n.length&&n.length===this.dropdownAssignmentSequence.length}if("tags"===e){const n=this.superFilter?.controls?.tagFilter.value;return n&&0!==n.length&&n.length===this.dropdowns.tagList.length}}isSomeDropdownSelected(e){if("scholar"===e){const n=this.superFilter.controls.scholar_season_filter.value;return n&&0!==n.length&&n.length!==this.dropdowns.scholar_season.length}if("school"===e){const n=this.superFilter.controls.schools_filter.value;return n&&0!==n.length&&n.length!==this.dropdowns.schools.length}if("campus"===e){const n=this.superFilter.controls.campuses_filter.value;return n&&0!==n.length&&n.length!==this.dropdowns.campuses.length}if("level"===e){const n=this.superFilter.controls.levels_filter.value;return n&&0!==n.length&&n.length!==this.dropdowns.levels.length}if("sector"===e){const n=this.superFilter.controls.sector_filter.value;return n&&0!==n.length&&n.length!==this.dropdowns.sectors.length}if("speciality"===e){const n=this.superFilter.controls.speciality_filter.value;return n&&0!==n.length&&n.length!==this.dropdowns.specialities.length}if("intakeChannel"===e){const n=this.filter.controls.initial_intake_channel_filter.value;return n&&0!==n.length&&n.length!==this.dropdowns.intake_channels.filtered.length}if("typeRegistration"===e){const n=this.filter.controls.type_of_registration.value;return n&&0!==n.length&&n.length!==this.dropdowns.type_of_registrations.length}if("typeOfFormation"===e){const n=this.filter.controls.type_of_formation.value;return n&&0!==n.length&&n.length!==this.dropdowns.type_of_formations.length}if("typeOfSequence"===e){const n=this.filter.controls.type_of_sequence.value;return n&&0!==n.length&&n.length!==this.dropdowns.type_of_sequences.length}if("studentStatus"===e){const n=this.filter.controls.student_status.value;return n&&0!==n.length&&n.length!==this.dropdowns.statuses.length}if("programs"===e){const n=this.filter.controls.current_program_filter.value;return n&&0!==n.length&&n.length!==this.dropdowns.programs.filtered.length}if("paymentInformation"===e){const n=this.filter.controls.modality_step_special_form_status.value;return n&&0!==n.length&&n.length!==this.dropdowns.modality_step_special_form_statuses.length}if("financialSituation"===e){const n=this.filter.controls.financial_situation.value;return n&&0!==n.length&&n.length!==this.dropdowns.financial_situations.length}if("assignSequence"===e){const n=this.filter.controls.assignment_sequence.value;return n&&0!==n.length&&n.length!==this.dropdownAssignmentSequence.length}if("tags"===e){const n=this.superFilter?.controls?.tagFilter.value;return n&&0!==n.length&&n.length!==this.dropdowns.tagList.length}}selectAllData(e,n){if("scholar"===n)this.superFilter.controls.scholar_season_filter.patchValue(e.checked?"AllF":null,{emitEvent:!1});else if("school"===n)if(e.checked){const i=this.dropdowns.schools.map(o=>o._id);this.superFilter.controls.schools_filter.patchValue(i,{emitEvent:!1})}else this.superFilter.controls.schools_filter.patchValue(null,{emitEvent:!1});else if("campus"===n)if(e.checked){const i=this.dropdowns.campuses.map(o=>o._id);this.superFilter.controls.campuses_filter.patchValue(i,{emitEvent:!1})}else this.superFilter.controls.campuses_filter.patchValue(null,{emitEvent:!1});else if("level"===n)if(e.checked){const i=this.dropdowns.levels.map(o=>o._id);this.superFilter.controls.levels_filter.patchValue(i,{emitEvent:!1})}else this.superFilter.controls.levels_filter.patchValue(null,{emitEvent:!1});else if("sector"===n)if(e.checked){const i=this.dropdowns.sectors.map(o=>o._id);this.superFilter.controls.sector_filter.patchValue(i,{emitEvent:!1})}else this.superFilter.controls.sector_filter.patchValue(null,{emitEvent:!1});else if("speciality"===n)if(e.checked){const i=this.dropdowns.specialities.map(o=>o._id);this.superFilter.controls.speciality_filter.patchValue(i,{emitEvent:!1})}else this.superFilter.controls.speciality_filter.patchValue(null,{emitEvent:!1});else if("intakeChannel"===n)if(this.isMultipleFilter=!0,e.checked){const i=this.dropdowns.intake_channels.filtered.map(o=>o);this.filter.controls.initial_intake_channel_filter.patchValue(i,{emitEvent:!1})}else this.filter.controls.initial_intake_channel_filter.patchValue(null,{emitEvent:!1});else if("typeRegistration"===n)if(this.isMultipleFilter=!0,e.checked){const i=this.dropdowns.type_of_registrations.map(o=>o?.value);this.filter.controls.type_of_registration.patchValue(i,{emitEvent:!1})}else this.filter.controls.type_of_registration.patchValue(null,{emitEvent:!1});else if("typeOfFormation"===n)if(this.isMultipleFilter=!0,e.checked){const i=this.dropdowns.type_of_formations.map(o=>o?._id);this.filter.controls.type_of_formation.patchValue(i,{emitEvent:!1})}else this.filter.controls.type_of_formation.patchValue(null,{emitEvent:!1});else if("typeOfSequence"===n)if(this.isMultipleFilter=!0,e.checked){const i=this.dropdowns.type_of_sequences.map(o=>o?.value);this.filter.controls.type_of_sequence.patchValue(i,{emitEvent:!1})}else this.filter.controls.type_of_sequence.patchValue(null,{emitEvent:!1});else if("studentStatus"===n)if(this.isMultipleFilter=!0,e.checked){const i=this.dropdowns.statuses.map(o=>o?.value);this.filter.controls.student_status.patchValue(i,{emitEvent:!1})}else this.filter.controls.student_status.patchValue(null,{emitEvent:!1});else if("programs"===n)if(this.isMultipleFilter=!0,e.checked){const i=this.dropdowns.programs.filtered.map(o=>o?._id);this.filter.controls.current_program_filter.patchValue(i,{emitEvent:!1})}else this.filter.controls.current_program_filter.patchValue(null,{emitEvent:!1});else if("paymentInformation"===n)if(this.isMultipleFilter=!0,e.checked){const i=this.dropdowns.modality_step_special_form_statuses.map(o=>o?.value);this.filter.controls.modality_step_special_form_status.patchValue(i,{emitEvent:!1})}else this.filter.controls.modality_step_special_form_status.patchValue(null,{emitEvent:!1});else if("financialSituation"===n)if(this.isMultipleFilter=!0,e.checked){const i=this.dropdowns.financial_situations.map(o=>o?.value);this.filter.controls.financial_situation.patchValue(i,{emitEvent:!1})}else this.filter.controls.financial_situation.patchValue(null,{emitEvent:!1});else if("assignSequence"===n)if(this.isMultipleFilter=!0,e.checked){const i=this.dropdownAssignmentSequence.map(o=>o?.value);this.filter.controls.assignment_sequence.patchValue(i,{emitEvent:!1})}else this.filter.controls.assignment_sequence.patchValue(null,{emitEvent:!1});else if("tags"===n)if(e.checked){const i=this.dropdowns.tagList.map(o=>o._id);this.superFilter?.controls?.tagFilter.patchValue(i,{emitEvent:!1})}else this.superFilter?.controls?.tagFilter.patchValue(null,{emitEvent:!1})}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(E.eN),t.\u0275\u0275directiveInject(P.uw),t.\u0275\u0275directiveInject(L.F0),t.\u0275\u0275directiveInject(Bt.$),t.\u0275\u0275directiveInject(st.Z),t.\u0275\u0275directiveInject(B.sK),t.\u0275\u0275directiveInject(j.P),t.\u0275\u0275directiveInject(z.t),t.\u0275\u0275directiveInject(Nt.o),t.\u0275\u0275directiveInject(h.e),t.\u0275\u0275directiveInject(Lt.N),t.\u0275\u0275directiveInject(it.t),t.\u0275\u0275directiveInject(qt.H7),t.\u0275\u0275directiveInject(st.Z))},l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["ms-students-table"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(x.YE,7),t.\u0275\u0275viewQuery(C.NW,7)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.sort=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.paginator=i.first)}},features:[t.\u0275\u0275ProvidersFeature([z.t])],decls:173,vars:140,consts:[[1,"top-spacer"],[1,"p-col-12","no-padding"],[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"p-col-12"],[1,"p-grid","no-padding",2,"position","relative"],[1,"p-col-fixed","pad-y-none","pad-x-none","pad-r-md",2,"width","150px"],["class","float-label",4,"ngIf"],["bindValue","_id","bindLabel","scholar_season",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["ng-option-tmp",""],["bindValue","_id","bindLabel","short_name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],[4,"ngIf"],["bindValue","_id","bindLabel","name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],[1,"p-col-fixed","no-padding","super-filter"],[1,"p-col-fixed","pad-y-none","pad-x-none","pad-r-md",2,"margin-top","14px"],["mat-button","","mat-raised-button","","color","accent",3,"disabled","click"],[1,"text-info"],[1,"horizontal","header-button","header-action"],[1,"text-right",2,"display","inline-block","float","right"],["mat-button","","mat-raised-button","","color","primary","matTooltipPosition","above",3,"matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],[1,"text-right","text-count"],["style","font-family: 'firaSans' !important",4,"ngIf"],[1,"p-col-12","no-padding","table-wrapper","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%",4,"matHeaderCellDef"],["matColumnDef","checkbox-filter","sticky",""],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["matColumnDef","student-number-filter","sticky",""],["matColumnDef","name-filter","sticky",""],["matColumnDef","intake-channel-filter","sticky",""],["matColumnDef","type-of-registration-filter"],["matColumnDef","type-of-formation-filter"],["matColumnDef","current-program-filter"],["matColumnDef","status-filter"],["matColumnDef","registration-date-filter"],["matColumnDef","financial-situation-filter"],["matColumnDef","payment-information-filter"],["matColumnDef","assignment-sequence-filter"],["matColumnDef","current-sequence-filter"],["matColumnDef","current-group-filter"],["matColumnDef","type-of-sequence-filter"],["matColumnDef","action-filter","stickyEnd",""],["matColumnDef","checkbox","sticky",""],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","student-number","sticky",""],["mat-header-cell","","mat-sort-header","student_number","class","text-center","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","name","sticky",""],["mat-header-cell","","mat-sort-header","full_name","class","text-center","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","intake-channel","sticky",""],["mat-header-cell","","mat-sort-header","initial_intake_channel","class","text-center","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","type-of-registration"],["mat-header-cell","","mat-sort-header","type_of_registration","class","text-center","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","type-of-formation"],["mat-header-cell","","mat-sort-header","type_of_formation","class","text-center","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","current-program"],["mat-header-cell","","mat-sort-header","current_program","class","text-center","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","student_status","class","text-center","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","registration-date"],["mat-header-cell","","mat-sort-header","registration_date","class","text-center","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","class","text-center",3,"matTooltip",4,"matCellDef"],["matColumnDef","financial-situation"],["mat-header-cell","","mat-sort-header","financial_situation","class","text-center","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","payment-information"],["mat-header-cell","","class","text-center","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","assignment-sequence"],["mat-header-cell","","mat-sort-header","assignment_sequence","class","text-center","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","current-sequence"],["mat-header-cell","","mat-sort-header","current_sequence","class","text-center","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","current-group"],["matColumnDef","type-of-sequence"],["mat-header-cell","","mat-sort-header","type_of_sequence","class","text-center","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","action","stickyEnd",""],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["class","loading-indicator",4,"ngIf"],[2,"display","none"],["style","display: none","id","ifr",3,"src",4,"ngIf"],[1,"float-label"],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],["class","status ml-2",3,"matTooltip",4,"ngIf"],["class","status-re ml-2",3,"matTooltip",4,"ngIf"],[1,"status","ml-2",3,"matTooltip"],[1,"status-re","ml-2",3,"matTooltip"],["mat-button","","mat-raised-button","","color","accent","class","relative","matTooltipPosition","above",3,"matMenuTriggerFor","matTooltip",4,"ngIf"],["actions","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["svgIcon","file-send-outline"],["viewBox","0 0 24 24",2,"width","24px","height","24px"],["fill","currentColor","d","M9,7H11V11H13V7H15V17H13V13H11V17H9V7M3,5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5M5,5V19H19V5H5Z"],["mat-button","","mat-raised-button","","color","accent","matTooltipPosition","above",1,"relative",3,"matMenuTriggerFor","matTooltip"],["svgIcon","file-excel-outline",1,"mat-icon-svgIcon"],[2,"font-family","'firaSans' !important"],["mat-header-cell","","colspan","100%"],[1,"p-grid","justify-content-center","align-items-center","p-all-md"],["color","accent",3,"diameter"],["mat-header-cell","",1,"text-center"],["matInput","",3,"formControl"],[1,"custom-dropdownpanel-table",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["bindValue","value","bindLabel","label",1,"custom-dropdownpanel-table",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["bindValue","_id","bindLabel","sigle",1,"custom-dropdownpanel-table",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["bindValue","_id","bindLabel","program",1,"custom-dropdownpanel-table",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],[1,"example-full-width"],["matInput","",3,"formControl","matDatepicker","readonly","click"],["matSuffix","",2,"margin-right","4px",3,"for"],["picker",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"text-center"],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header","student_number","matTooltipPosition","above",1,"text-center",3,"matTooltip"],[1,"mat-icon-status"],["mat-cell","",3,"matTooltip"],["mat-header-cell","","mat-sort-header","full_name","matTooltipPosition","above",1,"text-center",3,"matTooltip"],["mat-header-cell","","mat-sort-header","initial_intake_channel","matTooltipPosition","above",1,"text-center",3,"matTooltip"],["mat-header-cell","","mat-sort-header","type_of_registration","matTooltipPosition","above",1,"text-center",3,"matTooltip"],["mat-header-cell","","mat-sort-header","type_of_formation","matTooltipPosition","above",1,"text-center",3,"matTooltip"],[1,"img-responsive","engagement-level-icon",3,"src"],["mat-header-cell","","mat-sort-header","current_program","matTooltipPosition","above",1,"text-center",3,"matTooltip"],["mat-header-cell","","mat-sort-header","student_status","matTooltipPosition","above",1,"text-center",3,"matTooltip"],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],["mat-header-cell","","mat-sort-header","registration_date","matTooltipPosition","above",1,"text-center",3,"matTooltip"],["mat-cell","",1,"text-center",3,"matTooltip"],["mat-header-cell","","mat-sort-header","financial_situation","matTooltipPosition","above",1,"text-center",3,"matTooltip"],["aria-hidden","true",1,"mat-icon-status",3,"ngClass"],["mat-header-cell","","matTooltipPosition","above",1,"text-center",3,"matTooltip"],["svgIcon","information-outline"],["aria-hidden","true",1,"mat-icon-status",3,"ngClass","matTooltip"],["mat-header-cell","","mat-sort-header","assignment_sequence","matTooltipPosition","above",1,"text-center",3,"matTooltip"],["mat-header-cell","","mat-sort-header","current_sequence","matTooltipPosition","above",1,"text-center",3,"matTooltip"],["mat-header-cell","","mat-sort-header","type_of_sequence","matTooltipPosition","above",1,"text-center",3,"matTooltip"],["mat-icon-button","","matTooltipPosition","above",3,"disabled","matTooltip","click"],["mat-icon-button","","svgIcon","incognito",1,"material-icons","icon",2,"font-size","24px"],["mat-icon-button","","matTooltipPosition","above",3,"disabled","matTooltip","click",4,"ngIf"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"loading-indicator"],["mode","indeterminate","color","accent"],["id","ifr",2,"display","none",3,"src"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"ms-filter-breadcrumb",2),t.\u0275\u0275listener("removeFilterTrigger",function(o){return n.removeFilterBreadcrumb(o)}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(3,"div",3)(4,"div",4)(5,"div",5),t.\u0275\u0275template(6,Ht,3,3,"label",6),t.\u0275\u0275elementStart(7,"ng-select",7),t.\u0275\u0275listener("close",function(){return n.scholarSelect()}),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275template(10,$t,3,5,"ng-template",8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",5),t.\u0275\u0275template(12,Yt,3,3,"label",6),t.\u0275\u0275elementStart(13,"ng-select",9),t.\u0275\u0275listener("close",function(){return n.checkSuperfilterSchool()}),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275template(16,zt,3,5,"ng-template",8),t.\u0275\u0275template(17,jt,1,0,null,10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(18,"div",5),t.\u0275\u0275template(19,Kt,3,3,"label",6),t.\u0275\u0275elementStart(20,"ng-select",11),t.\u0275\u0275listener("close",function(){return n.checkSuperfilterCampus()}),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275template(23,Gt,3,5,"ng-template",8),t.\u0275\u0275template(24,Xt,1,0,null,10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(25,"div",5),t.\u0275\u0275template(26,Zt,3,3,"label",6),t.\u0275\u0275elementStart(27,"ng-select",11),t.\u0275\u0275listener("close",function(){return n.checkSuperfilterLevel()}),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275pipe(29,"translate"),t.\u0275\u0275template(30,Jt,3,5,"ng-template",8),t.\u0275\u0275template(31,ee,1,0,null,10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(32,"div",5),t.\u0275\u0275template(33,ne,3,3,"label",6),t.\u0275\u0275elementStart(34,"ng-select",11),t.\u0275\u0275listener("close",function(){return n.checkSuperfilterSector()}),t.\u0275\u0275pipe(35,"translate"),t.\u0275\u0275pipe(36,"translate"),t.\u0275\u0275template(37,ie,3,5,"ng-template",8),t.\u0275\u0275template(38,oe,1,0,null,10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(39,"div",5),t.\u0275\u0275template(40,ae,3,3,"label",6),t.\u0275\u0275elementStart(41,"ng-select",11),t.\u0275\u0275listener("close",function(){return n.checkSuperfilterSpeciality()}),t.\u0275\u0275pipe(42,"translate"),t.\u0275\u0275pipe(43,"translate"),t.\u0275\u0275template(44,se,3,5,"ng-template",8),t.\u0275\u0275template(45,ce,1,0,null,10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(46,"div",12),t.\u0275\u0275template(47,de,3,3,"label",6),t.\u0275\u0275elementStart(48,"ng-select",11),t.\u0275\u0275listener("close",function(){return n.checkSuperFilterTags()}),t.\u0275\u0275pipe(49,"translate"),t.\u0275\u0275pipe(50,"translate"),t.\u0275\u0275template(51,pe,2,3,"ng-template",8),t.\u0275\u0275template(52,me,1,0,null,10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(53,"div",13)(54,"button",14),t.\u0275\u0275listener("click",function(){return n.applySuperFilter()}),t.\u0275\u0275text(55),t.\u0275\u0275pipe(56,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(57,"div",15)(58,"span"),t.\u0275\u0275text(59),t.\u0275\u0275pipe(60,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(61,"span"),t.\u0275\u0275text(62,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(63,"span"),t.\u0275\u0275text(64),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(65,ge,3,2,"ng-container",10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(66,"div",16)(67,"div",17),t.\u0275\u0275template(68,Se,18,9,"ng-container",10),t.\u0275\u0275template(69,ve,6,6,"ng-container",10),t.\u0275\u0275elementStart(70,"button",18),t.\u0275\u0275listener("click",function(){return n.resetFilter()}),t.\u0275\u0275pipe(71,"translate"),t.\u0275\u0275element(72,"mat-icon",19),t.\u0275\u0275text(73),t.\u0275\u0275pipe(74,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(75,"div",20),t.\u0275\u0275template(76,xe,3,4,"span",21),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(77,"div",22)(78,"table",23),t.\u0275\u0275listener("matSortChange",function(o){return n.onSort(o)}),t.\u0275\u0275elementContainerStart(79,24),t.\u0275\u0275template(80,ye,3,1,"th",25),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(81,26),t.\u0275\u0275template(82,Oe,1,0,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(83,28),t.\u0275\u0275template(84,Te,6,4,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(85,29),t.\u0275\u0275template(86,we,6,4,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(87,30),t.\u0275\u0275template(88,Ie,6,13,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(89,31),t.\u0275\u0275template(90,De,6,13,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(91,32),t.\u0275\u0275template(92,qe,6,13,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(93,33),t.\u0275\u0275template(94,He,6,13,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(95,34),t.\u0275\u0275template(96,We,6,13,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(97,35),t.\u0275\u0275template(98,je,9,7,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(99,36),t.\u0275\u0275template(100,Xe,6,13,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(101,37),t.\u0275\u0275template(102,en,6,13,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(103,38),t.\u0275\u0275template(104,an,6,13,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(105,39),t.\u0275\u0275template(106,sn,6,4,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(107,40),t.\u0275\u0275template(108,rn,6,4,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(109,41),t.\u0275\u0275template(110,un,6,13,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(111,42),t.\u0275\u0275template(112,mn,1,0,"th",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(113,43),t.\u0275\u0275template(114,_n,2,3,"th",27),t.\u0275\u0275template(115,hn,2,2,"td",44),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(116,45),t.\u0275\u0275template(117,gn,4,3,"th",46),t.\u0275\u0275template(118,fn,2,2,"td",47),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(119,48),t.\u0275\u0275template(120,bn,4,6,"th",49),t.\u0275\u0275template(121,Cn,6,10,"td",47),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(122,50),t.\u0275\u0275template(123,Sn,4,6,"th",51),t.\u0275\u0275template(124,vn,2,2,"td",47),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(125,52),t.\u0275\u0275template(126,xn,4,6,"th",53),t.\u0275\u0275template(127,yn,4,6,"td",47),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(128,54),t.\u0275\u0275template(129,On,3,4,"th",55),t.\u0275\u0275template(130,Tn,2,2,"td",47),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(131,56),t.\u0275\u0275template(132,wn,4,6,"th",57),t.\u0275\u0275template(133,Mn,2,2,"td",47),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(134,58),t.\u0275\u0275template(135,Pn,4,6,"th",59),t.\u0275\u0275template(136,kn,3,2,"td",44),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(137,60),t.\u0275\u0275template(138,En,4,6,"th",61),t.\u0275\u0275template(139,An,2,2,"td",62),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(140,63),t.\u0275\u0275template(141,Dn,4,6,"th",64),t.\u0275\u0275template(142,Bn,4,7,"td",62),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(143,65),t.\u0275\u0275template(144,Nn,3,3,"th",66),t.\u0275\u0275template(145,Rn,3,2,"td",44),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(146,67),t.\u0275\u0275template(147,Un,4,6,"th",68),t.\u0275\u0275template(148,Hn,4,7,"td",44),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(149,69),t.\u0275\u0275template(150,$n,4,6,"th",70),t.\u0275\u0275template(151,Wn,3,2,"td",44),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(152,71),t.\u0275\u0275template(153,jn,4,6,"th",66),t.\u0275\u0275template(154,Qn,3,2,"td",44),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(155,72),t.\u0275\u0275template(156,Xn,4,6,"th",73),t.\u0275\u0275template(157,ti,3,2,"td",44),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(158,74),t.\u0275\u0275template(159,ei,4,6,"th",66),t.\u0275\u0275template(160,li,10,10,"td",44),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(161,oi,1,0,"tr",75),t.\u0275\u0275template(162,ai,1,0,"tr",75),t.\u0275\u0275template(163,si,1,1,"tr",76),t.\u0275\u0275template(164,ri,1,1,"tr",77),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(165,ci,3,3,"div",78),t.\u0275\u0275pipe(166,"async"),t.\u0275\u0275elementStart(167,"div",79),t.\u0275\u0275pipe(168,"async"),t.\u0275\u0275element(169,"mat-paginator",80),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(170,di,2,0,"div",81),t.\u0275\u0275elementStart(171,"div",82),t.\u0275\u0275template(172,pi,1,1,"iframe",83),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("filterBreadcrumbData",n.filterBreadcrumbData),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",(null==n.superFilter.controls.scholar_season_filter?null:n.superFilter.controls.scholar_season_filter.value)&&0!==(null==n.superFilter.controls.scholar_season_filter||null==n.superFilter.controls.scholar_season_filter.value?null:n.superFilter.controls.scholar_season_filter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(8,94,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(9,96,"CARDDETAIL.Scholar Season")),t.\u0275\u0275property("items",n.dropdowns.scholar_season)("appendTo","body")("multiple",!1)("formControl",n.superFilter.controls.scholar_season_filter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",(null==n.superFilter.controls.schools_filter?null:n.superFilter.controls.schools_filter.value)&&0!==(null==n.superFilter.controls.schools_filter||null==n.superFilter.controls.schools_filter.value?null:n.superFilter.controls.schools_filter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(14,98,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(15,100,"ADMISSION.TABLE_ADMISSION_CHANNEL.School")),t.\u0275\u0275property("items",n.dropdowns.schools)("appendTo","body")("multiple",!0)("formControl",n.superFilter.controls.schools_filter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==n.dropdowns||null==n.dropdowns.schools?null:n.dropdowns.schools.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==n.superFilter.controls.campuses_filter?null:n.superFilter.controls.campuses_filter.value)&&0!==(null==n.superFilter.controls.campuses_filter||null==n.superFilter.controls.campuses_filter.value?null:n.superFilter.controls.campuses_filter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(21,102,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(22,104,"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus")),t.\u0275\u0275property("items",n.dropdowns.campuses)("appendTo","body")("multiple",!0)("formControl",n.superFilter.controls.campuses_filter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==n.dropdowns||null==n.dropdowns.campuses?null:n.dropdowns.campuses.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==n.superFilter.controls.levels_filter?null:n.superFilter.controls.levels_filter.value)&&0!==(null==n.superFilter.controls.levels_filter||null==n.superFilter.controls.levels_filter.value?null:n.superFilter.controls.levels_filter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(28,106,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(29,108,"ADMISSION.TABLE_ADMISSION_CHANNEL.Level")),t.\u0275\u0275property("items",n.dropdowns.levels)("appendTo","body")("multiple",!0)("formControl",n.superFilter.controls.levels_filter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==n.dropdowns||null==n.dropdowns.levels?null:n.dropdowns.levels.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==n.superFilter.controls.sector_filter?null:n.superFilter.controls.sector_filter.value)&&0!==(null==n.superFilter.controls.sector_filter||null==n.superFilter.controls.sector_filter.value?null:n.superFilter.controls.sector_filter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(35,110,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(36,112,"ADMISSION.TABLE_ADMISSION_CHANNEL.Sector")),t.\u0275\u0275property("items",n.dropdowns.sectors)("appendTo","body")("multiple",!0)("formControl",n.superFilter.controls.sector_filter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==n.dropdowns||null==n.dropdowns.sectors?null:n.dropdowns.sectors.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==n.superFilter.controls.speciality_filter?null:n.superFilter.controls.speciality_filter.value)&&0!==(null==n.superFilter.controls.speciality_filter||null==n.superFilter.controls.speciality_filter.value?null:n.superFilter.controls.speciality_filter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(42,114,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(43,116,"ADMISSION.TABLE_ADMISSION_CHANNEL.Speciality")),t.\u0275\u0275property("items",n.dropdowns.specialities)("appendTo","body")("multiple",!0)("formControl",n.superFilter.controls.speciality_filter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==n.dropdowns||null==n.dropdowns.specialities?null:n.dropdowns.specialities.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==n.superFilter||null==n.superFilter.controls||null==n.superFilter.controls.tagFilter?null:n.superFilter.controls.tagFilter.value)&&0!==(null==n.superFilter||null==n.superFilter.controls||null==n.superFilter.controls.tagFilter||null==n.superFilter.controls.tagFilter.value?null:n.superFilter.controls.tagFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(49,118,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(50,120,"All_Students.Tag")),t.\u0275\u0275property("items",null==n.dropdowns?null:n.dropdowns.tagList)("appendTo","body")("multiple",!0)("formControl",null==n.superFilter||null==n.superFilter.controls?null:n.superFilter.controls.tagFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==n.dropdowns||null==n.dropdowns.tagList?null:n.dropdowns.tagList.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",n.isDisabled||n.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(56,122,"Apply Filter")," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(60,124,"Last update Hyperplanning")," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate2("",n.translateDate(null==n.hyperplanningStatus||null==n.hyperplanningStatus.student_last_updated?null:n.hyperplanningStatus.student_last_updated.date,null==n.hyperplanningStatus||null==n.hyperplanningStatus.student_last_updated?null:n.hyperplanningStatus.student_last_updated.time)," - ",n.translateTime(null==n.hyperplanningStatus||null==n.hyperplanningStatus.student_last_updated?null:n.hyperplanningStatus.student_last_updated.time),""),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null!==(null==n.hyperplanningStatus?null:n.hyperplanningStatus.is_update_student_running)),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.allowActions),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.allowExport),t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(71,126,"RESET")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(74,128,"RESET")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==n.dataSelected?null:n.dataSelected.length)||n.isCheckedAll&&n.dataCount),t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(83),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterCols),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(134,ui)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(166,130,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(135,mi,t.\u0275\u0275pipeBind1(168,132,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(137,_i,n.paginator.length<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(139,hi)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isLoading),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.studentSafeUrl))},dependencies:[a.mk,a.O5,O.lW,Vt.oG,J.Mq,J.hl,J.nW,y.Hw,M.KE,M.hX,M.R9,ot.Nt,tt.VK,tt.OP,tt.p6,C.NW,F.Ou,x.YE,x.nU,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,Rt.gM,f.DefaultValueAccessor,f.CheckboxControlValueAccessor,f.NgControlStatus,f.NgModel,f.FormControlDirective,at.oO,Ut.r,U.w9,U.ir,U.Cm,a.Ov,a.gd,B.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgb(241,241,241)!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important;color:#fff}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container{width:12px;height:12px;margin-left:7px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background{background-color:transparent}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-checkmark .mat-checkbox-checkmark-path{stroke:#000!important}  .all-input.mat-checkbox-indeterminate .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-mixedmark{background-color:#000!important}.super-filter[_ngcontent-%COMP%]{width:150px;padding-right:15px!important}.float-label[_ngcontent-%COMP%]{font-size:.82rem;color:#ffffff78;font-weight:600;position:absolute;top:-3px}  .filterPanel{margin-top:25px!important}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-dropdownpanel-table{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-dropdownpanel-table .ng-dropdown-panel-items .ng-option{white-space:normal!important}  .ng-select.custom-dropdownpanel-table .ng-select-container .ng-value-container .ng-input>input{color:#fff!important}.pad-top-miss[_ngcontent-%COMP%]{padding-top:1.8px!important}.text-count[_ngcontent-%COMP%]{display:inline-block;float:left;padding-top:4px}.header-action[_ngcontent-%COMP%]{font-family:firaSans!important;height:50px;padding:8px;background:#424242}.horizontal[_ngcontent-%COMP%]{overflow:auto}.tag-container[_ngcontent-%COMP%]{white-space:normal;text-align:left!important;line-height:2.3;overflow-wrap:break-word}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.mat-column-checkbox[_ngcontent-%COMP%], .mat-column-checkbox-filter[_ngcontent-%COMP%]{left:-1px!important;z-index:10!important}.mat-column-student-number[_ngcontent-%COMP%], .mat-column-student-number-filter[_ngcontent-%COMP%]{left:33px!important;z-index:10!important}.mat-column-name[_ngcontent-%COMP%], .mat-column-name-filter[_ngcontent-%COMP%]{left:150px!important;box-shadow:1px 1px #545454;z-index:10!important}.mat-column-intake-channel[_ngcontent-%COMP%], .mat-column-intake-channel-filter[_ngcontent-%COMP%]{left:384.359px!important;box-shadow:1px 1px #545454;z-index:10!important}[_nghost-%COMP%]     table{position:relative;border-collapse:unset}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{font-size:14px;border-right:1px solid #545454}[_nghost-%COMP%]     table tr td.mat-column-checkbox, [_nghost-%COMP%]     table tr th.mat-column-checkbox{width:-moz-fit-content;width:fit-content;padding:8px!important}[_nghost-%COMP%]     table tr td.mat-column-student-number, [_nghost-%COMP%]     table tr th.mat-column-student-number{min-width:15ch}[_nghost-%COMP%]     table tr td.mat-column-name, [_nghost-%COMP%]     table tr th.mat-column-name{min-width:30ch}[_nghost-%COMP%]     table tr td.mat-column-status, [_nghost-%COMP%]     table tr td.mat-column-payment-information, [_nghost-%COMP%]     table tr th.mat-column-status, [_nghost-%COMP%]     table tr th.mat-column-payment-information{min-width:18ch;max-width:18ch}[_nghost-%COMP%]     table tr td.mat-column-intake-channel, [_nghost-%COMP%]     table tr td.mat-column-current-program, [_nghost-%COMP%]     table tr td.mat-column-current-sequence, [_nghost-%COMP%]     table tr td.mat-column-current-group, [_nghost-%COMP%]     table tr th.mat-column-intake-channel, [_nghost-%COMP%]     table tr th.mat-column-current-program, [_nghost-%COMP%]     table tr th.mat-column-current-sequence, [_nghost-%COMP%]     table tr th.mat-column-current-group{min-width:25ch}[_nghost-%COMP%]     table tr td.mat-column-type-of-formation, [_nghost-%COMP%]     table tr td.mat-column-type-of-sequence, [_nghost-%COMP%]     table tr th.mat-column-type-of-formation, [_nghost-%COMP%]     table tr th.mat-column-type-of-sequence{min-width:20ch;max-width:20ch}[_nghost-%COMP%]     table tr td.mat-column-checkbox, [_nghost-%COMP%]     table tr td.mat-column-checkbox-filter, [_nghost-%COMP%]     table tr th.mat-column-checkbox, [_nghost-%COMP%]     table tr th.mat-column-checkbox-filter{box-shadow:1px 1px #545454}[_nghost-%COMP%]     table tr td.mat-column-action, [_nghost-%COMP%]     table tr td.mat-column-action-filter, [_nghost-%COMP%]     table tr th.mat-column-action, [_nghost-%COMP%]     table tr th.mat-column-action-filter{width:20%;min-width:175px;box-shadow:-1px 0 #545454}[_nghost-%COMP%]     table tr td:last-child, [_nghost-%COMP%]     table tr th:last-child{padding-right:.5em}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding:.5em}[_nghost-%COMP%]     table tr th{padding-top:1rem;padding-bottom:1rem;font-weight:700!important;vertical-align:top;padding-left:1rem}[_nghost-%COMP%]     table tr th.mat-column-reset{padding:.5em}[_nghost-%COMP%]     table tr th.mat-column-checkbox{vertical-align:middle}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr th .mat-form-field{width:90%}[_nghost-%COMP%]     table thead tr:nth-child(1), [_nghost-%COMP%]     table thead tr:nth-child(2){height:auto;background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(1) th, [_nghost-%COMP%]     table thead tr:nth-child(2) th{color:#fff}[_nghost-%COMP%]     table thead tr:nth-child(2) th{padding:.5em}.mat-icon-button[_ngcontent-%COMP%] ~ .mat-icon-button[_ngcontent-%COMP%]{margin-left:.5em}.mat-column-select[_ngcontent-%COMP%]{overflow:initial}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#000;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#000;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.top-filter[_ngcontent-%COMP%]{margin-top:15px;padding-bottom:30px}.reset-row[_ngcontent-%COMP%]{background-color:#424242}.sticky-loading[_ngcontent-%COMP%]{position:sticky;left:0;right:0}.table-wrapper[_ngcontent-%COMP%]{overflow:auto}.table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#212121}.table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:9999px;background:#eaa11c!important}  .filterPanel{margin-top:25px!important}.mat-form-field-placeholder[_ngcontent-%COMP%]{display:block!important}.text-info[_ngcontent-%COMP%]{margin:0;display:flex;flex-direction:row;align-items:center;justify-content:center;margin-left:.25rem}.status[_ngcontent-%COMP%]{padding:.25rem .5rem;background-color:green;color:#fff;font-size:.75rem;border-radius:.375rem;cursor:pointer}.status-re[_ngcontent-%COMP%]{padding:.25rem .5rem;background-color:#f49f36;color:#fff;font-size:.75rem;border-radius:.375rem;cursor:pointer}.ml-2[_ngcontent-%COMP%]{margin-left:.5rem}.mt-10[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]  .mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}.mat-column-intake-channel[_ngcontent-%COMP%], .mat-column-intake-channel-filter[_ngcontent-%COMP%], .mat-column-current-program[_ngcontent-%COMP%], .mat-column-current-program-filter[_ngcontent-%COMP%]{max-width:25ch}.mat-column-type-of-formation-filter[_ngcontent-%COMP%], .mat-column-type-of-sequence-filter[_ngcontent-%COMP%]{min-width:20ch;max-width:20ch}.mat-column-type-of-registration[_ngcontent-%COMP%], .mat-column-type-of-registration-filter[_ngcontent-%COMP%], .mat-column-financial-situation[_ngcontent-%COMP%], .mat-column-financial-situation-filter[_ngcontent-%COMP%], .mat-column-assignment-sequence[_ngcontent-%COMP%], .mat-column-assignment-sequence-filter[_ngcontent-%COMP%]{min-width:18ch;max-width:18ch}.mat-column-status-filter[_ngcontent-%COMP%], .mat-column-payment-information-filter[_ngcontent-%COMP%]{max-width:18ch}']}),l})(),canActivate:[q.n],data:{permission:"students.follow_up.show_perm"}}];let fi=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=t.\u0275\u0275defineInjector({imports:[L.Bz.forChild(gi),L.Bz]}),l})();var bi=_(93730),Ci=_(30160);let Si=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=t.\u0275\u0275defineInjector({imports:[a.ez,bi.m,fi,Ci.ii.forRoot(),U.A0]}),l})()}}]);