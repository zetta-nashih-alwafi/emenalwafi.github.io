"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[3832],{3832:(Oe,T,m)=>{m.d(T,{x:()=>ve});var u=m(24006),x=m(80013),E=m(68745),D=m(35226),M=m.n(D),h=m(17489),e=m(94650),v=m(65938),A=m(28248),F=m(87746),U=m(52688),I=m(50777),k=m(91013),L=m(89383),R=m(94442),V=m(79710),y=m(73555),S=m(47957),w=m(3238),B=m(4859),N=m(97392),P=m(59549),W=m(284),K=m(51572),G=m(84385),j=m(90455),b=m(36895);function $(i,p){if(1&i&&(e.\u0275\u0275elementStart(0,"mat-option",30),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i){const t=p.$implicit;e.\u0275\u0275property("value",t._id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,t.scholar_season))}}function z(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"mat-select",28),e.\u0275\u0275listener("selectionChange",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.getDataSchool())}),e.\u0275\u0275template(2,$,3,4,"mat-option",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.scholars)}}function Y(i,p){1&i&&(e.\u0275\u0275elementStart(0,"mat-option",32),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")))}function H(i,p){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"mat-select"),e.\u0275\u0275template(2,Y,3,3,"mat-option",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0===t.scholars.length)}}function Q(i,p){if(1&i&&(e.\u0275\u0275elementStart(0,"mat-option",30),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i){const t=p.$implicit;e.\u0275\u0275property("value",t._id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,t.short_name))}}function X(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"mat-select",33),e.\u0275\u0275listener("selectionChange",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.getDataCampus())}),e.\u0275\u0275template(2,Q,3,4,"mat-option",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.school)}}function Z(i,p){1&i&&(e.\u0275\u0275elementStart(0,"mat-option",32),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")))}function J(i,p){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"mat-select"),e.\u0275\u0275template(2,Z,3,3,"mat-option",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0===t.school.length)}}function q(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",16),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.clickCampus(s._id))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(2&i){const t=p.$implicit;e.\u0275\u0275property("value",t._id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,t.name))}}function ee(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"mat-select",34),e.\u0275\u0275listener("selectionChange",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.getDataLevel(o))}),e.\u0275\u0275template(2,q,3,4,"mat-option",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.campusList)}}function te(i,p){1&i&&(e.\u0275\u0275elementStart(0,"mat-option",32),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")))}function ne(i,p){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"mat-select"),e.\u0275\u0275template(2,te,3,3,"mat-option",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0===t.campusList.length)}}function ie(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",16),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.clickLevel(s._id))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(2&i){const t=p.$implicit;e.\u0275\u0275property("value",t._id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,t.name))}}function oe(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"mat-select",35),e.\u0275\u0275listener("selectionChange",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.getSectors(o))}),e.\u0275\u0275template(2,ie,3,4,"mat-option",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.levels)}}function se(i,p){1&i&&(e.\u0275\u0275elementStart(0,"mat-option",32),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")))}function ae(i,p){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"mat-select"),e.\u0275\u0275template(2,se,3,3,"mat-option",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0===t.levels.length)}}function re(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",16),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.clickSector(s._id))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(2&i){const t=p.$implicit;e.\u0275\u0275property("value",t._id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,t.name))}}function le(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"mat-select",36),e.\u0275\u0275listener("selectionChange",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.getSpeciality(o))}),e.\u0275\u0275template(2,re,3,4,"mat-option",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.sectorList)}}function ce(i,p){1&i&&(e.\u0275\u0275elementStart(0,"mat-option",32),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")))}function ge(i,p){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"mat-select"),e.\u0275\u0275template(2,ce,3,3,"mat-option",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0===t.sectorList.length)}}function pe(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",16),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.clickSpeciality(s._id))})("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.selectSpeciality(s._id))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(2&i){const t=p.$implicit;e.\u0275\u0275property("value",t._id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,t.name))}}function de(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",16),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.selectedUser(s))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"uppercase"),e.\u0275\u0275elementEnd()}if(2&i){const t=p.$implicit;e.\u0275\u0275property("value",t.first_name+" "+t.last_name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" ",t.first_name," ",e.\u0275\u0275pipeBind1(2,3,t.last_name)," ")}}function me(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-form-field",37)(1,"input",38),e.\u0275\u0275listener("keyup",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.keyupUser("type"))}),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"mat-autocomplete",39,40),e.\u0275\u0275listener("optionSelected",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.valueChange("user"))}),e.\u0275\u0275template(5,de,3,5,"mat-option",17),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275reference(4),n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("placeholder","",e.\u0275\u0275pipeBind1(2,3,"User"),"*"),e.\u0275\u0275property("matAutocomplete",t),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",n.userList)}}function _e(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",16),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.selectedUserType(s._id))}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()}if(2&i){const t=p.$implicit;e.\u0275\u0275propertyInterpolate("value",e.\u0275\u0275pipeBind1(1,2,"USER_TYPES."+t.name)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"USER_TYPES."+t.name)," ")}}function ue(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-form-field",41)(1,"input",42),e.\u0275\u0275listener("keyup",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.keyupUserType("type"))}),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"mat-autocomplete",39,43),e.\u0275\u0275listener("optionSelected",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.valueChange("type"))}),e.\u0275\u0275template(5,_e,4,6,"mat-option",17),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275reference(4),n=e.\u0275\u0275nextContext();e.\u0275\u0275property("hideRequiredMarker",!0),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("placeholder","",e.\u0275\u0275pipeBind1(2,4,"TUTORIAL_MENU.CATEGORY"),"*"),e.\u0275\u0275property("matAutocomplete",t),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",n.userTypesList)}}function he(i,p){1&i&&(e.\u0275\u0275elementStart(0,"div",44),e.\u0275\u0275element(1,"mat-progress-spinner",45),e.\u0275\u0275elementEnd())}function fe(i,p){1&i&&(e.\u0275\u0275elementStart(0,"div",44),e.\u0275\u0275element(1,"mat-progress-spinner",45),e.\u0275\u0275elementEnd())}function Ce(i,p){1&i&&(e.\u0275\u0275elementStart(0,"div",44),e.\u0275\u0275element(1,"mat-progress-spinner",45),e.\u0275\u0275elementEnd())}function Me(i,p){1&i&&(e.\u0275\u0275elementStart(0,"div",44),e.\u0275\u0275element(1,"mat-progress-spinner",45),e.\u0275\u0275elementEnd())}let ve=(()=>{class i{constructor(t,n,o,s,r,g,a,_,l,c){this.fb=t,this.dialogRef=n,this.urgentMessageService=o,this.userService=s,this.autService=r,this.rncpTitleService=g,this.mailboxService=a,this.translate=_,this.financeService=l,this.candidateService=c,this.subs=new E.Y,this.isWaitingForResponse=!1,this.isWaitingForResponseScholar=!1,this.isWaitingForResponseSchool=!1,this.isWaitingForResponseSector=!1,this.isWaitingForResponseSpeciality=!1,this.titleReady=!1,this.userReady=!1,this.userTypeReady=!1,this.titles=[],this.autocompleteUsers=[],this.autocompleteUserTypes=[],this.selectedTitleId=[],this.selectedScholarSeasonId=[],this.selectedSchoolId=[],this.selectedLevelId=[],this.selectedCampusId=[],this.selectedSectorId=[],this.selectedSpecialityId=[],this.selectedUserTypeId=[],this.scholars=[],this.school=[],this.levels=[],this.campusList=[],this.sectorList=[],this.specialityList=[],this.listObjective=[],this.realCampusList=[],this.originalListSectors=[],this.originalListSpeciality=[],this.isSelectAllCampus=!1,this.isSelectAllLevel=!1,this.isSelectAllSector=!1,this.isSelectAllSpeciality=!1}ngOnInit(){this.currentUser=this.autService.getLocalStorageUser(),this.isPermission=this.autService.getPermission();const t=this.currentUser?.entities?.find(n=>n?.type?.name===this.isPermission[0]);this.currentUserTypeId=t?.type?._id,this.initializeForm(),this.currentUser=this.autService.getLocalStorageUser(),this.getUserTypeList(),this.getDataScholarSeasons(),this.getDataForList(),this.getDataForSectors()}getDataScholarSeasons(){this.isWaitingForResponseScholar=!0,this.subs.sink=this.financeService.GetAllScholarSeasonsPublished().subscribe(t=>{this.isWaitingForResponseScholar=!1,t&&t.length&&(this.scholars=t)},t=>{this.autService.postErrorLog(t),this.isWaitingForResponseScholar=!1,M().fire({type:"info",title:this.translate.instant("SORRY"),text:t&&t.message?this.translate.instant(t.message.replaceAll("GraphQL error: ","")):t,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDataForList(){this.subs.sink=this.candidateService.GetDataForImportObjectives("",this.currentUserTypeId).subscribe(n=>{n&&(this.listObjective=n)},n=>{this.autService.postErrorLog(n),M().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDataCampus(){this.levels=[],this.campusList=[],this.realCampusList=[],this.sectorList=[],this.specialityList=[],this.urgentMessageForm.get("campuses").setValue(null),this.urgentMessageForm.get("levels").setValue(null),this.urgentMessageForm.get("sectors").setValue(null),this.urgentMessageForm.get("specialities").setValue(null);let t=this.urgentMessageForm.get("school_id").value;if(t&&t.length&&("ALL"===t||"Tous"===t)){const n=this.urgentMessageForm.get("scholar_season_id").value;let o;o=this.listObjective.filter(r=>r.scholar_season_id.find(g=>g._id===n));const s=[];if(o.length>0){const r=o.filter(g=>"ALL"!==g._id&&"Tous"!==g._id);if(r.length>0){r.forEach(_=>{s.push(_._id)}),this.urgentMessageForm.get("school_id").patchValue(s);const g=r;this.campusList.push({_id:"ALL",name:"AllS"}),g.forEach(_=>{_&&_.campuses&&_.campuses.length&&_.campuses.forEach(l=>{this.campusList.push(l),this.realCampusList.push(l)})}),this.campusList=h.uniqBy(this.campusList,"_id")}else this.campusList=[],this.realCampusList=[]}else this.campusList=[],this.realCampusList=[]}else{t=h.cloneDeep(this.urgentMessageForm.get("school_id").value);const n=this.listObjective.filter(s=>t.includes(s._id));this.campusList.push({_id:"ALL",name:"AllS"}),n.filter((s,r)=>{s.campuses&&s.campuses.length&&s.campuses.filter((g,a)=>{this.campusList.push(g),this.realCampusList.push(g)})}),this.campusList=h.uniqBy(this.campusList,"_id")}}getDataSchool(){this.urgentMessageForm.get("school_id").setValue(null),this.urgentMessageForm.get("campuses").setValue(null),this.urgentMessageForm.get("levels").setValue(null),this.urgentMessageForm.get("sectors").setValue(null),this.urgentMessageForm.get("specialities").setValue(null),this.school=[],this.campusList=[],this.levels=[],this.specialityList=[],this.sectorList=[];const t=this.urgentMessageForm.get("scholar_season_id").value,n=this.listObjective.filter(o=>o.scholar_season_id.find(s=>s._id===t));n.length>0?this.school.push(...n):this.school=[]}getDataLevel(t){this.levels=[],this.urgentMessageForm.get("levels").setValue(null),this.urgentMessageForm.get("sectors").setValue(null),this.urgentMessageForm.get("specialities").setValue(null);let n=h.cloneDeep(this.urgentMessageForm.get("campuses").value);const o=n.filter(s=>"ALL"===s||"Tous"===s);if(o&&o.length&&("ALL"===o[0]||"Tous"===o[0])){const s=[],r=this.realCampusList.filter(_=>"ALL"!==_._id&&"Tous"!==_._id);r.forEach(_=>{s.push(_._id)}),this.urgentMessageForm.get("campuses").patchValue(["ALL",...s]);const g=r;this.levels.push({_id:"ALL",name:"AllS"}),g.forEach(_=>{_&&_.levels&&_.levels.length&&_.levels.forEach(l=>{this.levels.push(l)})}),this.levels=h.uniqBy(this.levels,"_id")}else if(n=h.cloneDeep(this.urgentMessageForm.get("campuses").value),n&&n.length){const s=this.realCampusList.filter(g=>n.includes(g._id));this.levels.push({_id:"ALL",name:"AllS"}),s.forEach(g=>{g&&g.levels&&g.levels.length&&g.levels.forEach(a=>{this.levels.push(a)})}),this.levels=h.uniqBy(this.levels,"_id")}else this.levels=[];if(n&&n.length&&(n.includes("ALL")||n.includes("Tous")))if(this.isSelectAllCampus=!0,this.isSelectAllCampus){if(t&&t.value&&t.value.length&&(t.value.includes("ALL")||t.value.includes("Tous"))&&t.value.length===this.realCampusList.length){const s=n.filter(r=>"ALL"!==r&&"Tous"!==r);this.urgentMessageForm.get("campuses").setValue(s)}}else{const s=n.filter(r=>"ALL"!==r&&"Tous"!==r);this.urgentMessageForm.get("campuses").setValue(s)}else 1!==this.realCampusList.length&&this.realCampusList.length===n.length&&this.isSelectAllCampus&&(this.isSelectAllCampus=!1)}clickCampus(t){const n=h.cloneDeep(this.urgentMessageForm.get("campuses").value);"ALL"===t&&this.realCampusList.length===n.length&&(this.isSelectAllCampus=!1,this.urgentMessageForm.get("campuses").setValue(null))}clickLevel(t){const n=h.cloneDeep(this.urgentMessageForm.get("levels").value),o=this.levels.filter(s=>"ALL"!==s._id&&"Tous"!==s._id);"ALL"===t&&o.length===n.length&&(this.isSelectAllLevel=!1,this.urgentMessageForm.get("levels").setValue(null))}clickSector(t){const n=h.cloneDeep(this.urgentMessageForm.get("sectors").value),o=this.sectorList.filter(s=>"ALL"!==s._id&&"Tous"!==s._id);"ALL"===t&&o.length===n.length&&(this.isSelectAllSector=!1,this.urgentMessageForm.get("sectors").setValue(null))}clickSpeciality(t){const n=h.cloneDeep(this.urgentMessageForm.get("specialities").value),o=this.specialityList.filter(s=>"ALL"!==s._id&&"Tous"!==s._id);"ALL"===t&&o.length===n.length&&(this.isSelectAllSpeciality=!1,this.urgentMessageForm.get("specialities").setValue(null))}getDataForSectors(){this.isWaitingForResponseSector=!0,this.subs.sink=this.financeService.GetAllSectorsDropdownWithoutFilter().subscribe(t=>{this.isWaitingForResponseSector=!1,t&&(this.originalListSectors=t.map(n=>{const o=n.school_id.map(a=>a._id),s=n.campus_id.map(a=>a._id),r=n.level_id.map(a=>a._id);return{_id:n._id,name:n.name,school_id:o,level_id:r,campus_id:s,scholar_season_id:n&&n.scholar_season_id&&n.scholar_season_id._id?n.scholar_season_id._id:null}}))},t=>{this.autService.postErrorLog(t),this.isWaitingForResponseSector=!1,this.originalListSectors=[]})}getSectors(t){this.urgentMessageForm.get("sectors").setValue(null),this.urgentMessageForm.get("specialities").setValue(null),this.sectorList=[];const n=h.cloneDeep(this.urgentMessageForm.get("levels").value),o=n.filter(l=>"ALL"===l||"Tous"===l);if(o&&o.length&&("ALL"===o[0]||"Tous"===o[0])){const l=[];this.levels.filter(d=>"ALL"!==d._id&&"Tous"!==d._id).forEach(d=>{l.push(d._id)}),this.urgentMessageForm.get("levels").patchValue(["ALL",...l])}if(n&&n.length&&(n.includes("ALL")||n.includes("Tous"))){if(this.isSelectAllLevel=!this.isSelectAllLevel,!this.isSelectAllLevel){const l=n.filter(c=>"ALL"!==c&&"Tous"!==c);this.urgentMessageForm.get("levels").setValue(l)}}else this.isSelectAllLevel=!1;const s=this.urgentMessageForm.get("scholar_season_id").value,r=this.urgentMessageForm.get("campuses").value,g=this.urgentMessageForm.get("levels").value,a={scholar_season_id:s,candidate_school_ids:this.urgentMessageForm.get("school_id").value,campuses:r&&r.length?r.filter(l=>"ALL"!==l&&"Tous"!==l):[],levels:g&&g.length?g.filter(l=>"ALL"!==l&&"Tous"!==l):[]},_={_id:"ALL",name:"AllS"};if(this.originalListSectors.length>0){let l=this.originalListSectors.filter(c=>{const d=c.school_id.includes(a.candidate_school_ids)?a.candidate_school_ids:null,f=a.campuses.some(O=>c.campus_id&&c.campus_id.includes(O)),C=a.levels.some(O=>c.level_id.includes(O));if(d&&f&&C&&a.scholar_season_id===c.scholar_season_id)return c});l.length>0?(this.sectorList.push(_),l=l.map(c=>({_id:c._id,name:c.name})),l.forEach(c=>{this.sectorList.push(c)})):this.sectorList=[]}else this.sectorList=[]}getSpeciality(t){this.urgentMessageForm.get("specialities").setValue(null),this.specialityList=[];const n=h.cloneDeep(this.urgentMessageForm.get("sectors").value),o=n.filter(d=>"ALL"===d||"Tous"===d);if(o&&o.length&&("ALL"===o[0]||"Tous"===o[0])){const d=[];this.sectorList.filter(C=>"ALL"!==C._id&&"Tous"!==C._id).forEach(C=>{d.push(C._id)}),this.urgentMessageForm.get("sectors").patchValue(["ALL",...d])}if(n&&n.length&&(n.includes("ALL")||n.includes("Tous"))){if(this.isSelectAllSector=!this.isSelectAllSector,!this.isSelectAllSector){const d=n.filter(f=>"ALL"!==f&&"Tous"!==f);this.urgentMessageForm.get("sectors").setValue(d)}}else this.isSelectAllSector=!1;const s=this.urgentMessageForm.get("scholar_season_id").value,r=this.urgentMessageForm.get("campuses").value,g=this.urgentMessageForm.get("levels").value,a=this.urgentMessageForm.get("sectors").value,l=(this.urgentMessageForm.get("specialities"),{scholar_season_id:s,candidate_school_ids:this.urgentMessageForm.get("school_id").value,campuses:r&&r.length?r.filter(d=>"ALL"!==d&&"Tous"!==d):[],levels:g&&g.length?g.filter(d=>"ALL"!==d&&"Tous"!==d):[],sectors:a&&a.length?a.filter(d=>"ALL"!==d&&"Tous"!==d):[]});this.selectedSpeciality("");const c={_id:"ALL",name:"AllS"};this.isWaitingForResponseSector=!0,this.subs.sink=this.candidateService.GetAllSpecializationsByScholar(l).subscribe(d=>{if(this.isWaitingForResponseSector=!1,d)if(this.originalListSpeciality=h.cloneDeep(d),this.originalListSpeciality.length>0){this.specialityList=[];let f=this.originalListSpeciality;f.length>0?(this.specialityList.push(c),f=f.map(C=>({_id:C._id,name:C.name})),f.forEach(C=>{this.specialityList.push(C)})):this.specialityList=[]}else this.specialityList=[]},d=>{this.isWaitingForResponseSector=!1,this.specialityList=[],this.autService.postErrorLog(d),M().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}selectSpeciality(t){let n=this.urgentMessageForm.get("specialities").value;"None"===t?n&&n.length<1?this.urgentMessageForm.get("specialities").setValue(null):this.urgentMessageForm.get("specialities").setValue(["None"]):n&&n.length&&(n=n.filter(o=>"None"!==o),this.urgentMessageForm.get("specialities").setValue(n))}getUserList(){const t=this.urgentMessageForm.get("school_id").value,n=this.urgentMessageForm.get("campuses").value,o=this.urgentMessageForm.get("levels").value,s=this.urgentMessageForm.get("sectors").value,g=(this.urgentMessageForm.get("specialities"),{candidate_school_ids:this.urgentMessageForm.get("school_id").value,campuses:n&&n.length?n.filter(a=>"ALL"!==a&&"Tous"!==a):[],levels:o&&o.length?o.filter(a=>"ALL"!==a&&"Tous"!==a):[],sectors:s&&s.length?s.filter(a=>"ALL"!==a&&"Tous"!==a):[]});this.userService.getUserEdh(t).subscribe(a=>{a.filter(l=>{const c=l.entities&&l.entities.length?l.entities.filter(f=>f.campus&&g.campuses.includes(f.campus._id)):[],d=l.entities&&l.entities.length?l.entities.filter(f=>f.level&&g.levels.includes(f.level._id)):[];return c&&c.length&&d&&d.length}),this.userList=a,this.originalUserList=a,this.subs.sink=this.urgentMessageForm.get("users").valueChanges.pipe((0,x.b)(400)).subscribe(l=>{this.userList=this.originalUserList.filter(c=>c.last_name.toLowerCase().trim().includes(l&&l.length?l.toLowerCase():""))})},a=>{this.autService.postErrorLog(a),M().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getUserTypeList(){this.subs.sink=this.userService.getUserTypesByEntityEdh().subscribe(t=>{this.userTypesList=t,this.originalUserTypesList=t,this.subs.sink=this.urgentMessageForm.get("userTypes").valueChanges.pipe((0,x.b)(400)).subscribe(n=>{this.userTypesList=this.originalUserTypesList.filter(o=>o.name.toLowerCase().trim().includes(n&&n.length?n.toLowerCase():""))})},t=>{this.autService.postErrorLog(t),M().fire({type:"info",title:this.translate.instant("SORRY"),text:t&&t.message?this.translate.instant(t.message.replaceAll("GraphQL error: ","")):t,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}selectedSpeciality(t){this.userReady=!1;const n=h.cloneDeep(this.urgentMessageForm.get("specialities").value);if(n&&n.length&&(n.includes("ALL")||n.includes("Tous"))){const o=[];if(this.specialityList.filter(r=>"ALL"!==r&&"Tous"!==r).forEach(r=>{o.push(r._id)}),this.urgentMessageForm.get("specialities").patchValue(["ALL",...o]),this.isSelectAllSpeciality=!this.isSelectAllSpeciality,!this.isSelectAllSpeciality){const r=n.filter(g=>"ALL"!==g&&"Tous"!==g);this.urgentMessageForm.get("specialities").setValue(r)}}else this.isSelectAllSpeciality=!1;if(this.urgentMessageForm.get("categoryChecked").value)if("5fe98eeadb866c403defdc6c"===this.urgentMessageForm.get("originalUserTypes").value){const s=this.urgentMessageForm.get("campuses").value,r=this.urgentMessageForm.get("levels").value,_=(this.urgentMessageForm.get("sectors"),this.urgentMessageForm.get("specialities"),{school:this.urgentMessageForm.get("school_id").value,campuses:s&&s.length?s.filter(l=>"ALL"!==l&&"Tous"!==l):[],levels:r&&r.length?r.filter(l=>"ALL"!==l&&"Tous"!==l):[]});this.userService.getAllCandidates(_).subscribe(l=>{this.userRecipientList=l},l=>{this.autService.postErrorLog(l)})}else this.userService.getUserTypesByEntityEdh().subscribe(s=>{this.userRecipientList=s},s=>{this.autService.postErrorLog(s)});else this.getUserList()}selectedUser(t){this.userReady=!1,this.urgentMessageForm.get("originalUser").setValue(t._id),this.urgentMessageForm.get("email").setValue(t.email)}selectedUserType(t){if(this.userReady=!1,"5fe98eeadb866c403defdc6c"===t){const n=this.urgentMessageForm.get("campuses").value,o=this.urgentMessageForm.get("levels").value,g=(this.urgentMessageForm.get("sectors"),this.urgentMessageForm.get("specialities"),{school:this.urgentMessageForm.get("school_id").value,campuses:n&&n.length?n.filter(a=>"ALL"!==a&&"Tous"!==a):[],levels:o&&o.length?o.filter(a=>"ALL"!==a&&"Tous"!==a):[]});this.userService.getAllCandidates(g).subscribe(a=>{this.userRecipientList=a},a=>{this.autService.postErrorLog(a)})}else this.userService.getUserTypesByEntityEdh().subscribe(n=>{this.userRecipientList=n},n=>{this.autService.postErrorLog(n)});this.selectedUserTypeId=[t]}initializeForm(){this.urgentMessageForm=this.fb.group({subject:["",u.Validators.required],categoryChecked:[!1,u.Validators.required],users:[[],u.Validators.required],originalUser:[""],userTypes:[[]],originalUserTypes:[""],message:["",u.Validators.required],email:[""],school_id:[null,u.Validators.required],campuses:[null,u.Validators.required],scholar_season_id:[null,u.Validators.required],levels:[null,u.Validators.required],sectors:[null,u.Validators.required],specialities:[null]})}sendMessage(){if(this.urgentMessageForm.invalid)return M().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),html:this.translate.instant("Invalid_Form_Warning.TEXT"),confirmButtonText:this.translate.instant("Invalid_Form_Warning.BUTTON")}),void this.urgentMessageForm.markAllAsTouched();const t=this.urgentMessageForm.value;if(""!==t.subject||""!==t.message&&void 0!==t.message){const n=[];this.mailData={},t.categoryChecked||(n.push({recipients:t.email,rank:"a",is_read:!1,mail_type:"inbox"}),this.mailData.recipient_properties=n);const g=this.urgentMessageForm.get("campuses").value,a=this.urgentMessageForm.get("levels").value,_=this.urgentMessageForm.get("sectors").value,l=this.urgentMessageForm.get("specialities").value;this.selectedUserTypeId&&this.selectedUserTypeId.length&&(this.mailData.user_type_selection=!0,this.mailData.group_detail={user_types:this.selectedUserTypeId,school_id:this.urgentMessageForm.get("school_id").value,campuses:g&&g.length?g.filter(c=>"ALL"!==c&&"Tous"!==c):[],scholar_season_id:this.urgentMessageForm.get("scholar_season_id").value,levels:a&&a.length?a.filter(c=>"ALL"!==c&&"Tous"!==c):[],sectors:_&&_.length?_.filter(c=>"ALL"!==c&&"Tous"!==c):[],specialities:l&&l.length?l.filter(c=>"ALL"!==c&&"Tous"!==c&&"None"!==c):[]}),this.mailData.sender_property={sender:this.currentUser.email,is_read:!1,mail_type:"sent"},this.mailData.subject=t.subject,this.mailData.message=t.message,this.mailData.is_sent=!0,this.mailData.status="active",this.mailData.is_urgent_mail=!0,this.mailData.tags=["sent"],this.subs.sink=this.mailboxService.createMail(this.mailData).subscribe(c=>{this.dialogRef.close(),M().fire({title:this.translate.instant("URGENTMESSAGE_S1.TITLE"),html:this.translate.instant("URGENTMESSAGE_S1.TEXT"),allowEscapeKey:!0,type:"success",confirmButtonText:this.translate.instant("URGENTMESSAGE_S1.BUTTON")})},c=>{this.autService.postErrorLog(c),this.dialogRef.close(),M().fire({type:"info",title:this.translate.instant("SORRY"),text:c&&c.message?this.translate.instant(c.message.replaceAll("GraphQL error: ","")):c,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}categoryChange(t){t.checked?(console.log("Check"),this.urgentMessageForm.get("users").patchValue(null),this.urgentMessageForm.get("users").updateValueAndValidity(),this.urgentMessageForm.get("users").clearValidators(),this.urgentMessageForm.get("users").updateValueAndValidity(),this.urgentMessageForm.get("userTypes").setValidators([u.Validators.required]),this.urgentMessageForm.get("userTypes").updateValueAndValidity()):(console.log("Unceck"),this.urgentMessageForm.get("userTypes").patchValue(null),this.urgentMessageForm.get("userTypes").updateValueAndValidity(),this.urgentMessageForm.get("userTypes").clearValidators(),this.urgentMessageForm.get("userTypes").updateValueAndValidity(),this.urgentMessageForm.get("users").setValidators([u.Validators.required]),this.urgentMessageForm.get("users").updateValueAndValidity())}keyupUser(t){this.userReady=!0}keyupUserType(t){this.userTypeReady=!0}keyupTitle(t){this.titleReady=!0}valueChange(t){"title"===t?this.titleReady=!1:"user"===t?this.userReady=!1:"type"===t&&(this.userTypeReady=!1)}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(u.UntypedFormBuilder),e.\u0275\u0275directiveInject(v.so),e.\u0275\u0275directiveInject(A.J),e.\u0275\u0275directiveInject(F.K),e.\u0275\u0275directiveInject(U.e),e.\u0275\u0275directiveInject(I.r),e.\u0275\u0275directiveInject(k.e),e.\u0275\u0275directiveInject(L.sK),e.\u0275\u0275directiveInject(R.N),e.\u0275\u0275directiveInject(V.o))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ms-urgent-message-dialog"]],decls:81,vars:68,consts:[[3,"formGroup"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border",2,"border-bottom","1px solid","margin-bottom","10px"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding","urgentIcon",2,"margin-top","3px"],[1,"fa","fa-bolt"],[1,"p-col-9","urgent-title"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right","closeIcon"],[1,"fontColor"],[2,"max-height","78vh !important"],["appearance","legacy",3,"hideRequiredMarker"],[4,"ngIf"],["appearance","legacy"],["formControlName","specialities","multiple","",3,"selectionChange"],[3,"value","click"],[3,"value","click",4,"ngFor","ngForOf"],[1,"pad-top-8",3,"hideRequiredMarker"],["matInput","","formControlName","subject",3,"placeholder"],["formControlName","categoryChecked",3,"checked","change"],["appearance","outline",4,"ngIf"],["style","margin-top: 10px",3,"hideRequiredMarker",4,"ngIf"],["matInput","","formControlName","message",3,"placeholder"],["align","right"],["mat-raised-button","","mat-dialog-close","","type","button","color","warn"],["mat-raised-button","","color","primary",3,"click"],["class","loading-indicator",4,"ngIf"],["formControlName","scholar_season_id",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["disabled","",4,"ngIf"],["disabled",""],["formControlName","school_id",3,"selectionChange"],["formControlName","campuses","multiple","",3,"selectionChange"],["formControlName","levels","multiple","",3,"selectionChange"],["formControlName","sectors","multiple","",3,"selectionChange"],["appearance","outline"],["type","text","matInput","","formControlName","users",3,"placeholder","matAutocomplete","keyup"],["autoActiveFirstOption","",3,"optionSelected"],["autoUsers","matAutocomplete"],[2,"margin-top","10px",3,"hideRequiredMarker"],["type","text","matInput","","formControlName","userTypes",3,"placeholder","matAutocomplete","keyup"],["autoUserTypes","matAutocomplete"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.\u0275\u0275element(5,"i",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",6)(7,"h3",7)(8,"span"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(11,"div",8)(12,"button",9)(13,"mat-icon"),e.\u0275\u0275text(14,"close"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(15,"div",10)(16,"mat-dialog-content",11)(17,"mat-form-field",12)(18,"mat-label"),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,z,3,1,"ng-container",13),e.\u0275\u0275template(22,H,3,1,"ng-container",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"mat-form-field",12)(24,"mat-label"),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(27,X,3,1,"ng-container",13),e.\u0275\u0275template(28,J,3,1,"ng-container",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"mat-form-field",12)(30,"mat-label"),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(33,ee,3,1,"ng-container",13),e.\u0275\u0275template(34,ne,3,1,"ng-container",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"mat-form-field",12)(36,"mat-label"),e.\u0275\u0275text(37),e.\u0275\u0275pipe(38,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(39,oe,3,1,"ng-container",13),e.\u0275\u0275template(40,ae,3,1,"ng-container",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"mat-form-field",12)(42,"mat-label"),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(45,le,3,1,"ng-container",13),e.\u0275\u0275template(46,ge,3,1,"ng-container",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"mat-form-field",14)(48,"mat-label"),e.\u0275\u0275text(49),e.\u0275\u0275pipe(50,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"mat-select",15),e.\u0275\u0275listener("selectionChange",function(s){return n.selectedSpeciality(s)}),e.\u0275\u0275elementStart(52,"mat-option",16),e.\u0275\u0275listener("click",function(){return n.selectSpeciality("None")}),e.\u0275\u0275text(53),e.\u0275\u0275pipe(54,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(55,pe,3,4,"mat-option",17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(56,"mat-form-field",18),e.\u0275\u0275element(57,"input",19),e.\u0275\u0275pipe(58,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(59,"label"),e.\u0275\u0275text(60),e.\u0275\u0275pipe(61,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(62,"mat-slide-toggle",20),e.\u0275\u0275listener("change",function(s){return n.categoryChange(s)}),e.\u0275\u0275text(63),e.\u0275\u0275pipe(64,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(65,me,6,5,"mat-form-field",21),e.\u0275\u0275template(66,ue,6,6,"mat-form-field",22),e.\u0275\u0275elementStart(67,"mat-form-field"),e.\u0275\u0275element(68,"textarea",23),e.\u0275\u0275pipe(69,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(70,"mat-dialog-actions",24)(71,"button",25),e.\u0275\u0275text(72),e.\u0275\u0275pipe(73,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(74,"button",26),e.\u0275\u0275listener("click",function(){return n.sendMessage()}),e.\u0275\u0275text(75),e.\u0275\u0275pipe(76,"translate"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(77,he,2,0,"div",27),e.\u0275\u0275template(78,fe,2,0,"div",27),e.\u0275\u0275template(79,Ce,2,0,"div",27),e.\u0275\u0275template(80,Me,2,0,"div",27)),2&t&&(e.\u0275\u0275property("formGroup",n.urgentMessageForm),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,40,"NAV.MESSAGES.SENDURGENTMESSAGE")),e.\u0275\u0275advance(8),e.\u0275\u0275property("hideRequiredMarker",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(20,42,"Scholar season"),"*"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.scholars.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===n.scholars.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("hideRequiredMarker",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(26,44,"School"),"*"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.school.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===n.school.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("hideRequiredMarker",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(32,46,"Campus"),"*"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.campusList.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===n.campusList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("hideRequiredMarker",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(38,48,"Level"),"*"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.levels.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===n.levels.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("hideRequiredMarker",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(44,50,"Sector"),"*"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.sectorList.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===n.sectorList.length),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(50,52,"Speciality")),e.\u0275\u0275advance(3),e.\u0275\u0275property("value","None"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(54,54,"None")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.specialityList),e.\u0275\u0275advance(1),e.\u0275\u0275property("hideRequiredMarker",!0),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("placeholder","",e.\u0275\u0275pipeBind1(58,56,"Subject"),"*"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(61,58,"User")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",n.checked),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(64,60,"TUTORIAL_MENU.CATEGORY")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.urgentMessageForm.get("categoryChecked").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.urgentMessageForm.get("categoryChecked").value),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(69,62,"MailBox.MESSAGE")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(73,64,"CANCEL")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(76,66,"SUBMIT")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.isWaitingForResponseScholar),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isWaitingForResponseSchool),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isWaitingForResponseSector),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isWaitingForResponseSpeciality))},dependencies:[y.Zt,y.Bh,S.XC,S.ZL,w.ey,B.lW,v.ZT,v.xY,v.H8,N.Hw,P.KE,P.hX,W.Nt,K.Ou,G.gD,j.Rr,u.\u0275NgNoValidate,u.DefaultValueAccessor,u.NgControlStatus,u.NgControlStatusGroup,u.FormGroupDirective,u.FormControlName,b.sg,b.O5,L.X$,b.gd],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}mat-slide-toggle[_ngcontent-%COMP%], button[_ngcontent-%COMP%], mat-radio-button[_ngcontent-%COMP%]{font-size:.87rem}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}[_nghost-%COMP%]  .mat-form-field-outline-thick{height:40px!important}[_nghost-%COMP%]  .mat-form-field-outline{height:40px!important}.urgent-title[_ngcontent-%COMP%]{padding:0}.closeIcon[_ngcontent-%COMP%]{float:right!important;text-align:right;width:74px}.urgentIcon[_ngcontent-%COMP%]{font-size:18px;padding-top:1px}.pad-top-8[_ngcontent-%COMP%]{padding-bottom:8px}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-40px}[_nghost-%COMP%]  .mat-form-field-invalid .mat-input-element::placeholder{color:#f44336!important}"]}),i})()}}]);