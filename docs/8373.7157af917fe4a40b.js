"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[8373],{56491:(mt,X,c)=>{c.d(X,{F:()=>Tt});var _=c(24006),w=c(65938),H=c(10830),G=c(68745),R=c(35226),I=c.n(R),i=c(17489),B=c(15439),Q=c(80013),e=c(94650),at=c(89383),S=c(95321),Z=c(94442),J=c(52688),t=c(73555),nt=c(3238),K=c(4859),V=c(56709),M=c(99602),h=c(97392),P=c(59549),N=c(284),U=c(51572),j=c(84385),k=c(24784),p=c(36895),A=c(88796),Y=c(67646);function q(v,W){if(1&v&&(e.\u0275\u0275elementStart(0,"mat-option",41),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275pipe(3,"uppercase"),e.\u0275\u0275elementEnd()),2&v){const o=W.$implicit;e.\u0275\u0275property("value",o.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate3("","neutral"===o.civility?"":e.\u0275\u0275pipeBind1(2,4,o.civility)," ",o.first_name," ",e.\u0275\u0275pipeBind1(3,6,o.last_name)," ")}}function $(v,W){1&v&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&v&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function it(v,W){1&v&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&v&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Down Payment must paid fully")))}function lt(v,W){1&v&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&v&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Max 2 decimal")))}function ct(v,W){1&v&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&v&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function gt(v,W){1&v&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"mat-progress-spinner",42),e.\u0275\u0275elementEnd())}const ut=function(v){return{"min-height":v}};function ft(v,W){if(1&v&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",44)(2,"div",45)(3,"div",46),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"div",47),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",48),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"currency"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&v){const o=e.\u0275\u0275nextContext().$implicit,g=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"Down Payment")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(11,ut,"fr"===g.translate.currentLang?"29px":"")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",g.getColorTermsDP(o)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind4(9,6,"paid"!==(null==o?null:o.status)?(null==o?null:o.remaining_amount)===(null==o?null:o.amount)?null==o?null:o.remaining_amount:(null==o?null:o.remaining_amount)-(null==o?null:o.pay_amount):null==o?null:o.real_amount,"EURO","","0.2")," \u20ac ")}}function bt(v,W){if(1&v&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",49)(2,"div",45)(3,"div",46),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",50),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",48),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"currency"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&v){const o=e.\u0275\u0275nextContext().$implicit,g=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(5,5,"Term")," ",(null==o?null:o.term_index)+1,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",g.translateDates(null!=o&&null!=o.term_payment_deferment&&o.term_payment_deferment.date?null==o||null==o.term_payment_deferment?null:o.term_payment_deferment.date:null==o||null==o.term_payment?null:o.term_payment.date)," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",g.getColorTerms(o)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind4(10,7,"paid"!==(null==o?null:o.status)&&"partially_paid"!==(null==o?null:o.status)&&(null==o?null:o.term_amount)-(null==o?null:o.term_pay_amount)!=0?(null==o?null:o.term_amount)-(null==o?null:o.term_pay_amount):null!=o&&o.term_amount_chargeback&&"paid"===(null==o?null:o.status)?(null==o?null:o.term_amount)-(null==o?null:o.term_amount_chargeback):null==o?null:o.term_amount,"EURO","","0.2")," \u20ac ")}}function Ct(v,W){if(1&v&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ft,10,13,"ng-container",21),e.\u0275\u0275template(2,bt,11,12,"ng-container",21),e.\u0275\u0275elementContainerEnd()),2&v){const o=W.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","DP"===(null==o?null:o.payment_type)&&(null==o?null:o.amount)>0&&(null==o?null:o.remaining_amount)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","term"===(null==o?null:o.payment_type))}}function yt(v,W){if(1&v&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ct,3,2,"ng-container",43),e.\u0275\u0275elementContainerEnd()),2&v){const o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.termsList)}}function Mt(v,W){1&v&&(e.\u0275\u0275elementStart(0,"p",51),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&v&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ot(v,W){1&v&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",11)(2,"div",2)(3,"div",12)(4,"label"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",26)(8,"mat-form-field",14),e.\u0275\u0275element(9,"input",52),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()()()()()),2&v&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,2,"Chq Nber")),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(10,4,"Chq Nber")))}function Pt(v,W){if(1&v&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",11)(2,"div",2)(3,"div",12)(4,"label"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",26)(8,"div",53),e.\u0275\u0275element(9,"ng-select",54),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()()()()()),2&v){const o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,4,"Bank")),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(10,6,"Bank")),e.\u0275\u0275property("items",o.bank)("multiple",!1)}}function vt(v,W){1&v&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",11)(2,"div",2)(3,"div",12)(4,"label"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",26)(8,"mat-form-field",14),e.\u0275\u0275element(9,"input",55),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()()()()()),2&v&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,2,"Ref payor")),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(10,4,"Ref payor")))}function xt(v,W){1&v&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&v&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function kt(v,W){1&v&&(e.\u0275\u0275elementStart(0,"div",56),e.\u0275\u0275element(1,"mat-spinner",57),e.\u0275\u0275elementEnd()),2&v&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("diameter",100))}let Tt=(()=>{class v{constructor(o,g,b,f,F,L,u,dt){this.dialogRef=o,this.fb=g,this.translate=b,this.parseStringDatePipe=f,this.acadJourneyService=F,this.financeService=L,this.parentData=u,this.authService=dt,this.subs=new G.Y,this.isMainAddressSelected=!1,this.isWaitingForResponse=!1,this.nationalitiesList=[],this.nationalList=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.bank=["BNP Paribas","Credit Agricole","BPCE","Societe Generale","Groupe Cr\xe9dit Mutuel","Cr\xe9dit Cooperatif","La Banque Postale","Cr\xe9dit du Nord","AXA Banque","Banque Palatine","HSBC France","CIC Banque Transatlantique","BRED Banque Populaire"],this.regions=[],this.filteredRegions=[],this.currencyList=[],this.toFilterList=[{civility:"Mrs",value:" Mrs Anne CHAMBIER",key:"Anne CHAMBIER"},{civility:"Mr",value:"Mr Fabien CHAMBIER",key:"Fabien CHAMBIER"}],this.transactionList=["Down payment","Term 1","Term 2","Term 3","Term 4","Term 5","Term 6","Term 7","Term 8"],this.dataFinanceList=[],this.termsList=[],this.dataUser=[],this.alreadyPaid=!1,this.isPartialDP=!1,this.isLoadingTerms=!1,this.originalTermsAffected=[]}ngOnInit(){if(this.data=i.cloneDeep(this.parentData),this.today=new Date,this.iniVerificationForm(),this.getTableTerms(this.data._id,0),this.subs.sink=this.acadJourneyService.getCurrency().subscribe(o=>{this.currencyList=o}),console.log("This is the data",this.data),this.data.is_financial_support&&this.data.financial_support_info){const o=this.data.financial_support_info,g=o.family_name,b=[];o.civility&&"neutral"!==o.civility&&b.push(this.translate.instant(o.civility)),o.first_name?b.push(o.first_name):o.name&&b.push(o.name),g&&b.push(g);const f={civility:o.civility,email:o.email,last_name:g,first_name:o.name,isStudent:!1,value:b.join(" ")};this.dataFinanceList.push(f),this.dataFinanceList=this.dataFinanceList.filter(F=>F&&F.value&&" "!==F.value)}else{const o={civility:this.data.candidate_id.civility,email:this.data.candidate_id.email,last_name:this.data.candidate_id.last_name,first_name:this.data.candidate_id.first_name,isStudent:!0,value:(this.data.candidate_id.civility&&"neutral"!==this.data.candidate_id.civility?this.translate.instant(this.data.candidate_id.civility)+" ":"")+this.data.candidate_id.first_name+" "+this.data.candidate_id.last_name};this.dataFinanceList.push(o),this.dataFinanceList=this.dataFinanceList.filter(g=>g&&g.value&&" "!==g.value)}this.originStatus=i.cloneDeep(this.data.deposit_status),this.subs.sink=this.identityForm.get("amount").valueChanges.pipe((0,Q.b)(400)).subscribe(o=>{this.getTableTerms(this.data._id,o)})}onWheel(o){o?.preventDefault()}getTableTerms(o,g=0){this.isLoadingTerms=!0,this.subs.sink=this.financeService.getAffectedTermsBillingForAddPayment(g,o,"sepa",null).subscribe(b=>{this.isLoadingTerms=!1,b&&b.length?(this.originalTermsAffected=i.cloneDeep(b),this.termsList=this.mappingDataTerms(b),5===this.termsList.length?this.dialogRef.updateSize("721px"):6===this.termsList.length?this.dialogRef.updateSize("788px"):7===this.termsList.length&&this.dialogRef.updateSize("865px"),console.log("_termlist",this.termsList)):this.termsList=[]},b=>{this.isLoadingTerms=!1,"GraphQL error: amount cannot exceed more than DP"===b.message&&I().fire({type:"info",text:this.translate.instant("Down payment overpay"),confirmButtonText:this.translate.instant("SendForm_S2.Button")}).then(()=>{this.identityForm.get("amount").patchValue(null)})})}mappingDataTerms(o){let g;return g=o.map(b=>({_id:b?._id,term_index:b?.term_index,payment_type:b?.payment_type,is_term_pending:b?.is_term_pending,real_amount:this.data?.deposit,real_term_amount:b?.amount,is_partial:b?.is_partial,is_term_paid:b?.is_term_paid,pay_amount:b?.pay_amount,term_payment:b?.term_payment,term_payment_deferment:b?.term_payment_deferment,status:b?.status,term_pay_amount:b?.term_pay_amount,term_pay_date:b?.term_pay_date,term_amount:"partially_paid"===b?.status&&b?.term_pay_amount?b?.term_amount-b?.term_pay_amount:b?.term_amount,term_amount_pending:b?.term_amount_pending,term_amount_chargeback:b?.term_amount_chargeback,term_amount_not_authorised:b?.term_amount_not_authorised,remaining_amount:"partially_paid"===b?.status?this.data?.deposit-this.data?.deposit_pay_amount:this.data?.deposit,amount:"partially_paid"===b?.status?b?.amount-b?.pay_amount:b?.amount})),g}getColorTerms(o){if("term"===o?.payment_type||"DP"===o?.payment_type)return"billed"!==o?.status||o?.is_term_pending?"partially_paid"===o?.status?"body-list bg-yellow":"paid"===o?.status?"body-list bg-green":"pending"===o?.status||o?.is_term_pending?"body-list bg-orange":"not_authorised"===o?.status?"body-list bg-red":"chargeback"===o?.status?"body-list bg-purple":"body-list":"body-list bg-blue"}getColorTermsDP(o){if("term"===o?.payment_type||"DP"===o?.payment_type)return"billed"!==o?.status||o?.is_term_pending||"pending"===this.data?.candidate_id?.payment||"sepa_pending"===this.data?.candidate_id?.payment?"partially_paid"===o?.status?"body-list bg-orange":"paid"===o?.status?"body-list bg-green":"pending"===o?.status||o?.is_term_pending||"pending"===this.data?.candidate_id?.payment||"sepa_pending"===this.data?.candidate_id?.payment?"body-list bg-orange":"not_authorised"===o?.status?"body-list bg-red":"chargeback"===o?.status?"body-list bg-purple":"body-list":"body-list bg-blue"}transactionSelected(o){if("down_payment"!==o){const g=o.term_amount-o.term_pay_amount;this.identityForm.get("amount").setValue(g)}else this.identityForm.get("amount").setValue(this.data.deposit)}recalculateAmount(){const o=Math.abs(this.identityForm.get("amount").value);this.identityForm.get("amount").value<0&&this.identityForm.get("amount").setValue(o);let g=i.cloneDeep(this.data.terms);const b=i.cloneDeep(this.data.deposit);let F,f=0;if(this.isPartialDP&&(this.data.depositPaid=this.data.deposit_pay_amount,F=o+this.data.deposit_pay_amount>b),o>b||this.alreadyPaid||F){let L;if(f=b,this.data.depositPaid=f,g=g.filter(u=>u?.term_amount>0).map(u=>({is_term_paid:u.term_pay_amount===u.term_amount&&u.is_term_paid,term:u.term,term_amount:u.term_amount,term_pay_amount:u.term_pay_amount,term_pay_date:u.term_pay_date,term_payment:u.term_payment,term_payment_deferment:u.term_payment_deferment,_id:u._id,amount_input:u.term_pay_amount,term_status:u.term_status,term_amount_pending:u.term_amount_pending,term_amount_chargeback:u.term_amount_chargeback,terms_index:u.terms_index})),this.alreadyPaid?(L=o,this.data.deposit_status="paid"):F?(L=o+this.data.deposit_pay_amount-b,this.data.deposit_status="partially_paid"):L=o-b,g&&g.length)for(const u of g)if(!u.is_term_paid)if("classic"===this.data?.student_type?.type_of_information){if(u.is_term_paid||!L||!u.term_status){this.hasNotBilledTerm=!1;break}if(u.term_amount<=parseFloat((u.term_pay_amount+L).toFixed(2)))u.term_pay_amount=u.term_amount,u.is_term_paid=!0,L-=parseFloat((u.term_amount-u.amount_input).toFixed(2)),u.term_status="paid";else{if(!(u.term_amount>=parseFloat((u.term_pay_amount+L).toFixed(2))&&u.term_amount_chargeback)){u.term_pay_amount=parseFloat((u.term_pay_amount+L).toFixed(2)),L=0,u.term_status="partially_paid";break}u.term_pay_amount=u.term_amount,u.is_term_paid=!0,L-=parseFloat((u.term_amount-u.amount_input).toFixed(2)),u.term_status="paid"}}else if("classic"!==this.data?.student_type?.type_of_information)if(!u.is_term_paid&&L&&"not_billed"!==u.term_status)if(u.term_amount<=parseFloat((u.term_pay_amount+L).toFixed(2)))u.term_pay_amount=u.term_amount,u.is_term_paid=!0,L-=parseFloat((u.term_amount-u.amount_input).toFixed(2)),u.term_status="paid";else{if(!(u.term_amount>=u.term_pay_amount+L&&u.term_amount_chargeback)){u.term_pay_amount=parseFloat((u.term_pay_amount+L).toFixed(2)),L=0,u.term_status="partially_paid";break}u.term_pay_amount=u.term_amount,u.is_term_paid=!0,L-=u.term_amount-u.amount_input,u.term_status="paid"}else{if(u.is_term_paid||!L||"not_billed"!==u.term_status){this.hasNotBilledTerm=!1;break}if(!(u.term_amount<=parseFloat((u.term_pay_amount+L).toFixed(2)))){u.term_pay_amount=parseFloat((u.term_pay_amount+L).toFixed(2)),L=0,u.term_status="partially_paid";break}u.term_pay_amount=u.term_amount,u.is_term_paid=!0,L-=parseFloat((u.term_amount-u.amount_input).toFixed(2)),u.term_status="paid"}this.termsList.forEach((u,dt)=>{g.forEach((pt,Dt)=>{u.term===pt.term&&(this.termsList[dt]=g[Dt])})}),0===o?this.data.deposit_status=this.originStatus:b>o+this.data.deposit_pay_amount?this.data.deposit_status="partially_paid":b<=o+this.data.deposit_pay_amount&&(this.data.deposit_status="paid")}else f=o,this.data.depositPaid=this.isPartialDP?this.data.depositPaid+f:f,g=i.cloneDeep(this.data.terms),this.termsList.forEach((L,u)=>{g.forEach((dt,pt)=>{L.term===dt.term&&(this.termsList[u]=g[pt])})}),0===o?this.data.deposit_status=this.originStatus:b>o+this.data.deposit_pay_amount?this.data.deposit_status="partially_paid":b<=o+this.data.deposit_pay_amount&&(this.data.deposit_status="paid")}iniVerificationForm(){this.identityForm=this.fb.group({payment_method:[null,_.Validators.required],amount:[null,[_.Validators.required,_.Validators.pattern("^[0-9]+(.[0-9]{1,2})?$")]],who:[null,_.Validators.required],transaction:[null],credit:[!1],transfer:[!1],cheque:[!1],sepa:[!1],cash:[!1],currency:["EUR"],date:[this.today,_.Validators.required],reference:[null,_.Validators.required],note:[null],ref_payer:[null],cheque_number:[null],bank:[null]})}checkPayment(o){const g=this.identityForm.get("credit").value,b=this.identityForm.get("transfer").value,f=this.identityForm.get("cheque").value,F=this.identityForm.get("sepa").value,L=this.identityForm.get("cash").value;if(!(g||b||f||F||L))return this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!1),this.identityForm.get("sepa").setValue(!1),this.identityForm.get("cash").setValue(!1),this.identityForm.get("cheque_number").setValue(""),this.identityForm.get("ref_payer").setValue(""),void this.identityForm.get("payment_method").setValue(null);"credit"===o?(this.identityForm.get("payment_method").setValue("credit_card"),this.identityForm.get("credit").setValue(!0),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!1),this.identityForm.get("sepa").setValue(!1),this.identityForm.get("cheque_number").setValue(""),this.identityForm.get("ref_payer").setValue(""),this.identityForm.get("bank").setValue(null),this.identityForm.get("cash").setValue(!1)):"transfer"===o?(this.identityForm.get("payment_method").setValue("transfer"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!0),this.identityForm.get("cheque").setValue(!1),this.identityForm.get("sepa").setValue(!1),this.identityForm.get("cheque_number").setValue(""),this.identityForm.get("ref_payer").setValue(""),this.identityForm.get("bank").setValue(null),this.identityForm.get("cash").setValue(!1)):"sepa"===o?(this.identityForm.get("payment_method").setValue("sepa"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!1),this.identityForm.get("sepa").setValue(!0),this.identityForm.get("cheque_number").setValue(""),this.identityForm.get("ref_payer").setValue(""),this.identityForm.get("bank").setValue(null),this.identityForm.get("cash").setValue(!1)):"cheque"===o?(this.identityForm.get("payment_method").setValue("check"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!0),this.identityForm.get("sepa").setValue(!1),this.identityForm.get("cash").setValue(!1)):"cash"===o&&(this.identityForm.get("payment_method").setValue("cash"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!1),this.identityForm.get("sepa").setValue(!1),this.identityForm.get("cash").setValue(!0))}formatCurrency(o){let g="";return o&&(g=parseInt(o).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$& "),g=g.toString().slice(0,-3)),g}formatCurrencyFloat(o){let g="";return o&&(g=parseFloat(o).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$& "),g=g.toString().slice(0,-3)),g}checkIsNumber(o){let g=!1;return Number.isInteger(o)&&(g=!0),g}translateDates(o){return B(o,"DD/MM/YYYY").format("DD/MM/YYYY")}submitVerification(){if(this.identityForm.invalid)I().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON"),onOpen:o=>{o.setAttribute("data-cy","swal-formsave-s1")}}),this.identityForm.markAllAsTouched();else if(this.hasNotBilledTerm)I().fire({type:"info",title:this.translate.instant("Organization_S3.Title"),html:this.translate.instant("Organization_S3.Body"),confirmButtonText:this.translate.instant("Organization_S3.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,onOpen:o=>{o.setAttribute("data-cy","swal-organization-s3")}}).then(()=>{this.data.deposit_status=this.originStatus,this.dialogRef.close()});else if(this.data?.deposit>0&&"paid"!==this.originStatus&&this.identityForm.get("amount").value>this.data?.deposit)I().fire({type:"info",text:this.translate.instant("Down payment overpay"),confirmButtonText:this.translate.instant("SendForm_S2.Button")});else{this.isWaitingForResponse=!0;const o=i.cloneDeep(this.identityForm.value);o.date&&(o.date=B(o.date).format("DD/MM/YYYY")),delete o.credit,delete o.cheque,delete o.transfer,delete o.sepa,delete o.cash;const g=this.generatePayloadBilling(this.termsList),b=this.generateAffectedTerms(this.originalTermsAffected);this.subs.sink=this.financeService.AddPaymentAfterCalculation(o,this.data._id,b,g).subscribe(f=>{this.isWaitingForResponse=!1,I().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,onOpen:F=>{F.setAttribute("data-cy","swal-bravo")}}).then(()=>{this.dialogRef.close(!0)})},f=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(f),"GraphQL error: You are trying to add payment on a term not billed yet. You must generate the billing for the term first."===f.message?I().fire({type:"info",title:this.translate.instant("Organization_S3.Title"),html:this.translate.instant("Organization_S3.Body"),confirmButtonText:this.translate.instant("Organization_S3.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,onOpen:F=>{F.setAttribute("data-cy","swal-organization-s3")}}).then(()=>{this.data.deposit_status=this.originStatus,this.dialogRef.close()}):f&&f.message&&f.message.includes("Cannot add manual payment, there is transaction on pending by SEPA")?I().fire({type:"warning",title:this.translate.instant("PAY_SUM_S2.Title"),html:this.translate.instant("PAY_SUM_S2.Text"),confirmButtonText:this.translate.instant("PAY_SUM_S2.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,onOpen:F=>{F.setAttribute("data-cy","swal-pay-sum-s2")}}):f&&f.message&&f.message.includes("Network error: Http failure response for")?I().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):I().fire({type:"info",title:this.translate.instant("SORRY"),text:f&&f.message?this.translate.instant(f.message.replaceAll("GraphQL error: ","")):f,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}closeDialog(){this.dialogRef.close()}get form(){return this.identityForm.controls}generatePayloadBilling(o){const g=[];let b={deposit:0,deposit_pay_amount:0,deposit_status:null,terms:[],is_deposit_completed:!1};return o?.length&&(o.forEach(f=>{"term"===f?.payment_type?g.push({term_amount:f?.real_term_amount,is_partial:"partially_paid"===f?.status,is_term_paid:"paid"===f?.status,term_status:f?.status,term_amount_chargeback:f?.term_amount_chargeback,term_amount_not_authorised:f?.term_amount_not_authorised,term_amount_pending:f?.term_amount_pending,term_pay_amount:"paid"===f?.status?f?.real_term_amount:f?.term_pay_amount+f?.pay_amount,term_pay_date:f?.term_pay_date,term_payment:f?.term_payment,term_payment_deferment:f?.term_payment_deferment,_id:f?._id}):b={deposit:f?.real_amount,deposit_pay_amount:"paid"===f?.status?f?.real_amount:f?.pay_amount+this.data?.deposit_pay_amount,deposit_status:f?.status,terms:[],is_deposit_completed:"paid"===f?.status}}),g?.length&&(b.terms=g)),b}generateAffectedTerms(o){const g=[];return o?.length&&o.forEach(b=>{const f=i.cloneDeep(b);Object.keys(f).forEach(F=>{!f[F]&&!1!==f[F]&&delete f[F]}),g.push(f)}),g}decimalFilter(o){const b=o.target.value+String.fromCharCode(o.charCode);/^-?\d*[.,]?\d{0,2}$/.test(b)||o.preventDefault()}dissallowZero(o){"0"===o.target.value&&(o.target.value=null,this.identityForm.get("amount").patchValue(null))}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}}return v.\u0275fac=function(o){return new(o||v)(e.\u0275\u0275directiveInject(w.so),e.\u0275\u0275directiveInject(_.UntypedFormBuilder),e.\u0275\u0275directiveInject(at.sK),e.\u0275\u0275directiveInject(H.n),e.\u0275\u0275directiveInject(S.g),e.\u0275\u0275directiveInject(Z.N),e.\u0275\u0275directiveInject(w.WI),e.\u0275\u0275directiveInject(J.e))},v.\u0275cmp=e.\u0275\u0275defineComponent({type:v,selectors:[["ms-add-payment-dialog"]],features:[e.\u0275\u0275ProvidersFeature([H.n])],decls:123,vars:77,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],["data-cy","icon-add-payment-dialog",2,"vertical-align","middle"],["data-cy","label-add-payment-dialog",1,"p-col-10","acad-title"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1","data-cy","button-close-add-payment-dialog",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding"],[1,"p-col-fixed","center-label","no-padding-left","label-align",2,"width","140px"],[1,"p-col-fixed","no-padding",2,"width","100px"],["floatLabel","never"],["matInput","","readonly","","formControlName","date","data-cy","input-date",3,"placeholder","matDatepicker","click"],["matSuffix","",3,"for"],["myDatepicker",""],[1,"p-col-fixed","no-padding",2,"width","40%","margin-right","10px"],["data-cy","input-select-who","formControlName","who","panelClass","custom-matselect-dropdown","disableOptionCentering",""],["data-cy","input-select-option-who",3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"p-col-fixed","no-padding",2,"width","18%","margin-right","10px"],["data-cy","input-amount","matInput","","formControlName","amount","type","number",3,"placeholder","wheel","keypress","keyup"],[1,"p-col-fixed","no-padding",2,"width","11.7%","padding-top","16px !important","font-size","13px"],[1,"p-grid",2,"padding-top","18px"],[1,"p-col","no-padding"],[1,"p-grid","web-card",2,"padding-top","7px"],["data-cy","input-checkbox-check","formControlName","cheque",2,"min-width","100px",3,"change"],["data-cy","input-checkbox-transfer","formControlName","transfer",2,"min-width","100px",3,"change"],["data-cy","input-checkbox-credit-card","formControlName","credit",2,"min-width","100px",3,"change"],["data-cy","input-checkbox-cash","formControlName","cash",2,"min-width","100px","padding-left","18px",3,"change"],["data-cy","input-checkbox-sepa","formControlName","sepa",2,"min-width","100px","padding-left","10px",3,"change"],["class","error-text",4,"ngIf"],["class","p-grid",4,"ngIf"],["matInput","","msPreventInputTagCharacters","","data-cy","input-reference","formControlName","reference",3,"placeholder"],["data-cy","input-note","matInput","","msPreventInputTagCharacters","","formControlName","note",3,"placeholder"],["class","inner-loading-indicator","data-cy","spinner-add-payment-dialog",4,"ngIf"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close","","data-cy","button-cancel-add-payment-dialog"],["mat-raised-button","","color","primary","data-cy","button-validate-add-payment-dialog",3,"click"],["data-cy","input-select-option-who",3,"value"],["mode","indeterminate","color","accent"],[4,"ngFor","ngForOf"],["data-cy","label-down-payment",1,"card-terms"],[1,"header-list"],[1,"header-texts"],[1,"header-text",3,"ngStyle"],[3,"ngClass"],["data-cy","label-terms",1,"card-terms"],[1,"header-text"],[1,"error-text"],["data-cy","input-check-number","matInput","","formControlName","cheque_number",3,"placeholder"],[1,"p-grid","baseline"],["formControlName","bank","data-cy","input-bank",1,"mrgn-btn","custom-ngselect-content",2,"width","100%",3,"items","multiple","placeholder"],["data-cy","input-ref-payer","matInput","","formControlName","ref_payer",3,"placeholder"],["data-cy","spinner-add-payment-dialog",1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(o,g){if(1&o){const b=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),e.\u0275\u0275text(5,"edit"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",5)(7,"h3",6),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275pipe(10,"uppercase"),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",7)(13,"button",8)(14,"mat-icon"),e.\u0275\u0275text(15,"close"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(16,"form",9)(17,"div",10)(18,"mat-dialog-content")(19,"div",2)(20,"div",11)(21,"div",2)(22,"div",12)(23,"label"),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"div",13)(27,"mat-form-field",14)(28,"input",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(b);const F=e.\u0275\u0275reference(32);return e.\u0275\u0275resetView(F.open())}),e.\u0275\u0275pipe(29,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(30,"mat-datepicker-toggle",16)(31,"mat-datepicker",null,17),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(33,"div",2)(34,"div",11)(35,"div",2)(36,"div",12)(37,"label"),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"div",18)(41,"mat-form-field",14)(42,"mat-select",19),e.\u0275\u0275template(43,q,4,8,"mat-option",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(44,$,3,3,"mat-error",21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(45,"div",22)(46,"mat-form-field",14)(47,"input",23),e.\u0275\u0275listener("wheel",function(F){return g.onWheel(F)})("keypress",function(F){return g.decimalFilter(F)})("keyup",function(F){return g.dissallowZero(F)}),e.\u0275\u0275pipe(48,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(49,it,3,3,"mat-error",21),e.\u0275\u0275template(50,lt,3,3,"mat-error",21),e.\u0275\u0275template(51,ct,3,3,"mat-error",21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(52,"div",24),e.\u0275\u0275text(53,"EUR"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(54,"div",25)(55,"div",11)(56,"div",2)(57,"div",12)(58,"label"),e.\u0275\u0275text(59),e.\u0275\u0275pipe(60,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(61,"div",26),e.\u0275\u0275template(62,gt,2,0,"div",21),e.\u0275\u0275template(63,yt,2,1,"ng-container",21),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(64,"div",2)(65,"div",11)(66,"div",2)(67,"div",12)(68,"label"),e.\u0275\u0275text(69),e.\u0275\u0275pipe(70,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(71,"div",26)(72,"div",27)(73,"mat-checkbox",28),e.\u0275\u0275listener("change",function(){return g.checkPayment("cheque")}),e.\u0275\u0275text(74),e.\u0275\u0275pipe(75,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(76,"mat-checkbox",29),e.\u0275\u0275listener("change",function(){return g.checkPayment("transfer")}),e.\u0275\u0275text(77),e.\u0275\u0275pipe(78,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(79,"mat-checkbox",30),e.\u0275\u0275listener("change",function(){return g.checkPayment("credit")}),e.\u0275\u0275text(80),e.\u0275\u0275pipe(81,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(82,"mat-checkbox",31),e.\u0275\u0275listener("change",function(){return g.checkPayment("cash")}),e.\u0275\u0275text(83),e.\u0275\u0275pipe(84,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(85,"mat-checkbox",32),e.\u0275\u0275listener("change",function(){return g.checkPayment("sepa")}),e.\u0275\u0275text(86),e.\u0275\u0275pipe(87,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(88,Mt,3,3,"p",33),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(89,Ot,11,6,"div",34),e.\u0275\u0275template(90,Pt,11,8,"div",34),e.\u0275\u0275template(91,vt,11,6,"div",34),e.\u0275\u0275elementStart(92,"div",2)(93,"div",11)(94,"div",2)(95,"div",12)(96,"label"),e.\u0275\u0275text(97),e.\u0275\u0275pipe(98,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(99,"div",26)(100,"mat-form-field",14),e.\u0275\u0275element(101,"textarea",35),e.\u0275\u0275pipe(102,"translate"),e.\u0275\u0275template(103,xt,3,3,"mat-error",21),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(104,"div",2)(105,"div",11)(106,"div",2)(107,"div",12)(108,"label"),e.\u0275\u0275text(109),e.\u0275\u0275pipe(110,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(111,"div",26)(112,"mat-form-field",14),e.\u0275\u0275element(113,"textarea",36),e.\u0275\u0275pipe(114,"translate"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(115,kt,2,1,"div",37),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(116,"mat-dialog-actions",38)(117,"button",39),e.\u0275\u0275text(118),e.\u0275\u0275pipe(119,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(120,"button",40),e.\u0275\u0275listener("click",function(){return g.submitVerification()}),e.\u0275\u0275text(121),e.\u0275\u0275pipe(122,"translate"),e.\u0275\u0275elementEnd()()()()}if(2&o){const b=e.\u0275\u0275reference(32);let f;e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate4(" ",e.\u0275\u0275pipeBind1(9,37,"Input a payment")," - ",e.\u0275\u0275pipeBind1(10,39,null==g.data||null==g.data.candidate_id?null:g.data.candidate_id.last_name)," ",null==g.data||null==g.data.candidate_id?null:g.data.candidate_id.first_name," ",null!=g.data&&null!=g.data.candidate_id&&g.data.candidate_id.civility&&"neutral"===(null==g.data||null==g.data.candidate_id?null:g.data.candidate_id.civility)?"":e.\u0275\u0275pipeBind1(11,41,null==g.data||null==g.data.candidate_id?null:g.data.candidate_id.civility)," "),e.\u0275\u0275advance(8),e.\u0275\u0275property("formGroup",g.identityForm),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(25,43,"Date")),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(29,45,"Date")),e.\u0275\u0275property("matDatepicker",b),e.\u0275\u0275advance(2),e.\u0275\u0275property("for",b),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(39,47,"Who"),"*"),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",g.dataFinanceList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",g.identityForm.get("who").hasError("required")&&(g.identityForm.get("who").dirty||g.identityForm.get("who").touched)),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(48,49,"Amount")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null==g.form||null==g.form.amount||null==g.form.amount.errors?null:g.form.amount.errors.fullyPaidDP)&&!(null!=g.form&&null!=g.form.amount&&null!=g.form.amount.errors&&g.form.amount.errors.pattern)&&!(null!=g.form&&null!=g.form.amount&&null!=g.form.amount.errors&&g.form.amount.errors.required)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==g.form||null==g.form.amount||null==g.form.amount.errors?null:g.form.amount.errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",g.identityForm.get("amount").hasError("required")&&(g.identityForm.get("amount").dirty||g.identityForm.get("amount").touched)),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(60,51,"Transaction")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",g.isLoadingTerms),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!g.isLoadingTerms),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(70,53,"Payment method"),"*"),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(75,55,"Check")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(78,57,"Transfer")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(81,59,"Credit card")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(84,61,"Cash")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(87,63,"PAYMENT_METHODS.sepa")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",g.identityForm.get("payment_method").hasError("required")&&(g.identityForm.get("payment_method").dirty||g.identityForm.get("payment_method").touched)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",g.identityForm.get("cheque").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",g.identityForm.get("cheque").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",g.identityForm.get("cheque").value),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(98,65,"R\xe9f\xe9rence"),"*"),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(102,67,"R\xe9f\xe9rence")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null==g.identityForm||null==(f=g.identityForm.get("reference"))?null:f.hasError("required"))&&((null==g.identityForm||null==(f=g.identityForm.get("reference"))?null:f.dirty)||(null==g.identityForm||null==(f=g.identityForm.get("reference"))?null:f.touched))),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(110,69,"Note")),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(114,71,"Note")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",g.isWaitingForResponse),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(119,73,"CANCEL")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(122,75,"Validate")," ")}},dependencies:[t.Zt,t.Bh,nt.ey,K.lW,V.oG,M.Mq,M.hl,M.nW,w.ZT,w.xY,w.H8,h.Hw,P.TO,P.KE,P.R9,N.Nt,U.Ou,j.gD,_.\u0275NgNoValidate,_.DefaultValueAccessor,_.NumberValueAccessor,_.NgControlStatus,_.NgControlStatusGroup,_.FormGroupDirective,_.FormControlName,k.oO,k.Zl,p.mk,p.sg,p.O5,p.PC,A.w9,Y.c,at.X$,p.gd,p.H9],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.error-text[_ngcontent-%COMP%]{font-size:75%;color:#f44336}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-list[_ngcontent-%COMP%]{font-size:12px;text-align:center}.card-terms[_ngcontent-%COMP%]{width:75px;display:inline-block;border:1px solid black}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.bg-green[_ngcontent-%COMP%]{background:#6bec6b}.bg-orange[_ngcontent-%COMP%]{background:#ea9a44}.bg-yellow[_ngcontent-%COMP%]{background:#ffd740}.bg-purple[_ngcontent-%COMP%]{background:#ff46f9}.bg-red[_ngcontent-%COMP%]{background:#ff4040}.header-text[_ngcontent-%COMP%]{padding:0;margin-left:0;text-align:center;border-bottom:1px solid black}.body-list[_ngcontent-%COMP%]{text-align:center;padding:0;font-size:12px}.header-text[_ngcontent-%COMP%]{padding:5px;margin-left:0;text-align:center;border-bottom:1px solid black}.body-list[_ngcontent-%COMP%]{text-align:center;padding:5px}.yellow[_ngcontent-%COMP%]{color:#ffd740!important}.orange[_ngcontent-%COMP%]{color:#f49f36!important}.blue[_ngcontent-%COMP%]{color:#36ebf4!important}.red[_ngcontent-%COMP%]{color:#ff4040!important}.green[_ngcontent-%COMP%]{color:#adff2f!important}.purple[_ngcontent-%COMP%]{color:#ff46f9!important}.black[_ngcontent-%COMP%]{color:#000!important}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-15px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}[_nghost-%COMP%]  .ng-select .ng-select-container{color:#000;background-color:#fff;border:none;border-radius:0!important;border-bottom:1px solid #e0e0e0!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{color:#000}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#000;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.inner-loading-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;inset:0;z-index:999999999}.bg-blue[_ngcontent-%COMP%]{background:#36ebf4}  .custom-ngselect-dropdown-addpayment .ng-dropdown-panel .ng-dropdown-panel-items .ng-option{white-space:break-spaces!important}  .custom-matselect-dropdown.mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;margin-top:22px;margin-left:15px}  .custom-ngselect-content .ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}  .custom-ngselect-content .ng-dropdown-panel-items .ng-option{white-space:break-spaces!important}  .custom-ngselect-content.ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}"]}),v})()},99109:(mt,X,c)=>{c.d(X,{v:()=>N});var _=c(24006),w=c(65938),H=c(10830),G=c(68745),R=c(35226),I=c.n(R),i=c(15439),E=c(9749),B=c(86949),r=c(94650),Q=c(89383),e=c(95321),at=c(94442),S=c(91013),Z=c(52688),J=c(73555),t=c(4859),nt=c(97392),K=c(37204),V=c(36895);const M=["editor"];let h=(()=>{class U{constructor(k,p,A,Y,q,$,it,lt,ct,gt){this.dialogRef=k,this.fb=p,this.translate=A,this.parseStringDatePipe=Y,this.acadJourneyService=q,this.financeService=$,this.data=it,this.dialog=lt,this.mailboxService=ct,this.autService=gt,this.subs=new G.Y,this.isMainAddressSelected=!1,this.Editor=E,this.config={placeholder:this.translate.instant("Note"),height:"20rem",toolbar:["heading","|","fontsize","|","bold","italic","Underline","strikethrough","highlight","|","alignment","|","numberedList","bulletedList","|"]},this.nationalitiesList=[],this.nationalList=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.currencyList=[],this.toFilterList=[{civility:"Mrs",value:" Mrs Anne CHAMBIER",key:"Anne CHAMBIER"},{civility:"Mr",value:"Mr Fabien CHAMBIER",key:"Fabien CHAMBIER"}],this.transactionList=["Down payment","Term 1","Term 2","Term 3","Term 4","Term 5","Term 6","Term 7","Term 8"],this.dataFinanceList=[],this.termsList=[],this.dataUser=[]}ngOnInit(){this.currentUser=this.autService.getLocalStorageUser(),this.today=new Date,this.iniVerificationForm(),this.subs.sink=this.acadJourneyService.getCurrency().subscribe(p=>{this.currencyList=p},p=>{p&&p.message&&p.message.includes("Network error: Http failure response for")?I().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):I().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.data.terms&&this.data.terms.length&&(this.data.terms.forEach((p,A)=>{p.term=A+1}),this.termsList=this.data.terms.filter(p=>!1===p.is_term_paid||p.term_amount!==p.term_pay_amount),this.termsList=this.termsList.sort((p,A)=>i.utc(p.term_payment_deferment).diff(i.utc(A.term_payment_deferment))),console.log(this.termsList));const k={civility:this.data.candidate_id.civility,email:this.data.candidate_id.email,last_name:this.data.candidate_id.last_name,first_name:this.data.candidate_id.first_name,value:("neutral"!==this.data.candidate_id.civility?this.translate.instant(this.data.candidate_id.civility)+" ":"")+this.data.candidate_id.first_name+" "+this.data.candidate_id.last_name};this.data&&this.data.financial_supports&&this.data.financial_supports.length&&(this.dataFinanceList=this.data.financial_supports.map(p=>({civility:p.civility,email:p.email,last_name:p.family_name,first_name:p.name,value:("neutral"!==p.civility?this.translate.instant(p.civility)+" ":"")+p.name+" "+p.family_name})),this.dataFinanceList.push(k))}onReady(k){k.ui.getEditableElement().parentElement.insertBefore(k.ui.view.toolbar.element,k.ui.getEditableElement())}iniVerificationForm(){this.identityForm=this.fb.group({payment_method:[null],amount:[null],who:[null],transaction:[null],credit:[!1],transfer:[!1],cheque:[!1],currency:["EUR"],date:[this.today,_.Validators.required],reference:[null,_.Validators.required],note:[null,_.Validators.required]})}checkPayment(k){"credit"===k?(this.identityForm.get("payment_method").setValue("bank"),this.identityForm.get("credit").setValue(!0),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!1)):"transfer"===k?(this.identityForm.get("payment_method").setValue("transfer"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!0),this.identityForm.get("cheque").setValue(!1)):"cheque"===k&&(this.identityForm.get("payment_method").setValue("check"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!0))}submitVerification(){const k=[];this.mailData={},k.push({recipients:this.data.candidate_id.email,rank:"a",is_read:!1,mail_type:"inbox"}),this.mailData.sender_property={sender:this.currentUser.email,is_read:!1,mail_type:"sent"},this.mailData.recipient_properties=k,this.mailData.subject="",this.mailData.message="Bloquer l`apprenant",this.mailData.is_sent=!0,this.mailData.status="active",this.mailData.is_urgent_mail=!0,this.mailData.tags=["sent"],console.log("payload ",this.mailData),this.subs.sink=this.mailboxService.createMail(this.mailData).subscribe(Y=>{this.subs.sink=this.financeService.UpdateBilling({is_student_blocked:!0},this.data._id).subscribe($=>{console.log("Data Updated",$),this.dialogRef.close(!0),I().fire({type:"success",title:this.translate.instant("PAYMENT_FOLLOW_S3.TITLE"),html:this.translate.instant("PAYMENT_FOLLOW_S3.TEXT",{candidateName:("neutral"!==this.data.candidate_id.civility?this.translate.instant(this.data.candidate_id.civility)+" ":"")+this.data.candidate_id.first_name+" "+this.data.candidate_id.last_name}),allowOutsideClick:!1,confirmButtonText:this.translate.instant("PAYMENT_FOLLOW_S3.BUTTON"),onOpen:it=>{it.setAttribute("data-cy","swal-payment-follow-s3")}}).then(it=>{})},$=>{this.dialogRef.close(!0),I().fire({type:"info",title:this.translate.instant("SORRY"),text:$&&$.message?this.translate.instant($.message.replaceAll("GraphQL error: ","")):$,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})},Y=>{this.dialogRef.close(!0),Y&&Y.message&&Y.message.includes("Network error: Http failure response for")?I().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):I().fire({type:"info",title:this.translate.instant("SORRY"),text:Y&&Y.message?this.translate.instant(Y.message.replaceAll("GraphQL error: ","")):Y,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}closeDialog(){this.dialogRef.close()}recordNote(){this.dialog.open(B.h,{width:"800px",minHeight:"300px",panelClass:"candidate-note-record",disableClose:!0,data:""}).afterClosed().subscribe(k=>{const p=this.editor.editorInstance;if(k.trim()){const A=`${k}`,Y=p.getData()+A;p.setData(Y)}})}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}}return U.\u0275fac=function(k){return new(k||U)(r.\u0275\u0275directiveInject(w.so),r.\u0275\u0275directiveInject(_.UntypedFormBuilder),r.\u0275\u0275directiveInject(Q.sK),r.\u0275\u0275directiveInject(H.n),r.\u0275\u0275directiveInject(e.g),r.\u0275\u0275directiveInject(at.N),r.\u0275\u0275directiveInject(w.WI),r.\u0275\u0275directiveInject(w.uw),r.\u0275\u0275directiveInject(S.e),r.\u0275\u0275directiveInject(Z.e))},U.\u0275cmp=r.\u0275\u0275defineComponent({type:U,selectors:[["ms-messages-students-dialog"]],viewQuery:function(k,p){if(1&k&&r.\u0275\u0275viewQuery(M,7),2&k){let A;r.\u0275\u0275queryRefresh(A=r.\u0275\u0275loadQuery())&&(p.editor=A.first)}},features:[r.\u0275\u0275ProvidersFeature([H.n])],decls:44,vars:23,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],["data-cy","dialog-icon",2,"vertical-align","middle"],[1,"p-col-10","acad-title"],["data-cy","dialog-title",1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1","data-cy","button-close-dialog",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding"],["data-cy","candidate-name"],[1,"p-col-12","center-label","no-padding-left","label-align"],[1,"ckeditor"],["formControlName","note","data-cy","input-cke-message",3,"editor","config","ready"],["editor",""],["mat-icon-button","","data-cy","button-record-note",1,"margin-right-button","btn-mic",3,"click"],[1,"mic-style"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close","","data-cy","button-cancel"],["mat-raised-button","","color","primary","data-cy","button-validate",3,"click"]],template:function(k,p){1&k&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),r.\u0275\u0275text(5,"edit"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(6,"div",5)(7,"h3",6),r.\u0275\u0275text(8),r.\u0275\u0275pipe(9,"translate"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(10,"div",7)(11,"button",8)(12,"mat-icon"),r.\u0275\u0275text(13,"close"),r.\u0275\u0275elementEnd()()()()()(),r.\u0275\u0275elementStart(14,"form",9)(15,"div",10)(16,"mat-dialog-content")(17,"div",2)(18,"div",11)(19,"h5",12),r.\u0275\u0275text(20),r.\u0275\u0275pipe(21,"translate"),r.\u0275\u0275pipe(22,"uppercase"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(23,"div",2)(24,"div",11)(25,"div",2)(26,"div",13)(27,"label"),r.\u0275\u0275text(28),r.\u0275\u0275pipe(29,"translate"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(30,"div",11)(31,"div",14)(32,"ckeditor",15,16),r.\u0275\u0275listener("ready",function(Y){return p.onReady(Y)}),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(34,"button",17),r.\u0275\u0275listener("click",function(){return p.recordNote()}),r.\u0275\u0275elementStart(35,"mat-icon",18),r.\u0275\u0275text(36,"keyboard_voice"),r.\u0275\u0275elementEnd()()()()()()()(),r.\u0275\u0275elementStart(37,"mat-dialog-actions",19)(38,"button",20),r.\u0275\u0275text(39),r.\u0275\u0275pipe(40,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(41,"button",21),r.\u0275\u0275listener("click",function(){return p.submitVerification()}),r.\u0275\u0275text(42),r.\u0275\u0275pipe(43,"translate"),r.\u0275\u0275elementEnd()()()()),2&k&&(r.\u0275\u0275advance(8),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(9,11,"Send urgent message")," "),r.\u0275\u0275advance(6),r.\u0275\u0275property("formGroup",p.identityForm),r.\u0275\u0275advance(6),r.\u0275\u0275textInterpolate4(" ",null!=p.data&&null!=p.data.candidate_id&&p.data.candidate_id.civility&&"neutral"===(null==p.data||null==p.data.candidate_id?null:p.data.candidate_id.civility)?"":r.\u0275\u0275pipeBind1(21,13,null==p.data||null==p.data.candidate_id?null:p.data.candidate_id.civility)," ",null==p.data||null==p.data.candidate_id?null:p.data.candidate_id.first_name," ",r.\u0275\u0275pipeBind1(22,15,null==p.data||null==p.data.candidate_id?null:p.data.candidate_id.last_name)," ",null==p.data||null==p.data.intake_channel?null:p.data.intake_channel.program," "),r.\u0275\u0275advance(8),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(29,17,"Message")),r.\u0275\u0275advance(4),r.\u0275\u0275property("editor",p.Editor)("config",p.config),r.\u0275\u0275advance(7),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(40,19,"CANCEL")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(43,21,"Validate")," "))},dependencies:[J.Zt,J.Bh,t.lW,w.ZT,w.xY,w.H8,nt.Hw,_.\u0275NgNoValidate,_.NgControlStatus,_.NgControlStatusGroup,_.FormGroupDirective,_.FormControlName,K.u,Q.X$,V.gd],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}[_nghost-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-outline{color:#020202b0}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-infix{padding:0}[_nghost-%COMP%]  .ck-editor__editable_inline{min-height:120px!important;border:1px solid #b8b8b8}[_nghost-%COMP%]  .ckeditor .ck-content{min-height:120px!important}.bg-green[_ngcontent-%COMP%]{background:#6bec6b}.mic-style[_ngcontent-%COMP%]:hover{color:red}.btn-mic[_ngcontent-%COMP%]{position:relative;top:-115px;float:right}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-15px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}"]}),U})();var P=c(56709);let N=(()=>{class U{constructor(k,p,A,Y,q,$,it,lt){this.dialogRef=k,this.fb=p,this.translate=A,this.parseStringDatePipe=Y,this.acadJourneyService=q,this.financeService=$,this.data=it,this.dialog=lt,this.subs=new G.Y,this.isMainAddressSelected=!1,this.nationalitiesList=[],this.nationalList=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.currencyList=[],this.toFilterList=[{civility:"Mrs",value:" Mrs Anne CHAMBIER",key:"Anne CHAMBIER"},{civility:"Mr",value:"Mr Fabien CHAMBIER",key:"Fabien CHAMBIER"}],this.transactionList=["Down payment","Term 1","Term 2","Term 3","Term 4","Term 5","Term 6","Term 7","Term 8"],this.dataFinanceList=[],this.termsList=[],this.dataUser=[]}ngOnInit(){console.log("_data ",this.data),this.today=new Date,this.iniVerificationForm(),this.subs.sink=this.acadJourneyService.getCurrency().subscribe(p=>{this.currencyList=p},p=>{p&&p.message&&p.message.includes("Network error: Http failure response for")?I().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):I().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.data.terms&&this.data.terms.length&&(this.data.terms.forEach((p,A)=>{p.term=A+1}),this.termsList=this.data.terms.filter(p=>!1===p.is_term_paid||p.term_amount!==p.term_pay_amount),this.termsList=this.termsList.sort((p,A)=>i.utc(p.term_payment_deferment).diff(i.utc(A.term_payment_deferment))),console.log(this.termsList));const k={civility:this.data.candidate_id.civility,email:this.data.candidate_id.email,last_name:this.data.candidate_id.last_name,first_name:this.data.candidate_id.first_name,value:("neutral"!==this.data.candidate_id.civility?this.translate.instant(this.data.candidate_id.civility)+" ":"")+this.data.candidate_id.first_name+" "+this.data.candidate_id.last_name};this.data&&this.data.financial_supports&&this.data.financial_supports.length&&(this.dataFinanceList=this.data.financial_supports.map(p=>({civility:p.civility,email:p.email,last_name:p.family_name,first_name:p.name,value:("neutral"!==p.civility?this.translate.instant(p.civility)+" ":"")+p.name+" "+p.family_name})),this.dataFinanceList.push(k))}iniVerificationForm(){this.identityForm=this.fb.group({payment_method:[null],amount:[null],who:[null],transaction:[null],credit:[!1],transfer:[!1],cheque:[!1],currency:["EUR"],date:[this.today,_.Validators.required],reference:[null,_.Validators.required],note:[null,_.Validators.required]})}checkPayment(k){const p=this.identityForm.get("credit").value,A=this.identityForm.get("transfer").value,Y=this.identityForm.get("cheque").value;if(!p&&!A&&!Y)return this.identityForm.get("payment_method").setValue(null),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!1),void this.identityForm.get("cheque").setValue(!1);"credit"===k?(this.identityForm.get("payment_method").setValue("bank"),this.identityForm.get("credit").setValue(!0),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!1)):"transfer"===k?(this.identityForm.get("payment_method").setValue("transfer"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!0),this.identityForm.get("cheque").setValue(!1)):"cheque"===k&&(this.identityForm.get("payment_method").setValue("check"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!0))}submitVerification(){this.subs.sink=this.dialog.open(h,{disableClose:!0,width:"750px",minHeight:"100px",data:this.data}).afterClosed().subscribe(k=>{k&&this.dialogRef.close(!0)})}closeDialog(){this.dialogRef.close()}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}}return U.\u0275fac=function(k){return new(k||U)(r.\u0275\u0275directiveInject(w.so),r.\u0275\u0275directiveInject(_.UntypedFormBuilder),r.\u0275\u0275directiveInject(Q.sK),r.\u0275\u0275directiveInject(H.n),r.\u0275\u0275directiveInject(e.g),r.\u0275\u0275directiveInject(at.N),r.\u0275\u0275directiveInject(w.WI),r.\u0275\u0275directiveInject(w.uw))},U.\u0275cmp=r.\u0275\u0275defineComponent({type:U,selectors:[["ms-block-students-dialog"]],features:[r.\u0275\u0275ProvidersFeature([H.n])],decls:47,vars:22,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],["data-cy","dialog-icon",2,"vertical-align","middle"],[1,"p-col-10","acad-title"],["data-cy","dialog-title",1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1","data-cy","button-close-dialog",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding"],[1,"p-grid","web-card",2,"padding-top","7px"],["formControlName","cheque","data-cy","checkbox-no-blockage",2,"min-width","100px",3,"change"],["formControlName","transfer","data-cy","block-partially",2,"min-width","100px",3,"change"],["formControlName","credit","data-cy","checkbox-fully-block",2,"min-width","100px",3,"change"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close","","data-cy","button-cancel"],["mat-raised-button","","color","primary","data-cy","button-send-urgent-message",3,"click"]],template:function(k,p){1&k&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),r.\u0275\u0275text(5,"edit"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(6,"div",5)(7,"h3",6),r.\u0275\u0275text(8),r.\u0275\u0275pipe(9,"translate"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(10,"div",7)(11,"button",8)(12,"mat-icon"),r.\u0275\u0275text(13,"close"),r.\u0275\u0275elementEnd()()()()()(),r.\u0275\u0275elementStart(14,"form",9)(15,"div",10)(16,"mat-dialog-content")(17,"div",2)(18,"div",11)(19,"h5"),r.\u0275\u0275text(20),r.\u0275\u0275pipe(21,"translate"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(22,"div",2)(23,"div",11)(24,"div",2)(25,"div",11)(26,"div",12)(27,"mat-checkbox",13),r.\u0275\u0275listener("change",function(){return p.checkPayment("cheque")}),r.\u0275\u0275text(28),r.\u0275\u0275pipe(29,"translate"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(30,"div",11)(31,"div",12)(32,"mat-checkbox",14),r.\u0275\u0275listener("change",function(){return p.checkPayment("transfer")}),r.\u0275\u0275text(33),r.\u0275\u0275pipe(34,"translate"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(35,"div",11)(36,"div",12)(37,"mat-checkbox",15),r.\u0275\u0275listener("change",function(){return p.checkPayment("credit")}),r.\u0275\u0275text(38),r.\u0275\u0275pipe(39,"translate"),r.\u0275\u0275elementEnd()()()()()()(),r.\u0275\u0275elementStart(40,"mat-dialog-actions",16)(41,"button",17),r.\u0275\u0275text(42),r.\u0275\u0275pipe(43,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(44,"button",18),r.\u0275\u0275listener("click",function(){return p.submitVerification()}),r.\u0275\u0275text(45),r.\u0275\u0275pipe(46,"translate"),r.\u0275\u0275elementEnd()()()()),2&k&&(r.\u0275\u0275advance(8),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(9,8,"Bloc sutdent")," "),r.\u0275\u0275advance(6),r.\u0275\u0275property("formGroup",p.identityForm),r.\u0275\u0275advance(6),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(21,10,"Selec the type of blockage for this student")),r.\u0275\u0275advance(8),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(29,12,"No Blockage")),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(34,14,"Block partially (Can only see his financial table)")),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(39,16,"Fully block")),r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(43,18,"CANCEL")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(46,20,"Send urgent message")," "))},dependencies:[J.Zt,J.Bh,t.lW,P.oG,w.ZT,w.xY,w.H8,nt.Hw,_.\u0275NgNoValidate,_.NgControlStatus,_.NgControlStatusGroup,_.FormGroupDirective,_.FormControlName,Q.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.mat-dialog-content[_ngcontent-%COMP%]{overflow:visible}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-15px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}"]}),U})()},10995:(mt,X,c)=>{c.d(X,{p:()=>K});var _=c(24006),w=c(65938),H=c(10830),G=c(68745),R=c(35226),I=c.n(R),i=c(94650),E=c(89383),B=c(95321),r=c(610),Q=c(73555),e=c(4859),at=c(97392),S=c(24784),Z=c(36895);const J=function(V){return{"card-selected":V}};function t(V,M){if(1&V){const h=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",2)(1,"div",12)(2,"div",23),i.\u0275\u0275listener("click",function(){const U=i.\u0275\u0275restoreView(h).index,j=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(j.selectedWhoCall("parent",U))}),i.\u0275\u0275elementStart(3,"div",14),i.\u0275\u0275element(4,"mat-icon",24),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(5,"div",16)(6,"h5",25),i.\u0275\u0275text(7),i.\u0275\u0275pipe(8,"translate"),i.\u0275\u0275pipe(9,"uppercase"),i.\u0275\u0275pipe(10,"translate"),i.\u0275\u0275elementEnd()()()()()}if(2&V){const h=M.$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(11,J,h.status)),i.\u0275\u0275advance(5),i.\u0275\u0275textInterpolate4(" ",i.\u0275\u0275pipeBind1(8,5,null==h?null:h.civility)," ",null==h?null:h.first_name," ",i.\u0275\u0275pipeBind1(9,7,null==h?null:h.last_name)," ","("+i.\u0275\u0275pipeBind1(10,9,"CARDDETAIL.RELATION."+(null==h?null:h.relation))+")"," ")}}function nt(V,M){if(1&V&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275template(1,t,11,13,"div",22),i.\u0275\u0275elementEnd()),2&V){const h=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",h.dataFinanceList)}}let K=(()=>{class V{constructor(h,P,N,U,j,k,p){this.dialogRef=h,this.fb=P,this.translate=N,this.parseStringDatePipe=U,this.acadJourneyService=j,this.data=k,this.router=p,this.subs=new G.Y,this.isMainAddressSelected=!1,this.isStudentSelected=!1,this.isParentSelected=!1,this.isUncleSelected=!1,this.nationalitiesList=[],this.nationalList=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.currencyList=[],this.toFilterList=[{value:"Student",key:"Student"},{value:"Finance Support",key:"Finance Support"}],this.dataFinanceList=[]}ngOnInit(){this.today=new Date,this.iniVerificationForm(),this.subs.sink=this.acadJourneyService.getCurrency().subscribe(h=>{this.currencyList=h},h=>{h&&h.message&&h.message.includes("Network error: Http failure response for")?I().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):I().fire({type:"info",title:this.translate.instant("SORRY"),text:h&&h.message?this.translate.instant(h.message.replaceAll("GraphQL error: ","")):h,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),console.log(this.data),this.data&&this.data.financial_supports&&this.data.financial_supports.length&&(this.dataFinanceList=this.data.financial_supports.map(h=>({civility:h.civility,email:h.email,last_name:h.family_name,first_name:h.name,relation:h.relation,status:!1})))}iniVerificationForm(){this.identityForm=this.fb.group({civility:[null,_.Validators.required],from:[null,_.Validators.required],to:[null,_.Validators.required],amount:[null],method:[null],currency:["EUR"],date_of_birth:[null,_.Validators.required],reference:[null,_.Validators.required],note:[null,_.Validators.required]})}submitVerification(){let h=[];this.isStudentSelected?h.push(this.userSelected):h=this.dataFinanceList.filter(P=>!0===P.status),I().fire({type:"info",title:this.translate.instant("INTERNSHIP_S3.TITLE"),html:this.translate.instant("INTERNSHIP_S3.TEXT",{candidateName:("neutral"!==h[0].civility?this.translate.instant(h[0].civility)+" ":"")+h[0].first_name+" "+h[0].last_name}),showCancelButton:!0,allowEscapeKey:!0,allowOutsideClick:!1,reverseButtons:!0,confirmButtonText:this.translate.instant("INTERNSHIP_S3.BUTTON_1"),cancelButtonText:this.translate.instant("INTERNSHIP_S3.BUTTON_2"),onOpen:P=>{P.setAttribute("data-cy","swal-internship-s3")}}).then(P=>{P.value&&I().fire({type:"success",title:this.translate.instant("INTERNSHIP_S4.MESSAGE"),html:this.translate.instant("INTERNSHIP_S4.TEXT",{candidateName:("neutral"!==h[0].civility?this.translate.instant(h[0].civility)+" ":"")+h[0].first_name+" "+h[0].last_name}),allowOutsideClick:!1,confirmButtonText:this.translate.instant("INTERNSHIP_S4.BUTTON"),onOpen:N=>{N.setAttribute("data-cy","swal-internship-s3")}}).then(N=>{this.dialogRef.close(!0);const j=this.router.createUrlTree(["candidate-file"],{queryParams:{selectedCandidate:this.data.candidate_id._id,candidate_name:this.data.candidate_id.last_name,tab:"Commentaries"}});window.open(j.toString(),"_blank")})})}closeDialog(){this.dialogRef.close()}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}selectedWhoCall(h,P){"student"===h?(this.isStudentSelected=!0,this.isParentSelected=!1,this.userSelected=P,this.dataFinanceList&&this.dataFinanceList.length&&this.dataFinanceList.forEach(N=>{N.status=!1})):"parent"===h&&(this.dataFinanceList&&this.dataFinanceList.length&&this.dataFinanceList.forEach(N=>{N.status=!1}),this.dataFinanceList[P].status=!this.dataFinanceList[P].status,this.isStudentSelected=!1,this.isParentSelected=!0)}}return V.\u0275fac=function(h){return new(h||V)(i.\u0275\u0275directiveInject(w.so),i.\u0275\u0275directiveInject(_.UntypedFormBuilder),i.\u0275\u0275directiveInject(E.sK),i.\u0275\u0275directiveInject(H.n),i.\u0275\u0275directiveInject(B.g),i.\u0275\u0275directiveInject(w.WI),i.\u0275\u0275directiveInject(r.F0))},V.\u0275cmp=i.\u0275\u0275defineComponent({type:V,selectors:[["ms-internship-call-dialog"]],features:[i.\u0275\u0275ProvidersFeature([H.n])],decls:40,vars:25,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],["svgIcon","phone-forward","data-cy","dialog-icon",2,"vertical-align","middle"],[1,"p-col-10","acad-title"],["data-cy","dialog-icon",1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1","data-cy","button-close-dialog",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding","header-who"],[1,"p-col-12","no-padding",2,"text-align","center"],["data-cy","card-candidate",1,"card",3,"ngClass","click"],[1,"icon-who","no-padding"],["data-cy","candidate-icon",2,"vertical-align","middle"],[1,"name-who"],["data-cy","candidate-name",1,"dialogTitles"],[4,"ngIf"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close","","data-cy","button-cancel"],["mat-raised-button","","color","primary","data-cy","button-validate",3,"disabled","click"],["class","p-grid",4,"ngFor","ngForOf"],["data-cy","card-financial-support",1,"card",3,"ngClass","click"],["svgIcon","account-heart","data-cy","financial-support-icon",2,"vertical-align","middle"],["data-cy","financial-support-name",1,"dialogTitles"]],template:function(h,P){1&h&&(i.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),i.\u0275\u0275element(4,"mat-icon",4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(5,"div",5)(6,"h3",6),i.\u0275\u0275text(7),i.\u0275\u0275pipe(8,"translate"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(9,"div",7)(10,"button",8)(11,"mat-icon"),i.\u0275\u0275text(12,"close"),i.\u0275\u0275elementEnd()()()()()(),i.\u0275\u0275elementStart(13,"form",9)(14,"div",10)(15,"mat-dialog-content")(16,"div",2)(17,"div",11)(18,"h4"),i.\u0275\u0275text(19),i.\u0275\u0275pipe(20,"translate"),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275elementStart(21,"div",2)(22,"div",12)(23,"div",13),i.\u0275\u0275listener("click",function(){return P.selectedWhoCall("student",null==P.data?null:P.data.candidate_id)}),i.\u0275\u0275elementStart(24,"div",14)(25,"mat-icon",15),i.\u0275\u0275text(26,"school"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(27,"div",16)(28,"h5",17),i.\u0275\u0275text(29),i.\u0275\u0275pipe(30,"translate"),i.\u0275\u0275pipe(31,"uppercase"),i.\u0275\u0275elementEnd()()()()(),i.\u0275\u0275template(32,nt,2,1,"div",18),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(33,"mat-dialog-actions",19)(34,"button",20),i.\u0275\u0275text(35),i.\u0275\u0275pipe(36,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(37,"button",21),i.\u0275\u0275listener("click",function(){return P.submitVerification()}),i.\u0275\u0275text(38),i.\u0275\u0275pipe(39,"translate"),i.\u0275\u0275elementEnd()()()()),2&h&&(i.\u0275\u0275advance(7),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(8,11,"Call")," "),i.\u0275\u0275advance(6),i.\u0275\u0275property("formGroup",P.identityForm),i.\u0275\u0275advance(6),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(20,13,"Who do you want to call?")),i.\u0275\u0275advance(4),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(23,J,P.isStudentSelected)),i.\u0275\u0275advance(6),i.\u0275\u0275textInterpolate3(" ",null!=P.data&&null!=P.data.candidate_id&&P.data.candidate_id.civility&&"neutral"===(null==P.data||null==P.data.candidate_id?null:P.data.candidate_id.civility)?"":i.\u0275\u0275pipeBind1(30,15,null==P.data||null==P.data.candidate_id?null:P.data.candidate_id.civility)," ",null==P.data||null==P.data.candidate_id?null:P.data.candidate_id.first_name," ",i.\u0275\u0275pipeBind1(31,17,null==P.data||null==P.data.candidate_id?null:P.data.candidate_id.last_name)," "),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",P.dataFinanceList.length>0),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(36,19,"CANCEL")),i.\u0275\u0275advance(2),i.\u0275\u0275property("disabled",!P.isStudentSelected&&!P.isParentSelected&&!P.isUncleSelected),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(39,21,"Validate")," "))},dependencies:[Q.Zt,Q.Bh,e.lW,w.ZT,w.xY,w.H8,at.Hw,_.\u0275NgNoValidate,_.NgControlStatusGroup,_.FormGroupDirective,S.oO,Z.mk,Z.sg,Z.O5,E.X$,Z.gd],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-15px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}.header-who[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.icon-who[_ngcontent-%COMP%]{width:30px;float:left;padding-top:0!important}.name-who[_ngcontent-%COMP%]{display:inline-block;text-align:center;margin-right:0!important;width:240px}.card-selected[_ngcontent-%COMP%]{background-color:#fdd835}.card[_ngcontent-%COMP%]{width:340px;padding-bottom:3px!important;padding:10px;vertical-align:middle;border:1px solid #252525;border-radius:4px;text-align:center;align-self:center;display:inline-block;margin-top:10px;cursor:pointer}"]}),V})()},51978:(mt,X,c)=>{c.d(X,{V:()=>nt});var _=c(24006),w=c(65938),H=c(10830),G=c(68745),R=c(35226),I=c.n(R),i=c(94650),E=c(89383),B=c(95321),r=c(73555),Q=c(4859),e=c(97392),at=c(24784),S=c(36895);const Z=function(K){return{"card-selected":K}};function J(K,V){if(1&K){const M=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",2)(1,"div",12)(2,"div",23),i.\u0275\u0275listener("click",function(){const P=i.\u0275\u0275restoreView(M),N=P.$implicit,U=P.index,j=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(j.selectedWhoCallParent(N,U))}),i.\u0275\u0275elementStart(3,"div",14),i.\u0275\u0275element(4,"mat-icon",24),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(5,"div",16)(6,"h5",25),i.\u0275\u0275text(7),i.\u0275\u0275pipe(8,"translate"),i.\u0275\u0275pipe(9,"uppercase"),i.\u0275\u0275pipe(10,"translate"),i.\u0275\u0275elementEnd()()()()()}if(2&K){const M=V.$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(11,Z,M.status)),i.\u0275\u0275advance(5),i.\u0275\u0275textInterpolate4(" ",null!=M&&M.civility&&"neutral"===(null==M?null:M.civility)?"":i.\u0275\u0275pipeBind1(8,5,null==M?null:M.civility)," ",null==M?null:M.first_name," ",i.\u0275\u0275pipeBind1(9,7,null==M?null:M.last_name)," ","("+i.\u0275\u0275pipeBind1(10,9,"CARDDETAIL.RELATION."+(null==M?null:M.relation))+")"," ")}}function t(K,V){if(1&K&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275template(1,J,11,13,"div",22),i.\u0275\u0275elementEnd()),2&K){const M=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",M.dataFinanceList)}}let nt=(()=>{class K{constructor(M,h,P,N,U,j){this.dialogRef=M,this.fb=h,this.translate=P,this.parseStringDatePipe=N,this.acadJourneyService=U,this.data=j,this.subs=new G.Y,this.isMainAddressSelected=!1,this.isStudentSelected=!1,this.isParentSelected=!1,this.isUncleSelected=!1,this.nationalitiesList=[],this.nationalList=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.currencyList=[],this.toFilterList=[{value:"Student",key:"Student"},{value:"Finance Support",key:"Finance Support"}],this.dataFinanceList=[]}ngOnInit(){this.today=new Date,this.iniVerificationForm(),this.subs.sink=this.acadJourneyService.getCurrency().subscribe(M=>{this.currencyList=M},M=>{M&&M.message&&M.message.includes("Network error: Http failure response for")?I().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):I().fire({type:"info",title:this.translate.instant("SORRY"),text:M&&M.message?this.translate.instant(M.message.replaceAll("GraphQL error: ","")):M,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.data&&this.data.financial_supports&&this.data.financial_supports.length&&(this.dataFinanceList=this.data.financial_supports.map(M=>({civility:M.civility,email:M.email,last_name:M.family_name,first_name:M.name,relation:M.relation,status:!1})))}iniVerificationForm(){this.identityForm=this.fb.group({civility:[null,_.Validators.required],from:[null,_.Validators.required],to:[null,_.Validators.required],amount:[null],method:[null],currency:["EUR"],date_of_birth:[null,_.Validators.required],reference:[null,_.Validators.required],note:[null,_.Validators.required]})}submitVerification(){const M=this.dataFinanceList.filter(h=>!0===h.status);this.userSelected&&M.push(this.userSelected),M&&M.length&&M.forEach(h=>{const N=this.translate.instant("whatsapp message internship",{name:h.first_name});console.log("whatsAppText ",N),window.open("https://api.whatsapp.com/send?phone=+6593722206&text="+N,"_blank")}),this.dialogRef.close(!0)}closeDialog(){this.dialogRef.close()}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}selectedWhoCall(M){this.isStudentSelected=!this.isStudentSelected,this.userSelected=M}selectedWhoCallParent(M,h){this.dataFinanceList[h].status=!this.dataFinanceList[h].status;const P=this.dataFinanceList.filter(N=>!0===N.status);this.isParentSelected=!(!P||!P.length)}selectedWhoCallUncle(M){this.isUncleSelected=!this.isUncleSelected}}return K.\u0275fac=function(M){return new(M||K)(i.\u0275\u0275directiveInject(w.so),i.\u0275\u0275directiveInject(_.UntypedFormBuilder),i.\u0275\u0275directiveInject(E.sK),i.\u0275\u0275directiveInject(H.n),i.\u0275\u0275directiveInject(B.g),i.\u0275\u0275directiveInject(w.WI))},K.\u0275cmp=i.\u0275\u0275defineComponent({type:K,selectors:[["ms-internship-whatsapp-dialog"]],features:[i.\u0275\u0275ProvidersFeature([H.n])],decls:40,vars:25,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],["svgIcon","whatsapp","data-cy","dialog-icon",2,"vertical-align","middle"],[1,"p-col-10","acad-title"],["data-cy","dialog-title",1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1","data-cy","button-close-dialog",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding","header-who"],[1,"p-col-12","no-padding",2,"text-align","center"],["data-cy","card-candidate",1,"card",3,"ngClass","click"],[1,"icon-who","no-padding"],["data-cy","candidate-icon",2,"vertical-align","middle"],[1,"name-who"],["data-cy","candidate-name",1,"dialogTitles"],[4,"ngIf"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close","","data-cy","button-cancel"],["mat-raised-button","","color","primary","data-cy","button-validate",3,"disabled","click"],["class","p-grid",4,"ngFor","ngForOf"],["data-cy","card-financial-support",1,"card",3,"ngClass","click"],["svgIcon","account-heart","data-cy","financial-support-icon",2,"vertical-align","middle"],["data-cy","financial-support-name",1,"dialogTitles"]],template:function(M,h){1&M&&(i.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),i.\u0275\u0275element(4,"mat-icon",4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(5,"div",5)(6,"h3",6),i.\u0275\u0275text(7),i.\u0275\u0275pipe(8,"translate"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(9,"div",7)(10,"button",8)(11,"mat-icon"),i.\u0275\u0275text(12,"close"),i.\u0275\u0275elementEnd()()()()()(),i.\u0275\u0275elementStart(13,"form",9)(14,"div",10)(15,"mat-dialog-content")(16,"div",2)(17,"div",11)(18,"h4"),i.\u0275\u0275text(19),i.\u0275\u0275pipe(20,"translate"),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275elementStart(21,"div",2)(22,"div",12)(23,"div",13),i.\u0275\u0275listener("click",function(){return h.selectedWhoCall(null==h.data?null:h.data.candidate_id)}),i.\u0275\u0275elementStart(24,"div",14)(25,"mat-icon",15),i.\u0275\u0275text(26,"school"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(27,"div",16)(28,"h5",17),i.\u0275\u0275text(29),i.\u0275\u0275pipe(30,"translate"),i.\u0275\u0275pipe(31,"uppercase"),i.\u0275\u0275elementEnd()()()()(),i.\u0275\u0275template(32,t,2,1,"div",18),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(33,"mat-dialog-actions",19)(34,"button",20),i.\u0275\u0275text(35),i.\u0275\u0275pipe(36,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(37,"button",21),i.\u0275\u0275listener("click",function(){return h.submitVerification()}),i.\u0275\u0275text(38),i.\u0275\u0275pipe(39,"translate"),i.\u0275\u0275elementEnd()()()()),2&M&&(i.\u0275\u0275advance(7),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(8,11,"Whatsapp")," "),i.\u0275\u0275advance(6),i.\u0275\u0275property("formGroup",h.identityForm),i.\u0275\u0275advance(6),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(20,13,"Who do you want to Whatsapp?")),i.\u0275\u0275advance(4),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(23,Z,h.isStudentSelected)),i.\u0275\u0275advance(6),i.\u0275\u0275textInterpolate3(" ",null!=h.data&&null!=h.data.candidate_id&&h.data.candidate_id.civility&&"neutral"===(null==h.data||null==h.data.candidate_id?null:h.data.candidate_id.civility)?"":i.\u0275\u0275pipeBind1(30,15,null==h.data||null==h.data.candidate_id?null:h.data.candidate_id.civility)," ",null==h.data||null==h.data.candidate_id?null:h.data.candidate_id.first_name," ",i.\u0275\u0275pipeBind1(31,17,null==h.data||null==h.data.candidate_id?null:h.data.candidate_id.last_name)," "),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",h.dataFinanceList.length>0),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(36,19,"CANCEL")),i.\u0275\u0275advance(2),i.\u0275\u0275property("disabled",!h.isStudentSelected&&!h.isParentSelected),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(39,21,"Validate")," "))},dependencies:[r.Zt,r.Bh,Q.lW,w.ZT,w.xY,w.H8,e.Hw,_.\u0275NgNoValidate,_.NgControlStatusGroup,_.FormGroupDirective,at.oO,S.mk,S.sg,S.O5,E.X$,S.gd],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-15px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}.header-who[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.icon-who[_ngcontent-%COMP%]{width:30px;float:left;padding-top:0!important}.name-who[_ngcontent-%COMP%]{display:inline-block;text-align:center;margin-right:0!important;width:240px}.card-selected[_ngcontent-%COMP%]{background-color:#fdd835}.card[_ngcontent-%COMP%]{width:340px;padding-bottom:3px!important;padding:10px;vertical-align:middle;border:1px solid #252525;border-radius:4px;text-align:center;align-self:center;display:inline-block;margin-top:10px;cursor:pointer}"]}),K})()},59602:(mt,X,c)=>{c.d(X,{_:()=>Xt});var _=c(24006),w=c(65938),H=c(83515),G=c(10830),R=c(62416),I=c(62395),i=c(68745),E=c(35226),B=c.n(E),r=c(17489),e=c(9749),S=c(15439),J=c(86949),t=c(94650),nt=c(89383),K=c(95321),V=c(94442),M=c(52688),h=c(73555),P=c(4859),N=c(56709),U=c(99602),j=c(97392),k=c(59549),p=c(284),A=c(51572),Y=c(24784),q=c(36895),$=c(37204);const it=["editor"];function lt(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",50),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.depositValue," \u20ac ")}}function ct(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",51),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.depositValue," \u20ac ")}}const gt=function(s,x,n){return{"bg-orange":s,"bg-orange-pending":x,"bg-blue":n}};function ut(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",52),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction3(2,gt,n.isDepositPartial,n.isPending,"billed"===(null==n.data?null:n.data.deposit_status)&&!n.isPending)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.depositValue," \u20ac ")}}function ft(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",42),t.\u0275\u0275element(1,"div",43),t.\u0275\u0275elementStart(2,"div",44)(3,"div",45)(4,"div",46),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(7,lt,2,1,"div",47),t.\u0275\u0275template(8,ct,2,1,"div",48),t.\u0275\u0275template(9,ut,2,6,"div",49),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,4,"Down Payment")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isDepositDone&&n.isChargeBack),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isDepositDone&&!n.isChargeBack),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.isDepositDone&&!n.isChargeBack)}}function bt(s,x){if(1&s){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",73),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext().index,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.deleteTerm(m))}),t.\u0275\u0275elementEnd()}}function Ct(s,x){if(1&s){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",74),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext().index,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.unlockTerm(m))}),t.\u0275\u0275elementEnd()}}function yt(s,x){if(1&s){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",75),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext().index,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.lockTerm(m))}),t.\u0275\u0275elementEnd()}}function Mt(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",76),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.identityForm.get("terms").get(n.toString()).get("term_payment_deferment").get("date").value?a.translateDates(a.identityForm.get("terms").get(n.toString()).get("term_payment_deferment").get("date").value):a.translateDates(a.identityForm.get("terms").get(n.toString()).get("term_payment").get("date").value)," ")}}function Ot(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",76),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.identityForm.get("terms").get(n.toString()).get("term_payment_deferment").get("date").value||a.identityForm.get("terms").get(n.toString()).get("term_payment").get("date").value?a.identityForm.get("terms").get(n.toString()).get("term_payment_deferment").get("date").value?a.translateDates(a.identityForm.get("terms").get(n.toString()).get("term_payment_deferment").get("date").value):a.translateDates(a.identityForm.get("terms").get(n.toString()).get("term_payment").get("date").value):"-"," ")}}function Pt(s,x){if(1&s){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",77)(1,"mat-form-field",78)(2,"input",79),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275reference(5);return t.\u0275\u0275resetView(m.open())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"mat-datepicker-toggle",80)(4,"mat-datepicker",null,81),t.\u0275\u0275elementEnd()()}if(2&s){const n=t.\u0275\u0275reference(5),a=t.\u0275\u0275nextContext().index,m=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("min",m.today)("max",m.lastDate)("value",m.identityForm.get("terms").get(a.toString()).get("term_payment_deferment").get("date").value?m.identityForm.get("terms").get(a.toString()).get("term_payment_deferment").get("date").value:m.identityForm.get("terms").get(a.toString()).get("term_payment").get("date").value)("matDatepicker",n),t.\u0275\u0275advance(1),t.\u0275\u0275property("for",n)}}function vt(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",82),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind4(2,1,a.identityForm.get("terms").get(n.toString()).get("term_amount").value,"EURO","","0.2")," \u20ac ")}}function xt(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",83),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind4(2,1,a.identityForm.get("terms").get(n.toString()).get("term_amount").value,"EURO","","0.2")," \u20ac ")}}const kt=function(s){return{"bg-orange":s}};function Tt(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",84),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(7,kt,!0===a.identityForm.get("terms").get(n.toString()).get("is_partial").value&&"partially_paid"===a.identityForm.get("terms").get(n.toString()).get("term_status").value)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind4(2,2,a.identityForm.get("terms").get(n.toString()).get("term_amount").value,"EURO","","0.2")," \u20ac ")}}function v(s,x){1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"must contain number only")," "))}function W(s,x){1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Cant be empty")," "))}function o(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275template(1,v,3,3,"span",88),t.\u0275\u0275template(2,W,3,3,"span",88),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext(2).index,a=t.\u0275\u0275nextContext();let m,d;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(m=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:m.hasError("number"))&&(null==(m=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:m.touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=(d=a.identityForm.get("terms").get(n.toString()).get("term_amount"))&&d.value)&&(null==(d=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:d.touched))}}function g(s,x){if(1&s){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",85)(1,"mat-form-field",86)(2,"input",87),t.\u0275\u0275listener("keyup",function(m){t.\u0275\u0275restoreView(n);const d=t.\u0275\u0275nextContext().index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.keyUpBill(m,d.toString()))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,o,3,2,"mat-error",88),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span",89),t.\u0275\u0275text(5,"\u20ac"),t.\u0275\u0275elementEnd()()}if(2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.identityForm.get("terms").get(n.toString()).get("term_amount").errors)}}function b(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",90),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind4(2,1,a.identityForm.get("terms").get(n.toString()).get("term_amount").value,"EURO","","0.2")," \u20ac ")}}function f(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",91),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind4(2,1,a.identityForm.get("terms").get(n.toString()).get("term_amount").value,"EURO","","0.2")," \u20ac ")}}function F(s,x){1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"must contain number only")," "))}function L(s,x){1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Cant be empty")," "))}function u(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275template(1,F,3,3,"span",88),t.\u0275\u0275template(2,L,3,3,"span",88),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext(2).index,a=t.\u0275\u0275nextContext();let m,d;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(m=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:m.hasError("number"))&&(null==(m=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:m.touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=(d=a.identityForm.get("terms").get(n.toString()).get("term_amount"))&&d.value)&&(null==(d=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:d.touched))}}function dt(s,x){if(1&s){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",92)(1,"mat-form-field",86)(2,"input",87),t.\u0275\u0275listener("keyup",function(m){t.\u0275\u0275restoreView(n);const d=t.\u0275\u0275nextContext().index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.keyUpBill(m,d.toString()))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,u,3,2,"mat-error",88),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span",89),t.\u0275\u0275text(5,"\u20ac"),t.\u0275\u0275elementEnd()()}if(2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.identityForm.get("terms").get(n.toString()).get("term_amount").errors)}}function pt(s,x){1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"must contain number only")," "))}function Dt(s,x){1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Cant be empty")," "))}function Et(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275template(1,pt,3,3,"span",88),t.\u0275\u0275template(2,Dt,3,3,"span",88),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext(2).index,a=t.\u0275\u0275nextContext();let m,d;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(m=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:m.hasError("number"))&&(null==(m=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:m.touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=(d=a.identityForm.get("terms").get(n.toString()).get("term_amount"))&&d.value)&&(null==(d=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:d.touched))}}function wt(s,x){if(1&s){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",85)(1,"mat-form-field",86)(2,"input",87),t.\u0275\u0275listener("keyup",function(m){t.\u0275\u0275restoreView(n);const d=t.\u0275\u0275nextContext().index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.keyUpBill(m,d.toString()))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,Et,3,2,"mat-error",88),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span",89),t.\u0275\u0275text(5,"\u20ac"),t.\u0275\u0275elementEnd()()}if(2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.identityForm.get("terms").get(n.toString()).get("term_amount").errors)}}function St(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",93),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind4(2,1,a.identityForm.get("terms").get(n.toString()).get("term_amount").value,"EURO","","0.2")," \u20ac ")}}function Ft(s,x){1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"must contain number only")," "))}function It(s,x){1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Cant be empty")," "))}function Bt(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275template(1,Ft,3,3,"span",88),t.\u0275\u0275template(2,It,3,3,"span",88),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext(2).index,a=t.\u0275\u0275nextContext();let m,d;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(m=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:m.hasError("number"))&&(null==(m=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:m.touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=(d=a.identityForm.get("terms").get(n.toString()).get("term_amount"))&&d.value)&&(null==(d=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:d.touched))}}function At(s,x){if(1&s){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",94)(1,"mat-form-field",86)(2,"input",87),t.\u0275\u0275listener("keyup",function(m){t.\u0275\u0275restoreView(n);const d=t.\u0275\u0275nextContext().index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.keyUpBill(m,d.toString()))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,Bt,3,2,"mat-error",88),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span",89),t.\u0275\u0275text(5,"\u20ac"),t.\u0275\u0275elementEnd()()}if(2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.identityForm.get("terms").get(n.toString()).get("term_amount").errors)}}function Lt(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",82),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind4(2,1,a.identityForm.get("terms").get(n.toString()).get("term_amount").value,"EURO","","0.2")," \u20ac ")}}function Ut(s,x){1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"must contain number only")," "))}function Nt(s,x){1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Cant be empty")," "))}function Vt(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275template(1,Ut,3,3,"span",88),t.\u0275\u0275template(2,Nt,3,3,"span",88),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext(2).index,a=t.\u0275\u0275nextContext();let m,d;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(m=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:m.hasError("number"))&&(null==(m=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:m.touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=(d=a.identityForm.get("terms").get(n.toString()).get("term_amount"))&&d.value)&&(null==(d=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:d.touched))}}function Rt(s,x){if(1&s){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",95)(1,"mat-form-field",86)(2,"input",87),t.\u0275\u0275listener("keyup",function(m){t.\u0275\u0275restoreView(n);const d=t.\u0275\u0275nextContext().index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.keyUpBill(m,d.toString()))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,Vt,3,2,"mat-error",88),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span",89),t.\u0275\u0275text(5,"\u20ac"),t.\u0275\u0275elementEnd()()}if(2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.identityForm.get("terms").get(n.toString()).get("term_amount").errors)}}function Yt(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",96),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind4(2,1,a.identityForm.get("terms").get(n.toString()).get("term_amount").value,"EURO","","0.2")," \u20ac ")}}function Wt(s,x){1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"must contain number only")," "))}function Kt(s,x){1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Cant be empty")," "))}function Ht(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275template(1,Wt,3,3,"span",88),t.\u0275\u0275template(2,Kt,3,3,"span",88),t.\u0275\u0275elementEnd()),2&s){const n=t.\u0275\u0275nextContext(2).index,a=t.\u0275\u0275nextContext();let m,d;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(m=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:m.hasError("number"))&&(null==(m=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:m.touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=(d=a.identityForm.get("terms").get(n.toString()).get("term_amount"))&&d.value)&&(null==(d=a.identityForm.get("terms").get(n.toString()).get("term_amount"))?null:d.touched))}}function jt(s,x){if(1&s){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",97)(1,"mat-form-field",86)(2,"input",87),t.\u0275\u0275listener("keyup",function(m){t.\u0275\u0275restoreView(n);const d=t.\u0275\u0275nextContext().index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.keyUpBill(m,d.toString()))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,Ht,3,2,"mat-error",88),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span",89),t.\u0275\u0275text(5,"\u20ac"),t.\u0275\u0275elementEnd()()}if(2&s){const n=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.identityForm.get("terms").get(n.toString()).get("term_amount").errors)}}function zt(s,x){if(1&s&&(t.\u0275\u0275elementStart(0,"div",53)(1,"div",43),t.\u0275\u0275template(2,bt,1,0,"mat-icon",54),t.\u0275\u0275template(3,Ct,1,0,"mat-icon",55),t.\u0275\u0275template(4,yt,1,0,"mat-icon",56),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",57)(6,"div",58)(7,"div",46),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(10,Mt,2,1,"div",59),t.\u0275\u0275template(11,Ot,2,1,"div",59),t.\u0275\u0275template(12,Pt,6,5,"div",60),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(13,vt,3,6,"div",61),t.\u0275\u0275template(14,xt,3,6,"div",62),t.\u0275\u0275template(15,Tt,3,9,"div",63),t.\u0275\u0275template(16,g,6,1,"div",64),t.\u0275\u0275template(17,b,3,6,"div",65),t.\u0275\u0275template(18,f,3,6,"div",66),t.\u0275\u0275template(19,dt,6,1,"div",67),t.\u0275\u0275template(20,wt,6,1,"div",64),t.\u0275\u0275template(21,St,3,6,"div",68),t.\u0275\u0275template(22,At,6,1,"div",69),t.\u0275\u0275template(23,Lt,3,6,"div",61),t.\u0275\u0275template(24,Rt,6,1,"div",70),t.\u0275\u0275template(25,Yt,3,6,"div",71),t.\u0275\u0275template(26,jt,6,1,"div",72),t.\u0275\u0275elementEnd()),2&s){const n=x.index,a=t.\u0275\u0275nextContext();let m,d;t.\u0275\u0275property("formGroupName",n),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.identityForm.get("terms").get(n.toString()).get("is_term_paid").value&&!a.identityForm.get("terms").get(n.toString()).get("term_amount_pending").value&&!a.identityForm.get("terms").get(n.toString()).get("is_locked").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!a.identityForm.get("terms").get(n.toString()).get("is_term_paid").value||a.identityForm.get("terms").get(n.toString()).get("is_partial").value&&a.identityForm.get("terms").get(n.toString()).get("is_term_paid").value)&&!a.identityForm.get("terms").get(n.toString()).get("term_amount_pending").value&&a.identityForm.get("terms").get(n.toString()).get("is_locked").value&&a.isCanEditTerm(n)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!a.identityForm.get("terms").get(n.toString()).get("is_term_paid").value||a.identityForm.get("terms").get(n.toString()).get("is_partial").value&&a.identityForm.get("terms").get(n.toString()).get("is_term_paid").value)&&!a.identityForm.get("terms").get(n.toString()).get("term_amount_pending").value&&!a.identityForm.get("terms").get(n.toString()).get("is_locked").value),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(9,23,"Term")," ",null==(m=a.identityForm.get("terms").get(n.toString()))||null==(d=m.get("terms_index_display"))?null:d.value,""),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.identityForm.get("terms").get(n.toString()).get("is_partial").value&&a.identityForm.get("terms").get(n.toString()).get("is_term_paid").value&&(a.identityForm.get("terms").get(n.toString()).get("term_amount").value===a.identityForm.get("terms").get(n.toString()).get("term_pay_amount").value||"chargeback"===a.identityForm.get("terms").get(n.toString()).get("term_status").value||"paid"===a.identityForm.get("terms").get(n.toString()).get("term_status").value)&&!a.identityForm.get("terms").get(n.toString()).get("is_locked").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("terms").get(n.toString()).get("is_locked").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("terms").get(n.toString()).get("term_pay_amount").value&&a.identityForm.get("terms").get(n.toString()).get("term_amount").value!==a.identityForm.get("terms").get(n.toString()).get("term_pay_amount").value&&!a.identityForm.get("terms").get(n.toString()).get("is_locked").value||!a.identityForm.get("terms").get(n.toString()).get("term_pay_amount").value&&!1===a.identityForm.get("terms").get(n.toString()).get("is_term_paid").value&&!a.identityForm.get("terms").get(n.toString()).get("is_locked").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!a.identityForm.get("terms").get(n.toString()).get("is_locked").value||a.identityForm.get("terms").get(n.toString()).get("is_locked").value)&&("paid"===a.identityForm.get("terms").get(n.toString()).get("term_status").value||"chargeback"===a.identityForm.get("terms").get(n.toString()).get("term_status").value)&&a.identityForm.get("terms").get(n.toString()).get("term_amount_chargeback").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!a.identityForm.get("terms").get(n.toString()).get("is_locked").value||a.identityForm.get("terms").get(n.toString()).get("is_locked").value)&&"paid"===a.identityForm.get("terms").get(n.toString()).get("term_status").value&&!a.identityForm.get("terms").get(n.toString()).get("term_amount_chargeback").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("terms").get(n.toString()).get("is_locked").value&&"partially_paid"===a.identityForm.get("terms").get(n.toString()).get("term_status").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!0===a.identityForm.get("terms").get(n.toString()).get("is_partial").value&&!a.identityForm.get("terms").get(n.toString()).get("is_locked").value&&"partially_paid"===a.identityForm.get("terms").get(n.toString()).get("term_status").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("terms").get(n.toString()).get("is_locked").value&&"billed"===a.identityForm.get("terms").get(n.toString()).get("term_status").value&&a.identityForm.get("terms").get(n.toString()).get("term_amount_pending").value>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("terms").get(n.toString()).get("is_locked").value&&"billed"===a.identityForm.get("terms").get(n.toString()).get("term_status").value&&a.identityForm.get("terms").get(n.toString()).get("term_amount_pending").value<=0&&!a.identityForm.get("terms").get(n.toString()).get("term_amount_chargeback").value&&!a.identityForm.get("terms").get(n.toString()).get("term_amount_not_authorised").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.identityForm.get("terms").get(n.toString()).get("is_locked").value&&"billed"===a.identityForm.get("terms").get(n.toString()).get("term_status").value&&a.identityForm.get("terms").get(n.toString()).get("term_amount_pending").value<=0&&!a.identityForm.get("terms").get(n.toString()).get("term_amount_chargeback").value&&!a.identityForm.get("terms").get(n.toString()).get("term_amount_not_authorised").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.identityForm.get("terms").get(n.toString()).get("is_locked").value&&"billed"===a.identityForm.get("terms").get(n.toString()).get("term_status").value&&a.identityForm.get("terms").get(n.toString()).get("term_amount_pending").value>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("terms").get(n.toString()).get("is_locked").value&&"billed"===a.identityForm.get("terms").get(n.toString()).get("term_status").value&&a.identityForm.get("terms").get(n.toString()).get("term_amount_not_authorised").value>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.identityForm.get("terms").get(n.toString()).get("is_locked").value&&"billed"===a.identityForm.get("terms").get(n.toString()).get("term_status").value&&a.identityForm.get("terms").get(n.toString()).get("term_amount_not_authorised").value>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("terms").get(n.toString()).get("is_locked").value&&"billed"===a.identityForm.get("terms").get(n.toString()).get("term_status").value&&a.identityForm.get("terms").get(n.toString()).get("term_amount_chargeback").value>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.identityForm.get("terms").get(n.toString()).get("is_locked").value&&"billed"===a.identityForm.get("terms").get(n.toString()).get("term_status").value&&a.identityForm.get("terms").get(n.toString()).get("term_amount_chargeback").value>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("terms").get(n.toString()).get("is_locked").value&&("not_billed"===a.identityForm.get("terms").get(n.toString()).get("term_status").value||null===a.identityForm.get("terms").get(n.toString()).get("term_status").value)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.identityForm.get("terms").get(n.toString()).get("is_locked").value&&("not_billed"===a.identityForm.get("terms").get(n.toString()).get("term_status").value||null===a.identityForm.get("terms").get(n.toString()).get("term_status").value))}}function Gt(s,x){if(1&s){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",98)(1,"button",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.addManualTerm())}),t.\u0275\u0275element(2,"mat-icon",100),t.\u0275\u0275elementEnd()()}if(2&s){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",n.checkManualTerm())}}function $t(s,x){1&s&&(t.\u0275\u0275elementStart(0,"div",101),t.\u0275\u0275element(1,"mat-progress-spinner",102),t.\u0275\u0275elementEnd())}let Xt=(()=>{class s{constructor(n,a,m,d,C,l,O,D,y,T,z,tt){this.dialogRef=n,this.fb=a,this.translate=m,this.parseStringDatePipe=d,this.parseLocalToUTCPipe=C,this.parseUTCToLocalPipe=l,this.acadJourneyService=O,this.financeService=D,this.data=y,this.dialog=T,this.cdr=z,this.authService=tt,this.subs=new i.Y,this.firstMonthUsed=!1,this.secondMonthUsed=!1,this.thirdMonthUsed=!1,this.fourthMonthUsed=!1,this.fiveMonthUsed=!1,this.sixMonthUsed=!1,this.seventMonthUsed=!1,this.eightMonthUsed=!1,this.fullyPaid=!1,this.isMainAddressSelected=!1,this.Editor=e,this.config={placeholder:this.translate.instant("Note"),height:"20rem",toolbar:["heading","|","fontsize","|","bold","italic","Underline","strikethrough","highlight","|","alignment","|","numberedList","bulletedList","|"]},this.nationalitiesList=[],this.nationalList=[],this.termlList=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.currencyList=[],this.termsList=[],this.tempTerms=[],this.toFilterList=[{civility:"Mrs",value:" Mrs Anne CHAMBIER",key:"Anne CHAMBIER"},{civility:"Mr",value:"Mr Fabien CHAMBIER",key:"Fabien CHAMBIER"}],this.depositValue=0,this.isDepositDone=!1,this.isChargeBack=!1,this.isDepositPartial=!1,this.isHaveDeposit=!1,this.isWaitingForResponse=!1,this.isPending=!1}ngOnInit(){this.today=new Date,this.firstMonth=this.parseStringDatePipe.transformStringToDate("31/10/2020"),this.secondMonth=this.parseStringDatePipe.transformStringToDate("30/11/2020"),this.thirdMonth=this.parseStringDatePipe.transformStringToDate("31/12/2020"),this.fourthMonth=this.parseStringDatePipe.transformStringToDate("31/01/2021"),this.fiveMonth=this.parseStringDatePipe.transformStringToDate("28/02/2021"),this.sixMonth=this.parseStringDatePipe.transformStringToDate("31/03/2021"),this.seventMonth=this.parseStringDatePipe.transformStringToDate("30/04/2021"),this.eightMonth=this.parseStringDatePipe.transformStringToDate("31/05/2021"),this.iniVerificationForm(),this.subs.sink=this.acadJourneyService.getCurrency().subscribe(a=>{this.currencyList=a});const n=r.cloneDeep(this.data.terms);this.termlList=n.filter(a=>0!==a.term_amount),this.patchValue(),this.firstForm=r.cloneDeep(this.identityForm.value)}isCanEditTerm(n){return"classic"===this.data?.student_type?.type_of_information||"not_billed"===this.identityForm.get("terms").get(n.toString()).get("term_status").value}isCanAddTerm(){return"classic"===this.data?.student_type?.type_of_information||this.payment?.value.some(n=>"not_billed"===n?.term_status)}patchValue(){if(this.data&&this.data.deposit&&this.data.deposit>0?(this.isHaveDeposit=!0,this.depositValue=this.data.deposit,(this.data?.deposit_pay_amount&&this.data?.deposit_pay_amount===this.data?.deposit||this.data?.is_deposit_completed)&&"chargeback"===this.data?.candidate_id?.payment?(this.isChargeBack=!0,this.isDepositDone=!0,this.isDepositPartial=!1):(this.data?.deposit_pay_amount&&this.data?.deposit_pay_amount===this.data?.deposit||this.data?.is_deposit_completed)&&"chargeback"!==this.data?.candidate_id?.payment?(this.isChargeBack=!1,this.isDepositDone=!0,this.isDepositPartial=!1):this.data.deposit_pay_amount&&this.data.deposit_pay_amount<this.data.deposit&&(this.isChargeBack=!1,this.isDepositPartial=!0,this.depositValue=this.data.deposit-this.data.deposit_pay_amount,this.isDepositDone=!1)):this.isHaveDeposit=!1,this.ramainingBill=this.data.total_amount-(this.data.amount_paid?parseFloat(this.data.amount_paid):0),console.log("cek term list",this.termlList),this.termlList&&this.termlList.length){this.termsList=this.termlList.filter(a=>0!==a.term_amount).sort((a,m)=>a.terms_index>m.terms_index?1:-1);const n=this.termlList.filter(a=>!1===a.is_term_paid||!0===a.is_partial||a.term_pay_amount&&a.term_pay_amount!==a.term_amount);if(this.termsList&&this.termsList.length){this.termsList.forEach(d=>{this.addPayment()});const a=r.cloneDeep(this.termlList);a.forEach((d,C)=>{if(d.term_pay_amount&&d.term_pay_amount!==d.term_amount&&(d.is_partial=!0),d.term_pay_date&&d.term_pay_date.date){const l=d.term_pay_date.time?d.term_pay_date.time:"15:59",O={date:this.parseUTCToLocalPipe.transformDate(d.term_pay_date.date,l),time:this.parseUTCToLocalPipe.transform(l)?this.parseUTCToLocalPipe.transform(l):this.parseUTCToLocalPipe.transform("15:59")};d.term_pay_date={date:"Invalid date"!==O.date?this.parseStringDatePipe.transformStringToDate(O.date):d.term_pay_date.date,time:O.time}}else d.term_pay_date={date:null,time:this.parseUTCToLocalPipe.transform("15:59")};if(d.term_payment_deferment&&d.term_payment_deferment.date){const l=d.term_payment_deferment.time?d.term_payment_deferment.time:"15:59",O={date:this.parseUTCToLocalPipe.transformDate(d.term_payment_deferment.date,l),time:this.parseUTCToLocalPipe.transform(l)?this.parseUTCToLocalPipe.transform(l):this.parseUTCToLocalPipe.transform("15:59")};d.term_payment_deferment={date:"Invalid date"!==O.date?this.parseStringDatePipe.transformStringToDate(O.date):d.term_payment_deferment.date,time:O.time}}else d.term_payment_deferment={date:null,time:this.parseUTCToLocalPipe.transform("15:59")};if(d.term_payment&&d.term_payment.date){const l=d.term_payment.time?d.term_payment.time:"15:59",O={date:this.parseUTCToLocalPipe.transformDate(d.term_payment.date,l),time:this.parseUTCToLocalPipe.transform(l)?this.parseUTCToLocalPipe.transform(l):this.parseUTCToLocalPipe.transform("15:59")};d.term_payment={date:"Invalid date"!==O.date?this.parseStringDatePipe.transformStringToDate(O.date):d.term_payment.date,time:O.time}}else d.term_payment={date:null,time:this.parseUTCToLocalPipe.transform("15:59")};d.term_must_pay=d.term_amount,d.is_term_paid&&d.is_partial&&(d.term_amount=d.term_amount-d.term_pay_amount),d.term_amount=Number.isInteger(d.term_amount)?d.term_amount:parseFloat(d.term_amount).toFixed(2),d.term_pay_amount=Number.isInteger(d.term_amount)?d.term_pay_amount:d.term_pay_amount?parseFloat(d.term_pay_amount).toFixed(2):0,n&&1===n.length&&a.length-1===C&&(d.is_locked=!0),d.term_status&&("billed"===d.term_status||"partially_paid"===d.term_status)&&(d.is_locked=!0)}),n&&n.length||(this.fullyPaid=!0);const m=this.mappingTermIndexDisplay(r.cloneDeep(a));this.data.terms=m,this.termsList=m,this.termlList=m,this.tempTerms=m,this.identityForm.get("terms").patchValue(m),this.checkDateIsUsed(),this.firstForm=r.cloneDeep(this.identityForm.value),console.log("cek form",this.identityForm.value)}}this.data&&this.data.payment_method&&this.checkPayment(this.data.payment_method),this.isPending=!(this.data?.is_deposit_completed&&this.data?.deposit||"sepa_pending"!==this.data?.candidate_id?.payment&&"pending"!==this.data?.candidate_id?.payment)}checkDateIsUsed(){this.firstMonthUsed=!1,this.secondMonthUsed=!1,this.thirdMonthUsed=!1,this.fourthMonthUsed=!1,this.fiveMonthUsed=!1,this.sixMonthUsed=!1,this.seventMonthUsed=!1,this.eightMonthUsed=!1,this.ninthMonthUsed=!1,this.tenthMonthUsed=!1,this.eleventhMonthUsed=!1,this.twelfthMonthUsed=!1;const n=this.tempTerms,a={january:S("01/01/2021","DD/MM/YYYY"),february:S("01/02/2021","DD/MM/YYYY"),march:S("01/03/2021","DD/MM/YYYY"),april:S("01/04/2021","DD/MM/YYYY"),may:S("01/05/2021","DD/MM/YYYY"),june:S("01/06/2021","DD/MM/YYYY"),july:S("01/07/2021","DD/MM/YYYY"),august:S("01/08/2021","DD/MM/YYYY"),september:S("01/09/2021","DD/MM/YYYY"),october:S("01/10/2021","DD/MM/YYYY"),november:S("01/11/2021","DD/MM/YYYY"),december:S("01/12/2021","DD/MM/YYYY")},m=a.january.format("M"),d=a.february.format("M"),C=a.march.format("M"),l=a.april.format("M"),O=a.may.format("M"),D=a.june.format("M"),y=a.july.format("M"),T=a.august.format("M"),z=a.september.format("M"),tt=a.october.format("M"),st=a.november.format("M"),ot=a.december.format("M");n.forEach((rt,_t,Jt)=>{let ht;ht=S(rt?.term_payment_deferment?.date?rt.term_payment_deferment.date:rt.term_payment.date,"DD/MM/YYYY"),_t===Jt.length-1&&(this.lastDate=ht.format("DD/MM/YYYY"));const et=ht.format("M");et===T&&(this.firstMonthUsed=!0),et===z&&(this.secondMonthUsed=!0),et===tt&&(this.thirdMonthUsed=!0),et===st&&(this.fourthMonthUsed=!0),et===ot&&(this.fiveMonthUsed=!0),et===m&&(this.sixMonthUsed=!0),et===d&&(this.seventMonthUsed=!0),et===C&&(this.eightMonthUsed=!0),et===l&&(this.ninthMonthUsed=!0),et===O&&(this.tenthMonthUsed=!0),et===D&&(this.eleventhMonthUsed=!0),et===y&&(this.twelfthMonthUsed=!0)})}patchValueManually(){const n=[],a=S(this.lastDate,"DD/MM/YYYY");this.payment.controls.forEach((d,C)=>{const l={terms_index:0,term_payment:{date:null,time:"15:59"},term_payment_deferment:{date:null,time:"15:59"},term_pay_date:{date:null,time:"15:59"},terms_index_display:null,reference_term_id:d?.get("reference_term_id")?.value,_id:""};l.terms_index=C+1,this.tempTerms&&this.tempTerms[C]&&this.tempTerms[C].term_payment&&this.tempTerms[C].term_payment.date?l.term_payment=this.tempTerms[C].term_payment:this.firstMonthUsed?this.secondMonthUsed?this.thirdMonthUsed?this.fourthMonthUsed?this.fiveMonthUsed?this.sixMonthUsed?this.seventMonthUsed?this.eightMonthUsed?this.ninthMonthUsed?this.tenthMonthUsed?this.eleventhMonthUsed?this.twelfthMonthUsed||(this.twelfthMonthUsed=!0,l.term_payment={date:this.parseStringDatePipe.transformStringToDate(a.add(1,"month").format("DD/MM/YYYY")),time:"15:59"}):(this.eleventhMonthUsed=!0,l.term_payment={date:this.parseStringDatePipe.transformStringToDate(a.add(1,"month").format("DD/MM/YYYY")),time:"15:59"}):(this.tenthMonthUsed=!0,l.term_payment={date:this.parseStringDatePipe.transformStringToDate(a.add(1,"month").format("DD/MM/YYYY")),time:"15:59"}):(this.ninthMonthUsed=!0,l.term_payment={date:this.parseStringDatePipe.transformStringToDate(a.add(1,"month").format("DD/MM/YYYY")),time:"15:59"}):(this.eightMonthUsed=!0,l.term_payment={date:this.parseStringDatePipe.transformStringToDate(a.add(1,"month").format("DD/MM/YYYY")),time:"15:59"}):(this.seventMonthUsed=!0,l.term_payment={date:this.parseStringDatePipe.transformStringToDate(a.add(1,"month").format("DD/MM/YYYY")),time:"15:59"}):(this.sixMonthUsed=!0,l.term_payment={date:this.parseStringDatePipe.transformStringToDate(a.add(1,"month").format("DD/MM/YYYY")),time:"15:59"}):(this.fiveMonthUsed=!0,l.term_payment={date:this.parseStringDatePipe.transformStringToDate(a.add(1,"month").format("DD/MM/YYYY")),time:"15:59"}):(this.fourthMonthUsed=!0,l.term_payment={date:this.parseStringDatePipe.transformStringToDate(a.add(1,"month").format("DD/MM/YYYY")),time:"15:59"}):(this.thirdMonthUsed=!0,l.term_payment={date:this.parseStringDatePipe.transformStringToDate(a.add(1,"month").format("DD/MM/YYYY")),time:"15:59"}):(this.secondMonthUsed=!0,l.term_payment={date:this.parseStringDatePipe.transformStringToDate(a.add(1,"month").format("DD/MM/YYYY")),time:"15:59"}):(this.firstMonthUsed=!0,l.term_payment={date:this.parseStringDatePipe.transformStringToDate(a.add(1,"month").format("DD/MM/YYYY")),time:"15:59"}),this.tempTerms&&this.tempTerms[C]&&this.tempTerms[C].term_payment_deferment&&this.tempTerms[C].term_payment_deferment.date&&(l.term_payment_deferment=this.data.terms[C].term_payment_deferment),this.tempTerms&&this.tempTerms[C]&&this.tempTerms[C].term_pay_date&&this.tempTerms[C].term_pay_date.date&&(l.term_pay_date=this.data.terms[C].term_pay_date),this.data.terms&&this.data.terms[C]&&this.data.terms[C]._id&&(l._id=this.data.terms[C]._id),n.push(l)});const m=this.mappingTermIndexDisplay(r.cloneDeep(n));this.tempTerms=m,this.identityForm.get("terms").patchValue(m)}isFullyPaid(n){let a=!1;return this.termsList[n].is_term_paid&&parseFloat(this.termsList[n].term_amount)===parseFloat(this.termsList[n].term_pay_amount)&&(a=!0),a}isPartialTerm(n){let a=!1;return this.termsList[n].is_partial&&parseFloat(this.termsList[n].term_amount)!==parseFloat(this.termsList[n].term_pay_amount)&&(a=!0),a}isNotPaid(n){let a=!1;return!this.termsList[n].is_partial&&!this.termsList[n].is_term_paid&&(a=!0),a}isPatialNotPaid(n){let a=!1;return(!this.termsList[n].is_term_paid||this.termsList[n].is_partial&&parseFloat(this.termsList[n].term_amount)!==parseFloat(this.termsList[n].term_pay_amount))&&(a=!0),a}formatCurrency(n){let a="";return n&&(a=parseInt(n).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$& "),a=a.toString().slice(0,-3)),a}translateDates(n){let a="-";return n&&(a=S(n,"DD/MM/YYYY").format("DD/MM/YYYY")),a}translateDate(n,a){if(n){const d=this.parseStringDatePipe.transformStringToDate(this.parseUTCToLocalPipe.transformDate(n,a||"15:59"));return S(d,"DD/MM/YYYY").format("DD/MM/YYYY")}return""}onReady(n){n.ui.getEditableElement().parentElement.insertBefore(n.ui.view.toolbar.element,n.ui.getEditableElement())}iniVerificationForm(){this.identityForm=this.fb.group({terms:this.fb.array([]),note:[null],payment_method:[null],cheque:[null],transfer:[null],credit:[null],bank_debit:[null],cash:[null]})}initPayment(){return this.fb.group({_id:[""],term_payment:this.fb.group({date:[null],time:["15:59"]}),term_payment_deferment:this.fb.group({date:[null],time:["15:59"]}),is_term_paid:[!1],is_locked:[!1],is_partial:[!1],is_regulation:[!1],term_amount:[null,[_.Validators.min(2),_.Validators.required,I.dN.number]],term_amount_pending:[0],term_amount_chargeback:[0],term_amount_not_authorised:[0],term_pay_amount:[0],terms_index:[0],term_pay_date:this.fb.group({date:[null],time:["15:59"]}),term_status:["not_billed"],reference_term_id:[null],terms_index_display:[null]})}addPayment(){this.payment.push(this.initPayment())}removePayment(n){this.payment.removeAt(n)}get payment(){return this.identityForm.get("terms")}recordNote(){this.dialog.open(J.h,{width:"800px",minHeight:"300px",panelClass:"candidate-note-record",disableClose:!0,data:""}).afterClosed().subscribe(n=>{const a=this.editor.editorInstance;if(n.trim()){const m=`${n}`,d=a.getData()+m;a.setData(d)}})}submitVerification(){const a=this.identityForm.get("terms").controls.find(m=>m.get("term_amount").hasError("min"));if(this.identityForm.invalid&&a)B().fire({type:"info",title:this.translate.instant("TERM_UPDATE_S1.TITLE"),html:this.translate.instant("TERM_UPDATE_S1.TEXT"),confirmButtonText:this.translate.instant("TERM_UPDATE_S1.BUTTON"),onOpen:m=>{m.setAttribute("data-cy","swal-term-update-s1")},allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1});else if(this.identityForm.invalid)B().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON"),onOpen:m=>{m.setAttribute("data-cy","swal-formsave-s1")}}),this.identityForm.markAllAsTouched();else{this.isWaitingForResponse=!0;const m=r.cloneDeep(this.data.terms);let d=!1;m?(m.forEach(C=>{C.term_amount_pending&&C.term_amount_pending>0&&(d=!0)}),d?B().fire({type:"info",title:this.translate.instant("CHANGE_TERM_S2.TITLE"),html:this.translate.instant("CHANGE_TERM_S2.TEXT"),confirmButtonText:this.translate.instant("CHANGE_TERM_S2.BUTTON1"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,onOpen:C=>{C.setAttribute("data-cy","swal-change-term-s2")}}).then(()=>{this.isWaitingForResponse=!1}):this.createPayload()):this.createPayload()}}keyUpBill(n,a){this.termsList=[];let m=[];const d=this.identityForm.get("terms").value;m=r.cloneDeep(d);const C=this.identityForm.get("terms").get(a.toString()).get("terms_index").value;let l=this.ramainingBill-this.identityForm.get("terms").get(a.toString()).get("term_amount").value-(this.isDepositDone||this.isDepositPartial?0:this.data.deposit);const O=r.cloneDeep(this.identityForm.get("terms").get(a.toString()).get("term_amount").value);if(m&&m.length){this.termsList=m.filter(y=>(!1===y.is_term_paid||!0===y.is_partial)&&!y.is_locked&&C!==y.terms_index);const D=m.filter(y=>y.is_locked&&(!1===y.is_term_paid||!0===y.is_partial));if(D&&D.length&&D.forEach(y=>{l-=y.term_amount}),this.termsList&&this.termsList.length){let y=(l/this.termsList.length).toString();y=parseFloat(y).toFixed(2),y=Math.round(parseInt(y)).toString(),m.forEach((T,z)=>{this.termsList.forEach((tt,st)=>{if(T.terms_index===tt.terms_index)if(this.termsList.length-1===st)if(parseInt(y)*this.termsList.length!==l){const ot=l-parseInt(y)*this.termsList.length,rt=(parseInt(y)+ot).toFixed(2);this.identityForm.get("terms").get(z.toString()).get("term_amount").setValue(rt),T.term_amount=rt}else this.identityForm.get("terms").get(z.toString()).get("term_amount").setValue(y),T.term_amount=y;else this.identityForm.get("terms").get(z.toString()).get("term_amount").setValue(y),T.term_amount=y})}),m[a].term_amount=O,this.identityForm.get("terms").get(a.toString()).get("term_amount").setValue(O)}}}populateTerm(n){const a=this.identityForm.get("terms").get(n.toString()).get("term_payment").get("date").value;return this.identityForm.get("terms").get(n.toString()).get("term_payment_deferment").get("date").setValue(a),a}createPayload(){const n=r.cloneDeep(this.identityForm.value);console.log("First Payload",r.cloneDeep(n)),n.terms.forEach((l,O)=>{if(l.term_payment.date&&(l.term_payment.time||(l.term_payment.time="15:59"),l.term_payment.date=this.parseLocalToUTCPipe.transformDate(S(l.term_payment.date).format("DD/MM/YYYY"),l.term_payment.time),l.term_payment.time=this.parseLocalToUTCPipe.transform(l.term_payment.time)?this.parseLocalToUTCPipe.transform(l.term_payment.time):"15:59"),l.term_payment_deferment.date&&(l.term_payment_deferment.time||(l.term_payment.time="15:59"),l.term_payment.date=this.parseLocalToUTCPipe.transformDate(S(l.term_payment_deferment.date).format("DD/MM/YYYY"),l.term_payment_deferment.time),l.term_payment.time=this.parseLocalToUTCPipe.transform(l.term_payment_deferment.time)?this.parseLocalToUTCPipe.transform(l.term_payment_deferment.time):"15:59",l.term_payment_deferment.date=this.parseLocalToUTCPipe.transformDate(S(l.term_payment_deferment.date).format("DD/MM/YYYY"),l.term_payment_deferment.time),l.term_payment_deferment.time=this.parseLocalToUTCPipe.transform(l.term_payment_deferment.time)?this.parseLocalToUTCPipe.transform(l.term_payment_deferment.time):"15:59"),l.term_pay_date.date&&(l.term_pay_date.time||(l.term_pay_date.time="15:59"),l.term_pay_date.date=this.parseLocalToUTCPipe.transformDate(S(l.term_pay_date.date).format("DD/MM/YYYY"),l.term_pay_date.time),l.term_pay_date.time=this.parseLocalToUTCPipe.transform(l.term_pay_date.time)?this.parseLocalToUTCPipe.transform(l.term_pay_date.time):"15:59"),l.is_partial&&l.term_pay_amount&&"0.00"!==l.term_pay_amount){const D=r.cloneDeep(this.termlList&&this.termlList[O]&&this.termlList[O].term_must_pay?this.termlList[O].term_must_pay:0),y=parseFloat(this.termlList[O].term_amount)-parseFloat(l.term_amount);l.term_amount?(y>=this.termlList[O].term_amount?l.term_amount=(y||0)+D:this.termlList[O].term_amount>y&&(l.term_amount=D-(y||0)),l.term_amount=parseFloat(l.term_amount),l.term_pay_amount=parseFloat(l.term_pay_amount)):(l.term_amount=parseFloat(l.term_pay_amount),l.is_partial=!1,l.term_pay_amount=parseFloat(l.term_pay_amount))}else l.term_amount=parseFloat(l.term_amount),l.term_pay_amount=parseFloat(l.term_pay_amount);l.percentage=parseFloat((l.term_amount/(this.data.total_amount-this.data.deposit)*100).toFixed(2)),delete l.terms_index,l._id||delete l._id,l?.reference_term_id||delete l.reference_term_id,delete l.terms_index_display}),this.data.profil_rate.split("-");const m=[];if(this.data.terms&&this.data.terms.length){this.data.terms.length!==n.terms.length&&(n.is_profil_rate_updated=!0);const l=this.data?.terms?.findIndex((O,D,y)=>"partially_paid"===O?.term_status&&y?.slice(D+1)?.every(T=>"partially_paid"!==T?.term_status));if(-1!==l){const O=n?.terms?.[l]?.term_payment?.date?n?.terms?.[l]?.term_payment?.date?.split("/")?.[1]:null,D=this.data?.terms?.[l]?.term_payment?.date?S(this.data?.terms?.[l]?.term_payment?.date).format("DD/MM/YYYY")?.split("/")?.[1]:null;if(this.data?.terms[l]?.term_amount!==n?.terms[l]?.term_amount-n?.terms[l]?.term_pay_amount||O&&D&&O!==D){const y={...this.data?.terms[l],is_locked:!1,is_term_paid:!0,is_partial:!1,term_amount:this.data?.terms[l]?.term_pay_amount,term_status:"paid",term_payment:{date:this.data?.terms[l]?.term_payment?.date?this.parseLocalToUTCPipe.transformDate(S(this.data?.terms[l]?.term_payment?.date).format("DD/MM/YYYY"),this.data?.terms[l]?.term_payment?.time):null,time:this.data?.terms[l]?.term_payment?.time?this.data?.terms[l]?.term_payment?.time:"15:59"},term_pay_date:{date:this.data?.terms[l]?.term_pay_date?.date?this.parseLocalToUTCPipe.transformDate(S(this.data?.terms[l]?.term_pay_date?.date).format("DD/MM/YYYY"),this.data?.terms[l]?.term_pay_date?.time):null,time:this.data?.terms[l]?.term_pay_date?.time?this.data?.terms[l]?.term_pay_date?.time:"15:59"}};delete y?.term_payment_deferment,delete y?.terms_index,delete y?.term_must_pay,m.push(y)}}}console.log("Data Payload",n,this.data),delete n.cheque,delete n.transfer,delete n.credit,delete n.bank_debit,delete n.cash;let d=!1;const C=n?.terms?.findIndex(l=>"partially_paid"===l?.term_status);if(n?.terms?.length&&-1!==C&&m?.length){const l={...n?.terms[C],term_amount:Number(n?.terms[C]?.term_amount)-Number(n?.terms[C]?.term_pay_amount),term_pay_amount:0,is_partial:!1,is_term_paid:!1,term_status:"billed",reference_term_id:n?.terms[C]?._id};delete l?._id,m.push(l)}if(m?.length&&-1!==C){n?.terms?.splice(C,1,...m);const l=n?.terms?.length?n?.terms?.reduce((O,D)=>O+Number(D?.term_amount),0):0;n?.terms?.map(O=>(O.term_amount=Number(O?.term_amount),O.term_pay_amount=Number(O?.term_pay_amount),O.percentage=parseFloat((O?.term_amount/l*100).toFixed(2)),O))}if(n&&n?.terms&&n?.terms?.length&&n?.terms?.forEach(l=>{"number"==typeof l?.terms_index_display&&delete l.terms_index_display}),this.comparison())this.subs.sink=this.financeService.UpdateBillingFromFinanceTable(n,this.data._id,d).subscribe(l=>{l&&(this.isWaitingForResponse=!1,B().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,onOpen:O=>{O.setAttribute("data-cy","swal-bravo")}}).then(()=>{this.dialogRef.close(!0)}))},l=>{this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?B().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):B().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})});else{let l,O;this.data.is_financial_support?(l=this.data?.financial_support_info?.name??"",O=this.data?.financial_support_info?.family_name??""):(l=this.data?.candidate_id?.first_name??"",O=this.data?.candidate_id?.last_name??""),B().fire({title:this.translate.instant("CHANGE_TERM_S1.TITLE",{firstName:l,lastName:O}),text:this.translate.instant("CHANGE_TERM_S1.TEXT",{firstName:l,lastName:O}),type:"info",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("CHANGE_TERM_S1.BUTTON1"),cancelButtonText:this.translate.instant("CHANGE_TERM_S1.BUTTON2"),onOpen:D=>{D.setAttribute("data-cy","swal-change-term-s1")}}).then(D=>{d=!(!D||!D.value),this.subs.sink=this.financeService.UpdateBillingFromFinanceTable(n,this.data._id,d).subscribe(y=>{y&&(this.isWaitingForResponse=!1,B().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,onOpen:T=>{T.setAttribute("data-cy","swal-bravo")}}).then(()=>{this.dialogRef.close(!0)}))},y=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(y),y&&y.message&&y.message.includes("Network error: Http failure response for")?B().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):B().fire({type:"info",title:this.translate.instant("SORRY"),text:y&&y.message?this.translate.instant(y.message.replaceAll("GraphQL error: ","")):y,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})})}}mappingTermIndexDisplay(n){let a=0;if(n&&n?.length)return n?.forEach(m=>{m?.reference_term_id||a++,m.terms_index_display=a}),n}deleteTerm(n){B().fire({type:"warning",title:this.translate.instant("TERM_AMOUNT_SX.TITLE"),html:this.translate.instant("TERM_AMOUNT_SX.TEXT",{amount:this.identityForm.get("terms").get(n.toString()).get("term_amount").value+" \u20ac"}),showCancelButton:!0,allowEscapeKey:!0,allowOutsideClick:!1,reverseButtons:!0,confirmButtonText:this.translate.instant("TERM_AMOUNT_SX.BUTTON_1"),cancelButtonText:this.translate.instant("TERM_AMOUNT_SX.BUTTON_2"),onOpen:a=>{a.setAttribute("data-cy","swal-term-amount-sx")}}).then(a=>{if(a.value){this.payment.removeAt(n),this.termsList=[];let m=[];const d=this.identityForm.get("terms").value;m=r.cloneDeep(d);let C=this.ramainingBill-(this.isDepositDone||this.isDepositPartial?0:this.data.deposit);if(m&&m.length){this.termsList=m.filter(T=>(!1===T.is_term_paid||!0===T.is_partial)&&!T.is_locked);const y=m.filter(T=>T.is_locked&&(!1===T.is_term_paid||!0===T.is_partial));if(y&&y.length&&y.forEach(T=>{C-=T.term_amount}),this.termsList&&this.termsList.length){let T=(C/this.termsList.length).toString();T=parseFloat(T).toFixed(2),m.forEach((z,tt)=>{this.termsList.forEach((st,ot)=>{if(z.terms_index===st.terms_index)if(this.termsList.length-1===ot)if(parseFloat(T)*this.termsList.length!==C){const rt=C-parseFloat(T)*this.termsList.length,_t=(parseFloat(T)+rt).toFixed(2);this.identityForm.get("terms").get(tt.toString()).get("term_amount").setValue(_t),z.term_amount=_t}else this.identityForm.get("terms").get(tt.toString()).get("term_amount").setValue(T),z.term_amount=T;else this.identityForm.get("terms").get(tt.toString()).get("term_amount").setValue(T),z.term_amount=T})})}}const l=this.identityForm.get("terms").value,O=l.filter(y=>!y.is_locked&&(!1===y.is_term_paid||!0===y.is_partial));if(O&&1===O.length){const y=l.findIndex(T=>!T.is_locked&&(!1===T.is_term_paid||!0===T.is_partial));this.identityForm.get("terms").get(y.toString()).get("is_locked").setValue(!0)}this.checkDateIsUsed(),8===this.payment.length?this.dialogRef.updateSize("1225px"):9===this.payment.length?this.dialogRef.updateSize("1345px"):10===this.payment.length||11===this.payment.length?this.dialogRef.updateSize("1468px"):12===this.payment.length&&this.dialogRef.updateSize("1595px");const D=this.mappingTermIndexDisplay(r.cloneDeep(this.identityForm.get("terms")?.value));this.identityForm.get("terms").patchValue(D)}})}addManualTerm(){const n=this.identityForm.get("terms").value,a=this.identityForm.get("terms").value,m=n.filter(O=>!O.is_locked&&(!1===O.is_term_paid||!0===O.is_partial));m&&m.length||a.length>0&&this.data.total_amount===this.data.amount_billed&&this.identityForm.get("terms").get((n.length-1).toString()).get("is_locked").setValue(!1),this.payment.push(this.initPayment()),this.checkDateIsUsed(),this.patchValueManually(),this.termsList=[];let d=[];const C=this.identityForm.get("terms").value;d=r.cloneDeep(C);let l=this.ramainingBill-(this.isDepositDone||this.isDepositPartial?0:this.data.deposit);if(d&&d.length){this.termsList=d.filter(D=>(!1===D.is_term_paid||!0===D.is_partial)&&!D.is_locked);const O=d.filter(D=>D.is_locked&&(!1===D.is_term_paid||!0===D.is_partial));if(O&&O.length&&O.forEach(D=>{l-=D.term_amount}),this.termsList&&this.termsList.length){let D=(l/this.termsList.length).toString();D=parseFloat(D).toFixed(2),d.forEach((y,T)=>{this.termsList.forEach((z,tt)=>{if(y.terms_index===z.terms_index)if(this.termsList.length-1===tt)if(parseFloat(D)*this.termsList.length!==l){const st=l-parseFloat(D)*this.termsList.length,ot=(parseFloat(D)+parseFloat(st.toFixed(2))).toFixed(2).toString();this.identityForm.get("terms").get(T.toString()).get("term_amount").setValue(ot),this.identityForm.get("terms").get(T.toString()).get("term_payment").patchValue(z.term_payment),y.term_amount=parseFloat(parseFloat(ot).toFixed(2)),this.data.total_amount===this.data.amount_billed&&this.identityForm.get("terms").get(T.toString()).get("term_status").patchValue("billed")}else this.identityForm.get("terms").get(T.toString()).get("term_amount").setValue(D),this.identityForm.get("terms").get(T.toString()).get("term_payment").patchValue(z.term_payment),y.term_amount=parseFloat(parseFloat(D).toFixed(2)),this.data.total_amount===this.data.amount_billed&&this.identityForm.get("terms").get(T.toString()).get("term_status").patchValue("billed");else this.identityForm.get("terms").get(T.toString()).get("term_amount").setValue(D),this.identityForm.get("terms").get(T.toString()).get("term_payment").patchValue(z.term_payment),y.term_amount=parseFloat(parseFloat(D).toFixed(2)),this.data.total_amount===this.data.amount_billed&&("partially_paid"===z?.term_status&&0===tt?this.identityForm.get("terms").get(T.toString()).get("term_status").patchValue("partially_paid"):this.identityForm.get("terms").get(T.toString()).get("term_status").patchValue("billed"))})})}}8===this.payment.length?this.dialogRef.updateSize("1126px"):9===this.payment.length?this.dialogRef.updateSize("1225px"):10===this.payment.length?this.dialogRef.updateSize("1345px"):11===this.payment.length?this.dialogRef.updateSize("1468px"):12===this.payment.length&&this.dialogRef.updateSize("1495px")}unlockTerm(n){const a=this.identityForm.get("terms").value,m=a.filter(d=>!1===d.is_term_paid||!0===d.is_partial);if(m&&1===m.length)this.identityForm.get("terms").get(n.toString()).get("is_locked").setValue(!0);else{const d=a.filter(C=>!C.is_locked&&(!1===C.is_term_paid||!0===C.is_partial));d&&d.length||(a.length-1===parseInt(n)?this.identityForm.get("terms").get((n-1).toString()).get("is_locked").setValue(!1):this.identityForm.get("terms").get((n+1).toString()).get("is_locked").setValue(!1)),this.identityForm.get("terms").get(n.toString()).get("is_locked").setValue(!1)}}lockTerm(n){this.identityForm.get("terms").get(n.toString()).get("is_locked").setValue(!0);const a=this.identityForm.get("terms").value,m=a.filter(d=>!d.is_locked&&(!1===d.is_term_paid||!0===d.is_partial));if(m&&1===m.length){const d=a.findIndex(C=>!C.is_locked&&(!1===C.is_term_paid||!0===C.is_partial));this.identityForm.get("terms").get(d.toString()).get("is_locked").setValue(!0)}}closeDialog(){this.dialogRef.close()}checkMomentIsBetween(n,a,m){return S(n).isBetween(S(a,"DD/MM/YYYY"),S(m,"DD/MM/YYYY"))||n===m}comparison(){const n=r.cloneDeep(this.firstForm),a=r.cloneDeep(this.identityForm.value);return delete n.note,delete a.note,JSON.stringify(n)===JSON.stringify(a)}checkManualTerm(){if(this.data)return parseFloat(this.data.total_amount).toFixed(2)===this.data.amount_paid||parseInt(this.data.total_amount)<=parseInt(this.data.amount_paid)||!(this.ramainingBill-(this.isDepositDone||this.isDepositPartial?0:this.data.deposit)>0)}checkPayment(n,a){const m=this.identityForm.get("credit").value,d=this.identityForm.get("transfer").value,C=this.identityForm.get("cheque").value,l=this.identityForm.get("bank_debit").value,O=this.identityForm.get("cash").value;!m&&!d&&!C&&!l&&!O&&(this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!1),this.identityForm.get("bank_debit").setValue(!1),this.identityForm.get("cash").setValue(!1),this.identityForm.get("payment_method").setValue(null)),"sepa"===n?(this.identityForm.get("payment_method").setValue("sepa"),this.identityForm.get("credit").setValue(!0),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!1),this.identityForm.get("bank_debit").setValue(!1),this.identityForm.get("cash").setValue(!1)):"transfer"===n?(this.identityForm.get("payment_method").setValue("transfer"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!0),this.identityForm.get("cheque").setValue(!1),this.identityForm.get("bank_debit").setValue(!1),this.identityForm.get("cash").setValue(!1)):"credit_card"===n?(this.identityForm.get("payment_method").setValue("credit_card"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!1),this.identityForm.get("bank_debit").setValue(!0),this.identityForm.get("cash").setValue(!1)):"check"===n?(this.identityForm.get("payment_method").setValue("check"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!0),this.identityForm.get("bank_debit").setValue(!1),this.identityForm.get("cash").setValue(!1)):"cash"===n&&(this.identityForm.get("payment_method").setValue("cash"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!1),this.identityForm.get("bank_debit").setValue(!1),this.identityForm.get("cash").setValue(!0)),a&&!a.checked&&this.checkPayment(this.data.payment_method)}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}}return s.\u0275fac=function(n){return new(n||s)(t.\u0275\u0275directiveInject(w.so),t.\u0275\u0275directiveInject(_.UntypedFormBuilder),t.\u0275\u0275directiveInject(nt.sK),t.\u0275\u0275directiveInject(G.n),t.\u0275\u0275directiveInject(H.w),t.\u0275\u0275directiveInject(R.t),t.\u0275\u0275directiveInject(K.g),t.\u0275\u0275directiveInject(V.N),t.\u0275\u0275directiveInject(w.WI),t.\u0275\u0275directiveInject(w.uw),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(M.e))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["ms-tems-amount-dialog"]],viewQuery:function(n,a){if(1&n&&t.\u0275\u0275viewQuery(it,7),2&n){let m;t.\u0275\u0275queryRefresh(m=t.\u0275\u0275loadQuery())&&(a.editor=m.first)}},features:[t.\u0275\u0275ProvidersFeature([G.n,H.w,R.t])],decls:96,vars:73,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],["svgIcon","archive-edit-outline","data-cy","icon-change-due-date-dialog",2,"vertical-align","middle"],["data-cy","label-change-due-date-dialog",1,"p-col-10","acad-title"],[1,"dialogTitle"],[1,"p-col","no-padding","text-right"],["mat-icon-button","","mat-dialog-close","","tabindex","-1","data-cy","button-close-change-due-date-dialog",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-grid",2,"margin-bottom","10px !important"],[1,"p-col-12","no-padding"],[1,"text"],["data-cy","label-total-amount",1,"text-value"],["data-cy","label-total-amount-paid",1,"text-value"],[1,"text",2,"border-bottom","1px solid black !important"],["data-cy","label-total-amount-remaining",1,"text-value",2,"border-bottom","1px solid black !important"],[1,"title-text"],[1,"p-grid",2,"margin-top","10px !important"],["formArrayName","terms",1,"p-col-12","no-padding"],["class","card-terms","data-cy","down-payment-section",4,"ngIf"],["class","card-terms","data-cy","terms-section",3,"formGroupName",4,"ngFor","ngForOf"],["class","btn-add",4,"ngIf"],[1,"p-grid",2,"margin-top","18px !important"],[1,"p-col","no-padding"],[1,"p-grid","web-card",2,"padding-top","7px"],["data-cy","input-checkbox-check","formControlName","cheque",2,"display","none",3,"change"],["data-cy","input-checkbox-cash","formControlName","cash",2,"display","none",3,"change"],["data-cy","input-checkbox-credit-card","formControlName","bank_debit",2,"display","none",3,"change"],["data-cy","input-checkbox-transfer","formControlName","transfer",2,"min-width","100px","padding-bottom","20px",3,"change"],["data-cy","input-checkbox-sepa","formControlName","credit",2,"display","none",3,"change"],[1,"p-col-12","no-padding-left"],[1,"ckeditor"],["data-cy","input-ckeditor","formControlName","note",3,"editor","config","ready"],["editor",""],["data-cy","button-record-note","mat-icon-button","",1,"margin-right-button","btn-mic",3,"click"],[1,"mic-style"],["align","end"],["data-cy","button-cancel-change-due-date-dialog","mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["data-cy","button-validate-change-due-date-dialog","mat-raised-button","","color","primary",3,"click"],["data-cy","spinner-dialog","class","loading-indicator",4,"ngIf"],["data-cy","down-payment-section",1,"card-terms"],[1,"btn-edit"],[1,"header-list"],[1,"header-text",2,"height","79px","padding-top","30px"],[1,"header-texts"],["class","body-list bg-purple","style","height: 62px; line-height: 40px",4,"ngIf"],["class","body-list bg-green","style","height: 62px; line-height: 40px",4,"ngIf"],["class","body-list","style","height: 62px; line-height: 40px",3,"ngClass",4,"ngIf"],[1,"body-list","bg-purple",2,"height","62px","line-height","40px"],[1,"body-list","bg-green",2,"height","62px","line-height","40px"],[1,"body-list",2,"height","62px","line-height","40px",3,"ngClass"],["data-cy","terms-section",1,"card-terms",3,"formGroupName"],["class","btn-action","style","vertical-align: middle; cursor: pointer","svgIcon","close-circle-outline","data-cy","button-delete-term",3,"click",4,"ngIf"],["class","btn-action","style","vertical-align: middle; cursor: pointer","svgIcon","lock","data-cy","button-unlock-term",3,"click",4,"ngIf"],["class","btn-action","style","vertical-align: middle; cursor: pointer","svgIcon","lock-open-outline","data-cy","button-lock-term",3,"click",4,"ngIf"],["data-cy","term-list-section",1,"header-list"],["formGroupName","term_payment_deferment",1,"header-text"],["class","header-textd","style","height: 47px",4,"ngIf"],["class","header-textd",4,"ngIf"],["class","body-list bg-purple","style","height: 58px; line-height: 38px",4,"ngIf"],["class","body-list bg-green","style","height: 58px; line-height: 38px",4,"ngIf"],["class","body-list","style","height: 58px; line-height: 38px",3,"ngClass",4,"ngIf"],["class","body-list bg-orange",4,"ngIf"],["class","body-list bg-orange","style","height: 58px; line-height: 38px",4,"ngIf"],["class","body-list bg-blue","style","height: 58px; line-height: 38px",4,"ngIf"],["class","body-list bg-blue",4,"ngIf"],["class","body-list bg-red","style","height: 58px; line-height: 38px",4,"ngIf"],["class","body-list bg-red",4,"ngIf"],["class","body-list bg-purple",4,"ngIf"],["class","body-list","style","height: 58px; line-height: 38px",4,"ngIf"],["class","body-list",4,"ngIf"],["svgIcon","close-circle-outline","data-cy","button-delete-term",1,"btn-action",2,"vertical-align","middle","cursor","pointer",3,"click"],["svgIcon","lock","data-cy","button-unlock-term",1,"btn-action",2,"vertical-align","middle","cursor","pointer",3,"click"],["svgIcon","lock-open-outline","data-cy","button-lock-term",1,"btn-action",2,"vertical-align","middle","cursor","pointer",3,"click"],[1,"header-textd",2,"height","47px"],[1,"header-textd"],["floatLabel","never",2,"height","46px","line-height","25px"],["matInput","","readonly","","formControlName","date","data-cy","input-date-term",3,"min","max","value","matDatepicker","click"],["matSuffix","",3,"for"],["myDatepicker",""],[1,"body-list","bg-purple",2,"height","58px","line-height","38px"],[1,"body-list","bg-green",2,"height","58px","line-height","38px"],[1,"body-list",2,"height","58px","line-height","38px",3,"ngClass"],[1,"body-list","bg-orange"],["floatLabel","never",2,"height","49px","line-height","18px","width","85px"],["data-cy","input-term-amount","matInput","","formControlName","term_amount",3,"keyup"],[4,"ngIf"],[1,"currency"],[1,"body-list","bg-orange",2,"height","58px","line-height","38px"],[1,"body-list","bg-blue",2,"height","58px","line-height","38px"],[1,"body-list","bg-blue"],[1,"body-list","bg-red",2,"height","58px","line-height","38px"],[1,"body-list","bg-red"],[1,"body-list","bg-purple"],[1,"body-list",2,"height","58px","line-height","38px"],[1,"body-list"],[1,"btn-add"],["data-cy","button-add-manual-term",1,"custom-button",3,"disabled","click"],["svgIcon","archive-plus-outline",1,"btn-add",2,"width","75px","cursor","pointer"],["data-cy","spinner-dialog",1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(n,a){1&n&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275element(4,"mat-icon",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",5)(6,"h3",6),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",7)(12,"button",8)(13,"mat-icon"),t.\u0275\u0275text(14,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(15,"form",9)(16,"div",10)(17,"mat-dialog-content")(18,"div",11)(19,"div",12)(20,"div",13),t.\u0275\u0275text(21),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(23,"div",14),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"currency"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(26,"div",12)(27,"div",13),t.\u0275\u0275text(28),t.\u0275\u0275pipe(29,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(30,"div",15),t.\u0275\u0275text(31),t.\u0275\u0275pipe(32,"currency"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(33,"div",12)(34,"div",16),t.\u0275\u0275text(35),t.\u0275\u0275pipe(36,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(37,"div",17),t.\u0275\u0275text(38),t.\u0275\u0275pipe(39,"currency"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(40,"div",2)(41,"div",12)(42,"h4",18),t.\u0275\u0275text(43),t.\u0275\u0275pipe(44,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(45,"div",19)(46,"div",20),t.\u0275\u0275template(47,ft,10,6,"div",21),t.\u0275\u0275template(48,zt,27,25,"div",22),t.\u0275\u0275template(49,Gt,3,1,"div",23),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(50,"div",24)(51,"div",12)(52,"div",2)(53,"div",12)(54,"h4",18),t.\u0275\u0275text(55),t.\u0275\u0275pipe(56,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(57,"div",2)(58,"div",25)(59,"div",26)(60,"mat-checkbox",27),t.\u0275\u0275listener("change",function(){return a.checkPayment("check")}),t.\u0275\u0275text(61),t.\u0275\u0275pipe(62,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(63,"mat-checkbox",28),t.\u0275\u0275listener("change",function(){return a.checkPayment("cash")}),t.\u0275\u0275text(64),t.\u0275\u0275pipe(65,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(66,"mat-checkbox",29),t.\u0275\u0275listener("change",function(){return a.checkPayment("credit_card")}),t.\u0275\u0275text(67),t.\u0275\u0275pipe(68,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(69,"mat-checkbox",30),t.\u0275\u0275listener("change",function(d){return a.checkPayment("transfer",d)}),t.\u0275\u0275text(70),t.\u0275\u0275pipe(71,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(72,"mat-checkbox",31),t.\u0275\u0275listener("change",function(){return a.checkPayment("sepa")}),t.\u0275\u0275text(73),t.\u0275\u0275pipe(74,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(75,"div",12)(76,"div",2)(77,"div",32)(78,"label"),t.\u0275\u0275text(79),t.\u0275\u0275pipe(80,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(81,"div",12)(82,"div",33)(83,"ckeditor",34,35),t.\u0275\u0275listener("ready",function(d){return a.onReady(d)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(85,"button",36),t.\u0275\u0275listener("click",function(){return a.recordNote()}),t.\u0275\u0275elementStart(86,"mat-icon",37),t.\u0275\u0275text(87,"keyboard_voice"),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275elementStart(88,"mat-dialog-actions",38)(89,"button",39),t.\u0275\u0275text(90),t.\u0275\u0275pipe(91,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(92,"button",40),t.\u0275\u0275listener("click",function(){return a.submitVerification()}),t.\u0275\u0275text(93),t.\u0275\u0275pipe(94,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(95,$t,2,0,"div",41)),2&n&&(t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate6(" ",t.\u0275\u0275pipeBind1(8,29,"Changer echeances/montant")," ",t.\u0275\u0275pipeBind1(9,31,"for")," ",null==a.data||null==a.data.candidate_id?null:a.data.candidate_id.last_name," ",null==a.data||null==a.data.candidate_id?null:a.data.candidate_id.first_name," ",null!=a.data&&null!=a.data.candidate_id&&a.data.candidate_id.civility&&"neutral"===(null==a.data||null==a.data.candidate_id?null:a.data.candidate_id.civility)?"":t.\u0275\u0275pipeBind1(10,33,null==a.data||null==a.data.candidate_id?null:a.data.candidate_id.civility)," ",null==a.data?null:a.data.account_number," "),t.\u0275\u0275advance(8),t.\u0275\u0275property("formGroup",a.identityForm),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(22,35,"Total amount")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind3(25,37,null!=a.data&&a.data.total_amount?null==a.data?null:a.data.total_amount:0,"EUR",!0)," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(29,41,"Total Amount Paid")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind3(32,43,null!=a.data&&a.data.amount_paid?null==a.data?null:a.data.amount_paid:0,"EUR",!0)," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(36,47,"Total Amount Remaining")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind3(39,49,a.ramainingBill?a.ramainingBill:0,"EUR",!0)," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(44,53,"Terms and Amounts")," :"),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.isHaveDeposit),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.payment.controls),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.payment&&a.payment.length<12&&!a.fullyPaid&&a.isCanAddTerm()),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(56,55,"Payment method of terms")," :"),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(62,57,"PAYMENT_METHODS.check")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(65,59,"PAYMENT_METHODS.cash")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(68,61,"PAYMENT_METHODS.bank_debit")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(71,63,"PAYMENT_METHODS.transfer")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(74,65,"PAYMENT_METHODS.sepa")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(80,67,"Note")),t.\u0275\u0275advance(4),t.\u0275\u0275property("editor",a.Editor)("config",a.config),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(91,69,"CANCEL")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(94,71,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isWaitingForResponse))},dependencies:[h.Zt,h.Bh,P.lW,N.oG,U.Mq,U.hl,U.nW,w.ZT,w.xY,w.H8,j.Hw,k.TO,k.KE,k.R9,p.Nt,A.Ou,_.\u0275NgNoValidate,_.DefaultValueAccessor,_.NgControlStatus,_.NgControlStatusGroup,_.FormGroupDirective,_.FormControlName,_.FormGroupName,_.FormArrayName,Y.oO,q.mk,q.sg,q.O5,$.u,nt.X$,q.H9],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.bg-orange[_ngcontent-%COMP%]{background-color:#ff0}.bg-orange-pending[_ngcontent-%COMP%]{background-color:#eaa11c!important}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.text[_ngcontent-%COMP%]{width:200px;display:inline-block;padding:8px;border:1px solid black;border-right:none;border-bottom:none}.text-value[_ngcontent-%COMP%]{width:115px;display:inline-block;padding:8px;border:1px solid black;text-align:right;border-bottom:none}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-75px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}.card-terms[_ngcontent-%COMP%]{width:120px;display:inline-block}.btn-add[_ngcontent-%COMP%]{display:inline-block}.btn-edit[_ngcontent-%COMP%]{text-align:center}.header-list[_ngcontent-%COMP%]{border:1px solid black}.header-text[_ngcontent-%COMP%]{padding:5px;margin-left:0;text-align:center}.body-list[_ngcontent-%COMP%]{text-align:center;padding:5px;border:1px solid black}[_nghost-%COMP%]  mat-error{font-size:8px;position:relative;top:-4px}[_nghost-%COMP%]  .mat-form-field-subscript-wrapper{margin:0!important}[_nghost-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-outline{color:#020202b0}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-infix{padding:0}[_nghost-%COMP%]  .ck-editor__editable_inline{min-height:120px!important;border:1px solid #b8b8b8}[_nghost-%COMP%]  .ckeditor .ck-content{min-height:120px!important}.bg-green[_ngcontent-%COMP%]{background:#6bec6b}.bg-blue[_ngcontent-%COMP%]{background:#36ebf4}.bg-purple[_ngcontent-%COMP%]{background:#ff46f9}.bg-red[_ngcontent-%COMP%]{background:#ff4040}.mic-style[_ngcontent-%COMP%]:hover{color:red}.btn-mic[_ngcontent-%COMP%]{position:relative;top:-115px;float:right}.custom-button[_ngcontent-%COMP%], .custom-button[_ngcontent-%COMP%]:hover{background:none;border:none}"]}),s})()},83515:(mt,X,c)=>{c.d(X,{w:()=>G});var _=c(15439),H=c(94650);let G=(()=>{class R{transform(i,E){return i?_(i,"HH:mm").add(-_().utcOffset(),"m").format("HH:mm"):""}transformDate(i,E){return i?_(i+E,"DD/MM/YYYYHH:mm").add(-_().utcOffset(),"m").format("DD/MM/YYYY"):""}transformDateTime(i,E){return i?_(i+E,"DD/MM/YYYYHH:mm").add(-_().utcOffset(),"m").format("DD/MM/YYYYHH:mm"):""}transformJavascriptDate(i){if(i){const E=_(i).format("DD/MM/YYYY"),B=_(i).format("HH:mm"),r=_(E+B,"DD/MM/YYYYHH:mm").add(-_().utcOffset(),"m");return{date:r.format("DD/MM/YYYY"),time:r.format("HH:mm")}}return""}}return R.\u0275fac=function(i){return new(i||R)},R.\u0275pipe=H.\u0275\u0275definePipe({name:"parseLocalToUtc",type:R,pure:!0}),R})()},62416:(mt,X,c)=>{c.d(X,{t:()=>G});var _=c(15439),H=c(94650);let G=(()=>{class R{transform(i,E){return i?_(i,"HH:mm").subtract(-_().utcOffset(),"m").format("HH:mm"):""}transformAMPM(i,E){return i?_(i,"HH:mm").subtract(-_().utcOffset(),"m").format("HH:mm"):""}transformDate(i,E){if(i&&E)return _(i+E,"DD/MM/YYYYHH:mm").subtract(-_().utcOffset(),"m").format("DD/MM/YYYY")}transformDateInDateFormat(i,E){if(i&&E)return _(i+E,"DD/MM/YYYYHH:mm").subtract(-_().utcOffset(),"m")}fixDateFormat(i){if(i&&i.includes("-")){const E=i.split("-");i=`${E[2]}/${E[1]}/${E[0]}`}return i}fixDateFormatUtc(i){if(i&&i.includes("-")){const E=i.split("-");i=`${E[2].split("T")[0]}/${E[1]}/${E[0]}`}return i}fixTimeFormat(i){return i&&!i.includes(":")&&(i="00:00"),i}transformDateToJavascriptDate(i,E){if(i=this.fixDateFormat(i),E=this.fixTimeFormat(E),i&&E)return _(i+E,"DD/MM/YYYYHH:mm").subtract(-_().utcOffset(),"m").toDate()}transformDateToStringFormat(i,E){if(i&&E)return _(i+E,"DD/MM/YYYYHH:mm").subtract(-_().utcOffset(),"m").format("MMM DD, YYYY")}}return R.\u0275fac=function(i){return new(i||R)},R.\u0275pipe=H.\u0275\u0275definePipe({name:"parseUtcToLocal",type:R,pure:!0}),R})()}}]);