"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[7111],{97111:(Oe,Ut,C)=>{C.r(Ut),C.d(Ut,{CandidateFileModule:()=>LI});var f=C(36895),Mt=C(93730),wt=C(30160),tt=C(610),Wt=C(35226),c=C.n(Wt),h=C(17489),E=C(98739),m=C(24006),q=C(30567),Y=C(21086),$=C(1059),et=C(22868),A=C(80013),w=C(68745),t=C(94650),nt=C(67154),M=C(89383),mt=C(79710),xt=C(96334),L=C(52688),Q=C(3238),I=C(4859),k=C(97392),S=C(59549),z=C(284),D=C(51572),it=C(84385),G=C(10266),at=C(30277),H=C(24784),St=C(33296),ft=C(73546);function Pe(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",5)(1,"h4",6),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"CANDIDATE_EMPTY")))}function we(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-card",10),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.selectCandidate(l))}),t.\u0275\u0275elementStart(1,"mat-card-subtitle",11)(2,"div",5)(3,"div",12)(4,"span"),t.\u0275\u0275element(5,"img",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",14)(7,"div",15)(8,"div",16)(9,"h5",17),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"uppercase"),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(13,"div",16)(14,"p",18),t.\u0275\u0275text(15),t.\u0275\u0275elementEnd()()()()()()()}if(2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass",a.selectedCandidateId===(null==e?null:e._id)?"candidate-select mrgn-all-md":"mrgn-all-md"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",a.selectedCandidateId===(null==e?null:e._id)?"candidate-text":"test"),t.\u0275\u0275advance(4),t.\u0275\u0275property("src",null!=e&&e.is_photo_in_s3?a.serverimgPath+(null==e?null:e.photo_s3_path):null!=e&&e.photo?a.serverimgPath+(null==e?null:e.photo):"MR"===(null==e?null:e.civility)?a.maleCandidateIcon:"neutral"===(null==e?null:e.civility)?a.neutralStudentIcon:a.femaleCandidateIcon,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(11,9,null==e?null:e.last_name)," ",null==e?null:e.first_name," ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(12,11,null==e?null:e.civility)," "),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",null==e||null==e.intake_channel?null:e.intake_channel.program),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",null==e||null==e.intake_channel||null==e.intake_channel.scholar_season_id?null:e.intake_channel.scholar_season_id.scholar_season," ",null==e||null==e.intake_channel?null:e.intake_channel.program," ")}}function De(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",7)(1,"div",8),t.\u0275\u0275template(2,we,16,13,"mat-card",9),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("max-height",e.getAutomaticHeight(),"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.candidatesList)}}function Ee(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275element(1,"mat-progress-spinner",20),t.\u0275\u0275elementEnd())}let Ie=(()=>{class n{constructor(e){this.coreService=e,this.selectedCandidateChange=new t.EventEmitter,this.maleCandidateIcon="../../../../../assets/img/student_icon.png",this.femaleCandidateIcon="../../../../../assets/img/student_icon_fem.png",this.neutralStudentIcon="../../../../../assets/img/student_icon_neutral.png",this.userProfilePic="../../../../../assets/img/user-1.jpg",this.userProfilePic1="../../../../../assets/img/user-3.jpg",this.userProfilePic2="../../../../../assets/img/user-5.jpg",this.greenHandShakeIcon="../../../../../assets/img/hand-shake-green.png",this.redHandShakeIcon="../../../../../assets/img/hand-shake-red.png",this.blackHandShakeIcon="../../../../../assets/img/hand-shake-black.png",this.orangeHandShakeIcon="../../../../../assets/img/hand-shake-orange.png",this.greyHandShakeIcon="../../../../../assets/img/hand-shake-grey.png",this.serverimgPath=`${St.a.baseApi}/fileuploads/`.replace("/graphql",""),this.myInnerHeight=1920,this.selectCandidate=a=>{this.selectedCandidateId!==a?._id&&(this.selectedCandidateId=a?._id,this.selectedCandidateChange.emit(a))}}ngOnInit(){this.coreService.sidenavOpen=!1}getAutomaticHeight(){return this.myInnerHeight=window.innerHeight-251,this.myInnerHeight-32}getCardHeight(){return this.myInnerHeight=window.innerHeight-263,this.myInnerHeight-32}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(xt.p))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-candidate-card-list"]],inputs:{candidatesList:"candidatesList",selectedCandidateId:"selectedCandidateId",isWaitingForResponse:"isWaitingForResponse"},outputs:{selectedCandidateChange:"selectedCandidateChange"},decls:6,vars:3,consts:[[1,"gene-ham-icon",2,"display","flex","align-items","center"],["class","p-grid",4,"ngIf"],[1,"p-grid",2,"padding-top","10px","overflow","hidden"],["style","width: 310px; max-width: 310px",4,"ngIf"],["class","loading-indicator",4,"ngIf"],[1,"p-grid"],[1,"text-empty"],[2,"width","310px","max-width","310px"],["id","style-4",1,"scrollbar",2,"overflow-x","hidden","overflow-y","auto","height","64vh"],["style","cursor: pointer; padding: 4px !important; margin-right: 10 px !important; margin-top: 0px !important",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"cursor","pointer","padding","4px !important","margin-right","10 px !important","margin-top","0px !important",3,"ngClass","click"],[3,"ngClass"],[1,"p-col-2",2,"align-self","center"],[1,"",2,"border-radius","50%","width","30px","height","30px","cursor","pointer","object-fit","cover",3,"src"],[1,"p-col-10",2,"text-align","center","place-self","center"],[1,"p-grid","no-padding"],[1,"p-col-12","no-padding"],[1,"no-margin",2,"padding-top","0.5rem","font-size","1em"],[1,"no-margin","one-line-text",2,"font-size","0.8em",3,"matTooltip"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,a){1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"div",0),t.\u0275\u0275template(2,Pe,4,3,"div",1),t.\u0275\u0275elementStart(3,"div",2),t.\u0275\u0275template(4,De,3,3,"div",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(5,Ee,2,0,"div",4)),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.candidatesList.length&&!a.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.candidatesList?null:a.candidatesList.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isWaitingForResponse))},dependencies:[f.mk,f.sg,f.O5,ft.a8,ft.$j,D.Ou,G.gM,H.oO,f.gd,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.engagement-side-icon[_ngcontent-%COMP%]{border-radius:50%;position:relative}.engagement-side-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:70%!important;background:white;padding:4px}#style-4[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}#style-4[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;background-color:#555}#style-4[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#909090;border:2px solid #555555}.full-width[_ngcontent-%COMP%]{width:100%}.green-icon[_ngcontent-%COMP%]{color:#9acd32!important}.align-right[_ngcontent-%COMP%]{text-align:right}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.no-margin[_ngcontent-%COMP%]{margin:0}.mat-ink-bar[_ngcontent-%COMP%]{background-color:green}.candidate-select[_ngcontent-%COMP%]{background-color:#fdd835!important}.candidate-text[_ngcontent-%COMP%]{color:#000!important}.spinner-wrapper[_ngcontent-%COMP%]{width:100%;height:320px;display:flex;justify-content:center;align-items:center;top:0;left:0;z-index:998}.left-side[_ngcontent-%COMP%]{padding-left:0;width:420px}.right-side[_ngcontent-%COMP%]{width:auto;position:absolute;right:0;left:425px}.text-empty[_ngcontent-%COMP%]{height:auto;margin:3% auto;font-size:20px;display:block;width:100%;position:relative;text-align:center;vertical-align:middle;color:#e4e7ef}.yellow[_ngcontent-%COMP%]{color:#ffd740}.orange[_ngcontent-%COMP%]{color:#f49f36}.blue[_ngcontent-%COMP%]{color:#36ebf4}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.magenta[_ngcontent-%COMP%]{color:#f0f}.black[_ngcontent-%COMP%]{color:#000}.cyan[_ngcontent-%COMP%]{color:#0ff}img[_ngcontent-%COMP%]{height:27px;max-width:100%;vertical-align:middle;width:30px}"]}),n})();var y=C(15439),ke=C(71156),T=C(65938),Nt=C(9749),yt=C(83515),rt=C(84075),P=C(99602),Dt=C(37204);function Fe(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",21),t.\u0275\u0275element(1,"mat-spinner",22),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let zt=(()=>{class n{constructor(e,a,i,l,r,s,d){this.dialogRef=e,this.fb=a,this.translate=i,this.candidateService=l,this.utilService=r,this.data=s,this.parseLocalToUtc=d,this.Editor=Nt,this.subs=new w.Y,this.isWaitingForResponse=!1,this.isEdit=!1,this.isEditMode=!1,this.isAddMore=!1,this.today=new Date,this.config={placeholder:this.translate.instant("Type a note"),height:"20rem",toolbar:["heading","|","fontsize","|","bold","italic","Underline","strikethrough","highlight","|","alignment","|","numberedList","bulletedList","|"]},this.categoryFilterList=[],this.categoryFilterCtrl=new m.UntypedFormControl("")}ngOnInit(){this.data&&(this.candidateId=this.data.candidateId,this.currentUser=this.data.currentUser,this.isEdit=this.data.isEdit,this.allDataUser=this.data.allDataUser),this.initAddCommentForm(),this.getAllCandidateCommentCategories(),this.isEdit&&(this.commentId=this.data.commentToEdit,this.getOneCandidateComment()),this.config.mention={feeds:[{marker:"@",feed:e=>this.getFeedItems(e),minimumCharacters:3}]}}getAllCandidateCommentCategories(){this.subs.sink=this.candidateService.GetAllCandidateCommentCategories().subscribe(e=>{e&&e.length&&(this.categoryFilterList=e)},e=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getOneCandidateComment(){this.isWaitingForResponse=!0,this.commentData=[],this.subs.sink=this.candidateService.GetOneCandidateComment(this.commentId).subscribe(e=>{if(!e)return this.commentData=[],void(this.isWaitingForResponse=!1);{console.log(e);const a=h.cloneDeep(e);if(a.candidate_id&&a.candidate_id._id&&(a.candidate_id=a.candidate_id._id),a.created_by&&a.created_by._id&&(a.created_by=a.created_by._id),a.reply_for_comment_id&&a.reply_for_comment_id._id&&(a.reply_for_comment_id=a.reply_for_comment_id._id),a.reply_comment_ids&&a.reply_comment_ids.length){const i=[];a.reply_comment_ids.forEach(l=>{i.push(l._id)}),a.reply_comment_ids=i}if(a.tagged_user_ids&&a.tagged_user_ids.length){const i=[];a.tagged_user_ids.forEach(l=>{i.push(l._id)}),a.tagged_user_ids=i}a.category&&this.categoryFilterCtrl.setValue(a.category),console.log(a),this.commentData=a,this.form.patchValue(a),this.initialForm=this.form.getRawValue(),this.isWaitingForResponse=!1}},e=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}initAddCommentForm(){this.form=this.fb.group({candidate_id:[this.candidateId],created_by:[this.currentUser._id],subject:[null],comment:[null,m.Validators.required],is_personal_situation:[!1],is_restrictive_conditions:[!1],is_reply:[!1],reply_for_comment_id:[null],reply_comment_ids:[null],tagged_user_ids:[null],category:[null],date:[null,m.Validators.required]}),this.initialForm=this.form.getRawValue()}selectCategory(e){e?"add"===e?this.isAddMore=!0:this.form.controls.category.patchValue(e):this.form.controls.category.patchValue(null)}onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}getFeedItems(e){return console.log(this.allDataUser),new Promise(a=>{setTimeout(()=>{if(e){if(this.allDataUser?.length){const i=this.allDataUser.filter(l=>{console.log(e);const r=e.toLowerCase();return l.last_name.toLowerCase().trim().includes(r)});this.allUser=i.map(l=>"@"+l.last_name+" "+l.first_name)}console.log("all user",this.allUser),a(this.allUser)}else this.allDataUser?.length&&(this.allUser=this.allDataUser.map(i=>"@"+i.last_name+" "+i.first_name).slice(0,10)),console.log("all user",this.allUser),a(this.allUser)},50)})}getUserTagged(){let l,e=this.utilService.cleanHTML(this.form.controls.comment.value).split(" "),a=[],i=!1;e.forEach(s=>{if(console.log("_",s),s.includes("@")){const d=s.substr(1,s.length);return console.log("_>>>",d),a.push(d),i=!0,void(l=a.length)}i&&(a[l-1]=a[l-1]+" "+s,i=!1)});let r=[];return console.log(a),a?.length&&a.forEach(s=>{let d=[],p=s.split(" ");for(let u=0;u<p.length;u++)this.allDataUser?.length&&this.allDataUser.find(_=>{_&&_.last_name&&_.first_name&&_.last_name.includes(p[u])&&_.first_name===p[p.length-1]&&(d.push(_),r.push(_._id))})}),console.log("_res",r),r}submit(){this.createComment()}createComment(){const e=this.form.getRawValue();console.log("608",e);const a=y(e.date,"DD/MM/YYYY").format("DD/MM/YYYY"),i=y(this.today).format("HH:mm"),l=this.parseLocalToUtc.transform(i),r=this.parseLocalToUtc.transformDate(a,i);if(this.data&&"resign_after_school_begins"===this.data.newStatus?e.resign_after_school_begins_at={date:"Invalid date"!==a?a:null,time:"15:59"}:this.data&&"no_show"===this.data.newStatus&&(e.no_show_at={date:"Invalid date"!==a?a:null,time:"15:59"}),e.status_changed_at={date:"Invalid date"!==a?a:null,time:"15:59"},e.tagged_user_ids=this.getUserTagged(),e.is_reply=!1,delete e.reply_for_comment_id,delete e.reply_comment_ids,this.data&&("resign_after_school_begins"===this.data.newStatus||"no_show"===this.data.newStatus)&&this.data.statusValue){const s="resign_after_school_begins"===this.data.newStatus?"Resigned after school begins":"No Show";e.category="Status",e.subject="Status Change";let d=e.comment;["<p>","</p>","<h1>","</h1>","<h2>","</h2>","<h3>","</h3>","<h4>","</h4>","<h5>","</h5>","<h6>","</h6>"].forEach(_=>{d.includes(_)&&(d=d.replaceAll(_," "))}),e.comment="The status of the student has been changed the "+("Invalid date"!==a?a:"")+" from "+this.data.statusValue+" to "+s+"<br>Reason: "+d}else if(this.data&&"registered"===this.data.newStatus&&"No show"===this.data.currentStatus&&this.data.statusValue){const s=this.data.newStatus;e.category="Status",e.subject="Status Change";let d=e.comment;["<p>","</p>","<h1>","</h1>","<h2>","</h2>","<h3>","</h3>","<h4>","</h4>","<h5>","</h5>","<h6>","</h6>"].forEach(_=>{d.includes(_)&&(d=d.replaceAll(_," "))}),e.comment="The status of the student has been changed the "+("Invalid date"!==a?a:"")+" from "+this.data.currentStatus+" to "+s+"<br>Reason: "+d}else e.category="Admission",e.subject=this.translate.instant("Status change to",{newStatus:this.data.newStatus});delete e.date,console.log("608 payload final",e,i,l,r),this.dialogRef.close(e)}updateComment(){let e=this.form.getRawValue();e.tagged_user_ids=this.getUserTagged(),e.is_reply=!1,console.log(e)}checkFormChanged(){return JSON.stringify(this.form.getRawValue())===JSON.stringify(this.initialForm)}closeDialog(){this.dialogRef.close()}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(m.UntypedFormBuilder),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(mt.o),t.\u0275\u0275directiveInject(rt.t),t.\u0275\u0275directiveInject(T.WI),t.\u0275\u0275directiveInject(yt.w))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],features:[t.\u0275\u0275ProvidersFeature([yt.w])],decls:41,vars:25,consts:[[1,"dialog-border"],[1,"dialogTitleWrapper","header-dialog"],[1,"p-grid"],[1,"p-col-10","no-padding"],[1,"dialogTitle",2,"color","black"],[1,"p-col","no-padding"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",3,"formGroup"],[1,"p-col-3","align-self"],[1,"p-col-9"],["matInput","","readonly","","formControlName","date",3,"matDatepicker","placeholder","click"],["matSuffix","",3,"for"],["picker",""],[1,"p-col-9","pad-y-none"],[1,"ckeditor"],["formControlName","comment",3,"editor","config","ready"],["editor",""],["class","inner-loading-indicator",4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end","mr-10"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-button","","mat-raised-button","","color","accent",1,"mr-0",3,"disabled","click"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(e,a){if(1&e){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",5)(8,"button",6),t.\u0275\u0275listener("click",function(){return a.closeDialog()}),t.\u0275\u0275elementStart(9,"mat-icon"),t.\u0275\u0275text(10,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(11,"div",7)(12,"div",2)(13,"div",8)(14,"h5"),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(17,"div",9)(18,"mat-form-field")(19,"input",10),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const r=t.\u0275\u0275reference(23);return t.\u0275\u0275resetView(r.open())}),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(21,"mat-datepicker-toggle",11)(22,"mat-datepicker",null,12),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(24,"div",2)(25,"div",8)(26,"h5"),t.\u0275\u0275text(27),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(29,"div",13)(30,"div",14)(31,"ckeditor",15,16),t.\u0275\u0275listener("ready",function(r){return a.onReady(r)}),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(33,Fe,2,1,"div",17),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(34,"div",18)(35,"button",19),t.\u0275\u0275listener("click",function(){return a.closeDialog()}),t.\u0275\u0275text(36),t.\u0275\u0275pipe(37,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(38,"button",20),t.\u0275\u0275listener("click",function(){return a.submit()}),t.\u0275\u0275text(39),t.\u0275\u0275pipe(40,"translate"),t.\u0275\u0275elementEnd()()}if(2&e){const i=t.\u0275\u0275reference(23);t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,13,"Status Change")),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",a.form),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(16,15,"Date")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(20,17,"Date")),t.\u0275\u0275property("matDatepicker",i),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",i),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(28,19,"Reason")),t.\u0275\u0275advance(4),t.\u0275\u0275property("editor",a.Editor)("config",a.config),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(37,21,"CANCEL")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!a.form.valid||a.checkFormChanged()),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(40,23,"Validate")," ")}},dependencies:[f.O5,I.lW,P.Mq,P.hl,P.nW,T.xY,T.H8,k.Hw,S.KE,S.R9,z.Nt,D.Ou,m.DefaultValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.FormGroupDirective,m.FormControlName,Dt.u,M.X$],styles:[".dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid rgb(0,0,0)}.no-padding[_ngcontent-%COMP%]{padding:0}.float-right[_ngcontent-%COMP%]{float:right}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.header-dialog[_ngcontent-%COMP%]{padding:0 5px 0 15px}.mat-dialog-content[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:15px;padding:0 10px}.w-30[_ngcontent-%COMP%]{width:30px}.w-65[_ngcontent-%COMP%]{width:65px}.mt-5px[_ngcontent-%COMP%]{margin-top:5px}[_nghost-%COMP%]  .ckeditor{margin-top:21px;max-width:100%;min-width:100%}[_nghost-%COMP%]  .ckeditor .ck-content{min-height:10rem!important;background:white!important;color:#000!important}[_nghost-%COMP%]  .ckeditor .ck-editor__editable_inline{border:1px solid #b8b8b8}.align-self[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]  textarea.mat-input-element{padding-top:0!important;padding-bottom:0!important}[_nghost-%COMP%]  .mat-form-field.mat-form-field-invalid .mat-form-field-ripple{background-color:#f44336!important}"]}),n})();var _t=C(92340),Qt=C(75994),U=C(62416),Rt=C(29545),Xt=C(54982),ot=C(44758),Be=C(11481),bt=C(84130),Ae=C(87746),Ne=C(12334),ut=C(28255),X=C(3848),$t=C(49671),Vt=C(10830),Et=C(62395),Ht=C(72986),Yt=C(80484),Re=C(65592),vt=C(50777),Gt=C(58840),Ot=C(68516),gt=C(47957),It=C(71948),K=C(88796);const Ve=["userphoto"];function Le(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",90),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.updateCandidate())}),t.\u0275\u0275elementStart(1,"mat-icon",91),t.\u0275\u0275text(2,"save"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",e.disableButtonSave),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,2,"CARDDETAIL.Save")," ")}}function Ue(n,o){if(1&n&&t.\u0275\u0275element(0,"img",92),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("src",e.is_photo_in_s3?e.serverimgPath+e.photo_s3_path:e.photo?e.serverimgPath+e.photo:"MR"===e.identityForm.get("civility").value?e.maleStudentIcon:"neutral"===e.identityForm.get("civility").value?e.neutralStudentIcon:e.femaleStudentIcon,t.\u0275\u0275sanitizeUrl)}}function ze(n,o){if(1&n&&t.\u0275\u0275element(0,"img",92),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("src","MR"===e.identityForm.get("civility").value?e.maleStudentIcon:"neutral"===e.identityForm.get("civility").value?e.neutralStudentIcon:e.femaleStudentIcon,t.\u0275\u0275sanitizeUrl)}}function $e(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-radio-button",93),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"Neutral")))}function He(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function je(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function We(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",96),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().item;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("+",null==e?null:e.dialCode,"")}}function Ye(n,o){if(1&n&&(t.\u0275\u0275element(0,"img",94),t.\u0275\u0275template(1,We,2,1,"span",95)),2&n){const e=o.item,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("src",a.flagsIconPath+(null==e?null:e.flagIcon)+".svg",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.flagIcon)}}function Ge(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"img",98),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("src",a.flagsIconPath+(null==e?null:e.flagIcon)+".svg",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,3,null==e?null:e.name)," +",null==e?null:e.dialCode," ")}}function qe(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"ng-option",97),t.\u0275\u0275template(1,Ge,4,5,"ng-container",23),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.name)}}function Ke(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Phone number is not valid")," "))}function Qe(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Xe(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Invalid email format")," "))}const Lt=function(n){return{default:n}};function Ze(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.countrySelected("country_of_birth"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"COUNTRY."+e,t.\u0275\u0275pureFunction1(5,Lt,e))," ")}}function Je(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Please select valid country")," "))}function tn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275template(1,Je,3,3,"ng-container",23),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.identityForm.get("country_of_birth").hasError("wrongCountry"))}}function en(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.nationalityOptionClicked())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e.nationality_en),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"NATIONALITY."+e.nationality_en,t.\u0275\u0275pureFunction1(5,Lt,e.nationality_en))," ")}}function nn(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Please select valid nationality")," "))}function an(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275template(1,nn,3,3,"ng-container",23),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.identityForm.get("nationality").hasError("wrongNationality"))}}function on(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.nationalityOptionClicked())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e.nationality_en),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"NATIONALITY."+e.nationality_en,t.\u0275\u0275pureFunction1(5,Lt,e.nationality_en))," ")}}function ln(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Please select valid nationality")," "))}function rn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275template(1,ln,3,3,"ng-container",23),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.identityForm.get("nationality_second").hasError("wrongNationality"))}}function sn(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.countrySelected("country"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"COUNTRY."+e,t.\u0275\u0275pureFunction1(5,Lt,e))," ")}}function cn(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Please select valid country")," "))}function dn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275template(1,cn,3,3,"ng-container",23),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.identityForm.get("country").hasError("wrongCountry"))}}function pn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",97),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function mn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",97),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function _n(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",97),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function un(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.countrySelected("college_country"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"COUNTRY."+e,t.\u0275\u0275pureFunction1(5,Lt,e))," ")}}function gn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",100),t.\u0275\u0275element(1,"mat-progress-spinner",101),t.\u0275\u0275elementEnd())}let hn=(()=>{class n{constructor(e,a,i,l,r,s,d,p,u,_,O,F,v,B,x){this.admissionService=e,this.dateAdapter=a,this.fb=i,this.fileUploadService=l,this.imageCompress=r,this.pageTitleService=s,this.rncpTitleService=d,this.router=p,this.schoolService=u,this.studentService=_,this.translate=O,this.utilService=F,this.authService=v,this.coreService=B,this.permissionService=x,this.reloadData=new t.EventEmitter,this.subs=new w.Y,this.flagsIconPath="../../../../../assets/icons/flags-nationality/",this.dialCodeControl=new m.UntypedFormControl(null),this.nationalitiesList=[],this.nationalList=[],this.serverimgPath=`${St.a.baseApi}/fileuploads/`.replace("/graphql",""),this.isWaitingForResponse=!1,this.filteredCountry=[],this.filteredCountryOfBirth=[],this.filteredCountryCollege=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.myInnerHeight=1920,this.maleStudentIcon="../../../../../assets/img/student_icon.png",this.femaleStudentIcon="../../../../../assets/img/student_icon_fem.png",this.neutralStudentIcon="../../../../../assets/img/student_icon_neutral.png",this.isResetCountry=!0,this.isResetCountryOfBirth=!0,this.isResetCountryCollege=!0,this.isResetNationality=!0,this.coverage={cost:null,so:null},this.disableButtonVerify=!0,this.disableButtonSave=!1}ngOnInit(){this.updatePageTitle(),this.subs.sink=this.studentService.getAllCountries().pipe((0,Ht.q)(1)).subscribe(e=>{this.countries=e.map(a=>a?.country),this.identityForm.get("country").updateValueAndValidity(),this.identityForm.get("country_of_birth").updateValueAndValidity()}),this.dateAdapter.setLocale(this.translate.currentLang),this.today=new Date,this.minimumDateOfBirth=this.getMinimumDateOfBirth(),this.initForm(),this.initEmail()}ngOnChanges(){this.reloadData.emit(!0),this.initForm(),this.initCollegeForm(),this.dialCodeControl?.reset(),this.resetData(),this.getOneCandidate(),this.subs.sink=this.studentService.getAllNationalities().pipe((0,Ht.q)(1)).subscribe(e=>{this.nationalitiesList=e,this.identityForm.get("nationality").updateValueAndValidity(),this.identityForm.get("nationality_second").updateValueAndValidity()}),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.identityForm.patchValue(this.identityForm.value)}),this.initEmail()}updatePageTitle(){this.pageTitleService.setTitle(this.translate.instant("Student Card Identity")),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.pageTitleService.setTitle(this.translate.instant("Student Card Identity"))})}getOneCandidate(){this.isWaitingForResponse=!0,this.subs.sink=this.admissionService.getOneCandidateDetail(this.candidateId).subscribe(e=>{if(e){console.log("_res",e);const a=h.cloneDeep(e);if(this.candidateData=h.cloneDeep(e),a.photo?(this.is_photo_in_s3=!0,this.photo_s3_path=a.photo):(this.photo_s3_path=a.photo,this.is_photo_in_s3=!1),a&&a.telephone&&(a.telephone=a.telephone),a&&a.fixed_phone&&(a.fixed_phone=a.fixed_phone),a&&a.last_name_used&&(a.last_name_used=a.last_name_used),a&&a.first_name_used&&(a.first_name_used=a.first_name_used),this.isResetCountry=!1,this.isResetCountryOfBirth=!1,this.isResetNationality=!1,a.date_of_birth=a?.date_of_birth&&"Invalid date"!==a?.date_of_birth?y(a.date_of_birth,"DD/MM/YYYY").format("YYYY-MM-DD"):null,a?.phone_number_indicative){const i=this.countryCodeList?.findIndex(l=>l?.dialCode===e?.phone_number_indicative);i>=0&&this.dialCodeControl?.patchValue(this.countryCodeList[i])}this.currentEmail=a.email,this.identityForm.patchValue(a),this.firstForm=this.identityForm.getRawValue(),this.coverage.cost=e.cost.toFixed(2),this.isWaitingForResponse=!1}},e=>{this.isWaitingForResponse=!1,e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getAutomaticHeight(){return"/my-file"===this.router.url||this.router.url.includes("previous-course")?(this.myInnerHeight=window.innerHeight-193,this.myInnerHeight):(this.myInnerHeight=window.innerHeight-369,this.myInnerHeight)}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}resetData(){this.countries=[],this.filteredCountry=[],this.filteredCountryOfBirth=[],this.filteredCountryCollege=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.nationalitiesList=[]}initForm(){this.identityForm=this.fb.group({civility:[null],first_name:[null,m.Validators.required],last_name:[null,m.Validators.required],telephone:[null,m.Validators.pattern("[- ()0-9]+")],fixed_phone:[null],email:[null,[Et.dN.email,m.Validators.required]],date_of_birth:[null],city_of_birth:[null],place_of_birth:[null],country_of_birth:[null,[this.countryValidator.bind(this)]],post_code_of_birth:[null],nationality:["",[this.nationalityValidator.bind(this)]],nationality_second:["",[this.nationalityValidator.bind(this)]],address:[null],post_code:[null],country:["France",[this.countryValidator.bind(this)]],city:[null],region:[null],department:[null],photo:[null],compressed_photo:[null],account_holder_name:[null],iban:[null],bic:[null],last_name_used:[null],first_name_used:[null],phone_number_indicative:[null],college:this.collegeForm})}initCollegeForm(){this.collegeForm=this.fb.group({name:[null],postal_code:[null],country:[null],city:[null]})}selectionDialCode(e){this.identityForm?.get("phone_number_indicative")?.reset(),this.identityForm?.get("phone_number_indicative")?.patchValue(e?.dialCode)}getPostcodeData(){const e=this.identityForm.get("country").value,a=this.identityForm.get("post_code").value;a&&e&&a.length>3&&"france"===e.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(a,e).subscribe(i=>{i&&i.length&&(this.setAddressDropdown(i,0),this.identityForm.get("city").setValue(this.cities[0][0]),this.identityForm.get("department").setValue(this.departments[0][0]),this.identityForm.get("region").setValue(this.regions[0][0]))},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}setAddressDropdown(e,a){const i=[],l=[],r=[];e&&e.length&&(e.forEach(s=>{i.push(s.city),l.push(s.department),r.push(s.province)}),this.cities[a]=h.uniq(i),this.departments[a]=h.uniq(l),this.regions[a]=h.uniq(r),this.filteredCities[a]=this.cities[a],this.filteredDepartments[a]=this.departments[a],this.filteredRegions[a]=this.regions[a])}restoreCountry(e,a){"country_of_birth"===a?(this.filteredCountryOfBirth[e]=this.countries,this.isResetCountryOfBirth=!0):"college_country"===a?(this.filteredCountryCollege[e]=this.countries,this.isResetCountryCollege=!0):(this.filteredCountry[e]=this.countries,this.isResetCountry=!0)}restoreNationality(){const e=a=>String(this.translate.instant(`NATIONALITY.${a}`));this.nationalList=this.nationalitiesList.sort((a,i)=>e(String(a?.nationality_en)).toLowerCase().trim().localeCompare(e(String(i?.nationality_en)).toLowerCase().trim())),this.isResetNationality=!0}filterNationality(e){const a=e.toLowerCase().trim(),i=l=>String(this.translate.instant(`NATIONALITY.${l}`));this.nationalList=this.nationalitiesList.filter(l=>!!l.nationality_en&&this.utilService.simplifyRegex(i(l.nationality_en)).toLowerCase().trim().includes(String(a).toLowerCase().trim())).sort((l,r)=>i(String(l?.nationality_en)).toLowerCase().trim().localeCompare(i(String(r?.nationality_en)).toLowerCase().trim())),this.isResetNationality=!0}filterCountry(e,a){let i="";"college_country"!==a&&(i=this.identityForm.get(a).value.toLowerCase().trim());const l=this.collegeForm.get("country")?.value?.toLowerCase()?.trim();"country_of_birth"===a?(this.filteredCountryOfBirth[e]=this.countries.filter(r=>r.toLowerCase().trim().includes(i)),this.isResetCountryOfBirth=!0):"college_country"===a?(this.filteredCountryCollege[e]=this.countries.filter(r=>r.toLowerCase().trim().includes(l)),this.isResetCountryCollege=!0):(this.filteredCountry[e]=this.countries.filter(r=>r.toLowerCase().trim().includes(i)),this.isResetCountry=!0)}filterCity(e){if(this.cities[e]&&this.cities[e].length){const a=this.identityForm.get("city").value.toLowerCase().trim();this.filteredCities[e]=this.cities[e].filter(i=>i.toLowerCase().trim().includes(a))}}filterDepartment(e){if(this.departments[e]&&this.departments[e].length){const a=this.identityForm.get("department").value.toLowerCase().trim();this.filteredDepartments[e]=this.departments[e].filter(i=>i.toLowerCase().trim().includes(a))}}filterRegion(e){if(this.regions[e]&&this.regions[e].length){const a=this.identityForm.get("region").value.toLowerCase().trim();this.filteredRegions[e]=this.regions[e].filter(i=>i.toLowerCase().trim().includes(a))}}openUploadWindow(){this.uploadInput.nativeElement.click()}handleInputChange(e){const a=e.target.files[0];this.photo="",this.photo_s3_path="",this.is_photo_in_s3=!1,a&&(this.subs.sink=this.fileUploadService.singleUpload(a).subscribe(i=>{i&&(this.photo=i.file_name,this.photo_s3_path=i.s3_file_name,this.is_photo_in_s3=!0,this.identityForm.get("photo").setValue(i.s3_file_name))},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.resetFileState()}resetFileState(){this.uploadInput.nativeElement.value=""}getNationalitySelected(e){this.nationalitySelected=e.nationality_en.toLowerCase()}displayNationality(e){return"function"!=typeof this.translate?.instant?e:e?this.translate.instant(`NATIONALITY.${e}`,{default:e}):null}displayCountry(e){return"function"!=typeof this.translate?.instant?e:e?this.translate.instant(`COUNTRY.${e}`,{default:e}):null}countryValidator(e){const a=e.value;if(!a)return null;const i=s=>this.translate.instant(`NATIONALITY.${s}`);return(Array.isArray(this.countries)?this.countries:[]).find(s=>!!s&&i(s)===i(a))?null:{wrongCountry:!0}}nationalityValidator(e){const a=e.value;if(!a)return null;const i=r=>this.translate.instant(`NATIONALITY.${r}`);return this.nationalitiesList.find(r=>!!r?.nationality_en&&i(r.nationality_en)===i(a))?null:{wrongNationality:!0}}createPayload(){return h.cloneDeep(this.identityForm.value)}updateCandidate(){if(this.identityForm.invalid)this.identityForm.get("email").hasError("email")||this.identityForm.get("telephone").hasError("pattern")?(c().fire({type:"warning",title:this.translate.instant("Invalid_Format.Title"),html:this.translate.instant("Invalid_Format.Text"),confirmButtonText:this.translate.instant("Invalid_Format.Button")}),this.identityForm.markAllAsTouched()):c().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}).then(()=>{this.identityForm.markAllAsTouched(),this.identityForm.markAsDirty()});else{this.isWaitingForResponse=!0;const e=this.createPayload();e.date_of_birth=y(e.date_of_birth,"YYYY-MM-DD").format("DD/MM/YYYY"),this.subs.sink=this.admissionService.UpdateCandidate(this.candidateId,e,!0).subscribe(i=>{i&&c().fire({type:"info",title:this.translate.instant("SAVE_CANDIDATE.TITLE"),html:this.translate.instant("SAVE_CANDIDATE.TEXT"),confirmButtonText:this.translate.instant("SAVE_CANDIDATE.BUTTON_1"),showCancelButton:!0,cancelButtonText:this.translate.instant("SAVE_CANDIDATE.BUTTON_2"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(l=>{l.value?this.subs.sink=this.admissionService.GeneratePDFSchoolContract(this.candidateId).subscribe(r=>{this.subs.sink=this.admissionService.GeneratePDFRegistrationCandidate(this.candidateId).subscribe(s=>{c().fire({type:"success",title:this.translate.instant("Bravo"),confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{this.getOneCandidate(),this.isWaitingForResponse=!1,this.reloadData.emit(!0)})},s=>{this.isWaitingForResponse=!1,s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(()=>{this.getOneCandidate(),this.reloadData.emit(!0)})})},r=>{this.isWaitingForResponse=!1,r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.authService.handlerSessionExpired():"GraphQL error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===r.message||"GraphQL error: Error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===r.message?c().fire({type:"info",title:this.translate.instant("LEGAL_S5.Title"),text:this.translate.instant("LEGAL_S5.Text"),confirmButtonText:this.translate.instant("LEGAL_S5.Button")}).then(()=>{this.getOneCandidate(),this.reloadData.emit(!0)}):"GraphQL error: Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"===r.message||r.message.includes("Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit")?c().fire({type:"info",title:this.translate.instant("EUROPEAN_COUNTRIES.TITLE"),html:this.translate.instant("EUROPEAN_COUNTRIES.TEXT"),confirmButtonText:this.translate.instant("EUROPEAN_COUNTRIES.BUTTON")}).then(()=>{this.getOneCandidate(),this.reloadData.emit(!0)}):r.message.includes("is invalid. Please enter a valid IBAN.")?c().fire({type:"info",title:this.translate.instant("IBAN_S1.Title"),text:this.translate.instant("IBAN_S1.Text"),confirmButtonText:this.translate.instant("IBAN_S1.Button")}).then(()=>{this.getOneCandidate(),this.reloadData.emit(!0)}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(()=>{this.getOneCandidate(),this.reloadData.emit(!0)})}):c().fire({type:"success",title:this.translate.instant("Bravo"),confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{this.getOneCandidate(),this.isWaitingForResponse=!1,this.reloadData.emit(!0)})},l=>{this.isWaitingForResponse=!1,l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.authService.handlerSessionExpired():"GraphQL error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===l.message||"GraphQL error: Error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===l.message?c().fire({type:"info",title:this.translate.instant("LEGAL_S5.Title"),text:this.translate.instant("LEGAL_S5.Text"),confirmButtonText:this.translate.instant("LEGAL_S5.Button")}):"GraphQL error: Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"===l.message||l.message.includes("Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit")?c().fire({type:"info",title:this.translate.instant("EUROPEAN_COUNTRIES.TITLE"),html:this.translate.instant("EUROPEAN_COUNTRIES.TEXT"),confirmButtonText:this.translate.instant("EUROPEAN_COUNTRIES.BUTTON")}):l.message.includes("is invalid. Please enter a valid IBAN.")?c().fire({type:"info",title:this.translate.instant("IBAN_S1.Title"),text:this.translate.instant("IBAN_S1.Text"),confirmButtonText:this.translate.instant("IBAN_S1.Button")}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})},i=>{this.isWaitingForResponse=!1,i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.authService.handlerSessionExpired():"GraphQL error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===i.message||"GraphQL error: Error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===i.message?c().fire({type:"info",title:this.translate.instant("LEGAL_S5.Title"),text:this.translate.instant("LEGAL_S5.Text"),confirmButtonText:this.translate.instant("LEGAL_S5.Button")}):"GraphQL error: Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"===i.message||i.message.includes("Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit")?c().fire({type:"info",title:this.translate.instant("EUROPEAN_COUNTRIES.TITLE"),html:this.translate.instant("EUROPEAN_COUNTRIES.TEXT"),confirmButtonText:this.translate.instant("EUROPEAN_COUNTRIES.BUTTON")}):i.message.includes("is invalid. Please enter a valid IBAN.")?c().fire({type:"info",title:this.translate.instant("IBAN_S1.Title"),text:this.translate.instant("IBAN_S1.Text"),confirmButtonText:this.translate.instant("IBAN_S1.Button")}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}checkFormValidity(){var e=this;return(0,$t.Z)(function*(){return console.log(e.identityForm.invalid,e.isResetCountry,e.isResetNationality,e.isResetCountryOfBirth),!(e.identityForm.invalid||e.isResetCountry||e.isResetNationality||e.isResetCountryOfBirth)||(yield c().fire({type:"warning",title:e.translate.instant("FormSave_S1.TITLE"),html:e.translate.instant("FormSave_S1.TEXT"),confirmButtonText:e.translate.instant("FormSave_S1.BUTTON")}),e.resetInvalidAutoCompeleteValue(),e.markAllFieldsAsTouched(e.identityForm),!1)})()}markAllFieldsAsTouched(e){Object.keys(e.controls).forEach(a=>{const i=e.get(a);i instanceof m.UntypedFormControl?i.markAsTouched({onlySelf:!0}):i instanceof m.UntypedFormGroup&&this.markAllFieldsAsTouched(i)})}checkComparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.identityForm.getRawValue())}resetInvalidAutoCompeleteValue(){this.isResetCountry&&this.identityForm.get("country").setValue(""),this.isResetCountryOfBirth&&this.identityForm.get("country_of_birth").setValue(""),this.isResetNationality&&this.identityForm.get("nationality").setValue("")}countrySelected(e){"country"===e?this.isResetCountry=!1:"country_of_birth"===e&&(this.isResetCountryOfBirth=!1)}nationalityOptionClicked(){this.isResetNationality=!1}selectFile(e){const a=["jpg","jpeg","png"];if(this.imageBeforeCompressed=e.target.files[0],this.imageBeforeCompressed){const i=this.utilService.getFileExtension(this.imageBeforeCompressed.name).toLocaleLowerCase();if(a.includes(i))if(this.imageBeforeCompressed.size>5e6)c().fire({type:"info",title:this.translate.instant("UPLOAD_IMAGE.TITLE"),text:this.translate.instant("UPLOAD_IMAGE.TEXT"),confirmButtonText:this.translate.instant("UPLOAD_IMAGE.BUTTON")});else{this.isWaitingForResponse=!0;const l=this.imageBeforeCompressed?.name,r=this.imageBeforeCompressed?.size,s=new FileReader;s.onload=d=>{this.compressFile(d.target.result,l,r)},s.readAsDataURL(this.imageBeforeCompressed)}else c().fire({type:"info",title:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TITLE"),text:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TEXT",{file_exts:".jpg, .jpeg, .png"}),allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})}}compressFile(e,a,i){let r;const s=a.substring(0,a.lastIndexOf("."))+"-Compressed"+a.substring(a.lastIndexOf("."));i>3e6&&i<=5e6?r=20:i>=1e6&&i<=3e6?r=30:i<1e6&&(r=40),r&&this.imageCompress.compressFile(e,-1,r,50).then(d=>{fetch(d).then(p=>p.blob()).then(p=>{this.imageAfterCompressed=new File([p],s,{type:"image/png"}),this.uploadFile(this.imageAfterCompressed,this.imageBeforeCompressed)})})}getMinimumDateOfBirth(){const e=new Date;return new Date(e.setFullYear(e.getFullYear()-14))}uploadFile(e,a){this.photo="",this.photo_s3_path="",this.is_photo_in_s3=!1,e&&(this.subs.sink=this.fileUploadService.singleUpload(e).subscribe(i=>{i&&(console.log("Image compressed upload success"),this.identityForm.get("compressed_photo").setValue(i.s3_file_name))},i=>{i&&i.message&&i.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:"Error !",confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(l=>{console.log("[BE Message] Error is : ",i)})})),a&&(this.subs.sink=this.fileUploadService.singleUpload(a).subscribe(i=>{this.isWaitingForResponse=!1,i&&(this.photo=i.file_name,this.photo_s3_path=i.s3_file_name,this.is_photo_in_s3=!0,this.identityForm.get("photo").setValue(i.s3_file_name))},i=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(l=>{console.log("[BE Message] Error is : ",i)})})),this.resetFileState()}initEmail(){this.identityForm?.get("email")?.valueChanges?.pipe((0,A.b)(400)).subscribe(e=>{e!==this.currentEmail?(this.disableButtonVerify=!1,this.disableButtonSave=!0):(this.disableButtonVerify=!0,this.disableButtonSave=!1)})}verifyEmail(){this.isWaitingForResponse=!0,this.subs.sink=this.admissionService?.checkEmailAvailbility(this.identityForm?.get("email")?.value,this.candidateData?.user_id?._id).subscribe(e=>{this.isWaitingForResponse=!1,e&&c().fire({type:"success",title:this.translate.instant("Bravo"),confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{this.disableButtonSave=!1})},e=>{this.isWaitingForResponse=!1,e&&c().fire({type:"warning",title:this.translate.instant("SWAL_USER_EXIST_DUMMY.TITLE"),text:this.translate.instant("SWAL_USER_EXIST_DUMMY.TEXT"),confirmButtonText:this.translate.instant("SWAL_USER_EXIST_DUMMY.BUTTON"),allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{this.disableButtonSave=!0})})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(Rt.w),t.\u0275\u0275directiveInject(Q._A),t.\u0275\u0275directiveInject(m.UntypedFormBuilder),t.\u0275\u0275directiveInject(Yt.J),t.\u0275\u0275directiveInject(Re.r),t.\u0275\u0275directiveInject(nt.Z),t.\u0275\u0275directiveInject(vt.r),t.\u0275\u0275directiveInject(tt.F0),t.\u0275\u0275directiveInject(Gt.E),t.\u0275\u0275directiveInject(Ot.q),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(rt.t),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(xt.p),t.\u0275\u0275directiveInject(ot.$))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-identity-tab"]],viewQuery:function(e,a){if(1&e&&t.\u0275\u0275viewQuery(Ve,5),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.uploadInput=i.first)}},inputs:{candidateId:"candidateId",countryCodeList:"countryCodeList"},outputs:{reloadData:"reloadData"},features:[t.\u0275\u0275ProvidersFeature([Vt.n]),t.\u0275\u0275NgOnChangesFeature],decls:308,vars:151,consts:[[1,"p-grid",3,"formGroup"],[1,"p-col-12",2,"padding-left","0px","padding-right","0px"],[1,"p-grid",2,"margin-top","0.5rem"],[1,"p-col-12",2,"text-align","right","padding-right","0px"],["mat-raised-button","","color","accent",3,"disabled","click",4,"ngIf"],[1,"fieldset-class"],[1,"overlow-auto",2,"margin-top","0 !important"],[1,"p-grid"],[1,"p-col-fixed",2,"width","150px"],[1,"imgContainer"],["class","student-details-img","style","cursor: pointer; object-fit: cover",3,"src",4,"ngIf"],["type","file","name","file","accept","image/png, image/jpeg, image/jpg",2,"display","none",3,"change"],["userphoto",""],[1,"overlay",3,"click"],[1,"text"],[1,"p-col"],[1,"p-col-6","no-padding"],[1,"p-grid",2,"margin-bottom","10px"],[1,"p-col-fixed","center-label","no-padding-y",2,"width","80px"],[1,"p-col-9","no-padding-y"],["formControlName","civility",2,"font-size","12px"],["value","MR",2,"margin-right","1rem"],["value","MRS"],[4,"ngIf"],[1,"p-col","no-padding-y","pad-right-15"],["matInput","","formControlName","first_name","type","text"],[1,"p-col-6","no-padding","pad-left-5"],[1,"p-col","no-padding-y"],["matInput","","type","text","formControlName","first_name_used"],["matInput","","formControlName","last_name","type","text"],["matInput","","type","text","formControlName","last_name_used"],["matInput","","readonly","","formControlName","date_of_birth",3,"max","matDatepicker","click"],["matSuffix","",3,"for"],["myDatepicker",""],[1,"p-col","no-padding-y","p-grid",2,"position","relative"],[1,"label-for-phone"],[1,"phone-number","p-col-2"],["bindLabel","name",1,"custom-dropdownpanel-dialcode",3,"formControl","clearable","appendTo","change"],["ng-label-tmp",""],[3,"value",4,"ngFor","ngForOf"],[1,"phone-number","p-col-10"],["matInput","","formControlName","telephone","type","text"],["matInput","","formControlName","place_of_birth","type","text"],["type","text","matInput","","formControlName","fixed_phone"],["matInput","","formControlName","city_of_birth","type","text"],[1,"p-grid","no-padding"],[1,"p-col","no-padding"],["matInput","","formControlName","email","type","email"],[1,"check-email"],[1,"p-grid","p-justify-end"],["mat-raised-button","","color","accent",1,"custom-button",3,"disabled","click"],["type","text","matInput","","formControlName","country_of_birth",3,"placeholder","matAutocomplete","keyup","focus"],[3,"panelWidth","displayWith"],["autoCountryBirth","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["matInput","","formControlName","post_code_of_birth","type","text"],["color","accent"],["type","text","matInput","","formControlName","nationality",3,"matAutocomplete","keyup","focus"],[3,"displayWith","panelWidth"],["autoNationality1","matAutocomplete"],["type","text","matInput","","formControlName","nationality_second",3,"matAutocomplete","keyup","focus"],["autoNationality2","matAutocomplete"],["matInput","","formControlName","account_holder_name","type","text"],["matInput","","formControlName","iban","type","text"],["matInput","","formControlName","bic","type","text"],[1,"p-grid",2,"padding-top","10px"],[1,"p-col-12","mb-1rem","border-white",2,"padding-bottom","0px","margin-left","7px","margin-right","7px !important","width","98%"],[1,"p-col-12","no-padding",2,"padding-top","10px"],[1,"p-grid","flex-hidden-mr-1"],["color","accent",1,"full-width"],["matInput","","type","text","formControlName","address",3,"placeholder"],[1,"p-col-12","no-padding"],[1,"p-col-4","no-padding"],["matInput","","type","text","formControlName","post_code","maxlength","5",3,"placeholder","keyup"],["type","text","matInput","","formControlName","country",3,"placeholder","matAutocomplete","keyup","focus"],[3,"panelWidth","displayWith","optionSelected"],["autoCountry","matAutocomplete"],["type","text","matInput","","formControlName","city",3,"placeholder","matAutocomplete","keyup"],[3,"panelWidth"],["autoCity","matAutocomplete"],["type","text","matInput","","formControlName","department",3,"placeholder","matAutocomplete","keyup"],["autoDepartment","matAutocomplete"],["type","text","matInput","","formControlName","region",3,"placeholder","matAutocomplete","keyup"],["autoRegion","matAutocomplete"],["formGroupName","college",1,"p-col-12","mb-1rem","border-white",2,"padding-bottom","0px","margin-left","7px","margin-right","7px !important","width","98%"],["matInput","","type","text","formControlName","name",3,"placeholder"],["matInput","","formControlName","city","type","text",3,"placeholder"],["matInput","","type","text","formControlName","postal_code","maxlength","5",3,"placeholder"],["autoCountryCollege","matAutocomplete"],["class","loading-indicator",4,"ngIf"],["mat-raised-button","","color","accent",3,"disabled","click"],[1,"mat-icon-default"],[1,"student-details-img",2,"cursor","pointer","object-fit","cover",3,"src"],["value","neutral",2,"margin-left","1rem"],[1,"flag-icon-trigger",3,"src"],["class","ml-4",4,"ngIf"],[1,"ml-4"],[3,"value"],[1,"flag-icon",3,"src"],[3,"value","click"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,a){if(1&e){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275template(4,Le,5,4,"button",4),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"fieldset",5)(6,"mat-card",6)(7,"div",7)(8,"div",8)(9,"div",9),t.\u0275\u0275template(10,Ue,1,1,"img",10),t.\u0275\u0275template(11,ze,1,1,"img",10),t.\u0275\u0275elementStart(12,"input",11,12),t.\u0275\u0275listener("change",function(r){return a.selectFile(r)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"div",13),t.\u0275\u0275listener("click",function(){return a.openUploadWindow()}),t.\u0275\u0275elementStart(15,"div",14),t.\u0275\u0275text(16),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(18,"div",15)(19,"div",7)(20,"div",16)(21,"div",17)(22,"div",18)(23,"label"),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(26,"div",19)(27,"mat-radio-group",20)(28,"mat-radio-button",21),t.\u0275\u0275text(29),t.\u0275\u0275pipe(30,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(31,"mat-radio-button",22),t.\u0275\u0275text(32),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(34,$e,4,3,"ng-container",23),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(35,"div",7)(36,"div",16)(37,"div",7)(38,"div",24)(39,"mat-form-field")(40,"mat-label"),t.\u0275\u0275text(41),t.\u0275\u0275pipe(42,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(43,"input",25),t.\u0275\u0275template(44,He,3,3,"mat-error",23),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(45,"div",26)(46,"div",7)(47,"div",27)(48,"mat-form-field")(49,"mat-label"),t.\u0275\u0275text(50),t.\u0275\u0275pipe(51,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(52,"input",28),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(53,"div",7)(54,"div",16)(55,"div",7)(56,"div",24)(57,"mat-form-field")(58,"mat-label"),t.\u0275\u0275text(59),t.\u0275\u0275pipe(60,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(61,"input",29),t.\u0275\u0275template(62,je,3,3,"mat-error",23),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(63,"div",26)(64,"div",7)(65,"div",27)(66,"mat-form-field")(67,"mat-label"),t.\u0275\u0275text(68),t.\u0275\u0275pipe(69,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(70,"input",30),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(71,"div",7)(72,"div",16)(73,"div",7)(74,"div",24)(75,"mat-form-field")(76,"mat-label"),t.\u0275\u0275text(77),t.\u0275\u0275pipe(78,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(79,"input",31),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const r=t.\u0275\u0275reference(82);return t.\u0275\u0275resetView(r.open())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(80,"mat-datepicker-toggle",32)(81,"mat-datepicker",null,33),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(83,"div",26)(84,"div",7)(85,"div",34)(86,"mat-label",35),t.\u0275\u0275text(87),t.\u0275\u0275pipe(88,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(89,"div",36)(90,"ng-select",37),t.\u0275\u0275listener("change",function(r){return a.selectionDialCode(r)}),t.\u0275\u0275template(91,Ye,2,2,"ng-template",38),t.\u0275\u0275template(92,qe,2,2,"ng-option",39),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(93,"div",40)(94,"mat-form-field"),t.\u0275\u0275element(95,"input",41),t.\u0275\u0275template(96,Ke,3,3,"mat-error",23),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(97,"div",7)(98,"div",16)(99,"div",7)(100,"div",24)(101,"mat-form-field")(102,"mat-label"),t.\u0275\u0275text(103),t.\u0275\u0275pipe(104,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(105,"input",42),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(106,"div",26)(107,"div",7)(108,"div",27)(109,"mat-form-field")(110,"mat-label"),t.\u0275\u0275text(111),t.\u0275\u0275pipe(112,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(113,"input",43),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(114,"div",7)(115,"div",16)(116,"div",7)(117,"div",24)(118,"mat-form-field")(119,"mat-label"),t.\u0275\u0275text(120),t.\u0275\u0275pipe(121,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(122,"input",44),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(123,"div",26)(124,"div",7)(125,"div",27)(126,"mat-form-field")(127,"mat-label"),t.\u0275\u0275text(128),t.\u0275\u0275pipe(129,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(130,"div",45)(131,"div",46),t.\u0275\u0275element(132,"input",47),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(133,"div",46)(134,"div",48)(135,"div",49)(136,"button",50),t.\u0275\u0275listener("click",function(){return a.verifyEmail()}),t.\u0275\u0275text(137),t.\u0275\u0275pipe(138,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(139,"mat-error"),t.\u0275\u0275template(140,Qe,3,3,"p",23),t.\u0275\u0275template(141,Xe,3,3,"p",23),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(142,"div",7)(143,"div",16)(144,"div",7)(145,"div",24)(146,"mat-form-field")(147,"mat-label"),t.\u0275\u0275text(148),t.\u0275\u0275pipe(149,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(150,"input",51),t.\u0275\u0275listener("keyup",function(){return a.filterCountry(0,"country_of_birth")})("focus",function(){return a.restoreCountry(0,"country_of_birth")}),t.\u0275\u0275pipe(151,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(152,"mat-autocomplete",52,53),t.\u0275\u0275template(154,Ze,3,7,"mat-option",54),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(155,tn,2,1,"mat-error",23),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(156,"div",26)(157,"div",7)(158,"div",27)(159,"mat-form-field")(160,"mat-label"),t.\u0275\u0275text(161),t.\u0275\u0275pipe(162,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(163,"input",55),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(164,"div",7)(165,"div",16)(166,"div",7)(167,"div",27)(168,"mat-form-field",56)(169,"mat-label"),t.\u0275\u0275text(170),t.\u0275\u0275pipe(171,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(172,"input",57),t.\u0275\u0275listener("keyup",function(){return a.filterNationality(a.identityForm.get("nationality").value)})("focus",function(){return a.restoreNationality()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(173,"mat-autocomplete",58,59),t.\u0275\u0275template(175,en,3,7,"mat-option",54),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(176,an,2,1,"mat-error",23),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(177,"div",26)(178,"div",7)(179,"div",27)(180,"mat-form-field",56)(181,"mat-label"),t.\u0275\u0275text(182),t.\u0275\u0275pipe(183,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(184,"input",60),t.\u0275\u0275listener("keyup",function(){return a.filterNationality(a.identityForm.get("nationality_second").value)})("focus",function(){return a.restoreNationality()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(185,"mat-autocomplete",58,61),t.\u0275\u0275template(187,on,3,7,"mat-option",54),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(188,rn,2,1,"mat-error",23),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(189,"div",7)(190,"div",16)(191,"div",7)(192,"div",24)(193,"mat-form-field")(194,"mat-label"),t.\u0275\u0275text(195),t.\u0275\u0275pipe(196,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(197,"input",62),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(198,"div",7)(199,"div",16)(200,"div",7)(201,"div",24)(202,"mat-form-field")(203,"mat-label"),t.\u0275\u0275text(204),t.\u0275\u0275pipe(205,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(206,"input",63),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(207,"div",26)(208,"div",7)(209,"div",27)(210,"mat-form-field")(211,"mat-label"),t.\u0275\u0275text(212),t.\u0275\u0275pipe(213,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(214,"input",64),t.\u0275\u0275elementEnd()()()()()()(),t.\u0275\u0275elementStart(215,"div",65)(216,"div",66)(217,"div",7)(218,"div",67)(219,"div",68)(220,"div",46)(221,"mat-form-field",69),t.\u0275\u0275element(222,"input",70),t.\u0275\u0275pipe(223,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(224,"div",7)(225,"div",71)(226,"div",7)(227,"div",72)(228,"div",68)(229,"div",46)(230,"mat-form-field",56)(231,"input",73),t.\u0275\u0275listener("keyup",function(){return a.getPostcodeData()}),t.\u0275\u0275pipe(232,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(233,"div",72)(234,"div",68)(235,"div",46)(236,"mat-form-field",56)(237,"input",74),t.\u0275\u0275listener("keyup",function(){return a.filterCountry(0,"country")})("focus",function(){return a.restoreCountry(0,"country")}),t.\u0275\u0275pipe(238,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(239,"mat-autocomplete",75,76),t.\u0275\u0275listener("optionSelected",function(){return a.getPostcodeData()}),t.\u0275\u0275template(241,sn,3,7,"mat-option",54),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(242,dn,2,1,"mat-error",23),t.\u0275\u0275elementEnd()()()()()()(),t.\u0275\u0275elementStart(243,"div",7)(244,"div",71)(245,"div",7)(246,"div",72)(247,"div",68)(248,"div",46)(249,"mat-form-field",69)(250,"input",77),t.\u0275\u0275listener("keyup",function(){return a.filterCity(0)}),t.\u0275\u0275pipe(251,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(252,"mat-autocomplete",78,79),t.\u0275\u0275template(254,pn,2,2,"mat-option",39),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(255,"div",72)(256,"div",68)(257,"div",46)(258,"mat-form-field",69)(259,"input",80),t.\u0275\u0275listener("keyup",function(){return a.filterDepartment(0)}),t.\u0275\u0275pipe(260,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(261,"mat-autocomplete",78,81),t.\u0275\u0275template(263,mn,2,2,"mat-option",39),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(264,"div",72)(265,"div",68)(266,"div",46)(267,"mat-form-field",69)(268,"input",82),t.\u0275\u0275listener("keyup",function(){return a.filterRegion(0)}),t.\u0275\u0275pipe(269,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(270,"mat-autocomplete",78,83),t.\u0275\u0275template(272,_n,2,2,"mat-option",39),t.\u0275\u0275elementEnd()()()()()()()()()(),t.\u0275\u0275elementStart(273,"div",65)(274,"div",84)(275,"div",7)(276,"div",67)(277,"div",68)(278,"div",46)(279,"mat-form-field",69),t.\u0275\u0275element(280,"input",85),t.\u0275\u0275pipe(281,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(282,"div",7)(283,"div",67)(284,"div",68)(285,"div",46)(286,"mat-form-field"),t.\u0275\u0275element(287,"input",86),t.\u0275\u0275pipe(288,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(289,"div",7)(290,"div",71)(291,"div",7)(292,"div",72)(293,"div",68)(294,"div",46)(295,"mat-form-field",56),t.\u0275\u0275element(296,"input",87),t.\u0275\u0275pipe(297,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(298,"div",72)(299,"div",68)(300,"div",46)(301,"mat-form-field",56)(302,"input",74),t.\u0275\u0275listener("keyup",function(){return a.filterCountry(0,"college_country")})("focus",function(){return a.restoreCountry(0,"college_country")}),t.\u0275\u0275pipe(303,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(304,"mat-autocomplete",52,88),t.\u0275\u0275template(306,un,3,7,"mat-option",54),t.\u0275\u0275elementEnd()()()()()()()()()()()()()(),t.\u0275\u0275template(307,gn,2,0,"div",89)}if(2&e){const i=t.\u0275\u0275reference(82),l=t.\u0275\u0275reference(153),r=t.\u0275\u0275reference(174),s=t.\u0275\u0275reference(186),d=t.\u0275\u0275reference(240),p=t.\u0275\u0275reference(253),u=t.\u0275\u0275reference(262),_=t.\u0275\u0275reference(271),O=t.\u0275\u0275reference(305);t.\u0275\u0275property("formGroup",a.identityForm),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.permissionService.editPermCandidate()),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",a.is_photo_in_s3),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.is_photo_in_s3),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(17,85,"DOCUMENT.IMAGE")),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(25,87,"CARDDETAIL.Civility"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(30,89,"CARDDETAIL.MR")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(33,91,"CARDDETAIL.MRS")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.coreService?null:a.coreService.neutralCivility),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(42,93,"CARDDETAIL.First Name (Identity card)")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.identityForm.get("first_name").hasError("required")&&(a.identityForm.get("first_name").touched||a.identityForm.get("first_name").dirty)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(51,95,"CARDDETAIL.Used first name")),t.\u0275\u0275advance(9),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(60,97,"CARDDETAIL.Last Name (Identity card)")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.identityForm.get("last_name").hasError("required")&&(a.identityForm.get("last_name").touched||a.identityForm.get("last_name").dirty)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(69,99,"CARDDETAIL.Used last name")),t.\u0275\u0275advance(9),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(78,101,"CARDDETAIL.Date of Birth")),t.\u0275\u0275advance(2),t.\u0275\u0275property("max",a.minimumDateOfBirth)("matDatepicker",i),t.\u0275\u0275advance(1),t.\u0275\u0275property("for",i),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(88,103,"CARDDETAIL.Phone")),t.\u0275\u0275advance(3),t.\u0275\u0275property("formControl",a.dialCodeControl)("clearable",!1)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.countryCodeList),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.identityForm.get("telephone").hasError("pattern")&&(a.identityForm.get("telephone").touched||a.identityForm.get("telephone").dirty)),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(104,105,"CARDDETAIL.Place of Birth")),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(112,107,"QUESTIONNAIRE_FIELDS.T\xe9l\xe9phone Fixe")),t.\u0275\u0275advance(9),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(121,109,"CARDDETAIL.City of birth")),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(129,111,"CARDDETAIL.Personal Email")),t.\u0275\u0275advance(8),t.\u0275\u0275property("disabled",a.identityForm.get("email").invalid||a.disableButtonVerify),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(138,113,"COMPANY.Check Email Availability")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.identityForm.get("email").hasError("required")&&(a.identityForm.get("email").touched||a.identityForm.get("email").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("email").hasError("email")&&(a.identityForm.get("email").touched||a.identityForm.get("email").dirty)),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(149,115,"CARDDETAIL.Country of birth")),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(151,117,"CARDDETAIL.Country")),t.\u0275\u0275property("matAutocomplete",l),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit")("displayWith",a.displayCountry.bind(a)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.filteredCountryOfBirth[0]),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("country_of_birth").errors&&(a.identityForm.get("country_of_birth").touched||a.identityForm.get("country_of_birth").dirty)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(162,119,"CARDDETAIL.Postal code of birth")),t.\u0275\u0275advance(9),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(171,121,"CARDDETAIL.Nationality 1")),t.\u0275\u0275advance(2),t.\u0275\u0275property("matAutocomplete",r),t.\u0275\u0275advance(1),t.\u0275\u0275property("displayWith",a.displayNationality.bind(a))("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.nationalList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("nationality").errors&&(a.identityForm.get("nationality").touched||a.identityForm.get("nationality").dirty)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(183,123,"CARDDETAIL.Nationality 2")),t.\u0275\u0275advance(2),t.\u0275\u0275property("matAutocomplete",s),t.\u0275\u0275advance(1),t.\u0275\u0275property("displayWith",a.displayNationality.bind(a))("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.nationalList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("nationality_second").errors&&(a.identityForm.get("nationality_second").touched||a.identityForm.get("nationality_second").dirty)),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(196,125,"Account holder name")),t.\u0275\u0275advance(9),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(205,127,"IBAN")),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(213,129,"BIC")),t.\u0275\u0275advance(10),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(223,131,"CARDDETAIL.Address")),t.\u0275\u0275advance(9),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(232,133,"CARDDETAIL.Zip Code")),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(238,135,"CARDDETAIL.Country")),t.\u0275\u0275property("matAutocomplete",d),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit")("displayWith",a.displayCountry.bind(a)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.filteredCountry[0]),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("country").errors&&(a.identityForm.get("country").touched||a.identityForm.get("country").dirty)),t.\u0275\u0275advance(8),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(251,137,"CARDDETAIL.City")),t.\u0275\u0275property("matAutocomplete",p),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.filteredCities[0]),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(260,139,"CARDDETAIL.Department")),t.\u0275\u0275property("matAutocomplete",u),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.filteredDepartments[0]),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(269,141,"CARDDETAIL.Region")),t.\u0275\u0275property("matAutocomplete",_),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.filteredRegions[0]),t.\u0275\u0275advance(8),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(281,143,"CARDDETAIL.COLLEGE.College name")),t.\u0275\u0275advance(7),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(288,145,"CARDDETAIL.COLLEGE.College city")),t.\u0275\u0275advance(9),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(297,147,"CARDDETAIL.COLLEGE.College postal code")),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(303,149,"CARDDETAIL.COLLEGE.College country")),t.\u0275\u0275property("matAutocomplete",O),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit")("displayWith",a.displayCountry.bind(a)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.filteredCountryCollege[0]),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isWaitingForResponse)}},dependencies:[f.sg,f.O5,gt.XC,gt.ZL,Q.ey,I.lW,ft.a8,P.Mq,P.hl,P.nW,k.Hw,S.TO,S.KE,S.hX,S.R9,z.Nt,D.Ou,It.VQ,It.U0,m.DefaultValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.MaxLengthValidator,m.FormControlDirective,m.FormGroupDirective,m.FormControlName,m.FormGroupName,K.w9,K.jq,K.mR,M.X$],styles:[".border-white[_ngcontent-%COMP%]{border:1px solid white}.center-label[_ngcontent-%COMP%]{align-self:center}.no-padding[_ngcontent-%COMP%]{padding:0}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}label[_ngcontent-%COMP%]{font-size:12px!important}.imgContainer[_ngcontent-%COMP%]{position:relative;height:10rem;width:auto;cursor:pointer;overflow:hidden}.pad-left-5[_ngcontent-%COMP%]{padding-left:5px!important}.pad-right-15[_ngcontent-%COMP%]{padding-right:15px!important}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;height:100%;width:100%;opacity:0;transition:.5s ease;background-color:#2f2f2f}.student-details-img[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.imgContainer[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.text[_ngcontent-%COMP%]{color:#fff;font-size:20px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.spinner-wrapper[_ngcontent-%COMP%]{width:100%;height:320px;display:flex;justify-content:center;align-items:center;top:0;left:0;z-index:998}.fieldset-class[_ngcontent-%COMP%]{padding:0;border:0px}.overlow-auto[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]     body .app-dark .mat-form-field-appearance-legacy .mat-form-field-label{color:#fff!important}[_nghost-%COMP%]     .mat-input-element:disabled{color:#fff!important}[_nghost-%COMP%]     mat-input-element{color:#fff!important}[_nghost-%COMP%]  .mat-form-field.mat-form-field-invalid .mat-input-element{color:#ff5722!important}[_nghost-%COMP%]  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#ff5722!important}[_nghost-%COMP%]  .mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#ff5722!important}[_nghost-%COMP%]  .mat-form-field.mat-form-field-invalid .mat-form-field-ripple{color:#ff5722!important}.check-email[_ngcontent-%COMP%]{width:50%;position:absolute;bottom:5px}.custom-button[_ngcontent-%COMP%]{white-space:break-spaces!important;margin:0;padding:0!important;line-height:10px!important;font-size:11px!important}.flag-icon[_ngcontent-%COMP%]{vertical-align:text-top;margin-right:12px;height:14px;width:20px;display:inline-block}.flag-icon-trigger[_ngcontent-%COMP%]{vertical-align:text-top;margin-right:2px;height:16px;width:16px;display:inline-block}.border-button[_ngcontent-%COMP%]{border-bottom:1px solid #dadada}.phone-number.p-col-2[_ngcontent-%COMP%], .phone-number.p-col-10[_ngcontent-%COMP%]{padding:0!important}.phone-number.p-col-2[_ngcontent-%COMP%]{padding-right:0!important}.phone-number.p-col-10[_ngcontent-%COMP%]{padding-left:12px!important}.label-for-phone[_ngcontent-%COMP%]{filter:blur(.4px);position:absolute;font-size:13px;color:#aaa;font-weight:700;bottom:42px}.ml-4[_ngcontent-%COMP%]{margin-left:4px}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgba(241,241,241,.8)!important;box-shadow:unset;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important;margin-top:6px!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important;margin-top:8px!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}  .ng-dropdown-panel.custom-dropdownpanel-dialcode{width:-moz-fit-content!important;width:fit-content!important}"]}),n})();var Z=C(37084);function fn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275element(1,"mat-spinner",3),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}function bn(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",33),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.updateStatus(null==l?null:l.value))}),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()}if(2&n){const e=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,null==e?null:e.key))}}function Cn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error",34),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Invalid email format")," "))}function xn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"type_formation."+(null==e.registrationData||null==e.registrationData.type_of_formation_id?null:e.registrationData.type_of_formation_id.type_of_formation))," ")}}function yn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1," - "),t.\u0275\u0275elementEnd())}function vn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"None")," "))}function Tn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"None")," "))}function Mn(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"credit_card"===(null==e.registrationData?null:e.registrationData.method_of_payment)?"Bank Debit":null==e.registrationData?null:e.registrationData.method_of_payment)," ")}}function Sn(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"None")," "))}function On(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Mn,3,3,"ng-container",30),t.\u0275\u0275template(2,Sn,3,3,"ng-container",30),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","avoir"!==(null==e.registrationData?null:e.registrationData.method_of_payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","avoir"===(null==e.registrationData?null:e.registrationData.method_of_payment))}}function Pn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"None")," "))}function wn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e.registrationData?null:e.registrationData.payment_method)," ")}}function Dn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"None")," "))}function En(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e.registrationData&&e.registrationData.payment_method&&"avoir"!==(null==e.registrationData?null:e.registrationData.payment_method)?t.\u0275\u0275pipeBind1(2,1,null==e.registrationData?null:e.registrationData.payment_method):"avoir"===(null==e.registrationData?null:e.registrationData.payment_method)?t.\u0275\u0275pipeBind1(3,3,"None"):"-"," ")}}function In(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Dn,3,3,"span",30),t.\u0275\u0275template(2,En,4,5,"span",30),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","no"===(null==e.registrationData||null==e.registrationData.registration_profile?null:e.registrationData.registration_profile.is_down_payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","no"!==(null==e.registrationData||null==e.registrationData.registration_profile?null:e.registrationData.registration_profile.is_down_payment))}}function kn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"None")," "))}function Fn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",null==e.registrationData||null==e.registrationData.billing_id?null:e.registrationData.billing_id.deposit," EUR - ",t.\u0275\u0275pipeBind1(2,2,e.renderTooltipStatusDP(e.registrationData))," ")}}function Bn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"None")," "))}function An(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",null==e.registrationData||null==e.registrationData.billing_id?null:e.registrationData.billing_id.deposit," EUR - ",t.\u0275\u0275pipeBind1(2,2,e.renderTooltipStatusDP(e.registrationData))," ")}}function Nn(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"None")," "))}function Rn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,An,3,4,"ng-container",30),t.\u0275\u0275template(2,Nn,3,3,"ng-container",30),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.registrationData||null==e.registrationData.billing_id?null:e.registrationData.billing_id.deposit)>=0&&"avoir"!==(null==e.registrationData?null:e.registrationData.method_of_payment)&&"avoir"!==(null==e.registrationData?null:e.registrationData.payment_method)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===(null==e.registrationData||null==e.registrationData.billing_id?null:e.registrationData.billing_id.deposit)&&"avoir"===(null==e.registrationData?null:e.registrationData.method_of_payment)&&"avoir"===(null==e.registrationData?null:e.registrationData.payment_method))}}function Vn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Bn,3,3,"span",30),t.\u0275\u0275template(2,Rn,3,2,"span",30),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","no"===(null==e.registrationData||null==e.registrationData.registration_profile?null:e.registrationData.registration_profile.is_down_payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","no"!==(null==e.registrationData||null==e.registrationData.registration_profile?null:e.registrationData.registration_profile.is_down_payment))}}function Ln(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",15)(2,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.openDocTransferOrCheck(null==i.registrationData||null==i.registrationData.payment_transfer_check_data?null:i.registrationData.payment_transfer_check_data.s3_document_name))}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-icon",46),t.\u0275\u0275text(5,"description"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(3,2,"AdmissionFollowUp.Proof of payment")),t.\u0275\u0275property("matTooltipDisabled",!1))}function Un(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",15),t.\u0275\u0275text(2,"-"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function zn(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2,"-"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function $n(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.viewAdmissionFile(null==i.registrationData?null:i.registrationData._id))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-icon",46),t.\u0275\u0275text(5,"description"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",null!=e.registrationData&&e.registrationData.readmission_status?t.\u0275\u0275pipeBind1(2,2,"Readmission form"):t.\u0275\u0275pipeBind1(3,4,"Registration form")),t.\u0275\u0275property("matTooltipDisabled",!1)}}function Hn(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.exportPDF())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"mat-icon",46),t.\u0275\u0275text(4,"description"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,2,"School Contract")),t.\u0275\u0275property("matTooltipDisabled",!1))}function jn(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2,"-"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Wn(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.exportPDF())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"mat-icon",46),t.\u0275\u0275text(4,"description"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,2,"School Contract")),t.\u0275\u0275property("matTooltipDisabled",!1))}function Yn(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2,"-"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Gn(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.viewPDF(null==i.registrationData?null:i.registrationData.registration_certificate))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-icon",46),t.\u0275\u0275text(5,"description"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",null!==(null==e.registrationData?null:e.registrationData.readmission_status)?t.\u0275\u0275pipeBind1(2,2,"Readmission Certificate"):t.\u0275\u0275pipeBind1(3,4,"Registration Certificate")),t.\u0275\u0275property("matTooltipDisabled",!1)}}function qn(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e.registrationData||null==e.registrationData.reinscription_yes_no?null:e.registrationData.reinscription_yes_no.answer_label," ")}}function Kn(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2,"-"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Qn(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.exportPDFAmendement())}),t.\u0275\u0275elementStart(2,"mat-icon",46),t.\u0275\u0275text(3,"description"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",null==e.registrationData||null==e.registrationData.current_school_contract_amendment_form?null:e.registrationData.current_school_contract_amendment_form.school_amendment_pdf_name),t.\u0275\u0275property("matTooltipDisabled",!1)}}function Xn(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2,"-"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Zn(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e.registrationData?null:e.registrationData.reason_no_reinscription," ")}}function Jn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",11)(1,"div",9)(2,"div",24)(3,"span"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"span",14),t.\u0275\u0275text(7,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",15),t.\u0275\u0275template(9,Zn,2,1,"ng-container",30),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,2,"Reason no reinscription")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",null==e.registrationData?null:e.registrationData.reason_no_reinscription)}}function ta(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",10)(2,"div",9)(3,"div",11)(4,"div",9)(5,"div",35)(6,"span"),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"span",14),t.\u0275\u0275text(10,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"div",15)(12,"span"),t.\u0275\u0275text(13),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(14,"div",11)(15,"div",9)(16,"div",29)(17,"span"),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"span",14),t.\u0275\u0275text(21,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"div",15),t.\u0275\u0275template(23,kn,3,3,"span",30),t.\u0275\u0275template(24,Fn,3,4,"span",30),t.\u0275\u0275template(25,Vn,3,2,"span",30),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(26,"div",10)(27,"div",9)(28,"div",11)(29,"div",9)(30,"div",36)(31,"span"),t.\u0275\u0275text(32),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(35,"span",14),t.\u0275\u0275text(36,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(37,"div",15)(38,"span"),t.\u0275\u0275text(39),t.\u0275\u0275pipe(40,"translate"),t.\u0275\u0275pipe(41,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(42,"div",11)(43,"div",9)(44,"div",37),t.\u0275\u0275text(45),t.\u0275\u0275pipe(46,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(47,"span",14),t.\u0275\u0275text(48,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(49,Ln,6,4,"ng-container",30),t.\u0275\u0275template(50,Un,3,0,"ng-container",30),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(51,"div",10)(52,"div",9)(53,"div",11)(54,"div",9)(55,"div",38)(56,"span"),t.\u0275\u0275text(57),t.\u0275\u0275pipe(58,"translate"),t.\u0275\u0275pipe(59,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(60,"span",14),t.\u0275\u0275text(61,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(62,"div",15),t.\u0275\u0275template(63,zn,3,0,"ng-container",30),t.\u0275\u0275template(64,$n,6,6,"ng-container",30),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(65,"div",11)(66,"div",9)(67,"div",29)(68,"span"),t.\u0275\u0275text(69),t.\u0275\u0275pipe(70,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(71,"span",14),t.\u0275\u0275text(72,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(73,"div",15),t.\u0275\u0275template(74,Hn,5,4,"ng-container",30),t.\u0275\u0275template(75,jn,3,0,"ng-container",30),t.\u0275\u0275template(76,Wn,5,4,"ng-container",30),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(77,"div",10)(78,"div",9)(79,"div",11)(80,"div",9)(81,"div",38)(82,"span"),t.\u0275\u0275text(83),t.\u0275\u0275pipe(84,"translate"),t.\u0275\u0275pipe(85,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(86,"span",14),t.\u0275\u0275text(87,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(88,"div",15),t.\u0275\u0275template(89,Yn,3,0,"ng-container",30),t.\u0275\u0275template(90,Gn,6,6,"ng-container",30),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(91,"div",11)(92,"div",9)(93,"div",29)(94,"span"),t.\u0275\u0275text(95),t.\u0275\u0275pipe(96,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(97,"span",14),t.\u0275\u0275text(98,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(99,"div",15),t.\u0275\u0275text(100),t.\u0275\u0275pipe(101,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(102,"div",10)(103,"div",9)(104,"div",11)(105,"div",9)(106,"div",24)(107,"span"),t.\u0275\u0275text(108),t.\u0275\u0275pipe(109,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(110,"span",14),t.\u0275\u0275text(111,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(112,"div",15),t.\u0275\u0275template(113,qn,2,1,"ng-container",30),t.\u0275\u0275template(114,Kn,3,0,"ng-container",30),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(115,"div",11)(116,"div",9)(117,"div",29)(118,"span"),t.\u0275\u0275text(119),t.\u0275\u0275pipe(120,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(121,"span",14),t.\u0275\u0275text(122,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(123,"div",15),t.\u0275\u0275template(124,Qn,4,2,"ng-container",30),t.\u0275\u0275template(125,Xn,3,0,"ng-container",30),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(126,Jn,10,4,"div",39),t.\u0275\u0275element(127,"div",40),t.\u0275\u0275elementStart(128,"div",11)(129,"div",41)(130,"div",13)(131,"span"),t.\u0275\u0275text(132),t.\u0275\u0275pipe(133,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(134,"span",14),t.\u0275\u0275text(135,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(136,"div",15)(137,"mat-form-field",42),t.\u0275\u0275element(138,"input",43),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(139,"div",11)(140,"div",41)(141,"div",37)(142,"span"),t.\u0275\u0275text(143),t.\u0275\u0275pipe(144,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(145,"span",14),t.\u0275\u0275text(146,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(147,"div",15)(148,"mat-form-field",42),t.\u0275\u0275element(149,"input",44),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,33,"1st Email Admission")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",null!=e.registrationData&&e.registrationData.announcement_email?null==e.registrationData?null:e.registrationData.announcement_email:"-"," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(19,35,"AdmissionFollowUp.Down payment")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",!(100!==(null==e.registrationData||null==e.registrationData.registration_profile?null:e.registrationData.registration_profile.discount_on_full_rate)||e.registrationFee||null!=e.registrationData&&null!=e.registrationData.billing_id&&e.registrationData.billing_id.deposit)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",100===(null==e.registrationData||null==e.registrationData.registration_profile?null:e.registrationData.registration_profile.discount_on_full_rate)&&!e.registrationFee&&(null==e.registrationData||null==e.registrationData.billing_id?null:e.registrationData.billing_id.deposit)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",100!==(null==e.registrationData||null==e.registrationData.registration_profile?null:e.registrationData.registration_profile.discount_on_full_rate)||e.registrationFee),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",null!==(null==e.registrationData?null:e.registrationData.readmission_status)?t.\u0275\u0275pipeBind1(33,37,"Readmission status"):t.\u0275\u0275pipeBind1(34,39,"Registration status")," "),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(40,41,null==e.registrationData?null:e.registrationData.candidate_admission_status)," ","-"!==e.getRegistrationDate(e.registrationData)?t.\u0275\u0275pipeBind1(41,43,"056_ES.FAILURE_TITLE.AT")+" "+e.getRegistrationDate(e.registrationData):""," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(46,45,"AdmissionFollowUp.Proof of payment")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.registrationData||null==e.registrationData.payment_transfer_check_data?null:e.registrationData.payment_transfer_check_data.s3_document_name),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.registrationData&&null!=e.registrationData.payment_transfer_check_data&&e.registrationData.payment_transfer_check_data.s3_document_name)),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",null!=e.registrationData&&e.registrationData.readmission_status?t.\u0275\u0275pipeBind1(58,47,"Readmission form"):t.\u0275\u0275pipeBind1(59,49,"Registration form")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",e.hideRegistrationForm),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.hideRegistrationForm),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(70,51,"School Contract")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",!e.isCandidateFC&&"admitted"!==(null==e.registrationData?null:e.registrationData.candidate_admission_status)&&"admission_in_progress"!==(null==e.registrationData?null:e.registrationData.candidate_admission_status)&&"not_done"!==(null==e.registrationData?null:e.registrationData.signature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.isCandidateFC&&("admitted"===(null==e.registrationData?null:e.registrationData.candidate_admission_status)||"admission_in_progress"===(null==e.registrationData?null:e.registrationData.candidate_admission_status))||"not_done"===(null==e.registrationData?null:e.registrationData.signature)||e.isCandidateFC&&"not_done"===(null==e.registrationData?null:e.registrationData.signature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.isCandidateFC&&"not_done"!==(null==e.registrationData?null:e.registrationData.signature)),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",null!==(null==e.registrationData?null:e.registrationData.readmission_status)?t.\u0275\u0275pipeBind1(84,53,"Readmission Certificate"):t.\u0275\u0275pipeBind1(85,55,"Registration Certificate")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",!(null!=e.registrationData&&e.registrationData.registration_certificate)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.registrationData?null:e.registrationData.registration_certificate),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(96,57,"jury_decision")," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(null!=e.registrationData&&e.registrationData.jury_decision?t.\u0275\u0275pipeBind1(101,59,null==e.registrationData?null:e.registrationData.jury_decision):"-"),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(109,61,"Reinscription Yes / No")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",null==e.registrationData||null==e.registrationData.reinscription_yes_no?null:e.registrationData.reinscription_yes_no.answer_label),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.registrationData&&null!=e.registrationData.reinscription_yes_no&&e.registrationData.reinscription_yes_no.answer_label)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(120,63,"School contract amendment student card")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf","done"===(null==e.registrationData||null==e.registrationData.current_school_contract_amendment_form?null:e.registrationData.current_school_contract_amendment_form.form_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","done"!==(null==e.registrationData||null==e.registrationData.current_school_contract_amendment_form?null:e.registrationData.current_school_contract_amendment_form.form_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!1===(null==e.registrationData||null==e.registrationData.reinscription_yes_no?null:e.registrationData.reinscription_yes_no.is_answer_yes)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(133,65,"CVEC Number")," "),t.\u0275\u0275advance(11),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(144,67,"INE Number")," ")}}function ea(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"None")," "))}function na(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",null==e.registrationData||null==e.registrationData.billing_id?null:e.registrationData.billing_id.deposit," EUR - ",t.\u0275\u0275pipeBind1(2,2,e.renderTooltipStatusDP(e.registrationData))," ")}}function aa(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"None")," "))}function ia(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",null==e.registrationData||null==e.registrationData.billing_id?null:e.registrationData.billing_id.deposit," EUR - ",t.\u0275\u0275pipeBind1(2,2,e.renderTooltipStatusDP(e.registrationData))," ")}}function oa(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"None")," "))}function la(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,ia,3,4,"ng-container",30),t.\u0275\u0275template(2,oa,3,3,"ng-container",30),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.registrationData||null==e.registrationData.billing_id?null:e.registrationData.billing_id.deposit)>=0&&"avoir"!==(null==e.registrationData?null:e.registrationData.method_of_payment)&&"avoir"!==(null==e.registrationData?null:e.registrationData.payment_method)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===(null==e.registrationData||null==e.registrationData.billing_id?null:e.registrationData.billing_id.deposit)&&"avoir"===(null==e.registrationData?null:e.registrationData.method_of_payment)&&"avoir"===(null==e.registrationData?null:e.registrationData.payment_method))}}function ra(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,aa,3,3,"span",30),t.\u0275\u0275template(2,la,3,2,"span",30),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","no"===(null==e.registrationData||null==e.registrationData.registration_profile?null:e.registrationData.registration_profile.is_down_payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","no"!==(null==e.registrationData||null==e.registrationData.registration_profile?null:e.registrationData.registration_profile.is_down_payment))}}function sa(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.exportPDF())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"mat-icon",46),t.\u0275\u0275text(4,"description"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,2,"School Contract")),t.\u0275\u0275property("matTooltipDisabled",!1))}function ca(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2,"-"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function da(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.exportPDF())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"mat-icon",46),t.\u0275\u0275text(4,"description"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,2,"School Contract")),t.\u0275\u0275property("matTooltipDisabled",!1))}function pa(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2,"-"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function ma(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.viewAdmissionFile(null==i.registrationData?null:i.registrationData._id))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-icon",46),t.\u0275\u0275text(5,"description"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",null!=e.registrationData&&e.registrationData.readmission_status?t.\u0275\u0275pipeBind1(2,2,"Readmission form"):t.\u0275\u0275pipeBind1(3,4,"Registration form")),t.\u0275\u0275property("matTooltipDisabled",!1)}}function _a(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2,"-"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function ua(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.viewPDF(null==i.registrationData?null:i.registrationData.registration_certificate))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-icon",46),t.\u0275\u0275text(5,"description"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",null!==(null==e.registrationData?null:e.registrationData.readmission_status)?t.\u0275\u0275pipeBind1(2,2,"Readmission Certificate"):t.\u0275\u0275pipeBind1(3,4,"Registration Certificate")),t.\u0275\u0275property("matTooltipDisabled",!1)}}function ga(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.exportPDFAmendement())}),t.\u0275\u0275elementStart(2,"mat-icon",46),t.\u0275\u0275text(3,"description"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",null==e.registrationData||null==e.registrationData.current_school_contract_amendment_form?null:e.registrationData.current_school_contract_amendment_form.school_amendment_pdf_name),t.\u0275\u0275property("matTooltipDisabled",!1)}}function ha(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2,"-"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function fa(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e.registrationData||null==e.registrationData.reinscription_yes_no?null:e.registrationData.reinscription_yes_no.answer_label," ")}}function ba(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2,"-"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Ca(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e.registrationData?null:e.registrationData.reason_no_reinscription," ")}}function xa(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",11)(1,"div",9)(2,"div",24)(3,"span"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"span",14),t.\u0275\u0275text(7,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",15),t.\u0275\u0275template(9,Ca,2,1,"ng-container",30),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,2,"Reason no reinscription")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",null==e.registrationData?null:e.registrationData.reason_no_reinscription)}}function ya(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",10)(2,"div",9)(3,"div",11)(4,"div",9)(5,"div",35)(6,"span"),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"span",14),t.\u0275\u0275text(10,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"div",15)(12,"span"),t.\u0275\u0275text(13),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(14,"div",11)(15,"div",9)(16,"div",29)(17,"span"),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"span",14),t.\u0275\u0275text(21,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"div",15),t.\u0275\u0275template(23,ea,3,3,"span",30),t.\u0275\u0275template(24,na,3,4,"span",30),t.\u0275\u0275template(25,ra,3,2,"span",30),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(26,"div",10)(27,"div",9)(28,"div",11)(29,"div",9)(30,"div",36)(31,"span"),t.\u0275\u0275text(32),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(35,"span",14),t.\u0275\u0275text(36,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(37,"div",15)(38,"span"),t.\u0275\u0275text(39),t.\u0275\u0275pipe(40,"translate"),t.\u0275\u0275pipe(41,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(42,"div",11)(43,"div",9)(44,"div",29)(45,"span"),t.\u0275\u0275text(46),t.\u0275\u0275pipe(47,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(48,"span",14),t.\u0275\u0275text(49,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(50,"div",15),t.\u0275\u0275template(51,sa,5,4,"ng-container",30),t.\u0275\u0275template(52,ca,3,0,"ng-container",30),t.\u0275\u0275template(53,da,5,4,"ng-container",30),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(54,"div",10)(55,"div",9)(56,"div",11)(57,"div",9)(58,"div",38)(59,"span"),t.\u0275\u0275text(60),t.\u0275\u0275pipe(61,"translate"),t.\u0275\u0275pipe(62,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(63,"span",14),t.\u0275\u0275text(64,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(65,"div",15),t.\u0275\u0275template(66,pa,3,0,"ng-container",30),t.\u0275\u0275template(67,ma,6,6,"ng-container",30),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(68,"div",11)(69,"div",9)(70,"div",29)(71,"span"),t.\u0275\u0275text(72),t.\u0275\u0275pipe(73,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(74,"span",14),t.\u0275\u0275text(75,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(76,"div",15),t.\u0275\u0275text(77),t.\u0275\u0275pipe(78,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(79,"div",10)(80,"div",9)(81,"div",11)(82,"div",9)(83,"div",38)(84,"span"),t.\u0275\u0275text(85),t.\u0275\u0275pipe(86,"translate"),t.\u0275\u0275pipe(87,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(88,"span",14),t.\u0275\u0275text(89,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(90,"div",15),t.\u0275\u0275template(91,_a,3,0,"ng-container",30),t.\u0275\u0275template(92,ua,6,6,"ng-container",30),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(93,"div",11)(94,"div",9)(95,"div",29)(96,"span"),t.\u0275\u0275text(97),t.\u0275\u0275pipe(98,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(99,"span",14),t.\u0275\u0275text(100,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(101,"div",15),t.\u0275\u0275template(102,ga,4,2,"ng-container",30),t.\u0275\u0275template(103,ha,3,0,"ng-container",30),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(104,"div",11)(105,"div",9)(106,"div",24)(107,"span"),t.\u0275\u0275text(108),t.\u0275\u0275pipe(109,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(110,"span",14),t.\u0275\u0275text(111,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(112,"div",15),t.\u0275\u0275template(113,fa,2,1,"ng-container",30),t.\u0275\u0275template(114,ba,3,0,"ng-container",30),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275element(115,"div",40),t.\u0275\u0275template(116,xa,10,4,"div",39),t.\u0275\u0275element(117,"div",40),t.\u0275\u0275elementStart(118,"div",11)(119,"div",41)(120,"div",24)(121,"span"),t.\u0275\u0275text(122),t.\u0275\u0275pipe(123,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(124,"span",14),t.\u0275\u0275text(125,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(126,"div",15)(127,"mat-form-field",42),t.\u0275\u0275element(128,"input",43),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(129,"div",11)(130,"div",41)(131,"div",29)(132,"span"),t.\u0275\u0275text(133),t.\u0275\u0275pipe(134,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(135,"span",14),t.\u0275\u0275text(136,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(137,"div",15)(138,"mat-form-field",42),t.\u0275\u0275element(139,"input",44),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,30,"1st Email Admission")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",null!=e.registrationData&&e.registrationData.announcement_email?null==e.registrationData?null:e.registrationData.announcement_email:"-"," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(19,32,"AdmissionFollowUp.Down payment")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",!(100!==(null==e.registrationData||null==e.registrationData.registration_profile?null:e.registrationData.registration_profile.discount_on_full_rate)||e.registrationFee||null!=e.registrationData&&null!=e.registrationData.billing_id&&e.registrationData.billing_id.deposit)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",100===(null==e.registrationData||null==e.registrationData.registration_profile?null:e.registrationData.registration_profile.discount_on_full_rate)&&!e.registrationFee&&(null==e.registrationData||null==e.registrationData.billing_id?null:e.registrationData.billing_id.deposit)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",100!==(null==e.registrationData||null==e.registrationData.registration_profile?null:e.registrationData.registration_profile.discount_on_full_rate)||e.registrationFee),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",null!==(null==e.registrationData?null:e.registrationData.readmission_status)?t.\u0275\u0275pipeBind1(33,34,"Readmission status"):t.\u0275\u0275pipeBind1(34,36,"Registration status")," "),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(40,38,null==e.registrationData?null:e.registrationData.candidate_admission_status)," ","-"!==e.getRegistrationDate(e.registrationData)?t.\u0275\u0275pipeBind1(41,40,"056_ES.FAILURE_TITLE.AT")+" "+e.getRegistrationDate(e.registrationData):""," "),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(47,42,"School Contract")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",!e.isCandidateFC&&"admitted"!==(null==e.registrationData?null:e.registrationData.candidate_admission_status)&&"admission_in_progress"!==(null==e.registrationData?null:e.registrationData.candidate_admission_status)&&"not_done"!==(null==e.registrationData?null:e.registrationData.signature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.isCandidateFC&&("admitted"===(null==e.registrationData?null:e.registrationData.candidate_admission_status)||"admission_in_progress"===(null==e.registrationData?null:e.registrationData.candidate_admission_status))||"not_done"===(null==e.registrationData?null:e.registrationData.signature)||e.isCandidateFC&&"not_done"===(null==e.registrationData?null:e.registrationData.signature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.isCandidateFC&&"not_done"!==(null==e.registrationData?null:e.registrationData.signature)),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",null!=e.registrationData&&e.registrationData.readmission_status?t.\u0275\u0275pipeBind1(61,44,"Readmission form"):t.\u0275\u0275pipeBind1(62,46,"Registration form")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",e.hideRegistrationForm),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.hideRegistrationForm),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(73,48,"jury_decision")," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(null!=e.registrationData&&e.registrationData.jury_decision?t.\u0275\u0275pipeBind1(78,50,null==e.registrationData?null:e.registrationData.jury_decision):"-"),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1(" ",null!==(null==e.registrationData?null:e.registrationData.readmission_status)?t.\u0275\u0275pipeBind1(86,52,"Readmission Certificate"):t.\u0275\u0275pipeBind1(87,54,"Registration Certificate")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",!(null!=e.registrationData&&e.registrationData.registration_certificate)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.registrationData?null:e.registrationData.registration_certificate),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(98,56,"School contract amendment student card")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf","done"===(null==e.registrationData||null==e.registrationData.current_school_contract_amendment_form?null:e.registrationData.current_school_contract_amendment_form.form_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","done"!==(null==e.registrationData||null==e.registrationData.current_school_contract_amendment_form?null:e.registrationData.current_school_contract_amendment_form.form_status)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(109,58,"Reinscription Yes / No")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",null==e.registrationData||null==e.registrationData.reinscription_yes_no?null:e.registrationData.reinscription_yes_no.answer_label),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.registrationData&&null!=e.registrationData.reinscription_yes_no&&e.registrationData.reinscription_yes_no.answer_label)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!1===(null==e.registrationData||null==e.registrationData.reinscription_yes_no?null:e.registrationData.reinscription_yes_no.is_answer_yes)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(123,60,"CVEC Number")," "),t.\u0275\u0275advance(11),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(134,62,"INE Number")," ")}}function va(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",54),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function Ta(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,va,2,1,"div",53),t.\u0275\u0275elementContainerEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.program_subjects_id)}}function Ma(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-accordion")(2,"mat-expansion-panel")(3,"mat-expansion-panel-header")(4,"mat-panel-title")(5,"h4",7),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(7,"div",48),t.\u0275\u0275elementContainerStart(8),t.\u0275\u0275elementStart(9,"div",49),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"div",50)(13,"div",51),t.\u0275\u0275template(14,Ta,2,1,"ng-container",52),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(2);let i,l;t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",a.composeSequencePanelTitle(e)," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(11,4,"Class"),": ",(null==(i=a.getAssignedClassFromSequence(e))?null:i.name)||"-"," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",null==(l=a.getAssignedClassFromSequence(e))||null==l.program_sequence_id?null:l.program_sequence_id.program_modules_id)}}function Sa(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",47),t.\u0275\u0275template(1,Ma,15,6,"ng-container",30),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.program_id?null:e.program_id._id)===(null==a.scholarSeasonData||null==a.scholarSeasonData.intake_channel?null:a.scholarSeasonData.intake_channel._id))}}function Oa(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",4)(1,"div")(2,"mat-accordion",5)(3,"mat-expansion-panel",6)(4,"mat-expansion-panel-header")(5,"mat-panel-title")(6,"h4",7),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",9)(14,"div",11)(15,"div",12)(16,"div",13)(17,"span"),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"span",14),t.\u0275\u0275text(21,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"div",15)(23,"button",16),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(26,"mat-menu",null,17),t.\u0275\u0275template(28,bn,4,3,"button",18),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(29,"div",11)(30,"div",9)(31,"div",19)(32,"button",20),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onSave())}),t.\u0275\u0275elementStart(33,"mat-icon",21),t.\u0275\u0275text(34,"save"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(35),t.\u0275\u0275pipe(36,"translate"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(37,"div",10)(38,"div",22)(39,"div",23)(40,"div",12)(41,"div",24)(42,"span"),t.\u0275\u0275text(43),t.\u0275\u0275pipe(44,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(45,"span",14),t.\u0275\u0275text(46,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(47,"div",15)(48,"mat-form-field",25),t.\u0275\u0275element(49,"input",26),t.\u0275\u0275template(50,Cn,3,3,"mat-error",27),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(51,"div",28)(52,"button",20),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.verifyEmail())}),t.\u0275\u0275text(53),t.\u0275\u0275pipe(54,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(55,"div",11)(56,"div",9)(57,"div",29)(58,"span"),t.\u0275\u0275text(59),t.\u0275\u0275pipe(60,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(61,"span",14),t.\u0275\u0275text(62,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(63,"div",15),t.\u0275\u0275template(64,xn,3,3,"span",30),t.\u0275\u0275template(65,yn,2,0,"span",30),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(66,"div",10)(67,"div",9)(68,"div",11)(69,"div",9)(70,"div",24)(71,"span"),t.\u0275\u0275text(72),t.\u0275\u0275pipe(73,"translate"),t.\u0275\u0275pipe(74,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(75,"span",14),t.\u0275\u0275text(76,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(77,"div",15)(78,"span"),t.\u0275\u0275text(79),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(80,"div",11)(81,"div",9)(82,"div",29)(83,"span"),t.\u0275\u0275text(84),t.\u0275\u0275pipe(85,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(86,"span",14),t.\u0275\u0275text(87,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(88,"div",15),t.\u0275\u0275template(89,vn,3,3,"span",30),t.\u0275\u0275template(90,Tn,3,3,"span",30),t.\u0275\u0275template(91,On,3,2,"span",30),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(92,"div",10)(93,"div",9)(94,"div",11)(95,"div",9)(96,"div",31)(97,"span"),t.\u0275\u0275text(98),t.\u0275\u0275pipe(99,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(100,"span",14),t.\u0275\u0275text(101,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(102,"div",15)(103,"span"),t.\u0275\u0275text(104),t.\u0275\u0275pipe(105,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(106,"div",11)(107,"div",9)(108,"div",29)(109,"span"),t.\u0275\u0275text(110),t.\u0275\u0275pipe(111,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(112,"span",14),t.\u0275\u0275text(113,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(114,"div",15),t.\u0275\u0275template(115,Pn,3,3,"span",30),t.\u0275\u0275template(116,wn,3,3,"span",30),t.\u0275\u0275template(117,In,3,2,"span",30),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(118,ta,150,69,"ng-container",30),t.\u0275\u0275template(119,ya,140,64,"ng-container",30),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(120,Sa,2,1,"div",32),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275reference(27),a=t.\u0275\u0275nextContext();let i;t.\u0275\u0275advance(3),t.\u0275\u0275property("expanded",a.expanded),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2(" ",null!=a.registrationData&&a.registrationData.readmission_status?t.\u0275\u0275pipeBind1(8,32,"perimeter.readmission"):t.\u0275\u0275pipeBind1(9,34,"Registration")," ",null==a.registrationData||null==a.registrationData.intake_channel?null:a.registrationData.intake_channel.program," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("formGroup",a.form),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(19,36,"INTERN_FOLLOW_UP.Student Status")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("matMenuTriggerFor",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(25,38,"registered"===(null==a.registrationData?null:a.registrationData.candidate_admission_status)&&"active"===(null==a.registrationData?null:a.registrationData.program_status)?"Registered - Active":"registered"===(null==a.registrationData?null:a.registrationData.candidate_admission_status)&&"not_active"===(null==a.registrationData?null:a.registrationData.program_status)?"Registered - Non Active":"registered"===(null==a.registrationData?null:a.registrationData.candidate_admission_status)&&"completed"===(null==a.registrationData?null:a.registrationData.program_status)?"Registered - Complete":"deactivated"===(null==a.registrationData?null:a.registrationData.candidate_admission_status)?"Deactivated":null==a.registrationData?null:a.registrationData.candidate_admission_status)," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",a.studentStatusList),t.\u0275\u0275advance(4),t.\u0275\u0275property("disabled",a.disableButtonSave),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(36,40,"CARDDETAIL.Save")," "),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(44,42,"Readmission Improvement.School Email")," "),t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",(null==a.form||null==(i=a.form.get("school_mail"))?null:i.hasError("email"))&&((null==a.form||null==(i=a.form.get("school_mail"))?null:i.touched)||(null==a.form||null==(i=a.form.get("school_mail"))?null:i.dirty))),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",a.form.get("school_mail").invalid||a.disableButtonVerify),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(54,44,"COMPANY.Check Email Availability")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(60,46,"Type of Formation")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",null!==(null==a.registrationData||null==a.registrationData.type_of_formation_id?null:a.registrationData.type_of_formation_id.type_of_formation)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null===(null==a.registrationData||null==a.registrationData.type_of_formation_id?null:a.registrationData.type_of_formation_id.type_of_formation)),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",null!=a.registrationData&&a.registrationData.readmission_status?t.\u0275\u0275pipeBind1(73,48,"Readmission profile"):t.\u0275\u0275pipeBind1(74,50,"AdmissionFollowUp.Registration profile")," "),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",null!=a.registrationData&&null!=a.registrationData.registration_profile&&a.registrationData.registration_profile.name?null==a.registrationData||null==a.registrationData.registration_profile?null:a.registrationData.registration_profile.name:"-"," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(85,52,"AdmissionFollowUp.Payment mode")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",100===(null==a.registrationData||null==a.registrationData.registration_profile?null:a.registrationData.registration_profile.discount_on_full_rate)&&!a.registrationFee),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",100===(null==a.registrationData||null==a.registrationData.registration_profile?null:a.registrationData.registration_profile.discount_on_full_rate)&&a.registrationFee),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",100!==(null==a.registrationData||null==a.registrationData.registration_profile?null:a.registrationData.registration_profile.discount_on_full_rate)),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(99,54,"1st Call Admission")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(105,56,null==a.registrationData?null:a.registrationData.announcement_call)," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(111,58,"AdmissionFollowUp.Down payment method")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",!(100!==(null==a.registrationData||null==a.registrationData.registration_profile?null:a.registrationData.registration_profile.discount_on_full_rate)||a.registrationFee||null!=a.registrationData&&null!=a.registrationData.billing_id&&a.registrationData.billing_id.deposit)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",100===(null==a.registrationData||null==a.registrationData.registration_profile?null:a.registrationData.registration_profile.discount_on_full_rate)&&(a.registrationFee||!a.registrationFee&&(null==a.registrationData||null==a.registrationData.billing_id?null:a.registrationData.billing_id.deposit))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",100!==(null==a.registrationData||null==a.registrationData.registration_profile?null:a.registrationData.registration_profile.discount_on_full_rate)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isCheckOrTransfer),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.isCheckOrTransfer),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==a.scholarSeasonData||null==a.scholarSeasonData.student_id?null:a.scholarSeasonData.student_id.program_sequence_ids)}}let Pa=(()=>{class n{constructor(e,a,i,l,r,s,d,p,u,_,O){this.parseUtcToLocalPipe=e,this.router=a,this.admissionService=i,this.translate=l,this.authService=r,this.fb=s,this.studentsService=d,this.pageTitleService=p,this.dialog=u,this.candidateService=_,this.utilService=O,this.reloadData=new t.EventEmitter,this.reloadDataDetail=new t.EventEmitter,this.studentStatusList=[],this.subs=new w.Y,this.isWaitingForResponse=!1,this.hideRegistrationForm=!1,this.expanded=!0,this.disableButtonVerify=!0,this.disableButtonSave=!1}ngOnInit(){this.backupList=h.cloneDeep(this.studentStatusList),console.log("cek list",this.studentStatusList),console.log("cek input",this.userData),console.log("cek scholarSeasonData",this.scholarSeasonData),this.currentUser=this.authService.getLocalStorageUser(),this.initForm(),this.updatePageTitle(),this.scholarSeasonData&&this.getRegistrationData(),this.scholarSeasonData&&this.scholarSeasonData.student_id&&this.scholarSeasonData.student_id.program_sequence_ids&&this.scholarSeasonData.student_id.program_sequence_ids.length&&(this.expanded=!1),console.log("dataaa",this.registrationData),this.studentStatusList=this.registrationData?.last_index?this.backupList:[],this.initEmail(),this.subs.sink=this.translate.onLangChange.subscribe(()=>{this.sortStudentStatus()})}updatePageTitle(){this.pageTitleService.setTitle(this.translate.instant("Student Card Student")),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.pageTitleService.setTitle(this.translate.instant("Student Card Student"))})}ngOnChanges(){this.sortStudentStatus()}sortStudentStatus(){this.studentStatusList?.length&&(this.studentStatusList=this.studentStatusList?.sort((e,a)=>this.utilService.simplifyRegex(this.translate.instant(e?.key)).localeCompare(this.utilService.simplifyRegex(this.translate.instant(a?.key)))))}updateToPostPone(e,a,i){this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.UpdateCandidateStatusPostPone(e?._id,a,i).subscribe(l=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S4.BUTTON")}).then(r=>{this.reloadDataDetail.emit(!0)})},l=>{if(this.isWaitingForResponse=!1,"GraphQL error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===l.message||"GraphQL error: Error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===l.message)c().fire({type:"info",title:this.translate.instant("LEGAL_S5.Title"),text:this.translate.instant("LEGAL_S5.Text"),confirmButtonText:this.translate.instant("LEGAL_S5.Button")});else if("GraphQL error: Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"===l.message||l.message.includes("Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"))c().fire({type:"info",title:this.translate.instant("EUROPEAN_COUNTRIES.TITLE"),html:this.translate.instant("EUROPEAN_COUNTRIES.TEXT"),confirmButtonText:this.translate.instant("EUROPEAN_COUNTRIES.BUTTON")});else if(l.message.includes("is invalid. Please enter a valid IBAN."))c().fire({type:"info",title:this.translate.instant("IBAN_S1.Title"),text:this.translate.instant("IBAN_S1.Text"),confirmButtonText:this.translate.instant("IBAN_S1.Button")});else if(l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt")))return void this.authService.handlerSessionExpired();c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}changeStatus(e,a){const i={candidate_admission_status:"registered"===e.candidate_admission_status?"report_inscription":"registered"},l=e.civility&&"neutral"===e.civility?"":this.translate.instant(e.civility),r=e.last_name,s=e.first_name;let d=4;"registered"===e.candidate_admission_status||"financement_validated"===e.candidate_admission_status?(i.candidate_admission_status="report_inscription",c().fire({title:this.translate.instant("INSCRIPTION_REPORT_S1.TITLE"),html:this.translate.instant("INSCRIPTION_REPORT_S1.TEXT",{candidateName:l+" "+s+" "+r}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("INSCRIPTION_REPORT_S1.BUTTON_1",{timer:d}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const p=c().getConfirmButton(),u=setInterval(()=>{d-=1,p.innerText=this.translate.instant("INSCRIPTION_REPORT_S1.BUTTON_1")+` (${d})`},1e3);this.timeOutVal=setTimeout(()=>{p.innerText=this.translate.instant("INSCRIPTION_REPORT_S1.BUTTON_1"),c().enableConfirmButton(),clearInterval(u),clearTimeout(this.timeOutVal)},1e3*d)}}).then(p=>{clearTimeout(this.timeOutVal),p.value&&("registered"===a?c().fire({title:this.translate.instant("CHANGESTATUS_TO_REGISTERED.TITLE"),html:this.translate.instant("CHANGESTATUS_TO_REGISTERED.TEXT"),type:"question",showCancelButton:!0,cancelButtonText:this.translate.instant("CHANGESTATUS_TO_REGISTERED.BUTTON 2"),confirmButtonText:this.translate.instant("CHANGESTATUS_TO_REGISTERED.BUTTON 1")}).then(u=>{this.updateToPostPone(e,i,!u.value)}):this.updateToPostPone(e,i,!0))})):c().fire({title:this.translate.instant("INSCRIPTION_REPORT_S2.TITLE"),html:this.translate.instant("INSCRIPTION_REPORT_S2.TEXT",{candidateName:l+" "+s+" "+r}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("INSCRIPTION_REPORT_S2.BUTTON_1",{timer:d}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const p=c().getConfirmButton(),u=setInterval(()=>{d-=1,p.innerText=this.translate.instant("INSCRIPTION_REPORT_S2.BUTTON_1")+` (${d})`},1e3);this.timeOutVal=setTimeout(()=>{p.innerText=this.translate.instant("INSCRIPTION_REPORT_S2.BUTTON_1"),c().enableConfirmButton(),clearInterval(u),clearTimeout(this.timeOutVal)},1e3*d)}}).then(p=>{clearTimeout(this.timeOutVal),p.value&&("registered"===a?c().fire({title:this.translate.instant("CHANGESTATUS_TO_REGISTERED.TITLE"),html:this.translate.instant("CHANGESTATUS_TO_REGISTERED.TEXT"),type:"question",showCancelButton:!0,cancelButtonText:this.translate.instant("CHANGESTATUS_TO_REGISTERED.BUTTON 2"),confirmButtonText:this.translate.instant("CHANGESTATUS_TO_REGISTERED.BUTTON 1")}).then(u=>{this.updateToPostPone(e,i,!u.value)}):this.updateToPostPone(e,i,!0))})}readmittedStatus(e){console.log("readmittedStatus",e);const a=this.translate.instant(this.scholarSeasonData?.candidate_admission_status),i=this.translate.instant(e);c().fire({title:this.translate.instant("Are you sure?"),html:this.translate.instant("CHANGESTATUS_S1.TEXT",{currentStatus:a,newStatus:i}),type:"warning",showCancelButton:!0,cancelButtonText:this.translate.instant("CHANGESTATUS_S1.BUTTON 2"),confirmButtonText:this.translate.instant("CHANGESTATUS_S1.BUTTON 1")}).then(l=>{l.value&&this.dialog.open(zt,{width:"750px",minHeight:"100px",disableClose:!0,data:{currentStatus:a,newStatus:e,isEdit:!1,currentUser:this.currentUser,candidateId:this.scholarSeasonData?._id}}).afterClosed().subscribe(s=>{s&&(this.isWaitingForResponse=!0,this.subs.sink=this.admissionService.TransferStudentResignedAfterRegisteredToAdmitted(this.scholarSeasonData?._id).subscribe(d=>{d&&(delete s.status_changed_at,this.subs.sink=this.candidateService.CreateCandidateComment(s).subscribe(p=>{p&&c().fire({type:"success",title:this.translate.instant("Bravo"),confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1}).then(u=>{u.value&&(this.isWaitingForResponse=!1,this.reloadDataDetail.emit(!0))})},p=>{this.isWaitingForResponse=!1,p&&p.message&&(p.message.includes("jwt expired")||p.message.includes("str & salt required")||p.message.includes("Authorization header is missing")||p.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))},d=>{if(this.isWaitingForResponse=!1,"GraphQL error: There is term that already paid"===d.message)c().fire({type:"info",title:this.translate.instant("TRANSFER_S5.Title"),text:this.translate.instant("TRANSFER_S5.Text"),confirmButtonText:this.translate.instant("TRANSFER_S5.Button 1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1});else if("GraphQL error: There is term still pending"===d.message)c().fire({type:"info",title:this.translate.instant("PAY_SUM_S3.Title"),text:this.translate.instant("PAY_SUM_S3.Text"),confirmButtonText:this.translate.instant("PAY_SUM_S3.Button"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1});else{if(d&&d.message&&(d.message.includes("jwt expired")||d.message.includes("str & salt required")||d.message.includes("Authorization header is missing")||d.message.includes("salt")))return void this.authService.handlerSessionExpired();c().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}}))})})}updateStatus(e){if("registered"===e){const a=this.renderTooltipStatusDP(this.registrationData);"Paid"===a||"Pay\xe9"===a||this.checkIfDoesntHaveAnyDP(this.registrationData)?this.triggerUpdateStatus(e):c().fire({type:"warning",title:this.translate.instant("Followup_S17.Title"),text:this.translate.instant("Followup_S17.Text"),confirmButtonText:this.translate.instant("Followup_S17.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})}else this.triggerUpdateStatus(e)}checkIfDoesntHaveAnyDP(e){return!!(e&&e.registration_profile&&e.registration_profile.is_down_payment&&"no"===e.registration_profile.is_down_payment)}triggerUpdateStatus(e){if("report_inscription"===e||"report_inscription"===this.scholarSeasonData?.candidate_admission_status)this.changeStatus(this.scholarSeasonData,e);else if("admission_in_progress"!==e||"resigned_after_registered"!==this.scholarSeasonData?.candidate_admission_status&&"resigned_after_engaged"!==this.scholarSeasonData?.candidate_admission_status&&"resignation_missing_prerequisites"!==this.scholarSeasonData?.candidate_admission_status){const a={candidate_admission_status:e},i=this.translate.instant(this.scholarSeasonData?.candidate_admission_status),l=this.translate.instant(e),r=this.scholarSeasonData?.candidate_admission_status,s="registered"===this.scholarSeasonData?.candidate_admission_status&&"no_show"===e||"no_show"===this.scholarSeasonData?.candidate_admission_status&&"registered"===e?"SWAL_CHANGE_STATUS_NO_SHOW":"CHANGESTATUS_S1.TITLE";c().fire({title:this.translate.instant(s),html:this.translate.instant("CHANGESTATUS_S1.TEXT",{currentStatus:i,newStatus:l}),type:"warning",showCancelButton:!0,cancelButtonText:this.translate.instant("CHANGESTATUS_S1.BUTTON 2"),confirmButtonText:this.translate.instant("CHANGESTATUS_S1.BUTTON 1")}).then(d=>{d.value&&this.dialog.open(zt,{width:"750px",minHeight:"100px",disableClose:!0,data:{currentStatus:i,statusValue:r,newStatus:e,isEdit:!1,currentUser:this.currentUser,candidateId:this.scholarSeasonData?._id,allDataUser:this.userData}}).afterClosed().subscribe(u=>{u&&(console.log("responDialog",u),"resign_after_school_begins"===e?(a.resign_after_school_begins_at=u.resign_after_school_begins_at,delete u.resign_after_school_begins_at):"no_show"===e&&(a.no_show_at=u.no_show_at,delete u.no_show_at),a.status_changed_at=u.status_changed_at,delete u.status_changed_at,"registered"===e?c().fire({title:this.translate.instant("CHANGESTATUS_TO_REGISTERED.TITLE"),html:this.translate.instant("CHANGESTATUS_TO_REGISTERED.TEXT"),type:"question",showCancelButton:!0,cancelButtonText:this.translate.instant("CHANGESTATUS_TO_REGISTERED.BUTTON 2"),confirmButtonText:this.translate.instant("CHANGESTATUS_TO_REGISTERED.BUTTON 1")}).then(_=>{this.updateCandidate(u,a,!_.value)}):this.updateCandidate(u,a,!0))})})}else this.readmittedStatus(e)}updateCandidate(e,a,i){this.isWaitingForResponse=!0,this.subs.sink=this.admissionService.UpdateCandidateStatus(this.scholarSeasonData?._id,a,i,!0).subscribe(r=>{r&&(this.subs.sink=this.candidateService.CreateCandidateComment(e).subscribe(s=>{s&&c().fire({type:"success",title:this.translate.instant("Bravo"),confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1}).then(d=>{d.value&&(this.isWaitingForResponse=!1,this.reloadDataDetail.emit(!0))})},s=>{this.isWaitingForResponse=!1,s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))},r=>{if(this.isWaitingForResponse=!1,"GraphQL error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===r.message||"GraphQL error: Error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===r.message)c().fire({type:"info",title:this.translate.instant("LEGAL_S5.Title"),text:this.translate.instant("LEGAL_S5.Text"),confirmButtonText:this.translate.instant("LEGAL_S5.Button")});else if("GraphQL error: Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"===r.message||r.message.includes("Sorry This IBAN is related to an account outside Euro Zone not allowing SPEA Direct Debit"))c().fire({type:"info",title:this.translate.instant("EUROPEAN_COUNTRIES.TITLE"),html:this.translate.instant("EUROPEAN_COUNTRIES.TEXT"),confirmButtonText:this.translate.instant("EUROPEAN_COUNTRIES.BUTTON")});else if(r.message.includes("is invalid. Please enter a valid IBAN."))c().fire({type:"info",title:this.translate.instant("IBAN_S1.Title"),text:this.translate.instant("IBAN_S1.Text"),confirmButtonText:this.translate.instant("IBAN_S1.Button")});else{if(r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt")))return void this.authService.handlerSessionExpired();c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}})}initForm(){this.form=this.fb.group({school_mail:[null,[Et.dN.email]],cvec_number:[null],ine_number:[null]})}getRegistrationData(){const e=h.cloneDeep(this.scholarSeasonData);console.log("student Data",e),e&&e.student_id&&e.student_id._id&&(this.studentId=h.cloneDeep(e.student_id._id)),this.isCandidateFC=!(!e||!e.type_of_formation_id||"classic"===e.type_of_formation_id.type_of_formation),this.hideRegistrationForm=!(e&&e.announcement_email&&e.announcement_email.sent_date&&e.announcement_email.sent_time),e.announcement_email=this.transformDate(e.announcement_email),e&&e.registration_profile&&e.registration_profile.additional_cost_ids&&this.calculateRegistrationFees(e.registration_profile.additional_cost_ids),this.form.patchValue(e),this.registrationData=e,this.currentEmail=e.school_mail,this.isCheckOrTransfer=!(!e||!e.payment_method||"transfer"!==e.payment_method&&"check"!==e.payment_method),this.isCandidateFC&&!e.admission_process_id&&(this.hideRegistrationForm=!0),console.log("_regis",this.registrationData),this.registrationData?.last_index?this.studentStatusList=this.backupList:(this.studentStatusList=[],console.log("masuk",this.studentStatusList))}calculateRegistrationFees(e){let a=0;e&&e.length&&(e.forEach(i=>{a+=i.amount}),this.registrationFee=a)}transformDate(e){return e&&e.sent_date&&e.sent_time?this.parseUtcToLocalPipe.transformDate(e.sent_date,e.sent_time):""}transformDateStatus(e){return e&&e.date&&e.time?this.parseUtcToLocalPipe.transformDate(e.date,e.time):""}getRegistrationDate(e){return"registered"===e.candidate_admission_status?this.transformDateStatus(e.registered_at)||"-":"resigned"===e.candidate_admission_status?this.transformDateStatus(e?.resigned_at)||"-":"resigned_after_engaged"===e.candidate_admission_status?this.transformDateStatus(e?.resigned_after_engaged_at)||"-":"resigned_after_registered"===e.candidate_admission_status?this.transformDateStatus(e?.resigned_after_registered_at)||"-":"resign_after_school_begins"===e.candidate_admission_status?this.transformDateStatus(e?.resign_after_school_begins_at)||"-":"no_show"===e.candidate_admission_status?this.transformDateStatus(e?.no_show_at)||"-":"report_inscription"===e.candidate_admission_status?e.inscription_at&&e.inscription_at.date&&this.transformDateStatus(e.inscription_at)||"-":"admitted"===e.candidate_admission_status||"admission_in_progress"===e.candidate_admission_status||"engaged"===e.candidate_admission_status?this.transformDateStatus(e.candidate_sign_date)||"-":"bill_validated"===e.candidate_admission_status?this.transformDateStatus(e.bill_validated_at)||"-":"financement_validated"===e.candidate_admission_status?this.transformDateStatus(e.financement_validated_at)||"-":"mission_card_validated"===e.candidate_admission_status?this.transformDateStatus(e.mission_card_validated_at)||"-":"in_scholarship"===e.candidate_admission_status?this.transformDateStatus(e.in_scholarship)||"-":"resignation_missing_prerequisites"===e.candidate_admission_status&&this.transformDateStatus(e.resignation_missing_prerequisites_at)||"-"}viewPDF(e){const a=document.createElement("a");a.target="blank",a.href=`${_t.N.apiUrl}/fileuploads/${e}?download=true`.replace("/graphql",""),a.download=e,a.click(),a.remove()}viewPDFAmendment(e){const a=document.createElement("a");a.target="blank",a.href=`${e}`,a.download=e,a.click(),a.remove()}viewAdmissionFile(e){const a={candidate:e};if(this.isCandidateFC&&this.registrationData.admission_process_id&&this.registrationData.admission_process_id._id||this.registrationData.readmission_status&&this.registrationData.admission_process_id&&this.registrationData.admission_process_id._id){const i=this.authService.getCurrentUser().entities[0].type._id,r=this.router.createUrlTree(["/form-fill"],{queryParams:{formId:this.registrationData.admission_process_id._id,formType:"student_admission",userId:this.currentUser._id,userTypeId:i}});window.open(r.toString(),"_blank")}else{const i=this.router.createUrlTree(["/session/register"],{queryParams:a});window.open(i.toString(),"_blank")}}exportPDF(){this.registrationData.school_contract_pdf_link?this.viewPDF(this.registrationData.school_contract_pdf_link):(this.isWaitingForResponse=!0,this.subs.sink=this.admissionService.GeneratePDFSchoolContract(this.registrationData._id).subscribe(e=>{this.isWaitingForResponse=!1;const a=document.createElement("a");a.setAttribute("type","hidden"),a.href=`${_t.N.apiUrl}/fileuploads/${e}`.replace("/graphql",""),a.target="_blank",a.click(),a.remove()},e=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}exportPDFAmendement(){this.registrationData?.current_school_contract_amendment_form?.school_amendment_form_link?this.viewPDFAmendment(this.registrationData?.current_school_contract_amendment_form?.school_amendment_form_link):(this.isWaitingForResponse=!0,this.subs.sink=this.admissionService.GeneratePDFSchoolContractAmendement(this.registrationData._id,!1).subscribe(a=>{this.isWaitingForResponse=!1;const i=document.createElement("a");i.setAttribute("type","hidden"),i.href=`${_t.N.apiUrl}/fileuploads/${a}`.replace("/graphql",""),i.target="_blank",i.click(),i.remove()},a=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}renderTooltipStatusDP(e){return this.translate.instant("transfer"===e.payment_method||"check"===e.payment_method||"sepa"===e.payment_method||"cash"===e.payment_method?"sepa"===e.payment_method||"cash"===e.payment_method?"sepa_pending"===e.payment||"pending"===e.payment?"Pending":"not_authorized"===e.payment?"Rejecteds":e.billing_id.deposit?e.billing_id&&e.billing_id.deposit&&e.billing_id.deposit_pay_amount&&e.billing_id.deposit_pay_amount>=e.billing_id.deposit?"Paid":e.billing_id&&e.billing_id.deposit&&e.billing_id.deposit_pay_amount&&e.billing_id.deposit_pay_amount<e.billing_id.deposit?"Partially paid":"Not paid":"Not paid":e.billing_id&&e.billing_id.deposit&&0===e.billing_id.deposit_pay_amount&&"pending"===e.payment?"Pending":e.billing_id&&e.billing_id.deposit&&e.billing_id.deposit_pay_amount&&e.billing_id.deposit_pay_amount>0&&e.billing_id.deposit_pay_amount>=e.billing_id.deposit?"Paid":e.billing_id&&e.billing_id.deposit&&e.billing_id.deposit_pay_amount&&e.billing_id.deposit_pay_amount>0&&e.billing_id.deposit_pay_amount<e.billing_id.deposit?"Partially paid":"Not paid":!e&&e.billing_id&&e.billing_id.deposit?"Not paid":e&&e.billing_id&&e.billing_id.deposit&&e.billing_id.deposit_pay_amount&&e.billing_id.deposit_pay_amount>=e.billing_id.deposit?"Paid":e&&e.billing_id&&e.billing_id.deposit&&e.billing_id.deposit_pay_amount&&e.billing_id.deposit_pay_amount<e.billing_id.deposit?"Partially paid":"Not paid")}openDocTransferOrCheck(e){const a=document.createElement("a");a.setAttribute("type","hidden"),a.href=`${_t.N.apiUrl}/fileuploads/${e}`.replace("/graphql",""),a.target="_blank",a.click(),a.remove()}composeSequencePanelTitle(e){if(e){const a=[];return e.name&&a.push(String(e.name)),e.type_of_sequence&&a.push(this.translate.instant("course_sequence."+e.type_of_sequence)),e.start_date&&e.start_date.date&&e.start_date.time&&a.push(this.parseUtcToLocalPipe.transformDate(e.start_date.date,e.start_date.time)),e.end_date&&e.end_date.date&&e.end_date.time&&a.push(this.parseUtcToLocalPipe.transformDate(e.end_date.date,e.end_date.time)),a.join(" - ")}return this.translate.instant("No Data")}getAssignedClassFromSequence(e){if(e&&e.program_sequence_groups&&e.program_sequence_groups[0]&&e.program_sequence_groups[0].student_classes){const i=e.program_sequence_groups[0].student_classes.find(l=>{if(l&&l.students_id&&l.students_id[0]&&l.students_id[0]._id){const r=l.students_id.find(s=>s._id===this.studentId);return Boolean(r)}return!1});return Boolean(i)?i:null}return null}onSave(){if(this.form?.get("school_mail")?.hasError("email"))return void c().fire({type:"warning",title:this.translate.instant("Invalid_Format.Title"),html:this.translate.instant("Invalid_Format.Text"),confirmButtonText:this.translate.instant("Invalid_Format.Button")});const e=this.form.value;this.isWaitingForResponse=!0,this.subs.sink=this.studentsService.updateCandidate(this.scholarSeasonData?._id,e,!0).subscribe(i=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo"),confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{this.reloadData.emit(!0)})},i=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(i),c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}initEmail(){this.form.get("school_mail").valueChanges.pipe((0,A.b)(400)).subscribe(e=>{e!==this.currentEmail?(this.disableButtonVerify=!1,this.disableButtonSave=!0):(this.disableButtonVerify=!0,this.disableButtonSave=!1)})}verifyEmail(){this.isWaitingForResponse=!0,this.subs.sink=this.admissionService.checkEmailAvailbility(this.form.get("school_mail").value,this.scholarSeasonData?.user_id?._id).subscribe(e=>{this.isWaitingForResponse=!1,e&&c().fire({type:"success",title:this.translate.instant("Bravo"),confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{this.disableButtonSave=!1})},e=>{this.isWaitingForResponse=!1,e&&c().fire({type:"warning",title:this.translate.instant("SWAL_USER_EXIST_DUMMY.TITLE"),text:this.translate.instant("SWAL_USER_EXIST_DUMMY.TEXT"),confirmButtonText:this.translate.instant("SWAL_USER_EXIST_DUMMY.BUTTON"),allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{this.disableButtonSave=!0})})}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(U.t),t.\u0275\u0275directiveInject(tt.F0),t.\u0275\u0275directiveInject(Rt.w),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(m.UntypedFormBuilder),t.\u0275\u0275directiveInject(Ot.q),t.\u0275\u0275directiveInject(nt.Z),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(mt.o),t.\u0275\u0275directiveInject(rt.t))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-tab-detail"]],inputs:{scholarSeasonData:"scholarSeasonData",candidateId:"candidateId",studentStatusList:"studentStatusList",userData:"userData"},outputs:{reloadData:"reloadData",reloadDataDetail:"reloadDataDetail"},features:[t.\u0275\u0275ProvidersFeature([U.t]),t.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[["class","inner-loading-indicator",4,"ngIf"],["class","center-card mrgn-btn50 mrgn-t1",4,"ngIf"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"],[1,"center-card","mrgn-btn50","mrgn-t1"],[1,"example-headers-align"],[1,"panel-spacing",2,"background","#424242",3,"expanded"],[2,"color","white","align-self","center","margin","0px"],[1,"p-grid","panel-divider",3,"formGroup"],[1,"p-grid"],[1,"p-col-12","no-padding"],[1,"p-col-6","no-padding"],[1,"p-grid",2,"align-items","center"],[1,"p-col-4"],[2,"padding","0.5em"],[1,"p-col"],["mat-raised-button","","color","accent",1,"pillbox",3,"matMenuTriggerFor"],["studentStatus","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"p-col",2,"text-align","right"],["mat-raised-button","","color","accent",3,"disabled","click"],[1,"mat-icon-default"],[1,"p-grid",2,"align-items","baseline"],[1,"p-col-6","no-padding",2,"margin-bottom","10px"],[1,"registration-profile","p-col-4"],[2,"width","80%"],["matInput","","type","text","formControlName","school_mail"],["style","color: red",4,"ngIf"],[1,"check-email"],[1,"registration-profile","p-col-5"],[4,"ngIf"],[1,"1st-call-admission","p-col-4"],["class","mrgn-t-sm",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[2,"color","red"],[1,"1st-email-registration","p-col-4"],[1,"registration-status","p-col-4"],[1,"p-col-5"],[1,"registration-form","p-col-4"],["class","p-col-6 no-padding",4,"ngIf"],[1,"p-col-12","p-nogutter","p-col-nogutter"],[1,"p-grid","p-align-baseline"],[1,"w-80"],["matInput","","type","text","formControlName","cvec_number"],["matInput","","type","text","formControlName","ine_number"],["mat-icon-button","",1,"margin-right-button",3,"matTooltipDisabled","matTooltip","click"],[1,"mat-icon-status"],[1,"mrgn-t-sm"],[1,"p-grid","panel-divider","pad-y-md"],[1,"p-col-12","mat-text-accent","font-bold"],[1,"p-col-12"],[1,"p-grid","p-dir-col","pad-x-none",2,"max-height","360px"],[4,"ngFor","ngForOf"],["class","pad-all-xs","style","max-width: 20%",4,"ngFor","ngForOf"],[1,"pad-all-xs",2,"max-width","20%"]],template:function(e,a){1&e&&(t.\u0275\u0275template(0,fn,2,1,"div",0),t.\u0275\u0275template(1,Oa,121,60,"div",1)),2&e&&(t.\u0275\u0275property("ngIf",a.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.registrationData))},dependencies:[f.sg,f.O5,I.lW,Z.pp,Z.ib,Z.yz,Z.yK,k.Hw,S.TO,S.KE,z.Nt,ut.VK,ut.OP,ut.p6,D.Ou,G.gM,m.DefaultValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.FormGroupDirective,m.FormControlName,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.panel-divider[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.5803921569);padding-top:0;padding-bottom:0}.pillbox[_ngcontent-%COMP%]{font-weight:700}.check-email[_ngcontent-%COMP%]{height:10px;position:relative}.w-80[_ngcontent-%COMP%]{width:80%}"]}),n})();var wa=C(63389),N=C(73555);function Da(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275element(1,"mat-progress-spinner",15),t.\u0275\u0275elementEnd())}let Ea=(()=>{class n{constructor(e,a,i){this.dialogRef=e,this.translate=a,this.data=i,this.sub=new w.Y,this.isWaitingForResponse=!1}ngOnInit(){console.log("Operation",this.data),this.legalEntityName=this.data?.transaction_id?.legal_entity?.legal_entity_name?this.data.transaction_id.legal_entity.legal_entity_name:this.data?.legal_entity_id?.legal_entity_name,this.reference=this.data?.transaction_id?.psp_reference?this.data.transaction_id.psp_reference:this.data?.reference,this.data?.note&&(this.note=this.data.note)}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(T.WI))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-operation-note-dialog"]],decls:36,vars:16,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],[2,"vertical-align","middle"],[1,"p-col-10","dialog-title"],[1,"dialogTitle"],[1,"p-col","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[1,"p-col-12","no-padding"],[1,"p-grid","p-col-12"],[1,"p-col-3"],[1,"p-col-9"],["class","loading-indicator",4,"ngIf"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5,"event_note"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",5)(7,"h3",6),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",7)(11,"button",8)(12,"mat-icon"),t.\u0275\u0275text(13,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(14,"mat-dialog-content")(15,"div",2)(16,"div",9)(17,"div",10)(18,"div",11),t.\u0275\u0275text(19),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"div",12),t.\u0275\u0275text(22),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",10)(24,"div",11),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(27,"div",12),t.\u0275\u0275text(28),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(29,"div",10)(30,"div",11),t.\u0275\u0275text(31),t.\u0275\u0275pipe(32,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(33,"div",12),t.\u0275\u0275text(34),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(35,Da,2,0,"div",13)),2&e&&(t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,8,"Operation details")," "),t.\u0275\u0275advance(11),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(20,10,"Legal entity"),":"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(a.legalEntityName?a.legalEntityName:"-"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(26,12,"R\xe9f\xe9rence"),":"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(a.reference?a.reference:"-"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(32,14,"Notes"),":"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(a.note?a.note:"-"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isWaitingForResponse))},dependencies:[f.O5,N.Zt,N.Bh,I.lW,T.ZT,T.xY,k.Hw,D.Ou,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}.dialog-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}"]}),n})();var Tt=C(95017),b=C(53626),Ia=C(69132),W=C(24850),ht=C(94442),kt=C(67646);function ka(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",34),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"Finances."+e.key)," ")}}function Fa(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ba(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Aa(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e||null==e.candidate_id?null:e.candidate_id.last_name)+" "+(null==e||null==e.candidate_id?null:e.candidate_id.first_name)+" "+(null!=e&&null!=e.candidate_id&&e.candidate_id.civility&&"neutral"===(null==e||null==e.candidate_id?null:e.candidate_id.civility)?"":t.\u0275\u0275pipeBind1(3,3,null==e||null==e.candidate_id?null:e.candidate_id.civility))," ")}}function Na(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e||null==e.financial_support_info?null:e.financial_support_info.family_name)+" "+(null==e||null==e.financial_support_info?null:e.financial_support_info.name)+" "+(null!=e&&null!=e.financial_support_info&&e.financial_support_info.civility&&"neutral"===(null==e||null==e.financial_support_info?null:e.financial_support_info.civility)?"":t.\u0275\u0275pipeBind1(3,3,null==e||null==e.financial_support_info?null:e.financial_support_info.civility))+(null!=e&&null!=e.financial_support_info&&e.financial_support_info.relation?" ("+t.\u0275\u0275pipeBind1(4,5,"CARDDETAIL.RELATION."+(null==e||null==e.financial_support_info?null:e.financial_support_info.relation))+")":"")," ")}}function Ra(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.company_branch_id?null:e.company_branch_id.company_name," ")}}function Va(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.organization_id?null:e.organization_id.name," ")}}function La(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",35),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.payerSelect(l))}),t.\u0275\u0275template(1,Aa,4,5,"span",17),t.\u0275\u0275template(2,Na,5,7,"span",17),t.\u0275\u0275template(3,Ra,2,1,"span",17),t.\u0275\u0275template(4,Va,2,1,"span",17),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_financial_support||null!=e&&e.company_branch_id||null!=e&&e.organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_financial_support)&&!(null!=e&&e.company_branch_id)&&!(null!=e&&e.organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",((null==e?null:e.is_financial_support)||!(null!=e&&e.is_financial_support))&&(null==e?null:e.company_branch_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.organization_id)}}function Ua(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function za(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}const $a=function(n){return{studentProgram:n}};function Ha(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",36),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind2(2,2,"OPERATION_NAME."+e.key,t.\u0275\u0275pureFunction1(5,$a,a.displayProgram(null==a.data||null==a.data.dropdown[0]?null:a.data.dropdown[0].candidate_id))))}}function ja(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Wa(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"min value 0")))}function Ya(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ga(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function qa(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",37),t.\u0275\u0275element(1,"mat-progress-spinner",38),t.\u0275\u0275elementEnd())}let Ka=(()=>{class n{constructor(e,a,i,l,r,s){this.dialogRef=e,this.fb=a,this.translate=i,this.data=l,this.financeService=r,this.parseToUTC=s,this.subs=new w.Y,this.isMainAddressSelected=!1,this.isLegalEntity=!1,this.nationalitiesList=[],this.nationalList=[],this.filteredCountry=[],this.bank=["BNP Paribas","Credit Agricole","BPCE","Societe Generale","Groupe Cr\xe9dit Mutuel","Cr\xe9dit Cooperatif","La Banque Postale","Cr\xe9dit du Nord","AXA Banque","Banque Palatine","HSBC France","CIC Banque Transatlantique","BRED Banque Populaire"],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.currencyList=[],this.toFilterList=[{civility:"Mrs",value:" Mrs Anne CHAMBIER",key:"Anne CHAMBIER"},{civility:"Mr",value:"Mr Fabien CHAMBIER",key:"Fabien CHAMBIER"}],this.dataFinanceList=[],this.candidateList=[],this.isWaitingForResponse=!1,this.comingFromFC=!1,this.operationNameList=[{key:"Global Avoir",value:"global_avoir"},{key:"Avoir scholarship fees <student program>",value:"avoir_scholarship_fees <student program>"},{key:"Avoir Social Security",value:"avoir_social_security"},{key:"Avoir schedule fees",value:"avoir_schedule_fees"},{key:"Avoir Administrative costs",value:"avoir_administrative_costs"},{key:"Avoir Additional costs - Rejection",value:"avoir_additional_costs_rejection"},{key:"Avoir Additional costs - Formal notice",value:"avoir_additional_costs_formal_notice"},{key:"Avoir Additional costs - Litigation",value:"avoir_additional_costs_litigation"},{key:"Avoir Additional costs - International transfer",value:"avoir_additional_costs_international_transfer"},{key:"Discount - Denis Huismann Solidarity Commission (CSDH)",value:"discount_denis_huismann_solidarity_commission"},{key:"Discount - Music Business Management",value:"discount_music_business_management"},{key:"Commercial discount",value:"commercial_discount"},{key:"Exceptional discount",value:"exceptional_discount"}],this.natureList=[{key:"Avoir",value:"avoir"},{key:"Discount",value:"discount"}]}ngOnInit(){this.today=new Date,this.iniVerificationForm(),this.data?.isFC&&(this.comingFromFC=!0),this.getLegalEntity(),this.sortingAllListSelect(),this.sortingAllListSelectTranslate()}onWheel(e){e?.preventDefault()}setPayerData(){if(this.data?.dropdown?.length)if(this.data?.finance_organization_id?.company_branch_id?.company_name)this.payer={billing_id:this.data?.billing_id,payer_name:this.data?.finance_organization_id?.company_branch_id?.company_name};else if(this.data?.finance_organization_id?.organization_id?.name)this.payer={billing_id:this.data?.billing_id,payer_name:this.data?.finance_organization_id?.organization_id?.name};else{const e=this.data?.dropdown?.filter(a=>!a?.is_financial_support&&!a?.company_branch_id&&!a?.organization_id);e?.length&&(this.payer={billing_id:e[0]?._id,payer_name:"neutral"===e[0]?.candidate_id?.civility?`${e[0]?.candidate_id?.first_name} ${e[0]?.candidate_id?.last_name}`:`${e[0]?.candidate_id?.civility} ${e[0]?.candidate_id?.first_name} ${e[0]?.candidate_id?.last_name}`},this.identityForm.get("who").setValue(e[0]?._id))}}sortingAllListSelect(){this.operationNameList=this.operationNameList.sort((e,a)=>this.translate.instant(e.key).localeCompare(this.translate.instant(a.key))),this.natureList=this.natureList.sort((e,a)=>this.translate.instant("Finances."+e.key).localeCompare(this.translate.instant("Finances."+a.key)))}sortingAllListSelectTranslate(){this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.sortingAllListSelect()})}iniVerificationForm(){this.identityForm=this.fb.group({nature:[null,m.Validators.required],amount:[null,[m.Validators.required,m.Validators.min(0)]],from:[null,m.Validators.required],who:[null,m.Validators.required],currency:["EUR"],date:[this.today,m.Validators.required],operation_name:[null,m.Validators.required],reference:[null,m.Validators.required],note:[null]})}getLegalEntity(){this.subs.sink=this.financeService.GetLegalEntityByCandidate(this.data?.candidate_id).subscribe(e=>{e&&(this.dataLegalEntity=e,this.identityForm.get("from").setValue(this.dataLegalEntity.legal_entity_name),this.isLegalEntity=!0)},e=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}payerSelect(e){e&&(this.payer={billing_id:e._id,orgId:null,payer_name:"",terms:e?.terms?e?.terms?.map(a=>a?.term_amount-a?.term_pay_amount-a?.term_amount_not_authorised-a?.term_amount_pending):[],deposit:e?.deposit?e?.deposit:0},e?.is_financial_support||e?.company_branch_id||e?.organization_id?!e?.is_financial_support||e?.company_branch_id||e?.organization_id?!e?.is_financial_support&&e?.is_financial_support||!e?.company_branch_id?e?.organization_id&&(this.payer.payer_name=e?.organization_id?.name,this.payer.orgId=e?.organization_id?._id):(this.payer.payer_name=e?.company_branch_id?.company_name,this.payer.orgId=e?.company_branch_id?._id):this.payer.payer_name="neutral"===e?.financial_support_info?.civility?`${e?.financial_support_info?.name} ${e?.financial_support_info?.family_name}`:`${e?.financial_support_info?.civility} ${e?.financial_support_info?.name} ${e?.financial_support_info?.family_name}`:this.payer.payer_name="neutral"===e?.candidate_id?.civility?`${e?.candidate_id?.first_name} ${e?.candidate_id?.last_name}`:`${e?.candidate_id?.civility} ${e?.candidate_id?.first_name} ${e?.candidate_id?.last_name}`),console.log("payer",this.payer)}countDecimalPlaces(e){return Math.floor(e)===e?0:e.toString().split(".")[1].length||0}isRecalculateOfTermsOrDPValid(){const e=this.payer?.terms?this.payer?.terms:[],a=e?.map(l=>this.countDecimalPlaces(l)),i=Math.max(...a);if(e?.length){if(e?.reduce((l,r)=>l+r,0)<=this.identityForm?.get("amount")?.value)return!0;if(e?.reduce((l,r)=>Number(l?.toFixed(i))+Number(r?.toFixed(i)),0)>this.identityForm?.get("amount")?.value){const l=Array.isArray(this.distributedInputtedAmountIntoArray())?this.distributedInputtedAmountIntoArray():[];if(l?.length){let r=[];if(e?.forEach((s,d)=>{r?.push(s-l[d])}),r?.length){for(;r?.reduce((s,d)=>s+d,0)>0&&r?.some(s=>s<0);){let s=0;r?.forEach((_,O)=>{_<0&&(s+=_,r[O]=0)});const d=r?.map(_=>this.countDecimalPlaces(_)),p=Math.max(...d),u=r?.findIndex(_=>_>0);if(-1===u)break;r[u]+=Number(s?.toFixed(p))}if(r?.some(s=>s>0&&s<2))return!1}}}}return!0}distributedInputtedAmountIntoArray(){if(this.payer?.terms?.length){const e=this.identityForm?.get("amount")?.value?this.identityForm?.get("amount")?.value:0,a=this.payer?.terms?.length,i=e&&a?e/a:0;return i?new Array(a)?.fill(i):[]}return[]}submitVerification(){if(this.identityForm.invalid)c().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.identityForm.markAllAsTouched();else if(this.isRecalculateOfTermsOrDPValid()){let e="";e="avoir_scholarship_fees <student program>"===this.identityForm.get("operation_name").value?this.identityForm.get("operation_name").value.replace("<student program>",this.displayProgram(this.data?.dropdown[0]?.candidate_id)):this.identityForm.get("operation_name").value;const a={amount:this.identityForm.get("amount").value?this.identityForm.get("amount").value:"",date:this.identityForm.get("date").value?this.identityForm.get("date").value:"",from:this.identityForm.get("from").value?this.identityForm.get("from").value:"",to:this.payer.payer_name?this.payer.payer_name:"",reference:this.identityForm.get("reference").value?this.identityForm.get("reference").value:"",note:this.identityForm.get("note").value?this.identityForm.get("note").value:"",nature:this.identityForm.get("nature").value?this.identityForm.get("nature").value:"",operation_name:e||""};a.date&&(a.date=this.identityForm.get("date").value?this.parseToUTC.transformDate(this.identityForm.get("date").value.toLocaleDateString("en-GB"),"15:59"):""),this.isWaitingForResponse=!0,this.subs.sink=this.comingFromFC?this.payer?.orgId?this.financeService.CreateManualAvoirFinanceOrganization(a,this.payer?.billing_id).subscribe(i=>{i&&(this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)}))},i=>{this.isWaitingForResponse=!1,i&&i.message?.includes("The avoir amount cannot exceed the amount billed"),c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.financeService.CreateManualAvoir(a,this.payer?.billing_id).subscribe(i=>{console.log("Edit Payment Mode",i),i&&(this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)}))},i=>{this.isWaitingForResponse=!1,i&&i.message?.includes("The avoir amount cannot exceed the amount billed"),c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.financeService.CreateManualAvoir(a,this.payer?.billing_id).subscribe(i=>{i&&(this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)}))},i=>{this.isWaitingForResponse=!1,i&&i.message?.includes("The avoir amount cannot exceed the amount billed"),c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}else c().fire({type:"info",title:this.translate.instant("TERM_UPDATE_S1.TITLE"),html:this.translate.instant("TERM_UPDATE_S1.TEXT"),confirmButtonText:this.translate.instant("TERM_UPDATE_S1.BUTTON"),onOpen:e=>{e.setAttribute("data-cy","swal-term-update-s1")},allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})}displayProgram(e){let a="";return e?.intake_channel?.scholar_season_id?.scholar_season&&e?.intake_channel?.program?(a=e?.intake_channel?.scholar_season_id?.scholar_season.concat(" ",e?.intake_channel?.program),a):""}closeDialog(){this.dialogRef.close()}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(m.UntypedFormBuilder),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(T.WI),t.\u0275\u0275directiveInject(ht.N),t.\u0275\u0275directiveInject(U.t))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-avoir-dialog"]],features:[t.\u0275\u0275ProvidersFeature([Vt.n,U.t])],decls:132,vars:76,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],["svgIcon","card-text-outline",2,"vertical-align","middle"],[1,"p-col-10","acad-title"],["data-cy","label-add-avoir",1,"dialogTitle"],[1,"w-65","no-padding"],["data-cy","button-close-add-avoir-dialog","mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding"],[1,"p-col-fixed","center-label","no-padding-left","label-align",2,"width","160px"],[1,"p-col","no-padding"],["floatLabel","never"],["formControlName","nature","panelClass","filterPanel","data-cy","input-select-nature",3,"placeholder","disableOptionCentering"],["data-cy","input-select-option-nature",3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","from","type","text","readonly","","data-cy","input-from",2,"color","gray",3,"readonly","placeholder"],["formControlName","who","panelClass","filterPanel","data-cy","input-select-to-fc",3,"placeholder","disableOptionCentering"],["data-cy","input-select-option-payer",3,"value","click",4,"ngFor","ngForOf"],["matInput","","readonly","","formControlName","date","data-cy","input-date",3,"placeholder","matDatepicker","click"],["matSuffix","",3,"for"],["myDatepicker",""],["data-cy","input-select-operation-name","formControlName","operation_name","panelClass","filterPanel",3,"disableOptionCentering"],["data-cy","input-select-option-operation-name",3,"value",4,"ngFor","ngForOf"],["data-cy","input-amount","matInput","","formControlName","amount","type","number",3,"placeholder","wheel"],["matSuffix",""],["data-cy","input-reference","matInput","","msPreventInputTagCharacters","","formControlName","reference",3,"placeholder"],["data-cy","input-note","msPreventInputTagCharacters","","matInput","","formControlName","note",3,"placeholder"],["align","end"],["data-cy","button-cancel-add-avoir-dialog","mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["data-cy","button-validate-add-avoir-dialog","mat-raised-button","","color","primary",3,"click"],["class","loading-indicator","data-cy","spinner-add-avoir-dialog",4,"ngIf"],["data-cy","input-select-option-nature",3,"value"],["data-cy","input-select-option-payer",3,"value","click"],["data-cy","input-select-option-operation-name",3,"value"],["data-cy","spinner-add-avoir-dialog",1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,a){if(1&e){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5,"card-text-outline"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",5)(7,"h3",6),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",7)(11,"button",8)(12,"mat-icon"),t.\u0275\u0275text(13,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(14,"form",9)(15,"div",10)(16,"mat-dialog-content")(17,"div",2)(18,"div",11)(19,"div",2)(20,"div",12)(21,"label"),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"div",13)(25,"mat-form-field",14)(26,"mat-select",15),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275template(28,ka,3,4,"mat-option",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(29,Fa,3,3,"mat-error",17),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(30,"div",2)(31,"div",11)(32,"div",2)(33,"div",12)(34,"label"),t.\u0275\u0275text(35),t.\u0275\u0275pipe(36,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(37,"div",13)(38,"mat-form-field",14),t.\u0275\u0275element(39,"input",18),t.\u0275\u0275pipe(40,"translate"),t.\u0275\u0275template(41,Ba,3,3,"mat-error",17),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(42,"div",2)(43,"div",11)(44,"div",2)(45,"div",12)(46,"label"),t.\u0275\u0275text(47),t.\u0275\u0275pipe(48,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(49,"div",13),t.\u0275\u0275elementContainerStart(50),t.\u0275\u0275elementStart(51,"mat-form-field",14)(52,"mat-select",19),t.\u0275\u0275pipe(53,"translate"),t.\u0275\u0275template(54,La,5,5,"mat-option",20),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(55,Ua,3,3,"mat-error",17),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(56,"div",2)(57,"div",11)(58,"div",2)(59,"div",12)(60,"label"),t.\u0275\u0275text(61),t.\u0275\u0275pipe(62,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(63,"div",13)(64,"mat-form-field",14)(65,"input",21),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const r=t.\u0275\u0275reference(69);return t.\u0275\u0275resetView(r.open())}),t.\u0275\u0275pipe(66,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(67,"mat-datepicker-toggle",22)(68,"mat-datepicker",null,23),t.\u0275\u0275template(70,za,3,3,"mat-error",17),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(71,"div",2)(72,"div",11)(73,"div",2)(74,"div",12)(75,"label"),t.\u0275\u0275text(76),t.\u0275\u0275pipe(77,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(78,"div",13)(79,"mat-form-field",14)(80,"mat-label"),t.\u0275\u0275text(81),t.\u0275\u0275pipe(82,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(83,"mat-select",24),t.\u0275\u0275template(84,Ha,3,7,"mat-option",25),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(85,ja,3,3,"mat-error",17),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(86,"div",2)(87,"div",11)(88,"div",2)(89,"div",12)(90,"label"),t.\u0275\u0275text(91),t.\u0275\u0275pipe(92,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(93,"div",13)(94,"mat-form-field",14)(95,"input",26),t.\u0275\u0275listener("wheel",function(r){return a.onWheel(r)}),t.\u0275\u0275pipe(96,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(97,"span",27),t.\u0275\u0275text(98,"\u20ac"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(99,Wa,3,3,"mat-error",17),t.\u0275\u0275template(100,Ya,3,3,"mat-error",17),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(101,"div",2)(102,"div",11)(103,"div",2)(104,"div",12)(105,"label"),t.\u0275\u0275text(106),t.\u0275\u0275pipe(107,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(108,"div",13)(109,"mat-form-field",14),t.\u0275\u0275element(110,"textarea",28),t.\u0275\u0275pipe(111,"translate"),t.\u0275\u0275template(112,Ga,3,3,"mat-error",17),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(113,"div",2)(114,"div",11)(115,"div",2)(116,"div",12)(117,"label"),t.\u0275\u0275text(118),t.\u0275\u0275pipe(119,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(120,"div",13)(121,"mat-form-field",14),t.\u0275\u0275element(122,"textarea",29),t.\u0275\u0275pipe(123,"translate"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(124,"mat-dialog-actions",30)(125,"button",31),t.\u0275\u0275text(126),t.\u0275\u0275pipe(127,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(128,"button",32),t.\u0275\u0275listener("click",function(){return a.submitVerification()}),t.\u0275\u0275text(129),t.\u0275\u0275pipe(130,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(131,qa,2,0,"div",33)}if(2&e){const i=t.\u0275\u0275reference(69);t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,38,"Add avoir/discount")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",a.identityForm),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(23,40,"Nature"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(27,42,"Nature")),t.\u0275\u0275property("disableOptionCentering",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.natureList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("nature").hasError("required")&&(a.identityForm.get("nature").dirty||a.identityForm.get("nature").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(36,44,"From"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(40,46,"From")),t.\u0275\u0275property("readonly",a.isLegalEntity),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.identityForm.get("from").hasError("required")&&(a.identityForm.get("from").dirty||a.identityForm.get("from").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(48,48,"To"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(53,50,"To")),t.\u0275\u0275property("disableOptionCentering",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==a.data?null:a.data.dropdown),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("who").hasError("required")&&(a.identityForm.get("who").dirty||a.identityForm.get("who").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(62,52,"Date"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(66,54,"Date")),t.\u0275\u0275property("matDatepicker",i),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",i),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.identityForm.get("date").hasError("required")&&(a.identityForm.get("date").dirty||a.identityForm.get("date").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(77,56,"Operation name"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(82,58,"Operation name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disableOptionCentering",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.operationNameList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("operation_name").hasError("required")&&(a.identityForm.get("operation_name").dirty||a.identityForm.get("operation_name").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(92,60,"Amount"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(96,62,"Amount")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.identityForm.get("amount").hasError("min")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("amount").hasError("required")&&(a.identityForm.get("amount").dirty||a.identityForm.get("amount").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(107,64,"R\xe9f\xe9rence"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(111,66,"R\xe9f\xe9rence")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.identityForm.get("reference").hasError("required")&&(a.identityForm.get("reference").dirty||a.identityForm.get("reference").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(119,68,"Note")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(123,70,"Note")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(127,72,"CANCEL")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(130,74,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isWaitingForResponse)}},dependencies:[f.sg,f.O5,N.Zt,N.Bh,Q.ey,I.lW,P.Mq,P.hl,P.nW,T.ZT,T.xY,T.H8,k.Hw,S.TO,S.KE,S.hX,S.R9,z.Nt,D.Ou,it.gD,m.\u0275NgNoValidate,m.DefaultValueAccessor,m.NumberValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.FormGroupDirective,m.FormControlName,kt.c,f.gd,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-15px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}[_nghost-%COMP%]  .ng-select .ng-select-container{color:#000;background-color:#fff;border:none;border-radius:0!important;border-bottom:1px solid #e0e0e0!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{color:#000}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#000;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}[_nghost-%COMP%]  .mat-select-value-text{font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;margin-left:0!important}[_nghost-%COMP%]  .filterPanel{margin-top:25px!important}"]}),n})();var Qa=C(95321);function Xa(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h3",33),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Add refund")," "))}function Za(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h3",33),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Edit refund")," "))}function Ja(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function ti(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e||null==e.candidate_id?null:e.candidate_id.last_name)+" "+(null==e||null==e.candidate_id?null:e.candidate_id.first_name)+" "+(null!=e&&null!=e.candidate_id&&e.candidate_id.civility&&"neutral"===(null==e||null==e.candidate_id?null:e.candidate_id.civility)?"":t.\u0275\u0275pipeBind1(3,3,null==e||null==e.candidate_id?null:e.candidate_id.civility))," ")}}function ei(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e||null==e.financial_support_info?null:e.financial_support_info.family_name)+" "+(null==e||null==e.financial_support_info?null:e.financial_support_info.name)+" "+(null!=e&&null!=e.financial_support_info&&e.financial_support_info.civility&&"neutral"===(null==e||null==e.financial_support_info?null:e.financial_support_info.civility)?"":t.\u0275\u0275pipeBind1(3,3,null==e||null==e.financial_support_info?null:e.financial_support_info.civility))+(null!=e&&null!=e.financial_support_info&&e.financial_support_info.relation?" ("+t.\u0275\u0275pipeBind1(4,5,"CARDDETAIL.RELATION."+(null==e||null==e.financial_support_info?null:e.financial_support_info.relation))+")":"")," ")}}function ni(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.company_branch_id?null:e.company_branch_id.company_name," ")}}function ai(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.organization_id?null:e.organization_id.name," ")}}function ii(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",34),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.payerSelect(l))}),t.\u0275\u0275template(1,ti,4,5,"span",16),t.\u0275\u0275template(2,ei,5,7,"span",16),t.\u0275\u0275template(3,ni,2,1,"span",16),t.\u0275\u0275template(4,ai,2,1,"span",16),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_financial_support||null!=e&&e.company_branch_id||null!=e&&e.organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_financial_support)&&!(null!=e&&e.company_branch_id)&&!(null!=e&&e.organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",((null==e?null:e.is_financial_support)||!(null!=e&&e.is_financial_support))&&(null==e?null:e.company_branch_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.organization_id)}}function oi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function li(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function ri(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",35),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,e.key))}}function si(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ci(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"min value 0")," "))}function di(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",36),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"nature_type."+e.key))}}function pi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function mi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function _i(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",37),t.\u0275\u0275element(1,"mat-progress-spinner",38),t.\u0275\u0275elementEnd())}let Zt=(()=>{class n{constructor(e,a,i,l,r,s,d,p){this.dialogRef=e,this.fb=a,this.translate=i,this.acadJourneyService=l,this.data=r,this.financeService=s,this.parseToUTC=d,this.parseToLocal=p,this.subs=new w.Y,this.isMainAddressSelected=!1,this.isLegalEntity=!1,this.nationalitiesList=[],this.nationalList=[],this.filteredCountry=[],this.isUpdate=!1,this.bank=["Banque Tarneaud","BNP Paribas","Credit Agricole","BPCE","Societe Generale","Groupe Cr\xe9dit Mutuel","Cr\xe9dit Cooperatif","La Banque Postale","Cr\xe9dit du Nord","AXA Banque","Banque Palatine","HSBC France","CIC Banque Transatlantique","BRED Banque Populaire"],this.operationNameList=[{key:"Refund",value:"refund"}],this.methodOfPaymentList=[{key:"Sepa",value:"sepa"},{key:"Check",value:"check"},{key:"transfer",value:"transfer"},{key:"Credit card",value:"credit_card"},{key:"Cash",value:"cash"}],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.dataFinanceList=[],this.currencyList=[],this.toFilterList=[{civility:"Mrs",value:" Mrs Anne CHAMBIER",key:"Anne CHAMBIER"},{civility:"Mr",value:"Mr Fabien CHAMBIER",key:"Fabien CHAMBIER"}],this.isWaitingForResponse=!1}ngOnInit(){this.today=new Date,this.iniVerificationForm(),this.setPayerData()}onWheel(e){e?.preventDefault()}setPayerData(){if(this.payer={billing_id:this.data?.billing_id,payer_name:""},this.data?.dropdown?.length&&this.data?.isUpdate&&(this.data?.finance_organization_id?.company_branch_id?.company_name?this.payer={billing_id:this.data?.billing_id,payer_name:this.data?.finance_organization_id?.company_branch_id?.company_name}:this.data?.finance_organization_id?.organization_id?.name&&(this.payer={billing_id:this.data?.billing_id,payer_name:this.data?.finance_organization_id?.organization_id?.name})),this.data?.isUpdate){this.isUpdate=!0,this.identityForm?.get("note")?.disable(),this.identityForm?.get("reference")?.disable(),this.identityForm?.get("from")?.disable(),this.identityForm?.get("date")?.disable(),this.payerSelectedEdit=this.data?.finance_organization_id?._id?this.data?.finance_organization_id?._id:this.data?.billing_id;const e={payment_method:this.data?.method_of_payment?this.data?.method_of_payment:"",from:this.data?.legal_entity_id?.legal_entity_name?this.data?.legal_entity_id?.legal_entity_name:"",who:this.payerSelectedEdit,amount:this.data?.debit?this.data?.debit:0,operation_name:this.data?.operation_name?.includes("scholarship_fees")?"scholarship_fees <student program>":this.data?.operation_name,date:this.data?.date_action?.date?this.parseToLocal.transformDateToJavascriptDate(this.data?.date_action?.date,this.data?.date_action?.time):null,reference:this.data?.reference?this.data?.reference:"",note:this.data?.note?this.data?.note:""};this.identityForm.patchValue(e);const a=this.data?.dropdown.find(i=>i?._id===this.payerSelectedEdit);a?.company_branch_id&&(this.payer={billing_id:this.data?.billing_id?._id,payer_name:a?.company_branch_id?.company_name}),a?.organization_id&&(this.payer={billing_id:this.data?.billing_id?._id,payer_name:a?.organization_id?.name})}else if(this.isUpdate=!1,this.data?.dropdown?.length){const e=this.data?.dropdown?.filter(a=>!a?.is_financial_support&&!a?.company_branch_id&&!a?.organization_id);e?.length&&(this.payer={billing_id:e[0]?._id,payer_name:"neutral"===e[0]?.candidate_id?.civility?`${e[0]?.candidate_id?.first_name} ${e[0]?.candidate_id?.last_name}`:`${e[0]?.candidate_id?.civility} ${e[0]?.candidate_id?.first_name} ${e[0]?.candidate_id?.last_name}`}),this.getLegalEntity()}}sortingAllListSelect(){this.operationNameList=this.operationNameList.sort((e,a)=>this.translate.instant(e.key).localeCompare(this.translate.instant(a.key))),this.methodOfPaymentList=this.methodOfPaymentList.sort((e,a)=>this.translate.instant(e.key).localeCompare(this.translate.instant(a.key)))}sortingAllListSelectTranslate(){this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.sortingAllListSelect()})}getFinanceList(){if(this.bank=this.bank.sort((e,a)=>e>a?1:a>e?-1:0),this.subs.sink=this.acadJourneyService.getCurrency().subscribe(e=>{this.currencyList=e}),this.data&&this.data.data&&this.data.data.financial_supports&&this.data.data.financial_supports.length?this.dataFinanceList=this.data.data.financial_supports.map(e=>({civility:e&&e.civility&&"neutral"!==e.civility?e.civility:"",email:e.email,last_name:e.family_name+" ("+this.translate.instant("CARDDETAIL.RELATION."+e.relation)+")",first_name:e.name,billing_id:this.data.data._id,is_student:!1,value:(e&&e.civility&&"neutral"!==e.civility?this.translate.instant(e.civility)+" ":"")+e.name+" "+e.family_name+" ("+this.translate.instant("CARDDETAIL.RELATION."+e.relation)+")"})):this.data&&this.data.dataFinance&&(this.dataFinanceList=[this.data.dataFinance.financial_support_info].map(a=>({civility:a&&a.civility&&"neutral"!==a.civility?a.civility:"",email:a.email,last_name:a.family_name+" ("+this.translate.instant("CARDDETAIL.RELATION."+a.relation)+")",first_name:a.name,billing_id:this.data.dataFinance._id,is_student:!1,value:(a&&a.civility&&"neutral"!==a.civility?this.translate.instant(a.civility)+" ":"")+a.name+" "+a.family_name+" ("+this.translate.instant("CARDDETAIL.RELATION."+a.relation)+")"}))),this.data&&this.data.data&&this.data.data.candidate_id&&this.data.data.candidate_id._id){this.getLegalEntity();const e={civility:this.data&&this.data.data&&this.data.data.candidate_id&&this.data.data.candidate_id.civility&&"neutral"!==this.data.data.candidate_id.civility?this.data.data.candidate_id.civility:"",email:this.data.data.candidate_id.email,last_name:this.data.data.candidate_id.last_name,first_name:this.data.data.candidate_id.first_name,billing_id:this.data.data._id,is_student:!0,value:(this.data&&this.data.data&&this.data.data.candidate_id&&this.data.data.candidate_id.civility&&"neutral"!==this.data.data.candidate_id.civility?this.translate.instant(this.data.data.candidate_id.civility)+" ":"")+this.data.data.candidate_id.first_name+" "+this.data.data.candidate_id.last_name};this.dataFinanceList.push(e)}if(this.data?.isUpdate){this.isUpdate=!0;const e=this.dataFinanceList&&this.dataFinanceList.length?this.dataFinanceList.find(a=>a.is_student):"";this.setRefundData(e)}else{this.isUpdate=!1;const e=this.dataFinanceList&&this.dataFinanceList.length?this.dataFinanceList.find(a=>a.is_student):"";this.identityForm.get("who").setValue(e?e.value:""),this.billingId=e.billing_id}}setRefundData(e){const a=e.billing_id===this.data?.billing_id?e:"",i=this.data?.date_action?.date?this.parseToLocal.transformDateToJavascriptDate(this.data?.date_action?.date,this.data?.date_action?.time):null;this.data?.isUpdate&&this.identityForm.patchValue({billing_id:this.data?.billingId?this.data?.billingId:null,amount:this.data?.debit?this.data?.debit:"",from:this.data?.from?this.data?.from:"",who:this.data?.billing_id?a.value:"",date:i||"",operation_name:this.data?.operation_name?this.data?.operation_name:"",payment_method:this.data?.nature?this.data?.nature:"",reference:this.data?.reference?this.data?.reference:"",note:this.data?.note?this.data?.note:""})}selectBillingId(e){this.billingId=e&&e.billing_id?e.billing_id:null}iniVerificationForm(){this.identityForm=this.fb.group({payment_method:[null,m.Validators.required],from:[null,m.Validators.required],who:[null,m.Validators.required],amount:[null,[m.Validators.required,m.Validators.min(0)]],operation_name:[null,m.Validators.required],credit:[!1],transfer:[!1],cheque:[!1],cash:[!1],currency:["EUR"],date:[this.today,m.Validators.required],reference:[null,m.Validators.required],note:[null],bank:[null]})}checkPayment(e){const a=this.identityForm.get("credit").value,i=this.identityForm.get("transfer").value,l=this.identityForm.get("cheque").value,r=this.identityForm.get("cash").value;if(!(a||i||l||r))return this.identityForm.get("payment_method").setValue(null),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!1),void this.identityForm.get("cash").setValue(!1);"credit"===e?(this.identityForm.get("payment_method").setValue("credit_card"),this.identityForm.get("credit").setValue(!0),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!1),this.identityForm.get("cash").setValue(!1)):"transfer"===e?(this.identityForm.get("payment_method").setValue("transfer"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!0),this.identityForm.get("cheque").setValue(!1),this.identityForm.get("cash").setValue(!1)):"cheque"===e?(this.identityForm.get("payment_method").setValue("check"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!0),this.identityForm.get("cash").setValue(!1)):"cash"===e&&(this.identityForm.get("payment_method").setValue("cash"),this.identityForm.get("credit").setValue(!1),this.identityForm.get("transfer").setValue(!1),this.identityForm.get("cheque").setValue(!1),this.identityForm.get("cash").setValue(!0))}getLegalEntity(){this.subs.sink=this.financeService.GetLegalEntityByCandidate(this.data.candidate_id).subscribe(e=>{e&&(this.dataLegalEntity=e,this.identityForm.get("from").setValue(this.dataLegalEntity.legal_entity_name),this.isLegalEntity=!0,this.identityForm?.get("from")?.disable())},e=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}payerSelect(e){e&&(this.payer={billing_id:e._id,orgId:null,payer_name:""},e?.is_financial_support||e?.company_branch_id||e?.organization_id?!e?.is_financial_support||e?.company_branch_id||e?.organization_id?!e?.is_financial_support&&e?.is_financial_support||!e?.company_branch_id?e?.organization_id&&(this.payer.payer_name=e?.organization_id?.name,this.payer.orgId=e?.organization_id?._id):(this.payer.payer_name=e?.company_branch_id?.company_name,this.payer.orgId=e?.company_branch_id?._id):this.payer.payer_name="neutral"===e?.financial_support_info?.civility?`${e?.financial_support_info?.name} ${e?.financial_support_info?.family_name}`:`${e?.financial_support_info?.civility} ${e?.financial_support_info?.name} ${e?.financial_support_info?.family_name}`:this.payer.payer_name="neutral"===e?.candidate_id?.civility?`${e?.candidate_id?.first_name} ${e?.candidate_id?.last_name}`:`${e?.candidate_id?.civility} ${e?.candidate_id?.first_name} ${e?.candidate_id?.last_name}`),console.log("payer",this.payer)}submitVerification(){let e=!1;if(this.identityForm.invalid)c().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.identityForm.markAllAsTouched();else{this.isWaitingForResponse=!0;const a=this.identityForm.get("date").value?this.parseToUTC.transformDate(this.identityForm.get("date").value.toLocaleDateString("en-GB"),"15:59"):"";let i={amount:this.identityForm.get("amount").value?this.identityForm.get("amount").value:"",from:this.identityForm.get("from").value?this.identityForm.get("from").value:"",to:this.payer.payer_name?this.payer.payer_name:"",date:a||"",operation_name:this.identityForm.get("operation_name").value?this.identityForm.get("operation_name").value:"",payment_method:this.identityForm.get("payment_method").value?this.identityForm.get("payment_method").value:"",reference:this.identityForm.get("reference").value?this.identityForm.get("reference").value:"",note:this.identityForm.get("note").value?this.identityForm.get("note").value:""};if(this.isUpdate){const l=this.data?.dropdown.some(d=>d?.organization_id?.name===this.payer?.payer_name),r=this.data?.dropdown.some(d=>d?.company_branch_id?.company_name===this.payer?.payer_name);e=l||r;const s={master_transaction_id:this.data?._id?this.data?._id:null,new_amount:this.identityForm.get("amount").value?this.identityForm.get("amount").value:""};this.subs.sink=e?this.financeService.updateManualRefundFinanceOrganization(s).subscribe(d=>{d&&(this.isWaitingForResponse=!1,this.swalSuccessSubmit())},d=>{this.isWaitingForResponse=!1,this.swalErrorSubmit(d)}):this.financeService.updateManualRefund(s).subscribe(d=>{d&&(this.isWaitingForResponse=!1,this.swalSuccessSubmit())},d=>{this.isWaitingForResponse=!1,this.swalErrorSubmit(d)})}else{const l=this.data?.dropdown.some(s=>s?.organization_id?.name===this.payer?.payer_name),r=this.data?.dropdown.some(s=>s?.company_branch_id?.company_name===this.payer?.payer_name);if(e=l||r,e){const s={finance_organization_id:this.payer?.billing_id?this.payer?.billing_id:null};i={...i,...s},this.subs.sink=this.financeService.createManualRefundFinanceOrganization(i).subscribe(d=>{d&&(this.isWaitingForResponse=!1,this.swalSuccessSubmit())},d=>{this.isWaitingForResponse=!1,this.swalErrorSubmit(d)})}else{const s={billing_id:this.payer?.billing_id?this.payer?.billing_id:null};i={...i,...s},this.subs.sink=this.financeService.createManualRefund(i).subscribe(d=>{d&&(this.isWaitingForResponse=!1,this.swalSuccessSubmit())},d=>{this.isWaitingForResponse=!1,this.swalErrorSubmit(d)})}}}}swalSuccessSubmit(){c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})}swalErrorSubmit(e){c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}closeDialog(){this.dialogRef.close()}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(m.UntypedFormBuilder),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(Qa.g),t.\u0275\u0275directiveInject(T.WI),t.\u0275\u0275directiveInject(ht.N),t.\u0275\u0275directiveInject(U.t),t.\u0275\u0275directiveInject(U.t))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-decaissement-dialog"]],features:[t.\u0275\u0275ProvidersFeature([Vt.n,U.t])],decls:129,vars:81,consts:[[1,"dialog-border"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],["svgIcon","credit-card-refund-outline",2,"vertical-align","middle"],[1,"p-col-10","acad-title"],["class","dialogTitle","data-cy","label-add-refund",4,"ngIf"],[1,"w-65","no-padding"],["data-cy","button-close-add-refund-dialog","mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding"],[1,"p-col-fixed","center-label","no-padding-left","label-align",2,"width","160px"],[1,"p-col","no-padding"],["floatLabel","never"],["data-cy","input-from","matInput","","formControlName","from","type","text","readonly","",2,"color","gray",3,"readonly","placeholder"],[4,"ngIf"],["data-cy","input-select-who-fi","formControlName","who","panelClass","filterPanel",3,"disabled","placeholder","disableOptionCentering"],["data-cy","input-select-option-payer",3,"value","click",4,"ngFor","ngForOf"],["data-cy","input-date","matInput","","readonly","","formControlName","date",3,"placeholder","matDatepicker","disabled","click"],["matSuffix","",3,"for","disabled"],["myDatepicker",""],["data-cy","input-select-operation-name","formControlName","operation_name","panelClass","filterPanel",3,"disableOptionCentering","disabled"],["data-cy","input-select-option-operation-name",3,"value",4,"ngFor","ngForOf"],["data-cy","input-amount","matInput","","formControlName","amount","type","number",3,"placeholder","wheel"],["data-cy","input-select-payment-method","formControlName","payment_method","panelClass","filterPanel",3,"disableOptionCentering","disabled"],["data-cy","input-select-option-payment-method",3,"value",4,"ngFor","ngForOf"],["data-cy","input-reference","matInput","","msPreventInputTagCharacters","","formControlName","reference",3,"placeholder","readonly"],["data-cy","input-note","matInput","","msPreventInputTagCharacters","","formControlName","note",3,"placeholder","readonly"],["align","end"],["mat-raised-button","","type","button","color","warn","mat-dialog-close","","data-cy","button-cancel-add-refund-dialog"],["mat-raised-button","","color","primary","data-cy","button-validate-add-refund-dialog",3,"click"],["class","loading-indicator","data-cy","spinner-add-refund-dialog",4,"ngIf"],["data-cy","label-add-refund",1,"dialogTitle"],["data-cy","input-select-option-payer",3,"value","click"],["data-cy","input-select-option-operation-name",3,"value"],["data-cy","input-select-option-payment-method",3,"value"],["data-cy","spinner-add-refund-dialog",1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,a){if(1&e){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5,"credit-card-refund-outline"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",5),t.\u0275\u0275template(7,Xa,3,3,"h3",6),t.\u0275\u0275template(8,Za,3,3,"h3",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",7)(10,"button",8)(11,"mat-icon"),t.\u0275\u0275text(12,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(13,"form",9)(14,"div",10)(15,"mat-dialog-content")(16,"div",2)(17,"div",11)(18,"div",2)(19,"div",12)(20,"label"),t.\u0275\u0275text(21),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",13)(24,"mat-form-field",14),t.\u0275\u0275element(25,"input",15),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275template(27,Ja,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(28,"div",2)(29,"div",11)(30,"div",2)(31,"div",12)(32,"label"),t.\u0275\u0275text(33),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(35,"div",13)(36,"mat-form-field",14)(37,"mat-select",17),t.\u0275\u0275pipe(38,"translate"),t.\u0275\u0275template(39,ii,5,5,"mat-option",18),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(40,oi,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(41,"div",2)(42,"div",11)(43,"div",2)(44,"div",12)(45,"label"),t.\u0275\u0275text(46),t.\u0275\u0275pipe(47,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(48,"div",13)(49,"mat-form-field",14)(50,"input",19),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const r=t.\u0275\u0275reference(54);return t.\u0275\u0275resetView(r.open())}),t.\u0275\u0275pipe(51,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(52,"mat-datepicker-toggle",20)(53,"mat-datepicker",null,21),t.\u0275\u0275template(55,li,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(56,"div",2)(57,"div",11)(58,"div",2)(59,"div",12)(60,"label"),t.\u0275\u0275text(61),t.\u0275\u0275pipe(62,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(63,"div",13)(64,"mat-form-field",14)(65,"mat-label"),t.\u0275\u0275text(66),t.\u0275\u0275pipe(67,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(68,"mat-select",22),t.\u0275\u0275template(69,ri,3,4,"mat-option",23),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(70,si,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(71,"div",2)(72,"div",11)(73,"div",2)(74,"div",12)(75,"label"),t.\u0275\u0275text(76),t.\u0275\u0275pipe(77,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(78,"div",13)(79,"mat-form-field",14)(80,"input",24),t.\u0275\u0275listener("wheel",function(r){return a.onWheel(r)}),t.\u0275\u0275pipe(81,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(82,ci,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(83,"div",2)(84,"div",11)(85,"div",2)(86,"div",12)(87,"label"),t.\u0275\u0275text(88),t.\u0275\u0275pipe(89,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(90,"div",13)(91,"mat-form-field",14)(92,"mat-label"),t.\u0275\u0275text(93),t.\u0275\u0275pipe(94,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(95,"mat-select",25),t.\u0275\u0275template(96,di,3,4,"mat-option",26),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(97,pi,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(98,"div",2)(99,"div",11)(100,"div",2)(101,"div",12)(102,"label"),t.\u0275\u0275text(103),t.\u0275\u0275pipe(104,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(105,"div",13)(106,"mat-form-field",14),t.\u0275\u0275element(107,"textarea",27),t.\u0275\u0275pipe(108,"translate"),t.\u0275\u0275template(109,mi,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(110,"div",2)(111,"div",11)(112,"div",2)(113,"div",12)(114,"label"),t.\u0275\u0275text(115),t.\u0275\u0275pipe(116,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(117,"div",13)(118,"mat-form-field",14),t.\u0275\u0275element(119,"textarea",28),t.\u0275\u0275pipe(120,"translate"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(121,"mat-dialog-actions",29)(122,"button",30),t.\u0275\u0275text(123),t.\u0275\u0275pipe(124,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(125,"button",31),t.\u0275\u0275listener("click",function(){return a.submitVerification()}),t.\u0275\u0275text(126),t.\u0275\u0275pipe(127,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(128,_i,2,0,"div",32)}if(2&e){const i=t.\u0275\u0275reference(54);t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",!a.isUpdate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isUpdate),t.\u0275\u0275advance(5),t.\u0275\u0275property("formGroup",a.identityForm),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(22,45,"From"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(26,47,"From")),t.\u0275\u0275property("readonly",a.isLegalEntity||a.isUpdate),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.identityForm.get("from").hasError("required")&&(a.identityForm.get("from").dirty||a.identityForm.get("from").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(34,49,"To"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(38,51,"To")),t.\u0275\u0275property("disabled",a.isUpdate)("disableOptionCentering",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==a.data?null:a.data.dropdown),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("who").hasError("required")&&(a.identityForm.get("who").dirty||a.identityForm.get("who").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(47,53,"Date"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(51,55,"Date")),t.\u0275\u0275property("matDatepicker",i)("disabled",a.isUpdate),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",i)("disabled",a.isUpdate),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.identityForm.get("date").hasError("required")&&(a.identityForm.get("date").dirty||a.identityForm.get("date").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(62,57,"Operation name"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(67,59,"Operation name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disableOptionCentering",!0)("disabled",a.isUpdate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.operationNameList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("operation_name").hasError("required")&&(a.identityForm.get("operation_name").dirty||a.identityForm.get("operation_name").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(77,61,"Amount"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(81,63,"Amount")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(a.identityForm.get("amount").hasError("min")||a.identityForm.get("amount").hasError("required"))&&(a.identityForm.get("amount").dirty||a.identityForm.get("amount").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(89,65,"Payment method"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(94,67,"Payment method")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disableOptionCentering",!0)("disabled",a.isUpdate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.methodOfPaymentList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.identityForm.get("payment_method").hasError("required")&&(a.identityForm.get("payment_method").dirty||a.identityForm.get("payment_method").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(104,69,"R\xe9f\xe9rence"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(108,71,"R\xe9f\xe9rence")),t.\u0275\u0275property("readonly",a.isUpdate),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.identityForm.get("reference").hasError("required")&&(a.identityForm.get("reference").dirty||a.identityForm.get("reference").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(116,73,"Note")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(120,75,"Note")),t.\u0275\u0275property("readonly",a.isUpdate),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(124,77,"CANCEL")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(127,79,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isWaitingForResponse)}},dependencies:[f.sg,f.O5,N.Zt,N.Bh,Q.ey,I.lW,P.Mq,P.hl,P.nW,T.ZT,T.xY,T.H8,k.Hw,S.TO,S.KE,S.hX,S.R9,z.Nt,D.Ou,it.gD,m.\u0275NgNoValidate,m.DefaultValueAccessor,m.NumberValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.FormGroupDirective,m.FormControlName,kt.c,f.gd,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-15px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{color:#000}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#000;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}[_nghost-%COMP%]  .ng-select .ng-select-container{color:#000;background-color:#fff;border:none;border-radius:0!important;border-bottom:1px solid #e0e0e0!important;min-height:36px;align-items:center;font-size:15px}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .filterPanel{margin-top:25px!important}"]}),n})();function ui(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Add payment line")," "))}function gi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Edit payment line")," "))}function hi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function fi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"minimum value 2")))}function bi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",31),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,e.key))}}function Ci(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function xi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e||null==e.candidate_id?null:e.candidate_id.last_name)+" "+(null==e||null==e.candidate_id?null:e.candidate_id.first_name)+" "+(null!=e&&null!=e.candidate_id&&e.candidate_id.civility&&"neutral"===(null==e||null==e.candidate_id?null:e.candidate_id.civility)?"":t.\u0275\u0275pipeBind1(3,3,null==e||null==e.candidate_id?null:e.candidate_id.civility))," ")}}function yi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e||null==e.financial_support_info?null:e.financial_support_info.family_name)+" "+(null==e||null==e.financial_support_info?null:e.financial_support_info.name)+" "+(null!=e&&null!=e.financial_support_info&&e.financial_support_info.civility&&"neutral"===(null==e||null==e.financial_support_info?null:e.financial_support_info.civility)?"":t.\u0275\u0275pipeBind1(3,3,null==e||null==e.financial_support_info?null:e.financial_support_info.civility))+(null!=e&&null!=e.financial_support_info&&e.financial_support_info.relation?" ("+t.\u0275\u0275pipeBind1(4,5,"CARDDETAIL.RELATION."+(null==e||null==e.financial_support_info?null:e.financial_support_info.relation))+")":"")," ")}}function vi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.company_branch_id?null:e.company_branch_id.company_name," ")}}function Ti(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.organization_id?null:e.organization_id.name," ")}}function Mi(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",32),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.payerSelect(l))}),t.\u0275\u0275template(1,xi,4,5,"span",5),t.\u0275\u0275template(2,yi,5,7,"span",5),t.\u0275\u0275template(3,vi,2,1,"span",5),t.\u0275\u0275template(4,Ti,2,1,"span",5),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_financial_support||null!=e&&e.company_branch_id||null!=e&&e.organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_financial_support)&&!(null!=e&&e.company_branch_id)&&!(null!=e&&e.organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",((null==e?null:e.is_financial_support)||!(null!=e&&e.is_financial_support))&&(null==e?null:e.company_branch_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.organization_id)}}function Si(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Oi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",33),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"method_of_payment."+e.key))}}function Pi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function wi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",43),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Di(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",43),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"minimum value 2")," "))}function Ei(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",43),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Cannot exceed the cost coverage")," "))}function Ii(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",43),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Cannot exceed the total amount of financement")," "))}function ki(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",43),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Must input 100% total amount of financement")," penalty "))}function Fi(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",35)(1,"mat-form-field",12)(2,"input",44),t.\u0275\u0275listener("wheel",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.onWheel(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"span",14),t.\u0275\u0275text(4,"\u20ac"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(5,Di,3,3,"div",40),t.\u0275\u0275template(6,Ei,3,3,"div",40),t.\u0275\u0275template(7,Ii,3,3,"div",40),t.\u0275\u0275template(8,ki,3,3,"div",40),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext();let i,l;t.\u0275\u0275property("ngClass",(null==a.dateArray||null==a.dateArray.controls?null:a.dateArray.controls.length)>1?"p-col margin-right-date-remove no-padding":"p-col no-padding"),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",a.checkMinDeduction(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkMaxDeduction(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkTotalCost()&&!a.checkMinDeduction(e)&&!a.checkMaxDeduction(e)&&((null==(i=a.dateArray.at(e).get("amount_date"))?null:i.touched)||(null==(i=a.dateArray.at(e).get("amount_date"))?null:i.dirty))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkTotalCostAmount()&&!a.checkMinDeduction(e)&&!a.checkMaxDeduction(e)&&((null==(l=a.dateArray.at(e).get("amount_date"))?null:l.touched)||(null==(l=a.dateArray.at(e).get("amount_date"))?null:l.dirty)))}}function Bi(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",45)(1,"button",46),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().index,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.removeAmountDate(i))}),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"remove"),t.\u0275\u0275elementEnd()()()}}const Ai=function(n){return{"form-disable":n}},Ni=function(n){return{disable:n}};function Ri(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",34)(1,"div",10)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",35)(6,"mat-form-field",36)(7,"input",37),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(11);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(9,"mat-datepicker-toggle",38)(10,"mat-datepicker",null,39),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,wi,3,3,"div",40),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(13,Fi,9,5,"div",41),t.\u0275\u0275template(14,Bi,4,0,"div",42),t.\u0275\u0275elementEnd()}if(2&n){const e=o.index,a=t.\u0275\u0275reference(11),i=t.\u0275\u0275nextContext();let l,r;t.\u0275\u0275property("formGroupName",e),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(4,13,"Date"),"*"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",(null==i.dateArray||null==i.dateArray.controls?null:i.dateArray.controls.length)>1?"p-col margin-right-date-remove no-padding":"p-col no-padding"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(17,Ai,i.isUpdate)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matDatepicker",a)("placeholder",t.\u0275\u0275pipeBind1(8,15,"Date"))("disabled",i.isUpdate)("ngClass",t.\u0275\u0275pureFunction1(19,Ni,i.isUpdate)),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",i.isUpdate)("for",a),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==i.dateArray||null==(l=i.dateArray.at(e))||null==(r=l.get("date"))?null:r.hasError("required"))&&((null==i.dateArray||null==(l=i.dateArray.at(e))||null==(r=l.get("date"))?null:r.touched)||(null==i.dateArray||null==(l=i.dateArray.at(e))||null==(r=l.get("date"))?null:r.dirty))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==i.dateArray||null==i.dateArray.controls?null:i.dateArray.controls.length)>1),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==i.dateArray||null==i.dateArray.controls?null:i.dateArray.controls.length)>1)}}function Vi(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",47),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.addDateDynamic())}),t.\u0275\u0275elementStart(1,"mat-icon",48),t.\u0275\u0275text(2,"add"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",e.formAddManualPaymentLine.get("amount").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,2,"JURY_ORGANIZATION.Add Date")," ")}}function Li(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",49),t.\u0275\u0275element(1,"mat-spinner",50),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let Jt=(()=>{class n{constructor(e,a,i,l,r,s,d){this.dialogRef=e,this.translate=a,this.fb=i,this.financeService=l,this.parseToUTC=r,this.parseToLocal=s,this.data=d,this.subs=new w.Y,this.amountDateIncrement=0,this.isLegalEntity=!1,this.operationNameList=[{key:"Payment of the term",value:"payment_of_term"},{key:"Regulation Payment",value:"regulation_payment"}],this.methodOfPaymentList=[{key:"Sepa",value:"sepa"},{key:"Check",value:"check"},{key:"transfer",value:"transfer"},{key:"Credit card",value:"credit_card"},{key:"Cash",value:"cash"}],this.comingFromFC=!1,this.candidateList=[],this.dataFinanceList=[],this.minDeduction=!0,this.maxDeduction=!1,this.isTotalCost=!1,this.totalCostAmount=!1,this.isWaitingForResponse=!1,this.isUpdate=!1}ngOnInit(){this.initForm(),this.setPayerData(),this.sortingAllListSelect(),this.sortingAllListSelectTranslate()}onWheel(e){e?.preventDefault()}setPayerData(){if(this.data?.dropdown?.length&&this.data?.isUpdate)if(this.data?.finance_organization_id?.company_branch_id?.company_name)this.payer={billing_id:this.data?.billing_id,payer_name:this.data?.finance_organization_id?.company_branch_id?.company_name};else if(this.data?.finance_organization_id?.organization_id?.name)this.payer={billing_id:this.data?.billing_id,payer_name:this.data?.finance_organization_id?.organization_id?.name};else{const e=this.data?.dropdown?.filter(a=>!a?.is_financial_support&&!a?.company_branch_id&&!a?.organization_id);e?.length&&(this.payer={billing_id:e[0]?._id,payer_name:"neutral"===e[0]?.candidate_id?.civility?`${e[0]?.candidate_id?.first_name} ${e[0]?.candidate_id?.last_name}`:`${e[0]?.candidate_id?.civility} ${e[0]?.candidate_id?.first_name} ${e[0]?.candidate_id?.last_name}`},this.formAddManualPaymentLine.get("payeur").setValue(e[0]?._id))}if(this.data?.isUpdate){console.log("DATA: ",this.data),this.isUpdate=!0,this.payer={orgId:this.data?.isFinancement?this.data?.isFinancement:null};const e=[{date:this.data?.date_action?.date?this.parseToLocal.transformDateToJavascriptDate(this.data?.date_action?.date,this.data?.date_action?.time):null,date_amount:this.data.credit?this.data.credit:0}];this.formAddManualPaymentLine.patchValue({payeur:this.data.billing_id,amount:this.data.credit?this.data.credit:0,operation_name:this.data.operation_name,method_of_payment:this.data.nature,reference:this.data.reference,note:this.data.note,dateCollectArray:e}),this.formAddManualPaymentLine.get("reference").disable(),this.formAddManualPaymentLine.get("note").disable()}else if(this.isUpdate=!1,this.data?.dropdown?.length){const e=this.data?.dropdown?.filter(a=>!a?.is_financial_support&&!a?.company_branch_id&&!a?.organization_id);e?.length&&(this.payer={billing_id:e[0]?._id,payer_name:"neutral"===e[0]?.candidate_id?.civility?`${e[0]?.candidate_id?.first_name} ${e[0]?.candidate_id?.last_name}`:`${e[0]?.candidate_id?.civility} ${e[0]?.candidate_id?.first_name} ${e[0]?.candidate_id?.last_name}`})}}sortingAllListSelect(){this.operationNameList=this.operationNameList.sort((e,a)=>this.translate.instant(e.key).localeCompare(this.translate.instant(a.key))),this.methodOfPaymentList=this.methodOfPaymentList.sort((e,a)=>this.translate.instant("method_of_payment."+e.key).localeCompare(this.translate.instant("method_of_payment."+a.key)))}sortingAllListSelectTranslate(){this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.sortingAllListSelect()})}initForm(){this.formAddManualPaymentLine=this.fb.group({amount:[null,[m.Validators.required,m.Validators.min(2)]],operation_name:[null,m.Validators.required],payeur:[null,m.Validators.required],method_of_payment:[null,m.Validators.required],reference:[null],note:[null],dateCollectArray:this.fb.array([this.initDateFromArray()])})}get dateArray(){return this.formAddManualPaymentLine.get("dateCollectArray")}initDateFromArray(){return this.fb.group({date:[null,m.Validators.required],amount_date:[null,m.Validators.min(2)]})}addDateDynamic(){this.initDateFromArray().controls.date.setValidators(m.Validators.required),this.initDateFromArray().controls.date.updateValueAndValidity(),this.dateArray.push(this.initDateFromArray()),this.recalculateAmountByDate()}listenAmount(){this.recalculateAmountByDate()}recalculateAmountByDate(){let e=0,a=0;this.dataDateCollectArray=this.formAddManualPaymentLine.get("dateCollectArray").value;const i=h.cloneDeep(this.dataDateCollectArray),l=i.length-1;this.amountTotalValue=this.formAddManualPaymentLine.get("amount").value;const r=i&&i.length?i.length:0,d=parseFloat(((r>1?100/r:100)/100*this.amountTotalValue).toFixed(2));this.dataDateCollectArray&&this.dataDateCollectArray?.length&&i.forEach((p,u)=>{if(this.dataDateCollectArray&&this.dataDateCollectArray.length){if(e+=d,this.dateArray?.at(u).get("amount_date")?.patchValue(d),e!==this.amountTotalValue){const _=Number((e-this.amountTotalValue).toFixed(2));a=Number((d-_).toFixed(2)),this.dateArray?.at(l).get("amount_date")?.patchValue(a),this.dateArray?.at(l).get("amount_date")?.patchValue(a)}}else this.dateArray?.at(l).get("amount_date")?.patchValue(null)}),this.checkValidation(l)}checkValidation(e){this.checkMinDeduction(e)?(this.minDeduction=!0,this.maxDeduction=!1,this.isTotalCost=!1,this.totalCostAmount=!1):this.checkMaxDeduction(e)?(this.minDeduction=!1,this.maxDeduction=!0,this.isTotalCost=!1,this.totalCostAmount=!1):this.checkTotalCost()?(this.minDeduction=!1,this.maxDeduction=!1,this.isTotalCost=!0,this.totalCostAmount=!1):this.checkTotalCostAmount()?(this.minDeduction=!1,this.maxDeduction=!1,this.isTotalCost=!1,this.totalCostAmount=!0):(this.minDeduction=!1,this.maxDeduction=!1,this.isTotalCost=!1,this.totalCostAmount=!1)}checkMinDeduction(e){const a=this.dateArray?.at(e).get("amount_date")?.value;return this.minDeduction=a<2,this.minDeduction}checkMaxDeduction(e){const a=this.dateArray?.at(e).get("amount_date")?.value,i=this.formAddManualPaymentLine.get("amount").value;return this.maxDeduction=a>i}checkTotalCost(){let e=0;const a=this.formAddManualPaymentLine.get("dateCollectArray").value,i=this.formAddManualPaymentLine.get("amount").value;return a&&a.length&&a.forEach(l=>{e+=l.amount_date}),this.isTotalCost=e>i}checkTotalCostAmount(){let e=0;const a=this.dateArray.value,i=this.formAddManualPaymentLine.get("amount").value;return a&&a.length&&a.forEach(l=>{l.amount_date=l.amount_date?l.amount_date:0,e+=l.amount_date}),this.totalCostAmount=e<i&&e>1}payerSelect(e){e&&(this.payer={billing_id:e._id,payer_name:"",orgId:null},e?.is_financial_support||e?.company_branch_id||e?.organization_id?!e?.is_financial_support||e?.company_branch_id||e?.organization_id?!e?.is_financial_support&&e?.is_financial_support||!e?.company_branch_id?e?.organization_id&&(this.payer.payer_name=e?.organization_id?.name,this.payer.orgId=e?.organization_id?._id):(this.payer.payer_name=e?.company_branch_id?.company_name,this.payer.orgId=e?.company_branch_id?._id):this.payer.payer_name="neutral"===e?.financial_support_info?.civility?`${e?.financial_support_info?.name} ${e?.financial_support_info?.family_name}`:`${e?.financial_support_info?.civility} ${e?.financial_support_info?.name} ${e?.financial_support_info?.family_name}`:this.payer.payer_name="neutral"===e?.candidate_id?.civility?`${e?.candidate_id?.first_name} ${e?.candidate_id?.last_name}`:`${e?.candidate_id?.civility} ${e?.candidate_id?.first_name} ${e?.candidate_id?.last_name}`)}removeAmountDate(e){this.dateArray.removeAt(e),this.recalculateAmountByDate()}submitVerification(){if(this.formAddManualPaymentLine.invalid)this.formAddManualPaymentLine.markAllAsTouched(),c().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),html:this.translate.instant("Invalid_Form_Warning.TEXT"),confirmButtonText:this.translate.instant("Invalid_Form_Warning.BUTTON")});else{this.isWaitingForResponse=!0;const e=h.cloneDeep(this.formAddManualPaymentLine.value);if(this.isUpdate)this.payer?.orgId?this.financeService.updateManualPaymentFinanceOrganization({master_transaction_id:this.data?._id?this.data?._id:null,new_amount:e?.amount?e?.amount:0}).subscribe(i=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},i=>{this.isWaitingForResponse=!1,i&&i.message&&i.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.financeService.updateManualPaymentLine({master_transaction_id:this.data?._id?this.data?._id:null,new_amount:e?.amount?e?.amount:0}).subscribe(i=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},i=>{this.isWaitingForResponse=!1,i&&i.message&&i.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})});else{let a=[{reference:this.formAddManualPaymentLine.value.reference,note:this.formAddManualPaymentLine.value.note}];e?.dateCollectArray?.length&&(a=e.dateCollectArray.map(l=>({amount:l?.amount_date,date:l?.date?this.parseToUTC.transformDate(l?.date.toLocaleDateString("en-GB"),"15:59"):""})));const i={billing_id:this.payer.billing_id?this.payer.billing_id:null,payer:this.payer.payer_name?this.payer.payer_name:"",operation_name:e?.operation_name?e?.operation_name:"",amount:e?.amount?e?.amount:0,method_of_payment:e?.method_of_payment?e?.method_of_payment:"",payment_line_inputs:a?.length?a:[],reference:e?.reference,note:e?.note};i&&(this.subs.sink=this.payer?.orgId?this.financeService.createManualPaymentLineFinanceOrganization(i).subscribe(l=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},l=>{this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.financeService.createManualPaymentLine(i).subscribe(l=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},l=>{this.isWaitingForResponse=!1;const r=String(l?.message);r.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):r.includes("Missing IBAN/BIC/Account Holder Name")?c().fire({type:"info",title:this.translate.instant("Add_Payment_Line_S1.TITLE"),html:this.translate.instant("Add_Payment_Line_S1.TEXT"),confirmButtonText:this.translate.instant("Add_Payment_Line_S1.BUTTON"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}}}decimalFilter(e){const i=e.target.value+String.fromCharCode(e.charCode);/^-?\d*[.,]?\d{0,2}$/.test(i)||e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(m.FormBuilder),t.\u0275\u0275directiveInject(ht.N),t.\u0275\u0275directiveInject(yt.w),t.\u0275\u0275directiveInject(U.t),t.\u0275\u0275directiveInject(T.WI))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-add-manual-payment-dialog"]],features:[t.\u0275\u0275ProvidersFeature([yt.w,U.t])],decls:110,vars:64,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"p-col","no-padding","acad-title"],["data-cy","label-add-payment-line",1,"dialogTitle"],[4,"ngIf"],[1,"no-padding","w-65"],["mat-icon-button","","mat-dialog-close","","tabindex","-1","data-cy","button-close-add-payment-line-dialog",1,"close-icon","float-right"],[2,"margin-top","20px",3,"formGroup"],[1,"p-col-12","no-padding"],[1,"p-col-fixed","center-label","no-padding-left","label-align",2,"width","160px"],[1,"p-col","no-padding"],["floatLabel","never"],["matInput","","formControlName","amount","type","number","data-cy","input-amount",3,"placeholder","wheel","keypress","keyup"],["matSuffix",""],["formControlName","operation_name","panelClass","filterPanel","data-cy","input-select-operation-name",3,"disabled","disableOptionCentering"],["data-cy","input-select-option-operation-name",3,"value",4,"ngFor","ngForOf"],["formControlName","payeur","panelClass","filterPanel","data-cy","input-select-payer",3,"disabled","disableOptionCentering"],["data-cy","input-select-option-payer",3,"value","click",4,"ngFor","ngForOf"],["formControlName","method_of_payment","panelClass","filterPanel","data-cy","input-select-method-of-payment",3,"disabled","disableOptionCentering"],["data-cy","input-select-option-method-of-payment",3,"value",4,"ngFor","ngForOf"],["formArrayName","dateCollectArray",1,"p-col-12","no-padding"],["class","p-grid",3,"formGroupName",4,"ngFor","ngForOf"],["data-cy","input-reference","matInput","","msPreventInputTagCharacters","","formControlName","reference",3,"placeholder","readonly"],["data-cy","input-note","matInput","","msPreventInputTagCharacters","","formControlName","note",3,"placeholder","readonly"],[1,"p-col"],["type","button","color","accent","mat-raised-button","","data-cy","button-add-new-date",3,"disabled","click",4,"ngIf"],["align","end"],["mat-raised-button","","type","button","color","warn","mat-dialog-close","","data-cy","button-cancel-add-payment-line-dialog"],["mat-raised-button","","color","primary","type","submit","data-cy","button-validate-add-payment-line-dialog",3,"click"],["class","inner-loading-indicator","data-cy","spinner-add-payment-line-dialog",4,"ngIf"],["data-cy","input-select-option-operation-name",3,"value"],["data-cy","input-select-option-payer",3,"value","click"],["data-cy","input-select-option-method-of-payment",3,"value"],[1,"p-grid",3,"formGroupName"],[3,"ngClass"],["floatLabel","never",3,"ngClass"],["matInput","","readonly","","formControlName","date","data-cy","input-date",3,"matDatepicker","placeholder","disabled","ngClass","click"],["matSuffix","",3,"disabled","for"],["myDatepicker",""],["class","error-date-form-array",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","p-col no-padding remove-date",4,"ngIf"],[1,"error-date-form-array"],["matInput","","formControlName","amount_date","type","number","data-cy","input-amount-date",3,"wheel"],[1,"p-col","no-padding","remove-date"],["mat-icon-button","","color","red","data-cy","button-remove-selected-date",1,"small-icon",3,"click"],["type","button","color","accent","mat-raised-button","","data-cy","button-add-new-date",3,"disabled","click"],[2,"vertical-align","middle"],["data-cy","spinner-add-payment-line-dialog",1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.\u0275\u0275template(5,ui,3,3,"span",5),t.\u0275\u0275template(6,gi,3,3,"span",5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",6)(8,"button",7)(9,"mat-icon"),t.\u0275\u0275text(10,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(11,"div",8)(12,"mat-dialog-content")(13,"div",2)(14,"div",9)(15,"div",2)(16,"div",10)(17,"label"),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"div",11)(21,"mat-form-field",12)(22,"input",13),t.\u0275\u0275listener("wheel",function(l){return a.onWheel(l)})("keypress",function(l){return a.decimalFilter(l)})("keyup",function(){return a.listenAmount()}),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(24,"span",14),t.\u0275\u0275text(25,"\u20ac"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(26,hi,3,3,"mat-error",5),t.\u0275\u0275template(27,fi,3,3,"mat-error",5),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(28,"div",2)(29,"div",9)(30,"div",2)(31,"div",10)(32,"label"),t.\u0275\u0275text(33),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(35,"div",11)(36,"mat-form-field",12)(37,"mat-label"),t.\u0275\u0275text(38),t.\u0275\u0275pipe(39,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(40,"mat-select",15),t.\u0275\u0275template(41,bi,3,4,"mat-option",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(42,Ci,3,3,"mat-error",5),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(43,"div",2)(44,"div",9)(45,"div",2)(46,"div",10)(47,"label"),t.\u0275\u0275text(48),t.\u0275\u0275pipe(49,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(50,"div",11),t.\u0275\u0275elementContainerStart(51),t.\u0275\u0275elementStart(52,"mat-form-field",12)(53,"mat-label"),t.\u0275\u0275text(54),t.\u0275\u0275pipe(55,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(56,"mat-select",17),t.\u0275\u0275template(57,Mi,5,5,"mat-option",18),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(58,Si,3,3,"mat-error",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(59,"div",2)(60,"div",9)(61,"div",2)(62,"div",10)(63,"label"),t.\u0275\u0275text(64),t.\u0275\u0275pipe(65,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(66,"div",11)(67,"mat-form-field",12)(68,"mat-label"),t.\u0275\u0275text(69),t.\u0275\u0275pipe(70,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(71,"mat-select",19),t.\u0275\u0275template(72,Oi,3,4,"mat-option",20),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(73,Pi,3,3,"mat-error",5),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(74,"div",2)(75,"div",21),t.\u0275\u0275template(76,Ri,15,21,"div",22),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(77,"div",2)(78,"div",9)(79,"div",2)(80,"div",10)(81,"label"),t.\u0275\u0275text(82),t.\u0275\u0275pipe(83,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(84,"div",11)(85,"mat-form-field",12),t.\u0275\u0275element(86,"textarea",23),t.\u0275\u0275pipe(87,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(88,"div",2)(89,"div",9)(90,"div",2)(91,"div",10)(92,"label"),t.\u0275\u0275text(93),t.\u0275\u0275pipe(94,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(95,"div",11)(96,"mat-form-field",12),t.\u0275\u0275element(97,"textarea",24),t.\u0275\u0275pipe(98,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(99,"div",2)(100,"div",25),t.\u0275\u0275template(101,Vi,5,4,"button",26),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(102,"mat-dialog-actions",27)(103,"button",28),t.\u0275\u0275text(104),t.\u0275\u0275pipe(105,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(106,"button",29),t.\u0275\u0275listener("click",function(){return a.submitVerification()}),t.\u0275\u0275text(107),t.\u0275\u0275pipe(108,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(109,Li,2,1,"div",30)),2&e){let i;t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",!a.isUpdate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isUpdate),t.\u0275\u0275advance(5),t.\u0275\u0275property("formGroup",a.formAddManualPaymentLine),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(19,36,"Amount"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(23,38,"Amount")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.formAddManualPaymentLine.get("amount").hasError("required")&&(a.formAddManualPaymentLine.get("amount").dirty||a.formAddManualPaymentLine.get("amount").touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a.formAddManualPaymentLine||null==(i=a.formAddManualPaymentLine.get("amount"))?null:i.hasError("min")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(34,40,"Operation name"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(39,42,"Operation name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",a.isUpdate)("disableOptionCentering",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.operationNameList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.formAddManualPaymentLine.get("operation_name").hasError("required")&&(a.formAddManualPaymentLine.get("operation_name").dirty||a.formAddManualPaymentLine.get("operation_name").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(49,44,"Payeur"),"*"),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(55,46,"Payeur")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",a.isUpdate)("disableOptionCentering",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==a.data?null:a.data.dropdown),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.formAddManualPaymentLine.get("payeur").hasError("required")&&(a.formAddManualPaymentLine.get("payeur").dirty||a.formAddManualPaymentLine.get("payeur").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(65,48,"Method Of Payment"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(70,50,"Method Of Payment")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",a.isUpdate)("disableOptionCentering",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.methodOfPaymentList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.formAddManualPaymentLine.get("method_of_payment").hasError("required")&&(a.formAddManualPaymentLine.get("method_of_payment").dirty||a.formAddManualPaymentLine.get("method_of_payment").touched)),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",a.dateArray.controls),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(83,52,"R\xe9f\xe9rence")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(87,54,"R\xe9f\xe9rence")),t.\u0275\u0275property("readonly",a.isUpdate),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(94,56,"Note")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(98,58,"Note")),t.\u0275\u0275property("readonly",a.isUpdate),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",!a.isUpdate),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(105,60,"CANCEL")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(108,62,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isWaitingForResponse)}},dependencies:[f.mk,f.sg,f.O5,N.Zt,N.Bh,Q.ey,I.lW,P.Mq,P.hl,P.nW,T.ZT,T.xY,T.H8,k.Hw,S.TO,S.KE,S.hX,S.R9,z.Nt,D.Ou,it.gD,m.DefaultValueAccessor,m.NumberValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.FormGroupDirective,m.FormControlName,m.FormGroupName,m.FormArrayName,H.oO,kt.c,f.gd,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.dialogTitleWrapper[_ngcontent-%COMP%]   .acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.dialogTitleWrapper[_ngcontent-%COMP%]   .dialogTitle[_ngcontent-%COMP%]{display:inline-block}.margin-right-date[_ngcontent-%COMP%]{margin-right:6px}.margin-right-date-remove[_ngcontent-%COMP%]{margin-right:16px;width:160px}.remove-date[_ngcontent-%COMP%]{width:40px;display:flex;align-items:center}.error-date-form-array[_ngcontent-%COMP%]{font-size:75%;color:red}[_nghost-%COMP%]  .filterPanel{margin-top:25px!important}.disable[_ngcontent-%COMP%]{color:#00000061}[_nghost-%COMP%]  .form-disable .mat-form-field-underline{border-bottom:1px dashed rgba(0,0,0,.38);background:transparent}.label-align[_ngcontent-%COMP%]{align-self:center}"]}),n})();var st=C(56709);function Ui(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",21),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Add OD")))}function zi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",22),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Edit OD")))}function $i(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",23),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,e.key))}}function Hi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ji(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Wi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",37),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,e.key))}}function Yi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-select",35),t.\u0275\u0275template(1,Wi,3,4,"mat-option",36),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("disableOptionCentering",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.operationNameListTypeCash)}}function Gi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",40),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,e.key))}}function qi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-select",38),t.\u0275\u0275template(1,Gi,3,4,"mat-option",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("disableOptionCentering",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.operationNameListTypeAdjustment)}}function Ki(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-select",41)(1,"mat-option",42),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275property("disableOptionCentering",!0),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"NOT RECORD FOUND")))}function Qi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Xi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Zi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",45),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(e.legal_entity_name)}}function Ji(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function to(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",2)(1,"div",10)(2,"div",2)(3,"div",11)(4,"label"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",12)(8,"mat-form-field",13)(9,"mat-label"),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"mat-select",43),t.\u0275\u0275template(13,Zi,2,2,"mat-option",44),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(14,Ji,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(6,6,"Initial legal entity"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(11,8,"Initial legal entity")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disableOptionCentering",!0)("disabled",!(null!=e.selectedPaymentMethods&&e.selectedPaymentMethods.includes("Debit"))&&(null==e.data?null:e.data.isUpdate)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.legalEntityList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.formAddDiverseForm.get("legal_entity").hasError("required")&&(e.formAddDiverseForm.get("legal_entity").dirty||e.formAddDiverseForm.get("legal_entity").touched))}}function eo(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",48),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(e.legal_entity_name)}}function no(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ao(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",2)(1,"div",10)(2,"div",2)(3,"div",11)(4,"label"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",12)(8,"mat-form-field",13)(9,"mat-label"),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"mat-select",46),t.\u0275\u0275template(13,eo,2,2,"mat-option",47),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(14,no,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(6,6,"Legal entity of destination"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(11,8,"Legal entity of destination")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disableOptionCentering",!0)("disabled",!(null!=e.selectedPaymentMethods&&e.selectedPaymentMethods.includes("Credit"))&&(null==e.data?null:e.data.isUpdate)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.legalEntityList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.formAddDiverseForm.get("legal_entity_of_destination").hasError("required")&&(e.formAddDiverseForm.get("legal_entity_of_destination").dirty||e.formAddDiverseForm.get("legal_entity_of_destination").touched))}}function io(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",55),t.\u0275\u0275listener("change",function(){const l=t.\u0275\u0275restoreView(e).index,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.onSelectPaymentMethod(l))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("disabled",a.isUpdate)("checked",null==a.selectedPaymentMethods?null:a.selectedPaymentMethods.includes(e)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,3,"method_of_payment."+e))}}function oo(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error",56),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function lo(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",2)(1,"div",10)(2,"div",2)(3,"div",49)(4,"div",11)(5,"label"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",50)(9,"section",51),t.\u0275\u0275template(10,io,3,5,"mat-checkbox",52),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(11,"div",53),t.\u0275\u0275template(12,oo,3,3,"mat-error",54),t.\u0275\u0275elementEnd()()()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(7,3,"PROCESS_MANAGEMENT.Type"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",e.paymentMethods),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.formAddDiverseForm.get("select_payment_method_available").hasError("required")&&(e.formAddDiverseForm.get("select_payment_method_available").dirty||e.formAddDiverseForm.get("select_payment_method_available").touched))}}function ro(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e||null==e.candidate_id?null:e.candidate_id.last_name)+" "+(null==e||null==e.candidate_id?null:e.candidate_id.first_name)+" "+(null!=e&&null!=e.candidate_id&&e.candidate_id.civility&&"neutral"===(null==e||null==e.candidate_id?null:e.candidate_id.civility)?"":t.\u0275\u0275pipeBind1(3,3,null==e||null==e.candidate_id?null:e.candidate_id.civility))," ")}}function so(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e||null==e.financial_support_info?null:e.financial_support_info.family_name)+" "+(null==e||null==e.financial_support_info?null:e.financial_support_info.name)+" "+(null!=e&&null!=e.financial_support_info&&e.financial_support_info.civility&&"neutral"===(null==e||null==e.financial_support_info?null:e.financial_support_info.civility)?"":t.\u0275\u0275pipeBind1(3,3,null==e||null==e.financial_support_info?null:e.financial_support_info.civility))+(null!=e&&null!=e.financial_support_info&&e.financial_support_info.relation?" ("+t.\u0275\u0275pipeBind1(4,5,"CARDDETAIL.RELATION."+(null==e||null==e.financial_support_info?null:e.financial_support_info.relation))+")":"")," ")}}function co(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.company_branch_id?null:e.company_branch_id.company_name," ")}}function po(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.organization_id?null:e.organization_id.name," ")}}function mo(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",59),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.payerSelect(l))}),t.\u0275\u0275template(1,ro,4,5,"span",16),t.\u0275\u0275template(2,so,5,7,"span",16),t.\u0275\u0275template(3,co,2,1,"span",16),t.\u0275\u0275template(4,po,2,1,"span",16),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_financial_support||null!=e&&e.company_branch_id||null!=e&&e.organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_financial_support)&&!(null!=e&&e.company_branch_id)&&!(null!=e&&e.organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",((null==e?null:e.is_financial_support)||!(null!=e&&e.is_financial_support))&&(null==e?null:e.company_branch_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.organization_id)}}function _o(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function uo(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",2)(1,"div",10)(2,"div",2)(3,"div",11)(4,"label"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",12)(8,"mat-form-field",13)(9,"mat-label"),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"mat-select",57),t.\u0275\u0275template(13,mo,5,5,"mat-option",58),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(14,_o,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(6,6,"Payeur"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(11,8,"Payeur")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",e.isUpdate)("disableOptionCentering",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.data?null:e.data.dropdown),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.formAddDiverseForm.get("payeur").hasError("required")&&(e.formAddDiverseForm.get("payeur").dirty||e.formAddDiverseForm.get("payeur").touched))}}function go(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error",56),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ho(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",2)(1,"div",10)(2,"div",2)(3,"div",49)(4,"div",11)(5,"label"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",50)(9,"section",51)(10,"mat-radio-group",60)(11,"mat-radio-button",61),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(14,"div",53),t.\u0275\u0275template(15,go,3,3,"mat-error",54),t.\u0275\u0275elementEnd()()()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(7,4,"PROCESS_MANAGEMENT.Type"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275property("checked",e.isDebit),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(13,6,"Debit")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",e.formAddDiverseForm.get("debit").hasError("required")&&(e.formAddDiverseForm.get("debit").dirty||e.formAddDiverseForm.get("debit").touched))}}function fo(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function bo(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",2)(2,"div",10)(3,"div",2)(4,"div",11)(5,"label"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",12)(9,"mat-form-field",13)(10,"input",24),t.\u0275\u0275listener("wheel",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onWheel(i))}),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"span",25),t.\u0275\u0275text(13,"\u20ac"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(14,ji,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(15,"div",2)(16,"div",10)(17,"div",2)(18,"div",11)(19,"label"),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(22,"div",12)(23,"mat-form-field",13)(24,"mat-label"),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,Yi,2,2,"mat-select",26),t.\u0275\u0275template(28,qi,2,2,"mat-select",27),t.\u0275\u0275template(29,Ki,4,4,"mat-select",28),t.\u0275\u0275template(30,Qi,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(31,"div",2)(32,"div",10)(33,"div",2)(34,"div",11)(35,"label"),t.\u0275\u0275text(36),t.\u0275\u0275pipe(37,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(38,"div",12)(39,"mat-form-field",13)(40,"input",29),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(44);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275pipe(41,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(42,"mat-datepicker-toggle",30)(43,"mat-datepicker",null,31),t.\u0275\u0275template(45,Xi,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(46,to,15,10,"div",32),t.\u0275\u0275template(47,ao,15,10,"div",32),t.\u0275\u0275template(48,lo,13,5,"div",32),t.\u0275\u0275template(49,uo,15,10,"div",32),t.\u0275\u0275template(50,ho,16,8,"div",32),t.\u0275\u0275elementStart(51,"div",2)(52,"div",10)(53,"div",2)(54,"div",11)(55,"label"),t.\u0275\u0275text(56),t.\u0275\u0275pipe(57,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(58,"div",12)(59,"mat-form-field",13),t.\u0275\u0275element(60,"textarea",33),t.\u0275\u0275pipe(61,"translate"),t.\u0275\u0275template(62,fo,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(63,"div",2)(64,"div",10)(65,"div",2)(66,"div",11)(67,"label"),t.\u0275\u0275text(68),t.\u0275\u0275pipe(69,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(70,"div",12)(71,"mat-form-field",13),t.\u0275\u0275element(72,"textarea",34),t.\u0275\u0275pipe(73,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275reference(44),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(7,24,"Amount"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(11,26,"Amount")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.formAddDiverseForm.get("amount").hasError("required")&&(a.formAddDiverseForm.get("amount").dirty||a.formAddDiverseForm.get("amount").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(21,28,"Operation name"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(26,30,"Operation name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","cash_transfer"===a.formAddDiverseForm.get("od_type").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","student_balance_adjustment"===a.formAddDiverseForm.get("od_type").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.formAddDiverseForm.get("od_type").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.formAddDiverseForm.get("operation_name").hasError("required")&&(a.formAddDiverseForm.get("operation_name").dirty||a.formAddDiverseForm.get("operation_name").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(37,32,"Date"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(41,34,"Date")),t.\u0275\u0275property("matDatepicker",e),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.formAddDiverseForm.get("date").hasError("required")&&(a.formAddDiverseForm.get("date").dirty||a.formAddDiverseForm.get("date").touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.isPayeur),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.isPayeur),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.isPayeur),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isPayeur),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isPayeur),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(57,36,"JURY_ORGANIZATION.JURY_LOGISTIC.REFERENCE"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(61,38,"JURY_ORGANIZATION.JURY_LOGISTIC.REFERENCE")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.formAddDiverseForm.get("reference").hasError("required")&&(a.formAddDiverseForm.get("reference").dirty||a.formAddDiverseForm.get("reference").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(69,40,"Note")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(73,42,"Note"))}}function Co(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",62),t.\u0275\u0275element(1,"mat-spinner",63),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let te=(()=>{class n{constructor(e,a,i,l,r,s,d,p,u){this.dialogRef=e,this.translate=a,this.fb=i,this.data=l,this.finance=r,this.userService=s,this.parseToUTC=d,this.parseToLocal=p,this.financeService=u,this.sub=new w.Y,this.selectedPaymentMethods=[],this.paymentMethods=["Credit","Debit"],this.operationNameListTypeCash=[{key:"Cash transfer",value:"cash_transfer"}],this.operationNameListTypeAdjustment=[{key:"Student Balance Adjustment",value:"student_balance_adjustment"}],this.ODTypeList=[{key:"Cash transfer",value:"cash_transfer"},{key:"Student Balance Adjustment",value:"student_balance_adjustment"}],this.legalEntityList=[],this.LegalEntitasDestinationList=[],this.isPayeur=!1,this.candidateList=[],this.comingFromFC=!1,this.dataFinanceList=[],this.isUpdate=!1,this.isDebit=!1,this.isWaitingForResponse=!1}ngOnInit(){this.initForm(),this.getInitialLegalEntitas(),this.setPayerData()}initForm(){this.formAddDiverseForm=this.fb.group({od_type:[null,m.Validators.required],amount:[null,m.Validators.required],operation_name:[null,m.Validators.required],date:[null,m.Validators.required],legal_entity:[null,m.Validators.required],legal_entity_of_destination:[null,m.Validators.required],select_payment_method_available:[null,m.Validators.required],debit:[null,m.Validators.required],credit:[null],payeur:[null],reference:[null,m.Validators.required],note:[null]})}onWheel(e){e?.preventDefault()}setPayerData(){if(this.payer={billing_id:this.data?.billing_id?._id,payer_name:""},this.data?.dropdown?.length&&this.data?.isUpdate&&(this.data?.finance_organization_id?.company_branch_id?.company_name?this.payer={billing_id:this.data?.billing_id,payer_name:this.data?.finance_organization_id?.company_branch_id?.company_name}:this.data?.finance_organization_id?.organization_id?.name&&(this.payer={billing_id:this.data?.billing_id,payer_name:this.data?.finance_organization_id?.organization_id?.name})),this.data?.isUpdate){this.isUpdate=!0,this.selectedPaymentMethods=[],this.data?.credit?this.selectedPaymentMethods.push("Credit"):this.data?.debit&&this.selectedPaymentMethods.push("Debit"),this.payerSelectedEdit="cash_transfer"===this.data?.od_type?null:this.data?.billing_id?._id?this.data?.billing_id?._id:this.data?.finance_organization_id?._id;const e={od_type:this.data?.od_type?this.data?.od_type:null,amount:this.data?.credit?this.data?.credit:this.data?.debit,operation_name:this.data?.operation_name?this.data?.operation_name:"",date:this.data?.date_action?.date?this.parseToLocal.transformDateToJavascriptDate(this.data.date_action.date,this.data.date_action.time):null,legal_entity:this.data?.initial_legal_entity_id?._id?this.data?.initial_legal_entity_id?._id:null,legal_entity_of_destination:this.data?.destination_legal_entity_id?._id?this.data?.destination_legal_entity_id?._id:null,select_payment_method_available:this.selectedPaymentMethods?.length?this.selectedPaymentMethods:[],debit:!!this.selectedPaymentMethods?.includes("Debit"),credit:!!this.selectedPaymentMethods?.includes("Credit"),payeur:this.payerSelectedEdit,reference:this.data?.reference?this.data?.reference:"",note:this.data?.note?this.data?.note:""};if(this.formAddDiverseForm.patchValue(e),"student_balance_adjustment"===this.data?.od_type&&e?.debit){e?.debit&&(this.isDebit=!0);const a=this.data?.dropdown.find(i=>i?._id===this.payerSelectedEdit);a?.company_branch_id&&(this.payer={billing_id:this.data?.billing_id?._id,payer_name:a?.company_branch_id?.company_name}),a?.organization_id&&(this.payer={billing_id:this.data?.billing_id?._id,payer_name:a?.organization_id?.name})}else if("cash_transfer"===this.data?.od_type){const a=this.data?.dropdown?.filter(i=>!i?.is_financial_support&&!i?.company_branch_id&&!i?.organization_id);a?.length&&(this.payer={billing_id:a[0]?._id,payer_name:"neutral"===a[0]?.candidate_id?.civility?`${a[0]?.candidate_id?.first_name} ${a[0]?.candidate_id?.last_name}`:`${a[0]?.candidate_id?.civility} ${a[0]?.candidate_id?.first_name} ${a[0]?.candidate_id?.last_name}`})}this.onSelectODType({value:this.data?.od_type})}else if(this.isUpdate=!1,this.data?.dropdown?.length){const e=this.data?.dropdown?.filter(a=>!a?.is_financial_support&&!a?.company_branch_id&&!a?.organization_id);e?.length&&(this.payer={billing_id:e[0]?._id,payer_name:"neutral"===e[0]?.candidate_id?.civility?`${e[0]?.candidate_id?.first_name} ${e[0]?.candidate_id?.last_name}`:`${e[0]?.candidate_id?.civility} ${e[0]?.candidate_id?.first_name} ${e[0]?.candidate_id?.last_name}`})}}payerSelect(e){e&&(this.payer={billing_id:e._id,payer_name:""},e?.is_financial_support||e?.company_branch_id||e?.organization_id?!e?.is_financial_support||e?.company_branch_id||e?.organization_id?e?.company_branch_id?this.payer.payer_name=e?.company_branch_id?.company_name:e?.organization_id&&(this.payer.payer_name=e?.organization_id?.name):this.payer.payer_name="neutral"===e?.financial_support_info?.civility?`${e?.financial_support_info?.name} ${e?.financial_support_info?.family_name}`:`${e?.financial_support_info?.civility} ${e?.financial_support_info?.name} ${e?.financial_support_info?.family_name}`:this.payer.payer_name="neutral"===e?.candidate_id?.civility?`${e?.candidate_id?.first_name} ${e?.candidate_id?.last_name}`:`${e?.candidate_id?.civility} ${e?.candidate_id?.first_name} ${e?.candidate_id?.last_name}`)}onSelectPaymentMethod(e){(this.selectedPaymentMethods?this.selectedPaymentMethods.indexOf(this.paymentMethods[e]):null)>=0?(this.selectedPaymentMethods=this.selectedPaymentMethods.filter(i=>i!==this.paymentMethods[e]),this.formAddDiverseForm.controls.select_payment_method_available.patchValue(this.selectedPaymentMethods.filter(i=>i!==this.paymentMethods[e]))):(this.selectedPaymentMethods.push(this.paymentMethods[e]),this.formAddDiverseForm.controls.select_payment_method_available.patchValue(this.selectedPaymentMethods)),this.formAddDiverseForm.updateValueAndValidity()}onSelectODType(e){this.isPayeur="student_balance_adjustment"===e.value,this.isPayeur?(this.formAddDiverseForm.get("payeur").setValidators(m.Validators.required),this.formAddDiverseForm.get("legal_entity").removeValidators(m.Validators.required),this.formAddDiverseForm.get("legal_entity_of_destination").removeValidators(m.Validators.required),this.formAddDiverseForm.get("debit").setValidators(m.Validators.required),this.formAddDiverseForm.get("debit").updateValueAndValidity(),this.formAddDiverseForm.get("select_payment_method_available").removeValidators(m.Validators.required),this.formAddDiverseForm.get("select_payment_method_available").updateValueAndValidity(),this.formAddDiverseForm.get("payeur").updateValueAndValidity(),this.formAddDiverseForm.get("legal_entity").updateValueAndValidity(),this.formAddDiverseForm.get("legal_entity_of_destination").updateValueAndValidity()):(this.formAddDiverseForm.get("payeur").removeValidators(m.Validators.required),this.formAddDiverseForm.get("legal_entity").setValidators(m.Validators.required),this.formAddDiverseForm.get("legal_entity_of_destination").setValidators(m.Validators.required),this.formAddDiverseForm.get("select_payment_method_available").setValidators(m.Validators.required),this.formAddDiverseForm.get("select_payment_method_available").updateValueAndValidity(),this.formAddDiverseForm.get("debit").removeValidators(m.Validators.required),this.formAddDiverseForm.get("debit").updateValueAndValidity(),this.formAddDiverseForm.get("payeur").updateValueAndValidity(),this.formAddDiverseForm.get("legal_entity").updateValueAndValidity(),this.formAddDiverseForm.get("legal_entity_of_destination").updateValueAndValidity())}onSelectDebit(){this.formAddDiverseForm.get("debit").patchValue(!0)}getInitialLegalEntitas(){this.isWaitingForResponse=!0,this.sub.sink=this.finance.getInitialLegalEntitas().subscribe(e=>{this.isWaitingForResponse=!1,this.legalEntityList=e&&e.length?h.cloneDeep(e.sort((a,i)=>a.legal_entity_name>i.legal_entity_name?1:-1)):[]},e=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}submitVerification(){this.formAddDiverseForm.invalid?(c().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.formAddDiverseForm.markAllAsTouched()):"cash_transfer"===this.formAddDiverseForm.get("od_type").value?this.submitCashTransfer():"student_balance_adjustment"===this.formAddDiverseForm.get("od_type").value&&this.submitStudentBalanceAdjustment()}cashTransferPayload(e){const a=h.cloneDeep(e);return{od_type:a?.od_type?a?.od_type:null,amount:a?.amount?a?.amount:0,operation_name:a?.operation_name?a?.operation_name:"",date:a?.date?this.parseToUTC.transformDate(a?.date.toLocaleDateString("en-GB"),"15:59"):"",initial_legal_entity_id:a?.legal_entity?a?.legal_entity:null,destination_legal_entity_id:a?.legal_entity_of_destination?a?.legal_entity_of_destination:null,is_debit:!!a?.select_payment_method_available?.includes("Debit"),is_credit:!!a?.select_payment_method_available?.includes("Credit"),reference:a?.reference?a?.reference:"",note:a?.note?a?.note:"",candidate_id:this.data?.candidate_id?this.data?.candidate_id:null,intake_channel_id:this.data?.intake_channel_id?this.data?.intake_channel_id:null,billing_id:this.payer?.billing_id?this.payer?.billing_id:null}}submitCashTransfer(){if(this.isWaitingForResponse=!0,this.isUpdate){const e=this.cashTransferPayload(this.formAddDiverseForm.value);e&&this.data?._id&&(this.sub.sink=this.financeService.editODCashTransfer(this.data._id,e).subscribe(a=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},a=>{this.isWaitingForResponse=!1,a&&a.message&&a.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}else{const e=this.cashTransferPayload(this.formAddDiverseForm.value);e&&(this.sub.sink=this.financeService.addODCashTransfer(e).subscribe(a=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},a=>{this.isWaitingForResponse=!1,a&&a.message&&a.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}}studentBalanceAdjustmentPayload(e){let a=!1;const i=h.cloneDeep(e);let l={od_type:i?.od_type?i?.od_type:null,amount:i?.amount?i?.amount:0,operation_name:i?.operation_name?i?.operation_name:"",date:i?.date?this.parseToUTC.transformDate(i?.date.toLocaleDateString("en-GB"),"15:59"):"",is_debit:!!i?.debit,reference:i?.reference?i?.reference:"",note:i?.note?i?.note:""};if(this.isUpdate){const r=this.data?.dropdown.some(d=>d?.organization_id?.name===this.payer?.payer_name),s=this.data?.dropdown.some(d=>d?.company_branch_id?.company_name===this.payer?.payer_name);if(a=r||s,this.data.financement&&a){const d={finance_organization_id:this.payerSelectedEdit?this.payerSelectedEdit:null};l={...l,...d}}else{const d={billing_id:this.payerSelectedEdit?this.payerSelectedEdit:null};l={...l,...d}}}else{const r=this.data?.dropdown.some(d=>d?.organization_id?.name===this.payer?.payer_name),s=this.data?.dropdown.some(d=>d?.company_branch_id?.company_name===this.payer?.payer_name);if(a=r||s,this.data.financement&&a){const d={finance_organization_id:this.payer?.billing_id?this.payer?.billing_id:null};l={...l,...d}}else{const d={billing_id:this.payer?.billing_id?this.payer?.billing_id:null};l={...l,...d}}}return l}submitStudentBalanceAdjustment(){let e=!1;if(this.isWaitingForResponse=!0,this.isUpdate){const a=this.studentBalanceAdjustmentPayload(this.formAddDiverseForm.value),i=this.data?.dropdown.some(r=>r?.organization_id?.name===this.payer?.payer_name),l=this.data?.dropdown.some(r=>r?.company_branch_id?.company_name===this.payer?.payer_name);e=i||l,a&&this.data?._id&&(this.sub.sink=this.data.financement&&e?this.financeService.editODStudentBalanceAdjustementFinanceOrganization(this.data._id,a).subscribe(r=>{this.swalSuccessSubmit()},r=>{this.swalErrorSubmit(r)}):this.financeService.editODStudentBalanceAdjustement(this.data._id,a).subscribe(r=>{this.isWaitingForResponse=!1,this.swalSuccessSubmit()},r=>{this.isWaitingForResponse=!1,this.swalErrorSubmit(r)}))}else{const a=this.studentBalanceAdjustmentPayload(this.formAddDiverseForm.value),i=this.data?.dropdown.some(r=>r?.organization_id?.name===this.payer?.payer_name),l=this.data?.dropdown.some(r=>r?.company_branch_id?.company_name===this.payer?.payer_name);e=i||l,a&&(this.sub.sink=this.data.financement&&e?this.financeService.addODStudentBalanceAdjustementFinanceOrganization(a).subscribe(r=>{this.swalSuccessSubmit()},r=>{this.swalErrorSubmit(r)}):this.financeService.addODStudentBalanceAdjustement(a).subscribe(r=>{this.isWaitingForResponse=!1,this.swalSuccessSubmit()},r=>{this.isWaitingForResponse=!1,this.swalErrorSubmit(r)}))}}swalSuccessSubmit(){c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})}swalErrorSubmit(e){e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(m.FormBuilder),t.\u0275\u0275directiveInject(T.WI),t.\u0275\u0275directiveInject(ht.N),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(yt.w),t.\u0275\u0275directiveInject(U.t),t.\u0275\u0275directiveInject(ht.N))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-add-diverse-operation-dialog"]],features:[t.\u0275\u0275ProvidersFeature([yt.w,U.t])],decls:37,vars:21,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"p-col","no-padding","acad-title"],[1,"dialogTitle"],["data-cy","label-add-od",4,"ngIf"],["data-cy","label-edit-od",4,"ngIf"],[1,"w-65","no-padding"],["data-cy","button-close-add-od-dialog","mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[3,"formGroup"],[1,"p-col-12","no-padding"],[1,"p-col-fixed","center-label","no-padding-left","label-align",2,"width","160px"],[1,"p-col","no-padding"],["floatLabel","never"],["data-cy","input-select-od-type","formControlName","od_type","panelClass","filterPanel",3,"disableOptionCentering","disabled","selectionChange"],["data-cy","input-option-select-od-type",3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["align","end"],["data-cy","button-cancel-add-od-dialog","mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["data-cy","button-validate-add-od-dialog","mat-raised-button","","color","primary",3,"click"],["class","inner-loading-indicator","data-cy","spinner-add-od-dialog",4,"ngIf"],["data-cy","label-add-od"],["data-cy","label-edit-od"],["data-cy","input-option-select-od-type",3,"value"],["data-cy","input-amount","matInput","","formControlName","amount","type","number",3,"placeholder","wheel"],["matSuffix",""],["data-cy","input-select-operation-name-cash-transfer","formControlName","operation_name","panelClass","filterPanel",3,"disableOptionCentering",4,"ngIf"],["data-cy","input-select-operation-name-student-balance-adjustment","formControlName","operation_name","panelClass","filterPanel",3,"disableOptionCentering",4,"ngIf"],["data-cy","input-select-operation-name","formControlName","operation_name","panelClass","filterPanel",3,"disableOptionCentering",4,"ngIf"],["data-cy","input-date","matInput","","readonly","","formControlName","date",3,"matDatepicker","placeholder","click"],["matSuffix","",3,"for"],["myDatepicker",""],["class","p-grid",4,"ngIf"],["data-cy","input-reference","matInput","","msPreventInputTagCharacters","","formControlName","reference",3,"placeholder"],["data-cy","input-note","matInput","","msPreventInputTagCharacters","","formControlName","note",3,"placeholder"],["data-cy","input-select-operation-name-cash-transfer","formControlName","operation_name","panelClass","filterPanel",3,"disableOptionCentering"],["data-cy","input-select-option-operation-name-cash-transfer",3,"value",4,"ngFor","ngForOf"],["data-cy","input-select-option-operation-name-cash-transfer",3,"value"],["data-cy","input-select-operation-name-student-balance-adjustment","formControlName","operation_name","panelClass","filterPanel",3,"disableOptionCentering"],["data-cy","input-select-option-operation-name-student-balance-adjustment",3,"value",4,"ngFor","ngForOf"],["data-cy","input-select-option-operation-name-student-balance-adjustment",3,"value"],["data-cy","input-select-operation-name","formControlName","operation_name","panelClass","filterPanel",3,"disableOptionCentering"],["data-cy","input-select-option-operation-name","disabled",""],["data-cy","input-select-initial-legal-entity","formControlName","legal_entity","panelClass","filterPanel",3,"disableOptionCentering","disabled"],["data-cy","input-select-option-initial-legal-entity",3,"value",4,"ngFor","ngForOf"],["data-cy","input-select-option-initial-legal-entity",3,"value"],["data-cy","input-select-legal-entity-destination","formControlName","legal_entity_of_destination","panelClass","filterPanel",3,"disableOptionCentering","disabled"],["data-cy","input-select-option-legal-entity-destination",3,"value",4,"ngFor","ngForOf"],["data-cy","input-select-option-legal-entity-destination",3,"value"],[1,"p-col-fixed","center-label","no-padding-left"],[1,"p-col","no-padding","center-checkbox"],[2,"display","flex"],["class","checkbox-item","data-cy","input-checkbox-method-payment",3,"disabled","checked","change",4,"ngFor","ngForOf"],[1,"error"],["class","font-75",4,"ngIf"],["data-cy","input-checkbox-method-payment",1,"checkbox-item",3,"disabled","checked","change"],[1,"font-75"],["data-cy","input-select-payer","formControlName","payeur","panelClass","filterPanel",3,"disabled","disableOptionCentering"],["data-cy","input-select-option-payer",3,"value","click",4,"ngFor","ngForOf"],["data-cy","input-select-option-payer",3,"value","click"],["formControlName","debit"],["data-cy","button-radio-debit","value","debit","click","onSelectDebit()",2,"margin-right","1rem",3,"checked"],["data-cy","spinner-add-od-dialog",1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.\u0275\u0275template(5,Ui,3,3,"span",5),t.\u0275\u0275template(6,zi,3,3,"span",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",7)(8,"button",8)(9,"mat-icon"),t.\u0275\u0275text(10,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(11,"div",9)(12,"mat-dialog-content")(13,"div",2)(14,"div",10)(15,"div",2)(16,"div",11)(17,"label"),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"div",12)(21,"mat-form-field",13)(22,"mat-label"),t.\u0275\u0275text(23),t.\u0275\u0275pipe(24,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(25,"mat-select",14),t.\u0275\u0275listener("selectionChange",function(l){return a.onSelectODType(l)}),t.\u0275\u0275template(26,$i,3,4,"mat-option",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,Hi,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(28,bo,74,44,"ng-container",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(29,"mat-dialog-actions",17)(30,"button",18),t.\u0275\u0275text(31),t.\u0275\u0275pipe(32,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(33,"button",19),t.\u0275\u0275listener("click",function(){return a.submitVerification()}),t.\u0275\u0275text(34),t.\u0275\u0275pipe(35,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(36,Co,2,1,"div",20)),2&e){let i;t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",!a.isUpdate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isUpdate),t.\u0275\u0275advance(5),t.\u0275\u0275property("formGroup",a.formAddDiverseForm),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(19,13,"OD Type"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(24,15,"OD Type")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disableOptionCentering",!0)("disabled",a.isUpdate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.ODTypeList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.formAddDiverseForm.get("od_type").hasError("required")&&(a.formAddDiverseForm.get("od_type").dirty||a.formAddDiverseForm.get("od_type").touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a.formAddDiverseForm||null==(i=a.formAddDiverseForm.get("od_type"))?null:i.value),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(32,17,"CANCEL")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(35,19,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isWaitingForResponse)}},dependencies:[f.sg,f.O5,N.Zt,N.Bh,Q.ey,I.lW,st.oG,P.Mq,P.hl,P.nW,T.ZT,T.xY,T.H8,k.Hw,S.TO,S.KE,S.hX,S.R9,z.Nt,D.Ou,It.VQ,It.U0,it.gD,m.DefaultValueAccessor,m.NumberValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.FormGroupDirective,m.FormControlName,kt.c,f.gd,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.checkbox-item[_ngcontent-%COMP%]{margin-right:3rem}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.dialogTitleWrapper[_ngcontent-%COMP%]   .acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.dialogTitleWrapper[_ngcontent-%COMP%]   .dialogTitle[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]  .filterPanel{margin-top:25px!important}.font-75[_ngcontent-%COMP%]{font-size:75%!important}.center-label[_ngcontent-%COMP%]{display:flex;align-items:center}.center-checkbox[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column}.error[_ngcontent-%COMP%]{width:320px;padding-left:160px;margin-top:-10px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}"]}),n})();function xo(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Add billing")))}function yo(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Edit billing")))}function vo(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}const To=function(n){return{studentProgram:n}};function Mo(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",28),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind2(2,2,e.key,t.\u0275\u0275pureFunction1(5,To,a.displayProgram(null==a.data||null==a.data.dropdown[0]?null:a.data.dropdown[0].candidate_id))))}}function So(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Oo(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Po(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e||null==e.candidate_id?null:e.candidate_id.last_name)+" "+(null==e||null==e.candidate_id?null:e.candidate_id.first_name)+" "+(null!=e&&null!=e.candidate_id&&e.candidate_id.civility&&"neutral"===(null==e||null==e.candidate_id?null:e.candidate_id.civility)?"":t.\u0275\u0275pipeBind1(3,3,null==e||null==e.candidate_id?null:e.candidate_id.civility))," ")}}function wo(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e||null==e.financial_support_info?null:e.financial_support_info.family_name)+" "+(null==e||null==e.financial_support_info?null:e.financial_support_info.name)+" "+(null!=e&&null!=e.financial_support_info&&e.financial_support_info.civility&&"neutral"===(null==e||null==e.financial_support_info?null:e.financial_support_info.civility)?"":t.\u0275\u0275pipeBind1(3,3,null==e||null==e.financial_support_info?null:e.financial_support_info.civility))+(null!=e&&null!=e.financial_support_info&&e.financial_support_info.relation?" ("+t.\u0275\u0275pipeBind1(4,5,"CARDDETAIL.RELATION."+(null==e||null==e.financial_support_info?null:e.financial_support_info.relation))+")":"")," ")}}function Do(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.company_branch_id?null:e.company_branch_id.company_name," ")}}function Eo(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.organization_id?null:e.organization_id.name," ")}}function Io(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ko(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Cannot exceed the cost coverage")))}function Fo(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Cannot be less than the total amount entered")))}function Bo(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",29)(1,"div",2)(2,"div",10)(3,"label"),t.\u0275\u0275template(4,Po,4,5,"span",5),t.\u0275\u0275template(5,wo,5,7,"span",5),t.\u0275\u0275template(6,Do,2,1,"span",5),t.\u0275\u0275template(7,Eo,2,1,"span",5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",11)(9,"mat-form-field",12)(10,"input",30),t.\u0275\u0275listener("wheel",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onWheel(i))})("keypress",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.decimalFilter(i))})("keyup",function(){const l=t.\u0275\u0275restoreView(e).index,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.recaculateAmountPayer(l))}),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"span",14),t.\u0275\u0275text(13,"\u20ac"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(14,Io,3,3,"mat-error",5),t.\u0275\u0275template(15,ko,3,3,"mat-error",5),t.\u0275\u0275template(16,Fo,3,3,"mat-error",5),t.\u0275\u0275elementEnd()()()()}if(2&n){const e=o.$implicit,a=o.index,i=t.\u0275\u0275nextContext();let l,r,s;t.\u0275\u0275property("formGroupName",a),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_financial_support||null!=e&&e.company_branch_id||null!=e&&e.organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_financial_support)&&!(null!=e&&e.company_branch_id)&&!(null!=e&&e.organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",((null==e?null:e.is_financial_support)||!(null!=e&&e.is_financial_support))&&(null==e?null:e.company_branch_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.organization_id),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(11,9,"Amount")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",(null==(l=i.formAddManualBilling.get("payeur_amount").at(a).get("amount_seperate"))?null:l.hasError("required"))&&((null==(l=i.formAddManualBilling.get("payeur_amount").at(a).get("amount_seperate"))?null:l.dirty)||(null==(l=i.formAddManualBilling.get("payeur_amount").at(a).get("amount_seperate"))?null:l.touched))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=(r=i.formAddManualBilling.get("payeur_amount").at(a).get("amount_seperate"))&&r.hasError("required"))&&(null==(r=i.formAddManualBilling.get("payeur_amount").at(a).get("amount_seperate"))?null:r.hasError("over"))&&((null==(r=i.formAddManualBilling.get("payeur_amount").at(a).get("amount_seperate"))?null:r.dirty)||(null==(r=i.formAddManualBilling.get("payeur_amount").at(a).get("amount_seperate"))?null:r.touched))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=(s=i.formAddManualBilling.get("payeur_amount").at(a).get("amount_seperate"))&&s.hasError("required"))&&!(null!=(s=i.formAddManualBilling.get("payeur_amount").at(a).get("amount_seperate"))&&s.hasError("over"))&&(null==(s=i.formAddManualBilling.get("payeur_amount").at(a).get("amount_seperate"))?null:s.hasError("below"))&&((null==(s=i.formAddManualBilling.get("payeur_amount").at(a).get("amount_seperate"))?null:s.dirty)||(null==(s=i.formAddManualBilling.get("payeur_amount").at(a).get("amount_seperate"))?null:s.touched)))}}function Ao(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",31),t.\u0275\u0275element(1,"mat-spinner",32),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let ee=(()=>{class n{constructor(e,a,i,l,r,s,d){this.dialogRef=e,this.translate=a,this.fb=i,this.data=l,this.parseToUTC=r,this.parseToLocal=s,this.financeService=d,this.sub=new w.Y,this.operationNameList=[{key:"Scholarship fees <Student program>",value:"scholarship_fees <student program>"},{key:"Social Security",value:"social_security"},{key:"Schedule fees",value:"schedule_fees"},{key:"Administrative charges",value:"administrative_charges"},{key:"Additional costs - Rejection",value:"additional_costs_rejection"},{key:"Additional costs - Formal notice",value:"additional_costs_formal_notice"},{key:"Additional costs - Litigation",value:"additional_costs_litigation"},{key:"Additional costs - International transfer",value:"additional_costs_international_transfer"}],this.isWaitingForResponse=!1,this.isUpdate=!1}ngOnInit(){this.initForm(),this.payerList(),this.checkingAmount()}checkingAmount(){this.sub.sink=this.formAddManualBilling.get("amount").valueChanges.subscribe(e=>{this.disablePayer(!(e&&e>0))})}onWheel(e){e?.preventDefault()}disablePayer(e){const a=this.payerAmountArray.value;a?.length&&a.forEach((i,l)=>{e?this.payerAmountArray.at(l).get("amount_seperate").disable():this.payerAmountArray.at(l).get("amount_seperate").enable()})}initForm(){this.formAddManualBilling=this.fb.group({payeur_amount:this.fb.array([]),amount:[null,m.Validators.required],operation_name:[null,m.Validators.required],date:[null,m.Validators.required],note:[null],reference:[null]})}get payerAmountArray(){return this.formAddManualBilling.get("payeur_amount")}initPayerAmountArray(e){return this.fb.group({name_payer:[this.payer.payer_name,m.Validators.required],payer:[e?._id,m.Validators.required],amount_seperate:[null,m.Validators.required],isStudent:[e?.isStudent],isFinancement:[e?.isFinancement]})}payerList(){if(this.data?.dropdown?.length)if(this.data?.dropdown.forEach(e=>{e&&(this.payer={billing_id:e._id,payer_name:""},e?.is_financial_support||e?.company_branch_id||e?.organization_id?!e?.is_financial_support||e?.company_branch_id||e?.organization_id?!e?.is_financial_support&&e?.is_financial_support||!e?.company_branch_id?e?.organization_id&&(this.payer.payer_name=e?.organization_id?.name,e.isFinancement=!0):(this.payer.payer_name=e?.company_branch_id?.company_name,e.isFinancement=!0):(this.payer.payer_name="neutral"===e?.financial_support_info?.civility?`${e?.financial_support_info?.name} ${e?.financial_support_info?.family_name}`:`${e?.financial_support_info?.civility} ${e?.financial_support_info?.name} ${e?.financial_support_info?.family_name}`,e.isStudent=!0):(this.payer.payer_name="neutral"===e?.candidate_id?.civility?`${e?.candidate_id?.first_name} ${e?.candidate_id?.last_name}`:`${e?.candidate_id?.civility} ${e?.candidate_id?.first_name} ${e?.candidate_id?.last_name}`,e.isStudent=!0),this.payerAmountArray.push(this.initPayerAmountArray(e)))}),this.data?.isUpdate){this.isUpdate=!0;const e={payeur:this.data.billing_id,amount:this.data.debit?this.data.debit:0,operation_name:this.data?.operation_name?.includes("scholarship_fees")?"scholarship_fees <student program>":this.data?.operation_name,date:this.data?.date_action?y(this.data?.date_action?.date,"DD/MM/YYYY").format("YYYY-MM-DD"):null,note:this.data?.note,reference:this.data?.reference};let a=[];this.data?.manual_billings?.length?(a=this.mappingPayers(this.data?.manual_billings),this.formAddManualBilling.patchValue(e),this.payerAmountArray.patchValue(a)):this.formAddManualBilling.patchValue(e),this.formAddManualBilling.get("note").disable(),this.formAddManualBilling.get("reference").disable()}else this.disablePayer(!0),this.recalculateAmountForPayerEqual()}mappingPayers(e){let a=[];return a=e.map(i=>{let l,r=!1;return i?.billing_id?i?.billing_id?.is_financial_support?(l="neutral"===i?.billing_id?.financial_support_info?.civility?`${i?.billing_id?.financial_support_info?.name} ${i?.billing_id?.financial_support_info?.family_name}`:`${i?.billing_id?.financial_support_info?.civility} ${i?.billing_id?.financial_support_info?.name} ${i?.billing_id?.financial_support_info?.family_name}`,r=!0):(l="neutral"===i?.billing_id?.candidate_id?.civility?`${i?.billing_id?.candidate_id?.first_name} ${i?.billing_id?.candidate_id?.last_name}`:`${i?.billing_id?.candidate_id?.civility} ${i?.billing_id?.candidate_id?.first_name} ${i?.billing_id?.candidate_id?.last_name}`,r=!0):i?.finance_organization_id&&(i?.finance_organization_id?.company_branch_id?(l=i?.finance_organization_id?.company_branch_id?.company_name,r=!1):i?.finance_organization_id?.organization_id&&(l=i?.finance_organization_id?.organization_id?.name,r=!1)),{name_payer:l,payer:r?i?.billing_id?._id:i?.finance_organization_id?._id,amount_seperate:i?.amount,isStudent:!!r,isFinancement:!r}}),a}payerSelect(e){e&&(this.payer={billing_id:e._id,payer_name:""},e?.is_financial_support||e?.company_branch_id||e?.organization_id?!e?.is_financial_support||e?.company_branch_id||e?.organization_id?!e?.is_financial_support&&e?.is_financial_support||!e?.company_branch_id?e?.organization_id&&(this.payer.payer_name=e?.organization_id?.name):this.payer.payer_name=e?.company_branch_id?.company_name:this.payer.payer_name="neutral"===e?.financial_support_info?.civility?`${e?.financial_support_info?.name} ${e?.financial_support_info?.family_name}`:`${e?.financial_support_info?.civility} ${e?.financial_support_info?.name} ${e?.financial_support_info?.family_name}`:this.payer.payer_name="neutral"===e?.candidate_id?.civility?`${e?.candidate_id?.first_name} ${e?.candidate_id?.last_name}`:`${e?.candidate_id?.civility} ${e?.candidate_id?.first_name} ${e?.candidate_id?.last_name}`)}submitVerification(){if(this.formAddManualBilling.invalid)this.formAddManualBilling.markAllAsTouched(),c().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),html:this.translate.instant("Invalid_Form_Warning.TEXT"),confirmButtonText:this.translate.instant("Invalid_Form_Warning.BUTTON")});else if(this.isUpdate){let e="";e="scholarship_fees <student program>"===this.formAddManualBilling.get("operation_name").value?this.formAddManualBilling.get("operation_name").value?.replace("<student program>",this.displayProgram(this.data?.dropdown[0]?.candidate_id)):this.formAddManualBilling.value.operation_name;let a=this.payerAmountArray.value?this.payerAmountArray.value:[];a?.length&&(a=a.map(r=>({billing_id:r?.isStudent?r?.payer:null,finance_organization_id:r?.isFinancement?r?.payer:null,amount:r?.amount_seperate})),a.forEach(r=>{r?.billing_id||delete r?.billing_id,r?.finance_organization_id||delete r?.finance_organization_id}));const i=y(this.formAddManualBilling.get("date").value,"YYYY-MM-DD").format("DD/MM/YYYY"),l={billing_id:this.data?._id,amount:this.formAddManualBilling.get("amount").value,operation_name:e,date:this.formAddManualBilling.get("date").value?i:"",payers:a};this.isWaitingForResponse=!0,this.sub.sink=this.financeService.updateManualBilling(l).subscribe(r=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},r=>{this.isWaitingForResponse=!1,r&&r.message&&r.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}else{let e="";e="scholarship_fees <student program>"===this.formAddManualBilling.get("operation_name").value?this.formAddManualBilling.get("operation_name").value?.replace("<student program>",this.displayProgram(this.data?.dropdown[0]?.candidate_id)):this.formAddManualBilling.value.operation_name;let a=this.payerAmountArray.value?this.payerAmountArray.value:[];a?.length&&(a=a.map(l=>({billing_id:l?.isStudent?l?.payer:null,finance_organization_id:l?.isFinancement?l?.payer:null,amount:l?.amount_seperate})),a.forEach(l=>{l?.billing_id||delete l?.billing_id,l?.finance_organization_id||delete l?.finance_organization_id}));const i={billing_id:a?.length?a[0].billing_id:"",amount:this.formAddManualBilling.get("amount").value,operation_name:e,date:this.formAddManualBilling.get("date").value?this.parseToUTC.transformDate(this.formAddManualBilling.get("date").value.toLocaleDateString("en-GB"),"15:59"):"",reference:this.formAddManualBilling.get("reference").value,note:this.formAddManualBilling.get("note").value,payers:a};this.isWaitingForResponse=!0,this.sub.sink=this.financeService.createManualBillingImprovement(i).subscribe(l=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},l=>{this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}decimalFilter(e){const i=e.target.value+String.fromCharCode(e.charCode);/^-?\d*[.,]?\d{0,2}$/.test(i)||e.preventDefault()}displayProgram(e){let a="";return e?.intake_channel?.scholar_season_id?.scholar_season&&e?.intake_channel?.program?(a=e?.intake_channel?.scholar_season_id?.scholar_season.concat(" ",e?.intake_channel?.program),a):""}recalculateAmountForPayerEqual(){let e=0,a=0;const i=this.formAddManualBilling.get("payeur_amount").value,l=h.cloneDeep(i),r=l.length-1,s=this.formAddManualBilling.get("amount").value,d=l&&l.length?l.length:0,u=parseFloat(((d>1?100/d:100)/100*s).toFixed(2));i&&i?.length&&l.forEach((_,O)=>{if(i&&i?.length){if(e+=u,this.payerAmountArray?.at(O).get("amount_seperate")?.patchValue(u),e!==s){const F=Number((e-s).toFixed(2));a=Number((u-F).toFixed(2)),this.payerAmountArray?.at(r).get("amount_seperate")?.patchValue(a),this.payerAmountArray?.at(r).get("amount_seperate")?.patchValue(a)}}else this.payerAmountArray?.at(r).get("amount_seperate")?.patchValue(null)})}recaculateAmountPayer(e){const a=this.data?.dropdown?.length,i=this.formAddManualBilling.get("amount").value;if(2===a){const l=this.payerAmountArray?.at(e).get("amount_seperate").value,r=0===e?1:0,s=Number((i-l).toFixed(2));l<=i?(this.payerAmountArray.at(r).get("amount_seperate").patchValue(s),this.payerAmountArray.at(e).get("amount_seperate").updateValueAndValidity()):(this.payerAmountArray.at(e).get("amount_seperate").setErrors({over:!0}),this.payerAmountArray.at(r).get("amount_seperate").patchValue(0))}else{if(!(a>2)){const l=this.formAddManualBilling.get("payeur_amount").value;let r=0;return l.forEach((s,d)=>{r+=s?.amount_seperate}),void(r<i?this.payerAmountArray?.at(0).get("amount_seperate").setErrors({below:!0}):r>i?this.payerAmountArray?.at(0).get("amount_seperate").setErrors({over:!0}):this.payerAmountArray?.at(0).get("amount_seperate").updateValueAndValidity())}{let l=0;const r=this.formAddManualBilling.get("payeur_amount").value;r.forEach((u,_)=>{(_<e&&e!==r.length-1||e===r.length-1&&0!==_&&_!==e)&&(l+=u?.amount_seperate)});const s=this.payerAmountArray?.at(e).get("amount_seperate").value;l+=s;const d=Number((i-l).toFixed(2));let p=[];if(r.forEach((u,_)=>{_>e&&e!==r.length-1?p.push(_):e===r.length-1&&p.push(0)}),l<=i){if(e===a-1)this.payerAmountArray?.at(0).get("amount_seperate").patchValue(d),this.payerAmountArray?.at(0).get("amount_seperate").updateValueAndValidity();else if(p.length){const u=Number((d/p.length).toFixed(2)),_=u*p.length+l===i?0:Number(i-(u*p.length+l)).toFixed(2),O=Number(u)+Number(_);p.forEach(F=>{F===r.length-1?this.payerAmountArray?.at(F).get("amount_seperate").patchValue(O):this.payerAmountArray?.at(F).get("amount_seperate").patchValue(u)})}}else this.payerAmountArray.at(e).get("amount_seperate").setErrors({over:!0}),p.length&&p.forEach(u=>{this.payerAmountArray?.at(u).get("amount_seperate").patchValue(0)})}}}ngOnDestroy(){this.sub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(m.FormBuilder),t.\u0275\u0275directiveInject(T.WI),t.\u0275\u0275directiveInject(yt.w),t.\u0275\u0275directiveInject(U.t),t.\u0275\u0275directiveInject(ht.N))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-add-billing-dialog"]],features:[t.\u0275\u0275ProvidersFeature([yt.w,U.t])],decls:91,vars:50,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"p-col","no-padding","acad-title"],["data-cy","label-add-billing",1,"dialogTitle"],[4,"ngIf"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1","data-cy","button-close-add-billing-dialog",1,"close-icon","float-right"],[2,"margin-top","20px",3,"formGroup"],[1,"p-col-12","no-padding"],[1,"p-col-fixed","center-label","no-padding-left","label-align",2,"width","160px"],[1,"p-col","no-padding"],["floatLabel","never"],["matInput","","formControlName","amount","type","number","data-cy","input-amount",3,"placeholder","keypress","keyup","wheel"],["matSuffix",""],["formControlName","operation_name","panelClass","filterPanel","data-cy","input-select-operation-name",3,"disableOptionCentering"],["data-cy","input-select-option-operation-name",3,"value",4,"ngFor","ngForOf"],["matInput","","readonly","","formControlName","date","data-cy","input-date-picker",3,"matDatepicker","click"],["matSuffix","",3,"for"],["myDatepicker",""],["formArrayName","payeur_amount",1,"p-grid"],["class","p-col-12 no-padding",3,"formGroupName",4,"ngFor","ngForOf"],["data-cy","input-reference","matInput","","msPreventInputTagCharacters","","formControlName","reference",3,"placeholder","readonly"],["data-cy","input-note","matInput","","msPreventInputTagCharacters","","formControlName","note",3,"placeholder","readonly"],["align","end"],["mat-raised-button","","type","button","color","warn","mat-dialog-close","","data-cy","button-cancel-add-billing-dialog"],["mat-raised-button","","color","primary","data-cy","button-validate-add-billing-dialog",3,"click"],["class","loading-indicator",4,"ngIf"],["data-cy","input-select-option-operation-name",3,"value"],[1,"p-col-12","no-padding",3,"formGroupName"],["matInput","","type","number","data-cy","input-amount","formControlName","amount_seperate",3,"placeholder","wheel","keypress","keyup"],[1,"loading-indicator"],["color","accent",3,"diameter"]],template:function(e,a){if(1&e){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.\u0275\u0275template(5,xo,3,3,"span",5),t.\u0275\u0275template(6,yo,3,3,"span",5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",6)(8,"button",7)(9,"mat-icon"),t.\u0275\u0275text(10,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(11,"form",8)(12,"mat-dialog-content")(13,"div",2)(14,"div",9)(15,"div",2)(16,"div",10)(17,"label"),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"div",11)(21,"mat-form-field",12)(22,"input",13),t.\u0275\u0275listener("keypress",function(r){return a.decimalFilter(r)})("keyup",function(){return a.recalculateAmountForPayerEqual()})("wheel",function(r){return a.onWheel(r)}),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(24,"span",14),t.\u0275\u0275text(25,"\u20ac"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(26,vo,3,3,"mat-error",5),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(27,"div",2)(28,"div",9)(29,"div",2)(30,"div",10)(31,"label"),t.\u0275\u0275text(32),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(34,"div",11)(35,"mat-form-field",12)(36,"mat-label"),t.\u0275\u0275text(37),t.\u0275\u0275pipe(38,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(39,"mat-select",15),t.\u0275\u0275template(40,Mo,3,7,"mat-option",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(41,So,3,3,"mat-error",5),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(42,"div",2)(43,"div",9)(44,"div",2)(45,"div",10)(46,"label"),t.\u0275\u0275text(47),t.\u0275\u0275pipe(48,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(49,"div",11)(50,"mat-form-field",12)(51,"mat-label"),t.\u0275\u0275text(52),t.\u0275\u0275pipe(53,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(54,"input",17),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const r=t.\u0275\u0275reference(57);return t.\u0275\u0275resetView(r.open())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(55,"mat-datepicker-toggle",18)(56,"mat-datepicker",null,19),t.\u0275\u0275template(58,Oo,3,3,"mat-error",5),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(59,"div",20),t.\u0275\u0275template(60,Bo,17,11,"div",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(61,"div",2)(62,"div",9)(63,"div",2)(64,"div",10)(65,"label"),t.\u0275\u0275text(66),t.\u0275\u0275pipe(67,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(68,"div",11)(69,"mat-form-field",12),t.\u0275\u0275element(70,"textarea",22),t.\u0275\u0275pipe(71,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(72,"div",2)(73,"div",9)(74,"div",2)(75,"div",10)(76,"label"),t.\u0275\u0275text(77),t.\u0275\u0275pipe(78,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(79,"div",11)(80,"mat-form-field",12),t.\u0275\u0275element(81,"textarea",23),t.\u0275\u0275pipe(82,"translate"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(83,"mat-dialog-actions",24)(84,"button",25),t.\u0275\u0275text(85),t.\u0275\u0275pipe(86,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(87,"button",26),t.\u0275\u0275listener("click",function(){return a.submitVerification()}),t.\u0275\u0275text(88),t.\u0275\u0275pipe(89,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(90,Ao,2,1,"div",27)}if(2&e){const i=t.\u0275\u0275reference(57);t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",!a.isUpdate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isUpdate),t.\u0275\u0275advance(5),t.\u0275\u0275property("formGroup",a.formAddManualBilling),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(19,26,"Amount"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(23,28,"Amount")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.formAddManualBilling.get("amount").hasError("required")&&(a.formAddManualBilling.get("amount").dirty||a.formAddManualBilling.get("amount").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(33,30,"Operation name"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(38,32,"Operation name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disableOptionCentering",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.operationNameList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.formAddManualBilling.get("operation_name").hasError("required")&&(a.formAddManualBilling.get("operation_name").dirty||a.formAddManualBilling.get("operation_name").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(48,34,"Date"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(53,36,"Date")),t.\u0275\u0275advance(2),t.\u0275\u0275property("matDatepicker",i),t.\u0275\u0275advance(1),t.\u0275\u0275property("for",i),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.formAddManualBilling.get("date").hasError("required")&&(a.formAddManualBilling.get("date").dirty||a.formAddManualBilling.get("date").touched)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==a.data?null:a.data.dropdown),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(67,38,"JURY_ORGANIZATION.JURY_LOGISTIC.REFERENCE")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(71,40,"R\xe9f\xe9rence")),t.\u0275\u0275property("readonly",a.isUpdate),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(78,42,"Note")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(82,44,"Note")),t.\u0275\u0275property("readonly",a.isUpdate),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(86,46,"CANCEL")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(89,48,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isWaitingForResponse)}},dependencies:[N.Zt,N.Bh,Q.ey,I.lW,P.Mq,P.hl,P.nW,T.ZT,T.xY,T.H8,k.Hw,S.TO,S.KE,S.hX,S.R9,z.Nt,D.Ou,it.gD,m.\u0275NgNoValidate,m.DefaultValueAccessor,m.NumberValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.FormGroupDirective,m.FormControlName,m.FormGroupName,m.FormArrayName,f.sg,f.O5,kt.c,M.X$,f.gd],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-list[_ngcontent-%COMP%]{font-size:12px;text-align:center}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}.label-align[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}[_nghost-%COMP%]  .filterPanel{margin-top:25px!important}  .mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}[_nghost-%COMP%]     .mat-dialog-actions{min-height:unset!important}"]}),n})();var No=C(31698),Ro=C(80529);function Vo(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",161),t.\u0275\u0275element(1,"mat-spinner",162),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}function Lo(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.formatCurrencyHistory(null==e.scholarSeasonData||null==e.scholarSeasonData.full_rate_id?null:e.scholarSeasonData.full_rate_id.amount_internal)?e.formatCurrencyHistory(null==e.scholarSeasonData||null==e.scholarSeasonData.full_rate_id?null:e.scholarSeasonData.full_rate_id.amount_internal):"0"," \u20ac ")}}function Uo(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.formatCurrencyHistory(null==e.scholarSeasonData||null==e.scholarSeasonData.full_rate_id?null:e.scholarSeasonData.full_rate_id.amount_external)?e.formatCurrencyHistory(null==e.scholarSeasonData||null==e.scholarSeasonData.full_rate_id?null:e.scholarSeasonData.full_rate_id.amount_external):"0"," \u20ac ")}}function zo(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Payer")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Payer")," "))}function $o(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",167),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"uppercase"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate2("matTooltip","",t.\u0275\u0275pipeBind1(1,4,null==e||null==e.candidate_id?null:e.candidate_id.last_name)+" "+(null==e||null==e.candidate_id?null:e.candidate_id.first_name)+" "+(null!=e&&null!=e.candidate_id&&e.candidate_id.civility&&"neutral"===(null==e||null==e.candidate_id?null:e.candidate_id.civility)?"":t.\u0275\u0275pipeBind1(2,6,null==e||null==e.candidate_id?null:e.candidate_id.civility))," \n                    ",null!=e&&null!=e.candidate_id&&null!=e.candidate_id.legal_representative&&e.candidate_id.legal_representative.unique_id?t.\u0275\u0275pipeBind1(3,8,"MINOR_STUDENT_MANAGEMENT.LR"):"",""),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(5,10,null==e||null==e.candidate_id?null:e.candidate_id.last_name)+" "+(null==e||null==e.candidate_id?null:e.candidate_id.first_name)+" "+(null!=e&&null!=e.candidate_id&&e.candidate_id.civility&&"neutral"===(null==e||null==e.candidate_id?null:e.candidate_id.civility)?"":t.\u0275\u0275pipeBind1(6,12,null==e||null==e.candidate_id?null:e.candidate_id.civility))," ",null!=e&&null!=e.candidate_id&&null!=e.candidate_id.legal_representative&&e.candidate_id.legal_representative.unique_id?t.\u0275\u0275pipeBind1(7,14,"MINOR_STUDENT_MANAGEMENT.LR"):""," ")}}function Ho(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",167),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e||null==e.financial_support_info?null:e.financial_support_info.family_name)+" "+(null==e||null==e.financial_support_info?null:e.financial_support_info.name)+" "+(null!=e&&null!=e.financial_support_info&&e.financial_support_info.civility&&"neutral"===(null==e||null==e.financial_support_info?null:e.financial_support_info.civility)?"":t.\u0275\u0275pipeBind1(2,4,null==e||null==e.financial_support_info?null:e.financial_support_info.civility))),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,6,null==e||null==e.financial_support_info?null:e.financial_support_info.family_name)+" "+(null==e||null==e.financial_support_info?null:e.financial_support_info.name)+" "+(null!=e&&null!=e.financial_support_info&&e.financial_support_info.civility&&"neutral"===(null==e||null==e.financial_support_info?null:e.financial_support_info.civility)?"":t.\u0275\u0275pipeBind1(5,8,null==e||null==e.financial_support_info?null:e.financial_support_info.civility))," ")}}function jo(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",167),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e||null==e.company_branch_id?null:e.company_branch_id.company_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.company_branch_id?null:e.company_branch_id.company_name," ")}}function Wo(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",167),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",null==e||null==e.organization_id?null:e.organization_id.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.organization_id?null:e.organization_id.name," ")}}function Yo(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",165),t.\u0275\u0275template(1,$o,8,16,"span",166),t.\u0275\u0275template(2,Ho,6,10,"span",166),t.\u0275\u0275template(3,jo,2,2,"span",166),t.\u0275\u0275template(4,Wo,2,2,"span",166),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_financial_support||null!=e&&e.company_branch_id||null!=e&&e.organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_financial_support)&&!(null!=e&&e.company_branch_id)&&!(null!=e&&e.organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",((null==e?null:e.is_financial_support)||!(null!=e&&e.is_financial_support))&&(null==e?null:e.company_branch_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.organization_id)}}function Go(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Total Amount")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Total Amount")," "))}function qo(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Ko(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0)(1),t.\u0275\u0275text(2),t.\u0275\u0275elementContainerEnd()()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.total_amount&&"0"!==(null==e?null:e.total_amount)?a.formatCurrencyHistory(null==e?null:e.total_amount):""," ")}}function Qo(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,qo,3,0,"ng-container",5),t.\u0275\u0275template(2,Ko,3,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)||0===(null==e?null:e.total_amount)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Xo(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Zo(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Jo(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.formatCurrencyHistory(null==e?null:e.total_amount)," ")}}function tl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Zo,3,0,"ng-container",5),t.\u0275\u0275template(2,Jo,2,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","0"===(null==e?null:e.total_amount)||"0.00"===(null==e?null:e.total_amount)||0===(null==e?null:e.total_amount)||0===(null==e?null:e.total_amount)||""===(null==e?null:e.total_amount)||null===(null==e?null:e.total_amount)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.total_amount)&&"0"!==(null==e?null:e.total_amount)&&"0.00"!==(null==e?null:e.total_amount)&&0!==(null==e?null:e.total_amount)&&0!==(null==e?null:e.total_amount)&&""!==(null==e?null:e.total_amount)&&null!==(null==e?null:e.total_amount))}}function el(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Xo,3,0,"ng-container",5),t.\u0275\u0275template(2,tl,3,2,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function nl(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,Qo,3,2,"ng-container",5),t.\u0275\u0275template(2,el,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==e||null==e.student_type?null:e.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==e||null==e.student_type?null:e.student_type.type_of_information))}}function al(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Amount Billed")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Amount Billed")," "))}function il(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function ol(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0)(1),t.\u0275\u0275text(2),t.\u0275\u0275elementContainerEnd()()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.amount_billed&&"0"!==(null==e?null:e.amount_billed)?a.formatCurrencyHistory(null==e?null:e.amount_billed):""," ")}}function ll(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,il,3,0,"ng-container",5),t.\u0275\u0275template(2,ol,3,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)||0===(null==e?null:e.amount_billed)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function rl(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function sl(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function cl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.amount_billed&&(null==e?null:e.amount_billed)>0?a.formatCurrencyHistory(null==e?null:e.amount_billed):""," ")}}function dl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,sl,3,0,"ng-container",5),t.\u0275\u0275template(2,cl,2,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===(null==e?null:e.amount_billed)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.amount_billed)>0)}}function pl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,rl,3,0,"ng-container",5),t.\u0275\u0275template(2,dl,3,2,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function ml(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,ll,3,2,"ng-container",5),t.\u0275\u0275template(2,pl,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==e||null==e.student_type?null:e.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==e||null==e.student_type?null:e.student_type.type_of_information))}}function _l(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Amount Paid")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Amount Paid")," "))}function ul(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function gl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ul,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.amount_paid)||"0"===(null==e?null:e.amount_paid)||"0.00"===(null==e?null:e.amount_paid))}}function hl(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function fl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.formatCurrency(null==e?null:e.amount_paid)&&"0"!==(null==e?null:e.amount_paid)&&"0.00"!==(null==e?null:e.amount_paid)?a.formatCurrencyHistory(null==e?null:e.amount_paid):""," ")}}function bl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,hl,3,0,"ng-container",5),t.\u0275\u0275template(2,fl,2,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkIfCandidateTransferHasAmountPaid(null==e?null:e.amount_paid)||"0"===(null==e?null:e.amount_paid)||"0.00"===(null==e?null:e.amount_paid)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","0"!==(null==e?null:e.amount_paid)||"0.00"!==(null==e?null:e.amount_paid)||!(null!=e&&e.amount_paid)||a.checkIfCandidateTransferHasAmountPaid(null==e?null:e.amount_paid))}}function Cl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,gl,2,1,"ng-container",5),t.\u0275\u0275template(2,bl,3,2,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)&&!a.checkIfCandidateTransferHasAmountPaid(null==e?null:e.amount_paid)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e)||a.checkIfCandidateTransferHasAmountPaid(null==e?null:e.amount_paid))}}function xl(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function yl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,xl,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.amount_paid)||"0"===(null==e?null:e.amount_paid)||"0.00"===(null==e?null:e.amount_paid))}}function vl(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Tl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.formatCurrency(null==e?null:e.amount_paid)&&"0"!==(null==e?null:e.amount_paid)&&"0.00"!==(null==e?null:e.amount_paid)?a.formatCurrencyHistory(null==e?null:e.amount_paid):""," ")}}function Ml(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,vl,3,0,"ng-container",5),t.\u0275\u0275template(2,Tl,2,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkIfCandidateTransferHasAmountPaid(null==e?null:e.amount_paid)||"0"===(null==e?null:e.amount_paid)||"0.00"===(null==e?null:e.amount_paid)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.amount_paid)&&"0"!==(null==e?null:e.amount_paid)&&"0.00"!==(null==e?null:e.amount_paid)&&a.checkIfCandidateTransferHasAmountPaid(null==e?null:e.amount_paid))}}function Sl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,yl,2,1,"ng-container",5),t.\u0275\u0275template(2,Ml,3,2,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)&&!a.checkIfCandidateTransferHasAmountPaid(null==e?null:e.amount_paid)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e)||a.checkIfCandidateTransferHasAmountPaid(null==e?null:e.amount_paid))}}function Ol(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,Cl,3,2,"ng-container",5),t.\u0275\u0275template(2,Sl,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==e||null==e.student_type?null:e.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==e||null==e.student_type?null:e.student_type.type_of_information))}}function Pl(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Remaining Due")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Remaining Due")," "))}function wl(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Dl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.formatCurrency(null==e?null:e.remaining_billed)&&"0"!==(null==e?null:e.remaining_billed)?a.formatCurrencyHistory(null==e?null:e.remaining_billed):""," ")}}function El(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Dl,2,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","0"!==(null==e?null:e.remaining_billed)||!(null!=e&&e.remaining_billed))}}function Il(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,wl,3,0,"ng-container",5),t.\u0275\u0275template(2,El,2,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)||"0"===(null==e?null:e.remaining_billed)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function kl(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Fl(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Bl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.formatCurrency(null==e?null:e.remaining_billed)&&"0"!==(null==e?null:e.remaining_billed)?a.formatCurrencyHistory(null==e?null:e.remaining_billed):""," ")}}function Al(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Fl,3,0,"ng-container",5),t.\u0275\u0275template(2,Bl,2,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","0"===(null==e?null:e.remaining_billed)||"0.00"===(null==e?null:e.remaining_billed)||!(null!=e&&e.remaining_billed)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.remaining_billed)&&"0"!==(null==e?null:e.remaining_billed)&&"0.00"!==(null==e?null:e.remaining_billed))}}function Nl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,kl,3,0,"ng-container",5),t.\u0275\u0275template(2,Al,3,2,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Rl(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,Il,3,2,"ng-container",5),t.\u0275\u0275template(2,Nl,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==e||null==e.student_type?null:e.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==e||null==e.student_type?null:e.student_type.type_of_information))}}function Vl(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Amount Late")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Amount Late")," "))}function Ll(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Ul(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0)(1),t.\u0275\u0275text(2),t.\u0275\u0275elementContainerEnd()()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",a.formatCurrency(null==e?null:e.amount_late)&&"0"!==(null==e?null:e.amount_late)?a.formatDecimal(null==e?null:e.amount_late):""," ")}}function zl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ll,3,0,"ng-container",5),t.\u0275\u0275template(2,Ul,3,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)||!(null!=e&&e.amount_late)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function $l(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Hl(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function jl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.formatCurrency(null==e?null:e.amount_late)&&"0"!==(null==e?null:e.amount_late)?a.formatDecimal(null==e?null:e.amount_late):""," ")}}function Wl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Hl,3,0,"ng-container",5),t.\u0275\u0275template(2,jl,2,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","0"===(null==e?null:e.amount_late)||"0.00"===(null==e?null:e.amount_late)||!(null!=e&&e.amount_late)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.amount_late)&&"0"!==(null==e?null:e.amount_late)&&"0.00"!==(null==e?null:e.amount_late))}}function Yl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,$l,3,0,"ng-container",5),t.\u0275\u0275template(2,Wl,3,2,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Gl(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,zl,3,2,"ng-container",5),t.\u0275\u0275template(2,Yl,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==e||null==e.student_type?null:e.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==e||null==e.student_type?null:e.student_type.type_of_information))}}function ql(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Accumulated Late (d)")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Accumulated Late (d)")," "))}function Kl(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Ql(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0)(1),t.\u0275\u0275text(2),t.\u0275\u0275elementContainerEnd()()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.accumulated_late?null==e?null:e.accumulated_late:""," ")}}function Xl(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Kl,3,0,"ng-container",5),t.\u0275\u0275template(2,Ql,3,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(a.checkNoPayment(e)||0===(null==e?null:e.accumulated_late))&&"registered"!==(null==e||null==e.candidate_id?null:e.candidate_id.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Zl(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Jl(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function tr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.accumulated_late?null==e?null:e.accumulated_late:""," ")}}function er(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Jl,3,0,"ng-container",5),t.\u0275\u0275template(2,tr,2,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","0"===(null==e?null:e.accumulated_late)||"0.00"===(null==e?null:e.accumulated_late)||!(null!=e&&e.accumulated_late)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.accumulated_late)&&"0"!==(null==e?null:e.accumulated_late)&&"0.00"!==(null==e?null:e.accumulated_late))}}function nr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Zl,3,0,"ng-container",5),t.\u0275\u0275template(2,er,3,2,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function ar(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,Xl,3,2,"ng-container",5),t.\u0275\u0275template(2,nr,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==e||null==e.student_type?null:e.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==e||null==e.student_type?null:e.student_type.type_of_information))}}function ir(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",170)(3,"mat-icon",171),t.\u0275\u0275text(4," credit-card-check "),t.\u0275\u0275elementEnd()()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Deposit"))}function or(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function lr(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function rr(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function sr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,rr,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===(null==e?null:e.deposit)&&0===(null==e?null:e.deposit_pay_amount)&&!a.checkHasNoDP(e))}}function cr(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function dr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(5).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",(null==e?null:e.deposit)-(null==e?null:e.deposit_pay_amount)?a.formatCurrency((null==e?null:e.deposit)-(null==e?null:e.deposit_pay_amount)):t.\u0275\u0275pipeBind4(2,1,(null==e?null:e.deposit)-(null==e?null:e.deposit_pay_amount),"EURO","","0.2")," ")}}function pr(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",178),t.\u0275\u0275text(1,"lens "),t.\u0275\u0275elementEnd())}function mr(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",179),t.\u0275\u0275text(1,"lens "),t.\u0275\u0275elementEnd())}function _r(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",180),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Refused"))}function ur(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span")(1,"span",172),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"currency"),t.\u0275\u0275template(4,cr,3,3,"mat-icon",173),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"span"),t.\u0275\u0275template(6,dr,3,6,"ng-container",5),t.\u0275\u0275template(7,pr,2,0,"mat-icon",174),t.\u0275\u0275template(8,mr,2,0,"mat-icon",175),t.\u0275\u0275template(9,_r,3,3,"mat-icon",176),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(4).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",null!=e&&e.deposit_pay_amount?a.formatCurrency(null==e?null:e.deposit_pay_amount):t.\u0275\u0275pipeBind4(3,6,null==e?null:e.deposit_pay_amount,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","chargeback"!==(null==e||null==e.candidate_id?null:e.candidate_id.payment)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","chargeback"!==(null==e?null:e.deposit_status)||"done"!==(null==e||null==e.candidate_id?null:e.candidate_id.payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.deposit)-(null==e?null:e.deposit_pay_amount)>0&&"sepa_pending"!==(null==e||null==e.candidate_id?null:e.candidate_id.payment)&&"not_authorized"!==(null==e||null==e.candidate_id?null:e.candidate_id.payment)&&"pending"!==(null==e||null==e.candidate_id?null:e.candidate_id.payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sepa_pending"===(null==e||null==e.candidate_id?null:e.candidate_id.payment)||"pending"===(null==e||null==e.candidate_id?null:e.candidate_id.payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","not_authorized"===(null==e||null==e.candidate_id?null:e.candidate_id.payment))}}function gr(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function hr(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function fr(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",185),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Pending"))}function br(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",180),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Refused"))}function Cr(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",186),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Chargeback"))}function xr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,gr,3,3,"mat-icon",173),t.\u0275\u0275template(2,hr,3,3,"mat-icon",181),t.\u0275\u0275template(3,fr,3,3,"mat-icon",182),t.\u0275\u0275template(4,br,3,3,"mat-icon",176),t.\u0275\u0275template(5,Cr,3,3,"mat-icon",183),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(5).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_deposit_completed)&&(null==e?null:e.deposit)&&"paid"===(null==e?null:e.deposit_status)&&"chargeback"!==(null==e||null==e.candidate_id?null:e.candidate_id.payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.deposit)&&"billed"===(null==e?null:e.deposit_status)&&"sepa_pending"!==(null==e||null==e.candidate_id?null:e.candidate_id.payment)&&"not_authorized"!==(null==e||null==e.candidate_id?null:e.candidate_id.payment)&&"pending"!==(null==e||null==e.candidate_id?null:e.candidate_id.payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_deposit_completed&&null!=e&&e.deposit||"sepa_pending"!==(null==e||null==e.candidate_id?null:e.candidate_id.payment)&&"pending"!==(null==e||null==e.candidate_id?null:e.candidate_id.payment))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","not_authorized"===(null==e||null==e.candidate_id?null:e.candidate_id.payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","chargeback"===(null==e||null==e.candidate_id?null:e.candidate_id.payment)||(null==e?null:e.dp_deposit_chargeback))}}function yr(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,xr,6,5,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(4).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.deposit?a.formatCurrency(null==e?null:e.deposit):null!=e&&e.dp_deposit_chargeback?a.formatCurrency(null==e?null:e.dp_deposit_chargeback):"x"," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.deposit)&&(null==e?null:e.deposit_status)&&"not_billed"!==(null==e?null:e.deposit_status)||(null==e?null:e.dp_deposit_chargeback))}}function vr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ur,10,11,"span",5),t.\u0275\u0275template(2,yr,3,2,"span",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.deposit)&&0!==(null==e?null:e.deposit_pay_amount)&&(null==e?null:e.deposit_pay_amount)!==(null==e?null:e.deposit)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===(null==e?null:e.deposit_pay_amount)||(null==e?null:e.deposit_pay_amount)===(null==e?null:e.deposit)||(null==e?null:e.dp_deposit_chargeback))}}function Tr(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",187),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.getDPDetail(null==i?null:i._id))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",188),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"Detail of Down Payment")))}function Mr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,vr,3,2,"ng-container",5),t.\u0275\u0275template(2,Tr,4,3,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.dp_histories?null:e.dp_histories.length)<1||!a.isNoDepositPaidAndSomeHistoriesDifferent),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.dp_histories?null:e.dp_histories.length)>0&&a.isNoDepositPaidAndSomeHistoriesDifferent)}}function Sr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,lr,3,0,"ng-container",5),t.\u0275\u0275template(2,sr,2,1,"ng-container",5),t.\u0275\u0275template(3,Mr,3,2,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkHasNoDP(e)&&!a.checkIfCandidateTransferHasDP(null==e?null:e.deposit_pay_amount)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==e||null==e.student_type?null:e.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0!==(null==e?null:e.deposit)||(null==e?null:e.dp_deposit_chargeback)||a.checkIfCandidateTransferHasDP(null==e?null:e.deposit_pay_amount))}}function Or(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,or,3,0,"ng-container",5),t.\u0275\u0275template(2,Sr,4,3,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)&&!a.checkIfCandidateTransferHasDP(null==e?null:e.deposit_pay_amount)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e)||a.checkIfCandidateTransferHasDP(null==e?null:e.deposit_pay_amount)||(null==e?null:e.dp_deposit_chargeback))}}function Pr(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Terms Not respected")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Terms Not respected")," "))}function wr(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Dr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0)(1),t.\u0275\u0275text(2),t.\u0275\u0275elementContainerEnd()()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",a.formatNonDecimal(null==e?null:e.overdue)," ")}}function Er(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,wr,3,0,"ng-container",5),t.\u0275\u0275template(2,Dr,3,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)||0===(null==e?null:e.overdue)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Ir(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function kr(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(a.formatNonDecimal(null==e?null:e.overdue))}}function Fr(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",169),t.\u0275\u0275text(1,"X"),t.\u0275\u0275elementEnd())}function Br(n,o){1&n&&t.\u0275\u0275element(0,"span")}function Ar(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Fr,2,0,"span",189),t.\u0275\u0275template(2,Br,1,0,"span",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===(null==e?null:e.amount_billed)||0===(null==e?null:e.amount_billed)||"0"===(null==e?null:e.amount_billed)||"0.00"===(null==e?null:e.amount_billed)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0!==(null==e?null:e.amount_billed)&&0!==(null==e?null:e.amount_billed)&&"0"!==(null==e?null:e.amount_billed)&&"0.00"!==(null==e?null:e.amount_billed))}}function Nr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,kr,2,1,"span",5),t.\u0275\u0275template(2,Ar,3,2,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0!==(null==e?null:e.overdue)&&0!==(null==e?null:e.overdue)&&"0"!==(null==e?null:e.overdue)&&"0.00"!==(null==e?null:e.overdue)&&""!==(null==e?null:e.overdue)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===(null==e?null:e.overdue)||0===(null==e?null:e.overdue)||"0"===(null==e?null:e.overdue)||"0.00"===(null==e?null:e.overdue)||""===(null==e?null:e.overdue))}}function Rr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ir,3,0,"ng-container",5),t.\u0275\u0275template(2,Nr,3,2,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Vr(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,Er,3,2,"ng-container",5),t.\u0275\u0275template(2,Rr,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==e||null==e.student_type?null:e.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==e||null==e.student_type?null:e.student_type.type_of_information))}}function Lr(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Terms Not Respected & till not Settled up today")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Terms Not Respected & till not Settled up today")," "))}function Ur(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function zr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0)(1),t.\u0275\u0275text(2),t.\u0275\u0275elementContainerEnd()()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",a.formatNonDecimal(null==e?null:e.overdue_not_paid)," ")}}function $r(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ur,3,0,"ng-container",5),t.\u0275\u0275template(2,zr,3,1,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)||0===(null==e?null:e.overdue_not_paid)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Hr(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function jr(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.formatNonDecimal(null==e?null:e.overdue_not_paid)," ")}}function Wr(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",169),t.\u0275\u0275text(1,"X"),t.\u0275\u0275elementEnd())}function Yr(n,o){1&n&&t.\u0275\u0275element(0,"span")}function Gr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Wr,2,0,"span",189),t.\u0275\u0275template(2,Yr,1,0,"span",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===(null==e?null:e.amount_billed)||0===(null==e?null:e.amount_billed)||"0"===(null==e?null:e.amount_billed)||"0.00"===(null==e?null:e.amount_billed)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0!==(null==e?null:e.amount_billed)&&0!==(null==e?null:e.amount_billed)&&"0"!==(null==e?null:e.amount_billed)&&"0.00"!==(null==e?null:e.amount_billed))}}function qr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,jr,2,1,"span",5),t.\u0275\u0275template(2,Gr,3,2,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0!==(null==e?null:e.overdue_not_paid)&&0!==(null==e?null:e.overdue_not_paid)&&"0"!==(null==e?null:e.overdue_not_paid)&&"0.00"!==(null==e?null:e.overdue_not_paid)&&""!==(null==e?null:e.overdue_not_paid)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===(null==e?null:e.overdue_not_paid)||0===(null==e?null:e.overdue_not_paid)||"0"===(null==e?null:e.overdue_not_paid)||"0.00"===(null==e?null:e.overdue_not_paid)||""===(null==e?null:e.overdue_not_paid))}}function Kr(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Hr,3,0,"ng-container",5),t.\u0275\u0275template(2,qr,3,2,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Qr(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,$r,3,2,"ng-container",5),t.\u0275\u0275template(2,Kr,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==e||null==e.student_type?null:e.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==e||null==e.student_type?null:e.student_type.type_of_information))}}function Xr(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",170)(3,"mat-icon",190),t.\u0275\u0275text(4," numeric-1-box "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"span",191),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Term 1")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,4,"August")))}function Zr(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Jr(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",169),t.\u0275\u0275text(1,"X"),t.\u0275\u0275elementEnd())}function ts(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Jr,2,0,"div",189),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function es(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function ns(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,es,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function as(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function is(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,as,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(e||null!=e&&e.term_amount))}}function os(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function ls(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",198),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275template(3,os,3,3,"mat-icon",173),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_pay_amount&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount)?null!=e&&e.term_pay_amount?a.formatCurrency(null==e?null:e.term_pay_amount):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_pay_amount,"EURO","","0.2"):""," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e?null:e.term_pay_amount)&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount))}}function rs(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function ss(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,rs,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending))}}function cs(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function ds(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,cs,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0||(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function ps(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function ms(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,ps,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function _s(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}const ct=function(n){return{none:n}};function us(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",199),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Refused")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ct,a.changedPlan(e)&&(null==e||null==e.term_payment_deferment?null:e.term_payment_deferment.date)&&"not_billed"===(null==e?null:e.term_status)))}}function gs(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",185),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_pending?a.formatCurrency(null==e?null:e.term_amount_pending):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_pending,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Pending"))}}function hs(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",186),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_chargeback?a.formatCurrency(null==e?null:e.term_amount_chargeback):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_chargeback,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"chargeback"))}}function fs(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",180),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_not_authorised?a.formatCurrency(null==e?null:e.term_amount_not_authorised):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_not_authorised,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Refused"))}}function bs(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",195),t.\u0275\u0275template(2,ls,4,7,"span",196),t.\u0275\u0275template(3,ss,3,2,"span",5),t.\u0275\u0275template(4,ds,3,2,"span",5),t.\u0275\u0275template(5,ms,3,2,"span",5),t.\u0275\u0275template(6,_s,3,3,"mat-icon",173),t.\u0275\u0275template(7,us,3,6,"mat-icon",197),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",195),t.\u0275\u0275template(9,gs,6,9,"span",5),t.\u0275\u0275template(10,hs,6,9,"span",5),t.\u0275\u0275template(11,fs,6,9,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","partially_paid"===(null==e?null:e.term_status)&&(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_partial)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"!==(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"===(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_term_paid)&&!(null!=e&&e.is_partial)&&"paid"===(null==e?null:e.term_status)&&!(null!=e&&e.term_amount_chargeback)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!(null!=e&&e.is_term_paid)&&(null==e?null:e.term_amount)||a.checkPartiallyTerms(e))&&"not_billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount_not_authorised)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_pending),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_chargeback),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_not_authorised)}}function Cs(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0,194),t.\u0275\u0275template(1,ns,2,1,"ng-container",5),t.\u0275\u0275template(2,is,2,1,"ng-container",5),t.\u0275\u0275template(3,bs,12,9,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e)}}function xs(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ts,2,1,"ng-container",5),t.\u0275\u0275template(2,Cs,4,4,"ng-container",193),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function ys(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,xs,3,2,"ng-container",192),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.term_1)}}function vs(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",187),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.viewTermDetail(null==i?null:i.term_1,"August"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",188),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"View term")))}function Ts(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ys,2,1,"ng-container",5),t.\u0275\u0275template(2,vs,4,3,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===(null==e||null==e.term_1?null:e.term_1.length)&&!a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_1)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_1?null:e.term_1.length)>1||a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_1))}}function Ms(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,Zr,3,0,"ng-container",5),t.\u0275\u0275template(2,Ts,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_1?null:e.term_1.length)<1||a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.term_1?null:e.term_1.length)}}function Ss(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",170)(3,"mat-icon",200),t.\u0275\u0275text(4," numeric-2-box "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"span",191),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Term 2")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,4,"September")))}function Os(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Ps(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",169),t.\u0275\u0275text(1,"X"),t.\u0275\u0275elementEnd())}function ws(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ps,2,0,"div",189),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function Ds(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Es(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ds,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function Is(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function ks(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Is,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(e||null!=e&&e.term_amount))}}function Fs(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function Bs(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",198),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275template(3,Fs,3,3,"mat-icon",173),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_pay_amount&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount)?null!=e&&e.term_pay_amount?a.formatCurrency(null==e?null:e.term_pay_amount):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_pay_amount,"EURO","","0.2"):""," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e?null:e.term_pay_amount)&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount))}}function As(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function Ns(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,As,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending))}}function Rs(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function Vs(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Rs,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0||(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function Ls(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function Us(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Ls,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function zs(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function $s(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",199),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Refused")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ct,a.changedPlan(e)&&(null==e||null==e.term_payment_deferment?null:e.term_payment_deferment.date)&&"not_billed"===(null==e?null:e.term_status)))}}function Hs(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",185),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_pending?a.formatCurrency(null==e?null:e.term_amount_pending):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_pending,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Pending"))}}function js(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",186),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_chargeback?a.formatCurrency(null==e?null:e.term_amount_chargeback):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_chargeback,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"chargeback"))}}function Ws(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",180),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_not_authorised?a.formatCurrency(null==e?null:e.term_amount_not_authorised):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_not_authorised,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Refused"))}}function Ys(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",195),t.\u0275\u0275template(2,Bs,4,7,"span",196),t.\u0275\u0275template(3,Ns,3,2,"span",5),t.\u0275\u0275template(4,Vs,3,2,"span",5),t.\u0275\u0275template(5,Us,3,2,"span",5),t.\u0275\u0275template(6,zs,3,3,"mat-icon",173),t.\u0275\u0275template(7,$s,3,6,"mat-icon",197),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",195),t.\u0275\u0275template(9,Hs,6,9,"span",5),t.\u0275\u0275template(10,js,6,9,"span",5),t.\u0275\u0275template(11,Ws,6,9,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","partially_paid"===(null==e?null:e.term_status)&&(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_partial)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"!==(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"===(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_term_paid)&&!(null!=e&&e.is_partial)&&"paid"===(null==e?null:e.term_status)&&!(null!=e&&e.term_amount_chargeback)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!(null!=e&&e.is_term_paid)&&(null==e?null:e.term_amount)||a.checkPartiallyTerms(e))&&"not_billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount_not_authorised)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_pending),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_chargeback),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_not_authorised)}}function Gs(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0,194),t.\u0275\u0275template(1,Es,2,1,"ng-container",5),t.\u0275\u0275template(2,ks,2,1,"ng-container",5),t.\u0275\u0275template(3,Ys,12,9,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e)}}function qs(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ws,2,1,"ng-container",5),t.\u0275\u0275template(2,Gs,4,4,"ng-container",193),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Ks(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,qs,3,2,"ng-container",192),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.term_2)}}function Qs(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",187),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.viewTermDetail(null==i?null:i.term_2,"September"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",188),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"View term")))}function Xs(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ks,2,1,"ng-container",5),t.\u0275\u0275template(2,Qs,4,3,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===(null==e||null==e.term_2?null:e.term_2.length)&&!a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_2)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_2?null:e.term_2.length)>1||a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_2))}}function Zs(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,Os,3,0,"ng-container",5),t.\u0275\u0275template(2,Xs,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_2?null:e.term_2.length)<1||a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.term_2?null:e.term_2.length)}}function Js(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",170)(3,"mat-icon",201),t.\u0275\u0275text(4," numeric-3-box "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"span",191),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Term 3")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,4,"October")))}function tc(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function ec(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",169),t.\u0275\u0275text(1,"X"),t.\u0275\u0275elementEnd())}function nc(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ec,2,0,"div",189),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function ac(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function ic(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ac,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function oc(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function lc(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,oc,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(e||null!=e&&e.term_amount))}}function rc(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function sc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",198),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275template(3,rc,3,3,"mat-icon",173),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_pay_amount&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount)?null!=e&&e.term_pay_amount?a.formatCurrency(null==e?null:e.term_pay_amount):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_pay_amount,"EURO","","0.2"):""," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e?null:e.term_pay_amount)&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount))}}function cc(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function dc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,cc,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending))}}function pc(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function mc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,pc,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0||(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function _c(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function uc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,_c,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function gc(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function hc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",199),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Refused")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ct,a.changedPlan(e)&&(null==e||null==e.term_payment_deferment?null:e.term_payment_deferment.date)&&"not_billed"===(null==e?null:e.term_status)))}}function fc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",185),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_pending?a.formatCurrency(null==e?null:e.term_amount_pending):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_pending,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Pending"))}}function bc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",186),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_chargeback?a.formatCurrency(null==e?null:e.term_amount_chargeback):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_chargeback,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"chargeback"))}}function Cc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",180),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_not_authorised?a.formatCurrency(null==e?null:e.term_amount_not_authorised):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_not_authorised,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Refused"))}}function xc(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",195),t.\u0275\u0275template(2,sc,4,7,"span",196),t.\u0275\u0275template(3,dc,3,2,"span",5),t.\u0275\u0275template(4,mc,3,2,"span",5),t.\u0275\u0275template(5,uc,3,2,"span",5),t.\u0275\u0275template(6,gc,3,3,"mat-icon",173),t.\u0275\u0275template(7,hc,3,6,"mat-icon",197),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",195),t.\u0275\u0275template(9,fc,6,9,"span",5),t.\u0275\u0275template(10,bc,6,9,"span",5),t.\u0275\u0275template(11,Cc,6,9,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","partially_paid"===(null==e?null:e.term_status)&&(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_partial)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"!==(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"===(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_term_paid)&&!(null!=e&&e.is_partial)&&"paid"===(null==e?null:e.term_status)&&!(null!=e&&e.term_amount_chargeback)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!(null!=e&&e.is_term_paid)&&(null==e?null:e.term_amount)||a.checkPartiallyTerms(e))&&"not_billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount_not_authorised)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_pending),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_chargeback),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_not_authorised)}}function yc(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0,194),t.\u0275\u0275template(1,ic,2,1,"ng-container",5),t.\u0275\u0275template(2,lc,2,1,"ng-container",5),t.\u0275\u0275template(3,xc,12,9,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e)}}function vc(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,nc,2,1,"ng-container",5),t.\u0275\u0275template(2,yc,4,4,"ng-container",193),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Tc(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,vc,3,2,"ng-container",192),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.term_3)}}function Mc(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",187),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.viewTermDetail(null==i?null:i.term_3,"October"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",188),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"View term")))}function Sc(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Tc,2,1,"ng-container",5),t.\u0275\u0275template(2,Mc,4,3,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===(null==e||null==e.term_3?null:e.term_3.length)&&!a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_3)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_3?null:e.term_3.length)>1||a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_3))}}function Oc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,tc,3,0,"ng-container",5),t.\u0275\u0275template(2,Sc,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_3?null:e.term_3.length)<1||a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.term_3?null:e.term_3.length)}}function Pc(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",170)(3,"mat-icon",202),t.\u0275\u0275text(4," numeric-4-box "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"span",191),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Term 4")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,4,"November")))}function wc(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Dc(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",169),t.\u0275\u0275text(1,"X"),t.\u0275\u0275elementEnd())}function Ec(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Dc,2,0,"div",189),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function Ic(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function kc(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ic,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function Fc(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Bc(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Fc,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(e||null!=e&&e.term_amount))}}function Ac(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function Nc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",198),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275template(3,Ac,3,3,"mat-icon",173),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_pay_amount&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount)?null!=e&&e.term_pay_amount?a.formatCurrency(null==e?null:e.term_pay_amount):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_pay_amount,"EURO","","0.2"):""," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e?null:e.term_pay_amount)&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount))}}function Rc(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function Vc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Rc,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending))}}function Lc(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function Uc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Lc,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0||(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function zc(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function $c(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,zc,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function Hc(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function jc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",199),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Refused")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ct,a.changedPlan(e)&&(null==e||null==e.term_payment_deferment?null:e.term_payment_deferment.date)&&"not_billed"===(null==e?null:e.term_status)))}}function Wc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",185),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_pending?a.formatCurrency(null==e?null:e.term_amount_pending):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_pending,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Pending"))}}function Yc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",186),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_chargeback?a.formatCurrency(null==e?null:e.term_amount_chargeback):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_chargeback,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"chargeback"))}}function Gc(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",180),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_not_authorised?a.formatCurrency(null==e?null:e.term_amount_not_authorised):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_not_authorised,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Refused"))}}function qc(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",195),t.\u0275\u0275template(2,Nc,4,7,"span",196),t.\u0275\u0275template(3,Vc,3,2,"span",5),t.\u0275\u0275template(4,Uc,3,2,"span",5),t.\u0275\u0275template(5,$c,3,2,"span",5),t.\u0275\u0275template(6,Hc,3,3,"mat-icon",173),t.\u0275\u0275template(7,jc,3,6,"mat-icon",197),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",195),t.\u0275\u0275template(9,Wc,6,9,"span",5),t.\u0275\u0275template(10,Yc,6,9,"span",5),t.\u0275\u0275template(11,Gc,6,9,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","partially_paid"===(null==e?null:e.term_status)&&(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_partial)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"!==(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"===(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_term_paid)&&!(null!=e&&e.is_partial)&&"paid"===(null==e?null:e.term_status)&&!(null!=e&&e.term_amount_chargeback)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!(null!=e&&e.is_term_paid)&&(null==e?null:e.term_amount)||a.checkPartiallyTerms(e))&&"not_billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount_not_authorised)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_pending),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_chargeback),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_not_authorised)}}function Kc(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0,194),t.\u0275\u0275template(1,kc,2,1,"ng-container",5),t.\u0275\u0275template(2,Bc,2,1,"ng-container",5),t.\u0275\u0275template(3,qc,12,9,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e)}}function Qc(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ec,2,1,"ng-container",5),t.\u0275\u0275template(2,Kc,4,4,"ng-container",193),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Xc(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Qc,3,2,"ng-container",192),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.term_4)}}function Zc(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",187),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.viewTermDetail(null==i?null:i.term_4,"November"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",188),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"View term")))}function Jc(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Xc,2,1,"ng-container",5),t.\u0275\u0275template(2,Zc,4,3,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===(null==e||null==e.term_4?null:e.term_4.length)&&!a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_4)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_4?null:e.term_4.length)>1||a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_4))}}function td(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,wc,3,0,"ng-container",5),t.\u0275\u0275template(2,Jc,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_4?null:e.term_4.length)<1||a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.term_4?null:e.term_4.length)}}function ed(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",170)(3,"mat-icon",203),t.\u0275\u0275text(4," numeric-5-box "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"span",191),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Term 5")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,4,"December")))}function nd(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function ad(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",169),t.\u0275\u0275text(1,"X"),t.\u0275\u0275elementEnd())}function id(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ad,2,0,"div",189),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function od(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function ld(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,od,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function rd(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function sd(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,rd,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(e||null!=e&&e.term_amount))}}function cd(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function dd(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",198),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275template(3,cd,3,3,"mat-icon",173),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_pay_amount&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount)?null!=e&&e.term_pay_amount?a.formatCurrency(null==e?null:e.term_pay_amount):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_pay_amount,"EURO","","0.2"):""," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e?null:e.term_pay_amount)&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount))}}function pd(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function md(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,pd,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending))}}function _d(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function ud(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,_d,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0||(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function gd(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function hd(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,gd,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function fd(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function bd(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",199),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Refused")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ct,a.changedPlan(e)&&(null==e||null==e.term_payment_deferment?null:e.term_payment_deferment.date)&&"not_billed"===(null==e?null:e.term_status)))}}function Cd(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",185),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_pending?a.formatCurrency(null==e?null:e.term_amount_pending):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_pending,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Pending"))}}function xd(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",186),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_chargeback?a.formatCurrency(null==e?null:e.term_amount_chargeback):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_chargeback,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"chargeback"))}}function yd(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",180),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_not_authorised?a.formatCurrency(null==e?null:e.term_amount_not_authorised):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_not_authorised,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Refused"))}}function vd(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",195),t.\u0275\u0275template(2,dd,4,7,"span",196),t.\u0275\u0275template(3,md,3,2,"span",5),t.\u0275\u0275template(4,ud,3,2,"span",5),t.\u0275\u0275template(5,hd,3,2,"span",5),t.\u0275\u0275template(6,fd,3,3,"mat-icon",173),t.\u0275\u0275template(7,bd,3,6,"mat-icon",197),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",195),t.\u0275\u0275template(9,Cd,6,9,"span",5),t.\u0275\u0275template(10,xd,6,9,"span",5),t.\u0275\u0275template(11,yd,6,9,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","partially_paid"===(null==e?null:e.term_status)&&(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_partial)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"!==(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"===(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_term_paid)&&!(null!=e&&e.is_partial)&&"paid"===(null==e?null:e.term_status)&&!(null!=e&&e.term_amount_chargeback)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!(null!=e&&e.is_term_paid)&&(null==e?null:e.term_amount)||a.checkPartiallyTerms(e))&&"not_billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount_not_authorised)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_pending),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_chargeback),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_not_authorised)}}function Td(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0,194),t.\u0275\u0275template(1,ld,2,1,"ng-container",5),t.\u0275\u0275template(2,sd,2,1,"ng-container",5),t.\u0275\u0275template(3,vd,12,9,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e)}}function Md(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,id,2,1,"ng-container",5),t.\u0275\u0275template(2,Td,4,4,"ng-container",193),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Sd(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Md,3,2,"ng-container",192),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.term_5)}}function Od(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",187),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.viewTermDetail(null==i?null:i.term_5,"December"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",188),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"View term")))}function Pd(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Sd,2,1,"ng-container",5),t.\u0275\u0275template(2,Od,4,3,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===(null==e||null==e.term_5?null:e.term_5.length)&&!a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_5)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_5?null:e.term_5.length)>1||a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_5))}}function wd(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,nd,3,0,"ng-container",5),t.\u0275\u0275template(2,Pd,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_5?null:e.term_5.length)<1||a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.term_5?null:e.term_5.length)}}function Dd(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",170)(3,"mat-icon",204),t.\u0275\u0275text(4," numeric-6-box "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"span",191),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Term 6")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,4,"January")))}function Ed(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Id(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",169),t.\u0275\u0275text(1,"X"),t.\u0275\u0275elementEnd())}function kd(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Id,2,0,"div",189),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function Fd(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Bd(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Fd,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function Ad(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Nd(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ad,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(e||null!=e&&e.term_amount))}}function Rd(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function Vd(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",198),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275template(3,Rd,3,3,"mat-icon",173),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_pay_amount&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount)?null!=e&&e.term_pay_amount?a.formatCurrency(null==e?null:e.term_pay_amount):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_pay_amount,"EURO","","0.2"):""," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e?null:e.term_pay_amount)&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount))}}function Ld(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function Ud(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Ld,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending))}}function zd(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function $d(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,zd,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0||(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function Hd(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function jd(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Hd,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function Wd(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function Yd(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",199),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Refused")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ct,a.changedPlan(e)&&(null==e||null==e.term_payment_deferment?null:e.term_payment_deferment.date)&&"not_billed"===(null==e?null:e.term_status)))}}function Gd(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",185),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_pending?a.formatCurrency(null==e?null:e.term_amount_pending):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_pending,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Pending"))}}function qd(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",186),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_chargeback?a.formatCurrency(null==e?null:e.term_amount_chargeback):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_chargeback,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"chargeback"))}}function Kd(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",180),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_not_authorised?a.formatCurrency(null==e?null:e.term_amount_not_authorised):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_not_authorised,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Refused"))}}function Qd(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",195),t.\u0275\u0275template(2,Vd,4,7,"span",196),t.\u0275\u0275template(3,Ud,3,2,"span",5),t.\u0275\u0275template(4,$d,3,2,"span",5),t.\u0275\u0275template(5,jd,3,2,"span",5),t.\u0275\u0275template(6,Wd,3,3,"mat-icon",173),t.\u0275\u0275template(7,Yd,3,6,"mat-icon",197),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",195),t.\u0275\u0275template(9,Gd,6,9,"span",5),t.\u0275\u0275template(10,qd,6,9,"span",5),t.\u0275\u0275template(11,Kd,6,9,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","partially_paid"===(null==e?null:e.term_status)&&(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_partial)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"!==(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"===(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_term_paid)&&!(null!=e&&e.is_partial)&&"paid"===(null==e?null:e.term_status)&&!(null!=e&&e.term_amount_chargeback)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!(null!=e&&e.is_term_paid)&&(null==e?null:e.term_amount)||a.checkPartiallyTerms(e))&&"not_billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount_not_authorised)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_pending),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_chargeback),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_not_authorised)}}function Xd(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0,194),t.\u0275\u0275template(1,Bd,2,1,"ng-container",5),t.\u0275\u0275template(2,Nd,2,1,"ng-container",5),t.\u0275\u0275template(3,Qd,12,9,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e)}}function Zd(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,kd,2,1,"ng-container",5),t.\u0275\u0275template(2,Xd,4,4,"ng-container",193),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Jd(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Zd,3,2,"ng-container",192),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.term_6)}}function tp(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",187),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.viewTermDetail(null==i?null:i.term_6,"January"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",188),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"View term")))}function ep(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Jd,2,1,"ng-container",5),t.\u0275\u0275template(2,tp,4,3,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===(null==e||null==e.term_6?null:e.term_6.length)&&!a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_6)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_6?null:e.term_6.length)>1||a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_6))}}function np(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,Ed,3,0,"ng-container",5),t.\u0275\u0275template(2,ep,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_6?null:e.term_6.length)<1||a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.term_6?null:e.term_6.length)}}function ap(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",170)(3,"mat-icon",205),t.\u0275\u0275text(4," numeric-7-box "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"span",191),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Term 7")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,4,"February")))}function ip(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function op(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",169),t.\u0275\u0275text(1,"X"),t.\u0275\u0275elementEnd())}function lp(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,op,2,0,"div",189),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function rp(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function sp(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,rp,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function cp(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function dp(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,cp,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(e||null!=e&&e.term_amount))}}function pp(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function mp(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",198),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275template(3,pp,3,3,"mat-icon",173),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_pay_amount&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount)?null!=e&&e.term_pay_amount?a.formatCurrency(null==e?null:e.term_pay_amount):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_pay_amount,"EURO","","0.2"):""," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e?null:e.term_pay_amount)&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount))}}function _p(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function up(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,_p,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending))}}function gp(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function hp(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,gp,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0||(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function fp(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function bp(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,fp,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function Cp(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function xp(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",199),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Refused")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ct,a.changedPlan(e)&&(null==e||null==e.term_payment_deferment?null:e.term_payment_deferment.date)&&"not_billed"===(null==e?null:e.term_status)))}}function yp(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",185),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_pending?a.formatCurrency(null==e?null:e.term_amount_pending):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_pending,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Pending"))}}function vp(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",186),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_chargeback?a.formatCurrency(null==e?null:e.term_amount_chargeback):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_chargeback,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"chargeback"))}}function Tp(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",180),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_not_authorised?a.formatCurrency(null==e?null:e.term_amount_not_authorised):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_not_authorised,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Refused"))}}function Mp(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",195),t.\u0275\u0275template(2,mp,4,7,"span",196),t.\u0275\u0275template(3,up,3,2,"span",5),t.\u0275\u0275template(4,hp,3,2,"span",5),t.\u0275\u0275template(5,bp,3,2,"span",5),t.\u0275\u0275template(6,Cp,3,3,"mat-icon",173),t.\u0275\u0275template(7,xp,3,6,"mat-icon",197),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",195),t.\u0275\u0275template(9,yp,6,9,"span",5),t.\u0275\u0275template(10,vp,6,9,"span",5),t.\u0275\u0275template(11,Tp,6,9,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","partially_paid"===(null==e?null:e.term_status)&&(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_partial)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"!==(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"===(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_term_paid)&&!(null!=e&&e.is_partial)&&"paid"===(null==e?null:e.term_status)&&!(null!=e&&e.term_amount_chargeback)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!(null!=e&&e.is_term_paid)&&(null==e?null:e.term_amount)||a.checkPartiallyTerms(e))&&"not_billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount_not_authorised)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_pending),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_chargeback),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_not_authorised)}}function Sp(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0,194),t.\u0275\u0275template(1,sp,2,1,"ng-container",5),t.\u0275\u0275template(2,dp,2,1,"ng-container",5),t.\u0275\u0275template(3,Mp,12,9,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e)}}function Op(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,lp,2,1,"ng-container",5),t.\u0275\u0275template(2,Sp,4,4,"ng-container",193),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Pp(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Op,3,2,"ng-container",192),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.term_7)}}function wp(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",187),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.viewTermDetail(null==i?null:i.term_7,"February"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",188),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"View term")))}function Dp(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Pp,2,1,"ng-container",5),t.\u0275\u0275template(2,wp,4,3,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===(null==e||null==e.term_7?null:e.term_7.length)&&!a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_7)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_7?null:e.term_7.length)>1||a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_7))}}function Ep(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,ip,3,0,"ng-container",5),t.\u0275\u0275template(2,Dp,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_7?null:e.term_7.length)<1||a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.term_7?null:e.term_7.length)}}function Ip(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",170)(3,"mat-icon",206),t.\u0275\u0275text(4," numeric-8-box "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"span",191),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Term 8")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,4,"March")))}function kp(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Fp(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",169),t.\u0275\u0275text(1,"X"),t.\u0275\u0275elementEnd())}function Bp(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Fp,2,0,"div",189),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function Ap(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Np(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ap,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function Rp(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Vp(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Rp,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(e||null!=e&&e.term_amount))}}function Lp(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function Up(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",198),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275template(3,Lp,3,3,"mat-icon",173),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_pay_amount&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount)?null!=e&&e.term_pay_amount?a.formatCurrency(null==e?null:e.term_pay_amount):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_pay_amount,"EURO","","0.2"):""," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e?null:e.term_pay_amount)&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount))}}function zp(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function $p(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,zp,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending))}}function Hp(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function jp(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Hp,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0||(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function Wp(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function Yp(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Wp,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function Gp(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function qp(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",199),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Refused")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ct,a.changedPlan(e)&&(null==e||null==e.term_payment_deferment?null:e.term_payment_deferment.date)&&"not_billed"===(null==e?null:e.term_status)))}}function Kp(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",185),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_pending?a.formatCurrency(null==e?null:e.term_amount_pending):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_pending,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Pending"))}}function Qp(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",186),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_chargeback?a.formatCurrency(null==e?null:e.term_amount_chargeback):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_chargeback,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"chargeback"))}}function Xp(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",180),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_not_authorised?a.formatCurrency(null==e?null:e.term_amount_not_authorised):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_not_authorised,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Refused"))}}function Zp(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",195),t.\u0275\u0275template(2,Up,4,7,"span",196),t.\u0275\u0275template(3,$p,3,2,"span",5),t.\u0275\u0275template(4,jp,3,2,"span",5),t.\u0275\u0275template(5,Yp,3,2,"span",5),t.\u0275\u0275template(6,Gp,3,3,"mat-icon",173),t.\u0275\u0275template(7,qp,3,6,"mat-icon",197),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",195),t.\u0275\u0275template(9,Kp,6,9,"span",5),t.\u0275\u0275template(10,Qp,6,9,"span",5),t.\u0275\u0275template(11,Xp,6,9,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","partially_paid"===(null==e?null:e.term_status)&&(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_partial)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"!==(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"===(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_term_paid)&&!(null!=e&&e.is_partial)&&"paid"===(null==e?null:e.term_status)&&!(null!=e&&e.term_amount_chargeback)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!(null!=e&&e.is_term_paid)&&(null==e?null:e.term_amount)||a.checkPartiallyTerms(e))&&"not_billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount_not_authorised)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_pending),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_chargeback),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_not_authorised)}}function Jp(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0,194),t.\u0275\u0275template(1,Np,2,1,"ng-container",5),t.\u0275\u0275template(2,Vp,2,1,"ng-container",5),t.\u0275\u0275template(3,Zp,12,9,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e)}}function tm(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Bp,2,1,"ng-container",5),t.\u0275\u0275template(2,Jp,4,4,"ng-container",193),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function em(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,tm,3,2,"ng-container",192),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.term_8)}}function nm(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",187),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.viewTermDetail(null==i?null:i.term_8,"March"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",188),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"View term")))}function am(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,em,2,1,"ng-container",5),t.\u0275\u0275template(2,nm,4,3,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===(null==e||null==e.term_8?null:e.term_8.length)&&!a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_8)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_8?null:e.term_8.length)>1||a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_8))}}function im(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,kp,3,0,"ng-container",5),t.\u0275\u0275template(2,am,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_8?null:e.term_8.length)<1||a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.term_8?null:e.term_8.length)}}function om(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",170)(3,"mat-icon",207),t.\u0275\u0275text(4," numeric-9-box "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"span",191),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Term 9")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,4,"April")))}function lm(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function rm(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",169),t.\u0275\u0275text(1,"X"),t.\u0275\u0275elementEnd())}function sm(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,rm,2,0,"div",189),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function cm(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function dm(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,cm,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function pm(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function mm(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,pm,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(e||null!=e&&e.term_amount))}}function _m(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function um(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",198),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275template(3,_m,3,3,"mat-icon",173),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_pay_amount&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount)?null!=e&&e.term_pay_amount?a.formatCurrency(null==e?null:e.term_pay_amount):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_pay_amount,"EURO","","0.2"):""," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e?null:e.term_pay_amount)&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount))}}function gm(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function hm(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,gm,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending))}}function fm(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function bm(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,fm,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0||(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function Cm(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function xm(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Cm,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function ym(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function vm(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",199),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Refused")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ct,a.changedPlan(e)&&(null==e||null==e.term_payment_deferment?null:e.term_payment_deferment.date)&&"not_billed"===(null==e?null:e.term_status)))}}function Tm(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",185),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_pending?a.formatCurrency(null==e?null:e.term_amount_pending):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_pending,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Pending"))}}function Mm(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",186),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_chargeback?a.formatCurrency(null==e?null:e.term_amount_chargeback):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_chargeback,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"chargeback"))}}function Sm(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",180),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_not_authorised?a.formatCurrency(null==e?null:e.term_amount_not_authorised):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_not_authorised,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Refused"))}}function Om(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",195),t.\u0275\u0275template(2,um,4,7,"span",196),t.\u0275\u0275template(3,hm,3,2,"span",5),t.\u0275\u0275template(4,bm,3,2,"span",5),t.\u0275\u0275template(5,xm,3,2,"span",5),t.\u0275\u0275template(6,ym,3,3,"mat-icon",173),t.\u0275\u0275template(7,vm,3,6,"mat-icon",197),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",195),t.\u0275\u0275template(9,Tm,6,9,"span",5),t.\u0275\u0275template(10,Mm,6,9,"span",5),t.\u0275\u0275template(11,Sm,6,9,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","partially_paid"===(null==e?null:e.term_status)&&(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_partial)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"!==(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"===(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_term_paid)&&!(null!=e&&e.is_partial)&&"paid"===(null==e?null:e.term_status)&&!(null!=e&&e.term_amount_chargeback)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!(null!=e&&e.is_term_paid)&&(null==e?null:e.term_amount)||a.checkPartiallyTerms(e))&&"not_billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount_not_authorised)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_pending),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_chargeback),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_not_authorised)}}function Pm(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0,194),t.\u0275\u0275template(1,dm,2,1,"ng-container",5),t.\u0275\u0275template(2,mm,2,1,"ng-container",5),t.\u0275\u0275template(3,Om,12,9,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e)}}function wm(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,sm,2,1,"ng-container",5),t.\u0275\u0275template(2,Pm,4,4,"ng-container",193),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function Dm(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,wm,3,2,"ng-container",192),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.term_9)}}function Em(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",187),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.viewTermDetail(null==i?null:i.term_9,"April"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",188),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"View term")))}function Im(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Dm,2,1,"ng-container",5),t.\u0275\u0275template(2,Em,4,3,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===(null==e||null==e.term_9?null:e.term_9.length)&&!a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_9)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_9?null:e.term_9.length)>1||a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_9))}}function km(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,lm,3,0,"ng-container",5),t.\u0275\u0275template(2,Im,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_9?null:e.term_9.length)<1||a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.term_9?null:e.term_9.length)}}function Fm(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",170)(3,"mat-icon",208),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(4,"svg",209),t.\u0275\u0275element(5,"path",210),t.\u0275\u0275elementEnd()(),t.\u0275\u0275namespaceHTML(),t.\u0275\u0275elementStart(6,"span",211),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Term 10")),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,4,"May")))}function Bm(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Am(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",169),t.\u0275\u0275text(1,"X"),t.\u0275\u0275elementEnd())}function Nm(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Am,2,0,"div",189),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function Rm(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Vm(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Rm,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function Lm(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Um(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Lm,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(e||null!=e&&e.term_amount))}}function zm(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function $m(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",198),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275template(3,zm,3,3,"mat-icon",173),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_pay_amount&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount)?null!=e&&e.term_pay_amount?a.formatCurrency(null==e?null:e.term_pay_amount):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_pay_amount,"EURO","","0.2"):""," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e?null:e.term_pay_amount)&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount))}}function Hm(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function jm(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Hm,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending))}}function Wm(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function Ym(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Wm,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0||(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function Gm(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function qm(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Gm,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function Km(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function Qm(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",199),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Refused")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ct,a.changedPlan(e)&&(null==e||null==e.term_payment_deferment?null:e.term_payment_deferment.date)&&"not_billed"===(null==e?null:e.term_status)))}}function Xm(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",185),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_pending?a.formatCurrency(null==e?null:e.term_amount_pending):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_pending,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Pending"))}}function Zm(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",186),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_chargeback?a.formatCurrency(null==e?null:e.term_amount_chargeback):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_chargeback,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"chargeback"))}}function Jm(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",180),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_not_authorised?a.formatCurrency(null==e?null:e.term_amount_not_authorised):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_not_authorised,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Refused"))}}function t_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",195),t.\u0275\u0275template(2,$m,4,7,"span",196),t.\u0275\u0275template(3,jm,3,2,"span",5),t.\u0275\u0275template(4,Ym,3,2,"span",5),t.\u0275\u0275template(5,qm,3,2,"span",5),t.\u0275\u0275template(6,Km,3,3,"mat-icon",173),t.\u0275\u0275template(7,Qm,3,6,"mat-icon",197),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",195),t.\u0275\u0275template(9,Xm,6,9,"span",5),t.\u0275\u0275template(10,Zm,6,9,"span",5),t.\u0275\u0275template(11,Jm,6,9,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","partially_paid"===(null==e?null:e.term_status)&&(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_partial)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"!==(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"===(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_term_paid)&&!(null!=e&&e.is_partial)&&"paid"===(null==e?null:e.term_status)&&!(null!=e&&e.term_amount_chargeback)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!(null!=e&&e.is_term_paid)&&(null==e?null:e.term_amount)||a.checkPartiallyTerms(e))&&"not_billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount_not_authorised)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_pending),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_chargeback),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_not_authorised)}}function e_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0,194),t.\u0275\u0275template(1,Vm,2,1,"ng-container",5),t.\u0275\u0275template(2,Um,2,1,"ng-container",5),t.\u0275\u0275template(3,t_,12,9,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e)}}function n_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Nm,2,1,"ng-container",5),t.\u0275\u0275template(2,e_,4,4,"ng-container",193),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function a_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,n_,3,2,"ng-container",192),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.term_10)}}function i_(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",187),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.viewTermDetail(null==i?null:i.term_10,"May"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",188),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"View term")))}function o_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,a_,2,1,"ng-container",5),t.\u0275\u0275template(2,i_,4,3,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===(null==e||null==e.term_10?null:e.term_10.length)&&!a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_10)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_10?null:e.term_10.length)>1||a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_10))}}function l_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,Bm,3,0,"ng-container",5),t.\u0275\u0275template(2,o_,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_10?null:e.term_10.length)<1||a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.term_10?null:e.term_10.length)}}function r_(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",170)(3,"span",212),t.\u0275\u0275text(4,"11"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"span",191),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Term 11")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,4,"June")))}function s_(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function c_(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",169),t.\u0275\u0275text(1,"X"),t.\u0275\u0275elementEnd())}function d_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,c_,2,0,"div",189),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function p_(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function m_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,p_,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function __(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function u_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,__,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(e||null!=e&&e.term_amount))}}function g_(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function h_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",198),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275template(3,g_,3,3,"mat-icon",173),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_pay_amount&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount)?null!=e&&e.term_pay_amount?a.formatCurrency(null==e?null:e.term_pay_amount):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_pay_amount,"EURO","","0.2"):""," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e?null:e.term_pay_amount)&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount))}}function f_(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function b_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,f_,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending))}}function C_(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function x_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,C_,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0||(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function y_(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function v_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,y_,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function T_(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function M_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",199),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Refused")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ct,a.changedPlan(e)&&(null==e||null==e.term_payment_deferment?null:e.term_payment_deferment.date)&&"not_billed"===(null==e?null:e.term_status)))}}function S_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",185),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_pending?a.formatCurrency(null==e?null:e.term_amount_pending):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_pending,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Pending"))}}function O_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",186),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_chargeback?a.formatCurrency(null==e?null:e.term_amount_chargeback):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_chargeback,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"chargeback"))}}function P_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",180),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_not_authorised?a.formatCurrency(null==e?null:e.term_amount_not_authorised):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_not_authorised,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Refused"))}}function w_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",195),t.\u0275\u0275template(2,h_,4,7,"span",196),t.\u0275\u0275template(3,b_,3,2,"span",5),t.\u0275\u0275template(4,x_,3,2,"span",5),t.\u0275\u0275template(5,v_,3,2,"span",5),t.\u0275\u0275template(6,T_,3,3,"mat-icon",173),t.\u0275\u0275template(7,M_,3,6,"mat-icon",197),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",195),t.\u0275\u0275template(9,S_,6,9,"span",5),t.\u0275\u0275template(10,O_,6,9,"span",5),t.\u0275\u0275template(11,P_,6,9,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","partially_paid"===(null==e?null:e.term_status)&&(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_partial)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"!==(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"===(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_term_paid)&&!(null!=e&&e.is_partial)&&"paid"===(null==e?null:e.term_status)&&!(null!=e&&e.term_amount_chargeback)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!(null!=e&&e.is_term_paid)&&(null==e?null:e.term_amount)||a.checkPartiallyTerms(e))&&"not_billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount_not_authorised)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_pending),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_chargeback),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_not_authorised)}}function D_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0,194),t.\u0275\u0275template(1,m_,2,1,"ng-container",5),t.\u0275\u0275template(2,u_,2,1,"ng-container",5),t.\u0275\u0275template(3,w_,12,9,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e)}}function E_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,d_,2,1,"ng-container",5),t.\u0275\u0275template(2,D_,4,4,"ng-container",193),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function I_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,E_,3,2,"ng-container",192),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.term_11)}}function k_(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",187),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.viewTermDetail(null==i?null:i.term_11,"June"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",188),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"View term")))}function F_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,I_,2,1,"ng-container",5),t.\u0275\u0275template(2,k_,4,3,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===(null==e||null==e.term_11?null:e.term_11.length)&&!a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_11)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_11?null:e.term_11.length)>1||a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_11))}}function B_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,s_,3,0,"ng-container",5),t.\u0275\u0275template(2,F_,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_11?null:e.term_11.length)<1||a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.term_11?null:e.term_11.length)}}function A_(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",170)(3,"span",212),t.\u0275\u0275text(4,"12"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"span",191),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Term 12")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,4,"July")))}function N_(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function R_(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",169),t.\u0275\u0275text(1,"X"),t.\u0275\u0275elementEnd())}function V_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,R_,2,0,"div",189),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function L_(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function U_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,L_,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e||!(null!=e&&e.term_amount))}}function z_(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",169),t.\u0275\u0275text(2,"X"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function $_(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,z_,3,0,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(e||null!=e&&e.term_amount))}}function H_(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function j_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",198),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275template(3,H_,3,3,"mat-icon",173),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_pay_amount&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount)?null!=e&&e.term_pay_amount?a.formatCurrency(null==e?null:e.term_pay_amount):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_pay_amount,"EURO","","0.2"):""," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e?null:e.term_pay_amount)&&(null==e?null:e.term_pay_amount)!==(null==e?null:e.term_amount))}}function W_(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function Y_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,W_,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending))}}function G_(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function q_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,G_,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0||(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function K_(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",184),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Generated"))}function Q_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,K_,3,3,"mat-icon",181),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null!=e&&e.term_amount_chargeback?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):null!=e&&e.term_pay_amount?a.formatCurrency((null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)):""," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.term_amount)-(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)-(null==e?null:e.term_amount_not_authorised)-(null==e?null:e.term_amount_pending)>0)}}function X_(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Paid"))}function Z_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",199),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Refused")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ct,a.changedPlan(e)&&(null==e||null==e.term_payment_deferment?null:e.term_payment_deferment.date)&&"not_billed"===(null==e?null:e.term_status)))}}function J_(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",185),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_pending?a.formatCurrency(null==e?null:e.term_amount_pending):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_pending,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Pending"))}}function tu(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",186),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_chargeback?a.formatCurrency(null==e?null:e.term_amount_chargeback):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_chargeback,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"chargeback"))}}function eu(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"currency"),t.\u0275\u0275elementStart(3,"mat-icon",180),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.term_amount_not_authorised?a.formatCurrency(null==e?null:e.term_amount_not_authorised):t.\u0275\u0275pipeBind4(2,2,null==e?null:e.term_amount_not_authorised,"EURO","","0.2")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,7,"Refused"))}}function nu(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",195),t.\u0275\u0275template(2,j_,4,7,"span",196),t.\u0275\u0275template(3,Y_,3,2,"span",5),t.\u0275\u0275template(4,q_,3,2,"span",5),t.\u0275\u0275template(5,Q_,3,2,"span",5),t.\u0275\u0275template(6,X_,3,3,"mat-icon",173),t.\u0275\u0275template(7,Z_,3,6,"mat-icon",197),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",195),t.\u0275\u0275template(9,J_,6,9,"span",5),t.\u0275\u0275template(10,tu,6,9,"span",5),t.\u0275\u0275template(11,eu,6,9,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","partially_paid"===(null==e?null:e.term_status)&&(null==e?null:e.term_pay_amount)-(null==e?null:e.term_amount_chargeback)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_partial)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"!==(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_partial)&&"partially_paid"===(null==e?null:e.term_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_term_paid)&&!(null!=e&&e.is_partial)&&"paid"===(null==e?null:e.term_status)&&!(null!=e&&e.term_amount_chargeback)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(!(null!=e&&e.is_term_paid)&&(null==e?null:e.term_amount)||a.checkPartiallyTerms(e))&&"not_billed"===(null==e?null:e.term_status)&&(null==e?null:e.term_amount_not_authorised)&&(null==e?null:e.term_amount)>(null==e?null:e.term_amount_not_authorised)+(null==e?null:e.term_amount_chargeback)+(null==e?null:e.term_amount_pending)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_pending),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_chargeback),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.term_amount_not_authorised)}}function au(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0,194),t.\u0275\u0275template(1,U_,2,1,"ng-container",5),t.\u0275\u0275template(2,$_,2,1,"ng-container",5),t.\u0275\u0275template(3,nu,12,9,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"===(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","classic"!==(null==a||null==a.student_type?null:a.student_type.type_of_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e)}}function iu(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,V_,2,1,"ng-container",5),t.\u0275\u0275template(2,au,4,4,"ng-container",193),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.checkNoPayment(e))}}function ou(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,iu,3,2,"ng-container",192),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.term_12)}}function lu(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",187),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.viewTermDetail(null==i?null:i.term_12,"July"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",188),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"View term")))}function ru(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ou,2,1,"ng-container",5),t.\u0275\u0275template(2,lu,4,3,"ng-container",5),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===(null==e||null==e.term_12?null:e.term_12.length)&&!a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_12)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_12?null:e.term_12.length)>1||a.checkIfTermHaveChargebackAndHaveDifferentStatus(null==e?null:e.term_12))}}function su(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",168),t.\u0275\u0275template(1,N_,3,0,"ng-container",5),t.\u0275\u0275template(2,ru,3,2,"ng-container",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.term_12?null:e.term_12.length)<1||a.checkNoPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.term_12?null:e.term_12.length)}}function cu(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",213)(1,"div",214),t.\u0275\u0275element(2,"mat-spinner",215),t.\u0275\u0275elementEnd()())}function du(n,o){1&n&&t.\u0275\u0275element(0,"tr",216)}function pu(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",217),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.financeStatusLoading)}}function mu(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",218),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.financeStatusLoading)}}const ne=function(n){return{hide:n}};function _u(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",219),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ne,e.financeStatusLoading)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"NOT RECORD FOUND")," ")}}function uu(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"button",220),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-icon"),t.\u0275\u0275text(5,"expand_more"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(105);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,4,"Action")),t.\u0275\u0275property("disabled",e.isLoading||e.financeStatusLoading)("matMenuTriggerFor",a),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,6,"Action")," ")}}function gu(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",221),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.downloadInvoice())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Download_invoice")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Download_invoice")," "))}function hu(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"button",220),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-icon"),t.\u0275\u0275text(5,"expand_more"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(129);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,4,"Action")),t.\u0275\u0275property("disabled",e.isLoading||e.financeStatusLoading)("matMenuTriggerFor",a),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,6,"Action")," ")}}function fu(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",222),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.downloadInvoice())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Add billing")),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,5,"Download_invoice")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,7,"Download_invoice")," "))}function bu(n,o){1&n&&t.\u0275\u0275element(0,"th",223)}function Cu(n,o){1&n&&t.\u0275\u0275element(0,"th",224)}function xu(n,o){1&n&&t.\u0275\u0275element(0,"th",225)}function yu(n,o){1&n&&t.\u0275\u0275element(0,"th",226)}function vu(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",227)(1,"span",228),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,1,"student_balance.Balance"),":"))}function Tu(n,o){1&n&&t.\u0275\u0275element(0,"th",229)}function Mu(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",230),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("background-color",e.totalBalance?"red":"green"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.totalBalance?e.totalBalance:"0"," \u20ac ")}}function Su(n,o){1&n&&t.\u0275\u0275element(0,"th",231)}function Ou(n,o){1&n&&t.\u0275\u0275element(0,"th",232)}function Pu(n,o){1&n&&t.\u0275\u0275element(0,"th",233)}function wu(n,o){1&n&&t.\u0275\u0275element(0,"th",234)}function Du(n,o){1&n&&t.\u0275\u0275element(0,"th",235)}function Eu(n,o){1&n&&t.\u0275\u0275element(0,"th",236)}function Iu(n,o){1&n&&t.\u0275\u0275element(0,"th",237)}function ku(n,o){1&n&&t.\u0275\u0275element(0,"th",238)}function Fu(n,o){1&n&&t.\u0275\u0275element(0,"th",239)}function Bu(n,o){1&n&&t.\u0275\u0275element(0,"th",240)}function Au(n,o){1&n&&t.\u0275\u0275element(0,"th",241)}function Nu(n,o){1&n&&t.\u0275\u0275element(0,"th",242)}function Ru(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",243)(1,"span",228),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,1,"Total"),":"))}function Vu(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",244),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.formatCurrencyHistory(e.totalDebit)?e.formatCurrencyHistory(e.totalDebit):"0"," \u20ac ")}}function Lu(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",245),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.formatCurrencyHistory(e.totalCredit)?e.formatCurrencyHistory(e.totalCredit):"0"," \u20ac ")}}function Uu(n,o){1&n&&t.\u0275\u0275element(0,"th",246)}function zu(n,o){1&n&&t.\u0275\u0275element(0,"th",247)}function $u(n,o){1&n&&t.\u0275\u0275element(0,"th",248)}function Hu(n,o){1&n&&t.\u0275\u0275element(0,"th",249)}function ju(n,o){1&n&&t.\u0275\u0275element(0,"th",250)}function Wu(n,o){1&n&&t.\u0275\u0275element(0,"th",251)}function Yu(n,o){1&n&&t.\u0275\u0275element(0,"th",252)}function Gu(n,o){1&n&&t.\u0275\u0275element(0,"th",253)}function qu(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",254),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Date")," "))}function Ku(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",255)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",a.translateDate(null==e||null==e.date_action?null:e.date_action.date,null==e||null==e.date_action?null:e.date_action.time)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.translateDate(null==e||null==e.date_action?null:e.date_action.date,null==e||null==e.date_action?null:e.date_action.time))}}function Qu(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",256),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Operation name")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Operation name")," "))}function Xu(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",194),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate2("matTooltip","",t.\u0275\u0275pipeBind1(1,4,"OPERATION_NAME."+(null==e?null:e.operation_name))," ",a.parseTermIndexToNumber(null==e?null:e.term_index),""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,6,"OPERATION_NAME."+(null==e?null:e.operation_name))," ",a.parseTermIndexToNumber(null==e?null:e.term_index)," ")}}function Zu(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,"OPERATION_NAME."+(null==e?null:e.operation_name))," ",a.parseTermIndexToNumber(null==e?null:e.term_index)," ")}}function Ju(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",194),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate2("matTooltip","",t.\u0275\u0275pipeBind1(1,4,"OPERATION_NAME."+(null==e?null:e.operation_name))," ",a.parseTermIndexToNumber(null==e?null:e.term_index),""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,6,"OPERATION_NAME."+(null==e?null:e.operation_name))," ",a.parseTermIndexToNumber(null==e?null:e.term_index)," ")}}function tg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",194),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate2("matTooltip","",t.\u0275\u0275pipeBind1(1,4,"OPERATION_NAME.Cancel payment of term")," ",a.parseTermIndexToNumber(null==e?null:e.term_index),""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,6,"OPERATION_NAME.Cancel payment of term")," ",a.parseTermIndexToNumber(null==e?null:e.term_index)," ")}}function eg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",194),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,"OPERATION_NAME.payment_of_term")," ",a.parseTermIndexToNumber(null==e?null:e.term_index)," - ",t.\u0275\u0275pipeBind1(2,8,"Regulation"),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,"OPERATION_NAME.payment_of_term")," ",a.parseTermIndexToNumber(null==e?null:e.term_index)," - ",t.\u0275\u0275pipeBind1(5,12,"Regulation")," ")}}function ng(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",194),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",a.displayOperationName(null==e?null:e.operation_name)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.displayOperationName(null==e?null:e.operation_name)," ")}}function ag(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",257),t.\u0275\u0275template(1,Xu,4,8,"span",193),t.\u0275\u0275template(2,Zu,3,4,"span",5),t.\u0275\u0275template(3,Ju,4,8,"span",193),t.\u0275\u0275template(4,tg,4,8,"span",193),t.\u0275\u0275template(5,eg,6,14,"span",193),t.\u0275\u0275template(6,ng,2,2,"span",193),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","payment_of_term"===(null==e?null:e.operation_name)&&"cancel"!==(null==e?null:e.nature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!("Avoir"!==(null==e?null:e.nature)&&"avoir"!==(null==e?null:e.nature)||"avoir_of_term"!==(null==e?null:e.operation_name)||null!=e&&e.is_manual_action)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",("chargeback_of_term"===(null==e?null:e.operation_name)||"billing_of_term"===(null==e?null:e.operation_name))&&"cancel"!==(null==e?null:e.nature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","chargeback_of_term"!==(null==e?null:e.operation_name)&&"cancel"===(null==e?null:e.nature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","regulation_payment"===(null==e?null:e.operation_name)&&"cancel"!==(null==e?null:e.nature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","payment_of_term"!==(null==e?null:e.operation_name)&&"chargeback_of_term"!==(null==e?null:e.operation_name)&&"billing_of_term"!==(null==e?null:e.operation_name)&&"avoir_of_term"!==(null==e?null:e.operation_name)&&"regulation_payment"!==(null==e?null:e.operation_name)&&"cancel"!==(null==e?null:e.nature))}}function ig(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",258),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Payer")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Payer")," "))}function og(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",260),t.\u0275\u0275text(2,"-"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function lg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",167),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"uppercase"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",(null==e||null==e.candidate_id?null:e.candidate_id.first_name)+" "+t.\u0275\u0275pipeBind1(1,2,null==e||null==e.candidate_id?null:e.candidate_id.last_name)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",(null==e||null==e.candidate_id?null:e.candidate_id.first_name)+" "+t.\u0275\u0275pipeBind1(3,4,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ")}}function rg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",167),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"uppercase"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",(null==e||null==e.billing_id||null==e.billing_id.financial_support_info?null:e.billing_id.financial_support_info.name)+" "+t.\u0275\u0275pipeBind1(1,2,null==e||null==e.billing_id||null==e.billing_id.financial_support_info?null:e.billing_id.financial_support_info.family_name)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",(null==e||null==e.billing_id||null==e.billing_id.financial_support_info?null:e.billing_id.financial_support_info.name)+" "+t.\u0275\u0275pipeBind1(3,4,null==e||null==e.billing_id||null==e.billing_id.financial_support_info?null:e.billing_id.financial_support_info.family_name)," ")}}function sg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",167),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e||null==e.finance_organization_id||null==e.finance_organization_id.company_branch_id?null:e.finance_organization_id.company_branch_id.company_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.finance_organization_id||null==e.finance_organization_id.company_branch_id?null:e.finance_organization_id.company_branch_id.company_name," ")}}function cg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",167),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("matTooltip",null==e||null==e.finance_organization_id||null==e.finance_organization_id.organization_id?null:e.finance_organization_id.organization_id.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.finance_organization_id||null==e.finance_organization_id.organization_id?null:e.finance_organization_id.organization_id.name," ")}}function dg(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,lg,4,6,"span",166),t.\u0275\u0275template(2,rg,4,6,"span",166),t.\u0275\u0275template(3,sg,2,2,"span",166),t.\u0275\u0275template(4,cg,2,2,"span",166),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&null!=e.billing_id&&e.billing_id.is_financial_support||null!=e&&e.finance_organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.billing_id?null:e.billing_id.is_financial_support)&&!(null!=e&&e.finance_organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",((null==e||null==e.billing_id?null:e.billing_id.is_financial_support)||!(null!=e&&null!=e.billing_id&&e.billing_id.is_financial_support))&&(null==e||null==e.finance_organization_id?null:e.finance_organization_id.company_branch_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.finance_organization_id?null:e.finance_organization_id.organization_id)}}function pg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",259),t.\u0275\u0275elementContainerStart(1),t.\u0275\u0275template(2,og,3,0,"ng-container",5),t.\u0275\u0275template(3,dg,5,4,"ng-container",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","scholarship_fee"===(null==e?null:e.operation_name)||"additional_cost"===(null==e?null:e.operation_name)||"modality_fee"===(null==e?null:e.operation_name)||"cash_transfer"===(null==e?null:e.operation_name)||"avoir_scholarship_fee"===(null==e?null:e.operation_name)||"avoir_additional_cost"===(null==e?null:e.operation_name)||"avoir_modality_fee"===(null==e?null:e.operation_name)||"billing_manual"===(null==e?null:e.transaction_type)||"billing"===(null==e?null:e.flux)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","billing"!==(null==e?null:e.flux)&&"billing_manual"!==(null==e?null:e.transaction_type)&&"scholarship_fee"!==(null==e?null:e.operation_name)&&"additional_cost"!==(null==e?null:e.operation_name)&&"modality_fee"!==(null==e?null:e.operation_name)&&"avoir_scholarship_fee"!==(null==e?null:e.operation_name)&&"avoir_additional_cost"!==(null==e?null:e.operation_name)&&"avoir_modality_fee"!==(null==e?null:e.operation_name)&&"cash_transfer"!==(null==e?null:e.operation_name)||"avoir"===(null==e||null==e.nature?null:e.nature.toLowerCase())&&(null==e?null:e.is_manual_action)&&"avoir_of_term"===(null==e?null:e.operation_name))}}function mg(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",261),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Flux")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Flux")," "))}function _g(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",262),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"span"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.flux)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,null==e?null:e.flux)," ")}}function ug(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",263),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Nature")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Nature")," "))}function gg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",264),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"span"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"nature_type."+(null==e?null:e.nature))),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"nature_type."+(null==e?null:e.nature))," ")}}function hg(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",265),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Debit")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Debit")," "))}function fg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",a.formatCurrencyHistory(null==e?null:e.debit),"\u20ac")}}function bg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",266),t.\u0275\u0275template(1,fg,2,1,"span",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.debit)}}function Cg(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",267),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Credit")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Credit")," "))}function xg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",a.formatCurrencyHistory(null==e?null:e.credit),"\u20ac")}}function yg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",268),t.\u0275\u0275template(1,xg,2,1,"span",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.credit)}}function vg(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",269),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"student_balance.Solde")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"student_balance.Solde")," "))}function Tg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",270)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",a.formatCurrencyHistory(null==e?null:e.balance)?a.formatCurrencyHistory(null==e?null:e.balance):"0","\u20ac")}}function Mg(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",271),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Status term")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Status term")," "))}function Sg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span")(1,"mat-icon",273),t.\u0275\u0275text(2,"lens"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",a.displayStatusTermColor(e))("matTooltip",a.displayStatusTermTooltip(e))}}function Og(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1," - "),t.\u0275\u0275elementEnd())}function Pg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",272),t.\u0275\u0275template(1,Sg,3,2,"span",5),t.\u0275\u0275template(2,Og,2,0,"span",5),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.displayStatusTermColor(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.displayStatusTermColor(e))}}function wg(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",274),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Payment date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Payment date")," "))}function Dg(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"-"),t.\u0275\u0275elementEnd())}function Eg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",194),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",a.translateDate(null==e?null:e.payment_date,null==e?null:e.payment_time)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(a.translateDate(null==e?null:e.payment_date,null==e?null:e.payment_time))}}function Ig(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",275),t.\u0275\u0275template(1,Dg,2,0,"span",5),t.\u0275\u0275template(2,Eg,2,2,"span",193),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.payment_date)||"cancel"===(null==e?null:e.nature)||"cancelled"===(null==e?null:e.status_line_dp_term)||"chargeback_of_term"===(null==e?null:e.operation_name)||"chargeback_of_dp"===(null==e?null:e.operation_name)||"billing"===(null==e?null:e.nature)||"OD"===(null==e?null:e.flux)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.payment_date)&&"cancel"!==(null==e?null:e.nature)&&"cancelled"!==(null==e?null:e.status_line_dp_term)&&"chargeback_of_term"!==(null==e?null:e.operation_name)&&"chargeback_of_dp"!==(null==e?null:e.operation_name)&&"billing"!==(null==e?null:e.nature)&&"Avoir"!==(null==e?null:e.nature)&&"avoir"!==(null==e?null:e.nature)&&"OD"!==(null==e?null:e.flux))}}function kg(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",276),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"student_balance.Accounting document")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"student_balance.Accounting document")," "))}function Fg(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",280),t.\u0275\u0275text(1," - "),t.\u0275\u0275elementEnd())}function Bg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",281),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.accounting_document),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.accounting_document," ")}}function Ag(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",277),t.\u0275\u0275template(1,Fg,2,0,"div",278),t.\u0275\u0275template(2,Bg,2,2,"div",279),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cancel"===(null==e?null:e.nature)||"cancelled"===(null==e?null:e.status_line_dp_term)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.accounting_document)&&(null==e?null:e.balance_date)&&"cancel"!==(null==e?null:e.nature)&&"cancelled"!==(null==e?null:e.status_line_dp_term))}}function Ng(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",282),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Balance date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Balance date")," "))}function Rg(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"-"),t.\u0275\u0275elementEnd())}function Vg(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span")(1,"mat-icon",284),t.\u0275\u0275text(2,"lens"),t.\u0275\u0275elementEnd()())}function Lg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",194),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",a.translateDate(null==e?null:e.balance_date,null==e?null:e.balance_time)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(a.translateDate(null==e?null:e.balance_date,null==e?null:e.balance_time))}}function Ug(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",283),t.\u0275\u0275template(1,Rg,2,0,"span",5),t.\u0275\u0275template(2,Vg,3,0,"span",5),t.\u0275\u0275template(3,Lg,2,2,"span",193),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cancel"===(null==e?null:e.nature)||"cancelled"===(null==e?null:e.status_line_dp_term)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","OD"===(null==e?null:e.flux)||!(null!=e&&e.balance_date)&&"cancel"!==(null==e?null:e.nature)&&"cancelled"!==(null==e?null:e.status_line_dp_term)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.balance_date)&&"cancel"!==(null==e?null:e.nature)&&"OD"!==(null==e?null:e.flux)&&"cancelled"!==(null==e?null:e.status_line_dp_term))}}function zg(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",285),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Legal Entity")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Legal Entity")))}function $g(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",286),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.legal_entity_id?null:e.legal_entity_id.legal_entity_name," ")}}function Hg(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",163),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",287),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"User")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"User")," "))}function jg(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",259)(1,"span",288),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"uppercase"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(2,6,null==e||null==e.updated_by?null:e.updated_by.last_name)," ",null==e||null==e.updated_by?null:e.updated_by.first_name," ",null!=e&&null!=e.updated_by&&e.updated_by.civility&&"neutral"===(null==e||null==e.updated_by?null:e.updated_by.civility)?"":t.\u0275\u0275pipeBind1(3,8,null==e||null==e.updated_by?null:e.updated_by.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3("",t.\u0275\u0275pipeBind1(5,10,null==e||null==e.updated_by?null:e.updated_by.last_name)," ",null==e||null==e.updated_by?null:e.updated_by.first_name," ",null!=e&&null!=e.updated_by&&e.updated_by.civility&&"neutral"===(null==e||null==e.updated_by?null:e.updated_by.civility)?"":t.\u0275\u0275pipeBind1(6,12,null==e||null==e.updated_by?null:e.updated_by.civility)," ")}}function Wg(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",289),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Action")," "))}function Yg(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",296),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onOpenTransaction(null==i||null==i.candidate_id?null:i.candidate_id.candidate_unique_number))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",188),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"View tansaction"))}function Gg(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",296),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onOpenTransaction(null==i||null==i.candidate_id?null:i.candidate_id.candidate_unique_number))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",188),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"View tansaction"))}function qg(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",297),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.updateManualOperation(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",298),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Edit"))}function Kg(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",297),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.updateManualOperation(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",298),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Edit"))}function Qg(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",297),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.updateManualOperation(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",298),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Edit"))}function Xg(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",297),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.updateManualOperation(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",298),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Edit"))}function Zg(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",299),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.deleteManualOperation(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",300),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Remove"))}function Jg(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",299),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.deleteManualOperation(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",300),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Remove"))}function th(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",299),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.deleteManualOperation(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",300),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Remove"))}function eh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",299),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.deleteManualOperation(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",300),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Remove"))}function nh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",299),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.deleteManualOperation(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",300),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Remove"))}function ah(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",301),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.openOperationNoteDialog(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",302),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Operation details"))}function ih(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",301),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.openOperationNoteDialog(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",302),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Operation details"))}function oh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",301),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.openOperationNoteDialog(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",302),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Operation details"))}function lh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",301),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.openOperationNoteDialog(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",302),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Operation details"))}function rh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",301),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.deleteManualOperation(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",303),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Remove"))}function sh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",304),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.removePayment(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",303),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"removePayment"))}function ch(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",304),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.removeOverpaid(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",303),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"removePayment"))}function dh(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",290),t.\u0275\u0275template(1,Yg,3,3,"button",291),t.\u0275\u0275template(2,Gg,3,3,"button",291),t.\u0275\u0275template(3,qg,3,3,"button",292),t.\u0275\u0275template(4,Kg,3,3,"button",292),t.\u0275\u0275template(5,Qg,3,3,"button",292),t.\u0275\u0275template(6,Xg,3,3,"button",292),t.\u0275\u0275template(7,Zg,3,3,"button",293),t.\u0275\u0275template(8,Jg,3,3,"button",293),t.\u0275\u0275template(9,th,3,3,"button",293),t.\u0275\u0275template(10,eh,3,3,"button",293),t.\u0275\u0275template(11,nh,3,3,"button",293),t.\u0275\u0275template(12,ah,3,3,"button",294),t.\u0275\u0275template(13,ih,3,3,"button",294),t.\u0275\u0275template(14,oh,3,3,"button",294),t.\u0275\u0275template(15,lh,3,3,"button",294),t.\u0275\u0275template(16,rh,3,3,"button",294),t.\u0275\u0275template(17,sh,3,3,"button",295),t.\u0275\u0275template(18,ch,3,3,"button",295),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",("paid"===(null==e?null:e.status_line_dp_term)||"chargeback"===(null==e?null:e.status_line_dp_term))&&"down_payment"===(null==e?null:e.operation_name)&&(null==e?null:e.payment_date)&&"paid"===(null==e||null==e.billing_id?null:e.billing_id.deposit_status)&&("sepa"===(null==e?null:e.nature)||"credit_card"===(null==e?null:e.nature))&&(null==e?null:e.transaction_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",("paid"===(null==e?null:e.status_line_dp_term)||"not_authorized"===(null==e?null:e.status_line_dp_term)||"chargeback"===(null==e?null:e.status_line_dp_term))&&("sepa"===(null==e?null:e.nature)||"credit_card"===(null==e?null:e.nature))&&"chargeback_of_term"!==(null==e?null:e.operation_name)&&(null==e?null:e.transaction_id)&&"Avoir"!==(null==e?null:e.nature)&&"avoir"!==(null==e?null:e.nature)&&"down_payment"!==(null==e?null:e.operation_name)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_manual_action)&&a.checkManualEditAvoid(null==e?null:e.operation_name)&&"not_exported"===(null==e?null:e.export_status)&&"billing"===(null==e?null:e.flux)&&"cancelled"!==(null==e?null:e.status_line_dp_term)&&"paid"!==(null==e?null:e.status_line_dp_term)&&"pending"!==(null==e?null:e.status_line_dp_term)&&"chargeback"!==(null==e?null:e.status_line_dp_term)&&"Avoir"!==(null==e?null:e.nature)&&"avoir"!==(null==e?null:e.nature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_manual_action)&&a.checkManualEditAvoid(null==e?null:e.operation_name)&&"not_exported"===(null==e?null:e.export_status)&&"payment"===(null==e?null:e.flux)&&"cancelled"!==(null==e?null:e.status_line_dp_term)&&"paid"!==(null==e?null:e.status_line_dp_term)&&"pending"!==(null==e?null:e.status_line_dp_term)&&"chargeback"!==(null==e?null:e.status_line_dp_term)&&"Avoir"!==(null==e?null:e.nature)&&"avoir"!==(null==e?null:e.nature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_manual_action)&&"refund"===(null==e?null:e.operation_name)&&a.checkManualEditAvoid(null==e?null:e.operation_name)&&"not_exported"===(null==e?null:e.export_status)&&"Avoir"!==(null==e?null:e.nature)&&"avoir"!==(null==e?null:e.nature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_manual_action)&&("cash_transfer"===(null==e?null:e.operation_name)||"student_balance_adjustment"===(null==e?null:e.operation_name))&&a.checkManualEditAvoid(null==e?null:e.operation_name)&&"not_exported"===(null==e?null:e.export_status)&&"OD"===(null==e?null:e.flux)&&"cancelled"!==(null==e?null:e.status_line_dp_term)&&"paid"!==(null==e?null:e.status_line_dp_term)&&"pending"!==(null==e?null:e.status_line_dp_term)&&"chargeback"!==(null==e?null:e.status_line_dp_term)&&"Avoir"!==(null==e?null:e.nature)&&"avoir"!==(null==e?null:e.nature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","paid"!==(null==e?null:e.status_line_dp_term)&&(null==e?null:e.is_manual_action)&&"not_exported"===(null==e?null:e.export_status)&&"billing"===(null==e?null:e.flux)&&"cancelled"!==(null==e?null:e.status_line_dp_term)&&"Avoir"!==(null==e?null:e.nature)&&"avoir"!==(null==e?null:e.nature)&&"discount"!==(null==e?null:e.nature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",("billed"===(null==e?null:e.status_line_dp_term)||"billed"===(null==e?null:e.term_status))&&(null==e?null:e.is_manual_action)&&"not_exported"===(null==e?null:e.export_status)&&"payment"===(null==e?null:e.flux)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","paid"!==(null==e?null:e.status_line_dp_term)&&(null==e?null:e.is_manual_action)&&"not_exported"===(null==e?null:e.export_status)&&("Avoir"===(null==e?null:e.nature)||"avoir"===(null==e?null:e.nature)||"discount"===(null==e?null:e.nature))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_manual_action)&&"not_exported"===(null==e?null:e.export_status)&&"refund"===(null==e?null:e.operation_name)&&("transfer"===(null==e?null:e.flux)||"payment"===(null==e?null:e.flux))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","paid"!==(null==e?null:e.status_line_dp_term)&&(null==e?null:e.is_manual_action)&&"not_exported"===(null==e?null:e.export_status)&&("cash_transfer"===(null==e?null:e.operation_name)||"student_balance_adjustment"===(null==e?null:e.operation_name)&&"OD"===(null==e?null:e.flux))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.payment_date)&&"paid"===(null==e?null:e.status_line_dp_term)&&"down_payment"===(null==e?null:e.operation_name)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","OD"===(null==e?null:e.flux)&&"cancelled"!==(null==e?null:e.status_line_dp_term)&&"billing_of_term"!==(null==e?null:e.operation_name)&&"Avoir"!==(null==e?null:e.nature)&&"avoir"!==(null==e?null:e.nature)&&"cash_transfer"===(null==e?null:e.operation_name)||"student_balance_adjustment"===(null==e?null:e.operation_name)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","chargeback"===(null==e?null:e.status_line_dp_term)&&"cancelled"!==(null==e?null:e.status_line_dp_term)&&"billing_of_term"!==(null==e?null:e.operation_name)&&"Avoir"!==(null==e?null:e.nature)&&"avoir"!==(null==e?null:e.nature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",("paid"===(null==e?null:e.status_line_dp_term)||"not_authorised"===(null==e?null:e.status_line_dp_term))&&"cancelled"!==(null==e?null:e.status_line_dp_term)&&"billing_of_term"!==(null==e?null:e.operation_name)&&"down_payment"!==(null==e?null:e.operation_name)&&"refund"!==(null==e?null:e.operation_name)&&"Avoir"!==(null==e?null:e.nature)&&"avoir"!==(null==e?null:e.nature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!("paid"!==(null==e?null:e.status_line_dp_term)||"not_exported"!==(null==e?null:e.export_status)||"overpaid"===(null==e?null:e.operation_name)||"down_payment"===(null==e?null:e.operation_name)||null!=e&&e.transaction_id||"billing"===(null==e?null:e.flux)||null!=e&&e.is_manual_action||"Avoir"===(null==e?null:e.nature)||"avoir"===(null==e?null:e.nature))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","paid"===(null==e?null:e.status_line_dp_term)&&"not_exported"===(null==e?null:e.export_status)&&"overpaid"!==(null==e?null:e.operation_name)&&!(null!=e&&e.transaction_id)&&"billing"!==(null==e?null:e.flux)&&(null==e?null:e.is_manual_action)&&a.checkManualPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!("paid"!==(null==e?null:e.status_line_dp_term)||"not_exported"!==(null==e?null:e.export_status)||null!=e&&e.transaction_id||"overpaid"!==(null==e?null:e.operation_name)||"manual_payment"!==(null==e?null:e.transaction_type)&&"overpaid"!==(null==e?null:e.transaction_type)))}}function ph(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",305)(1,"div",214),t.\u0275\u0275element(2,"mat-spinner",215),t.\u0275\u0275elementEnd()())}function mh(n,o){1&n&&t.\u0275\u0275element(0,"tr",216)}function _h(n,o){1&n&&t.\u0275\u0275element(0,"tr",216)}function uh(n,o){1&n&&t.\u0275\u0275element(0,"tr",216)}function gh(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",217),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isLoading)}}function hh(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",218),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isLoading)}}function fh(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",306),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ne,e.isLoading)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"NOT RECORD FOUND")," ")}}const ae=function(){return["loading"]},bh=function(n){return{"border-button":n}};let Ch=(()=>{class n{constructor(e,a,i,l,r,s,d,p,u,_,O,F,v){this.candidatesHistoryService=e,this.dialog=a,this.translate=i,this.financeService=l,this.parseUTCToLocalPipe=r,this.parseStringDatePipe=s,this.pageTitleService=d,this.coreService=p,this.authService=u,this.permission=_,this.httpClient=O,this.router=F,this.ngxPermissionService=v,this.isWaitingForResponse=!1,this.dataSource=new b.by([]),this.dataSources=new b.by([]),this.studentBalanceDataSource=new b.by([]),this.studentBalanceDisplayedColumn=["date","operation-name","payer","flux","nature","debit","credit","solde","status-term","payment-date","accounting-document","balance-date","legal-entity","user","action"],this.balanceCols=this.studentBalanceDisplayedColumn.map(B=>`${B}-balance`),this.totalCols=this.studentBalanceDisplayedColumn.map(B=>`${B}-total`),this.displayedColumns=["select","accounting","date","transaction","debit","credit","solde","rec","pay"],this.filterColumns=["selectFilter","accountingFilter","dateFilter","transactionFilter","debitFilter","creditFilter","soldeFilter","recFilter","payFilter"],this.maleIcon="../../../../../assets/img/student_icon.png",this.femaleIcon="../../../../../assets/img/student_icon_fem.png",this.yesterdayIcon="../../../../../assets/img/icon-yesterday.png",this.last7DaysIcon="../../../../../assets/img/icon-7-days.png",this.last30DaysIcon="../../../../../assets/img/icon-30-days.png",this.thisMonthIcon="../../../../../assets/img/icon-this-month.png",this.actionFilter=new m.UntypedFormControl("AllF"),this.notificationFilter=new m.UntypedFormControl(""),this.admissionMemberFilter=new m.UntypedFormControl(""),this.dateFilter=new m.UntypedFormControl(""),this.timeFilter=new m.UntypedFormControl(""),this.selection=new Tt.Ov(!0,[]),this.filteredValues={action:"",admission_member:"",email_address:""},this.config={disableClose:!0,width:"600px"},this.dataCount=0,this.totalCredit=0,this.totalDebit=0,this.totalBalance=0,this.studentBillings=[],this.subs=new w.Y,this.isReset=!1,this.dataLoaded=!1,this.sortValue=null,this.disableExport=!0,this.disableToday=!0,this.disableYesterday=!0,this.disableLast7Days=!0,this.disableLast30Days=!0,this.disableThisMonth=!0,this.titleList=[],this.originalTitleList=[],this.schoolList=[],this.originalCandidateList=[],this.actionFilterList=[],this.financeFilter=new m.UntypedFormControl("Excellent"),this.financeFilterList=[{value:"excellent",key:"Excellent"},{value:"good",key:"Bon"},{value:"bad",key:"Mauvais"},{value:"doubtful",key:"Douteux"},{value:"litigation",key:"Contentieux"}],this.financeStatusLoading=!1,this.financeStatus=new b.by([]),this.financeStatusDisplayedColumns=["payer","totalAmount","amountBilled","amountPaid","remainingDue","amountLate","accumulatedLate","deposit","notRespected","notSettled","term1","term2","term3","term4","term5","term6","term7","term8","term9","term10","term11","term12"],this.operationNameListAvoir=["avoir","global_avoir","avoir_scholarship_fees","avoir_social_security","avoir_schedule_fees","avoir_administrative_costs","avoir_additional_costs_rejection","avoir_additional_costs_formal_notice","avoir_additional_costs_litigation","avoir_additional_costs_international_transfer","discount_denis_huismann_solidarity_commission","discount_music_business_management","commercial_discount","exceptional_discount"],this.hasBilledTerm=!1,this.billingData=[],this.billingPlusFInancement=[],this.studentBalanceCollect=[],this.isDirectorFinance=!1,this.isMemberFinance=!1,this.isOrganizationDoesntHaveTemplate=!1,this.isCompanyDoesntHaveTemplate=!1,this.personalInformationDummy="legal_representative",this.permissionActionFinance=["617f64ec5a48fe222851880f","617f64ec5a48fe222851880e","6009066808ed8724f5a54836","5fe98eeadb866c403defdc6b"],this.isNoDepositPaidAndSomeHistoriesDifferent=!1,this.permissionActionFinanceForAcademic=["617f64ec5a48fe2228518813","617f64ec5a48fe2228518812"]}ngOnInit(){this.currentUser=this.authService?.getLocalStorageUser(),this.isPermission=this.authService?.getPermission();const e=this.currentUser?.entities?.find(a=>a?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id,this.coreService.sidenavOpen=!1,this.updatePageTitle(),console.log(this.studentBilling),this.getCandidatesHistoryData(),this.getDataBilling(),this.year=y().format("YYYY"),this.yearPlusOne=y().add("1","y").format("YYYY")}ngOnChanges(){this.year=y().format("YYYY"),this.yearPlusOne=y().add("1","y").format("YYYY"),this.financeFilter.setValue(""),this.getCandidatesHistoryData(),this.getDataBilling()}getDataBilling(){const e={candidate_id:this.candidateId,intake_channel:this.scholarSeasonData.intake_channel?this.scholarSeasonData.intake_channel._id:""};this.financeStatusLoading=!0,this.subs.sink=this.candidatesHistoryService.getAllBilling(e).subscribe(a=>{a&&a.length?(this.mappingTermStatus(a),this.checkBilledTerm(h.cloneDeep(a)),this.billingData=a,a[0].student_type&&a[0].student_type.type_of_formation&&"classic"!==a[0].student_type.type_of_formation?(this.isFC=!0,this.getOneFinanceOrganization()):(this.isFC=!1,this.financeStatusLoading=!1),this.isNoDepositPaidAndSomeHistoriesDifferent=this.checkDepositPaidAndDepositHistories()):(this.financeStatus.data=[],this.financeStatusLoading=!1,this.isNoDepositPaidAndSomeHistoriesDifferent=!1),this.noFinancialData=this.financeStatus.connect().pipe((0,W.U)(i=>0===i.length))},a=>{this.financeStatusLoading=!1,this.noFinancialData=this.financeStatus.connect().pipe((0,W.U)(i=>0===i.length)),a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.authService.handlerSessionExpired():a&&a.message&&a.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}checkDepositPaidAndDepositHistories(){const e=[];if(this.billingData?.map(a=>{(a?.deposit||a?.dp_deposit_chargeback)&&e.push(a)}),e?.length&&e[0]){const a=e[0];return!!(a?.deposit_status&&a?.dp_histories?.length&&("paid"!==a?.deposit_status&&"not_billed"!==a?.deposit_status||1!==a?.dp_histories?.length||"chargeback"!==a?.dp_histories?.[0]?.deposit_status)||"paid"===a?.deposit_status&&"chargeback"===a?.dp_histories?.[0]?.deposit_status&&a?.deposit)}return!1}checkBilledTerm(e){const a=e.find(i=>i&&i.student_type&&i.student_type.type_of_formation);if(console.log("Check Bill",e,a),a&&a.student_type&&e&&e.length&&e.length>0)for(const i of e)if(i.terms&&i.terms.length&&i.terms.length>0)for(const l of i.terms)if(l&&l.term_amount&&l.term_amount>0){if(this.isFC&&"not_billed"===l?.term_status){this.hasBilledTerm=!1;break}this.hasBilledTerm=!0;break}}getCandidateOrganization(){this.subs.sink=this.candidatesHistoryService.GetAllFinanceOrganization({candidate_id:this.candidateId,intake_channel:this.scholarSeasonData.intake_channel?this.scholarSeasonData.intake_channel._id:""}).subscribe(a=>{a&&(this.organizationList=a)},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}updatePageTitle(){this.pageTitleService.setTitle(this.translate.instant("Student Card Finance")),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.pageTitleService.setTitle(this.translate.instant("Student Card Finance"))})}getCandidatesHistoryData(){this.isLoading=!0,this.subs.sink=this.candidatesHistoryService.getAllMasterTransactionHistories(this.candidateId,this.scholarSeasonData.intake_channel._id).subscribe(e=>{if(e&&e.length){const a=h.cloneDeep(e),i=[];a.forEach(l=>{let r,s;if(l?.term_id&&l?.billing_id){if(l?.billing_id?.terms?.length){const p=l?.billing_id?.terms?.filter(u=>u._id===l?.term_id);p?.length&&(r=p[0]?.term_amount_chargeback?"chargeback":p[0]?.term_amount_pending?"pending":p[0]?.term_amount_not_authorised?"not_authorized":"partially_paid"===p[0]?.term_status&&l?.payment_date?"paid":"partially_paid"!==p[0]?.term_status||l?.payment_date?p[0]?.term_status:"billed",s=p[0]?.term_source)}}else if(l?.term_id&&l?.finance_organization_id){const p=l?.finance_organization_id?.terms?.filter(u=>u._id===l?.term_id);p?.length&&(r=p[0]?.term_amount_pending?"pending":p[0]?.term_amount_not_authorised?"not_authorized":"partially_paid"===p[0]?.term_status&&l?.payment_date?"paid":"partially_paid"!==p[0]?.term_status||l?.payment_date?p[0]?.term_status:"billed",s="")}else(!l?.term_id&&l?.billing_id||!l?.term_id&&l?.finance_organization_id)&&("down_payment"===l?.operation_name?(r="pending"!==l?.candidate_id?.payment||l?.payment_date?"pending"===l?.candidate_id?.payment&&l?.payment_date?"paid":"not_authorized"===l?.candidate_id?.payment?"not_authorized":"partially_paid"===l?.billing_id?.deposit_status&&l?.payment_date?l?.is_chargeback?"chargeback":"paid":"partially_paid"!==l?.billing_id?.deposit_status||l?.payment_date?l?.is_chargeback?"chargeback":l?.billing_id?.deposit_status:"billed":"pending",s=""):"payment_of_dp"===l?.operation_name&&("chargeback"===l?.candidate_id?.payment?r="chargeback":"pending"===l?.candidate_id?.payment&&(r="pending")));const d={...l,term_status:r,term_source:s};i.push(d)}),this.studentBalanceDataSource.data=i,console.log("this.studentBalanceDataSource.data",this.studentBalanceDataSource.data),this.totalCredit=a?.length&&i[0]?.total_credit?i[0]?.total_credit:0,this.totalDebit=a?.length&&i[0]?.total_debit?i[0]?.total_debit:0,this.totalBalance=parseFloat((this.totalCredit-this.totalDebit).toFixed(2))}else this.studentBalanceDataSource.data=[],this.totalCredit=0,this.totalDebit=0,this.totalBalance=0;this.isLoading=!1,this.noData=this.studentBalanceDataSource.connect().pipe((0,W.U)(a=>0===a.length))},e=>{this.studentBalanceDataSource.data=[],this.dataCount=0,this.totalCredit=0,this.totalDebit=0,this.totalBalance=0,this.isLoading=!1,this.noData=this.studentBalanceDataSource.connect().pipe((0,W.U)(a=>0===a.length)),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}mappingTermStatus(e){const a={january:y("01/01/2021","DD/MM/YYYY"),february:y("01/02/2021","DD/MM/YYYY"),march:y("01/03/2021","DD/MM/YYYY"),april:y("01/04/2021","DD/MM/YYYY"),may:y("01/05/2021","DD/MM/YYYY"),june:y("01/06/2021","DD/MM/YYYY"),july:y("01/07/2021","DD/MM/YYYY"),august:y("01/08/2021","DD/MM/YYYY"),september:y("01/09/2021","DD/MM/YYYY"),october:y("01/10/2021","DD/MM/YYYY"),november:y("01/11/2021","DD/MM/YYYY"),december:y("01/12/2021","DD/MM/YYYY")},i=a.january.format("M"),l=a.february.format("M"),r=a.march.format("M"),s=a.april.format("M"),d=a.may.format("M"),p=a.june.format("M"),u=a.july.format("M"),_=a.august.format("M"),O=a.september.format("M"),F=a.october.format("M"),v=a.november.format("M"),B=a.december.format("M");e.forEach(x=>{const j=[],R=[],ge=[],he=[],fe=[],be=[],Ce=[],xe=[],ye=[],ve=[],Te=[],Me=[];x.terms.forEach((g,J)=>{let Kt;Kt=y(g?.term_payment_deferment?.date?g.term_payment_deferment.date:g.term_payment.date,"DD/MM/YYYY");const pt=Kt.format("M");pt===_&&0!==g.term_amount&&(g.term_amount_chargeback=g.term_amount_chargeback?g.term_amount_chargeback:0,g.term_amount_not_authorised=g.term_amount_not_authorised?g.term_amount_not_authorised:0,g.term_amount_pending=g.term_amount_pending?g.term_amount_pending:0,g.terms_index=J+1,x.terms_1=g,j.push(g)),pt===O&&0!==g.term_amount&&(g.term_amount_chargeback=g.term_amount_chargeback?g.term_amount_chargeback:0,g.term_amount_not_authorised=g.term_amount_not_authorised?g.term_amount_not_authorised:0,g.term_amount_pending=g.term_amount_pending?g.term_amount_pending:0,g.terms_index=J+1,x.terms_2=g,R.push(g)),pt===F&&0!==g.term_amount&&(g.term_amount_chargeback=g.term_amount_chargeback?g.term_amount_chargeback:0,g.term_amount_not_authorised=g.term_amount_not_authorised?g.term_amount_not_authorised:0,g.term_amount_pending=g.term_amount_pending?g.term_amount_pending:0,g.terms_index=J+1,x.terms_3=g,ge.push(g)),pt===v&&0!==g.term_amount&&(g.term_amount_chargeback=g.term_amount_chargeback?g.term_amount_chargeback:0,g.term_amount_not_authorised=g.term_amount_not_authorised?g.term_amount_not_authorised:0,g.term_amount_pending=g.term_amount_pending?g.term_amount_pending:0,g.terms_index=J+1,x.terms_4=g,he.push(g)),pt===B&&0!==g.term_amount&&(g.term_amount_chargeback=g.term_amount_chargeback?g.term_amount_chargeback:0,g.term_amount_not_authorised=g.term_amount_not_authorised?g.term_amount_not_authorised:0,g.term_amount_pending=g.term_amount_pending?g.term_amount_pending:0,g.terms_index=J+1,x.terms_5=g,fe.push(g)),pt===i&&0!==g.term_amount&&(g.term_amount_chargeback=g.term_amount_chargeback?g.term_amount_chargeback:0,g.term_amount_not_authorised=g.term_amount_not_authorised?g.term_amount_not_authorised:0,g.term_amount_pending=g.term_amount_pending?g.term_amount_pending:0,g.terms_index=J+1,x.terms_6=g,be.push(g)),pt===l&&0!==g.term_amount&&(g.term_amount_chargeback=g.term_amount_chargeback?g.term_amount_chargeback:0,g.term_amount_not_authorised=g.term_amount_not_authorised?g.term_amount_not_authorised:0,g.term_amount_pending=g.term_amount_pending?g.term_amount_pending:0,g.terms_index=J+1,x.terms_7=g,Ce.push(g)),pt===r&&0!==g.term_amount&&(g.term_amount_chargeback=g.term_amount_chargeback?g.term_amount_chargeback:0,g.term_amount_not_authorised=g.term_amount_not_authorised?g.term_amount_not_authorised:0,g.term_amount_pending=g.term_amount_pending?g.term_amount_pending:0,g.terms_index=J+1,x.terms_8=g,xe.push(g)),pt===s&&0!==g.term_amount&&(g.term_amount_chargeback=g.term_amount_chargeback?g.term_amount_chargeback:0,g.term_amount_not_authorised=g.term_amount_not_authorised?g.term_amount_not_authorised:0,g.term_amount_pending=g.term_amount_pending?g.term_amount_pending:0,g.terms_index=J+1,x.terms_9=g,ye.push(g)),pt===d&&0!==g.term_amount&&(g.term_amount_chargeback=g.term_amount_chargeback?g.term_amount_chargeback:0,g.term_amount_not_authorised=g.term_amount_not_authorised?g.term_amount_not_authorised:0,g.term_amount_pending=g.term_amount_pending?g.term_amount_pending:0,g.terms_index=J+1,x.terms_10=g,ve.push(g)),pt===p&&0!==g.term_amount&&(g.term_amount_chargeback=g.term_amount_chargeback?g.term_amount_chargeback:0,g.term_amount_not_authorised=g.term_amount_not_authorised?g.term_amount_not_authorised:0,g.term_amount_pending=g.term_amount_pending?g.term_amount_pending:0,g.terms_index=J+1,x.terms_11=g,Te.push(g)),pt===u&&0!==g.term_amount&&(g.term_amount_chargeback=g.term_amount_chargeback?g.term_amount_chargeback:0,g.term_amount_not_authorised=g.term_amount_not_authorised?g.term_amount_not_authorised:0,g.term_amount_pending=g.term_amount_pending?g.term_amount_pending:0,g.terms_index=J+1,x.terms_12=g,Me.push(g))});let Se=0;x?.dp_histories?.length&&(Se=x.dp_histories.reduce((g,J)=>{if("chargeback"===J?.deposit_status&&"number"==typeof J?.deposit_pay_amount)return g+J.deposit_pay_amount},0)),x.dp_deposit_chargeback=Se,x.term_1=j,x.term_2=R,x.term_3=ge,x.term_4=he,x.term_5=fe,x.term_6=be,x.term_7=Ce,x.term_8=xe,x.term_9=ye,x.term_10=ve,x.term_11=Te,x.term_12=Me}),e&&e.length&&(this.studentBilling=e.find(x=>!x.is_financial_support),this.financeBilling=e.find(x=>x.is_financial_support)),this.financeBilling=h.uniqBy(this.financeBilling,"_id"),this.financeStatus.data=e}mappingTermDats(e){const a={january:y("01/01/2021","DD/MM/YYYY"),february:y("01/02/2021","DD/MM/YYYY"),march:y("01/03/2021","DD/MM/YYYY"),april:y("01/04/2021","DD/MM/YYYY"),may:y("01/05/2021","DD/MM/YYYY"),june:y("01/06/2021","DD/MM/YYYY"),july:y("01/07/2021","DD/MM/YYYY"),august:y("01/08/2021","DD/MM/YYYY"),september:y("01/09/2021","DD/MM/YYYY"),october:y("01/10/2021","DD/MM/YYYY"),november:y("01/11/2021","DD/MM/YYYY"),december:y("01/12/2021","DD/MM/YYYY")},i=a.january.format("M"),l=a.february.format("M"),r=a.march.format("M"),s=a.april.format("M"),d=a.may.format("M"),p=a.june.format("M"),u=a.july.format("M"),_=a.august.format("M"),O=a.september.format("M"),F=a.october.format("M"),v=a.november.format("M"),B=a.december.format("M");e.billing_id&&e.billing_id.terms&&e.billing_id.terms.length&&e.billing_id.terms.forEach(x=>{const R=y(x.term_payment.date,"DD/MM/YYYY").format("M");R===_&&0!==x.term_amount&&(e.terms_1=x,x.terms_index=0),R===O&&0!==x.term_amount&&(e.terms_2=x,x.terms_index=1),R===F&&0!==x.term_amount&&(e.terms_3=x,x.terms_index=2),R===v&&0!==x.term_amount&&(e.terms_4=x,x.terms_index=3),R===B&&0!==x.term_amount&&(e.terms_5=x,x.terms_index=4),R===i&&0!==x.term_amount&&(e.terms_6=x,x.terms_index=5),R===l&&0!==x.term_amount&&(e.terms_7=x,x.terms_index=6),R===r&&0!==x.term_amount&&(e.terms_8=x,x.terms_index=7),R===s&&0!==x.term_amount&&(e.terms_9=x,x.terms_index=8),R===d&&0!==x.term_amount&&(e.terms_10=x,x.terms_index=9),R===p&&0!==x.term_amount&&(e.terms_11=x,x.terms_index=10),R===u&&0!==x.term_amount&&(e.terms_12=x,x.terms_index=11)}),console.log("data",e),this.studentBilling=e,this.financeStatus.data=e}mappingTermData(e){const a={january:y("01/01/2021","DD/MM/YYYY"),february:y("01/02/2021","DD/MM/YYYY"),march:y("01/03/2021","DD/MM/YYYY"),april:y("01/04/2021","DD/MM/YYYY"),may:y("01/05/2021","DD/MM/YYYY"),june:y("01/06/2021","DD/MM/YYYY"),july:y("01/07/2021","DD/MM/YYYY"),august:y("01/08/2021","DD/MM/YYYY"),september:y("01/09/2021","DD/MM/YYYY"),october:y("01/10/2021","DD/MM/YYYY"),november:y("01/11/2021","DD/MM/YYYY"),december:y("01/12/2021","DD/MM/YYYY")},i=a.january.format("M"),l=a.february.format("M"),r=a.march.format("M"),s=a.april.format("M"),d=a.may.format("M"),p=a.june.format("M"),u=a.july.format("M"),_=a.august.format("M"),O=a.september.format("M"),F=a.october.format("M"),v=a.november.format("M"),B=a.december.format("M");e&&e.terms&&e.terms.length&&e.terms.forEach(x=>{const R=y(x.term_payment.date,"DD/MM/YYYY").format("M");R===_&&0!==x.term_amount&&(e.terms_1=x,x.terms_index=0),R===O&&0!==x.term_amount&&(e.terms_2=x,x.terms_index=1),R===F&&0!==x.term_amount&&(e.terms_3=x,x.terms_index=2),R===v&&0!==x.term_amount&&(e.terms_4=x,x.terms_index=3),R===B&&0!==x.term_amount&&(e.terms_5=x,x.terms_index=4),R===i&&0!==x.term_amount&&(e.terms_6=x,x.terms_index=5),R===l&&0!==x.term_amount&&(e.terms_7=x,x.terms_index=6),R===r&&0!==x.term_amount&&(e.terms_8=x,x.terms_index=7),R===s&&0!==x.term_amount&&(e.terms_9=x,x.terms_index=8),R===d&&0!==x.term_amount&&(e.terms_10=x,x.terms_index=9),R===p&&0!==x.term_amount&&(e.terms_11=x,x.terms_index=10),R===u&&0!==x.term_amount&&(e.terms_12=x,x.terms_index=11)}),console.log("data if financement",e),this.financeStatus.data=e}checkIsNumber(e){let a=!1;return Number.isInteger(e)&&(a=!0),console.log("Term Amount Value",e,a),a}parseIndex(e){return parseInt(e)}getDataPayment(e){this.totalCredit=0,this.totalDebit=0,this.totalBalance=0,console.log("_his",e),e?.length&&e.forEach(a=>{this.totalCredit+=parseFloat(a?.credit?.toFixed(2)),this.totalDebit+=parseFloat(a?.debit?.toFixed(2))}),this.totalBalance=parseFloat((this.totalCredit-this.totalDebit).toFixed(2))}resetTable(){this.getCandidatesHistoryData(),this.getDataBilling()}translateCivility(e){return e&&(e.includes("MRS ")||e.includes("Mrs ")||e.includes("mrs ")||e.includes("Mme "))?e=(e=(e=(e=e.replaceAll("MRS",this.translate.instant("MRS"))).replaceAll("Mrs",this.translate.instant("MRS"))).replaceAll("mrs",this.translate.instant("MRS"))).replaceAll("Mme",this.translate.instant("MRS")):e&&(e.includes("MR ")||e.includes("Mr ")||e.includes("mr ")||e.includes("M. "))&&(e=(e=(e=(e=e.replaceAll("MR",this.translate.instant("MR"))).replaceAll("Mr",this.translate.instant("MR"))).replaceAll("mr",this.translate.instant("MR"))).replaceAll("M.",this.translate.instant("MR"))),e}getCandidateBilling(){this.subs.sink=this.financeService.GetOneCandidate(this.candidateId).subscribe(e=>{e&&(this.mappingTermDats(e),e.billing_id&&e.billing_id.financial_profile&&this.financeFilter.setValue(e.billing_id.financial_profile),e&&e.type_of_formation_id&&e.type_of_formation_id.type_of_formation&&"classic"!==e.type_of_formation_id.type_of_formation?(this.isFC=!0,this.getCandidateOrganization(),this.getOneFinanceOrganization()):this.isFC=!1)},e=>{e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getOneFinanceOrganization(){const e={candidate_id:this.candidateId,intake_channel:this.scholarSeasonData.intake_channel?this.scholarSeasonData.intake_channel._id:""};this.billingPlusFInancement=[],this.subs.sink=this.financeService.GetOneFinanceOrganization(e).subscribe(a=>{if(a){const i=h.cloneDeep(a);this.checkBilledTerm(h.cloneDeep(a)),this.billingPlusFInancement=[...this.billingData,...i],this.mappingTermStatus(this.billingPlusFInancement),this.checkBilledTerm(h.cloneDeep(this.billingPlusFInancement))}this.financeStatusLoading=!1},a=>{this.financeStatusLoading=!1,a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}formatDecimal(e){let a="";return e&&(a=parseFloat(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$& ")),a}formatCurrency(e){let a="";return e&&(a=parseFloat(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$& ")),a}formatCurrencyHistory(e){let a="";return e&&(a=parseFloat(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$& ")),a}formatCurrencyDecimal(e){let a="";return e&&(a=parseFloat(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$& ")),a}formatCurrencyBalance(e){let a="";return e&&(a=parseFloat(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$& ")),a}formatNonDecimal(e){let a="";return e&&(a=Math.round(e)),a}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}translateDate(e,a){let i="";if(e){const r=this.parseStringDatePipe.transformStringToDate(this.parseUTCToLocalPipe.transformDate(e,a||"15:59"));i=y(r,"DD/MM/YYYY").format("DD/MM/YYYY")}return i}translateDates(e){return y(e,"DD-MM-YYYY").format("DD MMM YYYY")}showOptions(e){this.selection.selected.length>0?this.enableAllTopActions():this.disableAllTopActions(),this.selectType=e}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}initFilter(){}disableAllTopActions(){this.disableExport=!0,this.disableToday=!0,this.disableYesterday=!0,this.disableLast7Days=!0,this.disableLast30Days=!0,this.disableThisMonth=!0}enableAllTopActions(){this.disableExport=!1,this.disableToday=!1,this.disableYesterday=!1,this.disableLast7Days=!1,this.disableLast30Days=!1,this.disableThisMonth=!1}cleanFilterData(){const e=h.cloneDeep(this.filteredValues);let a="";return Object.keys(e).forEach(i=>{e[i]&&(a+="full_name"===i||"candidate_id"===i?` ${i}:"${e[i]}"`:` ${i}:${e[i]}`)}),a}avoirDialog(){this.subs.sink=this.dialog.open(Ka,{width:"600px",minHeight:"100px",disableClose:!0,data:{dropdown:this.isFC?this.billingPlusFInancement:this.billingData,isFC:this.isFC,candidate_id:this.candidateId,isUpdate:!1}}).afterClosed().subscribe(e=>{e&&this.resetTable()})}odDialog(){this.subs.sink=this.dialog.open(te,{width:"600px",minHeight:"100px",disableClose:!0,data:{dropdown:this.isFC?this.billingPlusFInancement:this.billingData,candidate_id:this.candidateId,intake_channel_id:this.scholarSeasonData.intake_channel?this.scholarSeasonData.intake_channel._id:"",financement:this.showFinancement}}).afterClosed().subscribe(a=>{a&&this.resetTable()})}updateOD(e){this.subs.sink=this.dialog.open(te,{width:"600px",minHeight:"100px",disableClose:!0,data:{...e,isUpdate:!0,dropdown:this.isFC?this.billingPlusFInancement:this.billingData,candidate_id:this.candidateId,intake_channel_id:this.scholarSeasonData.intake_channel?this.scholarSeasonData.intake_channel._id:"",financement:this.showFinancement}}).afterClosed().subscribe(i=>{i&&this.resetTable()})}deleteOD(e){let a=3;c().fire({title:this.translate.instant("DELETE_ITEM_TEMPLATE.TITLE"),html:this.translate.instant("CONFIRMDELETE",{value:e.operation_name?this.translate.instant("OPERATION_NAME."+e.operation_name,{studentProgram:this.displayProgram(e.candidate_id)}):""}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`,cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const i=c().getConfirmButton(),l=setInterval(()=>{a-=1,i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`},1e3);this.timeOutVal=setTimeout(()=>{i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),c().enableConfirmButton(),clearInterval(l),clearTimeout(this.timeOutVal)},1e3*a)}}).then(i=>{clearTimeout(this.timeOutVal),i.value&&(this.isWaitingForResponse=!0,"cash_transfer"===e.od_type?this.subs.sink=this.financeService.removeODCashTransfer(e._id).subscribe(l=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetTable()})},l=>{this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):"student_balance_adjustment"===e.od_type&&(this.subs.sink=this.showFinancement&&e?.finance_organization_id?._id?this.financeService.removeStudentBalanceAdjustementFinanceOrganization(e?._id).subscribe(l=>{this.isWaitingForResponse=!1,this.swalSuccesRemoveOD()},l=>{this.isWaitingForResponse=!1,this.swalErrorRemoveOD(l)}):this.financeService.removeStudentBalanceAdjustement(e._id).subscribe(l=>{this.isWaitingForResponse=!1,this.swalSuccesRemoveOD()},l=>{this.isWaitingForResponse=!1,this.swalErrorRemoveOD(l)})))})}swalSuccesRemoveOD(){c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetTable()})}swalErrorRemoveOD(e){e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}deletePaid(e){let a=3;c().fire({title:this.translate.instant("DELETE_ITEM_TEMPLATE.TITLE"),html:this.translate.instant("CONFIRMDELETE",{value:"payment_of_term"===e.operation_name?this.translate.instant("OPERATION_NAME."+e.operation_name,{studentProgram:this.displayProgram(e.candidate_id)})+" "+this.parseTermIndexToNumber(e.term_index):e.operation_name}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`,cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const i=c().getConfirmButton(),l=setInterval(()=>{a-=1,i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`},1e3);this.timeOutVal=setTimeout(()=>{i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),c().enableConfirmButton(),clearInterval(l),clearTimeout(this.timeOutVal)},1e3*a)}}).then(i=>{clearTimeout(this.timeOutVal),i.value&&(this.isWaitingForResponse=!0,this.subs.sink=this.financeService.deletePayment(e?._id).subscribe(l=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetTable()})},l=>{this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}decaissementDialog(){this.subs.sink=this.dialog.open(Zt,{width:"700px",minHeight:"100px",disableClose:!0,data:{dropdown:this.isFC?this.billingPlusFInancement:this.billingData,isFC:this.isFC,candidate_id:this.candidateId,isUpdate:!1,financement:this.showFinancement}}).afterClosed().subscribe(e=>{e&&this.resetTable()})}checkStringData(e){return!0}checkIsBetween(e,a,i){return e.term_payment.date===i}checkMomentIsBetween(e,a,i){return y(e.term_payment.date).isBetween(y(a,"DD/MM/YYYY"),y(i,"DD/MM/YYYY"))||e.term_payment.date===i}changedPlan(e){let a=!1;return e.term_payment_deferment&&e.term_payment_deferment.date&&(a=y().isBefore(y(e.term_payment_deferment.date,"DD/MM/YYYY"))||y().isSame(y(e.term_payment_deferment.date,"DD/MM/YYYY"))),a}checkPaymentLate(e){const a=y(e,"DD/MM/YYYY").endOf("month");return y().endOf("month").isAfter(y(a,"DD/MM/YYYY"))}isNonPayable(e,a,i){let l=!0;return e&&e.length&&e.forEach(r=>{r.term_payment&&r.term_payment.date&&(y(r.term_payment.date).isBetween(y(a,"DD/MM/YYYY"),y(i,"DD/MM/YYYY"))||r.term_payment.date===i)&&(l=!1)}),l}updateFinancialStatus(){const e={financial_profile:this.financeFilter.value};let a=3;c().fire({title:this.translate.instant("FINANCIAL_PROFILE_S1.TITLE"),html:this.translate.instant("FINANCIAL_PROFILE_S1.TEXT",{candidateName:(this.studentBilling&&this.studentBilling.civility&&"neutral"!==this.studentBilling.civility?this.translate.instant(this.studentBilling.civility)+" ":"")+this.studentBilling?.first_name+" "+this.studentBilling?.last_name,financial:this.translate.instant(this.financeFilter.value)}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,reverseButtons:!0,confirmButtonText:this.translate.instant("FINANCIAL_PROFILE_S1.BUTTON_1",{timer:a}),cancelButtonText:this.translate.instant("FINANCIAL_PROFILE_S1.BUTTON_2"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const i=c().getConfirmButton(),l=setInterval(()=>{a-=1,i.innerText=this.translate.instant("FINANCIAL_PROFILE_S1.BUTTON_1")+` (${a})`},1e3);this.timeOutVal=setTimeout(()=>{i.innerText=this.translate.instant("FINANCIAL_PROFILE_S1.BUTTON_1"),c().enableConfirmButton(),clearInterval(l),clearTimeout(this.timeOutVal)},1e3*a)}}).then(i=>{clearTimeout(this.timeOutVal),i.value&&(this.subs.sink=this.financeService.UpdateBilling(e,this.studentBilling?.billing_id?._id).subscribe(l=>{c().fire({type:"success",title:"Bravo!",confirmButtonText:this.translate.instant("OK")})},l=>{l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}getDate(e){let a;return e&&e?.billing_id&&e?.billing_id?.terms&&e?.billing_id?.terms?.length&&e?.term_index&&e?.billing_id?.terms[parseInt(e?.term_index)]&&(a=e?.billing_id?.terms[parseInt(e?.term_index)]?.term_payment_deferment?.date?e?.billing_id?.terms[parseInt(e?.term_index)]?.term_payment_deferment?.date:e?.billing_id?.terms[parseInt(e?.term_index)]?.term_payment?.date),a}getAmount(e){let a;return e&&e&&e.billing_id&&e.billing_id.terms&&e.billing_id.terms.length&&e.term_index&&e?.billing_id.terms[parseInt(e.term_index)]&&(a=e?.billing_id.terms[parseInt(e.term_index)].term_amount),a}checkHasFullDiscount(e){return!!(e&&e.registration_profile&&e.registration_profile.discount_on_full_rate&&100===e.registration_profile.discount_on_full_rate)}checkHasNoDP(e){return!!(e&&e.registration_profile&&e.registration_profile.is_down_payment&&"no"===e.registration_profile.is_down_payment)}checkHasNoAddtionalCost(e){return!(!e||!e.selected_payment_plan||0!==e.selected_payment_plan.additional_expense)}checkNoPayment(e){return!!(this.checkHasFullDiscount(e)&&this.checkHasNoAddtionalCost(e)&&this.checkHasNoDP(e))}checkPartiallyTerms(e){if(e&&e.is_partial){if(e.term_pay_date&&e.term_payment){const a=y(e.term_pay_date.date,"DD/MM/YYYY").endOf("month"),i=y(e.term_payment.date,"DD/MM/YYYY").endOf("month");return!!a.isAfter(y(i,"DD/MM/YYYY"))}return!1}return!1}checkIfCandidateTransferHasAmountPaid(e){return""!==e}checkIfCandidateTransferHasDP(e){return e>0}renderTransactionText(e){return this.translate.instant(e.transaction.slice(0,12))+e.transaction.slice(12)}downloadInvoice(){this.isWaitingForResponse=!0;const e=_t.N.apiUrl.replace("/graphql",""),a=new Date,i=y(a,"DD/MM/YYYY").format("DDMMYYYY"),l=y(a).format("HH:mm");this.httpClient.get(`${e}/downloadStudentInvoice/${this.candidateId}/${this.translate.currentLang}/${this.scholarSeasonData.intake_channel.scholar_season_id._id}/${this.scholarSeasonData.intake_channel._id}?date=${i}&time=${l}`,{responseType:"text"}).subscribe(s=>{if(s){this.isWaitingForResponse=!1;const d=`${St.a.baseApi}/fileuploads/`.replace("/graphql",""),p=document.createElement("a");p.href=`${d}${s}?date=${i}&time=${l}&download=true`,p.download="Invoice Student",p.click(),p.remove()}else this.isWaitingForResponse=!1},s=>{this.isWaitingForResponse=!1})}actionTrigger(e){switch(e){case"billing":setTimeout(()=>{this.addManualBilling()},500);break;case"payment_line":setTimeout(()=>{this.addPaymentLine()},500);break;case"avoir/discount":setTimeout(()=>{this.avoirDialog()},500);break;case"refund":setTimeout(()=>{this.decaissementDialog()},500);break;case"od":setTimeout(()=>{this.odDialog()},500)}}addManualBilling(){let e=this.mappingOrderPayer();this.isCompanyDoesntHaveTemplate||this.isOrganizationDoesntHaveTemplate?c().fire({type:"info",title:this.translate.instant("Add_Billing_Line_S1.TITLE"),text:this.translate.instant("Add_Billing_Line_S1.TEXT"),confirmButtonText:this.translate.instant("Add_Billing_Line_S1.BUTTON"),showCancelButton:!1,allowOutsideClick:!1}):this.subs.sink=this.dialog.open(ee,{width:"600px",minHeight:"100px",disableClose:!0,data:{dropdown:e}}).afterClosed().subscribe(a=>{a&&this.resetTable()})}mappingOrderPayer(){let e=[];const a=this.isFC?this.billingPlusFInancement:this.billingData,i=h.filter(a,{is_financial_support:!1}),l=h.filter(a,{is_financial_support:!0}),r=h.filter(a,"organization_id"),s=h.filter(a,"company_branch_id");return i?.length>0&&i.forEach(d=>{e.push(d)}),l?.length>0&&l.forEach(d=>{e.push(d)}),r?.length>0&&(r.forEach(d=>{e.push(d)}),this.isOrganizationDoesntHaveTemplate=r.some(d=>!d?.timeline_template_id&&!d?.terms?.length)),s?.length>0&&(s.forEach(d=>{e.push(d)}),this.isCompanyDoesntHaveTemplate=s.some(d=>!d?.timeline_template_id&&!d?.terms?.length)),e}updateManualBilling(e){let a=this.mappingOrderPayer();this.subs.sink=this.dialog.open(ee,{width:"600px",minHeight:"100px",disableClose:!0,data:{...e,billing_id:e?.finance_organization_id?e?.finance_organization_id?._id:e?.billing_id?._id,isUpdate:!0,dropdown:a}}).afterClosed().subscribe(i=>{i&&this.resetTable()})}deleteManualBilling(e){let a=3,i="";const l=this.displayOperationName(e?.operation_name);i=e?.operation_name.includes("scholarship_fees")?l:this.translate.instant("OPERATION_NAME."+e?.operation_name),c().fire({title:this.translate.instant("DELETE_ITEM_TEMPLATE.TITLE"),html:this.translate.instant("CONFIRMDELETE",{value:e?.operation_name?this.translate.instant(i,{studentProgram:this.displayProgram(e.candidate_id)}):""}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`,cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const r=c().getConfirmButton(),s=setInterval(()=>{a-=1,r.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`},1e3);this.timeOutVal=setTimeout(()=>{r.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),c().enableConfirmButton(),clearInterval(s),clearTimeout(this.timeOutVal)},1e3*a)}}).then(r=>{clearTimeout(this.timeOutVal),r.value&&(this.isWaitingForResponse=!0,this.subs.sink=e?.finance_organization_id?this.financeService.deleteManualBillingFinanceOrganization(e._id).subscribe(s=>{this.isWaitingForResponse=!1,this.swalSuccessDeleteManualBilling()},s=>{this.isWaitingForResponse=!1,this.swalErrorDeleteManualBilling(s)}):this.financeService.deleteManualBilling(e._id).subscribe(s=>{this.isWaitingForResponse=!1,this.swalSuccessDeleteManualBilling()},s=>{this.isWaitingForResponse=!1,this.swalErrorDeleteManualBilling(s)}))})}removePayment(e){let a=3;c().fire({title:this.translate.instant("DELETE_ITEM_TEMPLATE.TITLE"),html:this.translate.instant("CONFIRMDELETE",{value:e.operation_name?this.translate.instant("OPERATION_NAME."+e.operation_name,{studentProgram:this.displayProgram(e.candidate_id)})+" "+this.parseTermIndexToNumber(e?.term_index_display):""}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("THUMBSUP.SWEET_ALERT.CONFIRM",{timer:a}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const i=c().getConfirmButton(),l=setInterval(()=>{a-=1,i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`},1e3);this.timeOutVal=setTimeout(()=>{i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),c().enableConfirmButton(),clearInterval(l),clearTimeout(this.timeOutVal)},1e3*a)}}).then(i=>{clearTimeout(this.timeOutVal),i.value&&(this.isWaitingForResponse=!0,this.subs.sink=this.financeService.deletePayment(e?._id).subscribe(l=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetTable()})},l=>{this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):l&&l.message&&l.message.includes("Cannot delete manual payment line because already paid / pending")?c().fire({type:"info",title:this.translate.instant("SORRY"),html:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}swalSuccessDeleteManualBilling(){c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetTable()})}swalErrorDeleteManualBilling(e){e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}displayDeleteManualPaymentSwal(e){return e.operation_name?"regulation_payment"===e.operation_name?this.translate.instant("OPERATION_NAME.payment_of_term",{studentProgram:this.displayProgram(e.candidate_id)})+" "+this.parseTermIndexToNumber(e?.term_index)+" - "+this.translate.instant("Regulation"):this.translate.instant("OPERATION_NAME."+e.operation_name,{studentProgram:this.displayProgram(e.candidate_id)})+" "+this.parseTermIndexToNumber(e?.term_index):""}deleteManualPayment(e){let a=3;c().fire({title:this.translate.instant("DELETE_ITEM_TEMPLATE.TITLE"),html:this.translate.instant("CONFIRMDELETE",{value:this.displayDeleteManualPaymentSwal(e)}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`,cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const i=c().getConfirmButton(),l=setInterval(()=>{a-=1,i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`},1e3);this.timeOutVal=setTimeout(()=>{i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),c().enableConfirmButton(),clearInterval(l),clearTimeout(this.timeOutVal)},1e3*a)}}).then(i=>{clearTimeout(this.timeOutVal),i.value&&(this.isWaitingForResponse=!0,this.subs.sink=e?.finance_organization_id?this.financeService.deleteManualPaymentFinanceOrganization(e?._id).subscribe(l=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetTable()})},l=>{this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.financeService.deleteManualPayment(e?._id).subscribe(l=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetTable()})},l=>{this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}deleteAutomaticPaidPayment(e){let a=3;c().fire({title:this.translate.instant("DELETE_ITEM_TEMPLATE.TITLE"),html:this.translate.instant("CONFIRMDELETE",{value:this.displayDeleteManualPaymentSwal(e)}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`,cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const i=c().getConfirmButton(),l=setInterval(()=>{a-=1,i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`},1e3);this.timeOutVal=setTimeout(()=>{i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),c().enableConfirmButton(),clearInterval(l),clearTimeout(this.timeOutVal)},1e3*a)}}).then(i=>{clearTimeout(this.timeOutVal),i.value&&(this.isWaitingForResponse=!0,this.subs.sink=e?.finance_organization_id?this.financeService.deleteManualPaymentFinanceOrganization(e?._id).subscribe(l=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetTable()})},l=>{this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.financeService.deleteAutomaticPayment(e?._id).subscribe(l=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetTable()})},l=>{this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}deleteManualRefund(e){let a=3;c().fire({title:this.translate.instant("DELETE_ITEM_TEMPLATE.TITLE"),html:this.translate.instant("CONFIRMDELETE",{value:e.operation_name?this.translate.instant("OPERATION_NAME."+e.operation_name,{studentProgram:this.displayProgram(e.candidate_id)}):""}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`,cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const i=c().getConfirmButton(),l=setInterval(()=>{a-=1,i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`},1e3);this.timeOutVal=setTimeout(()=>{i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),c().enableConfirmButton(),clearInterval(l),clearTimeout(this.timeOutVal)},1e3*a)}}).then(i=>{clearTimeout(this.timeOutVal);const l={master_transaction_id:e?._id};i.value&&(this.isWaitingForResponse=!0,this.subs.sink=this.showFinancement&&e?.finance_organization_id?._id?this.financeService.deleteManualRefundFinanceOrganization(l).subscribe(r=>{this.isWaitingForResponse=!1,this.deleteSwalRefundSuccess()},r=>{this.isWaitingForResponse=!1,this.deleteSwalRefundError(r)}):this.financeService.deleteManualRefund(l).subscribe(r=>{this.isWaitingForResponse=!1,this.deleteSwalRefundSuccess()},r=>{this.isWaitingForResponse=!1,this.deleteSwalRefundError(r)}))})}deleteSwalRefundError(e){e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}deleteSwalRefundSuccess(){c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetTable()})}deleteManualAvoir(e){let a=3;c().fire({title:this.translate.instant("DELETE_ITEM_TEMPLATE.TITLE"),html:this.translate.instant("CONFIRMDELETE",{value:e.operation_name?`${this.translate.instant("OPERATION_NAME.avoir_scholarship_fees")} ${this.displayProgram(e.candidate_id)}`:""}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`,cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const i=c().getConfirmButton(),l=setInterval(()=>{a-=1,i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`},1e3);this.timeOutVal=setTimeout(()=>{i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),c().enableConfirmButton(),clearInterval(l),clearTimeout(this.timeOutVal)},1e3*a)}}).then(i=>{clearTimeout(this.timeOutVal),i.value&&(this.isWaitingForResponse=!0,this.subs.sink=e?.finance_organization_id?this.financeService.deleteManualAvoirFinanceOrganization(e?._id).subscribe(l=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetTable()})},l=>{this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.financeService.deleteManualAvoir(e?._id).subscribe(l=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetTable()})},l=>{this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}addPaymentLine(){this.subs.sink=this.dialog.open(Jt,{width:"600px",minHeight:"100px",disableClose:!0,data:{dropdown:this.isFC?this.billingPlusFInancement:this.billingData}}).afterClosed().subscribe(a=>{a&&this.resetTable()})}updatePaymentLine(e){const a=this.isFC?this.billingPlusFInancement:this.billingData;this.subs.sink=this.dialog.open(Jt,{width:"600px",minHeight:"100px",disableClose:!0,data:{...e,billing_id:e?.finance_organization_id?e?.finance_organization_id?._id:e?.billing_id?._id,isFinancement:!!e?.finance_organization_id,isUpdate:!0,dropdown:a}}).afterClosed().subscribe(i=>{i&&this.resetTable()})}updateRefund(e){const a=this.isFC?this.billingPlusFInancement:this.billingData;this.subs.sink=this.dialog.open(Zt,{width:"600px",minHeight:"100px",disableClose:!0,data:{...e,candidateId:this.candidateId,billing_id:e?.billing_id?._id,isUpdate:!0,dropdown:a,isFC:this.isFC}}).afterClosed().subscribe(i=>{i&&this.resetTable()})}openOperationNoteDialog(e){this.subs.sink=this.dialog.open(Ea,{width:"600px",minHeight:"100px",disableClose:!0,data:e}).afterClosed().subscribe(a=>{})}onOpenTransaction(e){const a=this.router.createUrlTree(["transaction-report"],{queryParams:{studentNumber:e}});window.open(a.toString(),"_blank")}updateManualOperation(e){this.checkManualBilling(e?.operation_name)?this.updateManualBilling(e):this.checkManualPayment(e)?this.updatePaymentLine(e):this.checkManualRefund(e?.operation_name)?this.updateRefund(e):this.checkOD(e?.operation_name)&&this.updateOD(e)}deleteManualOperation(e){this.checkIsPaid(e)?this.deletePaid(e):this.checkManualAvoir(e?.operation_name)?this.deleteManualAvoir(e):this.checkManualBilling(e?.operation_name)?this.deleteManualBilling(e):this.checkManualPayment(e)?this.deleteManualPayment(e):this.checkAutomaticPaidPayment(e)?this.deleteAutomaticPaidPayment(e):this.checkManualRefund(e?.operation_name)?this.deleteManualRefund(e):this.checkOD(e?.operation_name)&&this.deleteOD(e)}checkManualOperation(e){return this.checkManualBilling(e)||this.checkManualPayment(e)||this.checkOD(e)||this.checkManualRefund(e)||this.checkManualAvoir(e)}checkManualEditAvoid(e){return!this.checkManualAvoir(e)}checkManualBilling(e){return!(!e.includes("scholarship_fees")&&"social_security"!==e&&"schedule_fees"!==e&&"administrative_charges"!==e&&"additional_costs_rejection"!==e&&"additional_costs_formal_notice"!==e&&"additional_costs_litigation"!==e&&"additional_costs_international_transfer"!==e)}checkManualPayment(e){return("payment_of_term"===e?.operation_name||"regulation_payment"===e?.operation_name)&&e?.is_manual_action}checkAutomaticPaidPayment(e){return("payment_of_term"===e?.operation_name||"regulation_payment"===e?.operation_name)&&!e?.is_manual_action&&"paid"===e?.status_line_dp_term}checkAutomaticNotPaidPayment(e){return("payment_of_term"===e?.operation_name||"regulation_payment"===e?.operation_name)&&!e?.is_manual_action&&"paid"!==e?.status_line_dp_term}checkOD(e){return"cash_transfer"===e||"student_balance_adjustment"===e}checkIsPaid(e){return!("paid"!==e?.term_status||e?.is_cancelled||"not_exported"!==e?.export_status||e?.transaction_id||"transfer"!==e?.nature&&""!==e?.nature||"billing_of_term"===e?.operation_name||"Avoir"===e?.nature)}checkManualRefund(e){return"refund"===e}checkManualAvoir(e){return!!e.includes("avoir_scholarship_fees")||this.operationNameListAvoir.some(a=>e===a)}displayProgram(e){let a="";return e?.intake_channel?.scholar_season_id?.scholar_season&&e?.intake_channel?.program?(a=e?.intake_channel?.scholar_season_id?.scholar_season.concat(" ",e?.intake_channel?.program),a):""}displayOperationName(e){return e?e?.includes("scholarship_fees")?e?.includes("avoir_scholarship_fees")?e.replace("avoir_scholarship_fees",this.translate.instant("OPERATION_NAME.avoir_scholarship_fees")):e?.includes("avoir_of_scholarship_fees")?e?.replace("avoir_of_scholarship_fees",this.translate.instant("OPERATION_NAME.avoir_of_scholarship_fees")):e?.replace("scholarship_fees",this.translate.instant("OPERATION_NAME.scholarship_fees")):this.translate.instant("OPERATION_NAME."+e):""}parseTermIndexToNumber(e){return e||0===e?Number(e)+1:""}viewTermDetail(e,a){this.subs.sink=this.dialog.open(wa.H,{width:"600px",minHeight:"100px",disableClose:!0,data:{terms:e,month:a,masterTransactionData:this.studentBalanceDataSource.data}}).afterClosed().subscribe(i=>{})}getDPDetail(e){this.subs.sink=this.dialog.open(Ia.U,{width:"800px",disableClose:!0,data:{billing_id:e}}).afterClosed().subscribe(a=>{})}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe()}checkIfTermHaveChargebackAndHaveDifferentStatus(e){if(1===e?.length){const a=e[0];return!!("partially_paid"===a?.term_status&&a?.term_amount_chargeback||a?.term_amount_chargeback&&a?.term_amount_chargeback!==a?.term_pay_amount)}return!1}displayStatusTermColor(e){let a="";return"billing"!==e?.flux&&(e?.payment_date&&"paid"===e?.status_line_dp_term?a="green":"pending"===e?.status_line_dp_term?a="orange":"not_authorised"===e?.status_line_dp_term?a="red":"chargeback"===e?.status_line_dp_term?a="purple":"billed"===e?.status_line_dp_term&&(a="blue")),a}displayStatusTermTooltip(e){let a="-";return"billing"!==e?.flux&&(e?.payment_date&&"paid"===e?.status_line_dp_term?a=this.translate.instant("Paid"):"pending"===e?.status_line_dp_term?a=this.translate.instant("Pending"):"not_authorised"===e?.status_line_dp_term?a=this.translate.instant("Refused"):"chargeback"===e?.status_line_dp_term?a=this.translate.instant("Chargeback"):"billed"===e?.status_line_dp_term&&(a=this.translate.instant("Generated"))),a}removeOverpaid(e){let a=3;c().fire({title:this.translate.instant("DELETE_ITEM_TEMPLATE.TITLE"),html:this.translate.instant("CONFIRMDELETE",{value:e.operation_name?this.translate.instant("OPERATION_NAME."+e.operation_name,{studentProgram:this.displayProgram(e.candidate_id)})+" "+this.parseTermIndexToNumber(e?.term_index_display):""}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("THUMBSUP.SWEET_ALERT.CONFIRM",{timer:a}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const i=c().getConfirmButton(),l=setInterval(()=>{a-=1,i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`},1e3);this.timeOutVal=setTimeout(()=>{i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),c().enableConfirmButton(),clearInterval(l),clearTimeout(this.timeOutVal)},1e3*a)}}).then(i=>{clearTimeout(this.timeOutVal),i.value&&(this.isWaitingForResponse=!0,this.subs.sink=this.financeService.deleteAutomaticPayment(e?._id).subscribe(l=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetTable()})},l=>{this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(No.m),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(ht.N),t.\u0275\u0275directiveInject(U.t),t.\u0275\u0275directiveInject(Vt.n),t.\u0275\u0275directiveInject(nt.Z),t.\u0275\u0275directiveInject(xt.p),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(ot.$),t.\u0275\u0275directiveInject(Ro.eN),t.\u0275\u0275directiveInject(tt.F0),t.\u0275\u0275directiveInject(bt.YI))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-finance-tab-detail"]],viewQuery:function(e,a){if(1&e&&t.\u0275\u0275viewQuery(E.NW,7),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.paginator=i.first)}},inputs:{candidateId:"candidateId",scholarSeasonData:"scholarSeasonData",showFinancement:"showFinancement"},features:[t.\u0275\u0275ProvidersFeature([U.t,Vt.n]),t.\u0275\u0275NgOnChangesFeature],decls:246,vars:78,consts:[["class","inner-loading-indicator",4,"ngIf"],[1,"center-card","mrgn-btn50","mrgn-t1"],[1,"example-headers-align"],[1,"panel-spacing",2,"background","#424242",3,"expanded"],[2,"color","white","align-self","center","margin","0px"],[4,"ngIf"],[1,"p-grid","top-space"],[1,"p-col-12","panel-divider"],[1,"p-col-12","no-padding"],[1,"horizontal","mat-elevation-z8","finance-table",2,"font-family","'firaSans' !important"],["mat-table","",1,"mat-elevation-z8",2,"font-family","firaSans",3,"dataSource"],["matColumnDef","payer"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalAmount"],["mat-cell","","class","pad-l-xs",4,"matCellDef"],["matColumnDef","amountBilled"],["matColumnDef","amountPaid"],["matColumnDef","remainingDue"],["matColumnDef","amountLate"],["matColumnDef","accumulatedLate"],["matColumnDef","deposit"],["matColumnDef","notRespected"],["matColumnDef","notSettled"],["matColumnDef","term1"],["matColumnDef","term2"],["matColumnDef","term3"],["matColumnDef","term4"],["matColumnDef","term5"],["matColumnDef","term6"],["matColumnDef","term7"],["matColumnDef","term8"],["matColumnDef","term9"],["matColumnDef","term10"],["matColumnDef","term11"],["matColumnDef","term12"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","style","text-align: center !important",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",3,"ngClass",4,"ngIf"],[1,"mat-elevation-z8","balance-table",2,"font-family","'firaSans' !important"],[1,"student-balance-action"],["mat-button","","mat-raised-button","","class","relative","style","width: 75px; padding-left: 7px !important","color","accent","matTooltipPosition","above","data-cy","button-action-menu",3,"matTooltip","disabled","matMenuTriggerFor",4,"ngIf"],["action","matMenu"],["mat-menu-item","","data-cy","button-add-billing-menu",1,"border-button",3,"matTooltip","click"],["mat-menu-item","","data-cy","button-add-payment-line-menu",1,"border-button",3,"matTooltip","click"],["mat-menu-item","","data-cy","button-add-avoir-menu",1,"border-button",3,"matTooltip","click"],["mat-menu-item","","data-cy","button-add-refund-menu",1,"border-button",3,"matTooltip","click"],["mat-menu-item","","data-cy","button-add-od-menu",3,"matTooltip","click"],["mat-menu-item","","data-cy","button-download-invoice-menu",3,"matTooltip","click",4,"ngIf"],[3,"xPosition","yPosition"],["actionAcademic","matMenu"],["mat-menu-item","","class","border-button","data-cy","button-download-invoice-menu",3,"matTooltip","click",4,"ngIf"],["matColumnDef","date-balance","sticky",""],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-date-balance",4,"matHeaderCellDef"],["matColumnDef","operation-name-balance","sticky",""],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-operation-name-balance",4,"matHeaderCellDef"],["matColumnDef","payer-balance","sticky",""],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-payer-balance",4,"matHeaderCellDef"],["matColumnDef","flux-balance"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-flux-balance",4,"matHeaderCellDef"],["matColumnDef","nature-balance"],["mat-header-cell","","class","action-header-column non-col","style","text-align: right !important","data-cy","table-col-nature-balance",4,"matHeaderCellDef"],["matColumnDef","debit-balance"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-debit-balance",4,"matHeaderCellDef"],["matColumnDef","credit-balance"],["mat-header-cell","","class","action-header-column","style","text-align: right !important","data-cy","table-col-credit-balance",3,"background-color",4,"matHeaderCellDef"],["matColumnDef","solde-balance"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-solde-balance",4,"matHeaderCellDef"],["matColumnDef","status-term-balance"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-status-term-balance",4,"matHeaderCellDef"],["matColumnDef","payment-date-balance"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-payment-date-balance",4,"matHeaderCellDef"],["matColumnDef","accounting-document-balance"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-accounting-document-balance",4,"matHeaderCellDef"],["matColumnDef","balance-date-balance"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-balance-date-balance",4,"matHeaderCellDef"],["matColumnDef","legal-entity-balance"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-legal-entity-balance",4,"matHeaderCellDef"],["matColumnDef","user-balance"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-user-balance",4,"matHeaderCellDef"],["matColumnDef","action-balance","stickyEnd",""],["mat-header-cell","","class","action-header-column non-col","style","text-align: right !important","data-cy","table-col-action-balance",4,"matHeaderCellDef"],["matColumnDef","date-total","sticky",""],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-date-total",4,"matHeaderCellDef"],["matColumnDef","operation-name-total","sticky",""],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-operation-name-total",4,"matHeaderCellDef"],["matColumnDef","payer-total","sticky",""],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-payer-total",4,"matHeaderCellDef"],["matColumnDef","flux-total"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-flux-total",4,"matHeaderCellDef"],["matColumnDef","nature-total"],["mat-header-cell","","class","action-header-column non-col","style","text-align: right !important","data-cy","table-col-nature-total",4,"matHeaderCellDef"],["matColumnDef","debit-total"],["mat-header-cell","","class","action-header-column","style","text-align: right !important","data-cy","table-col-debit-total",4,"matHeaderCellDef"],["matColumnDef","credit-total"],["mat-header-cell","","class","action-header-column","style","text-align: right !important","data-cy","table-col-credit-total",4,"matHeaderCellDef"],["matColumnDef","solde-total"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-solde-total",4,"matHeaderCellDef"],["matColumnDef","status-term-total"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-status-term-total",4,"matHeaderCellDef"],["matColumnDef","payment-date-total"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-payment-date-total",4,"matHeaderCellDef"],["matColumnDef","accounting-document-total"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-accounting-document-total",4,"matHeaderCellDef"],["matColumnDef","balance-date-total"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-balance-date-total",4,"matHeaderCellDef"],["matColumnDef","legal-entity-total"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-legal-entity-total",4,"matHeaderCellDef"],["matColumnDef","user-total"],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-user-total",4,"matHeaderCellDef"],["matColumnDef","action-total","stickyEnd",""],["mat-header-cell","","class","action-header-column non-col","data-cy","table-col-action-total",4,"matHeaderCellDef"],["matColumnDef","date","sticky",""],["mat-header-cell","","matTooltipPosition","above","data-cy","table-col-date",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center !important","data-cy","table-col-date",3,"matTooltip",4,"matCellDef"],["matColumnDef","operation-name","sticky",""],["data-cy","table-col-operation-name","mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["data-cy","table-col-operation-name","mat-cell","","class","pad-l-xs","style","text-align: left !important",4,"matCellDef"],["matColumnDef","payer","sticky",""],["data-cy","table-col-payer","mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["data-cy","table-col-payer","mat-cell","","class","pad-l-xs","style","text-align: left !important",4,"matCellDef"],["matColumnDef","flux"],["data-cy","table-col-flux","mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["data-cy","table-col-flux","mat-cell","","class","pad-l-xs",3,"matTooltip",4,"matCellDef"],["matColumnDef","nature"],["data-cy","table-col-nature","mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["data-cy","table-col-nature","mat-cell","","class","pad-l-xs",3,"matTooltip",4,"matCellDef"],["matColumnDef","debit"],["data-cy","table-col-debit","mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["data-cy","table-col-debit","mat-cell","","class","pad-l-xs","style","text-align: right !important",4,"matCellDef"],["matColumnDef","credit"],["data-cy","table-col-credit","mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["data-cy","table-col-credit","mat-cell","","class","pad-l-xs","style","text-align: right !important",4,"matCellDef"],["matColumnDef","solde"],["data-cy","table-col-solde","mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["data-cy","table-col-solde","mat-cell","","class","pad-l-xs","style","text-align: right !important",4,"matCellDef"],["matColumnDef","status-term"],["data-cy","table-col-status-term","mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["data-cy","table-col-status-term","mat-cell","","class","pad-l-xs",4,"matCellDef"],["matColumnDef","payment-date"],["data-cy","table-col-payment-date","mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","class","pad-l-xs","style","text-align: center !important","data-cy","table-col-payment-date",4,"matCellDef"],["matColumnDef","accounting-document"],["data-cy","table-col-accounting-document","mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["data-cy","table-col-accounting-document","mat-cell","","class","pad-l-xs",4,"matCellDef"],["matColumnDef","balance-date"],["data-cy","table-col-balance-date","mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["data-cy","table-col-balance-date","mat-cell","","class","pad-l-xs","style","text-align: center !important",4,"matCellDef"],["matColumnDef","legal-entity"],["data-cy","table-col-legal-entity","mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["data-cy","table-col-legal-entity","mat-cell","","class","pad-l-xs","style","text-align: center !important",4,"matCellDef"],["matColumnDef","user"],["matColumnDef","action","stickyEnd",""],["data-cy","table-col-action","mat-header-cell","","matTooltipPosition","above","style","border-left: 1px solid #545454",3,"matTooltip",4,"matHeaderCellDef"],["data-cy","table-col-action","mat-cell","","class","pad-l-xs","style","border-left: 1px solid #545454",4,"matCellDef"],["data-cy","spinner-table","mat-header-cell","","colspan","100%","style","text-align: center !important",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["data-cy","no-data-found","class","no-records",3,"ngClass",4,"ngIf"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],[2,"font-size","11px","padding","0px 2px","font-weight","500"],["mat-cell",""],["style","padding-left: 5px",3,"matTooltip",4,"ngIf"],[2,"padding-left","5px",3,"matTooltip"],["mat-cell","",1,"pad-l-xs"],[2,"color","#b7b7b7"],[2,"font-size","11px"],["svgIcon","credit-card-check",1,"mat-icon-svgIcon"],[1,"deposit"],["matTooltipPosition","above","class","icon-status green","aria-hidden","true",3,"matTooltip",4,"ngIf"],["matTooltipPosition","above","class","icon-status blue","aria-hidden","true",4,"ngIf"],["matTooltipPosition","above","class","icon-status orange","aria-hidden","true",4,"ngIf"],["matTooltipPosition","above","class","icon-status red","aria-hidden","true",3,"matTooltip",4,"ngIf"],["matTooltipPosition","above","aria-hidden","true",1,"icon-status","green",3,"matTooltip"],["matTooltipPosition","above","aria-hidden","true",1,"icon-status","blue"],["matTooltipPosition","above","aria-hidden","true",1,"icon-status","orange"],["matTooltipPosition","above","aria-hidden","true",1,"icon-status","red",3,"matTooltip"],["matTooltipPosition","above","class","icon-status blue","aria-hidden","true",3,"matTooltip",4,"ngIf"],["matTooltipPosition","above","class","icon-status orange","aria-hidden","true",3,"matTooltip",4,"ngIf"],["matTooltipPosition","above","class","icon-status purple","aria-hidden","true",3,"matTooltip",4,"ngIf"],["matTooltipPosition","above","aria-hidden","true",1,"icon-status","blue",3,"matTooltip"],["matTooltipPosition","above","aria-hidden","true",1,"icon-status","orange",3,"matTooltip"],["matTooltipPosition","above","aria-hidden","true",1,"icon-status","purple",3,"matTooltip"],["mat-icon-button","",1,"margin-right-button","view-term",3,"matTooltip","click"],["svgIcon","eye"],["style","color: #b7b7b7",4,"ngIf"],["svgIcon","numeric-1-box",1,"mat-icon-svgIcon"],[1,"date-term"],[4,"ngFor","ngForOf"],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],[2,"text-align","end","margin-right","8px"],["class","date-terms",4,"ngIf"],["matTooltipPosition","above","class","icon-status red","aria-hidden","true",3,"matTooltip","ngClass",4,"ngIf"],[1,"date-terms"],["matTooltipPosition","above","aria-hidden","true",1,"icon-status","red",3,"matTooltip","ngClass"],["svgIcon","numeric-2-box",1,"mat-icon-svgIcon"],["svgIcon","numeric-3-box",1,"mat-icon-svgIcon"],["svgIcon","numeric-4-box",1,"mat-icon-svgIcon"],["svgIcon","numeric-5-box",1,"mat-icon-svgIcon"],["svgIcon","numeric-6-box",1,"mat-icon-svgIcon"],["svgIcon","numeric-7-box",1,"mat-icon-svgIcon"],["svgIcon","numeric-8-box",1,"mat-icon-svgIcon"],["svgIcon","numeric-9-box",1,"mat-icon-svgIcon"],[1,"customs-icon"],["viewBox","0 0 24 24",2,"width","16px","height","16px"],["fill","currentColor","d","M14,9H16V15H14V9M21,5V19C21,20.11 20.11,21 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3H19C20.11,3 21,3.9 21,5M10,7H6V9H8V17H10V7M18,9A2,2 0 0,0 16,7H14A2,2 0 0,0 12,9V15C12,16.11 12.9,17 14,17H16C17.11,17 18,16.11 18,15V9Z"],[1,"date-term",2,"margin-top","-3px","margin-bottom","15px"],[1,"box-outline"],["mat-header-cell","","colspan","100%",2,"text-align","center !important"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records",3,"ngClass"],["mat-button","","mat-raised-button","","color","accent","matTooltipPosition","above","data-cy","button-action-menu",1,"relative",2,"width","75px","padding-left","7px !important",3,"matTooltip","disabled","matMenuTriggerFor"],["mat-menu-item","","data-cy","button-download-invoice-menu",3,"matTooltip","click"],["mat-menu-item","","data-cy","button-download-invoice-menu",1,"border-button",3,"matTooltip","click"],["mat-header-cell","","data-cy","table-col-date-balance",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-operation-name-balance",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-payer-balance",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-flux-balance",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-nature-balance",1,"action-header-column","non-col",2,"text-align","right !important"],[2,"padding-right","6px"],["mat-header-cell","","data-cy","table-col-debit-balance",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-credit-balance",1,"action-header-column",2,"text-align","right !important"],["mat-header-cell","","data-cy","table-col-solde-balance",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-status-term-balance",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-payment-date-balance",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-accounting-document-balance",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-balance-date-balance",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-legal-entity-balance",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-user-balance",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-action-balance",1,"action-header-column","non-col",2,"text-align","right !important"],["mat-header-cell","","data-cy","table-col-date-total",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-operation-name-total",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-payer-total",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-flux-total",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-nature-total",1,"action-header-column","non-col",2,"text-align","right !important"],["mat-header-cell","","data-cy","table-col-debit-total",1,"action-header-column",2,"text-align","right !important"],["mat-header-cell","","data-cy","table-col-credit-total",1,"action-header-column",2,"text-align","right !important"],["mat-header-cell","","data-cy","table-col-solde-total",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-status-term-total",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-payment-date-total",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-accounting-document-total",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-balance-date-total",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-legal-entity-total",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-user-total",1,"action-header-column","non-col"],["mat-header-cell","","data-cy","table-col-action-total",1,"action-header-column","non-col"],["mat-header-cell","","matTooltipPosition","above","data-cy","table-col-date",3,"matTooltip"],["mat-cell","","data-cy","table-col-date",2,"text-align","center !important",3,"matTooltip"],["data-cy","table-col-operation-name","mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["data-cy","table-col-operation-name","mat-cell","",1,"pad-l-xs",2,"text-align","left !important"],["data-cy","table-col-payer","mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["data-cy","table-col-payer","mat-cell","",1,"pad-l-xs",2,"text-align","left !important"],[2,"text-align","center"],["data-cy","table-col-flux","mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["data-cy","table-col-flux","mat-cell","",1,"pad-l-xs",3,"matTooltip"],["data-cy","table-col-nature","mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["data-cy","table-col-nature","mat-cell","",1,"pad-l-xs",3,"matTooltip"],["data-cy","table-col-debit","mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["data-cy","table-col-debit","mat-cell","",1,"pad-l-xs",2,"text-align","right !important"],["data-cy","table-col-credit","mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["data-cy","table-col-credit","mat-cell","",1,"pad-l-xs",2,"text-align","right !important"],["data-cy","table-col-solde","mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["data-cy","table-col-solde","mat-cell","",1,"pad-l-xs",2,"text-align","right !important"],["data-cy","table-col-status-term","mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["data-cy","table-col-status-term","mat-cell","",1,"pad-l-xs"],["aria-hidden","true",1,"mat-icon-status",3,"ngClass","matTooltip"],["data-cy","table-col-payment-date","mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-cell","","data-cy","table-col-payment-date",1,"pad-l-xs",2,"text-align","center !important"],["data-cy","table-col-accounting-document","mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["data-cy","table-col-accounting-document","mat-cell","",1,"pad-l-xs"],["style","text-align: center !important",4,"ngIf"],["style","text-align: left !important",3,"matTooltip",4,"ngIf"],[2,"text-align","center !important"],[2,"text-align","left !important",3,"matTooltip"],["data-cy","table-col-balance-date","mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["data-cy","table-col-balance-date","mat-cell","",1,"pad-l-xs",2,"text-align","center !important"],["aria-hidden","true",1,"mat-icon-status","red"],["data-cy","table-col-legal-entity","mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["data-cy","table-col-legal-entity","mat-cell","",1,"pad-l-xs",2,"text-align","center !important"],[1,"header-styling"],["matTooltipPosition","above",3,"matTooltip"],["data-cy","table-col-action","mat-header-cell","","matTooltipPosition","above",2,"border-left","1px solid #545454",3,"matTooltip"],["data-cy","table-col-action","mat-cell","",1,"pad-l-xs",2,"border-left","1px solid #545454"],["mat-icon-button","","class","margin-right-button","data-cy","button-view-transaction",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","class","margin-right-button","data-cy","button-edit",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","class","margin-right-button","data-cy","button-remove",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","class","margin-right-button","data-cy","button-operation-details",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","class","margin-right-button",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","data-cy","button-view-transaction",1,"margin-right-button",3,"matTooltip","click"],["mat-icon-button","","data-cy","button-edit",1,"margin-right-button",3,"matTooltip","click"],["svgIcon","pencil"],["mat-icon-button","","data-cy","button-remove",1,"margin-right-button",3,"matTooltip","click"],["svgIcon","trash-can"],["mat-icon-button","","data-cy","button-operation-details",1,"margin-right-button",3,"matTooltip","click"],["svgIcon","note-outline"],["svgIcon","cash-remove"],["mat-icon-button","",1,"margin-right-button",3,"matTooltip","click"],["data-cy","spinner-table","mat-header-cell","","colspan","100%",2,"text-align","center !important"],["data-cy","no-data-found",1,"no-records",3,"ngClass"]],template:function(e,a){1&e&&(t.\u0275\u0275template(0,Vo,2,1,"div",0),t.\u0275\u0275elementStart(1,"div",1)(2,"div")(3,"mat-accordion",2)(4,"mat-expansion-panel",3)(5,"mat-expansion-panel-header")(6,"mat-panel-title")(7,"h4",4),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275template(11,Lo,2,1,"span",5),t.\u0275\u0275template(12,Uo,2,1,"span",5),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(13,"div",6),t.\u0275\u0275element(14,"div",7),t.\u0275\u0275elementStart(15,"div",8)(16,"h4"),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(19,"div")(20,"div",9)(21,"table",10),t.\u0275\u0275elementContainerStart(22,11),t.\u0275\u0275template(23,zo,5,6,"th",12),t.\u0275\u0275template(24,Yo,5,4,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(25,14),t.\u0275\u0275template(26,Go,5,6,"th",12),t.\u0275\u0275template(27,nl,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(28,16),t.\u0275\u0275template(29,al,5,6,"th",12),t.\u0275\u0275template(30,ml,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(31,17),t.\u0275\u0275template(32,_l,5,6,"th",12),t.\u0275\u0275template(33,Ol,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(34,18),t.\u0275\u0275template(35,Pl,5,6,"th",12),t.\u0275\u0275template(36,Rl,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(37,19),t.\u0275\u0275template(38,Vl,5,6,"th",12),t.\u0275\u0275template(39,Gl,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(40,20),t.\u0275\u0275template(41,ql,5,6,"th",12),t.\u0275\u0275template(42,ar,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(43,21),t.\u0275\u0275template(44,ir,5,3,"th",12),t.\u0275\u0275template(45,Or,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(46,22),t.\u0275\u0275template(47,Pr,5,6,"th",12),t.\u0275\u0275template(48,Vr,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(49,23),t.\u0275\u0275template(50,Lr,5,6,"th",12),t.\u0275\u0275template(51,Qr,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(52,24),t.\u0275\u0275template(53,Xr,8,6,"th",12),t.\u0275\u0275template(54,Ms,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(55,25),t.\u0275\u0275template(56,Ss,8,6,"th",12),t.\u0275\u0275template(57,Zs,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(58,26),t.\u0275\u0275template(59,Js,8,6,"th",12),t.\u0275\u0275template(60,Oc,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(61,27),t.\u0275\u0275template(62,Pc,8,6,"th",12),t.\u0275\u0275template(63,td,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(64,28),t.\u0275\u0275template(65,ed,8,6,"th",12),t.\u0275\u0275template(66,wd,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(67,29),t.\u0275\u0275template(68,Dd,8,6,"th",12),t.\u0275\u0275template(69,np,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(70,30),t.\u0275\u0275template(71,ap,8,6,"th",12),t.\u0275\u0275template(72,Ep,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(73,31),t.\u0275\u0275template(74,Ip,8,6,"th",12),t.\u0275\u0275template(75,im,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(76,32),t.\u0275\u0275template(77,om,8,6,"th",12),t.\u0275\u0275template(78,km,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(79,33),t.\u0275\u0275template(80,Fm,9,6,"th",12),t.\u0275\u0275template(81,l_,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(82,34),t.\u0275\u0275template(83,r_,8,6,"th",12),t.\u0275\u0275template(84,B_,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(85,35),t.\u0275\u0275template(86,A_,8,6,"th",12),t.\u0275\u0275template(87,su,3,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(88,36),t.\u0275\u0275template(89,cu,3,0,"th",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(90,du,1,0,"tr",38),t.\u0275\u0275template(91,pu,1,1,"tr",39),t.\u0275\u0275template(92,mu,1,1,"tr",40),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(93,_u,3,6,"div",41),t.\u0275\u0275pipe(94,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(95,"div",6),t.\u0275\u0275element(96,"div",7),t.\u0275\u0275elementStart(97,"div",8)(98,"h4"),t.\u0275\u0275text(99),t.\u0275\u0275pipe(100,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(101,"div",42)(102,"div",43),t.\u0275\u0275template(103,uu,6,8,"button",44),t.\u0275\u0275elementStart(104,"mat-menu",null,45)(106,"button",46),t.\u0275\u0275listener("click",function(){return a.actionTrigger("billing")}),t.\u0275\u0275pipe(107,"translate"),t.\u0275\u0275text(108),t.\u0275\u0275pipe(109,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(110,"button",47),t.\u0275\u0275listener("click",function(){return a.actionTrigger("payment_line")}),t.\u0275\u0275pipe(111,"translate"),t.\u0275\u0275text(112),t.\u0275\u0275pipe(113,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(114,"button",48),t.\u0275\u0275listener("click",function(){return a.actionTrigger("avoir/discount")}),t.\u0275\u0275pipe(115,"translate"),t.\u0275\u0275text(116),t.\u0275\u0275pipe(117,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(118,"button",49),t.\u0275\u0275listener("click",function(){return a.actionTrigger("refund")}),t.\u0275\u0275pipe(119,"translate"),t.\u0275\u0275text(120),t.\u0275\u0275pipe(121,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(122,"button",50),t.\u0275\u0275listener("click",function(){return a.actionTrigger("od")}),t.\u0275\u0275pipe(123,"translate"),t.\u0275\u0275text(124),t.\u0275\u0275pipe(125,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(126,gu,4,6,"button",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(127,hu,6,8,"button",44),t.\u0275\u0275elementStart(128,"mat-menu",52,53),t.\u0275\u0275template(130,fu,5,9,"button",54),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(131,"table",10),t.\u0275\u0275elementContainerStart(132,55),t.\u0275\u0275template(133,bu,1,0,"th",56),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(134,57),t.\u0275\u0275template(135,Cu,1,0,"th",58),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(136,59),t.\u0275\u0275template(137,xu,1,0,"th",60),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(138,61),t.\u0275\u0275template(139,yu,1,0,"th",62),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(140,63),t.\u0275\u0275template(141,vu,4,3,"th",64),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(142,65),t.\u0275\u0275template(143,Tu,1,0,"th",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(144,67),t.\u0275\u0275template(145,Mu,2,3,"th",68),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(146,69),t.\u0275\u0275template(147,Su,1,0,"th",70),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(148,71),t.\u0275\u0275template(149,Ou,1,0,"th",72),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(150,73),t.\u0275\u0275template(151,Pu,1,0,"th",74),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(152,75),t.\u0275\u0275template(153,wu,1,0,"th",76),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(154,77),t.\u0275\u0275template(155,Du,1,0,"th",78),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(156,79),t.\u0275\u0275template(157,Eu,1,0,"th",80),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(158,81),t.\u0275\u0275template(159,Iu,1,0,"th",82),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(160,83),t.\u0275\u0275template(161,ku,1,0,"th",84),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(162,85),t.\u0275\u0275template(163,Fu,1,0,"th",86),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(164,87),t.\u0275\u0275template(165,Bu,1,0,"th",88),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(166,89),t.\u0275\u0275template(167,Au,1,0,"th",90),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(168,91),t.\u0275\u0275template(169,Nu,1,0,"th",92),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(170,93),t.\u0275\u0275template(171,Ru,4,3,"th",94),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(172,95),t.\u0275\u0275template(173,Vu,2,1,"th",96),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(174,97),t.\u0275\u0275template(175,Lu,2,1,"th",98),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(176,99),t.\u0275\u0275template(177,Uu,1,0,"th",100),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(178,101),t.\u0275\u0275template(179,zu,1,0,"th",102),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(180,103),t.\u0275\u0275template(181,$u,1,0,"th",104),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(182,105),t.\u0275\u0275template(183,Hu,1,0,"th",106),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(184,107),t.\u0275\u0275template(185,ju,1,0,"th",108),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(186,109),t.\u0275\u0275template(187,Wu,1,0,"th",110),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(188,111),t.\u0275\u0275template(189,Yu,1,0,"th",112),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(190,113),t.\u0275\u0275template(191,Gu,1,0,"th",114),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(192,115),t.\u0275\u0275template(193,qu,5,6,"th",116),t.\u0275\u0275template(194,Ku,3,2,"td",117),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(195,118),t.\u0275\u0275template(196,Qu,5,6,"th",119),t.\u0275\u0275template(197,ag,7,6,"td",120),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(198,121),t.\u0275\u0275template(199,ig,5,6,"th",122),t.\u0275\u0275template(200,pg,4,2,"td",123),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(201,124),t.\u0275\u0275template(202,mg,5,6,"th",125),t.\u0275\u0275template(203,_g,5,6,"td",126),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(204,127),t.\u0275\u0275template(205,ug,5,6,"th",128),t.\u0275\u0275template(206,gg,5,6,"td",129),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(207,130),t.\u0275\u0275template(208,hg,5,6,"th",131),t.\u0275\u0275template(209,bg,2,1,"td",132),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(210,133),t.\u0275\u0275template(211,Cg,5,6,"th",134),t.\u0275\u0275template(212,yg,2,1,"td",135),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(213,136),t.\u0275\u0275template(214,vg,5,6,"th",137),t.\u0275\u0275template(215,Tg,3,1,"td",138),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(216,139),t.\u0275\u0275template(217,Mg,5,6,"th",140),t.\u0275\u0275template(218,Pg,3,2,"td",141),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(219,142),t.\u0275\u0275template(220,wg,5,6,"th",143),t.\u0275\u0275template(221,Ig,3,2,"td",144),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(222,145),t.\u0275\u0275template(223,kg,5,6,"th",146),t.\u0275\u0275template(224,Ag,3,2,"td",147),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(225,148),t.\u0275\u0275template(226,Ng,5,6,"th",149),t.\u0275\u0275template(227,Ug,4,3,"td",150),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(228,151),t.\u0275\u0275template(229,zg,5,6,"th",152),t.\u0275\u0275template(230,$g,2,1,"td",153),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(231,154),t.\u0275\u0275template(232,Hg,5,6,"th",12),t.\u0275\u0275template(233,jg,7,14,"td",123),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(234,155),t.\u0275\u0275template(235,Wg,5,6,"th",156),t.\u0275\u0275template(236,dh,19,18,"td",157),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(237,36),t.\u0275\u0275template(238,ph,3,0,"th",158),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(239,mh,1,0,"tr",159),t.\u0275\u0275template(240,_h,1,0,"tr",159),t.\u0275\u0275template(241,uh,1,0,"tr",159),t.\u0275\u0275template(242,gh,1,1,"tr",39),t.\u0275\u0275template(243,hh,1,1,"tr",40),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(244,fh,3,6,"div",160),t.\u0275\u0275pipe(245,"async"),t.\u0275\u0275elementEnd()()()()),2&e&&(t.\u0275\u0275property("ngIf",a.isWaitingForResponse),t.\u0275\u0275advance(4),t.\u0275\u0275property("expanded",!0),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(9,42,"Registration")," ",null==a.scholarSeasonData||null==a.scholarSeasonData.intake_channel?null:a.scholarSeasonData.intake_channel.program," - ",t.\u0275\u0275pipeBind1(10,44,"ADMISIONSTEPFINANCEMENT.Full Rate")," : "),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","internal"===(null==a.scholarSeasonData?null:a.scholarSeasonData.registration_profile_type)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","external"===(null==a.scholarSeasonData?null:a.scholarSeasonData.registration_profile_type)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(18,46,"Finance status")),t.\u0275\u0275advance(4),t.\u0275\u0275property("dataSource",a.financeStatus),t.\u0275\u0275advance(69),t.\u0275\u0275property("matHeaderRowDef",a.financeStatusDisplayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(74,ae)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.financeStatusDisplayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(94,48,a.noFinancialData)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(100,50,"Student Balance")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==a.permissionActionFinance?null:a.permissionActionFinance.includes(a.currentUserTypeId)),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(107,52,"Add billing")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(109,54,"Add billing")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(111,56,"Add payment line")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(113,58,"Add payment line")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(115,60,"Add avoir/discount")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(117,62,"Add avoir/discount")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(119,64,"Add refund")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(121,66,"Add refund")," "),t.\u0275\u0275advance(2),t.\u0275\u0275classMap(t.\u0275\u0275pureFunction1(75,bh,a.hasBilledTerm)),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(123,68,"Add OD")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(125,70,"Add OD")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.hasBilledTerm),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a.permissionActionFinanceForAcademic?null:a.permissionActionFinanceForAcademic.includes(a.currentUserTypeId)),t.\u0275\u0275advance(1),t.\u0275\u0275property("xPosition","before")("yPosition","below"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.hasBilledTerm),t.\u0275\u0275advance(1),t.\u0275\u0275property("dataSource",a.studentBalanceDataSource),t.\u0275\u0275advance(108),t.\u0275\u0275property("matHeaderRowDef",a.balanceCols)("matHeaderRowDefSticky",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.totalCols)("matHeaderRowDefSticky",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.studentBalanceDisplayedColumn)("matHeaderRowDefSticky",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(77,ae)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.studentBalanceDisplayedColumn),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(245,72,a.noData)))},dependencies:[f.mk,f.sg,f.O5,I.lW,Z.pp,Z.ib,Z.yz,Z.yK,k.Hw,ut.VK,ut.OP,ut.p6,D.Ou,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,G.gM,H.oO,f.Ov,f.gd,f.H9,M.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.finance-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .balance-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:unset!important}.horizontal[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#212121}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:50px;background:#eaa11c!important}.hidden[_ngcontent-%COMP%]{display:none}.form-field[_ngcontent-%COMP%]{margin-top:6px}.top-space[_ngcontent-%COMP%]{margin-top:20px!important}.person-image[_ngcontent-%COMP%]{display:inline-block;margin-right:0;height:18px;width:18px;vertical-align:baseline}.footer-row[_ngcontent-%COMP%]{color:#fff;padding-top:0!important}.admission-card[_ngcontent-%COMP%]{height:50px!important}.footer-height[_ngcontent-%COMP%]{height:28px}.flag-icon[_ngcontent-%COMP%]{vertical-align:text-top;height:17px;width:17px}img.png-icons[_ngcontent-%COMP%]{margin-top:-100%;height:15px;width:15px}img.engagement-level-icon[_ngcontent-%COMP%]{height:15px;width:15px;display:inline;margin:0}.card-header[_ngcontent-%COMP%]{width:100%;font-size:11px;margin-top:3px;min-width:60px}.card-body[_ngcontent-%COMP%]{width:100%;font-size:11px;display:block;min-width:60px}.card-title[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle;font-size:11px;border:1px solid #545454;height:90px;padding:9px 3px;text-align:center;min-width:60px}.card[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle;font-size:11px;border:1px solid #545454;height:55px;padding:9px 8px;text-align:center;min-width:60px}.date-term[_ngcontent-%COMP%]{font-size:11px!important;width:100%;display:block;font-weight:500;min-width:60px}.date-terms[_ngcontent-%COMP%]{width:100%;display:block;font-size:11px;font-style:italic;min-width:60px}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}th.mat-header-cell[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{align-items:center;font-size:10pt}table.mat-table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]  .action-header-column button{font-size:.8em!important;margin-bottom:5px}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{align-items:center!important;border-right:1px solid #545454;padding:4px!important}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){min-width:33px;width:3%}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:10%;text-align:center;font-size:10pt;min-width:85px}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:7%;text-align:center;font-size:10pt;max-width:70px;min-width:70px}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:20%;text-align:left;font-size:10pt}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:5%;min-width:60px;text-align:center;max-width:60px}[_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){width:5%;min-width:60px;text-align:center;max-width:60px}[_nghost-%COMP%]     table tr td:nth-child(6) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(6) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){width:5%;min-width:65px;text-align:center;max-width:65px;padding-right:12px!important}[_nghost-%COMP%]     table tr td:nth-child(7) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(7) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){width:5%;min-width:80px;max-width:80px;text-align:center}[_nghost-%COMP%]     table tr td:nth-child(9), [_nghost-%COMP%]     table tr th:nth-child(9){width:15%;min-width:125px;padding-left:5px}[_nghost-%COMP%]     table tr td:nth-child(9) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(9) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr td *{vertical-align:middle}[_nghost-%COMP%]     table tr th{align-items:center;text-align:center!important;font-size:10pt!important}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr th button.mat-sort-header-button{display:inline!important}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121;border-bottom:none!important;font-size:10pt!important;height:auto}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}[_nghost-%COMP%]     table thead tr:nth-child(2) th .mat-icon-svgIcon, [_nghost-%COMP%]     table thead tr:nth-child(3) th .mat-icon-svgIcon{vertical-align:text-bottom}[_nghost-%COMP%]     table thead tr:nth-child(3) th:nth-child(3){padding-top:0!important}.action-header-column[_ngcontent-%COMP%]{text-align:right!important;vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.table-section-height[_ngcontent-%COMP%]{max-height:430px;overflow:scroll}.horizontals[_ngcontent-%COMP%]{padding-right:8px}.hide[_ngcontent-%COMP%]{display:none}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.icon-thumbsup[_ngcontent-%COMP%]{width:13px;padding:2px 0 0}.icon-certifier[_ngcontent-%COMP%]{width:15px}.loading-indicator[_ngcontent-%COMP%]{position:fixed;z-index:999;height:2em;width:6em;overflow:show;margin:auto;inset:0}.loading-indicator[_ngcontent-%COMP%]:before{content:"";display:block;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000004d}.yellow[_ngcontent-%COMP%]{color:#ffd740}.orange[_ngcontent-%COMP%]{color:#f49f36}.blue[_ngcontent-%COMP%]{color:#36ebf4!important}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.black[_ngcontent-%COMP%]{color:#000}.green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#adff2f}.icon-status[_ngcontent-%COMP%]{font-size:12px;bottom:2px;position:relative;width:13px}.red-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#ff4040}.black-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#000}.currency[_ngcontent-%COMP%]{width:100%;display:block}@font-face{font-family:firaSans;src:url(FiraSansExtraCondensed-Regular.4f3f4d10e46c8043.woff)}h5[_ngcontent-%COMP%]{font-weight:400!important}.pad-r[_ngcontent-%COMP%]{padding-right:15px}.finance[_ngcontent-%COMP%]{width:215px;float:left}.finance-text[_ngcontent-%COMP%]{width:105px;float:left;padding-top:20px}.finance-option[_ngcontent-%COMP%]{width:90px;float:left}.balance[_ngcontent-%COMP%]{padding-top:20px}.admtc-grey[_ngcontent-%COMP%]{background:#607d8b!important}.admtc-black[_ngcontent-%COMP%]{background:#212121!important}.admtc-table[_ngcontent-%COMP%]{background:#424242!important}.truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:pre-line;word-break:break-word}.box-outline[_ngcontent-%COMP%]{width:16px;height:16px;background:#fff;box-shadow:#fff;border:1px solid #fff;color:#666;text-align:center;font-family:fantasy;font-size:9px;padding:.04rem}.deposit[_ngcontent-%COMP%]{width:100%;display:block;font-size:11px}.align-center[_ngcontent-%COMP%]{text-align:center!important}.student-status[_ngcontent-%COMP%]{overflow:auto;display:flex}.cell[_ngcontent-%COMP%]{width:10%;flex:0 0 5%}.flex-column[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]{overflow-x:scroll;display:flex}.panel-divider[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.5803921569);padding-top:0;padding-bottom:10px}[_nghost-%COMP%]     .finance-table table tr td, [_nghost-%COMP%]     .finance-table table tr th{color:#fff;border-right:1px solid #545454}[_nghost-%COMP%]     .finance-table table tr td:nth-child(1), [_nghost-%COMP%]     .finance-table table tr th:nth-child(1){width:10%;max-width:180px;min-width:180px}[_nghost-%COMP%]     .finance-table table tr td:nth-child(2), [_nghost-%COMP%]     .finance-table table tr th:nth-child(2){width:6%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(3), [_nghost-%COMP%]     .finance-table table tr th:nth-child(3){width:6%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(4), [_nghost-%COMP%]     .finance-table table tr th:nth-child(4){width:6%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(5), [_nghost-%COMP%]     .finance-table table tr th:nth-child(5){width:6%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(6), [_nghost-%COMP%]     .finance-table table tr th:nth-child(6){width:6%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(7), [_nghost-%COMP%]     .finance-table table tr th:nth-child(7){width:6%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(8), [_nghost-%COMP%]     .finance-table table tr th:nth-child(8){width:6%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(9), [_nghost-%COMP%]     .finance-table table tr th:nth-child(9){width:6%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(10), [_nghost-%COMP%]     .finance-table table tr th:nth-child(10){width:6%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(11), [_nghost-%COMP%]     .finance-table table tr th:nth-child(11){width:3%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(12), [_nghost-%COMP%]     .finance-table table tr th:nth-child(12){width:3%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(13), [_nghost-%COMP%]     .finance-table table tr th:nth-child(13){width:3%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(14), [_nghost-%COMP%]     .finance-table table tr th:nth-child(14){width:3%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(15), [_nghost-%COMP%]     .finance-table table tr th:nth-child(15){width:3%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(16), [_nghost-%COMP%]     .finance-table table tr th:nth-child(16){width:3%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(17), [_nghost-%COMP%]     .finance-table table tr th:nth-child(17){width:3%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(18), [_nghost-%COMP%]     .finance-table table tr th:nth-child(18){width:3%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(19), [_nghost-%COMP%]     .finance-table table tr th:nth-child(19){width:3%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(20), [_nghost-%COMP%]     .finance-table table tr th:nth-child(20){width:3%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(21), [_nghost-%COMP%]     .finance-table table tr th:nth-child(21){width:3%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table tr td:nth-child(22), [_nghost-%COMP%]     .finance-table table tr th:nth-child(22){width:3%;max-width:75px;min-width:75px;text-align:center!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1){height:35px;background:#212121}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(8){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(9){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(10){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(11){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(12){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(13){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(14){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(15){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(16){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(17){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(18){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(19){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(20){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(21){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th:nth-child(22){background-color:#607d8b!important}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1){background:#212121}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th{color:#fff}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th .mat-icon-status{vertical-align:text-bottom}[_nghost-%COMP%]     .finance-table table thead tr:nth-child(1) th .mat-icon-svgIcon{vertical-align:text-bottom}.balance-table[_ngcontent-%COMP%]{max-height:596px;overflow:auto}.balance-table[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px}.balance-table[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#212121}.balance-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:50px;background:#eaa11c!important}.action-header-column.non-col[_ngcontent-%COMP%]{background-color:#424242;border-color:#424242}.balance-date[_ngcontent-%COMP%]   .mat-column-date[_ngcontent-%COMP%]{left:0!important;box-shadow:1px 1px #545454}.balance-date[_ngcontent-%COMP%]   .mat-column-operation-name[_ngcontent-%COMP%]{left:100px!important;box-shadow:1px 1px #545454}.balance-date[_ngcontent-%COMP%]   .mat-column-payer[_ngcontent-%COMP%]{left:300px!important;box-shadow:1px 1px #545454}.student-balance-action[_ngcontent-%COMP%]{position:absolute;z-index:999;right:2rem;padding-top:22px}.student-balance-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}[_nghost-%COMP%]     .balance-table table tr td, [_nghost-%COMP%]     .balance-table table tr th{color:#fff;border-right:1px solid #545454;padding-left:.5em!important;padding-right:.5em!important}[_nghost-%COMP%]     .balance-table table tr td:nth-child(1), [_nghost-%COMP%]     .balance-table table tr td:nth-child(10), [_nghost-%COMP%]     .balance-table table tr td:nth-child(12), [_nghost-%COMP%]     .balance-table table tr th:nth-child(1), [_nghost-%COMP%]     .balance-table table tr th:nth-child(10), [_nghost-%COMP%]     .balance-table table tr th:nth-child(12){max-width:100px;min-width:100px}[_nghost-%COMP%]     .balance-table table tr td:nth-child(2), [_nghost-%COMP%]     .balance-table table tr td:nth-child(3), [_nghost-%COMP%]     .balance-table table tr td:nth-child(11), [_nghost-%COMP%]     .balance-table table tr td:nth-child(13), [_nghost-%COMP%]     .balance-table table tr td:nth-child(14), [_nghost-%COMP%]     .balance-table table tr th:nth-child(2), [_nghost-%COMP%]     .balance-table table tr th:nth-child(3), [_nghost-%COMP%]     .balance-table table tr th:nth-child(11), [_nghost-%COMP%]     .balance-table table tr th:nth-child(13), [_nghost-%COMP%]     .balance-table table tr th:nth-child(14){min-width:200px;max-width:200px}[_nghost-%COMP%]     .balance-table table tr td:nth-child(4), [_nghost-%COMP%]     .balance-table table tr td:nth-child(5), [_nghost-%COMP%]     .balance-table table tr td:nth-child(6), [_nghost-%COMP%]     .balance-table table tr td:nth-child(7), [_nghost-%COMP%]     .balance-table table tr td:nth-child(8), [_nghost-%COMP%]     .balance-table table tr td:nth-child(9), [_nghost-%COMP%]     .balance-table table tr th:nth-child(4), [_nghost-%COMP%]     .balance-table table tr th:nth-child(5), [_nghost-%COMP%]     .balance-table table tr th:nth-child(6), [_nghost-%COMP%]     .balance-table table tr th:nth-child(7), [_nghost-%COMP%]     .balance-table table tr th:nth-child(8), [_nghost-%COMP%]     .balance-table table tr th:nth-child(9){max-width:90px;min-width:90px;text-align:center!important}[_nghost-%COMP%]     .balance-table table tr td:last-child, [_nghost-%COMP%]     .balance-table table tr th:last-child{min-width:160px;max-width:160px;text-align:center!important}[_nghost-%COMP%]     .balance-table table thead tr:nth-child(1){height:35px;background:#212121}[_nghost-%COMP%]     .balance-table table thead tr:nth-child(1) th{color:#fff}[_nghost-%COMP%]     .balance-table table thead tr:nth-child(1) th .mat-icon-status{vertical-align:text-bottom}[_nghost-%COMP%]     .balance-table table thead tr:nth-child(1) th .mat-icon-svgIcon{vertical-align:text-bottom}  .filterPanel{margin:28px 0 22px!important}  .custom-matselect-dropdown.mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}.magenta[_ngcontent-%COMP%]{color:#f0f}.view-term.mat-icon-button[_ngcontent-%COMP%]{height:24px!important;width:24px!important}.view-term[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:16px;width:18px!important}.border-button[_ngcontent-%COMP%]{border-bottom:1px solid #dadada}.header-styling[_ngcontent-%COMP%]{font-size:11px;padding:0 2px;font-weight:500}  .custom-position-menu{left:1326.8px!important}']}),n})();var xh=C(67530),yh=C(81259),vh=C(91135),qt=C(61294);const Th=["fileUploadDoc"];function Mh(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e.parentData||null==e.parentData.comps?null:e.parentData.comps.icon," ")}}function Sh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",48),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.selectType(l))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"ADMISIONSTEPFINANCEMENT."+e)," ")}}function Oh(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ph(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",48),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.setOrganizationName("other"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275propertyInterpolate("value",t.\u0275\u0275pipeBind1(1,2,"other")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,4,"other")))}function wh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",48),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.setOrganizationName(null==l?null:l._id))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",null==e?null:e.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function Dh(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div")(1,"mat-form-field"),t.\u0275\u0275element(2,"input",49),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-autocomplete",null,50),t.\u0275\u0275template(6,Ph,4,6,"mat-option",51),t.\u0275\u0275template(7,wh,2,2,"mat-option",12),t.\u0275\u0275pipe(8,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"mat-error"),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275reference(5),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,6,"ADMISIONSTEPFINANCEMENT.Select Organization")),t.\u0275\u0275property("matAutocomplete",e)("formControl",a.organizationNameFilter),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null!==a.addFinancementForm.get("organization_type").value&&"edit"===(null==a.parentData?null:a.parentData.compType)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(8,8,a.organizationNameFiltered)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(11,10,"This field is mandatory"))}}function Eh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",9)(1,"div",52)(2,"mat-form-field")(3,"input",53),t.\u0275\u0275listener("wheel",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.onWheel(i))})("paste",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.onPasteSiretNumber(i))}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-error"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(8,"div",54)(9,"button",55),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onVerifySiret())}),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()()()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(4,5,"ADMISIONSTEPFINANCEMENT.Add Siret")),t.\u0275\u0275property("formControl",e.organizationSiretNumber),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,7,"This field is mandatory")),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",!e.organizationSiretNumber.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(11,9,"ADMISIONSTEPFINANCEMENT.Verify Siret")," ")}}function Ih(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",56)(2,"mat-form-field"),t.\u0275\u0275element(3,"input",57),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(3),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(4,1,"ADMISIONSTEPFINANCEMENT.Organization Name*")))}function kh(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",58)(1,"div",9),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,2,"ADMISIONSTEPFINANCEMENT.Company name"),": ",e.organizationName," ")}}function Fh(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"*"),t.\u0275\u0275elementEnd())}function Bh(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ah(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"*"),t.\u0275\u0275elementEnd())}function Nh(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Rh(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"*"),t.\u0275\u0275elementEnd())}function Vh(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Lh(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",59),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"financement_status."+e))}}function Uh(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function zh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",48),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.selectModality(l.value))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"financement student."+e.key))}}function $h(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",7)(1,"div",26)(2,"mat-form-field"),t.\u0275\u0275element(3,"input",60),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementStart(5,"mat-error"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()()),2&n&&(t.\u0275\u0275advance(3),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(4,2,"financement student.Email")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,4,"This field is mandatory")))}function Hh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",48),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.countrySelected())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"COUNTRY."+e)," ")}}function jh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7)(1,"div",26)(2,"mat-form-field"),t.\u0275\u0275element(3,"input",61),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementStart(5,"mat-error"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(8,"div",26)(9,"mat-form-field"),t.\u0275\u0275element(10,"input",62),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementStart(12,"mat-error"),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(15,"div",26)(16,"mat-form-field"),t.\u0275\u0275element(17,"input",63),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementStart(19,"mat-error"),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(22,"div",26)(23,"mat-form-field")(24,"input",64),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.filterCountry())}),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(26,"mat-autocomplete",65,66),t.\u0275\u0275template(28,Hh,3,4,"mat-option",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(29,"mat-error"),t.\u0275\u0275text(30),t.\u0275\u0275pipe(31,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&n){const e=t.\u0275\u0275reference(27),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(4,11,"financement student.Address")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,13,"This field is mandatory")),t.\u0275\u0275advance(4),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(11,15,"financement student.City")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(14,17,"This field is mandatory")),t.\u0275\u0275advance(4),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(18,19,"financement student.Postal Code")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(21,21,"This field is mandatory")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(25,23,"financement student.Country")),t.\u0275\u0275property("matAutocomplete",e),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.filteredCountry),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(31,25,"This field is mandatory"))}}function Wh(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",7)(1,"div",26)(2,"mat-form-field"),t.\u0275\u0275element(3,"input",67),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275advance(3),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(4,1,"financement student.Precise")))}function Yh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",70),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.addNewUser())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"financement student.Add new user")))}function Gh(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",59),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"uppercase"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",null==e?null:e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4("",t.\u0275\u0275pipeBind1(2,5,null==e?null:e.civility)," ",null==e?null:e.first_name," ",t.\u0275\u0275pipeBind1(3,7,null==e?null:e.last_name)," ",null!=e&&e.position?" - "+(null==e?null:e.position):"","")}}function qh(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Kh(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",33)(1,"mat-form-field",27)(2,"mat-select",68),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Yh,3,3,"mat-option",69),t.\u0275\u0275template(5,Gh,4,9,"mat-option",29),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,qh,3,3,"mat-error",1),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(3,5,"financement student.signatory"))("disableOptionCentering",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.organizationNameSelected&&e.addFinancementForm.get("organization_name").value!==e.translate.instant("other")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.signatoryList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.addFinancementForm.get("signatory_user_id").hasError("required"))}}function Qh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",70),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.addNewUser())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"financement student.Add new user")))}function Xh(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",59),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"uppercase"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",null==e?null:e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4("",t.\u0275\u0275pipeBind1(2,5,null==e?null:e.civility)," ",null==e?null:e.first_name," ",t.\u0275\u0275pipeBind1(3,7,null==e?null:e.last_name)," ",null!=e&&e.position?" - "+(null==e?null:e.position):"","")}}function Zh(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-form-field",27)(1,"mat-select",71),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275template(3,Qh,3,3,"mat-option",69),t.\u0275\u0275template(4,Xh,4,9,"mat-option",29),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(2,4,"ADMTCSTAFFKEY.MENTOR"))("disableOptionCentering",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.organizationNameSelected&&e.addFinancementForm.get("organization_name").value!==e.translate.instant("other")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.mentorList)}}function Jh(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",72)(1,"span",73),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"mat-icon",74),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.removeFile())}),t.\u0275\u0275text(4,"close"),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",null==e.addFinancementForm?null:e.addFinancementForm.get("document_pdf").value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e.addFinancementForm?null:e.addFinancementForm.get("document_pdf").value)}}const ie=function(n){return{error:n}};function tf(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",6)(2,"section")(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"mat-form-field")(8,"mat-select",11),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275template(10,Sh,3,4,"mat-option",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(11,Oh,3,3,"mat-error",1),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",13),t.\u0275\u0275template(13,Dh,12,12,"div",1),t.\u0275\u0275template(14,Eh,12,11,"div",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(15,Ih,5,3,"ng-container",1),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(16,kh,4,4,"div",15),t.\u0275\u0275elementStart(17,"div",16)(18,"div",9)(19,"div",17)(20,"div",9)(21,"div",18)(22,"mat-checkbox",19),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.toggleHours(i))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",20)(24,"p"),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275template(27,Fh,2,0,"span",1),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(28,"div",20)(29,"mat-form-field")(30,"input",21),t.\u0275\u0275listener("wheel",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onWheel(i))})("keypress",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.formatDecimalPerHour())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(31,Bh,3,3,"mat-error",1),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(32,"div",18)(33,"p"),t.\u0275\u0275text(34,"EUR"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(35,"div",22)(36,"div",9)(37,"div",20)(38,"p"),t.\u0275\u0275text(39),t.\u0275\u0275pipe(40,"translate"),t.\u0275\u0275template(41,Ah,2,0,"span",1),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(42,"div",23)(43,"mat-form-field")(44,"input",24),t.\u0275\u0275listener("wheel",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onWheel(i))})("keypress",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.formatDecimalHour())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(45,Nh,3,3,"mat-error",1),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(46,"div",16)(47,"div",9)(48,"div",17)(49,"div",9)(50,"div",18)(51,"mat-checkbox",19),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.toggleTotal(i))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(52,"div",20)(53,"p"),t.\u0275\u0275text(54),t.\u0275\u0275pipe(55,"translate"),t.\u0275\u0275template(56,Rh,2,0,"span",1),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(57,"div",20)(58,"mat-form-field")(59,"input",25),t.\u0275\u0275listener("wheel",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onWheel(i))})("keypress",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.formatDecimalTotalAmount())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(60,Vh,3,3,"mat-error",1),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(61,"div",18)(62,"p"),t.\u0275\u0275text(63,"EUR"),t.\u0275\u0275elementEnd()()()()()()(),t.\u0275\u0275elementStart(64,"div",7)(65,"div",26)(66,"mat-form-field",27)(67,"mat-select",28),t.\u0275\u0275pipe(68,"translate"),t.\u0275\u0275template(69,Lh,3,4,"mat-option",29),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(70,Uh,3,3,"mat-error",1),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(71,"div",26)(72,"mat-form-field",27)(73,"mat-select",30),t.\u0275\u0275pipe(74,"translate"),t.\u0275\u0275template(75,zh,3,4,"mat-option",12),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(76,$h,8,6,"div",31),t.\u0275\u0275template(77,jh,32,27,"div",31),t.\u0275\u0275template(78,Wh,5,3,"div",31),t.\u0275\u0275elementStart(79,"div",7),t.\u0275\u0275template(80,Kh,7,7,"div",32),t.\u0275\u0275elementStart(81,"div",33),t.\u0275\u0275template(82,Zh,5,6,"mat-form-field",34),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(83,"div",7)(84,"div",35)(85,"span",36),t.\u0275\u0275text(86),t.\u0275\u0275pipe(87,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerStart(88),t.\u0275\u0275elementStart(89,"button",37),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.openUploadWindow())}),t.\u0275\u0275text(90),t.\u0275\u0275pipe(91,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(92,"input",38,39),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.chooseFile(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(94,Jh,5,2,"div",40),t.\u0275\u0275elementStart(95,"div",9)(96,"div",41),t.\u0275\u0275text(97),t.\u0275\u0275pipe(98,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(99,"div",42)(100,"mat-form-field",43),t.\u0275\u0275element(101,"textarea",44),t.\u0275\u0275pipe(102,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(103,"div")(104,"mat-dialog-actions",45)(105,"button",46),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.closeDialog())}),t.\u0275\u0275text(106),t.\u0275\u0275pipe(107,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(108,"button",47),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.handleSubmit())}),t.\u0275\u0275text(109),t.\u0275\u0275pipe(110,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(8),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(9,40,"ADMISIONSTEPFINANCEMENT.Type of Organization")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.typeOfOrganization),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.addFinancementForm.get("organization_type").hasError("required")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","Company"!==e.selectOrganizationType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","Company"===e.selectOrganizationType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","Other"===e.addFinancementForm.get("organization_name").value||"Autre"===e.addFinancementForm.get("organization_name").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.isCompany),t.\u0275\u0275advance(6),t.\u0275\u0275property("formControl",e.rateCtrl),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(26,42,"ADMISIONSTEPFINANCEMENT.Rate/Hour")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.hoursMandatory),t.\u0275\u0275advance(3),t.\u0275\u0275property("readonly",!e.hoursMandatory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.addFinancementForm.get("rate_per_hours").hasError("required")),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(40,44,"ADMISIONSTEPFINANCEMENT.Hours")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.hoursMandatory),t.\u0275\u0275advance(3),t.\u0275\u0275property("readonly",!e.hoursMandatory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.addFinancementForm.get("hours").hasError("required")),t.\u0275\u0275advance(6),t.\u0275\u0275property("formControl",e.totalCtrl),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(55,46,"ADMISIONSTEPFINANCEMENT.Total Amount")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.totalMandatory),t.\u0275\u0275advance(3),t.\u0275\u0275property("readonly",!e.totalMandatory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.addFinancementForm.get("total").hasError("required")),t.\u0275\u0275advance(7),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(68,48,"Actual status")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.statusList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.addFinancementForm.get("actual_status").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(74,50,"financement student.billing modality"))("disableOptionCentering",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.modalityList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","email"===e.addFinancementForm.get("billing_modality").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","postal_email"===e.addFinancementForm.get("billing_modality").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","other"===e.addFinancementForm.get("billing_modality").value),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","Company"===e.selectOrganizationType),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","Company"===e.selectOrganizationType),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(64,ie,!0===e.addFinancementForm.get("document_pdf").touched&&e.addFinancementForm.get("document_pdf").invalid)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(87,52,"ADMISIONSTEPFINANCEMENT.Upload Document PDF :")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(91,54,"ADMISIONSTEPFINANCEMENT.Upload PDF")," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",e.documenPDFName),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(98,56,"ADMISIONSTEPFINANCEMENT.Additional informations"),":"),t.\u0275\u0275advance(4),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(102,58,"ADMISIONSTEPFINANCEMENT.Additional informations")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(107,60,"Cancel")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(110,62,"Validate")," ")}}function ef(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",48),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.selectType(l))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"ADMISIONSTEPFINANCEMENT."+e)," ")}}function nf(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",48),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.setOrganizationName("other"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275propertyInterpolate("value",t.\u0275\u0275pipeBind1(1,2,"other")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,4,"other")))}function af(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",48),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.setOrganizationName(null==l?null:l._id))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",null==e?null:e.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function of(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-form-field"),t.\u0275\u0275element(1,"input",57),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(2,1,"ADMISIONSTEPFINANCEMENT.Organization Name*")))}function lf(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",72)(1,"span",81),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"mat-icon",74),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.removeFile())}),t.\u0275\u0275text(4,"close"),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.addFinancementForm.get("document_pdf").value)}}function rf(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",6)(2,"section")(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",75)(7,"mat-form-field")(8,"mat-select",76),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275template(10,ef,3,4,"mat-option",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"mat-error"),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(14,"div",77)(15,"mat-form-field"),t.\u0275\u0275element(16,"input",49),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementStart(18,"mat-autocomplete",65,50),t.\u0275\u0275template(20,nf,4,6,"mat-option",51),t.\u0275\u0275template(21,af,2,2,"mat-option",12),t.\u0275\u0275pipe(22,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(23,"mat-error"),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(26,"div",75),t.\u0275\u0275template(27,of,3,3,"mat-form-field",1),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(28,"div",35)(29,"span",36),t.\u0275\u0275text(30),t.\u0275\u0275pipe(31,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerStart(32),t.\u0275\u0275elementStart(33,"button",37),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.openUploadWindow())}),t.\u0275\u0275text(34),t.\u0275\u0275pipe(35,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(36,"input",38,39),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.chooseFile(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(38,lf,5,1,"div",40),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(39,"div",9)(40,"div",41),t.\u0275\u0275text(41),t.\u0275\u0275pipe(42,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(43,"div",78)(44,"mat-form-field",79),t.\u0275\u0275element(45,"textarea",80),t.\u0275\u0275pipe(46,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(47,"div")(48,"mat-dialog-actions",45)(49,"button",46),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.closeDialog())}),t.\u0275\u0275text(50),t.\u0275\u0275pipe(51,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(52,"button",47),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.handleSubmit())}),t.\u0275\u0275text(53),t.\u0275\u0275pipe(54,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275reference(19),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(8),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(9,20,"ADMISIONSTEPFINANCEMENT.Type of Organization")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.typeOfOrganization),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(13,22,"This field is mandatory")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(17,24,"ADMISIONSTEPFINANCEMENT.Select Organization"),"*"),t.\u0275\u0275property("matAutocomplete",e)("formControl",a.organizationNameFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null!==a.addFinancementForm.get("organization_type").value&&"edit"===(null==a.parentData?null:a.parentData.compType)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(22,26,a.organizationNameFiltered)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(25,28,"This field is mandatory")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","Other"===a.addFinancementForm.get("organization_name").value||"Autre"===a.addFinancementForm.get("organization_name").value),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(42,ie,!0===a.addFinancementForm.get("document_pdf").touched&&a.addFinancementForm.get("document_pdf").invalid)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(31,30,"ADMISIONSTEPFINANCEMENT.Upload Document PDF :")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(35,32,"ADMISIONSTEPFINANCEMENT.Upload PDF")," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.documenPDFName),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(42,34,"ADMISIONSTEPFINANCEMENT.Additional informations"),":"),t.\u0275\u0275advance(3),t.\u0275\u0275property("floatLabel","never"),t.\u0275\u0275advance(1),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(46,36,"ADMISIONSTEPFINANCEMENT.Additional informations")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(51,38,"Cancel")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(54,40,"Validate")," ")}}function sf(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",82),t.\u0275\u0275element(1,"mat-spinner",83),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let cf=(()=>{class n{constructor(e,a,i,l,r,s,d,p,u,_,O){this.parentData=e,this.dialogRef=a,this.fb=i,this.utilService=l,this.fileUploadService=r,this.translate=s,this.formBuilderService=d,this.router=p,this.auth=u,this.dialog=_,this.schoolService=O,this.subs=new w.Y,this.isAddMore=!1,this.filedList=[{_id:1,name:"OPCO"},{_id:2,name:"Pole Emploi"}],this.typeOfOrganization=["OPCO","CPF","Transition Pro","P\xf4le Emploi","R\xe9gion","Company","Other financing organization"],this.isWaitingForResponse=!1,this.documenPDFName="",this.totalCtrl=new m.UntypedFormControl(!1),this.rateCtrl=new m.UntypedFormControl(!1),this.statusList=["rejected","accepted","submitted_for_validation","in_progress_by_fc_in_charge"],this.filteredValues={organization_type:"",organization_name:""},this.organizationNameFilter=new m.UntypedFormControl(null,m.Validators.required),this.organizationNameSelected=!1,this.modalityList=[{key:"Email",value:"email"},{key:"Postal mail",value:"postal_email"},{key:"PDF",value:"pdf"},{key:"Other",value:"other"}],this.organizationSiretNumber=new m.UntypedFormControl(null,m.Validators.required),this.selectOrganizationType="",this.organizationName="",this.configCat={disableClose:!0,width:"1070px",minHeight:"81%"}}ngOnInit(){this.currentUser=this.auth.getLocalStorageUser(),console.log(this.currentUser),this.candidateId=this.parentData.candidateId,this.admissionId=this.parentData.admission_process_id,this.parentData.isFCManager?this.initFormFcManager():this.initFormStudent(),this.fetchDialog(),this.initFilter(),this.parentData?.info?.billing_modality&&this.initFormBilling(),this.subs.sink=this.schoolService.getCountry().subscribe(e=>{this.countries=e.map(a=>a?.name)})}onWheel(e){e?.preventDefault()}initFilter(){this.subs.sink=this.addFinancementForm.get("organization_type").valueChanges.pipe((0,A.b)(400)).subscribe(e=>{e&&(this.filteredValues.organization_type=e,"Company"!==e&&this.getOrganization())}),this.organizationNameFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{e||(this.organizationNameSelected=!1)})}initFormStudent(){this.addFinancementForm=this.fb.group({organization_type:[null,m.Validators.required],organization_name:[null,m.Validators.required],organization_name_other:[null],document_pdf:[null],is_financement_validated:[!1,m.Validators.required],additional_information:[null]})}initFormFcManager(){this.addFinancementForm=this.fb.group({organization_type:[null,m.Validators.required],organization_name:[null,m.Validators.required],organization_name_other:[null],rate_per_hours:[null],hours:[null],billing_modality:[null,m.Validators.required],email:[null],address:[null],city:[null],postal_code:[null],country:[null],other:[null],signatory_user_id:[null],mentor_user_id:[null],document_pdf:[null],total:[null],is_financement_validated:[!1,m.Validators.required],actual_status:[null,m.Validators.required],additional_information:[null]})}initFormBilling(){const e=this.parentData?.info;"postal_email"===e?.billing_modality?(this.addFinancementForm.get("email").clearValidators(),this.addFinancementForm.get("email").patchValue(null),this.addFinancementForm.get("email").updateValueAndValidity(),this.addFinancementForm.get("postal_code").setValidators([m.Validators.required]),this.addFinancementForm.get("postal_code").patchValue(null),this.addFinancementForm.get("postal_code").updateValueAndValidity(),this.addFinancementForm.get("address").setValidators([m.Validators.required]),this.addFinancementForm.get("address").patchValue(null),this.addFinancementForm.get("address").updateValueAndValidity(),this.addFinancementForm.get("city").setValidators([m.Validators.required]),this.addFinancementForm.get("city").patchValue(null),this.addFinancementForm.get("city").updateValueAndValidity(),this.addFinancementForm.get("country").setValidators([m.Validators.required]),this.addFinancementForm.get("country").patchValue(null),this.addFinancementForm.get("country").updateValueAndValidity()):"email"===e?.billing_modality?(this.addFinancementForm.get("email").setValidators([m.Validators.required,m.Validators.email]),this.addFinancementForm.get("email").patchValue(null),this.addFinancementForm.get("email").updateValueAndValidity(),this.addFinancementForm.get("postal_code").clearValidators(),this.addFinancementForm.get("postal_code").patchValue(null),this.addFinancementForm.get("postal_code").updateValueAndValidity(),this.addFinancementForm.get("address").clearValidators(),this.addFinancementForm.get("address").patchValue(null),this.addFinancementForm.get("address").updateValueAndValidity(),this.addFinancementForm.get("city").clearValidators(),this.addFinancementForm.get("city").patchValue(null),this.addFinancementForm.get("city").updateValueAndValidity(),this.addFinancementForm.get("country").clearValidators(),this.addFinancementForm.get("country").patchValue(null),this.addFinancementForm.get("country").updateValueAndValidity()):(this.addFinancementForm.get("email").clearValidators(),this.addFinancementForm.get("email").patchValue(null),this.addFinancementForm.get("email").updateValueAndValidity(),this.addFinancementForm.get("postal_code").clearValidators(),this.addFinancementForm.get("postal_code").patchValue(null),this.addFinancementForm.get("postal_code").updateValueAndValidity(),this.addFinancementForm.get("address").clearValidators(),this.addFinancementForm.get("address").patchValue(null),this.addFinancementForm.get("address").updateValueAndValidity(),this.addFinancementForm.get("city").clearValidators(),this.addFinancementForm.get("city").patchValue(null),this.addFinancementForm.get("city").updateValueAndValidity(),this.addFinancementForm.get("country").clearValidators(),this.addFinancementForm.get("country").patchValue(null),this.addFinancementForm.get("country").updateValueAndValidity())}fetchDialog(){if(this.parentData&&this.parentData.comps&&this.parentData.comps.isEdit){if(this.parentData.info&&!this.parentData.isFCManager){const e={organization_type:this.parentData.info.organization_id?this.parentData.info.organization_id.organization_type:this.parentData.info.organization_type,organization_name:this.parentData.info.organization_id?this.parentData.info.organization_id._id:this.translate.instant("other"),document_pdf:this.parentData.info.document_pdf,additional_information:this.parentData.info.additional_information,organization_name_other:this.parentData.info.organization_name,mentor_user_id:this.parentData?.info?.mentor_user_id?this.parentData?.info?.mentor_user_id?._id:null,signatory_user_id:this.parentData?.info?.organization_id?this.parentData?.info?.contact_id?._id:this.parentData?.info?.signatory_user_id?this.parentData?.info?.signatory_user_id?._id:null,billing_modality:this.parentData?.info?.billing_modality?this.parentData?.info?.billing_modality:null,email:this.parentData?.info?.email?this.parentData?.info?.email:null,postal_code:this.parentData?.info?.postal_code?this.parentData?.info?.postal_code:null,address:this.parentData?.info?.address?this.parentData?.info?.address:null,city:this.parentData?.info?.city?this.parentData?.info?.city:null,country:this.parentData?.info?.country?this.parentData?.info?.country:null,other:this.parentData?.info?.other?this.parentData?.info?.other:null};!this.parentData.info.organization_id&&this.parentData.info.company_branch_id?(e.organization_type="Company",e.organization_name=this.parentData.info.company_branch_id?this.parentData.info.company_branch_id._id:this.translate.instant("other"),this.filteredValues.organization_type="Company"):this.filteredValues.organization_type=this.parentData.info.organization_id?this.parentData.info.organization_id.organization_type:this.parentData.info.organization_type,this.getOrganization(e),this.documenPDFName=this.parentData.info.document_pdf}if(this.parentData.info&&this.parentData.isFCManager){const e={organization_type:this.parentData.info.organization_id?this.parentData.info.organization_id.organization_type:this.parentData.info.organization_type,organization_name:this.parentData.info.organization_id?this.parentData.info.organization_id._id:this.translate.instant("other"),rate_per_hours:this.parentData.info.rate_per_hours,hours:this.parentData.info.hours,document_pdf:this.parentData.info.document_pdf,additional_information:this.parentData.info.additional_information,organization_name_other:this.parentData.info.organization_name,actual_status:this.parentData.info.actual_status,mentor_user_id:this.parentData?.info?.mentor_user_id?this.parentData?.info?.mentor_user_id?._id:null,signatory_user_id:this.parentData?.info?.signatory_user_id?this.parentData?.info?.signatory_user_id?._id:null,billing_modality:this.parentData?.info?.billing_modality?this.parentData?.info?.billing_modality:null,email:this.parentData?.info?.email?this.parentData?.info?.email:null,postal_code:this.parentData?.info?.postal_code?this.parentData?.info?.postal_code:null,address:this.parentData?.info?.address?this.parentData?.info?.address:null,city:this.parentData?.info?.city?this.parentData?.info?.city:null,country:this.parentData?.info?.country?this.parentData?.info?.country:null,other:this.parentData?.info?.other?this.parentData?.info?.other:null};e.rate_per_hours&&e.hours&&(this.rateCtrl.setValue(!0),this.totalCtrl.setValue(!1),this.hoursMandatory=!0,this.totalMandatory=!1),this.parentData.info.total&&!e.rate_per_hours&&!e.hours&&(e.total=this.parentData.info.total,this.rateCtrl.setValue(!1),this.totalCtrl.setValue(!0),this.hoursMandatory=!1,this.totalMandatory=!0),console.log("_parent data",this.parentData),!this.parentData.info.organization_id&&this.parentData.info.company_branch_id?(e.organization_type="Company",e.organization_name=this.parentData.info.company_branch_id?this.parentData.info.company_branch_id._id:this.translate.instant("other"),this.filteredValues.organization_type="Company"):this.filteredValues.organization_type=this.parentData.info.organization_id?this.parentData.info.organization_id.organization_type:this.parentData.info.organization_type,this.getOrganization(e),this.documenPDFName=this.parentData.info.document_pdf}this.parentData?.company_branch_id?(this.organizationSiretNumber?.patchValue(this.parentData?.company_branch_id?.no_RC),this.organizationSiretNumber.updateValueAndValidity(),this.organizationSiretNumber.setValidators([m.Validators.required]),this.addFinancementForm.get("mentor_user_id").patchValue(null),this.addFinancementForm.get("mentor_user_id").updateValueAndValidity(),this.addFinancementForm.get("signatory_user_id").setValidators([m.Validators.required]),this.addFinancementForm.get("signatory_user_id").patchValue(null),this.addFinancementForm.get("signatory_user_id").updateValueAndValidity(),this.organizationNameFilter.clearValidators(),this.organizationNameFilter.patchValue(null),this.organizationNameFilter.updateValueAndValidity(),this.addFinancementForm.get("organization_name").clearValidators(),this.addFinancementForm.get("organization_name").patchValue(null),this.addFinancementForm.get("organization_name").updateValueAndValidity(),this.onVerifySiret(!0)):(this.organizationSiretNumber.clearValidators(),this.organizationSiretNumber.patchValue(null),this.organizationSiretNumber.updateValueAndValidity(),this.addFinancementForm.get("mentor_user_id").clearValidators(),this.addFinancementForm.get("mentor_user_id").patchValue(null),this.addFinancementForm.get("mentor_user_id").updateValueAndValidity(),this.addFinancementForm.get("signatory_user_id").clearValidators(),this.addFinancementForm.get("signatory_user_id").patchValue(null),this.addFinancementForm.get("signatory_user_id").updateValueAndValidity(),this.organizationNameFilter.clearValidators(),this.organizationNameFilter.patchValue(null),this.organizationNameFilter.updateValueAndValidity(),this.addFinancementForm.get("organization_name").setValidators([m.Validators.required]),this.addFinancementForm.get("organization_name").patchValue(null),this.addFinancementForm.get("organization_name").updateValueAndValidity())}}filterCountry(){if(this.addFinancementForm.get("country").value){const e=this.addFinancementForm.get("country").value.toLowerCase().trim();this.filteredCountry=this.countries.filter(a=>a.toLowerCase().trim().includes(e)),this.isResetCountry=!0}}countrySelected(){this.isResetCountry=!1}openUploadWindow(){this.fileUploaderDoc.nativeElement.click()}chooseFile(e){const a=["pdf"],i=e.target?.files[0];if(i){this.isWaitingForResponse=!0;const l=this.utilService.getFileExtension(i.name).toLocaleLowerCase();console.log(l),a.includes(l)?this.subs.sink=this.fileUploadService.singleUpload(i).subscribe(r=>{console.log("_resp upload",r),this.isWaitingForResponse=!1,this.addFinancementForm.get("document_pdf").patchValue(r.s3_file_name),this.documenPDFName=r.s3_file_name},r=>{this.isWaitingForResponse=!1,console.log("[Response BE][Error] : ",r),c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):(c().fire({type:"info",title:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TITLE"),text:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TEXT",{file_exts:".pdf"}),allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1}),this.isWaitingForResponse=!1)}}removeFile(){this.selectedFile=null,this.fileUploaderDoc.nativeElement.value=null,this.addFinancementForm.get("document_pdf").setValue(""),this.documenPDFName=""}handleSubmit(){if(this.addFinancementForm.invalid||this.organizationSiretNumber.invalid)c().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),html:this.translate.instant("Invalid_Form_Warning.TEXT"),confirmButtonText:this.translate.instant("Invalid_Form_Warning.BUTTON")}),this.addFinancementForm.markAllAsTouched(),this.organizationSiretNumber.markAsTouched();else{if(!this.organizationNameSelected)return this.organizationNameFilter.setValue(null),void this.addFinancementForm.get("organization_name").setValue(null);let e;if(this.parentData.isFCManager&&(e=!this.totalCtrl.value&&!this.rateCtrl.value&&"accepted"===this.addFinancementForm.get("actual_status").value),this.totalCtrl.value&&this.parentData.isFCManager?(this.addFinancementForm.get("total").setValidators(m.Validators.required),this.addFinancementForm.get("total").updateValueAndValidity()):this.parentData.isFCManager&&(this.addFinancementForm.get("total").clearValidators(),this.addFinancementForm.get("total").updateValueAndValidity()),this.rateCtrl.value&&this.parentData.isFCManager?(this.addFinancementForm.get("rate_per_hours").setValidators(m.Validators.required),this.addFinancementForm.get("rate_per_hours").updateValueAndValidity(),this.addFinancementForm.get("hours").setValidators(m.Validators.required),this.addFinancementForm.get("hours").updateValueAndValidity()):this.parentData.isFCManager&&(this.addFinancementForm.get("rate_per_hours").clearValidators(),this.addFinancementForm.get("rate_per_hours").updateValueAndValidity(),this.addFinancementForm.get("hours").clearValidators(),this.addFinancementForm.get("hours").updateValueAndValidity()),"other"===this.addFinancementForm.get("organization_name").value||"Other"===this.addFinancementForm.get("organization_name").value||"Autre"===this.addFinancementForm.get("organization_name").value?(this.addFinancementForm.get("organization_name_other").setValidators(m.Validators.required),this.addFinancementForm.get("organization_name_other").updateValueAndValidity()):(this.addFinancementForm.get("organization_name_other").setValue(null),this.addFinancementForm.get("organization_name_other").clearValidators(),this.addFinancementForm.get("organization_name_other").updateValueAndValidity()),e&&this.parentData.isFCManager)console.log(e),console.log(this.parentData.isFCManager),c().fire({type:"info",title:this.translate.instant("FINANCEMENT_S4.TITLE"),text:this.translate.instant("FINANCEMENT_S4.TEXT"),confirmButtonText:this.translate.instant("FINANCEMENT_S4.BUTTON"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1});else if(this.isWaitingForResponse=!0,this.addFinancementForm.invalid)c().fire({type:"info",title:this.translate.instant("FormSave_S1s.TITLE"),html:this.translate.instant("FormSave_S1s.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1s.BUTTON 1")}),this.addFinancementForm.markAllAsTouched(),this.isWaitingForResponse=!1,console.log("_form control",this.addFinancementForm.controls);else{const a=this.addFinancementForm.value;if(this.candidateId&&(a.candidate_id=this.candidateId),this.admissionId&&(a.admission_process_id=this.admissionId),console.log(this.parentData),a.hours=parseFloat(parseFloat(a.hours).toFixed(2)),a.rate_per_hours=parseFloat(parseFloat(a.rate_per_hours).toFixed(2)),a.organization_name_other?(a.organization_name=a.organization_name_other,delete a.organization_name_other):"Company"!==a.organization_type?(a.organization_id=a.organization_name,a.company_branch_id=null,a.contact_id=a.signatory_user_id,delete a.organization_name,delete a.organization_name_other,delete a.organization_type,delete a.signatory_user_id):(a.company_branch_id=this.company_id,a.organization_id=null,delete a.organization_name,delete a.organization_name_other,delete a.organization_type),this.parentData&&this.parentData.actual_status&&(a.actual_status=this.parentData.actual_status),console.log(a),"accepted"===this.addFinancementForm.get("actual_status").value||"rejected"===this.addFinancementForm.get("actual_status").value){let i=3;c().fire({type:"warning",title:this.translate.instant("FINANCEMENT_S10.TITLE"),html:this.translate.instant("FINANCEMENT_S10.TEXT"),allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("FINANCEMENT_S10.BUTTON",{timer:i}),cancelButtonText:this.translate.instant("FINANCEMENT_S10.BUTTON2"),allowOutsideClick:!1,allowEnterKey:!1,width:"33em",onOpen:()=>{c().disableConfirmButton();const l=c().getConfirmButton(),r=setInterval(()=>{i-=1,l.innerText=this.translate.instant("FINANCEMENT_S10.BUTTON")+` (${i})`},1e3);this.timeOutVal=setTimeout(()=>{l.innerText=this.translate.instant("FINANCEMENT_S10.BUTTON"),c().enableConfirmButton(),clearInterval(r),clearTimeout(this.timeOutVal)},1e3*i)}}).then(l=>{if(clearTimeout(this.timeOutVal),l.value)if(this.parentData&&this.parentData.comps&&this.parentData.comps.isEdit)if("accepted"===this.addFinancementForm.get("actual_status").value&&"accepted"!==this.parentData.actual_status){console.log("041",this.parentData,a);const r={for:"dialog",candidateId:this.parentData&&this.parentData.candidateId?this.parentData.candidateId:null,intakeChannelId:this.parentData&&this.parentData.intakeChannelId?this.parentData.intakeChannelId:null,financementName:a?.company_branch_id?this.organizationName:this.organizationNameFilter.value,data:a,id:this.parentData&&this.parentData.info&&this.parentData.info._id?this.parentData.info._id:null,from:"edit",isFC:this.parentData?.isFCManager};this.parentData?.isFCManager?(this.isWaitingForResponse=!1,this.dialogRef.close(r)):this.updateFinancment(a)}else{const r={for:"dialog",candidateId:this.parentData&&this.parentData.candidateId?this.parentData.candidateId:null,intakeChannelId:this.parentData&&this.parentData.intakeChannelId?this.parentData.intakeChannelId:null,financementName:a?.company_branch_id?this.organizationName:this.organizationNameFilter.value,data:a,id:this.parentData&&this.parentData.info&&this.parentData.info._id?this.parentData.info._id:null,from:"edit",isFC:this.parentData?.isFCManager};this.parentData?.isFCManager?"rejected"===this.addFinancementForm.get("actual_status").value?this.updateFinancment(a):(this.isWaitingForResponse=!1,this.dialogRef.close(r)):this.updateFinancment(a)}else if(this.parentData&&this.parentData.user_id&&(console.log(this.parentData.user_id),a.created_by=this.parentData.user_id),"accepted"===this.addFinancementForm.get("actual_status").value&&"accepted"!==this.parentData.actual_status){console.log("041",this.parentData,a);const r={for:"dialog",candidateId:this.parentData&&this.parentData.candidateId?this.parentData.candidateId:null,intakeChannelId:this.parentData&&this.parentData.intakeChannelId?this.parentData.intakeChannelId:null,financementName:a?.company_branch_id?this.organizationName:this.organizationNameFilter.value,data:a,id:this.parentData&&this.parentData.info&&this.parentData.info._id?this.parentData.info._id:null,from:"add",isFC:this.parentData?.isFCManager};this.parentData?.isFCManager?(this.isWaitingForResponse=!1,this.dialogRef.close(r)):this.updateFinancment(a)}else{const r={for:"dialog",candidateId:this.parentData&&this.parentData.candidateId?this.parentData.candidateId:null,intakeChannelId:this.parentData&&this.parentData.intakeChannelId?this.parentData.intakeChannelId:null,financementName:a?.company_branch_id?this.organizationName:this.organizationNameFilter.value,data:a,id:this.parentData&&this.parentData.info&&this.parentData.info._id?this.parentData.info._id:null,from:"edit",isFC:this.parentData?.isFCManager};this.parentData?.isFCManager?this.parentData.comps.isEdit?(this.isWaitingForResponse=!1,this.dialogRef.close(r)):this.createFinancment(a):this.updateFinancment(a)}else this.isWaitingForResponse=!1})}else this.parentData&&this.parentData.comps&&this.parentData.comps.isEdit?this.updateFinancment(a):(this.parentData&&this.parentData.user_id&&(console.log(this.parentData.user_id),a.created_by=this.parentData.user_id),this.createFinancment(a))}}}createFinancment(e){this.subs.sink=this.formBuilderService.CreateAdmissionFinancement(e).subscribe(a=>{a?(console.log(a),this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})):this.isWaitingForResponse=!1},a=>{this.isWaitingForResponse=!1,"GraphQL error: cannot add financement more than full rate"===a.message?c().fire({type:"info",title:this.translate.instant("financement_s11.TITLE"),text:this.translate.instant("financement_s11.TEXT"),confirmButtonText:this.translate.instant("financement_s11.BUTTON_1")}).then(()=>{}):"GraphQL error: Cannot change status to accepted, organization must be added to table organization first"===a.message?c().fire({type:"info",title:this.translate.instant("Finance_Error1.TITLE"),text:this.translate.instant("Finance_Error1.TEXT"),confirmButtonText:this.translate.instant("Finance_Error1.BUTTON_1")}).then(()=>{this.dialogRef.close()}):"GraphQL error: Cannot change status to accepted, company must be added to table company first"===a.message?c().fire({type:"info",title:this.translate.instant("FINANCEMENT_S8.TITLE"),text:this.translate.instant("FINANCEMENT_S8.TEXT"),confirmButtonText:this.translate.instant("FINANCEMENT_S8.BUTTON")}).then(()=>{this.dialogRef.close()}):a.message.includes("Cannot delete financement some of term has been billed or paid")||a.message.includes("some terms are billed/paid")?c().fire({type:"info",title:this.translate.instant("VALIDATION_BILLING_S3.TITLE"),text:this.translate.instant("VALIDATION_BILLING_S3.TEXT"),confirmButtonText:this.translate.instant("VALIDATION_BILLING_S3.BUTTON")}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}updateFinancment(e){this.subs.sink=this.formBuilderService.UpdateAdmissionFinancement(this.parentData.info._id,e).subscribe(a=>{a?(console.log(a),this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})):this.isWaitingForResponse=!1},a=>{this.isWaitingForResponse=!1,"GraphQL error: cannot add financement more than full rate"===a.message?c().fire({type:"info",title:this.translate.instant("financement_s11.TITLE"),text:this.translate.instant("financement_s11.TEXT"),confirmButtonText:this.translate.instant("financement_s11.BUTTON_1")}).then(()=>{}):"GraphQL error: Cannot change status to accepted, organization must be added to table organization first"===a.message?c().fire({type:"info",title:this.translate.instant("Finance_Error1.TITLE"),text:this.translate.instant("Finance_Error1.TEXT"),confirmButtonText:this.translate.instant("Finance_Error1.BUTTON_1")}).then(()=>{this.dialogRef.close()}):"GraphQL error: Cannot change status to accepted, company must be added to table company first"===a.message?c().fire({type:"info",title:this.translate.instant("FINANCEMENT_S8.TITLE"),text:this.translate.instant("FINANCEMENT_S8.TEXT"),confirmButtonText:this.translate.instant("FINANCEMENT_S8.BUTTON")}).then(()=>{this.dialogRef.close()}):a.message.includes("Cannot delete financement some of term has been billed or paid")||a.message.includes("some terms are billed/paid")?c().fire({type:"info",title:this.translate.instant("VALIDATION_BILLING_S3.TITLE"),text:this.translate.instant("VALIDATION_BILLING_S3.TEXT"),confirmButtonText:this.translate.instant("VALIDATION_BILLING_S3.BUTTON")}):"GraphQL error: You can't modify it as the billing was already processed"===a.message?c().fire({type:"info",title:this.translate.instant("financement_s9.TITLE"),html:this.translate.instant("financement_s9.TEXT"),confirmButtonText:this.translate.instant("financement_s9.BUTTON"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}closeDialog(){this.dialogRef.close()}addMore(){this.isAddMore=!0}getOrganization(e){this.isWaitingForResponse=!0,console.log("_filter",this.filteredValues),"Company"===this.filteredValues?.organization_type?(this.selectOrganizationType=this.filteredValues?.organization_type,this.isCompany=!0):"Company"!==this.filteredValues?.organization_type&&this.addFinancementForm.get("organization_name").value&&this.addFinancementForm.get("organization_name").value!==this.translate.instant("other")?(this.getAllUser("Org"),this.selectOrganizationType="",this.isCompany=!1):(this.selectOrganizationType="",this.isCompany=!1),this.subs.sink=this.formBuilderService.GetAllOrganizations(this.filteredValues).subscribe(a=>{if(this.isWaitingForResponse=!1,a&&(this.organization=a,this.organizationNameFiltered=this.organizationNameFilter.valueChanges.pipe((0,$.O)(""),(0,W.U)(i=>i?this.organization.filter(l=>!!l&&l.name.toLowerCase().includes(i.toLowerCase())):this.organization))),this.parentData&&this.parentData.comps&&this.parentData.comps.isEdit&&e){this.addFinancementForm.patchValue(e),this.organizationNameSelected=!0;const i=this.organization.find(l=>l._id===this.addFinancementForm.get("organization_name").value);this.organizationNameFilter.patchValue(i?i.name:this.translate.instant("other"))}},a=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}formatDecimalHour(){const e=this.addFinancementForm.get("hours").value;if(isNaN(e)||10*parseFloat(e)%1>0)return!1}formatDecimalPerHour(){const e=this.addFinancementForm.get("rate_per_hours").value;if(isNaN(e)||10*parseFloat(e)%1>0)return!1}formatDecimalTotalAmount(){const e=this.addFinancementForm.get("total").value;if(isNaN(e)||10*parseFloat(e)%1>0)return!1}toggleHours(e){console.log(e),e&&e.checked?(this.totalCtrl.setValue(!1),this.hoursMandatory=!0,this.totalMandatory=!1,this.addFinancementForm.get("total").setValue(null),this.addFinancementForm.get("total").clearValidators()):(this.hoursMandatory=!1,this.addFinancementForm.get("rate_per_hours").setValue(null),this.addFinancementForm.get("rate_per_hours").clearValidators(),this.addFinancementForm.get("hours").setValue(null),this.addFinancementForm.get("hours").clearValidators())}toggleTotal(e){console.log(e),e&&e.checked?(this.rateCtrl.setValue(!1),this.totalMandatory=!0,this.hoursMandatory=!1,this.addFinancementForm.get("rate_per_hours").setValue(null),this.addFinancementForm.get("rate_per_hours").clearValidators(),this.addFinancementForm.get("hours").setValue(null),this.addFinancementForm.get("hours").clearValidators()):(this.totalMandatory=!1,this.addFinancementForm.get("total").setValue(null),this.addFinancementForm.get("total").clearValidators())}setOrganizationName(e){this.mentorList=[],this.signatoryList=[],this.organizationNameSelected=!0;const a="other"===e?this.translate.instant("other"):e;this.addFinancementForm.get("organization_name").setValue(a),"other"!==e&&this.getAllUser("Org")}checkPreviousSame(){const e=this.addFinancementForm.value,a=this.parentData.previousData;return e?.total===a?.total||e?.rate_per_hours===a?.rate_per_hours||e?.hours===a?.hours}checkTotalAmount(){return this.addFinancementForm.value.total>this.parentData.previousData.total}selectModality(e){"email"===e?(this.addFinancementForm.get("email").setValidators([m.Validators.required,m.Validators.email]),this.addFinancementForm.get("email").patchValue(null),this.addFinancementForm.get("email").updateValueAndValidity(),this.addFinancementForm.get("postal_code").clearValidators(),this.addFinancementForm.get("postal_code").patchValue(null),this.addFinancementForm.get("postal_code").updateValueAndValidity(),this.addFinancementForm.get("address").clearValidators(),this.addFinancementForm.get("address").patchValue(null),this.addFinancementForm.get("address").updateValueAndValidity(),this.addFinancementForm.get("city").clearValidators(),this.addFinancementForm.get("city").patchValue(null),this.addFinancementForm.get("city").updateValueAndValidity(),this.addFinancementForm.get("country").clearValidators(),this.addFinancementForm.get("country").patchValue(null),this.addFinancementForm.get("country").updateValueAndValidity()):"postal_email"===e?(this.addFinancementForm.get("email").clearValidators(),this.addFinancementForm.get("email").patchValue(null),this.addFinancementForm.get("email").updateValueAndValidity(),this.addFinancementForm.get("postal_code").setValidators([m.Validators.required]),this.addFinancementForm.get("postal_code").patchValue(null),this.addFinancementForm.get("postal_code").updateValueAndValidity(),this.addFinancementForm.get("address").setValidators([m.Validators.required]),this.addFinancementForm.get("address").patchValue(null),this.addFinancementForm.get("address").updateValueAndValidity(),this.addFinancementForm.get("city").setValidators([m.Validators.required]),this.addFinancementForm.get("city").patchValue(null),this.addFinancementForm.get("city").updateValueAndValidity(),this.addFinancementForm.get("country").setValidators([m.Validators.required]),this.addFinancementForm.get("country").patchValue(null),this.addFinancementForm.get("country").updateValueAndValidity()):(this.addFinancementForm.get("email").clearValidators(),this.addFinancementForm.get("email").patchValue(null),this.addFinancementForm.get("email").updateValueAndValidity(),this.addFinancementForm.get("postal_code").clearValidators(),this.addFinancementForm.get("postal_code").patchValue(null),this.addFinancementForm.get("postal_code").updateValueAndValidity(),this.addFinancementForm.get("address").clearValidators(),this.addFinancementForm.get("address").patchValue(null),this.addFinancementForm.get("address").updateValueAndValidity(),this.addFinancementForm.get("city").clearValidators(),this.addFinancementForm.get("city").patchValue(null),this.addFinancementForm.get("city").updateValueAndValidity(),this.addFinancementForm.get("country").clearValidators(),this.addFinancementForm.get("country").patchValue(null),this.addFinancementForm.get("country").updateValueAndValidity())}selectType(e){this.selectOrganizationType=e,this.organizationNameFilter.setValue(null),this.signatoryList=[],this.mentorList=[],"Company"===this.selectOrganizationType?(this.addFinancementForm.get("mentor_user_id").patchValue(null),this.addFinancementForm.get("mentor_user_id").updateValueAndValidity(),this.addFinancementForm.get("signatory_user_id").setValidators([m.Validators.required]),this.addFinancementForm.get("signatory_user_id").patchValue(null),this.addFinancementForm.get("signatory_user_id").updateValueAndValidity(),this.organizationSiretNumber.setValidators([m.Validators.required]),this.organizationSiretNumber.patchValue(null),this.organizationSiretNumber.updateValueAndValidity(),this.organizationNameFilter.clearValidators(),this.organizationNameFilter.patchValue(null),this.organizationNameFilter.updateValueAndValidity(),this.addFinancementForm.get("organization_name").clearValidators(),this.addFinancementForm.get("organization_name").patchValue(null),this.addFinancementForm.get("organization_name").updateValueAndValidity()):(this.addFinancementForm.get("signatory_user_id").clearValidators(),this.addFinancementForm.get("signatory_user_id").patchValue(null),this.addFinancementForm.get("signatory_user_id").updateValueAndValidity(),this.addFinancementForm.get("mentor_user_id").clearValidators(),this.addFinancementForm.get("mentor_user_id").patchValue(null),this.addFinancementForm.get("mentor_user_id").updateValueAndValidity(),this.organizationNameFilter.setValidators([m.Validators.required]),this.organizationNameFilter.patchValue(null),this.organizationNameFilter.updateValueAndValidity(),this.organizationSiretNumber.clearValidators(),this.organizationSiretNumber.patchValue(null),this.organizationSiretNumber.updateValueAndValidity(),this.addFinancementForm.get("organization_name").setValidators([m.Validators.required]),this.addFinancementForm.get("organization_name").patchValue(null),this.addFinancementForm.get("organization_name").updateValueAndValidity(),this.isCompany=!1)}getAllUser(e){this.isWaitingForResponse=!0,this.signatoryList=[],this.subs.sink="Company"===e?this.formBuilderService.getAllUser(this.company_id).subscribe(a=>{this.isWaitingForResponse=!1,this.signatoryList=a}):this.formBuilderService.getAllContact(this.addFinancementForm.get("organization_name").value).subscribe(a=>{this.isWaitingForResponse=!1,this.parentData?.info?.contact_id&&this.addFinancementForm.get("signatory_user_id").setValue(this.parentData.info.contact_id._id),this.signatoryList=a})}getAllUserMentor(){this.isWaitingForResponse=!0,this.mentorList=[],this.subs.sink=this.formBuilderService.getAllUser(this.company_id).subscribe(a=>{this.isWaitingForResponse=!1,this.mentorList=a})}addNewUser(){"Company"===this.addFinancementForm.get("organization_type").value?this.dialog.open(vh.O,{...this.configCat,data:{operation:"add",companyId:this.company_id}}).afterClosed().subscribe(a=>{this.getAllUser("Company"),this.getAllUserMentor()}):this.dialog.open(yh.O,{minWidth:"600px",disableClose:!0,data:{orgId:this.addFinancementForm.get("organization_name").value}}).afterClosed().subscribe(a=>{a&&this.getAllUser("Org")})}onVerifySiret(e){this.isWaitingForResponse=!0;const a={no_RC:this.organizationSiretNumber.value?this.organizationSiretNumber.value.toString().replace(/\s/g,""):null};this.signatoryList=[],this.mentorList=[],this.subs.sink=this.formBuilderService.GetAllCompanies(a).subscribe(i=>{i?.length?("edit"!==this.parentData?.compType&&c().fire({type:"success",title:"Bravo !",allowOutsideClick:!1,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}),this.isWaitingForResponse=!1,this.organizationName=i[0].company_name,this.company_id=i[0]._id,this.isCompany=!0,this.getAllUserMentor(),this.getAllUser("Company"),this.organizationNameSelected=!0):this.getCompanyEtalabBySiret(a.no_RC)},()=>{this.isWaitingForResponse=!1})}getCompanyEtalabBySiret(e){this.isWaitingForResponse=!0,this.subs.sink=this.formBuilderService.GetCompanyEtalabBySiret(e).subscribe(a=>{this.isWaitingForResponse=!1,this.organizationName=a?.companies[0]?.company_name,this.companyBySiretData=a,this.createCompanyByCases()},a=>{this.isWaitingForResponse=!1,a&&a.message&&a.message.includes("adding company is limited to 30 entity in 1 minute")?c().fire({type:"info",title:this.translate.instant("ComLim_s1.TITLE"),html:this.translate.instant("ComLim_s1.TEXT"),confirmButtonText:this.translate.instant("ComLim_s1.BUTTON"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):a&&a.message&&a.message.includes("Sorry This Company is closed")?c().fire({type:"info",title:this.translate.instant("COMPANY_S20.TITLE"),html:this.translate.instant("COMPANY_S20.TEXT",{siret:e}),confirmButtonText:this.translate.instant("COMPANY_S20.BUTTON"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):a&&a.message&&(a.message.includes("the siret you entered is not found on the government api. please double check the siret and try again")||a.message.includes("the combination of siret/siren code and zipcode is not detected."))?c().fire({type:"info",title:this.translate.instant("COMP_S1.TITLE"),html:this.translate.instant("COMP_S1.TEXT"),confirmButtonText:this.translate.instant("COMP_S1.BUTTON"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}createCompanyByCases(){const e=this.organizationSiretNumber.value?this.organizationSiretNumber.value.toString():null,a=this.companyBySiretData.companies,i=this.companyBySiretData.message,l=this.companyBySiretData.companies.find(p=>p.no_RC===e),r=this.companyBySiretData.companies.find(p=>"entity"===p.company_type),s=l?l._id:null,d=r?r._id:null;this.isWaitingForResponse=!0,this.subs.sink=this.formBuilderService.createCompanyByCases(i,s,d,a).subscribe(p=>{if(this.isWaitingForResponse=!1,p){c().fire({type:"success",title:"Bravo !",allowOutsideClick:!1,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")});const u=p.filter(_=>_.no_RC===e);u?.length&&(this.company_id=u[0]?._id),this.getAllUserMentor(),this.getAllUser("Company"),this.isCompany=!0,this.organizationNameSelected=!0}},p=>{this.isWaitingForResponse=!1,p&&p.message&&p.message.includes("adding company is limited to 30 entity in 1 minute")?c().fire({type:"info",title:this.translate.instant("ComLim_s1.TITLE"),html:this.translate.instant("ComLim_s1.TEXT"),confirmButtonText:this.translate.instant("ComLim_s1.BUTTON"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):p&&p.message&&(p.message.includes("the siret you entered is not found on the government api. please double check the siret and try again")||p.message.includes("the combination of siret/siren code and zipcode is not detected."))?c().fire({type:"info",title:this.translate.instant("COMP_S1.TITLE"),html:this.translate.instant("COMP_S1.TEXT"),confirmButtonText:this.translate.instant("COMP_S1.BUTTON"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}onPasteSiretNumber(e){e.preventDefault();let a=e.clipboardData.getData("text/plain");a=a.replace(/\s/g,""),this.organizationSiretNumber.patchValue(a,{emitEvent:!1})}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.WI),t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(m.UntypedFormBuilder),t.\u0275\u0275directiveInject(rt.t),t.\u0275\u0275directiveInject(Yt.J),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(qt.c),t.\u0275\u0275directiveInject(tt.gz),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(Gt.E))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-edit-student-financement-dialog"]],viewQuery:function(e,a){if(1&e&&t.\u0275\u0275viewQuery(Th,5),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.fileUploaderDoc=i.first)}},decls:13,vars:8,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header-div"],[4,"ngIf"],[1,"header-text"],["mat-icon-button","","type","button",1,"header-icon",3,"click"],[3,"formGroup"],["class","inner-loading-indicator",4,"ngIf"],[2,"color","black"],[1,"p-grid","no-padding"],[1,"p-col-12","head"],[1,"p-grid"],[1,"p-col-6",2,"padding-left","0px","padding-top","0"],["panelClass","filterPanel custom-matselect-dropdown","color","accent","formControlName","organization_type","disableOptionCentering","",3,"placeholder"],[3,"value","click",4,"ngFor","ngForOf"],[1,"p-col-6",2,"padding-right","0px","padding-top","0"],["class","p-grid",4,"ngIf"],["class","p-col-12 row","style","padding-bottom: 2rem;",4,"ngIf"],[1,"p-col-12","row",2,"padding","0px"],[1,"p-col-7",2,"padding-left","0px","padding-bottom","0"],[1,"p-col-2"],[1,"example-margin",3,"formControl","change"],[1,"p-col-4"],["matInput","","type","number","formControlName","rate_per_hours",3,"readonly","wheel","keypress"],[1,"p-col-5",2,"padding-right","0px","padding-bottom","0"],[1,"p-col-8"],["matInput","","type","number","formControlName","hours",3,"readonly","wheel","keypress"],["matInput","","type","number","formControlName","total",3,"readonly","wheel","keypress"],[1,"p-col-6","row",2,"padding-bottom","0px","padding-top","1.5rem"],["appearance","legacy"],["formControlName","actual_status","panelClass","filterPanel custom-matselect-dropdown","disableOptionCentering","",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],["formControlName","billing_modality","panelClass","filterPanel custom-matselect-dropdown",3,"placeholder","disableOptionCentering"],["class","p-grid no-padding",4,"ngIf"],["class","p-col-6","style-","padding-bottom: 1rem",4,"ngIf"],["style-","padding-bottom: 1rem",1,"p-col-6"],["appearance","legacy",4,"ngIf"],[1,"p-col-12","form-upload","row"],[3,"ngClass"],["type","button","mat-button","","mat-raised-button","","color","accent",3,"click"],["type","file","accept",".pdf",1,"hidden",3,"change"],["fileUploadDoc",""],["class","p-col-12 document-info",4,"ngIf"],[1,"p-col-12"],[1,"p-col-12",2,"padding-bottom","0px","padding-top","22px","min-height","90px","border","2px solid yellow"],[1,"example-full-width"],["formControlName","additional_information","rows","2","matInput","",3,"placeholder"],["align","end",2,"padding-bottom","0"],["mat-raised-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary","type","button",3,"click"],[3,"value","click"],["matInput","",1,"form-field",3,"matAutocomplete","formControl","placeholder"],["currentProgramAuto","matAutocomplete"],[3,"value","click",4,"ngIf"],[1,"p-col-7","input-siret"],["matInput","","type","text",1,"form-field",3,"formControl","placeholder","wheel","paste"],[1,"p-col-5","verify-siret"],["type","button","mat-raised-button","","color","accent",3,"disabled","click"],[1,"p-col-6","row",2,"padding-left","0px","padding-top","1.5rem"],["matInput","","formControlName","organization_name_other",3,"placeholder"],[1,"p-col-12","row",2,"padding-bottom","2rem"],[3,"value"],["matInput","","type","email","formControlName","email",1,"form-field",3,"placeholder"],["matInput","","formControlName","address",1,"form-field",3,"placeholder"],["matInput","","formControlName","city",1,"form-field",3,"placeholder"],["matInput","","formControlName","postal_code",1,"form-field",3,"placeholder"],["type","text","matInput","","formControlName","country",3,"placeholder","matAutocomplete","keyup"],[3,"panelWidth"],["autoCountry","matAutocomplete"],["matInput","","formControlName","other",1,"form-field",3,"placeholder"],["formControlName","signatory_user_id","panelClass","filterPanel custom-matselect-dropdown",3,"placeholder","disableOptionCentering"],[3,"click",4,"ngIf"],[3,"click"],["formControlName","mentor_user_id","panelClass","filterPanel custom-matselect-dropdown",3,"placeholder","disableOptionCentering"],[1,"p-col-12","document-info"],[1,"document-name",2,"margin-right","1rem",3,"matTooltip"],[2,"color","red","cursor","pointer",3,"click"],[1,"p-col-6",2,"padding-left","0px"],["color","accent","formControlName","organization_type","panelClass","filterPanel custom-matselect-dropdown","disableOptionCentering","",3,"placeholder"],[1,"p-col-6",2,"padding-right","0px"],[1,"p-col-12",2,"height","81px"],[2,"border","2px solid yellow",3,"floatLabel"],["formControlName","additional_information","rows","2","matInput","",2,"resize","none",3,"placeholder"],[1,"document-name",2,"margin-right","1rem"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,Mh,2,1,"mat-icon",1),t.\u0275\u0275elementStart(2,"h2",2),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"button",3),t.\u0275\u0275listener("click",function(){return a.closeDialog()}),t.\u0275\u0275elementStart(6,"mat-icon"),t.\u0275\u0275text(7,"close"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275element(8,"hr"),t.\u0275\u0275elementStart(9,"form",4),t.\u0275\u0275template(10,tf,111,66,"ng-container",1),t.\u0275\u0275template(11,rf,55,44,"ng-container",1),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,sf,2,1,"div",5)),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a.parentData||null==a.parentData.comps?null:a.parentData.comps.icon),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,6,"ADMISIONSTEPFINANCEMENT."+(null==a.parentData||null==a.parentData.comps?null:a.parentData.comps.title))),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",a.addFinancementForm),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a.parentData?null:a.parentData.isFCManager),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=a.parentData&&a.parentData.isFCManager)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isWaitingForResponse))},dependencies:[N.Zt,N.Bh,gt.XC,gt.ZL,Q.ey,I.lW,st.oG,T.H8,k.Hw,S.TO,S.KE,z.Nt,D.Ou,it.gD,G.gM,m.\u0275NgNoValidate,m.DefaultValueAccessor,m.NumberValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.FormControlDirective,m.FormGroupDirective,m.FormControlName,H.oO,f.mk,f.sg,f.O5,M.X$,f.Ov,f.gd],styles:[".form-upload[_ngcontent-%COMP%]{display:flex;align-items:center}.form-upload[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.form-upload[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:1rem}.header-text[_ngcontent-%COMP%]{margin-left:5px}p[_ngcontent-%COMP%]{margin:0}section[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%]     .mat-form-field{top:-15px}.head[_ngcontent-%COMP%]{margin-top:1rem}.row[_ngcontent-%COMP%]{margin-top:-32px}.error[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#000!important}.mat-dialog-actions[_ngcontent-%COMP%]{padding:1rem;border-top:.1px solid rgba(0,0,0,.1)}.document-info[_ngcontent-%COMP%]{border:2px solid #e0e0e0;width:auto;margin-left:8px;background:#fafafa;padding-top:7px;padding-bottom:0}.document-info[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:inline-block}.document-info[_ngcontent-%COMP%]   .document-name[_ngcontent-%COMP%]{font-size:.9rem;color:#000c;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:500px!important;display:inline-block}  .filterPanel{margin-top:28px!important}  .custom-matselect-dropdown.mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}[_nghost-%COMP%]  span.mat-checkbox-inner-container.mat-checkbox-inner-container-no-side-margin{border-radius:50%!important;border:2px solid #757575}[_nghost-%COMP%]  span.mat-checkbox-background{border-radius:50%!important;border:2px solid #ffffff}[_nghost-%COMP%]  path.mat-checkbox-checkmark-path{stroke:#ffd740!important}.pb-2[_ngcontent-%COMP%]{padding-bottom:2px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}div.input-siret[_ngcontent-%COMP%], div.verify-siret[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}"]}),n})();const oe=function(n,o){return{FinancementName:n,FinancementAmount:o}};function df(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",16),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,1,"Financement deducation dialog text",t.\u0275\u0275pureFunction2(4,oe,e.financementName,e.financementAmount))," ")}}function pf(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",16),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,1,"Financement raised dialog text",t.\u0275\u0275pureFunction2(4,oe,e.financementName,e.financementAmount))," ")}}const mf=function(n,o){return{"card-selected":n,"card-red":o}};function _f(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",21),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().index,l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.checkSelectedCard(i))}),t.\u0275\u0275elementStart(1,"div",22)(2,"h5",23),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()()}if(2&n){const e=t.\u0275\u0275nextContext(),a=e.index,i=e.$implicit,l=t.\u0275\u0275nextContext(2);let r;t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(7,mf,l.cardStatus&&l.cardStatus.length&&l.cardStatus[a],!l.isValid&&!l.checkSelectedData())),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",(null==i||null==(r=i.get("company_name"))?null:r.value)||(null==i||null==(r=i.get("organization_name"))?null:r.value)||t.\u0275\u0275pipeBind1(4,3,null==i||null==(r=i.get("last_name"))?null:r.value)+" "+(null==i||null==(r=i.get("first_name"))?null:r.value)+" "+t.\u0275\u0275pipeBind1(5,5,null==i||null==(r=i.get("civility"))?null:r.value)," - ",null==l.billingData[a]?null:l.billingData[a].cost," EUR ")}}function uf(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",24)(2,"mat-form-field")(3,"input",25),t.\u0275\u0275listener("wheel",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.onWheel(i))}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(4,"div",26),t.\u0275\u0275text(5,"EUR"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}}function gf(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",30),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"minimum value 1")," "))}function hf(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",30),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Cannot exceed the cost coverage")," "))}function ff(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",30),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Cannot exceed the total amount of financement")," "))}function bf(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",30),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Must input 100% total amount of financement")," "))}function Cf(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275element(1,"div",27),t.\u0275\u0275elementStart(2,"div",28)(3,"div",1),t.\u0275\u0275template(4,gf,3,3,"div",29),t.\u0275\u0275template(5,hf,3,3,"div",29),t.\u0275\u0275template(6,ff,3,3,"div",29),t.\u0275\u0275template(7,bf,3,3,"div",29),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext(2);let i;t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.checkMinDeduction(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkMaxDeduction(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkTotalCost()&&!a.checkMinDeduction(e)&&!a.checkMaxDeduction(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.checkTotalCostAmount()&&!a.checkMinDeduction(e)&&!a.checkMaxDeduction(e)&&((null==(i=a.getFinancialSupport().at(e).get("cost"))?null:i.dirty)||(null==(i=a.getFinancialSupport().at(e).get("cost"))?null:i.touched)))}}function xf(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",17)(1,"div",1),t.\u0275\u0275template(2,_f,6,10,"div",18),t.\u0275\u0275template(3,uf,6,0,"ng-container",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Cf,8,4,"div",20),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.index,i=t.\u0275\u0275nextContext(2);let l;t.\u0275\u0275property("formGroupName",a),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e||null==(l=e.get("term_not_billed"))?null:l.value)||"delete"===(null==i.data?null:i.data.from)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.cardStatus[a]),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.cardStatus[a])}}function yf(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",12),t.\u0275\u0275template(1,df,3,7,"div",13),t.\u0275\u0275template(2,pf,3,7,"div",13),t.\u0275\u0275elementContainerStart(3,14),t.\u0275\u0275template(4,xf,5,4,"div",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();let a;t.\u0275\u0275property("formGroup",e.form),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","deduced"===(null==e.data||null==e.data.changeData?null:e.data.changeData.isRaise)||e.isRaisedStatus(e.data)||"delete"===(null==e.data?null:e.data.from)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","raised"===(null==e.data||null==e.data.changeData?null:e.data.changeData.isRaise)||!(null!=e.data&&null!=e.data.changeData&&e.data.changeData.isRaise)&&!e.isRaisedStatus(e.data)&&"delete"!==(null==e.data?null:e.data.from)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==(a=e.getFinancialSupport())?null:a.controls)}}function vf(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",31),t.\u0275\u0275element(1,"mat-spinner",32),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let le=(()=>{class n{constructor(e,a,i,l,r){this.data=e,this.dialogRef=a,this.fb=i,this.translate=l,this.financeService=r,this.subs=new w.Y,this.isWaitingForResponse=!1,this.filter={candidate_id:null},this.cardStatus=[],this.billingData=[],this.minDeduction=!1,this.maxDeduction=!1,this.totalCost=!1,this.totalCostAmount=!1,this.isValid=!0}ngOnInit(){this.initForm(),this.getAllBilling()}calculateAvailableCostCoverage(e){let a=0;if(e?.terms?.length)for(const i of e?.terms||[])a=a+(i?.term_pay_amount?i?.term_pay_amount:0)+(i?.term_amount_pending?i?.term_amount_pending:0),"classic"!==e?.student_type?.type_of_formation&&"billed"===i?.term_status&&(a+=i?.term_amount);return a}onWheel(e){e?.preventDefault()}getAllBilling(){this.isWaitingForResponse=!0,this.filter.candidate_id=this.data&&this.data.candidateId?this.data.candidateId:null,this.filter.intake_channel=this.data&&this.data.intakeChannelId?this.data.intakeChannelId:null,this.subs.sink=this.financeService.getAllBillingDeducationDialog(this.filter).subscribe(e=>{if(console.log("041 dialog",e,this.data),e){const a=h.cloneDeep(e);if(a&&a.length){a.financement=[];const i=this.data&&this.data.data&&this.data.data.rate_per_hours?this.data.data.rate_per_hours*this.data.data.hours:0;this.financementAmount=this.data&&this.data.data&&this.data.data.total?this.data?.changeData?.isRaise?this.data?.changeData?.totalAmount:this.data.data.total:i,this.financementName=this.data&&this.data.financementName?this.data.financementName:"",a.forEach(l=>{this.cardStatus.push(!1);let r=0,s=!1;if(l?.terms?.length){const d=l.terms.filter(p=>"not_billed"===p.term_status);d?.length?(d.forEach(p=>{r+=p.term_amount}),r=parseFloat(r.toFixed(2))):r=0,s=l.terms.some(p=>"not_billed"===p?.term_status&&p?.term_amount)}else r=l.total_amount,s=!0;if(!l.is_financial_support&&l.candidate_id){const d={civility:l.candidate_id.civility,first_name:l.candidate_id.first_name,last_name:l.candidate_id.last_name,cost:r,billing_id:l._id,term_not_billed:s};("delete"===this.data?.from||d&&d.cost>0)&&(a.financement.push(d),this.addFinancialSupport())}else if(!0===l.is_financial_support&&l.financial_support_info){const d={civility:l.financial_support_info.civility,first_name:l.financial_support_info.name,last_name:l.financial_support_info.family_name,cost:r,billing_id:l._id,term_not_billed:s};("delete"===this.data?.from||d&&d.cost>0)&&(a.financement.push(d),this.addFinancialSupport())}})}this.getAllFinanceOrganizationCandidateId(a)}this.isWaitingForResponse=!1})}initForm(){this.form=this.fb.group({financement:this.fb.array([])})}initFinancialSupportForm(){return this.fb.group({civility:[""],first_name:[""],last_name:[""],cost:[null],billing_id:[null],organization_name:[null],company_name:[null],finance_organization_id:[null],term_not_billed:[""]})}getFinancialSupport(){return this.form.get("financement")}addFinancialSupport(){this.getFinancialSupport().push(this.initFinancialSupportForm())}checkSelectedCard(e){this.cardStatus&&this.cardStatus.length&&(this.cardStatus[e]=!this.cardStatus[e],this.setAmount(e))}setAmount(e){const a=this.form.value;if(a&&a.financement&&a.financement.length){const i=this.cardStatus.filter(u=>!0===u),l=i&&i.length?i.length:0,r=l>1?100/l:100,d=parseFloat((r/100*this.financementAmount).toFixed(2));console.log("041",r,d);const p=this.form.get("financement").value;this.cardStatus&&this.cardStatus.length&&this.cardStatus.forEach((u,_)=>{p&&p.length&&!0===u?this.getFinancialSupport()?.at(_)?.get("cost")?.patchValue(d):p&&p.length&&this.getFinancialSupport()?.at(_)?.get("cost")?.patchValue(null)})}this.checkValidation(e)}checkValidation(e){this.checkMinDeduction(e)?(this.minDeduction=!0,this.maxDeduction=!1,this.totalCost=!1,this.totalCostAmount=!1):this.checkMaxDeduction(e)?(this.minDeduction=!1,this.maxDeduction=!0,this.totalCost=!1,this.totalCostAmount=!1):this.checkTotalCost()?(this.minDeduction=!1,this.maxDeduction=!1,this.totalCost=!0,this.totalCostAmount=!1):this.checkTotalCostAmount()?(this.minDeduction=!1,this.maxDeduction=!1,this.totalCost=!1,this.totalCostAmount=!0):(this.minDeduction=!1,this.maxDeduction=!1,this.totalCost=!1,this.totalCostAmount=!1)}checkMinDeduction(e){return this.minDeduction=this.getFinancialSupport().at(e).get("cost").value<1&&"delete"!==this.data?.from,this.minDeduction}checkMaxDeduction(e){const a=this.billingData[e].cost;return this.maxDeduction=this.getFinancialSupport().at(e).get("cost").value>a&&"delete"!==this.data?.from,this.maxDeduction}checkTotalCost(){let e=0;const a=this.getFinancialSupport().value;return a&&a.length&&a.forEach(i=>{e+=i.cost}),this.totalCost=e>this.financementAmount,this.totalCost}checkTotalCostAmount(){let e=0;const a=this.getFinancialSupport().value;return a&&a.length&&a.forEach(i=>{e+=i.cost}),this.totalCostAmount=e<this.financementAmount,this.totalCostAmount}createPayload(){const e=this.data.data,a=this.form.value,i=[];return a.financement&&a.financement.length&&a.financement.forEach(l=>{i.push({billing_id:l.billing_id,amount:l.cost,finance_organization_id:l?.finance_organization_id?l?.finance_organization_id:null})}),e.amount_splits=i,e}isRaisedStatus(e){const a=e?.data?.actual_status;return"rejected"===a||"submitted_for_validation"===a||"in_progress_by_fc_in_charge"===a}checkInvalidDeducted(){let e=!1;return this.billingData?.length&&this.billingData.forEach((a,i)=>{a?.cost&&this.getFinancialSupport()?.at(i)?.get("cost").value>a?.cost&&"delete"!==this.data?.from&&(e=!0)}),e}checkSelectedData(){return this.cardStatus?.find(e=>!0===e)}submit(){const e=this.createPayload();console.log("041 payload",e,this.cardStatus);const a=this.cardStatus.find(i=>!0===i);if(this.isValid=a,this.minDeduction||this.maxDeduction||this.totalCost||this.totalCostAmount||this.checkInvalidDeducted()||!a)return c().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),void this.form.markAllAsTouched();this.isWaitingForResponse=!0,"edit"===this.data.from?this.subs.sink=this.financeService.updateAdmissionFinancementDialog(this.data.id,e,this.translate.currentLang).subscribe(l=>{console.log("041 submit",l),l&&c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("submit")}),this.isWaitingForResponse=!1},l=>{this.isWaitingForResponse=!1,"GraphQL error: cannot add financement more than full rate"===l.message?c().fire({type:"info",title:this.translate.instant("financement_s11.TITLE"),text:this.translate.instant("financement_s11.TEXT"),confirmButtonText:this.translate.instant("financement_s11.BUTTON_1")}).then(()=>{}):"GraphQL error: Cannot change status to accepted, organization must be added to table organization first"===l.message?c().fire({type:"info",title:this.translate.instant("Finance_Error1.TITLE"),text:this.translate.instant("Finance_Error1.TEXT"),confirmButtonText:this.translate.instant("Finance_Error1.BUTTON_1")}).then(()=>{this.dialogRef.close()}):"GraphQL error: Cannot change status to accepted, company must be added to table company first"===l.message?c().fire({type:"info",title:this.translate.instant("FINANCEMENT_S8.TITLE"),text:this.translate.instant("FINANCEMENT_S8.TEXT"),confirmButtonText:this.translate.instant("FINANCEMENT_S8.BUTTON")}).then(()=>{this.dialogRef.close()}):l.message.includes("Cannot delete financement some of term has been billed or paid")||l.message.includes("some terms are billed/paid")?c().fire({type:"info",title:this.translate.instant("VALIDATION_BILLING_S3.TITLE"),text:this.translate.instant("VALIDATION_BILLING_S3.TEXT"),confirmButtonText:this.translate.instant("VALIDATION_BILLING_S3.BUTTON")}).then(()=>{this.dialogRef.close()}):l.message.includes("You can\u2019t modify it as the billing was already processed")?c().fire({type:"info",title:this.translate.instant("SORRY"),text:this.translate.instant("You can\u2019t modify it as the billing was already processed"),confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(()=>{this.dialogRef.close()}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):"add"===this.data.from?this.subs.sink=this.financeService.CreateAdmissionFinancement(e).subscribe(i=>{i?(console.log(i),this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})):this.isWaitingForResponse=!1},i=>{this.isWaitingForResponse=!1,"GraphQL error: cannot add financement more than full rate"===i.message?c().fire({type:"info",title:this.translate.instant("financement_s11.TITLE"),text:this.translate.instant("financement_s11.TEXT"),confirmButtonText:this.translate.instant("financement_s11.BUTTON_1")}).then(()=>{}):"GraphQL error: Cannot change status to accepted, organization must be added to table organization first"===i.message?c().fire({type:"info",title:this.translate.instant("Finance_Error1.TITLE"),text:this.translate.instant("Finance_Error1.TEXT"),confirmButtonText:this.translate.instant("Finance_Error1.BUTTON_1")}).then(()=>{this.dialogRef.close()}):"GraphQL error: Cannot change status to accepted, company must be added to table company first"===i.message?c().fire({type:"info",title:this.translate.instant("FINANCEMENT_S8.TITLE"),text:this.translate.instant("FINANCEMENT_S8.TEXT"),confirmButtonText:this.translate.instant("FINANCEMENT_S8.BUTTON")}).then(()=>{this.dialogRef.close()}):i.message.includes("Cannot delete financement some of term has been billed or paid")||i.message.includes("some terms are billed/paid")?c().fire({type:"info",title:this.translate.instant("VALIDATION_BILLING_S3.TITLE"),text:this.translate.instant("VALIDATION_BILLING_S3.TEXT"),confirmButtonText:this.translate.instant("VALIDATION_BILLING_S3.BUTTON")}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):"delete"===this.data?.from&&this.dialogRef.close(e)}closeDialog(){this.dialogRef.close()}getAllFinanceOrganizationCandidateId(e){this.isWaitingForResponse=!0,this.subs.sink=this.financeService.GetAllFinanceOrganizationCandidateId({candidate_id:this.data?.candidateId?this.data?.candidateId:null,intake_channel:this.data?.intakeChannelId?this.data?.intakeChannelId:null}).subscribe(i=>{this.isWaitingForResponse=!1,i?.length?(console.log("org term",i),i.forEach(l=>{let r=0;if(l?.terms?.length){const d=l.terms.filter(p=>"not_billed"===p.term_status);d?.length?(d.forEach(p=>{r+=p.term_amount}),r=parseFloat(r.toFixed(2))):r=0}else r=l.total_amount;if(this.cardStatus.push(!1),l?.organization_id){const d={cost:r>0?r:0,finance_organization_id:l?._id,organization_name:l?.organization_id.name,term_not_billed:!0};"delete"===this.data?.from?l?.admission_financement_id?._id!==this.data?.id&&(e.financement.push(d),this.addFinancialSupport()):d&&d.cost>0&&(e.financement.push(d),this.addFinancialSupport())}else if(l?.company_branch_id){const d={cost:r>0?r:0,finance_organization_id:l?._id,company_name:l?.company_branch_id?.company_name,term_not_billed:!0};"delete"===this.data?.from?l?.admission_financement_id?._id!==this.data?.id&&(e.financement.push(d),this.addFinancialSupport()):d&&d.cost>0&&(e.financement.push(d),this.addFinancialSupport())}}),this.billingData=h.cloneDeep(e.financement)):e?.length&&(this.billingData=h.cloneDeep(e.financement)),this.form.patchValue(e)},()=>{this.isWaitingForResponse=!1})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.WI),t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(m.UntypedFormBuilder),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(ht.N))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-financement-deduction-dialog"]],decls:20,vars:12,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header"],[1,"p-grid"],[1,"p-col-10","no-padding"],[1,"dialogTitle"],[1,"p-col-2","no-padding"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content"],["class","p-grid",3,"formGroup",4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end","mr-action"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-button","","mat-raised-button","","color","primary",3,"click"],["class","inner-loading-indicator",4,"ngIf"],[1,"p-grid",3,"formGroup"],["class","p-col-12 no-padding",4,"ngIf"],["formArrayName","financement"],["class","p-col-12 width-card no-padding",3,"formGroupName",4,"ngFor","ngForOf"],[1,"p-col-12","no-padding"],[1,"p-col-12","width-card","no-padding",3,"formGroupName"],["class","p-col-7 card pad-form pad-left",3,"ngClass","click",4,"ngIf"],[4,"ngIf"],["class","p-grid",4,"ngIf"],[1,"p-col-7","card","pad-form","pad-left",3,"ngClass","click"],[1,"name-who"],[1,"dialogTitles"],[1,"p-col-3","pad-form"],["matInput","","formControlName","cost","type","number",3,"wheel"],[1,"p-col-2","mt-eur"],[1,"p-col-7","pad-form","pad-left"],[1,"p-col-5","no-padding"],["style","color: red","class","p-col pad-form",4,"ngIf"],[1,"p-col","pad-form",2,"color","red"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",4)(7,"button",5),t.\u0275\u0275listener("click",function(){return a.closeDialog()}),t.\u0275\u0275elementStart(8,"mat-icon"),t.\u0275\u0275text(9,"close"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(10,"div",6),t.\u0275\u0275template(11,yf,5,4,"div",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"div",8)(13,"button",9),t.\u0275\u0275listener("click",function(){return a.closeDialog()}),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"button",10),t.\u0275\u0275listener("click",function(){return a.submit()}),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(19,vf,2,1,"div",11)),2&e&&(t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(5,6,"AdmissionFollowUp.Financement")," ",a.financementName,""),t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",!a.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(15,8,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(18,10,"Validate")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isWaitingForResponse))},dependencies:[N.Zt,N.Bh,I.lW,T.xY,T.H8,k.Hw,S.KE,z.Nt,D.Ou,m.DefaultValueAccessor,m.NumberValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.FormGroupDirective,m.FormControlName,m.FormGroupName,m.FormArrayName,H.oO,f.mk,f.sg,f.O5,M.X$,f.gd],styles:[".header[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-top:15px;padding:0 5px 0 15px;color:#000}.mat-dialog-content[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:15px}.pad-form[_ngcontent-%COMP%]{padding:0 10px}.mt-eur[_ngcontent-%COMP%]{margin-top:23px}[_nghost-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-infix{border-top:.3em solid transparent;padding:15px 0!important}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-infix{padding-top:15px}.mr-action[_ngcontent-%COMP%]{margin:3px 10px 10px}.pad-left[_ngcontent-%COMP%]{padding-left:0!important}[_nghost-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:0!important}.card[_ngcontent-%COMP%]{padding-bottom:3px!important;padding:10px;vertical-align:middle;border:1px solid black;border-radius:4px;text-align:center;align-self:center;display:inline-block;margin-top:10px;cursor:pointer}.card-selected[_ngcontent-%COMP%]{background-color:#fdd835}.name-who[_ngcontent-%COMP%]{display:inline-block;text-align:center;margin-right:0!important}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.width-card[_ngcontent-%COMP%]{margin-right:10px}.card-red[_ngcontent-%COMP%]{border:1px solid red;color:red}"]}),n})();function Tf(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",32),t.\u0275\u0275element(1,"mat-spinner",33),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}function Mf(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",34),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.openAddFinancementDialog("add"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISIONSTEPFINANCEMENT.Add financement")," "))}function Sf(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",35),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ADMISIONSTEPFINANCEMENT.Type of organization")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"ADMISIONSTEPFINANCEMENT.Type of organization")))}function Of(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e||null==e.organization_id?null:e.organization_id.organization_type)," ")}}function Pf(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Company")," "))}function wf(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.organization_type&&"Company"===(null==e?null:e.organization_type)?t.\u0275\u0275pipeBind1(2,1,"Company"):t.\u0275\u0275pipeBind1(3,3,null==e?null:e.organization_type)," ")}}function Df(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" - ",t.\u0275\u0275pipeBind1(2,1,"other"),""))}function Ef(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",36),t.\u0275\u0275template(1,Of,3,3,"ng-container",37),t.\u0275\u0275template(2,Pf,3,3,"ng-container",37),t.\u0275\u0275template(3,wf,4,5,"ng-container",37),t.\u0275\u0275template(4,Df,3,3,"span",37),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",a.renderTooltip(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.organization_id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.company_branch_id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.company_branch_id||null!=e&&e.organization_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.organization_id||null!=e&&e.company_branch_id))}}function If(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",35),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ADMISIONSTEPFINANCEMENT.Organization")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"ADMISIONSTEPFINANCEMENT.Organization")))}function kf(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.organization_id?null:e.organization_id.name," ")}}function Ff(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.company_branch_id?null:e.company_branch_id.company_name," ")}}function Bf(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.organization_name," ")}}function Af(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",36),t.\u0275\u0275template(1,kf,2,1,"ng-container",37),t.\u0275\u0275template(2,Ff,2,1,"ng-container",37),t.\u0275\u0275template(3,Bf,2,1,"ng-container",37),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",a.renderTooltipOrganizationName(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.organization_id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.company_branch_id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.company_branch_id||null!=e&&e.organization_id))}}function Nf(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",35),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ADMISIONSTEPFINANCEMENT.Rate/Hour")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"ADMISIONSTEPFINANCEMENT.Rate/Hour")))}function Rf(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",36),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",a.formatDecimal(null==e?null:e.rate_per_hours)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.formatDecimal(null==e?null:e.rate_per_hours)," ")}}function Vf(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",35),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ADMISIONSTEPFINANCEMENT.Hours")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"ADMISIONSTEPFINANCEMENT.Hours")))}function Lf(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",36),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",a.formatDecimal(null==e?null:e.hours)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(a.formatDecimal(null==e?null:e.hours))}}function Uf(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",35),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ADMISIONSTEPFINANCEMENT.Total")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"ADMISIONSTEPFINANCEMENT.Total")))}function zf(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",36),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",a.formatDecimal(null==e?null:e.total)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(a.formatDecimal(null==e?null:e.total))}}function $f(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",35),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ADMISIONSTEPFINANCEMENT.Document")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"ADMISIONSTEPFINANCEMENT.Document")))}function Hf(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",38)(1,"button",39),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.downloadDoc(null==l?null:l.document_pdf))}),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"description"),t.\u0275\u0275elementEnd()()()}}function jf(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",35),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ADMISIONSTEPFINANCEMENT.Status")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"ADMISIONSTEPFINANCEMENT.Status")))}const Wf=function(n,o,e,a,i){return{black:n,green:o,blue:e,red:a,orange:i}};function Yf(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",38)(1,"mat-icon",40),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(2,2,"financement_status."+(null==e?null:e.actual_status)))("ngClass",t.\u0275\u0275pureFunction5(4,Wf,"added_by_student"===(null==e?null:e.actual_status),"accepted"===(null==e?null:e.actual_status),"submitted_for_validation"===(null==e?null:e.actual_status),"rejected"===(null==e?null:e.actual_status),"in_progress_by_fc_in_charge"===(null==e?null:e.actual_status)))}}function Gf(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",35),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ADMISIONSTEPFINANCEMENT.Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"ADMISIONSTEPFINANCEMENT.Action")))}function qf(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",43),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.openEditFinancementDialog("edit",l,r))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Modify financement"))}function Kf(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",44),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.deleteFinancement(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Delete"))}function Qf(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",44),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.openAddNoteFinancementDialog(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",45),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Note"))}function Xf(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",38),t.\u0275\u0275template(1,qf,4,3,"button",41),t.\u0275\u0275template(2,Kf,4,3,"button",42),t.\u0275\u0275template(3,Qf,3,3,"button",42),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","accepted"!==(null==e?null:e.actual_status)&&(a.isFCManager||a.isOperator)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isFCManager||a.isOperator),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isFCManager||a.isAdmission||a.isOperator)}}function Zf(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",46)(1,"div",47),t.\u0275\u0275element(2,"mat-spinner",48),t.\u0275\u0275elementEnd()())}function Jf(n,o){1&n&&t.\u0275\u0275element(0,"tr",49)}function t1(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",50),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isLoading)}}function e1(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",50),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isLoading)}}function n1(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",51),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")," "))}const a1=function(){return["loading"]},i1=function(n){return{hide:n}},o1=function(n){return{"hide-pagination-buttons":n}},l1=function(){return[10]};let r1=(()=>{class n{constructor(e,a,i,l,r,s,d){this.dialog=e,this.translate=a,this.formBuilderService=i,this.authService=l,this.permissions=r,this.financeService=s,this.pageTitleService=d,this.subs=new w.Y,this.dataCount=0,this.isWaitingForResponse=!1,this.displayedColumns=["type","organization","rate_hour","hours","total","document","status","action"],this.dataSource=new b.by([]),this.disableAcceptFinancement=!1,this.candidateAndOrgBilling=[]}ngOnInit(){this.updatePageTitle(),this.checkEntity(),this.getOneCandidate(),this.checkDisableAddFinancement(),console.log("_scholar",this.scholarSeasonData)}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,$.O)(null),(0,et.b)(()=>{this.getOneCandidate()})).subscribe()}updatePageTitle(){this.pageTitleService.setTitle(this.translate.instant("Student Card Financement")),this.subs.sink=this.translate.onLangChange.subscribe(()=>{this.pageTitleService.setTitle(this.translate.instant("Student Card Financement"))})}checkDisableAddFinancement(){const e={candidate_id:this.candidateId?this.candidateId:null,intake_channel:this.scholarSeasonData?.intake_channel?this.scholarSeasonData?.intake_channel._id:null};this.candidateAndOrgBilling=[],this.isWaitingForResponse=!0,this.subs.sink=this.financeService.checkDisableAddFinancementCadidate(e).subscribe(a=>{a?.length&&(this.candidateAndOrgBilling=this.candidateAndOrgBilling.concat(a)),this.subs.sink=this.financeService.checkDisableAddFinancementOrganization(e).subscribe(i=>{if(i?.length&&(this.candidateAndOrgBilling=this.candidateAndOrgBilling.concat(i)),this.candidateAndOrgBilling?.length)for(let l=0;l<this.candidateAndOrgBilling.length;l++)if(this.candidateAndOrgBilling[l]?.terms?.length){if(this.candidateAndOrgBilling[l]?.terms?.filter(s=>"not_billed"===s.term_status)?.length){this.disableAcceptFinancement=!1;break}this.disableAcceptFinancement=!0}else{if(this.candidateAndOrgBilling[l]?.total_amount>0){this.disableAcceptFinancement=!1;break}this.disableAcceptFinancement=!0}else this.disableAcceptFinancement=!0;console.log("this.disableAcceptFinancement",this.disableAcceptFinancement),this.isWaitingForResponse=!1})})}checkEntity(){if(this.currentUser=this.authService.getCurrentUser(),this.isAdmission=!!this.permissions.getPermission("Admission Member")||!!this.permissions.getPermission("Admission Director"),console.log("uat544 currentUser",this.currentUser),this.currentUser&&this.currentUser.app_data&&this.currentUser.app_data.user_type&&this.currentUser.app_data.user_type.length){const e=this.currentUser.app_data.user_type.filter(i=>"operator_dir"===i.name||"operator_admin"===i.name),a=this.currentUser.app_data.user_type.filter(i=>"Continuous formation manager"===i.name);this.isOperator=!(!e||!e.length),this.isFCManager=!(!a||!a.length)}console.log("uat544 cek",this.isOperator,this.isFCManager)}ngOnChanges(){this.getOneCandidate(),this.checkEntity()}getOneCandidate(){this.subs.sink=this.formBuilderService.getOneCandidateAdmission(this.candidateId).subscribe(e=>{e?(this.volumeOfHours=e.volume_hour,this.candidateData=e,this.candidateData&&this.populateFinancementTable()):(this.volumeOfHours=0,this.fullRate=0,this.total=0)},e=>{this.volumeOfHours=0,this.fullRate=0,this.total=0,e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}populateFinancementTable(){this.isLoading=!0,this.subs.sink=this.formBuilderService.getAllAdmissionFinancements({candidate_id:this.candidateId,admission_process_id:this.scholarSeasonData&&this.scholarSeasonData.admission_process_id?this.scholarSeasonData.admission_process_id._id:"",program_id:this.scholarSeasonData.intake_channel?this.scholarSeasonData.intake_channel._id:""},{limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0}).subscribe(i=>{if(console.log(i),i&&i.length){this.dataSource.data=i,this.paginator.length=i[0].count_document,this.dataCount=i[0].count_document,this.dividen=this.calculateTotal(i);const l=this.candidateData?.selected_payment_plan?.total_amount+this.candidateData?.selected_payment_plan?.down_payment-this.candidateData?.selected_payment_plan?.additional_expense;this.fullRate=isNaN(l)?0:l,this.total=this.fullRate-this.dividen-this.candidateData?.selected_payment_plan?.down_payment,console.log("_total 2",this.dividen)}else{this.dataSource.data=[],this.paginator.length=0,this.dataCount=0,this.dividen=0;const l=this.candidateData?.selected_payment_plan?.total_amount+this.candidateData?.selected_payment_plan?.down_payment-this.candidateData?.selected_payment_plan?.additional_expense;this.fullRate=isNaN(l)?0:l,this.total=this.fullRate-this.dividen-this.candidateData?.selected_payment_plan?.down_payment}this.noData=this.dataSource.connect().pipe((0,W.U)(l=>0===l.length)),this.isLoading=!1},i=>{this.isLoading=!1,this.dataSource.data=[],this.paginator.length=0,this.dataCount=0,this.dividen=0,this.noData=this.dataSource.connect().pipe((0,W.U)(l=>0===l.length)),i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}checkTermsStatus(e){return this.financeService.GetOneFinanceOrganizationForCheckStatus({candidate_id:e})}openEditFinancementDialog(e,a,i){"accepted"===a?.actual_status?(this.isWaitingForResponse=!0,this.subs.sink=this.checkTermsStatus(this.candidateId).subscribe(l=>{this.isWaitingForResponse=!1,l&&l.length&&(l.length<=i&&(i=l.length-1),l[i]?.terms?.some(s=>"billed"===s?.term_status||"partially_paid"===s?.term_status||"paid"===s?.term_status))?c().fire({type:"info",title:this.translate.instant("financement_s9.TITLE"),html:this.translate.instant("financement_s9.TEXT"),confirmButtonText:this.translate.instant("financement_s9.BUTTON"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):this.openAddFinancementDialog(e,a)},l=>{this.isWaitingForResponse=!1})):this.openAddFinancementDialog(e,a)}openAddFinancementDialog(e,a){if(this.disableAcceptFinancement)return void c().fire({title:this.translate.instant("DISABLE_ACCEPT_FINANCEMENT.Title"),text:this.translate.instant("DISABLE_ACCEPT_FINANCEMENT.Text"),type:"info",showConfirmButton:!0,confirmButtonText:this.translate.instant("DISABLE_ACCEPT_FINANCEMENT.Button")});const i=h.cloneDeep(a);this.subs.sink=this.dialog.open(cf,{panelClass:"certification-rule-pop-up",disableClose:!0,width:"660px",data:{comps:{title:"add"===e?"Add financement":"accepted"===a?.actual_status?"Modify financement":"Edit financement",icon:null,isEdit:"edit"===e},info:"edit"===e?a:null,candidateId:this.candidateId,admission_process_id:this.candidateData&&this.candidateData.admission_process_id?this.candidateData.admission_process_id._id:"",isFCManager:this.isFCManager||this.isOperator,user_id:this.currentUser._id,type_of_formation:this.candidateData&&this.candidateData.type_of_formation_id&&this.candidateData.type_of_formation_id.type_of_formation?this.candidateData.type_of_formation_id.type_of_formation:"",intakeChannelId:this.scholarSeasonData&&this.scholarSeasonData.intake_channel&&this.scholarSeasonData.intake_channel._id?this.scholarSeasonData.intake_channel._id:null,previousData:"edit"===e?i:null,company_branch_id:a?.company_branch_id?a?.company_branch_id:null,mentor_user_id:a?.mentor_user_id?a?.mentor_user_id:null,signatory_user_id:a?.signatory_user_id?a?.signatory_user_id:null,compType:e||""}}).afterClosed().subscribe(l=>{console.log("04111",l),l&&"dialog"===l.for&&l?.isFC?this.subs.sink=this.dialog.open(le,{disableClose:!0,width:"850px",panelClass:"no-padding-pop-up",data:l}).afterClosed().subscribe(r=>{r&&(this.getOneCandidate(),this.populateFinancementTable())}):l&&(this.getOneCandidate(),this.populateFinancementTable())})}calculateTotal(e){let a=0;return e.forEach(i=>{"accepted"===i.actual_status&&(a+=i.total)}),a}formatDecimal(e){return e?parseFloat(e).toFixed(2):0}renderTooltip(e){return e.organization_id?this.translate.instant(e.organization_id.organization_type):e.company_branch_id?this.translate.instant("Company"):`${this.translate.instant(e.organization_type&&"Company"===e.organization_type?"Company":e.organization_type)} - ${this.translate.instant("other")}`}renderTooltipOrganizationName(e){return e.organization_id?e.organization_id.name:e.company_branch_id?e.company_branch_id.company_name:e.organization_name}createPayloadForDelete(e){const a=h.cloneDeep(e);return this.candidateId&&(a.candidate_id=this.candidateId),a.hours=parseFloat(parseFloat(a?.hours).toFixed(2)),a.rate_per_hours=parseFloat(parseFloat(a?.rate_per_hours).toFixed(2)),a.organization_name_other?(a.organization_name=a?.organization_name_other,delete a?.organization_name_other):"Company"!==a.organization_type?(a.organization_id=a?.organization_id?._id,a.company_branch_id=null,delete a?.organization_name,delete a?.organization_name_other,delete a?.organization_type):(a.company_branch_id=a?.organization_name,a.organization_id=null,delete a?.organization_name,delete a?.organization_name_other,delete a?.organization_type),a&&a?.actual_status&&(a.actual_status=a?.actual_status),a&&a?.created_by&&delete a?.created_by,a&&a?._id&&delete a?._id,a}deleteFinancement(e){let a=3,i="";e?.organization_id?i=e?.organization_id?.name:e?.company_branch_id&&(i=e?.company_branch_id?.company_name),c().fire({title:this.translate.instant("DELETE_ITEM_TEMPLATE.TITLE"),html:this.translate.instant("CONFIRMDELETE",{value:i||""}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("THUMBSUP.SWEET_ALERT.CONFIRM",{timer:a}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const l=c().getConfirmButton(),r=setInterval(()=>{a-=1,l.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`},1e3);this.timeOutVal=setTimeout(()=>{l.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),c().enableConfirmButton(),clearInterval(r),clearTimeout(this.timeOutVal)},1e3*a)}}).then(l=>{clearTimeout(this.timeOutVal);const r=this.createPayloadForDelete(e);if(e){const s={organization_type:e?.organization_id?e?.organization_id.organization_type:e?.organization_type,organization_name:e?.organization_id?e?.organization_id?._id:this.translate.instant("other"),organization_names:e?.organization_id?e?.organization_id?.name:this.translate.instant("other"),document_pdf:e?.document_pdf,additional_information:e?.additional_information,organization_name_other:e?.organization_name};if(!e?.organization_id&&e?.company_branch_id&&(s.organization_type="Company",s.organization_name=e?.company_branch_id?e?.company_branch_id?._id:this.translate.instant("other"),s.organization_names=e?.company_branch_id?e?.company_branch_id?.company_name:this.translate.instant("other")),s.organization_name_other?r.organization_name=s.organization_name_other:"Company"!==s.organization_type?(r.organization_id=s.organization_name,r.company_branch_id=null):(r.company_branch_id=s.organization_name,r.organization_id=null),l.value){const d={for:"dialog",candidateId:this.candidateId?this.candidateId:null,intakeChannelId:this.scholarSeasonData&&this.scholarSeasonData.intake_channel&&this.scholarSeasonData.intake_channel._id?this.scholarSeasonData.intake_channel._id:null,financementName:e?.organization_id?.name?e?.organization_id?.name:s?.organization_names,data:r,info:e,id:e?._id?e?._id:null,from:"delete"};"accepted"===e?.actual_status&&0!==e?.total?this.subs.sink=this.dialog.open(le,{disableClose:!0,width:"850px",panelClass:"no-padding-pop-up",data:d}).afterClosed().subscribe(p=>{p&&this.deleteFinancementOption(e,p)}):this.deleteFinancementOption(e)}}})}deleteFinancementOption(e,a){this.isLoading=!0,this.subs.sink=this.formBuilderService.DeleteAdmissionFinancement(e?._id,a?.amount_splits).subscribe(i=>{i?(this.isLoading=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getOneCandidate(),this.populateFinancementTable()})):(this.isLoading=!1,this.getOneCandidate(),this.populateFinancementTable())},i=>{this.isLoading=!1,i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(()=>{this.getOneCandidate(),this.populateFinancementTable()})})}downloadDoc(e){if(console.log(e),e){const a=document.createElement("a");a.target="_blank",a.href=`${_t.N.apiUrl}/fileuploads/${e}?download=true`.replace("/graphql",""),a.download=e,a.click(),a.remove()}else c().fire({type:"info",title:this.translate.instant("Swal_Not_Upload_Doc.TITLE"),text:this.translate.instant("Swal_Not_Upload_Doc.TEXT"),confirmButtonText:this.translate.instant("Swal_Not_Upload_Doc.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1})}openAddNoteFinancementDialog(e){this.subs.sink=this.dialog.open(xh.E,{panelClass:"certification-rule-pop-up",disableClose:!0,width:"660px",data:{comps:{title:"Note Financement",icon:null,isEdit:!1,callFrom:"student_card"},source:e,currentUserId:this.currentUser._id}}).afterClosed().subscribe(a=>{a&&(this.populateFinancementTable(),this.getOneCandidate())})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(qt.c),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(bt.YI),t.\u0275\u0275directiveInject(ht.N),t.\u0275\u0275directiveInject(nt.Z))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-financement-tab-detail"]],viewQuery:function(e,a){if(1&e&&t.\u0275\u0275viewQuery(E.NW,7),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.paginator=i.first)}},inputs:{userData:"userData",candidateId:"candidateId",scholarSeasonData:"scholarSeasonData"},features:[t.\u0275\u0275NgOnChangesFeature],decls:76,vars:39,consts:[["class","inner-loading-indicator",4,"ngIf"],[1,"center-card","mrgn-btn50","mrgn-t1"],[1,"example-headers-align"],[1,"panel-spacing",2,"background","#424242",3,"expanded"],[2,"color","white","align-self","center","margin","0px"],[1,"p-grid","panel-divider"],[1,"p-col-12"],[1,"p-grid"],[1,"p-col-9","info"],[1,"p-col-3"],["mat-raised-button","","class","add_button","color","accent",3,"click",4,"ngIf"],[1,"p-col-12","no-padding","x-scroll"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","organization"],["matColumnDef","rate_hour"],["matColumnDef","hours"],["matColumnDef","total"],["matColumnDef","document"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","action","stickyEnd",""],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","style","text-align: center !important",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],[1,"w-full",3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["class","no-records",4,"ngIf"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"],["mat-raised-button","","color","accent",1,"add_button",3,"click"],["mat-header-cell","",3,"matTooltip"],["mat-cell","",3,"matTooltip"],[4,"ngIf"],["mat-cell",""],["mat-icon-button","",3,"click"],["aria-hidden","true",1,"mat-icon-status",3,"matTooltip","ngClass"],["mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["style","margin-left: 10px","mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"matTooltip","click"],["mat-icon-button","",2,"margin-left","10px",3,"matTooltip","click"],[1,"fa","fa-sticky-note",2,"font-size","16px","margin","4px"],["mat-header-cell","","colspan","100%",2,"text-align","center !important"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-row","",3,"hidden"],[1,"no-records"]],template:function(e,a){1&e&&(t.\u0275\u0275template(0,Tf,2,1,"div",0),t.\u0275\u0275elementStart(1,"div",1)(2,"div")(3,"mat-accordion",2)(4,"mat-expansion-panel",3)(5,"mat-expansion-panel-header")(6,"mat-panel-title")(7,"h4",4),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"p")(15,"span"),t.\u0275\u0275text(16),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"span"),t.\u0275\u0275text(19,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"span"),t.\u0275\u0275text(21),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(22,"p")(23,"span"),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(26,"span"),t.\u0275\u0275text(27,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(28,"span"),t.\u0275\u0275text(29),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(30,"p")(31,"span"),t.\u0275\u0275text(32),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(34,"span"),t.\u0275\u0275text(35,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(36,"span"),t.\u0275\u0275text(37),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(38,"div",9),t.\u0275\u0275template(39,Mf,3,3,"button",10),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(40,"div",11)(41,"table",12),t.\u0275\u0275elementContainerStart(42,13),t.\u0275\u0275template(43,Sf,5,6,"th",14),t.\u0275\u0275template(44,Ef,5,5,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(45,16),t.\u0275\u0275template(46,If,5,6,"th",14),t.\u0275\u0275template(47,Af,4,4,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(48,17),t.\u0275\u0275template(49,Nf,5,6,"th",14),t.\u0275\u0275template(50,Rf,2,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(51,18),t.\u0275\u0275template(52,Vf,5,6,"th",14),t.\u0275\u0275template(53,Lf,2,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(54,19),t.\u0275\u0275template(55,Uf,5,6,"th",14),t.\u0275\u0275template(56,zf,2,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(57,20),t.\u0275\u0275template(58,$f,5,6,"th",14),t.\u0275\u0275template(59,Hf,4,0,"td",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(60,22),t.\u0275\u0275template(61,jf,5,6,"th",14),t.\u0275\u0275template(62,Yf,4,10,"td",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(63,23),t.\u0275\u0275template(64,Gf,5,6,"th",14),t.\u0275\u0275template(65,Xf,4,3,"td",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(66,24),t.\u0275\u0275template(67,Zf,3,0,"th",25),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(68,Jf,1,0,"tr",26),t.\u0275\u0275template(69,t1,1,1,"tr",27),t.\u0275\u0275template(70,e1,1,1,"tr",28),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(71,"div",29),t.\u0275\u0275pipe(72,"async"),t.\u0275\u0275element(73,"mat-paginator",30),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(74,n1,3,3,"div",31),t.\u0275\u0275pipe(75,"async"),t.\u0275\u0275elementEnd()()()()()),2&e&&(t.\u0275\u0275property("ngIf",a.isWaitingForResponse),t.\u0275\u0275advance(4),t.\u0275\u0275property("expanded",!0),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(9,21,"Registration")," ",null==a.scholarSeasonData||null==a.scholarSeasonData.intake_channel?null:a.scholarSeasonData.intake_channel.program," "),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(17,23,"ADMISIONSTEPFINANCEMENT.Volume of Hours")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(a.volumeOfHours),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(25,25,"FinancementContinous.Full rate")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",a.fullRate," \u20ac"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(33,27,"FinancementContinous.Remaining due")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",a.total," \u20ac"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isFCManager||a.isOperator),t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",a.dataSource),t.\u0275\u0275advance(27),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(33,a1)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(34,i1,t.\u0275\u0275pipeBind1(72,29,a.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(36,o1,a.dataCount<=10))("length",a.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(38,l1)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(75,31,a.noData)))},dependencies:[f.mk,f.O5,I.lW,Z.pp,Z.ib,Z.yz,Z.yK,k.Hw,E.NW,D.Ou,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,G.gM,H.oO,f.Ov,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.pad-top-miss[_ngcontent-%COMP%]{padding-top:1.8px!important}.form-field[_ngcontent-%COMP%]{margin-top:.5px}.tag-container[_ngcontent-%COMP%]{white-space:normal;text-align:left!important;line-height:2.3;overflow-wrap:break-word}[_nghost-%COMP%]     .mat-paginator-outer-container{background-color:#212121;color:#fff}[_nghost-%COMP%]     table{border-collapse:inherit}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){min-width:150px;max-width:150px;text-align:center!important;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){min-width:150px;max-width:150px;text-align:center!important;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){min-width:80px;max-width:80px;text-align:center!important;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){min-width:80px;max-width:80px;padding-left:.5rem!important;padding-right:.5rem!important;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){min-width:80px;max-width:80px;text-align:center!important;padding-left:.5rem!important;padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){min-width:80px;max-width:80px;padding-left:.5rem!important;padding-right:.5rem!important;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){min-width:80px;max-width:80px;padding-left:.7rem!important;padding-right:.7rem!important;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){min-width:max-content;max-width:max-content;border-left:solid 1px darkslategrey;padding-left:.7rem!important;padding-right:.7rem!important;text-align:center!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em;color:#fff}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(1){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(1), [_nghost-%COMP%]     table thead tr:nth-child(2){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(1) th, [_nghost-%COMP%]     table thead tr:nth-child(2) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.pc-section[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:5px;display:inline-block}.cr-section[_ngcontent-%COMP%]{width:50%;text-align:left;display:inline-block}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;width:100%;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.add_button[_ngcontent-%COMP%]{float:right}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;margin:0}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1rem}h5[_ngcontent-%COMP%]{margin:0}.form-field[_ngcontent-%COMP%]{margin-top:6px}.green[_ngcontent-%COMP%]{color:#9acd32}.black[_ngcontent-%COMP%]{color:#000}.blue[_ngcontent-%COMP%]{color:#36ebf4}.orange[_ngcontent-%COMP%]{color:#f60}.red[_ngcontent-%COMP%]{color:#ff4040}.panel-divider[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.5803921569);padding-top:0;padding-bottom:0}.x-scroll[_ngcontent-%COMP%]{overflow-x:auto}.w-full[_ngcontent-%COMP%]{width:100%}"]}),n})();var V=C(96308),re=C(98695),s1=C(12027),c1=C(55605);function d1(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",26),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT/CONVENTION.Template name")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"CONTRACT/CONVENTION.Template name")))}function p1(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",27),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e||null==e.form_builder_id?null:e.form_builder_id.form_builder_name)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.form_builder_id?null:e.form_builder_id.form_builder_name," ")}}function m1(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",26),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT/CONVENTION.Financier")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"CONTRACT/CONVENTION.Financier")))}function _1(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",27),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.financer)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.financer," ")}}function u1(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",26),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT/CONVENTION.Start date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"CONTRACT/CONVENTION.Start date")))}function g1(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",27),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.start_date),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.start_date," ")}}function h1(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",26),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT/CONVENTION.End date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"CONTRACT/CONVENTION.End date")))}function f1(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",27),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.end_date),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.end_date," ")}}function b1(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",26),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT/CONVENTION.Status")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"CONTRACT/CONVENTION.Status")))}function C1(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-icon",30),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(2,1,"not_sent")))}function x1(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-icon",31),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(2,1,"reject_and_stop")))}function y1(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-icon",32),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",a.getTextForSigningProgressStatus(null==e?null:e.contract_validator_signatory_status))}}function v1(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-icon",33),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(2,1,null==e?null:e.contract_status))}}function T1(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",28),t.\u0275\u0275template(1,C1,4,3,"ng-container",29),t.\u0275\u0275template(2,x1,4,3,"ng-container",29),t.\u0275\u0275template(3,y1,3,1,"ng-container",29),t.\u0275\u0275template(4,v1,4,3,"ng-container",29),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","not_sent"===(null==e?null:e.contract_status)||!(null!=e&&e.contract_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","reject_and_stop"===(null==e?null:e.contract_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","in_progress_of_signing"===(null==e?null:e.contract_status)||"sent"===(null==e?null:e.contract_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","signed"===(null==e?null:e.contract_status))}}function M1(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",26),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function S1(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",38),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.sendMail(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3," send "),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT/CONVENTION.Send email")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0)}}function O1(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",39),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.sendReminder(null==i?null:i._id))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"notifications"),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ERP_009_TEACHER_CONTRACT.Send Reminder")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0)}}function P1(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",38),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onGoToForm(i,"view"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",40),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT/CONVENTION.View")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0)}}function w1(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",39),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onGoToForm(i,"edit"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT/CONVENTION.Edit form")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0)}}function D1(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",39),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.deleteContract(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT/CONVENTION.Delete")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0)}}function E1(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",39),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.getContractPDF(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"description"),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT/CONVENTION.Contract")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0)}}function I1(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.openNote(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",42),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Note"))}function k1(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",34),t.\u0275\u0275template(1,S1,4,4,"button",35),t.\u0275\u0275template(2,O1,4,4,"button",36),t.\u0275\u0275template(3,P1,3,4,"button",35),t.\u0275\u0275template(4,w1,4,4,"button",36),t.\u0275\u0275template(5,D1,4,4,"button",36),t.\u0275\u0275template(6,E1,4,4,"button",36),t.\u0275\u0275template(7,I1,3,3,"button",37),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","not_sent"===(null==e?null:e.contract_status)||"signed"===(null==e?null:e.contract_status)||"in_progress_of_signing"===(null==e?null:e.contract_status)||!(null!=e&&e.contract_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","signed"!==(null==e?null:e.contract_status)&&"reject_and_stop"!==(null==e?null:e.contract_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","in_progress_of_signing"===(null==e?null:e.contract_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","not_sent"===(null==e?null:e.contract_status)||!(null!=e&&e.contract_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","not_sent"===(null==e?null:e.contract_status)||!(null!=e&&e.contract_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","signed"===(null==e?null:e.contract_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","reject_and_stop"===(null==e?null:e.contract_status))}}function F1(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",43)(1,"div",44),t.\u0275\u0275element(2,"mat-spinner",45),t.\u0275\u0275elementEnd()())}function B1(n,o){1&n&&t.\u0275\u0275element(0,"tr",46)}function A1(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",47),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isLoading)}}function N1(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",48),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isLoading)}}const se=function(n){return{hide:n}};function R1(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",49),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,se,e.isLoading)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"NOT RECORD FOUND")," ")}}function V1(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",50),t.\u0275\u0275element(1,"mat-progress-spinner",51),t.\u0275\u0275elementEnd())}const L1=function(){return["loading"]},U1=function(n){return{"hide-pagination-buttons":n}},z1=function(){return[10]};let $1=(()=>{class n{constructor(e,a,i,l,r,s,d,p,u,_){this.candidatesService=e,this.authService=a,this.permissionService=i,this.translate=l,this.dialog=r,this.pageTitleService=s,this.router=d,this.parseUtcToLocalPipe=p,this.coreService=u,this.contractService=_,this.displayedColumns=["templateName","financier","startDate","endDate","status","action"],this.filterColumns=["selectFilter","studentNumberFilter","nameFilter","programFilter","templateNameFilter","financierFilter","typeOfFinancementFilter","startDateFilter","endDateFilter","contractManagerFilter","sendDateFilter","statusFilter","actionFilter"],this.isCheckedAll=!1,this.isWaitingForResponse=!1,this.filteredValues={school:"",campus:"",level:"",scholar_season:"",student_unique_number:"",program_id:null,template_type:"fc_contract"},this.searching={trial_date:""},this.maleIcon="../../../../../assets/img/student_icon.png",this.femaleIcon="../../../../../assets/img/student_icon_fem.png",this.greenHeartIcon="../../../../../assets/img/enagement_icon_green.png",this.flagsIconPath="../../../../../assets/icons/flags-nationality/",this.shieldAccountIcon="../../../../../assets/img/shield-account.png",this.neutralStudentIcon="../../../../../assets/img/student_icon_neutral.png",this.dataSource=new b.by([]),this.selection=new Tt.Ov(!0,[]),this.dataCount=0,this.disabledExport=!0,this.isSameData=!1,this.subs=new w.Y,this.isReset=!1,this.dataLoaded=!1,this.sortValue=null,this.titleList=[],this.originalTitleList=[],this.originalNationalityList=[],this.schoolList=[],this.originalCandidateList=[],this.allStudentForExport=[],this.allStudentForCustom=[],this.serverimgPath=`${St.a.baseApi}/fileuploads/`.replace("/graphql",""),this.campusList=[],this.listObjective=[],this.levels=[],this.school=[],this.scholars=[],this.scholarSelected=[],this.allCandidateData=[],this.isWasSelectAll=!1,this.previousLength=0,this.pageSelected=[],this.allStudentForCheckbox=[],this.dataSelected=[]}ngOnInit(){}ngOnDestroy(){this.pageTitleService.setMessage(""),this.subs.unsubscribe()}ngOnChanges(){this.subs.sink=this.translate.onLangChange.subscribe(a=>{}),this.coreService.sidenavOpen=!1,this.currentUser=this.authService.getLocalStorageUser(),this.isPermission=this.authService.getPermission();const e=this.currentUser?.entities?.find(a=>a?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id,this.getContractData("First")}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,$.O)(null),(0,et.b)(()=>{this.isReset||this.getContractData("AfterViewInit"),this.dataLoaded=!0})).subscribe()}getContractData(e){this.dataSource.data=[],this.paginator.length=0,this.dataCount=0;const a={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},i=this.cleanFilterData();this.candidate&&this.candidate.candidate_unique_number&&(this.isLoading=!0,this.subs.sink=this.candidatesService.getAllFormContractFCProcessesStudentCard(a,i,this.currentUser?.app_data?.user_type_id?this.currentUser.app_data.user_type_id:[]).subscribe(r=>{r&&r.length?(console.log("resp",r),this.dataSource.data=r,this.paginator.length=r[0].count_document,this.dataCount=r[0].count_document):(this.dataSource.data=[],this.paginator.length=0,this.dataCount=0),this.noData=this.dataSource.connect().pipe((0,W.U)(s=>0===s.length)),this.isReset=!1,this.isLoading=!1},r=>{this.isLoading=!1,r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getContractData("sortData"))}resetCandidate(){this.disabledExport=!0,this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!1,this.isReset=!0,this.paginator.pageIndex=0,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.filteredValues={school:"",campus:"",level:"",scholar_season:"",student_unique_number:"",program_id:"",template_type:"fc_contract"},this.searching={trial_date:""},this.userSelected=[],this.userSelectedId=[],this.selectType="",this.sort.direction="",this.sort.active="",this.sortValue=null,this.getContractData("resetCandidate"),this.school=[],this.campusList=[],this.levels=[]}isAllSelected(){const e=this.selection.selected.length,a=this.dataSource.data.length;return e===a||e>a}isSomeSelected(){return this.selection.selected.length>0}masterToggle(){this.isAllSelected()?(this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.isCheckedAll=!1):(this.selection.clear(),this.dataSelected=[],this.allStudentForCheckbox=[],this.isCheckedAll=!0,this.getDataAllForCheckbox(0))}getDataAllForCheckbox(e){const a={limit:300,page:e};this.isLoading=!0,this.cleanFilterData(),this.subs.sink=this.contractService.getAllFCContractCheckbox(this.currentUserTypeId,a).subscribe(l=>{l&&l.length?(this.allStudentForCheckbox.push(...l),this.getDataAllForCheckbox(e+1)):(console.log("getDataAllForCheckbox",this.selection,this.isCheckedAll),this.isLoading=!1,this.isCheckedAll?(this.allStudentForCheckbox&&this.allStudentForCheckbox.length&&this.allStudentForCheckbox.forEach(r=>{this.selection.select(r._id),this.dataSelected.push(r)}),this.pageSelected.push(this.paginator.pageIndex)):this.pageSelected=[])},l=>{this.isReset=!1,this.isLoading=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("OK")})})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}showOptions(e,a){if(a)if(this.dataSelected&&this.dataSelected.length){const r=this.dataSelected.filter(s=>s._id===a._id);if(r&&r.length<1)this.dataSelected.push(a);else{const s=this.dataSelected.findIndex(d=>d._id===a._id);this.dataSelected.splice(s,1)}}else this.dataSelected.push(a);this.disabledExport=!(this.dataSelected.length>0),this.userSelected=[],this.userSelectedId=[],this.selectType=e,(this.dataSelected&&this.dataSelected.length?this.dataSelected:this.selection.selected).forEach(r=>{this.userSelected.push(r),this.userSelectedId.push(r._id)})}cleanFilterData(){this.filteredValues.student_unique_number=this.candidate&&this.candidate.candidate_unique_number?this.candidate.candidate_unique_number:null,this.filteredValues.program_id=this.scholarSeasonData&&this.scholarSeasonData.intake_channel?this.scholarSeasonData.intake_channel._id:null;const e=h.cloneDeep(this.filteredValues);let a="";return Object.keys(e).forEach(i=>{"template_type"===i?a+=` ${i}:${e[i]}`:(e[i]||!1===e[i])&&(a+=` ${i}:"${e[i]}"`)}),"filter: {"+a+"}"}transformDate(e){return e&&e.date&&e.time&&"Invalid date"!==e.date?this.parseUtcToLocalPipe.transformDate(e.date,e.time):""}transformDateDue(e){return e&&e.due_date&&e.due_time?this.parseUtcToLocalPipe.transformDate(e.due_date,e.due_time):""}addContract(){this.subs.sink=this.dialog.open(re.p,{width:"800px",disableClose:!0,data:{title:"Add new",user_id:this.candidate.user_id,continuous_formation_manager_id:this.candidate.continuous_formation_manager_id?this.candidate.continuous_formation_manager_id._id:null,admission_member_id:this.candidate.admission_member_id?this.candidate.admission_member_id._id:null,candidate_id:this.candidateId,from:"student_card",candidate:this.candidate}}).afterClosed().subscribe(e=>{e&&(this.getContractData("addContract"),this.onGoToForm(e,"add"))})}editContract(e){this.subs.sink=this.dialog.open(re.p,{width:"800px",disableClose:!0,data:{title:"edit",user_id:this.candidate.user_id,continuous_formation_manager_id:this.candidate.continuous_formation_manager_id._id,admission_member_id:this.candidate.admission_member_id._id,candidate_id:e._id,element:e,from:"student_card",candidate:this.candidate}}).afterClosed().subscribe(a=>{a&&this.getContractData("addContract")})}onGoToForm(e,a){let i="";if("edit"===a){const r=e?.form_builder_id?.steps&&e?.form_builder_id?.steps?.length?e?.form_builder_id?.steps[0].user_who_complete_step?.name:null;this.currentUser?.app_data?.user_type?.forEach(s=>{s?.name===r&&(i=s?._id)})}else"add"===a&&this.currentUser?.app_data?.user_type?.forEach(r=>{r?.name===e?.user_who_complete&&(i=r?._id)});i||(i=this.authService.getCurrentUser().entities[0].type._id);const l=this.router.createUrlTree(["/form-fill"],{queryParams:{formId:e._id,formType:"fc_contract",userId:this.currentUser._id,userTypeId:i}});window.open(l.toString(),"_blank")}deleteContract(e){let a=3;c().fire({title:"Attention",html:this.translate.instant("promosi.Are you sure you want to delete this item?"),type:"warning",allowEscapeKey:!0,showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:a}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const i=c().getConfirmButton(),l=setInterval(()=>{a-=1,i.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+a+" sec"},1e3);this.timeOutVal=setTimeout(()=>{i.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(l),clearTimeout(this.timeOutVal)},1e3*a)}}).then(i=>{i.value&&(this.isLoading=!0,this.subs.sink=this.contractService.deleteFcContractProcess(e._id).subscribe(l=>{this.isLoading=!1,l&&c().fire({type:"success",title:this.translate.instant("Bravo!"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S4.BUTTON")}).then(r=>{this.getContractData("deleteContract")})},l=>{this.isReset=!1,this.isLoading=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("OK")})}))})}getTextForSigningProgressStatus(e){const a=this.translate.instant("in_progress_of_signing"),i=[],l=e.find(r=>r&&!r.is_already_sign);if(l&&l.user_id){const r=l.user_id;r.civility&&"neutral"!==r.civility&&i.push(this.translate.instant(r.civility)),r.last_name&&i.push(String(r.last_name).toLocaleUpperCase()),r.first_name&&i.push(String(r.first_name))}return i.length?`${a} - ${i.join(" ")}`:a}sendMail(e){console.log("_data",e);const a=e.admission_financement_ids&&e.admission_financement_ids.length?e.admission_financement_ids.map(l=>l.organization_id&&l.organization_id._id):[],i=e.admission_financement_ids&&e.admission_financement_ids.length?e.admission_financement_ids.map(l=>l.company_branch_id&&l.company_branch_id._id):[];if(e){const l={candidate_id:{candidate_admission_status:e.candidate_id.candidate_admission_status,civility:e.candidate_id.civility,email:e.candidate_id.email,emailDefault:e.candidate_id.school_mail,first_name:e.candidate_id.first_name,last_name:e.candidate_id.last_name},financial_supports:e.candidate_id.payment_supports,admission_financement_ids:a.length?h.uniqBy(a):[],company_branch_id:i.length?h.uniqBy(i):[]};this.subs.sink=this.dialog.open(Qt.v,{width:"600px",minHeight:"100px",disableClose:!0,data:l}).afterClosed().subscribe(r=>{!this.isReset&&r&&this.getContractData("send email")})}}getContractPDF(e){if(e){this.isWaitingForResponse=!0;const a=e?.form_builder_id?._id;let i;if(e?.steps?.length){const l=e?.steps?.filter(r=>"step_with_signing_process"===r?.step_type);l?.length&&(i=l[0]._id)}a&&i&&(this.subs.sink=this.candidatesService.generateContractPDF(a,i,!1).subscribe(l=>{if(l&&e){const r=document.createElement("a");r.setAttribute("type","hidden"),r.href=`${_t.N.apiUrl}/fileuploads/${l}`.replace("/graphql",""),r.target="_blank",r.click(),r.remove()}this.isWaitingForResponse=!1},l=>{this.isWaitingForResponse=!1,l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"error",title:"Error",text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}}getTemplatePDF(e){if(e){const a=document.createElement("a");a.setAttribute("type","hidden"),a.href=`${_t.N.apiUrl}/fileuploads/${e}`.replace("/graphql",""),a.target="_blank",a.click(),a.remove()}}sendReminder(e){this.isWaitingForResponse=!0,this.subs.sink=this.contractService.SendEmailFcContractProcess(e,this.translate.currentLang).subscribe(a=>{this.isWaitingForResponse=!1,a&&c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1})},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}openNote(e){this.dialog.open(s1.U,{minWidth:"650px",panelClass:"certification-rule-pop-up",disableClose:!0,data:e})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(mt.o),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(ot.$),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(nt.Z),t.\u0275\u0275directiveInject(tt.F0),t.\u0275\u0275directiveInject(U.t),t.\u0275\u0275directiveInject(xt.p),t.\u0275\u0275directiveInject(c1.U))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-contract-student-tab"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(E.NW,7),t.\u0275\u0275viewQuery(V.YE,7)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.paginator=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.sort=i.first)}},inputs:{userData:"userData",candidateId:"candidateId",candidate:"candidate",scholarSeasonData:"scholarSeasonData"},features:[t.\u0275\u0275ProvidersFeature([U.t]),t.\u0275\u0275NgOnChangesFeature],decls:39,vars:28,consts:[[2,"margin-top","15px"],[1,"horizontal","header-button","header-action"],[1,"text-right",2,"display","inline-block","float","right"],["mat-raised-button","","color","accent",1,"text-right",3,"matTooltip","disabled","click"],[1,"horizontal","mat-elevation-z8","finance-table",2,"font-family","'firaSans' !important"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","templateName"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","financier"],["matColumnDef","startDate"],["matColumnDef","endDate"],["matColumnDef","status"],["mat-cell","",4,"matCellDef"],["matColumnDef","action","stickyEnd",""],["mat-cell","","class","action-buttons",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","23","style","text-align: center !important",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],[1,"horizontal",2,"margin-bottom","40px"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["class","no-records",3,"ngClass",4,"ngIf"],["class","loading-indicator",4,"ngIf"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-cell","",3,"matTooltip"],["mat-cell",""],[4,"ngIf"],["aria-hidden","true",1,"black","mat-icon-status",3,"matTooltip"],["aria-hidden","true",1,"red","mat-icon-status",3,"matTooltip"],["aria-hidden","true",1,"orange","mat-icon-status",3,"matTooltip"],["aria-hidden","true",1,"green","mat-icon-status",3,"matTooltip"],["mat-cell","",1,"action-buttons"],["mat-icon-button","","class","margin-right-button",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","","class","margin-right-button",3,"matTooltip","disabled","click",4,"ngIf"],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"margin-right-button",3,"disabled","matTooltip","click"],["mat-icon-button","",1,"margin-right-button",3,"matTooltip","disabled","click"],["svgIcon","eye"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","click"],["svgIcon","note-outline"],["mat-header-cell","","colspan","23",2,"text-align","center !important"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records",3,"ngClass"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t.\u0275\u0275listener("click",function(){return a.addContract()}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(7,"div",4)(8,"table",5),t.\u0275\u0275listener("matSortChange",function(l){return a.sortData(l)}),t.\u0275\u0275elementContainerStart(9,6),t.\u0275\u0275template(10,d1,5,6,"th",7),t.\u0275\u0275template(11,p1,3,4,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,9),t.\u0275\u0275template(13,m1,5,6,"th",7),t.\u0275\u0275template(14,_1,3,4,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(15,10),t.\u0275\u0275template(16,u1,5,6,"th",7),t.\u0275\u0275template(17,g1,2,2,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,11),t.\u0275\u0275template(19,h1,5,6,"th",7),t.\u0275\u0275template(20,f1,2,2,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(21,12),t.\u0275\u0275template(22,b1,5,6,"th",7),t.\u0275\u0275template(23,T1,5,4,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,14),t.\u0275\u0275template(25,M1,5,6,"th",7),t.\u0275\u0275template(26,k1,8,7,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(27,16),t.\u0275\u0275template(28,F1,3,0,"th",17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(29,B1,1,0,"tr",18),t.\u0275\u0275template(30,A1,1,1,"tr",19),t.\u0275\u0275template(31,N1,1,1,"tr",20),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(32,"div",21)(33,"div",22),t.\u0275\u0275pipe(34,"async"),t.\u0275\u0275element(35,"mat-paginator",23),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(36,R1,3,6,"div",24),t.\u0275\u0275pipe(37,"async"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(38,V1,2,0,"div",25)),2&e&&(t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(4,14,"CONTRACT/CONVENTION.Add Contract")," "),t.\u0275\u0275property("disabled",a.isLoading),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,16,"CONTRACT/CONVENTION.Add Contract")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("dataSource",a.dataSource),t.\u0275\u0275advance(21),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(22,L1)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(23,se,t.\u0275\u0275pipeBind1(34,18,a.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(25,U1,a.dataCount<=10))("length",a.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(27,z1)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(37,20,a.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isWaitingForResponse))},dependencies:[f.mk,f.O5,I.lW,k.Hw,E.NW,D.Ou,V.YE,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,G.gM,H.oO,f.Ov,M.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{margin-top:6px}.finance-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:unset!important}.horizontal[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#212121}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:50px;background:#eaa11c!important}.person-image[_ngcontent-%COMP%]{display:inline-block;margin-right:0;min-height:20px;max-height:20px;min-width:20px;max-width:20px}.flag-icon[_ngcontent-%COMP%]{vertical-align:text-top;height:17px;width:17px}img.engagement-level-icon[_ngcontent-%COMP%]{height:15px;width:15px;display:inline;margin:0}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}th.mat-header-cell[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{align-items:center;font-size:10pt}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%], .mat-column-typeFormation[_ngcontent-%COMP%], .mat-column-typeFormationFilter[_ngcontent-%COMP%], .mat-column-studentNumber[_ngcontent-%COMP%], .mat-column-studentNumberFilter[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-nameFilter[_ngcontent-%COMP%], .mat-column-nationality[_ngcontent-%COMP%], .mat-column-nationalityFilter[_ngcontent-%COMP%], .mat-column-entryWay[_ngcontent-%COMP%], .mat-column-entryWayFilter[_ngcontent-%COMP%]{text-align:center;z-index:999!important;box-shadow:1px 1px #545454}.header-action[_ngcontent-%COMP%]{font-family:firaSans!important;height:50px;padding:8px;background:#424242}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{align-items:center!important;border-right:1px solid #545454;padding:4px!important}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){text-align:center!important;width:7%;min-width:180px!important;max-width:180px!important;z-index:999!important;padding-left:0!important;padding-right:0!important;vertical-align:middle}[_nghost-%COMP%]     table tr td:nth-child(1) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(1) .mat-form-field{padding-top:6px;width:80%}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:7%;min-width:180px!important;max-width:180px!important;z-index:999!important;text-align:center!important;vertical-align:middle}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{padding-top:0;width:80%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:3%;min-width:95px;vertical-align:middle;max-width:95px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{padding-top:0;width:80%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:3%;min-width:95px;vertical-align:middle;max-width:95px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(4) .mat-form-field{padding-top:0;width:80%}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:2%;min-width:80px;vertical-align:middle;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{padding-top:6px;width:80%}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){width:5%;max-width:240px;min-width:120px;text-align:center!important;vertical-align:middle;box-shadow:-2px 0 #545454}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr td:nth-child(1){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(2){padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(3){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(4){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td *{vertical-align:middle}[_nghost-%COMP%]     table tr td .mat-icon-status{font-size:20px;text-align:center;vertical-align:middle;padding-right:0}[_nghost-%COMP%]     table tr th{align-items:center;text-align:center!important;font-size:10pt!important}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr th button.mat-sort-header-button{display:inline!important}[_nghost-%COMP%]     table thead tr:nth-child(1), [_nghost-%COMP%]     table thead tr:nth-child(2){background:#212121;border-bottom:none!important;font-size:10pt!important;height:auto}[_nghost-%COMP%]     table thead tr:nth-child(1) th:nth-child(6) .mat-icon, [_nghost-%COMP%]     table thead tr:nth-child(2) th:nth-child(6) .mat-icon{display:inline-flex;margin:8%}[_nghost-%COMP%]     table thead tr:nth-child(3) th:nth-child(4){padding-top:0!important}[_nghost-%COMP%]     table thead tr:nth-child(1), [_nghost-%COMP%]     table thead tr:nth-child(2){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(1) th, [_nghost-%COMP%]     table thead tr:nth-child(2) th{color:#fff}[_nghost-%COMP%]     table thead tr:nth-child(1) th .mat-icon-status, [_nghost-%COMP%]     table thead tr:nth-child(2) th .mat-icon-status{vertical-align:text-bottom}[_nghost-%COMP%]     table thead tr:nth-child(1) th .mat-icon-svgIcon, [_nghost-%COMP%]     table thead tr:nth-child(2) th .mat-icon-svgIcon{vertical-align:text-bottom}[_nghost-%COMP%]     table thead tr:nth-child(1) th:nth-child(6) .mat-icon, [_nghost-%COMP%]     table thead tr:nth-child(2) th:nth-child(6) .mat-icon{display:inline-flex}.mat-icon-status[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:middle;padding-right:5px}.action-header-column[_ngcontent-%COMP%]{text-align:right!important;vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.hide[_ngcontent-%COMP%]{display:none}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.icon-thumbsup[_ngcontent-%COMP%]{width:13px;padding:2px 0 0}.icon-certifier[_ngcontent-%COMP%]{width:15px}.loading-indicator[_ngcontent-%COMP%]{position:fixed;z-index:999;height:2em;width:6em;overflow:show;margin:auto;inset:0}.loading-indicator[_ngcontent-%COMP%]:before{content:"";display:block;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000004d}.yellow[_ngcontent-%COMP%]{color:#ffd740}.orange[_ngcontent-%COMP%]{color:#f49f36}.blue[_ngcontent-%COMP%]{color:#36ebf4}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:purple}.magenta[_ngcontent-%COMP%]{color:#f0f}.black[_ngcontent-%COMP%]{color:#000}.cyan[_ngcontent-%COMP%]{color:#0ff}.greenyellow[_ngcontent-%COMP%]{color:#adff2f}.green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#adff2f}.red-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#ff4040}.black-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#000}.cyan-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#0ff}.magenta-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#f0f}.width-size[_ngcontent-%COMP%]{width:300px;padding:9px;font-size:11px}.width-sizes[_ngcontent-%COMP%]{width:300px;padding:9px;font-size:12px}[_nghost-%COMP%]  .mat-autocomplete-panel{min-width:190px!important}.mat-autocomplete-panel[_ngcontent-%COMP%]{min-width:190px!important}.mat-autocomplete-panel[_nghost-%COMP%]{min-width:190px!important}  .mat-autocomplete-panel{min-width:190px!important}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid #bdbdbd!important;min-height:36px;align-items:center;margin-bottom:6px}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{color:#000}  ng-dropdown-panel.dropdown{width:200px!important}.mrg-tminus[_ngcontent-%COMP%]{margin-top:-10px!important}.admission-button[_ngcontent-%COMP%]{background:#4aa744!important}.border-group-button[_ngcontent-%COMP%]{display:inline-block;border-right:1px solid white;margin:0 10px;padding:13px 0}img.payment-success[_ngcontent-%COMP%]{height:11px!important}']}),n})();function H1(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275element(1,"mat-spinner",8),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let j1=(()=>{class n{constructor(e,a,i,l,r){this.dialog=e,this.translate=a,this.formBuilderService=i,this.authService=l,this.pageTitleService=r,this.subs=new w.Y,this.dataCount=0,this.isWaitingForResponse=!1,this.displayedColumns=["type","organization","rate_hour","hours","total","document","status","action"],this.dataSource=new b.by([])}ngOnInit(){this.updatePageTitle()}ngOnChanges(e){this.getOneCandidate()}updatePageTitle(){this.pageTitleService.setTitle(this.translate.instant("Student Card Contract/Convention")),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.pageTitleService.setTitle(this.translate.instant("Student Card Contract/Convention"))})}getOneCandidate(){this.subs.sink=this.formBuilderService.getOneCandidateAdmission(this.candidateId).subscribe(e=>{e&&(console.log("_ini dia",e),this.candidateData=e)},e=>{e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(qt.c),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(nt.Z))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-convention-tab-detail"]],viewQuery:function(e,a){if(1&e&&t.\u0275\u0275viewQuery(E.NW,7),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.paginator=i.first)}},inputs:{userData:"userData",candidateId:"candidateId",scholarSeasonData:"scholarSeasonData"},features:[t.\u0275\u0275NgOnChangesFeature],decls:12,vars:10,consts:[["class","inner-loading-indicator",4,"ngIf"],[1,"center-card","mrgn-btn50","mrgn-t1"],[1,"example-headers-align"],[1,"panel-spacing",2,"background","#424242",3,"expanded"],[2,"color","white","align-self","center","margin","0px"],[1,"panel-divider"],[3,"scholarSeasonData","candidateId","candidate","userData"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(e,a){1&e&&(t.\u0275\u0275template(0,H1,2,1,"div",0),t.\u0275\u0275elementStart(1,"div",1)(2,"div")(3,"mat-accordion",2)(4,"mat-expansion-panel",3)(5,"mat-expansion-panel-header")(6,"mat-panel-title")(7,"h4",4),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(10,"div",5),t.\u0275\u0275element(11,"ms-contract-student-tab",6),t.\u0275\u0275elementEnd()()()()()),2&e&&(t.\u0275\u0275property("ngIf",a.isWaitingForResponse),t.\u0275\u0275advance(4),t.\u0275\u0275property("expanded",!0),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(9,8,"Registration")," ",null==a.scholarSeasonData||null==a.scholarSeasonData.intake_channel?null:a.scholarSeasonData.intake_channel.program," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("scholarSeasonData",a.scholarSeasonData)("candidateId",a.candidateId)("candidate",a.candidateData)("userData",a.userData))},dependencies:[f.O5,Z.pp,Z.ib,Z.yz,Z.yK,D.Ou,$1,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.pad-top-miss[_ngcontent-%COMP%]{padding-top:1.8px!important}.form-field[_ngcontent-%COMP%]{margin-top:.5px}.tag-container[_ngcontent-%COMP%]{white-space:normal;text-align:left!important;line-height:2.3;overflow-wrap:break-word}[_nghost-%COMP%]     .mat-paginator-outer-container{background-color:#212121;color:#fff}[_nghost-%COMP%]     table{border-collapse:inherit}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){min-width:150px;max-width:150px;text-align:center!important;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){min-width:150px;max-width:150px;text-align:center!important;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){min-width:80px;max-width:80px;text-align:center!important;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){min-width:80px;max-width:80px;padding-left:.5rem!important;padding-right:.5rem!important;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){min-width:80px;max-width:80px;text-align:center!important;padding-left:.5rem!important;padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){min-width:80px;max-width:80px;padding-left:.5rem!important;padding-right:.5rem!important;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){min-width:80px;max-width:80px;padding-left:.7rem!important;padding-right:.7rem!important;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){min-width:100px;max-width:100px;padding-left:.7rem!important;padding-right:.7rem!important;text-align:center!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em;color:#fff}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(1){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(1), [_nghost-%COMP%]     table thead tr:nth-child(2){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(1) th, [_nghost-%COMP%]     table thead tr:nth-child(2) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.pc-section[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:5px;display:inline-block}.cr-section[_ngcontent-%COMP%]{width:50%;text-align:left;display:inline-block}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.add_button[_ngcontent-%COMP%]{float:right}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;margin:0}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1rem}h5[_ngcontent-%COMP%]{margin:0}.form-field[_ngcontent-%COMP%]{margin-top:6px}.green[_ngcontent-%COMP%]{color:#9acd32}.black[_ngcontent-%COMP%]{color:#000}.blue[_ngcontent-%COMP%]{color:#36ebf4}.orange[_ngcontent-%COMP%]{color:#f60}.red[_ngcontent-%COMP%]{color:#ff4040}.panel-divider[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.5803921569);padding-top:0;padding-bottom:0}"]}),n})();var ce=C(36746);const W1=["fileUploadDoc"];function Y1(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h1",17),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Add document")," "))}function G1(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h1",17),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Add document")," "))}function q1(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function K1(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",22)(1,"button",23),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.uploadSubmitFlyer())}),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"file_upload"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",13),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.removeFile())}),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"delete"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd()()}2&n&&(t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(5,2,"ACAD_KIT.DOC.Add this File")," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(10,4,"ACAD_KIT.DOC.Remove")," "))}function Q1(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",18)(1,"div",6)(2,"mat-card")(3,"div",19)(4,"mat-icon",20),t.\u0275\u0275text(5,"insert_drive_file"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,K1,11,6,"div",21),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext();let a;t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",null==e.uploadDocForm||null==(a=e.uploadDocForm.get("s3_file_name"))?null:a.value," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.selectedFile||e.uploadDocForm.get("s3_file_name").value)}}function X1(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",24),t.\u0275\u0275element(1,"mat-spinner",25),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}function Z1(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",26),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.openUploadWindow())}),t.\u0275\u0275elementStart(1,"mat-icon"),t.\u0275\u0275text(2,"add"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",!(null!=e.uploadDocForm&&e.uploadDocForm.valid)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,2,"ACAD_KIT.DOC.File")," ")}}let de=(()=>{class n{constructor(e,a,i,l,r,s,d){this.dialogRef=e,this.parentData=a,this.fb=i,this.translate=l,this.utilService=r,this.fileUploadService=s,this.acadKitService=d,this.isWaitingForResponse=!1,this.subs=new w.Y,this.fileTypesControl=new m.FormControl(""),this.fileTypes=[],this.selectedFileType="",this.selectedMaxSize=0}ngOnInit(){console.log("PARENT DATA",this.parentData),this.initUploadDocForm(),"edit"===this.parentData.type&&this.parentData.document&&this.uploadDocForm.patchValue({name:this.parentData.document.document_name||"",s3_file_name:this.parentData.document.s3_file_name||""}),this.firstForm=h.cloneDeep(this.uploadDocForm.value)}initUploadDocForm(){this.uploadDocForm=this.fb.group({name:["",m.Validators.required],s3_file_name:[""]})}closeDialog(){this.dialogRef.close()}openUploadWindow(){this.fileUploaderDoc.nativeElement.click(),this.selectedMaxSize=0}addFile(e){const l=this.utilService.getFileExtension(e.target.files[0].name).toLocaleLowerCase();["pdf"].includes(l)?this.utilService.countFileSize(e.target.files[0],this.selectedMaxSize)?(this.selectedFile=e.target.files[0],this.uploadDocForm.get("s3_file_name").setValue(this.selectedFile.name)):c().fire({type:"warning",title:this.translate.instant("UPLOAD_RESTRICT_TO_FILESIZE_File.TITLE"),html:this.translate.instant("UPLOAD_RESTRICT_TO_FILESIZE_File.TEXT",{size:this.selectedMaxSize}),confirmButtonText:this.translate.instant("UPLOAD_RESTRICT_TO_FILESIZE_File.BUTTON"),allowOutsideClick:!1}):c().fire({type:"info",title:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TITLE"),text:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TEXT",{file_exts:".pdf"}),allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})}removeFile(){this.selectedFile=null,this.fileUploaderDoc.nativeElement.value=null,this.uploadDocForm.get("s3_file_name").setValue("")}uploadSubmitFlyer(){this.isWaitingForResponse=!0,"edit"!==this.parentData.type||this.fileUploaderDoc.nativeElement.value?this.subs.sink=this.fileUploadService.singleUpload(this.selectedFile).subscribe(e=>{this.isWaitingForResponse=!1,e?(this.uploadDocForm.get("s3_file_name").setValue(e.s3_file_name),this.submitFlyer()):c().fire({type:"info",title:this.translate.instant("SORRY"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("ok")})},e=>{this.isWaitingForResponse=!1,console.log("err",e),e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.submitFlyer()}submitFlyer(){this.isWaitingForResponse=!0;const e={document_name:this.uploadDocForm.get("name").value,type_of_document:"manual_document",s3_file_name:this.uploadDocForm.get("s3_file_name").value,candidate_id:this.parentData.candidate_id};"edit"===this.parentData.type&&this.parentData.document&&this.parentData.document._id?(console.log("MASUK EDIT COY",this.parentData),this.subs.sink=this.acadKitService.updateAcadDoc(this.parentData.document._id,e).subscribe(a=>{this.isWaitingForResponse=!1,a&&this.dialogRef.close(this.uploadDocForm.value)},a=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})):this.subs.sink=this.acadKitService.createAcadDoc(e).subscribe(a=>{this.isWaitingForResponse=!1,a&&this.dialogRef.close(this.uploadDocForm.value)},a=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}isUploadedNewFile(){return this.selectedFile||!this.uploadDocForm.get("s3_file_name").value}isUploadedFileExist(){let e=!1;return(this.selectedFile||this.uploadDocForm.get("s3_file_name").value)&&(e=!0),e}comparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.uploadDocForm.value)||!!this.isUploadedNewFile()}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(T.WI),t.\u0275\u0275directiveInject(m.FormBuilder),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(rt.t),t.\u0275\u0275directiveInject(Yt.J),t.\u0275\u0275directiveInject(ce.P))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-add-student-manual-document-dialog"]],viewQuery:function(e,a){if(1&e&&t.\u0275\u0275viewQuery(W1,5),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.fileUploaderDoc=i.first)}},decls:27,vars:13,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"p-grid","p-0","dialog-border"],[1,"p-col"],["mat-dialog-title","","style","margin-bottom: 0 !important",4,"ngIf"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",3,"formGroup"],[1,"p-grid"],[1,"p-col-12"],["hideRequiredMarker","",1,"full-width"],["matInput","","formControlName","name",2,"font-size","14px !important"],[4,"ngIf"],["class","p-gird",4,"ngIf"],["class","loading-indicator",4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-button","","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["type","file","accept",".pdf",1,"hidden",3,"change"],["fileUploadDoc",""],["mat-dialog-title","",2,"margin-bottom","0 !important"],[1,"p-gird"],[1,"uploaded-file-wrapper"],[1,"icon"],["class","uploaded-file-wrapper mt-1rem",4,"ngIf"],[1,"uploaded-file-wrapper","mt-1rem"],["mat-button","","mat-raised-button","","color","primary",3,"click"],[1,"loading-indicator"],["color","accent",3,"diameter"],["mat-button","","mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275elementContainerStart(2),t.\u0275\u0275template(3,Y1,3,3,"h1",2),t.\u0275\u0275template(4,G1,3,3,"h1",2),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",1)(6,"button",3)(7,"mat-icon"),t.\u0275\u0275text(8,"close"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(9,"div",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(16,"input",8),t.\u0275\u0275template(17,q1,3,3,"mat-error",9),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(18,Q1,8,2,"div",10),t.\u0275\u0275template(19,X1,2,1,"div",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"div",12)(21,"button",13),t.\u0275\u0275listener("click",function(){return a.closeDialog()}),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(24,Z1,5,4,"button",14),t.\u0275\u0275elementStart(25,"input",15,16),t.\u0275\u0275listener("change",function(l){return a.addFile(l)}),t.\u0275\u0275elementEnd()()),2&e){let i,l,r;t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!(null!=a.uploadDocForm&&null!=(i=a.uploadDocForm.get("s3_file_name"))&&i.value)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a.uploadDocForm||null==(l=a.uploadDocForm.get("s3_file_name"))?null:l.value),t.\u0275\u0275advance(5),t.\u0275\u0275property("formGroup",a.uploadDocForm),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(15,9,"ACAD_KIT.DOC.Name of File")," *"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.uploadDocForm.get("name").hasError("required")&&(a.uploadDocForm.get("name").touched||a.uploadDocForm.get("name").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a.uploadDocForm||null==(r=a.uploadDocForm.get("s3_file_name"))?null:r.value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(23,11,"CANCEL")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.selectedFile&&!a.uploadDocForm.get("s3_file_name").value)}},dependencies:[f.O5,N.Zt,N.Bh,I.lW,ft.a8,T.ZT,T.uh,T.xY,T.H8,k.Hw,S.TO,S.KE,S.hX,z.Nt,D.Ou,m.DefaultValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.FormGroupDirective,m.FormControlName,M.X$],styles:[".dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:20px}"]}),n})();var pe=C(92014),me=C(44850);const J1=["templateColumn"];function tb(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.openColumnDropdown())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"span",9),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(3,"svg",10)(4,"g",11),t.\u0275\u0275element(5,"path",12)(6,"path",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275namespaceHTML(),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"keyboard_arrow_down"),t.\u0275\u0275elementEnd()()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Configure Column")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function eb(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",42),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",a.isWaitingForResponse)("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,3,"DOCUMENTS."+e.name))}}function nb(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-form-field"),t.\u0275\u0275element(2,"input",49),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.documentNameFilter)}}function ab(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",55),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(i.selectedDocumentType("All"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"AllF")))}function ib(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",56),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(r.selectedDocumentType(l.value))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function ob(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-form-field"),t.\u0275\u0275element(2,"input",50),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-autocomplete",51,52),t.\u0275\u0275template(6,ab,3,3,"mat-option",53),t.\u0275\u0275pipe(7,"async"),t.\u0275\u0275pipe(8,"async"),t.\u0275\u0275template(9,ib,2,2,"mat-option",54),t.\u0275\u0275pipe(10,"async"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275reference(5),a=t.\u0275\u0275nextContext(3);let i;t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,6,"search")),t.\u0275\u0275property("matAutocomplete",e)("formControl",a.documentTypeFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(7,8,a.filteredDocumentType)&&(null==(i=t.\u0275\u0275pipeBind1(8,10,a.filteredDocumentType))?null:i.length)>=1),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(10,12,a.filteredDocumentType))}}function lb(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-form-field")(2,"input",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",58)(5,"mat-datepicker",null,59),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"search")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.uploadDateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function rb(n,o){1&n&&t.\u0275\u0275elementContainer(0)}function sb(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",45),t.\u0275\u0275elementContainerStart(1,46),t.\u0275\u0275template(2,nb,4,4,"ng-container",47),t.\u0275\u0275template(3,ob,11,14,"ng-container",47),t.\u0275\u0275template(4,lb,7,6,"ng-container",47),t.\u0275\u0275template(5,rb,1,0,"ng-container",48),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitch",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","documentNameFilter"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","typeFilter"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","uploadDateFilter")}}function cb(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0,43),t.\u0275\u0275template(1,sb,6,4,"th",44),t.\u0275\u0275elementContainerEnd()),2&n&&t.\u0275\u0275property("matColumnDef",o.$implicit)}function db(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",66)(1,"span",67),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(2,"svg",68),t.\u0275\u0275element(3,"path",69)(4,"path",70),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,1,"DOCUMENTS.Document Name")," "))}function pb(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",62),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",63),t.\u0275\u0275template(3,db,7,3,"div",64),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"h5",65),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"DOCUMENTS.Document Name")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,4,"DOCUMENTS.Document Name")))}function mb(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",71),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip","Visa/Stay permit"===(null==e?null:e.document_name)?t.\u0275\u0275pipeBind1(1,2,"COUNTRY_NATIONALITY.DOCUMENT_NAME."+(null==e?null:e.document_name)):null==e?null:e.document_name),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ","Visa/Stay permit"===(null==e?null:e.document_name)?t.\u0275\u0275pipeBind1(3,4,"COUNTRY_NATIONALITY.DOCUMENT_NAME."+(null==e?null:e.document_name)):null==e?null:e.document_name," ")}}function _b(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,pb,7,6,"th",60),t.\u0275\u0275template(2,mb,4,6,"td",61),t.\u0275\u0275elementContainerEnd())}function ub(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",66)(1,"span",67),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(2,"svg",68),t.\u0275\u0275element(3,"path",69)(4,"path",70),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,1,"DOCUMENTS.Type")," "))}function gb(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",74),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",63),t.\u0275\u0275template(3,ub,7,3,"div",64),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"h5",65),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"DOCUMENTS.Type")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,4,"DOCUMENTS.Type")))}function hb(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",75),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e?null:e.type_of_document)," ")}}function fb(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,gb,7,6,"th",72),t.\u0275\u0275template(2,hb,3,3,"td",73),t.\u0275\u0275elementContainerEnd())}function bb(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",66)(1,"span",67),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(2,"svg",68),t.\u0275\u0275element(3,"path",69)(4,"path",70),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,1,"DOCUMENTS.Upload Date")," "))}function Cb(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",77),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",63),t.\u0275\u0275template(3,bb,7,3,"div",64),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"h5",65),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"DOCUMENTS.Upload Date")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,4,"DOCUMENTS.Upload Date")))}function xb(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",75),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.translateDate(null==e?null:e.created_at)," ")}}function yb(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Cb,7,6,"th",76),t.\u0275\u0275template(2,xb,2,1,"td",73),t.\u0275\u0275elementContainerEnd())}function vb(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",66)(1,"span",67),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(2,"svg",68),t.\u0275\u0275element(3,"path",69)(4,"path",70),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,1,"DOCUMENTS.Action")," "))}function Tb(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",80),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",63),t.\u0275\u0275template(3,vb,7,3,"div",64),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"h5",65),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"DOCUMENTS.Action")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,4,"DOCUMENTS.Action")))}function Mb(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.edit(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Edit"))}function Sb(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.delete(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Delete"))}function Ob(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",81)(1,"button",82),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.download(null==l?null:l.s3_file_name))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"mat-icon"),t.\u0275\u0275text(4,"file_download"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(5,Mb,4,3,"button",83),t.\u0275\u0275template(6,Sb,4,3,"button",83),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,3,"DOCUMENTS.Download")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf","manual_document"===(null==e?null:e.type_of_document)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","manual_document"===(null==e?null:e.type_of_document))}}function Pb(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Tb,7,6,"th",78),t.\u0275\u0275template(2,Ob,7,5,"td",79),t.\u0275\u0275elementContainerEnd())}function wb(n,o){1&n&&t.\u0275\u0275element(0,"th",45)}function Db(n,o){1&n&&t.\u0275\u0275element(0,"td",75)}function Eb(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,wb,1,0,"th",44),t.\u0275\u0275template(2,Db,1,0,"td",73),t.\u0275\u0275elementContainerEnd())}function Ib(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0,43)(1,46),t.\u0275\u0275template(2,_b,3,0,"ng-container",47),t.\u0275\u0275template(3,fb,3,0,"ng-container",47),t.\u0275\u0275template(4,yb,3,0,"ng-container",47),t.\u0275\u0275template(5,Pb,3,0,"ng-container",47),t.\u0275\u0275template(6,Eb,3,0,"ng-container",48),t.\u0275\u0275elementContainerEnd()()),2&n){const e=o.$implicit;t.\u0275\u0275property("matColumnDef",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitch",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","documentName"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","type"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","uploadDate"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","action")}}function kb(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",84)(1,"div",85),t.\u0275\u0275element(2,"mat-spinner",86),t.\u0275\u0275elementEnd()())}function Fb(n,o){1&n&&t.\u0275\u0275element(0,"tr",87)}function Bb(n,o){1&n&&t.\u0275\u0275element(0,"tr",88)}function Ab(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",89),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function Nb(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",90),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function Rb(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",91),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",null!=e.displayedColumns&&e.displayedColumns.length?"":"hide"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"NOT RECORD FOUND")," ")}}const Vb=function(n){return{cursor:n}},Lb=function(){return["loading"]},Ub=function(n){return{"hide-pagination-buttons":n}},zb=function(){return[10]};let $b=(()=>{class n{constructor(e,a,i,l,r,s,d,p){this.translate=e,this.studentsService=a,this.parseUTCToLocalPipe=i,this.utilService=l,this.acadService=r,this.dialog=s,this.pageTitleService=d,this.authService=p,this.subs=new w.Y,this.dataSource=new b.by([]),this.documentNameFilter=new m.UntypedFormControl(""),this.uploadDateFilter=new m.UntypedFormControl(null),this.dataDocumentType=[{value:"admission_document",name:"Admission Document"},{value:"proof_of_payment",name:"Proof of Payment"},{value:"manual_document",name:"Manual Document"},{value:"one_time_form",name:"One Time Form"},{value:"student_admission",name:"student_admission"},{value:"fc_contract",name:"fc_contract"},{value:"visa_document",name:"Visa Document"},{value:"emancipated_document_proof",name:"Emancipate Document Proof"}],this.documentTypeFilter=new m.UntypedFormControl(null),this.isWaitingForResponse=!1,this.filteredValues={date:null,document_name:null},this.sortValue=null,this.documentCount=0,this.type=["admission_document","proof_of_payment","manual_document","one_time_form","student_admission","fc_contract","visa_document","emancipated_document_proof"],this.dropdownDocumentType=[],this.columnCtrl=new m.UntypedFormControl(null),this.defaultDisplayedColumns=[{name:"Document Name",colName:"documentName",filterName:"documentNameFilter"},{name:"Type",colName:"type",filterName:"typeFilter"},{name:"Upload Date",colName:"uploadDate",filterName:"uploadDateFilter"},{name:"Action",colName:"action",filterName:"actionFilter"}],this.displayedColumns=[],this.filterColumns=[],this.tempDraggableColumnFilter=[],this.tempDraggableColumn=[],this.latestSelectedColumn=null,this.tempColumnListTable=[],this.conditionalGraphqlField={documentName:!0,type:!0,uploadDate:!0}}ngOnInit(){this.updatePageTitle(),this.getTableData(),this.initFilter(),this.dropdownType()}ngOnChanges(){this.currentUser=this.authService?.getLocalStorageUser(),this.resetSelection(),this.dropdownType()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,$.O)(null),(0,et.b)(()=>{this.getTableData()})).subscribe(),this.selectionChangesColumn()}updatePageTitle(){this.pageTitleService.setTitle(this.translate.instant("Student Card Documents")),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.pageTitleService.setTitle(this.translate.instant("Student Card Documents"))})}dropdownType(){if(this.documentTypeFilter.value&&this.dropdownDocumentType.length){const e=this.dropdownDocumentType.find(a=>a.name===this.documentTypeFilter.value);this.dropdownDocumentType=this.dataDocumentType.map(a=>({value:a.value,name:this.translate.instant(a.value)})),this.dropdownDocumentType=this.dropdownDocumentType.sort((a,i)=>a.name.toLowerCase().localeCompare(i.name.toLowerCase())),this.documentTypeFilter.patchValue(e?this.translate.instant(e.value):null)}else this.dropdownDocumentType=this.dataDocumentType.map(e=>({value:e.value,name:this.translate.instant(e.value)})),this.dropdownDocumentType=this.dropdownDocumentType.sort((e,a)=>e.name.toLowerCase().localeCompare(a.name.toLowerCase())),this.filteredDocumentType=(0,Y.of)(this.dropdownDocumentType)}getTableData(){const e={limit:this.paginator&&this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator&&this.paginator.pageIndex?this.paginator.pageIndex:0};this.isWaitingForResponse=!0,this.checkConditionalGraphql(),this.checkFilterAndSorting();const a=this.translate.currentLang.toLowerCase();this.subs.sink=this.studentsService.getAllMydocument(e,this.conditionalGraphqlField,this.candidateId,this.filteredValues,this.sortValue,this.type,a).subscribe(i=>{this.isWaitingForResponse=!1,i?(this.dataSource.data=h.cloneDeep(i),this.documentCount=i.length&&i[0]&&i[0].count_document?i[0].count_document:0):this.dataSource.data=[],this.noData=this.dataSource.connect().pipe((0,W.U)(l=>0===l.length))},i=>this.isWaitingForResponse=!1)}resetSelection(){this.paginator.pageIndex=0,this.documentNameFilter.setValue("",{emitEvent:!1}),this.uploadDateFilter.setValue(null,{emitEvent:!1}),this.documentTypeFilter.setValue(null,{emitEvent:!1}),this.filteredValues={date:null,document_name:null},this.type=["admission_document","proof_of_payment","manual_document","one_time_form","student_admission","fc_contract","visa_document","emancipated_document_proof"],this.sortValue=null,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.tempDraggableColumn=[],this.tempDraggableColumnFilter=[],this.checkTemplateTable(),this.dropdownDocumentType=this.dataDocumentType.map(e=>({value:e.value,name:this.translate.instant(e.value)})),this.dropdownDocumentType=this.dropdownDocumentType.sort((e,a)=>e.name.toLowerCase().localeCompare(a.name.toLowerCase())),this.filteredDocumentType=(0,Y.of)(this.dropdownDocumentType)}translateDate(e){if(e){const a=y.utc(e).format("HH:mm"),i=this.parseUTCToLocalPipe.transformDateInDateFormat(y(e).format("DD/MM/YYYY"),a).format("DD-MM-YYYY hh:mm A");if("Invalid date"!==i)return i}}initFilter(){this.subs.sink=this.documentNameFilter.valueChanges.pipe((0,A.b)(500)).subscribe(e=>{this.paginator.pageIndex=0,this.filteredValues.document_name=e,this.getTableData()}),this.subs.sink=this.uploadDateFilter.valueChanges.pipe((0,A.b)(500)).subscribe(e=>{if(e){this.paginator.pageIndex=0;const a=y(e).format("DD/MM/YYYY");this.filteredValues.date=a,this.getTableData()}}),this.subs.sink=this.documentTypeFilter.valueChanges.subscribe(e=>{if(e){if(this.dropdownDocumentType.length){let a=this.dropdownDocumentType.filter(i=>this.utilService.simplifyRegex(i.name).includes(this.utilService.simplifyRegex(e)));a=a.map(i=>({value:i.value,name:this.translate.instant(i.value)})),a=a.sort((i,l)=>i.name.toLowerCase().localeCompare(l.name.toLowerCase())),this.filteredDocumentType=(0,Y.of)(a)}}else this.filteredDocumentType=(0,Y.of)(this.dropdownDocumentType)})}selectedDocumentType(e){"All"!==e?(this.paginator.pageIndex=0,this.type=e,this.getTableData()):"All"===e&&(this.paginator.pageIndex=0,this.type=["admission_document","proof_of_payment","manual_document","one_time_form","student_admission","fc_contract","visa_document","emancipated_document_proof"],this.getTableData())}sortData(e){this.sortValue=e.active&&e.direction?{[e.active]:e.direction}:null,this.paginator.pageIndex=0,this.getTableData()}download(e){const a=document.createElement("a");a.target="_blank",a.href=`${_t.N.apiUrl}/fileuploads/${e}?download=true`.replace("/graphql",""),a.click(),a.remove()}edit(e){this.subs.sink=this.dialog.open(de,{width:"600px",minHeight:"100px",disableClose:!0,data:{type:"edit",document:e}}).afterClosed().subscribe(a=>{a&&this.getTableData()})}delete(e){var a=this;return(0,$t.Z)(function*(){if(e._id){if(!(yield c().fire({type:"warning",title:a.translate.instant("CERTIFICATION_RULE.DELETE_DOCUMENT.TITLE"),text:a.translate.instant("CERTIFICATION_RULE.DELETE_DOCUMENT.TEXT",{DocumentName:e.document_name}),showCancelButton:!0,confirmButtonText:a.translate.instant("CERTIFICATION_RULE.DELETE_DOCUMENT.CONFIRMBTN"),cancelButtonText:a.translate.instant("CERTIFICATION_RULE.DELETE_DOCUMENT.CANCELBTN"),allowOutsideClick:!1})).value)return;a.isWaitingForResponse=!0,a.subs.sink=a.acadService.deleteAcadDoc(e._id).subscribe(l=>{a.isWaitingForResponse=!1,l&&c().fire({type:"success",title:"Bravo!"}).then(()=>{a.getTableData()})},l=>{a.isWaitingForResponse=!1,c().fire({type:"info",title:a.translate.instant("SORRY"),text:l&&l.message?a.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,allowOutsideClick:!1})})}})()}onUploadDocument(){this.subs.sink=this.dialog.open(de,{width:"600px",minHeight:"100px",disableClose:!0,data:{candidate_id:this.candidateId}}).afterClosed().subscribe(e=>{e&&this.getTableData()})}handleClose(e){if(!e){const a=this.tempColumnListTable?.map(l=>l.colName);a?.length===this.displayedColumns?.length&&a.every(l=>this.displayedColumns.includes(l))||(this.tempColumnListTable?.length||this.columnCtrl.value?.length?this.tempColumnListTable.length&&(this.updateColumn(this.tempColumnListTable),this.tempColumnListTable=[]):this.updateColumn([]))}}defaultTemplateColumn(){this.columnCtrl.patchValue(this.defaultDisplayedColumns),this.updateColumn(this.defaultDisplayedColumns)}openColumnDropdown(){this.templateColumnRef.open()}drop(e){(0,N.bA)(this.displayedColumns,e.previousIndex,e.currentIndex),(0,N.bA)(this.filterColumns,e.previousIndex,e.currentIndex),this.tempDraggableColumn=h.cloneDeep(this.displayedColumns),this.tempDraggableColumnFilter=h.cloneDeep(this.filterColumns);const i="object"===this.utilService.checkArrayType(this.displayedColumns),r={table_name:"follow_up_student_card_tab_document",display_column:h.cloneDeep(this.displayedColumns).map(s=>i?s?.column_name:{column_name:s}),filter_column:h.cloneDeep(this.filterColumns)};this.createOrUpdateUserTableColumnSettings(r)}selectionChangesColumn(){this.templateColumnRef.optionSelectionChanges.pipe((0,pe.R)((e,a)=>(a.isUserInput&&a.source.value&&(this.latestSelectedColumn=a.source.value),a.source.selected&&a.isUserInput?[...e,a.source.value]:a.isUserInput?e.filter(i=>i!==a.source.value):(this.tempDraggableColumn=[],this.tempDraggableColumnFilter=[],this.columnCtrl.value)),[])).subscribe(e=>{this.tempColumnListTable=e})}updateColumn(e){if(this.isWaitingForResponse=!0,this.displayedColumns=[],this.filterColumns=[],this.tempDraggableColumn?.length&&this.tempDraggableColumnFilter?.length&&e?.length){const a=e.map(l=>l.colName),i=e.map(l=>l.filterName);if(this.tempDraggableColumn?.length>e?.length){const l=this.tempDraggableColumn.filter(_=>a.includes(_)),r=this.tempDraggableColumnFilter.filter(_=>i.includes(_)),d="object"===this.utilService.checkArrayType(l);this.displayedColumns=l?.map(_=>d?_?.column_name:_),this.filterColumns=r,this.checkFilterAndSorting(),this.resetFilterWhenUpdateColumn(),this.tempDraggableColumn=h.cloneDeep(this.displayedColumns),this.tempDraggableColumnFilter=h.cloneDeep(this.filterColumns),setTimeout(()=>{this.dataSource.data.length&&(this.isWaitingForResponse=!1)},500);const u={table_name:"follow_up_student_card_tab_document",display_column:h.cloneDeep(this.displayedColumns).map(_=>d?_?.column_name:{column_name:_}),filter_column:h.cloneDeep(this.filterColumns)};this.createOrUpdateUserTableColumnSettings(u),this.getTableData()}else if(this.tempDraggableColumn?.length<e?.length){const l=a.filter(_=>!this.tempDraggableColumn.includes(_)),r=i.filter(_=>!this.tempDraggableColumnFilter.includes(_)),d="object"===this.utilService.checkArrayType(l);this.displayedColumns=this.tempDraggableColumn.concat(l?.map(_=>d?_?.column_name:_)),this.filterColumns=this.tempDraggableColumnFilter.concat(r),this.checkFilterAndSorting(),this.resetFilterWhenUpdateColumn(),this.tempDraggableColumn=h.cloneDeep(this.displayedColumns),this.tempDraggableColumnFilter=h.cloneDeep(this.filterColumns),setTimeout(()=>{this.dataSource.data.length&&(this.isWaitingForResponse=!1)},500);const u={table_name:"follow_up_student_card_tab_document",display_column:h.cloneDeep(this.displayedColumns).map(_=>d?_?.column_name:{column_name:_}),filter_column:h.cloneDeep(this.filterColumns)};this.createOrUpdateUserTableColumnSettings(u),this.getTableData()}}else if(e?.length){e.forEach(s=>{this.displayedColumns.push(s.colName),this.filterColumns.push(s.filterName)}),setTimeout(()=>{this.dataSource.data.length&&(this.isWaitingForResponse=!1)},500);const i="object"===this.utilService.checkArrayType(this.displayedColumns),r={table_name:"follow_up_student_card_tab_document",display_column:h.cloneDeep(this.displayedColumns).map(s=>i?s?.column_name:{column_name:s}),filter_column:h.cloneDeep(this.filterColumns)};this.checkFilterAndSorting(),this.resetFilterWhenUpdateColumn(),this.createOrUpdateUserTableColumnSettings(r),this.getTableData()}else if(e.length||this.columnCtrl.value.length){const i=JSON.parse(localStorage.getItem("templateTable"))?.find(l=>"follow_up_student_card_tab_document"===l.table_name);if(i){const r="object"===this.utilService.checkArrayType(i.display_column);this.displayedColumns=i.display_column?.map(s=>r?s?.column_name:s),this.filterColumns=i.filter_column,this.tempDraggableColumn=i.display_column?.map(s=>r?s?.column_name:s),this.tempDraggableColumnFilter=i.filter_column,this.checkFilterAndSorting(),this.resetFilterWhenUpdateColumn(),this.getTableData(),setTimeout(()=>{this.dataSource.data.length&&(this.isWaitingForResponse=!1)},500)}}else{this.displayedColumns=[],this.filterColumns=[],this.tempDraggableColumn=[],this.tempDraggableColumnFilter=[];const i="object"===this.utilService.checkArrayType(this.displayedColumns),r={table_name:"follow_up_student_card_tab_document",display_column:h.cloneDeep(this.displayedColumns).map(s=>i?s?.column_name:{column_name:s}),filter_column:h.cloneDeep(this.filterColumns)};this.checkFilterAndSorting(),this.resetFilterWhenUpdateColumn(),this.createOrUpdateUserTableColumnSettings(r),this.getTableData()}}createOrUpdateUserTableColumnSettings(e){e&&(this.subs.sink=this.authService.CreateOrUpdateUserTableColumnSettings(this.currentUser?._id,e).subscribe(a=>{a&&this.authService?.refreshTemplateTables(this.currentUser?._id)},a=>{c().fire({type:"info",title:"Warning",text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}resetFilterWhenUpdateColumn(){this.isWaitingForResponse=!0,this.dataSource.data=[]}checkTemplateTable(){this.isWaitingForResponse=!0,this.subs.sink=this.authService.GetUserTableColumnSettings(this.currentUser?._id).pipe((0,Ht.q)(1)).subscribe(e=>{e&&e?.length&&localStorage.setItem("templateTable",JSON.stringify(e));const a=JSON.parse(localStorage.getItem("templateTable"));if(a?.length){const i=a.find(l=>"follow_up_student_card_tab_document"===l.table_name);if(i){const r="object"===this.utilService.checkArrayType(i?.display_column);this.displayedColumns=i?.display_column?.map(p=>r?p?.column_name:p),this.filterColumns=i.filter_column;const s=[];i?.display_column?.map(p=>r?p?.column_name:p).forEach(p=>{const u=this.defaultDisplayedColumns.findIndex(_=>_.colName===p);-1!==u&&s.push(this.defaultDisplayedColumns[u])}),this.resetFilterWhenUpdateColumn(),this.columnCtrl.patchValue(s),this.getTableData()}else this.columnCtrl.patchValue(this.defaultDisplayedColumns),this.updateColumn(this.defaultDisplayedColumns)}else this.columnCtrl.patchValue(this.defaultDisplayedColumns),this.updateColumn(this.defaultDisplayedColumns);this.selectedDocumentType("All")},e=>{c().fire({type:"info",title:"Warning",text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}checkFilterAndSorting(){this.latestSelectedColumn&&this.defaultDisplayedColumns?.length&&this.defaultDisplayedColumns.forEach(e=>{if(!this.displayedColumns.includes(e?.colName))switch(e.colName){case"documentName":this.filteredValues.document_name=null,this.latestSelectedColumn=null,this.documentNameFilter.setValue(null,{emitEvent:!1}),this.sortValue?.document_name&&(this.sortValue=null,this.sort.direction="",this.sort.active="");break;case"type":this.type=["admission_document","proof_of_payment","manual_document","one_time_form","student_admission","fc_contract","emancipated_document_proof"],this.latestSelectedColumn=null,this.documentTypeFilter.setValue(null,{emitEvent:!1}),this.sortValue?.type_of_document&&(this.sortValue=null,this.sort.direction="",this.sort.active="");break;case"uploadDate":this.filteredValues.date=null,this.latestSelectedColumn=null,this.uploadDateFilter.setValue(null,{emitEvent:!1}),this.sortValue?.date&&(this.sortValue=null,this.sort.direction="",this.sort.active="");break;default:this.latestSelectedColumn=null}})}checkConditionalGraphql(){this.conditionalGraphqlField={documentName:!0,type:!0,uploadDate:!0},this.displayedColumns.includes("action")?this.conditionalGraphqlField={documentName:!0,type:!0,uploadDate:!0}:this.displayedColumns.forEach(a=>{a&&(this.conditionalGraphqlField[a]=!0)})}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(Ot.q),t.\u0275\u0275directiveInject(U.t),t.\u0275\u0275directiveInject(rt.t),t.\u0275\u0275directiveInject(ce.P),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(nt.Z),t.\u0275\u0275directiveInject(L.e))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-document-tab"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(E.NW,7),t.\u0275\u0275viewQuery(V.YE,7),t.\u0275\u0275viewQuery(J1,5)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.paginator=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.sort=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.templateColumnRef=i.first)}},inputs:{candidateId:"candidateId"},features:[t.\u0275\u0275ProvidersFeature([U.t]),t.\u0275\u0275NgOnChangesFeature],decls:68,vars:61,consts:[[1,"top-space"],[1,"horizontal","header-button","header-action"],[1,"text-right","custom-button","tw-flex","tw-items-center","tw-justify-end"],[1,"button-dummy"],["class","btn-dummy","mat-raised-button","","color","accent","matTooltipPosition","above","style","z-index: 1",3,"disabled","matTooltip","click",4,"ngIf"],["appearance","legacy",1,"custom-form-field","mat-select-button"],["multiple","","disableOptionCentering","",3,"formControl","openedChange"],["templateColumn",""],["mat-raised-button","","color","accent","matTooltipPosition","above",3,"disabled","matTooltip"],[1,"tw-flex","tw-items-center"],["width","24","height","24","viewBox","0 0 24 24","role","presentation"],["fill","currentColor"],["d","M4 18h16.008C20 18 20 6 20 6H3.992C4 6 4 18 4 18zM2 5.994C2 4.893 2.898 4 3.99 4h16.02C21.108 4 22 4.895 22 5.994v12.012A1.997 1.997 0 0120.01 20H3.99A1.994 1.994 0 012 18.006V5.994z"],["d","M8 6v12h2V6zm6 0v12h2V6z"],[1,"container-dropdown"],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"p-grid"],[1,"p-col-8"],[1,"restore-to-default",3,"ngStyle","click"],[1,"p-col-4","text-right"],["mat-raised-button","","color","accent",3,"disabled","matTooltip","click"],["mat-raised-button","","color","primary",3,"disabled","matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],[1,"custom-message",3,"ngClass"],[1,"p-grid","pad-top-30"],[1,"p-col-12","text-center"],["svgIcon","setting-column",1,"custom-icon-setting"],[1,"margin-top-10"],["mat-raised-button","","color","primary","matTooltipPosition","above",3,"matTooltip","disabled","click"],[1,"horizontal"],["mat-table","","matSort","","cdkDropList","","cdkDropListOrientation","horizontal",1,"mat-elevation-z8",3,"ngClass","dataSource","matSortChange","cdkDropListDropped"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","class","text-center",4,"matHeaderCellDef"],["mat-header-row","","class","example-boundary",4,"matHeaderRowDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",3,"ngClass",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["mat-raised-button","","color","accent","matTooltipPosition","above",1,"btn-dummy",2,"z-index","1",3,"disabled","matTooltip","click"],[3,"disabled","value"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["matInput","",1,"form-field",3,"formControl","placeholder"],["matInput","",1,"form-field",3,"matAutocomplete","formControl","placeholder"],[3,"panelWidth"],["documentTypeAuto","matAutocomplete"],[3,"click",4,"ngIf"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click"],[3,"value","click"],["matInput","","readonly","",1,"form-field",3,"placeholder","matDatepicker","formControl","click"],["matSuffix","",3,"for"],["registrationDatePick",""],["cdkDrag","","cdkDragBoundary",".example-boundary","mat-header-cell","","mat-sort-header","document_name","class","column-dragging",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["cdkDrag","","cdkDragBoundary",".example-boundary","mat-header-cell","","mat-sort-header","document_name",1,"column-dragging",3,"matTooltip"],["cdkDragHandle","","svgIcon","drag_indicator",1,"mat-icon-svgIcon","icon-drag"],["class","preview",4,"cdkDragPreview"],[1,"label-header"],[1,"preview"],[1,"preview-drag",2,"word-break","break-word"],["width","15px","fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],["mat-cell","",3,"matTooltip"],["cdkDrag","","cdkDragBoundary",".example-boundary","mat-header-cell","","style","text-align: center","mat-sort-header","type_of_document","class","column-dragging",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["cdkDrag","","cdkDragBoundary",".example-boundary","mat-header-cell","","mat-sort-header","type_of_document",1,"column-dragging",2,"text-align","center",3,"matTooltip"],["mat-cell",""],["cdkDrag","","cdkDragBoundary",".example-boundary","mat-header-cell","","mat-sort-header","date","style","text-align: center","class","column-dragging",3,"matTooltip",4,"matHeaderCellDef"],["cdkDrag","","cdkDragBoundary",".example-boundary","mat-header-cell","","mat-sort-header","date",1,"column-dragging",2,"text-align","center",3,"matTooltip"],["cdkDrag","","cdkDragBoundary",".example-boundary","mat-header-cell","","class","column-dragging",3,"matTooltip",4,"matHeaderCellDef"],["class","text-center","mat-cell","",4,"matCellDef"],["cdkDrag","","cdkDragBoundary",".example-boundary","mat-header-cell","",1,"column-dragging",3,"matTooltip"],["mat-cell","",1,"text-center"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","click"],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["mat-header-cell","","colspan","100%",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row","",1,"example-boundary"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records",3,"ngClass"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275template(4,tb,9,4,"button",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-form-field",5)(6,"mat-select",6,7),t.\u0275\u0275listener("openedChange",function(l){return a.handleClose(l)}),t.\u0275\u0275elementStart(8,"mat-select-trigger")(9,"button",8),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementStart(11,"span",9),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(12,"svg",10)(13,"g",11),t.\u0275\u0275element(14,"path",12)(15,"path",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275namespaceHTML(),t.\u0275\u0275elementStart(16,"mat-icon"),t.\u0275\u0275text(17,"keyboard_arrow_down"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(18,"div",14),t.\u0275\u0275template(19,eb,3,5,"mat-option",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(20,"mat-divider"),t.\u0275\u0275elementStart(21,"div",16)(22,"div",17)(23,"span",18),t.\u0275\u0275listener("click",function(){return a.isWaitingForResponse?"":a.defaultTemplateColumn()}),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(26,"div",19)(27,"small"),t.\u0275\u0275text(28),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(29,"button",20),t.\u0275\u0275listener("click",function(){return a.onUploadDocument()}),t.\u0275\u0275pipe(30,"translate"),t.\u0275\u0275text(31),t.\u0275\u0275pipe(32,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(33,"button",21),t.\u0275\u0275listener("click",function(){return a.resetSelection()}),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275element(35,"mat-icon",22),t.\u0275\u0275text(36),t.\u0275\u0275pipe(37,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(38,"div",23)(39,"div",24)(40,"div",25)(41,"mat-icon",26),t.\u0275\u0275text(42," setting-column "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(43,"div")(44,"h3"),t.\u0275\u0275text(45),t.\u0275\u0275pipe(46,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(47,"div"),t.\u0275\u0275text(48),t.\u0275\u0275pipe(49,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(50,"div",27)(51,"button",28),t.\u0275\u0275listener("click",function(){return a.openColumnDropdown()}),t.\u0275\u0275pipe(52,"translate"),t.\u0275\u0275text(53),t.\u0275\u0275pipe(54,"translate"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(55,"div",29)(56,"table",30),t.\u0275\u0275listener("matSortChange",function(l){return a.sortData(l)})("cdkDropListDropped",function(l){return a.drop(l)}),t.\u0275\u0275template(57,cb,2,1,"ng-container",31),t.\u0275\u0275template(58,Ib,7,6,"ng-container",31),t.\u0275\u0275elementContainerStart(59,32),t.\u0275\u0275template(60,kb,3,0,"th",33),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(61,Fb,1,0,"tr",34),t.\u0275\u0275template(62,Bb,1,0,"tr",35),t.\u0275\u0275template(63,Ab,1,1,"tr",36),t.\u0275\u0275template(64,Nb,1,1,"tr",37),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(65,Rb,3,4,"div",38),t.\u0275\u0275elementStart(66,"div",39),t.\u0275\u0275element(67,"mat-paginator",40),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",!(null!=a.columnCtrl&&null!=a.columnCtrl.value&&a.columnCtrl.value.length)),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",a.columnCtrl),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(10,35,"Configure Column")),t.\u0275\u0275property("disabled",a.isWaitingForResponse),t.\u0275\u0275advance(10),t.\u0275\u0275property("ngForOf",a.defaultDisplayedColumns),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(55,Vb,a.isWaitingForResponse?"auto":"pointer")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(25,37,"Restore to default")," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2("",null==a.columnCtrl||null==a.columnCtrl.value?null:a.columnCtrl.value.length," / ",null==a.defaultDisplayedColumns?null:a.defaultDisplayedColumns.length,""),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(30,39,"Add document")),t.\u0275\u0275property("disabled",a.isWaitingForResponse||!(null!=a.displayedColumns&&a.displayedColumns.length)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(32,41,"Add document")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(34,43,"RESET")),t.\u0275\u0275property("disabled",a.isWaitingForResponse||!(null!=a.displayedColumns&&a.displayedColumns.length)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(37,45,"RESET")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",null!=a.displayedColumns&&a.displayedColumns.length?"hide":""),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(46,47,"Configure your columns")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(49,49,"You havent configured any columns yet. Add fields as columns to see table information.")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(52,51,"Configure Column")),t.\u0275\u0275property("disabled",a.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(54,53,"Configure Column")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",null!=a.displayedColumns&&a.displayedColumns.length?"":"hide")("dataSource",a.dataSource),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.displayedColumns),t.\u0275\u0275advance(3),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(57,Lb)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.dataSource.data.length&&!a.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",null!=a.displayedColumns&&a.displayedColumns.length&&a.dataSource.data.length?"":"hide"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(58,Ub,a.documentCount<=10))("length",a.documentCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(60,zb)))},dependencies:[f.mk,f.sg,f.O5,f.PC,f.RF,f.n9,f.ED,N.Wj,N.Zt,N.Bh,N.pV,gt.XC,gt.ZL,Q.ey,I.lW,P.Mq,P.hl,P.nW,me.d,k.Hw,S.KE,S.R9,z.Nt,E.NW,D.Ou,it.gD,it.$L,V.YE,V.nU,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,G.gM,m.DefaultValueAccessor,m.NgControlStatus,m.FormControlDirective,H.oO,H.Zl,f.Ov,M.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{margin-top:.5px}.custom-form-field[_ngcontent-%COMP%]{width:94px}.mat-column-documentNameFilter[_ngcontent-%COMP%], .mat-column-documentName[_ngcontent-%COMP%]{max-width:260px!important;min-width:260px!important;width:260px!important;padding-left:.8rem!important;padding-right:.8rem!important;text-align:left}.mat-column-documentNameFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-documentName[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-column-typeFilter[_ngcontent-%COMP%], .mat-column-type[_ngcontent-%COMP%]{max-width:240px!important;min-width:240px!important;width:240px!important;padding-left:.8rem!important;padding-right:.8rem!important;text-align:left}.mat-column-typeFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-type[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-column-uploadDateFilter[_ngcontent-%COMP%], .mat-column-uploadDate[_ngcontent-%COMP%]{max-width:180px!important;min-width:180px!important;width:180px!important;padding-left:.8rem!important;padding-right:.8rem!important;text-align:left}.mat-column-uploadDateFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-uploadDate[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-column-statusFilter[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]{max-width:120px!important;min-width:120px!important;width:180px!important;padding-left:.8rem!important;padding-right:.8rem!important;text-align:center}.mat-column-statusFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-column-statusFilter[_ngcontent-%COMP%]   .icon-drag[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]   .icon-drag[_ngcontent-%COMP%]{margin:.8em 0 0 .8em}.mat-column-actionFilter[_ngcontent-%COMP%], .mat-column-action[_ngcontent-%COMP%]{width:125px;min-width:140px;max-width:140px;padding-left:.8rem!important;padding-right:.8rem!important;text-align:center!important}.mat-column-actionFilter[_ngcontent-%COMP%]   .icon-drag[_ngcontent-%COMP%], .mat-column-action[_ngcontent-%COMP%]   .icon-drag[_ngcontent-%COMP%]{margin:.8em 0 0 .8em}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top;text-align:center}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(1) th{padding-top:.8em!important}[_nghost-%COMP%]     table thead tr:nth-child(1){height:35px;border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table thead tr:nth-child(2){border-top:none!important}[_nghost-%COMP%]     table thead tr:nth-child(1), [_nghost-%COMP%]     table thead tr:nth-child(2){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(1) th, [_nghost-%COMP%]     table thead tr:nth-child(2) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.school-backdrop[_ngcontent-%COMP%] + .cdk-overlay-pane[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:visible}.mat-column-select[_ngcontent-%COMP%]{overflow:initial}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.header-action[_ngcontent-%COMP%]{height:58px;padding:8px;background:#424242}.mat-select-button[_ngcontent-%COMP%]{margin-bottom:3px;margin-right:1px}.mat-select-button[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.mat-select-button[_ngcontent-%COMP%]     .mat-select-arrow-wrapper{display:none}.mat-select-button[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.mat-select-button[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.mat-select-button[_ngcontent-%COMP%]     .mat-select-trigger{width:150px!important;min-width:150px!important;max-width:150px!important}.button-dummy[_ngcontent-%COMP%]{display:inline-block!important;position:relative!important}.button-dummy[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute!important;top:-16px!important;left:9px!important}.btn-dummy[_ngcontent-%COMP%]{margin-top:1px}.preview[_ngcontent-%COMP%]{transition:opacity .1s ease-in-out;background:#212121;color:#fff!important;height:inherit;width:4.5vw;z-index:1;padding:10px;opacity:.8;text-align:center}.preview[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:900}  .cdk-drag.cdk-drag-preview>*{cursor:move;cursor:grabbing;cursor:-webkit-grabbing}  .cdk-drag.cdk-drag-placeholder>*{opacity:0}.container-dropdown[_ngcontent-%COMP%]{height:168px;max-height:168px;overflow:auto}.restore-to-default[_ngcontent-%COMP%]:hover{color:#3f51b5}.label-header[_ngcontent-%COMP%]{position:relative;top:0;left:0;width:100%;height:100%;text-align:center;transition:left .3s;cursor:unset!important}.column-dragging[_ngcontent-%COMP%]{transition:opacity .2s ease-in-out;background:#212121;color:#fff!important;position:relative}.icon-drag[_ngcontent-%COMP%]{position:absolute;top:2px;left:0;width:50px;height:100%;line-height:50px;text-align:center;transition:left .3s;opacity:0;color:#fff;cursor:pointer;z-index:1}.column-dragging[_ngcontent-%COMP%]:hover   .icon-drag[_ngcontent-%COMP%]{left:0;opacity:1}.column-dragging[_ngcontent-%COMP%]:hover   .label-header[_ngcontent-%COMP%]{left:5px;opacity:1}[_nghost-%COMP%]  .mat-sort-header-container{cursor:unset!important;vertical-align:unset!important}[_nghost-%COMP%]  .mat-sort-header-arrow{cursor:pointer;margin:-.6em 0 0 .4em!important}[_nghost-%COMP%]  .cdk-program-focused .mat-sort-header-container{border-bottom:unset!important}.preview-drag[_ngcontent-%COMP%]{min-width:100px!important}.custom-message[_ngcontent-%COMP%]{height:100%;min-height:50vh;max-height:50vh;background:#424242}.pad-top-30[_ngcontent-%COMP%]{padding-top:30px}.custom-icon-setting[_ngcontent-%COMP%]{width:150px!important;height:150px!important;max-width:150px!important;max-height:150px!important}.margin-top-10[_ngcontent-%COMP%]{margin-top:10px}  .mat-select-panel{margin-top:25px}.octagon-button[_ngcontent-%COMP%]{vertical-align:middle;cursor:pointer;max-width:35px;max-height:35px}.red-icon[_ngcontent-%COMP%]{color:#ff4a4a;margin-right:2px;width:35px}.orange[_ngcontent-%COMP%]{color:#f49f36}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.black[_ngcontent-%COMP%]{color:#000}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-dropdownpanel-table{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-dropdownpanel-table .ng-dropdown-panel-items .ng-option{white-space:normal!important}  .ng-select.custom-dropdownpanel-table .ng-select-container .ng-value-container .ng-input>input{color:#fff!important}  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:0!important;top:auto!important;padding-bottom:0!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{color:#000}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{font-size:14px}.horizontal[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}']}),n})();var Hb=C(71214),jb=C(90455);function Wb(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",2)(1,"div",3),t.\u0275\u0275element(2,"mat-spinner",4),t.\u0275\u0275elementEnd()())}function Yb(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",10),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.sendingPayN3())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Information for Payment")," "))}function Gb(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",62),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"CARDDETAIL.RELATION."+e),"")}}function qb(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Kb(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",63),t.\u0275\u0275text(1,"lens "),t.\u0275\u0275elementEnd())}function Qb(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",64),t.\u0275\u0275text(1,"lens "),t.\u0275\u0275elementEnd())}function Xb(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-radio-button",65),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"Neutral")))}function Zb(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Jb(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function tC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function eC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",68),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().item;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("+",null==e?null:e.dialCode,"")}}function nC(n,o){if(1&n&&(t.\u0275\u0275element(0,"img",66),t.\u0275\u0275template(1,eC,2,1,"span",67)),2&n){const e=o.item,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275property("src",a.flagsIconPath+(null==e?null:e.flagIcon)+".svg",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.flagIcon)}}function aC(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"img",69),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("src",a.flagsIconPath+(null==e?null:e.flagIcon)+".svg",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,3,null==e?null:e.name)," +",null==e?null:e.dialCode," ")}}function iC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"ng-option",62),t.\u0275\u0275template(1,aC,4,5,"ng-container",26),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.name)}}function oC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Phone number is not valid")," "))}function lC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function rC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Invalid email format")," "))}function sC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Email cant be same with student email")," "))}function cC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function dC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function pC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",62),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"COUNTRY."+e)," ")}}function mC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",62),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function _C(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",62),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function uC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",62),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function gC(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",70)(1,"div",15)(2,"div",71)(3,"div",72)(4,"div",36)(5,"mat-form-field",73),t.\u0275\u0275element(6,"input",74),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(8,"div",15)(9,"div",75)(10,"div",15)(11,"div",76)(12,"div",72)(13,"div",36)(14,"mat-form-field",77)(15,"input",78),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().index,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.getPostcodeDataSupport(i))}),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(17,"div",76)(18,"div",72)(19,"div",36)(20,"mat-form-field",77)(21,"input",79),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().index,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.filterCountrySupport(i))}),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(23,"mat-autocomplete",80,81),t.\u0275\u0275listener("optionSelected",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().index,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.getPostcodeDataSupport(i))}),t.\u0275\u0275template(25,pC,3,4,"mat-option",25),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275elementStart(26,"div",15)(27,"div",82)(28,"div",15)(29,"div",76)(30,"div",72)(31,"div",36)(32,"mat-form-field",77)(33,"input",83),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().index,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.filterCitySupport(i))}),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(35,"mat-autocomplete",84,85),t.\u0275\u0275template(37,mC,2,2,"mat-option",25),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(38,"div",76)(39,"div",72)(40,"div",36)(41,"mat-form-field",77)(42,"input",86),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().index,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.filterDepartmentSupport(i))}),t.\u0275\u0275pipe(43,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(44,"mat-autocomplete",84,87),t.\u0275\u0275template(46,_C,2,2,"mat-option",25),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(47,"div",76)(48,"div",72)(49,"div",36)(50,"mat-form-field",77)(51,"input",88),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().index,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.filterRegionSupport(i))}),t.\u0275\u0275pipe(52,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(53,"mat-autocomplete",84,89),t.\u0275\u0275template(55,uC,2,2,"mat-option",25),t.\u0275\u0275elementEnd()()()()()()()()()}if(2&n){const e=o.index,a=t.\u0275\u0275reference(24),i=t.\u0275\u0275reference(36),l=t.\u0275\u0275reference(45),r=t.\u0275\u0275reference(54),s=t.\u0275\u0275nextContext().index,d=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("formGroupName",e),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(7,20,"CARDDETAIL.Address")),t.\u0275\u0275advance(9),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(16,22,"CARDDETAIL.Zip Code")),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(22,24,"CARDDETAIL.Country")),t.\u0275\u0275property("matAutocomplete",a),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit")("displayWith",d.getCountrySupportName.bind(d)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",d.filteredCountrySupport[s][0]),t.\u0275\u0275advance(8),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(34,26,"CARDDETAIL.City")),t.\u0275\u0275property("matAutocomplete",i),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",d.filteredCitySupport[s][0]),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(43,28,"CARDDETAIL.Department")),t.\u0275\u0275property("matAutocomplete",l),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",d.filteredDepartmentSupport[s][0]),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(52,30,"CARDDETAIL.Region")),t.\u0275\u0275property("matAutocomplete",r),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",d.filteredRegionSupport[s][0])}}const _e=function(n){return{"margin-top":n}};function hC(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",15)(4,"mat-form-field")(5,"mat-label"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"mat-select",24),t.\u0275\u0275template(9,Gb,3,4,"mat-option",25),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(10,qb,3,3,"mat-error",26),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(11,"div",27)(12,"div",15)(13,"div",28)(14,"div",15)(15,"div",29),t.\u0275\u0275template(16,Kb,2,0,"mat-icon",30),t.\u0275\u0275template(17,Qb,2,0,"mat-icon",31),t.\u0275\u0275elementStart(18,"span",32),t.\u0275\u0275text(19),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275elementEnd()()()()()()(),t.\u0275\u0275elementStart(21,"div",33)(22,"div",34)(23,"div",15)(24,"div",35)(25,"label"),t.\u0275\u0275text(26),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(28,"div",36)(29,"mat-radio-group",37)(30,"mat-radio-button",38),t.\u0275\u0275text(31),t.\u0275\u0275pipe(32,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(33,"mat-radio-button",39),t.\u0275\u0275text(34),t.\u0275\u0275pipe(35,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(36,Xb,4,3,"ng-container",26),t.\u0275\u0275template(37,Zb,3,3,"mat-error",26),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(38,"div",15)(39,"div",23)(40,"div",15)(41,"mat-form-field",40),t.\u0275\u0275element(42,"input",41),t.\u0275\u0275pipe(43,"translate"),t.\u0275\u0275template(44,Jb,3,3,"mat-error",26),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(45,"div",42)(46,"div",15)(47,"mat-form-field",40),t.\u0275\u0275element(48,"input",43),t.\u0275\u0275pipe(49,"translate"),t.\u0275\u0275template(50,tC,3,3,"mat-error",26),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(51,"div",15)(52,"div",23)(53,"div",15)(54,"div",44)(55,"mat-label",45),t.\u0275\u0275text(56),t.\u0275\u0275pipe(57,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(58,"div",46)(59,"ng-select",47),t.\u0275\u0275listener("change",function(i){const r=t.\u0275\u0275restoreView(e).index,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.selectionDialCode(i,r,"payment_supports"))}),t.\u0275\u0275template(60,nC,2,2,"ng-template",48),t.\u0275\u0275template(61,iC,2,2,"ng-option",25),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(62,"div",49)(63,"mat-form-field"),t.\u0275\u0275element(64,"input",50),t.\u0275\u0275elementStart(65,"mat-error"),t.\u0275\u0275template(66,oC,3,3,"p",26),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(67,"div",42)(68,"div",15)(69,"mat-form-field",40)(70,"input",51),t.\u0275\u0275listener("keyup",function(){const l=t.\u0275\u0275restoreView(e).index,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.compareEmailWithStudentFinancialSupport(l))}),t.\u0275\u0275pipe(71,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(72,"mat-error"),t.\u0275\u0275template(73,lC,3,3,"p",26),t.\u0275\u0275template(74,rC,3,3,"p",26),t.\u0275\u0275template(75,sC,3,3,"p",26),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(76,"div",15)(77,"div",52)(78,"div",15)(79,"div",53)(80,"mat-form-field")(81,"mat-label"),t.\u0275\u0275text(82),t.\u0275\u0275pipe(83,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(84,"input",54),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(85,"div",15)(86,"div",52)(87,"div",15)(88,"div",53)(89,"mat-form-field")(90,"mat-label"),t.\u0275\u0275text(91),t.\u0275\u0275pipe(92,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(93,"input",55),t.\u0275\u0275template(94,cC,3,3,"mat-error",26),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(95,"div",56)(96,"div",15)(97,"div",36)(98,"mat-form-field")(99,"mat-label"),t.\u0275\u0275text(100),t.\u0275\u0275pipe(101,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(102,"input",57),t.\u0275\u0275template(103,dC,3,3,"mat-error",26),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(104,"div",15)(105,"div",52)(106,"div",58)(107,"div",59)(108,"span"),t.\u0275\u0275text(109),t.\u0275\u0275pipe(110,"translate"),t.\u0275\u0275pipe(111,"currency"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(112,"div",60),t.\u0275\u0275template(113,gC,56,32,"div",61),t.\u0275\u0275elementEnd()()}if(2&n){const e=o.index,a=t.\u0275\u0275nextContext(3);let i,l;t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(66,_e,e>0?"1rem":"0rem"))("formGroupName",e),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,35,"CARDDETAIL.Relations")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",a.relationList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.paymentSupportsForm.at(e).get("relation").hasError("required")&&(a.paymentSupportsForm.at(e).get("relation").dirty||a.paymentSupportsForm.at(e).get("relation").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",a.paymentSupportsForm&&a.paymentSupportsForm.at(e).get("financial_support_status").value&&"validated"===a.paymentSupportsForm.at(e).get("financial_support_status").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.paymentSupportsForm&&a.paymentSupportsForm.at(e).get("financial_support_status").value&&"pending"===a.paymentSupportsForm.at(e).get("financial_support_status").value),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(20,37,"CARDDETAIL.Financial Support")," "),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(27,39,"CARDDETAIL.Civility"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(32,41,"CARDDETAIL.MR")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(35,43,"CARDDETAIL.MRS")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.coreService?null:a.coreService.neutralCivility),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.paymentSupportsForm.at(e).get("civility").hasError("required")&&(a.paymentSupportsForm.at(e).get("civility").dirty||a.paymentSupportsForm.at(e).get("civility").touched)),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(43,45,"CARDDETAIL.First Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.paymentSupportsForm.at(e).get("name").hasError("required")&&(a.paymentSupportsForm.at(e).get("name").dirty||a.paymentSupportsForm.at(e).get("name").touched)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(49,47,"CARDDETAIL.Last Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.paymentSupportsForm.at(e).get("family_name").hasError("required")&&(a.paymentSupportsForm.at(e).get("family_name").dirty||a.paymentSupportsForm.at(e).get("family_name").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(57,49,"CARDDETAIL.Phone")),t.\u0275\u0275advance(3),t.\u0275\u0275property("formControl",null==a.dialCodeArrayForPaymentSupports?null:a.dialCodeArrayForPaymentSupports.at(e))("clearable",!1)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.countryCodeList),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",a.paymentSupportsForm.at(e).get("tele_phone").hasError("pattern")&&(a.paymentSupportsForm.at(e).get("tele_phone").touched||a.paymentSupportsForm.at(e).get("tele_phone").dirty)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(71,51,"CARDDETAIL.Mail")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.paymentSupportsForm.at(e).get("email").hasError("required")&&(a.paymentSupportsForm.at(e).get("email").touched||a.paymentSupportsForm.at(e).get("email").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.paymentSupportsForm.at(e).get("email").hasError("email")&&(a.paymentSupportsForm.at(e).get("email").touched||a.paymentSupportsForm.at(e).get("email").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.paymentSupportsForm.at(e).get("email").hasError("required")&&!a.paymentSupportsForm.at(e).get("email").hasError("email")&&a.paymentSupportsForm.at(e).get("email").hasError("emailSamePS")&&(a.paymentSupportsForm.at(e).get("email").touched||a.paymentSupportsForm.at(e).get("email").dirty)),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(83,53,"Account holder name")),t.\u0275\u0275advance(9),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(92,55,"IBAN")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.paymentSupportsForm.at(e).get("iban").hasError("required")&&(a.paymentSupportsForm.at(e).get("iban").dirty||a.paymentSupportsForm.at(e).get("iban").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(101,57,"BIC")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.paymentSupportsForm.at(e).get("bic").hasError("required")&&(a.paymentSupportsForm.at(e).get("bic").dirty||a.paymentSupportsForm.at(e).get("bic").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(110,59,"Cost coverage"),": ",t.\u0275\u0275pipeBind4(111,61,a.costCoverageFS(null==a.paymentSupportsForm||null==(i=a.paymentSupportsForm.at(e))||null==(l=i.get("_id"))?null:l.value,a.billingData)||0,"EURO","","0.2")," EUR"),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",a.paymentAddressArrayForm(e).controls)}}function fC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"fieldset",13)(1,"mat-card",14)(2,"div",19),t.\u0275\u0275template(3,hC,114,68,"div",20),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",e.paymentSupportsForm.controls)}}function bC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",62),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"CARDDETAIL.RELATION."+e),"")}}function CC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function xC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",63),t.\u0275\u0275text(1,"lens "),t.\u0275\u0275elementEnd())}function yC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",64),t.\u0275\u0275text(1,"lens "),t.\u0275\u0275elementEnd())}function vC(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",100),t.\u0275\u0275template(2,xC,2,0,"mat-icon",30),t.\u0275\u0275template(3,yC,2,0,"mat-icon",31),t.\u0275\u0275elementStart(4,"span",32),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.parentsArrayForm&&a.parentsArrayForm.at(e).get("financial_support_status").value&&"validated"===a.parentsArrayForm.at(e).get("financial_support_status").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.parentsArrayForm&&a.parentsArrayForm.at(e).get("financial_support_status").value&&"pending"===a.parentsArrayForm.at(e).get("financial_support_status").value),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,3,"CARDDETAIL.Financial Support")," ")}}const Ct=function(n){return{color:n}};function TC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",103),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(4,Ct,e.get("is_parent_also_payment_support").value?"#ffe77a":"white")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"Not set as financial support")," ")}}function MC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",103),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(4,Ct,e.get("is_parent_also_payment_support").value?"#ffe77a":"white")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"Set as financial support")," ")}}function SC(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"mat-slide-toggle",101),t.\u0275\u0275template(2,TC,3,6,"span",102),t.\u0275\u0275template(3,MC,3,6,"span",102),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.get("is_parent_also_payment_support").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.get("is_parent_also_payment_support").value)}}function OC(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-radio-button",65),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"Neutral")))}function PC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function wC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",103),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(4,Ct,e.get("is_parent_also_payment_support").value?"#ffe77a":"white")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"Not set as financial support")," ")}}function DC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",103),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(4,Ct,e.get("is_parent_also_payment_support").value?"#ffe77a":"white")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"Set as financial support")," ")}}function EC(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",104)(2,"div",105),t.\u0275\u0275element(3,"mat-slide-toggle",101),t.\u0275\u0275template(4,wC,3,6,"span",102),t.\u0275\u0275template(5,DC,3,6,"span",102),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",!e.get("is_parent_also_payment_support").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.get("is_parent_also_payment_support").value)}}function IC(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",59),t.\u0275\u0275element(2,"mat-slide-toggle",106),t.\u0275\u0275elementStart(3,"span",103),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(4,Ct,e.get("is_contact_person_in_emergency").value?"#ffe77a":"white")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,2,"CARDDETAIL.Person to contact in case of emergency"),"")}}function kC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function FC(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",107),t.\u0275\u0275element(2,"mat-slide-toggle",106),t.\u0275\u0275elementStart(3,"span",103),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(4,Ct,e.get("is_contact_person_in_emergency").value?"#ffe77a":"white")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,2,"CARDDETAIL.Person to contact in case of emergency"),"")}}function BC(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",108)(2,"mat-slide-toggle",109),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().index,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.duplicateStudentAddress(i,l))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"span",103),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(4,Ct,e.get("is_same_address").value?"#ffe77a":"white")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,2,"CARDDETAIL.Same Address")," ")}}function AC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function NC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",68),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().item;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("+",null==e?null:e.dialCode,"")}}function RC(n,o){if(1&n&&(t.\u0275\u0275element(0,"img",66),t.\u0275\u0275template(1,NC,2,1,"span",67)),2&n){const e=o.item,a=t.\u0275\u0275nextContext(5);t.\u0275\u0275property("src",a.flagsIconPath+(null==e?null:e.flagIcon)+".svg",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.flagIcon)}}function VC(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"img",69),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(1),t.\u0275\u0275property("src",a.flagsIconPath+(null==e?null:e.flagIcon)+".svg",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,3,null==e?null:e.name)," +",null==e?null:e.dialCode," ")}}function LC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"ng-option",62),t.\u0275\u0275template(1,VC,4,5,"ng-container",26),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.name)}}function UC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Phone number is not valid")," "))}function zC(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",42)(2,"div",15)(3,"div",44)(4,"mat-label",45),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",46)(8,"ng-select",47),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().index,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.selectionDialCode(i,l,"parents"))}),t.\u0275\u0275template(9,RC,2,2,"ng-template",48),t.\u0275\u0275template(10,LC,2,2,"ng-option",25),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",49)(12,"mat-form-field"),t.\u0275\u0275element(13,"input",50),t.\u0275\u0275elementStart(14,"mat-error"),t.\u0275\u0275template(15,UC,3,3,"p",26),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,6,"CARDDETAIL.Phone")),t.\u0275\u0275advance(3),t.\u0275\u0275property("formControl",null==a.dialCodeArrayForParents?null:a.dialCodeArrayForParents.at(e))("clearable",!1)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.countryCodeList),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",a.parentsArrayForm.at(e).get("tele_phone").hasError("pattern")&&(a.parentsArrayForm.at(e).get("tele_phone").touched||a.parentsArrayForm.at(e).get("tele_phone").dirty))}}function $C(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",108)(2,"mat-slide-toggle",109),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().index,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.duplicateStudentAddress(i,l))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"span",103),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(4,Ct,e.get("is_same_address").value?"#ffe77a":"white")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,2,"CARDDETAIL.Same Address")," ")}}function HC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function jC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Invalid email format")," "))}function WC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Email cant be same with student email")," "))}function YC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",68),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().item;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("+",null==e?null:e.dialCode,"")}}function GC(n,o){if(1&n&&(t.\u0275\u0275element(0,"img",66),t.\u0275\u0275template(1,YC,2,1,"span",67)),2&n){const e=o.item,a=t.\u0275\u0275nextContext(5);t.\u0275\u0275property("src",a.flagsIconPath+(null==e?null:e.flagIcon)+".svg",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.flagIcon)}}function qC(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"img",69),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(1),t.\u0275\u0275property("src",a.flagsIconPath+(null==e?null:e.flagIcon)+".svg",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,3,null==e?null:e.name)," +",null==e?null:e.dialCode," ")}}function KC(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"ng-option",62),t.\u0275\u0275template(1,qC,4,5,"ng-container",26),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.name)}}function QC(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Phone number is not valid")," "))}function XC(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",42)(2,"div",15)(3,"div",44)(4,"mat-label",45),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",46)(8,"ng-select",47),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().index,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.selectionDialCode(i,l,"parents"))}),t.\u0275\u0275template(9,GC,2,2,"ng-template",48),t.\u0275\u0275template(10,KC,2,2,"ng-option",25),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",49)(12,"mat-form-field"),t.\u0275\u0275element(13,"input",50),t.\u0275\u0275elementStart(14,"mat-error"),t.\u0275\u0275template(15,QC,3,3,"p",26),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,6,"CARDDETAIL.Phone")),t.\u0275\u0275advance(3),t.\u0275\u0275property("formControl",null==a.dialCodeArrayForParents?null:a.dialCodeArrayForParents.at(e))("clearable",!1)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.countryCodeList),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",a.parentsArrayForm.at(e).get("tele_phone").hasError("pattern")&&(a.parentsArrayForm.at(e).get("tele_phone").touched||a.parentsArrayForm.at(e).get("tele_phone").dirty))}}function ZC(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",110)(2,"div",15)(3,"div",53)(4,"mat-form-field")(5,"mat-label"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(8,"input",54),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,1,"Account holder name")))}function JC(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",52)(2,"div",15)(3,"div",53)(4,"mat-form-field")(5,"mat-label"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(8,"input",54),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,1,"Account holder name")))}function tx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function ex(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function nx(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-slide-toggle",114),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(4).index,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.checkMainAddress(i,l))}),t.\u0275\u0275elementStart(1,"span",115),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(4,Ct,e.get("is_main_address").value?"#ffe77a":"white")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"CARDDETAIL.MAIN_ADDRESS"))}}function ax(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",15)(1,"div",111),t.\u0275\u0275template(2,nx,4,6,"mat-slide-toggle",112),t.\u0275\u0275elementStart(3,"button",113),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().index,l=t.\u0275\u0275nextContext(2).index,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.removeParentAddress(l,i))}),t.\u0275\u0275elementStart(4,"mat-icon"),t.\u0275\u0275text(5,"remove"),t.\u0275\u0275elementEnd()()()()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(2).index,i=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!i.isMainAddressSelected[a]||e.get("is_main_address").value)}}function ix(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",62),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"COUNTRY."+e)," ")}}function ox(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",62),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function lx(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",62),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function rx(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",62),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function sx(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",70),t.\u0275\u0275template(1,ax,6,1,"div",99),t.\u0275\u0275elementStart(2,"div",15)(3,"div",71)(4,"div",72)(5,"div",36)(6,"mat-form-field",77),t.\u0275\u0275element(7,"input",74),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(9,"div",15)(10,"div",75)(11,"div",15)(12,"div",76)(13,"div",72)(14,"div",36)(15,"mat-form-field",77)(16,"input",78),t.\u0275\u0275listener("keyup",function(){const l=t.\u0275\u0275restoreView(e).index,r=t.\u0275\u0275nextContext(2).index,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.getPostcodeData(r,l))}),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(18,"div",76)(19,"div",72)(20,"div",36)(21,"mat-form-field",77)(22,"input",79),t.\u0275\u0275listener("keyup",function(){const l=t.\u0275\u0275restoreView(e).index,r=t.\u0275\u0275nextContext(2).index,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.filterCountry(r,l))}),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(24,"mat-autocomplete",80,81),t.\u0275\u0275listener("optionSelected",function(){const l=t.\u0275\u0275restoreView(e).index,r=t.\u0275\u0275nextContext(2).index,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.getPostcodeData(r,l))}),t.\u0275\u0275template(26,ix,3,4,"mat-option",25),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275elementStart(27,"div",15)(28,"div",82)(29,"div",15)(30,"div",76)(31,"div",72)(32,"div",36)(33,"mat-form-field",77)(34,"input",83),t.\u0275\u0275listener("keyup",function(){const l=t.\u0275\u0275restoreView(e).index,r=t.\u0275\u0275nextContext(2).index,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.filterCity(r,l))}),t.\u0275\u0275pipe(35,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(36,"mat-autocomplete",84,85),t.\u0275\u0275template(38,ox,2,2,"mat-option",25),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(39,"div",76)(40,"div",72)(41,"div",36)(42,"mat-form-field",77)(43,"input",86),t.\u0275\u0275listener("keyup",function(){const l=t.\u0275\u0275restoreView(e).index,r=t.\u0275\u0275nextContext(2).index,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.filterDepartment(r,l))}),t.\u0275\u0275pipe(44,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(45,"mat-autocomplete",84,87),t.\u0275\u0275template(47,lx,2,2,"mat-option",25),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(48,"div",76)(49,"div",72)(50,"div",36)(51,"mat-form-field",77)(52,"input",88),t.\u0275\u0275listener("keyup",function(){const l=t.\u0275\u0275restoreView(e).index,r=t.\u0275\u0275nextContext(2).index,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.filterRegion(r,l))}),t.\u0275\u0275pipe(53,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(54,"mat-autocomplete",84,89),t.\u0275\u0275template(56,rx,2,2,"mat-option",25),t.\u0275\u0275elementEnd()()()()()()()()()}if(2&n){const e=o.index,a=t.\u0275\u0275reference(25),i=t.\u0275\u0275reference(37),l=t.\u0275\u0275reference(46),r=t.\u0275\u0275reference(55),s=t.\u0275\u0275nextContext(2).index,d=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("formGroupName",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",d.parentAddressArrayForm(s).controls.length>1),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(8,21,"CARDDETAIL.Address")),t.\u0275\u0275advance(9),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(17,23,"CARDDETAIL.Zip Code")),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(23,25,"CARDDETAIL.Country")),t.\u0275\u0275property("matAutocomplete",a),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit")("displayWith",d.getCountryName.bind(d)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",d.filteredCountry[s][e]),t.\u0275\u0275advance(8),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(35,27,"CARDDETAIL.City")),t.\u0275\u0275property("matAutocomplete",i),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",d.filteredCities[s][e]),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(44,29,"CARDDETAIL.Department")),t.\u0275\u0275property("matAutocomplete",l),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",d.filteredDepartments[s][e]),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(53,31,"CARDDETAIL.Region")),t.\u0275\u0275property("matAutocomplete",r),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",d.filteredRegions[s][e])}}function cx(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",60),t.\u0275\u0275template(1,sx,57,33,"div",61),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().index,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.parentAddressArrayForm(e).controls)}}function dx(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",15)(1,"div",116),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"button",17),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().index,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.addParentAddress(i))}),t.\u0275\u0275elementStart(5,"mat-icon"),t.\u0275\u0275text(6,"add"),t.\u0275\u0275elementEnd()()()()}2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"CARDDETAIL.Add more address")," "))}const px=function(n){return{padding:n}};function mx(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",15)(4,"mat-form-field")(5,"mat-label"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"mat-select",24),t.\u0275\u0275template(9,bC,3,4,"mat-option",25),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(10,CC,3,3,"mat-error",26),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(11,"div",23)(12,"div",15)(13,"div",28)(14,"div",15)(15,"div",91),t.\u0275\u0275template(16,vC,7,5,"ng-container",26),t.\u0275\u0275template(17,SC,4,2,"ng-container",26),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(18,"div",92),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).index,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.removeParent(l))}),t.\u0275\u0275text(19),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275elementStart(21,"button",93)(22,"mat-icon"),t.\u0275\u0275text(23,"remove"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(24,"div",94)(25,"div",34)(26,"div",15)(27,"div",35)(28,"label"),t.\u0275\u0275text(29),t.\u0275\u0275pipe(30,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(31,"div",36)(32,"mat-radio-group",37)(33,"mat-radio-button",38),t.\u0275\u0275text(34),t.\u0275\u0275pipe(35,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(36,"mat-radio-button",39),t.\u0275\u0275text(37),t.\u0275\u0275pipe(38,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(39,OC,4,3,"ng-container",26),t.\u0275\u0275template(40,PC,3,3,"mat-error",26),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(41,"div",52)(42,"div",15)(43,"div",95),t.\u0275\u0275template(44,EC,6,2,"ng-container",26),t.\u0275\u0275template(45,IC,6,6,"ng-container",26),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(46,"div",96)(47,"div",97)(48,"div",15)(49,"mat-form-field"),t.\u0275\u0275element(50,"input",41),t.\u0275\u0275pipe(51,"translate"),t.\u0275\u0275template(52,kC,3,3,"mat-error",26),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(53,FC,6,6,"ng-container",26),t.\u0275\u0275template(54,BC,6,6,"ng-container",26),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(55,"div",15)(56,"div",23)(57,"div",15)(58,"mat-form-field"),t.\u0275\u0275element(59,"input",43),t.\u0275\u0275pipe(60,"translate"),t.\u0275\u0275template(61,AC,3,3,"mat-error",26),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(62,zC,16,8,"ng-container",26),t.\u0275\u0275template(63,$C,6,6,"ng-container",26),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(64,"div",15)(65,"div",23)(66,"div",15)(67,"mat-form-field")(68,"input",51),t.\u0275\u0275listener("keyup",function(){const l=t.\u0275\u0275restoreView(e).index,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.compareEmailWithStudentParent(l))}),t.\u0275\u0275pipe(69,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(70,"mat-error"),t.\u0275\u0275template(71,HC,3,3,"p",26),t.\u0275\u0275template(72,jC,3,3,"p",26),t.\u0275\u0275template(73,WC,3,3,"p",26),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(74,XC,16,8,"ng-container",26),t.\u0275\u0275template(75,ZC,9,3,"ng-container",26),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(76,JC,9,3,"ng-container",26),t.\u0275\u0275elementStart(77,"div",15)(78,"div",52)(79,"div",15)(80,"div",53)(81,"mat-form-field")(82,"mat-label"),t.\u0275\u0275text(83),t.\u0275\u0275pipe(84,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(85,"input",55),t.\u0275\u0275template(86,tx,3,3,"mat-error",26),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(87,"div",56)(88,"div",15)(89,"div",36)(90,"mat-form-field")(91,"mat-label"),t.\u0275\u0275text(92),t.\u0275\u0275pipe(93,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(94,"input",57),t.\u0275\u0275template(95,ex,3,3,"mat-error",26),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(96,cx,2,1,"div",98),t.\u0275\u0275template(97,dx,7,3,"div",99),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit,a=o.index,i=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(57,_e,a>0?"1rem":"0rem"))("formGroupName",a),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,37,"CARDDETAIL.Relations")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",i.relationList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.parentsArrayForm.at(a).get("relation").hasError("required")&&(i.parentsArrayForm.at(a).get("relation").dirty||i.parentsArrayForm.at(a).get("relation").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf","pending"===i.parentsArrayForm.at(a).get("financial_support_status").value||"validated"===i.parentsArrayForm.at(a).get("financial_support_status").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","not_financial_support"===i.parentsArrayForm.at(a).get("financial_support_status").value||!i.parentsArrayForm.at(a).get("financial_support_status").value),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(20,39,"CARDDETAIL.Remove contact")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(59,px,"pending"===i.parentsArrayForm.at(a).get("financial_support_status").value||"validated"===i.parentsArrayForm.at(a).get("financial_support_status").value?"0 0 16px 0":"14px 0 0 0")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(30,41,"CARDDETAIL.Civility"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(35,43,"CARDDETAIL.MR")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(38,45,"CARDDETAIL.MRS")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==i.coreService?null:i.coreService.neutralCivility),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.parentsArrayForm.at(a).get("civility").hasError("required")&&(i.parentsArrayForm.at(a).get("civility").dirty||i.parentsArrayForm.at(a).get("civility").touched)),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf","pending"===i.parentsArrayForm.at(a).get("financial_support_status").value||"validated"===i.parentsArrayForm.at(a).get("financial_support_status").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.parentsArrayForm.length&&("not_financial_support"===i.parentsArrayForm.at(a).get("financial_support_status").value||!i.parentsArrayForm.at(a).get("financial_support_status").value)),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(51,47,"CARDDETAIL.First Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.parentsArrayForm.at(a).get("name").hasError("required")&&(i.parentsArrayForm.at(a).get("name").dirty||i.parentsArrayForm.at(a).get("name").touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","pending"===i.parentsArrayForm.at(a).get("financial_support_status").value||"validated"===i.parentsArrayForm.at(a).get("financial_support_status").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.parentsArrayForm.length&&("not_financial_support"===i.parentsArrayForm.at(a).get("financial_support_status").value||!i.parentsArrayForm.at(a).get("financial_support_status").value)),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(60,49,"CARDDETAIL.Last Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.parentsArrayForm.at(a).get("family_name").hasError("required")&&(i.parentsArrayForm.at(a).get("family_name").dirty||i.parentsArrayForm.at(a).get("family_name").touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.parentsArrayForm.length&&("not_financial_support"===i.parentsArrayForm.at(a).get("financial_support_status").value||!i.parentsArrayForm.at(a).get("financial_support_status").value)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","pending"===i.parentsArrayForm.at(a).get("financial_support_status").value||"validated"===i.parentsArrayForm.at(a).get("financial_support_status").value),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(69,51,"CARDDETAIL.Mail")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",i.parentsArrayForm.at(a).get("email").hasError("required")&&(i.parentsArrayForm.at(a).get("email").touched||i.parentsArrayForm.at(a).get("email").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.parentsArrayForm.at(a).get("email").hasError("email")&&(i.parentsArrayForm.at(a).get("email").touched||i.parentsArrayForm.at(a).get("email").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!i.parentsArrayForm.at(a).get("email").hasError("required")&&!i.parentsArrayForm.at(a).get("email").hasError("email")&&i.parentsArrayForm.at(a).get("email").hasError("emailSame")&&(i.parentsArrayForm.at(a).get("email").touched||i.parentsArrayForm.at(a).get("email").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","pending"===i.parentsArrayForm.at(a).get("financial_support_status").value||"validated"===i.parentsArrayForm.at(a).get("financial_support_status").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.parentsArrayForm.length&&("not_financial_support"===i.parentsArrayForm.at(a).get("financial_support_status").value||!i.parentsArrayForm.at(a).get("financial_support_status").value)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","pending"===i.parentsArrayForm.at(a).get("financial_support_status").value||"validated"===i.parentsArrayForm.at(a).get("financial_support_status").value),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(84,53,"IBAN")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",i.parentsArrayForm.at(a).get("iban").hasError("required")&&(i.parentsArrayForm.at(a).get("iban").dirty||i.parentsArrayForm.at(a).get("iban").touched)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(93,55,"BIC")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",i.parentsArrayForm.at(a).get("bic").hasError("required")&&(i.parentsArrayForm.at(a).get("bic").dirty||i.parentsArrayForm.at(a).get("bic").touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.get("is_same_address").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.get("is_same_address").value)}}function _x(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",90),t.\u0275\u0275template(1,mx,98,61,"div",20),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.parentsArrayForm.controls)}}function ux(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),t.\u0275\u0275template(4,Yb,3,3,"button",9),t.\u0275\u0275elementStart(5,"button",10),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.updateStudentParents())}),t.\u0275\u0275elementStart(6,"mat-icon",11),t.\u0275\u0275text(7,"save"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(10,fC,4,1,"fieldset",12),t.\u0275\u0275elementStart(11,"fieldset",13)(12,"mat-card",14)(13,"div",15)(14,"div",16),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementStart(17,"button",17),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.addParent(!0))}),t.\u0275\u0275elementStart(18,"mat-icon"),t.\u0275\u0275text(19,"add"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(20,_x,2,1,"div",18),t.\u0275\u0275elementEnd()()()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("formGroup",e.parentsForm),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",e.thereIsPending),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,6,"CARDDETAIL.Save")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.paymentSupportsForm.length>0),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(16,8,"CARDDETAIL.Add another Contact")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",e.parentsArrayForm.length>0)}}let gx=(()=>{class n{constructor(e,a,i,l,r,s,d,p,u,_,O,F,v){this.fb=e,this.router=a,this.candidatesService=i,this.schoolService=l,this.rncpTitleService=r,this.translate=s,this.permissionService=d,this.pageTitleService=p,this.coreService=u,this.userService=_,this.termPaymentService=O,this.financeService=F,this.authService=v,this.subs=new w.Y,this.nextStep=new t.EventEmitter,this.reloadData=new t.EventEmitter,this.isMainAddressSelected=[!1,!1],this.countries=[],this.filteredCountry=[],this.cities=[],this.isWaitingForResponse=!1,this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.countrieSupport=[],this.filteredCountrySupport=[],this.citySupport=[],this.filteredCitySupport=[],this.departmentSupport=[],this.filteredDepartmentSupport=[],this.regionSupport=[],this.filteredRegionSupport=[],this.relationList=["father","mother","grandfather","grandmother","uncle","aunt","other"],this.isMainAddress=[],this.studentAddress=[],this.myInnerHeight=1920,this.isResetCountry=!0,this.isResetNationality=!0,this.hasErrorEmailSameAsStudentFinancialSupport=!1,this.hasErrorEmailSameAsStudentParent=!1,this.thereIsPending=!1,this.flagsIconPath="../../../../../assets/icons/flags-nationality/",this.countryCodeList=[],this.dialCodeArrayForParents=new m.UntypedFormArray([]),this.dialCodeArrayForPaymentSupports=new m.UntypedFormArray([])}ngOnInit(){this.updatePageTitle()}ngOnChanges(){console.log("_can",this.candidate),this.dialCodeArrayForParents?.reset(),this.dialCodeArrayForPaymentSupports?.reset(),this.reset(),this.subs.sink=this.schoolService.getCountry().subscribe(e=>{this.countries=e.map(a=>a?.name),this.countrieSupport=e.map(a=>a?.name)}),this.initForm(),this.getParentData(),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.parentsForm.patchValue(this.parentsForm.value)}),this.getAllBilling()}updatePageTitle(){this.pageTitleService.setTitle(this.translate.instant("Student Card Contact")),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.pageTitleService.setTitle(this.translate.instant("Student Card Contact"))})}getAutomaticHeight(){return"/my-file"===this.router.url||this.router.url.includes("previous-course")?(this.myInnerHeight=window.innerHeight-193,this.myInnerHeight):(this.myInnerHeight=window.innerHeight-369,this.myInnerHeight)}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}reset(){this.isMainAddressSelected=[!1,!1],this.thereIsPending=!1}initForm(){this.parentsForm=this.fb.group({parents:this.fb.array([]),payment_supports:this.fb.array([])})}initParentForm(e){return e&&(this.filteredCountry.push([]),this.cities.push([]),this.filteredCities.push([]),this.regions.push([]),this.filteredRegions.push([]),this.departments.push([]),this.filteredDepartments.push([])),this.fb.group({_id:[null],relation:[null,[m.Validators.required]],family_name:[null,[m.Validators.required]],name:[null,[m.Validators.required]],civility:[null,[m.Validators.required]],tele_phone:[null,m.Validators.pattern("[- ()0-9]+")],phone_number_indicative:[null],email:[null,[m.Validators.required,Et.dN.email]],is_same_address:[!1],is_parent_also_payment_support:[!1],is_contact_person_in_emergency:[!1],financial_support_status:[null],account_holder_name:[null],bic:[null],iban:[null],parent_address:this.fb.array([this.initParentAddress(!0)]),autorization_account:[null]})}initFormPaymentSupports(e){return e&&(this.filteredCountrySupport.push([]),this.citySupport.push([]),this.filteredCitySupport.push([]),this.regionSupport.push([]),this.filteredRegionSupport.push([]),this.departmentSupport.push([]),this.filteredDepartmentSupport.push([])),this.fb.group({_id:[null],relation:[null,[m.Validators.required]],family_name:[null,[m.Validators.required]],name:[null,[m.Validators.required]],account_holder_name:[null],iban:[null],bic:[null],financial_support_status:[null],cost:[null],civility:[null,[m.Validators.required]],tele_phone:[null,m.Validators.pattern("[- ()0-9]+")],phone_number_indicative:[null],email:[null,[m.Validators.required,Et.dN.email]],upload_document_rib:[null],parent_address:this.fb.array([this.initFormAddress()]),autorization_account:[null]})}initFormAddress(e){return e&&(this.filteredCountrySupport.push([]),this.citySupport.push([]),this.filteredCitySupport.push([]),this.regionSupport.push([]),this.filteredRegionSupport.push([]),this.departmentSupport.push([]),this.filteredDepartmentSupport.push([])),this.fb.group({address:[null],postal_code:[null],country:[null],city:[null],region:[null],department:[null]})}initParentAddress(e){return e&&(this.filteredCountry.push([]),this.cities.push([]),this.filteredCities.push([]),this.regions.push([]),this.filteredRegions.push([]),this.departments.push([]),this.filteredDepartments.push([])),this.fb.group({address:[null],postal_code:[null],country:["France"],city:[null],region:[null],department:[null],is_main_address:[!1]})}getParentData(){this.isWaitingForResponse=!0,this.subs.sink=this.candidatesService.getCandidatesParentData(this.candidate._id).subscribe(e=>{const a=h.cloneDeep(e);if(this.parentsData=h.cloneDeep(e),a){this.studentAddress=[{address:a.address?a.address:null,postal_code:a.post_code?a.post_code:null,country:a.country?a.country:null,city:a.city?a.city:null,region:a.region?a.region:null,department:a.department?a.department:null,is_main_address:!0}];const i=[];a.parents&&a.parents.length&&a.parents.forEach((r,s)=>{this.addParent(!1);const d=this.countryCodeList?.findIndex(p=>p?.dialCode===r?.phone_number_indicative);i?.push(this.countryCodeList[d]),this.filteredCountry.push([]),this.cities.push([]),this.filteredCities.push([]),this.regions.push([]),this.filteredRegions.push([]),this.departments.push([]),this.filteredDepartments.push([]),r&&r?.financial_support_status&&"pending"===r?.financial_support_status&&(this.thereIsPending=!0),r&&r?.parent_address&&r?.parent_address?.length&&r?.parent_address?.forEach((p,u)=>{p&&p?.is_main_address&&(this.isMainAddressSelected[s]=!0),p?.postal_code&&p?.country&&"france"===p?.country?.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(p?.postal_code,p?.country).subscribe(_=>{this.setAddressDropdown(_,s,u)},_=>{_&&_.message&&(_.message.includes("jwt expired")||_.message.includes("str & salt required")||_.message.includes("Authorization header is missing")||_.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:_&&_.message?this.translate.instant(_.message.replaceAll("GraphQL error: ","")):_,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),u>=1&&this.addParentAddress(s)})});const l=[];a.payment_supports&&a.payment_supports.length>0&&(a.payment_supports.length>0&&(this.addPaymentForm(),this.filteredCountrySupport.push([]),this.citySupport.push([]),this.filteredCitySupport.push([]),this.regionSupport.push([]),this.filteredRegionSupport.push([]),this.departmentSupport.push([]),this.filteredDepartmentSupport.push([])),a.payment_supports.forEach((r,s)=>{s>=1&&this.addPaymentForm();const d=this.countryCodeList?.findIndex(u=>u?.dialCode===r?.phone_number_indicative);l?.push(this.countryCodeList[d]?this.countryCodeList[d]:null),r&&r.financial_support_status&&"pending"===r.financial_support_status&&(this.thereIsPending=!0),r.parent_address?.forEach((u,_)=>{_>=1&&this.addPaymentAddress(_)})})),this.parentsForm.patchValue(a),this.dialCodeArrayForPaymentSupports?.patchValue(l),this.dialCodeArrayForParents?.patchValue(i),this.autorizationAccount(a),this.firstForm=h.cloneDeep(this.parentsForm.value)}this.isWaitingForResponse=!1},e=>{this.isWaitingForResponse=!1,e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}selectionDialCode(e,a,i){i&&"payment_supports"===i?(this.paymentSupportsForm?.at(a)?.get("phone_number_indicative")?.reset(),this.paymentSupportsForm?.at(a)?.get("phone_number_indicative")?.patchValue(e?.dialCode)):i&&"parents"===i&&(this.parentsArrayForm?.at(a)?.get("phone_number_indicative")?.reset(),this.parentsArrayForm?.at(a)?.get("phone_number_indicative")?.patchValue(e?.dialCode))}get parentsArrayForm(){return this.parentsForm.get("parents")}get paymentSupportsForm(){return this.parentsForm.get("payment_supports")}addPaymentForm(){this.paymentSupportsForm.push(this.initFormPaymentSupports()),this.dialCodeArrayForPaymentSupports?.push(new m.UntypedFormControl(null)),this.filteredCountrySupport.push([]),this.citySupport.push([]),this.filteredCitySupport.push([]),this.regionSupport.push([]),this.filteredRegionSupport.push([]),this.departmentSupport.push([]),this.filteredDepartmentSupport.push([])}addParent(e){if(this.parentsArrayForm.push(this.initParentForm()),this.dialCodeArrayForParents?.push(new m.UntypedFormControl(null)),this.filteredCountry.push([]),this.cities.push([]),this.filteredCities.push([]),this.regions.push([]),this.filteredRegions.push([]),this.departments.push([]),this.filteredDepartments.push([]),e){const a=document.getElementById("parent1");setTimeout(()=>{a.scrollIntoView({behavior:"smooth"})},200)}}removeParent(e){let a=3;c().fire({title:this.translate.instant("DASHBOARD_DELETE.deletedTitle"),html:this.translate.instant("This action will delete parent !"),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("THUMBSUP.SWEET_ALERT.CONFIRM",{timer:a}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const i=c().getConfirmButton();this.intVal=setInterval(()=>{a-=1,i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`},1e3),this.timeOutVal=setTimeout(()=>{i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),c().enableConfirmButton(),clearInterval(this.intVal),clearTimeout(this.timeOutVal)},1e3*a)}}).then(i=>{clearTimeout(this.timeOutVal),i.value&&(this.parentsArrayForm.removeAt(e),this.dialCodeArrayForParents.removeAt(e),this.filteredCountry.splice(e,1),this.cities.splice(e,1),this.filteredCities.splice(e,1),this.regions.splice(e,1),this.filteredRegions.splice(e,1),this.departments.splice(e,1),this.filteredDepartments.splice(e,1),c().fire({type:"success",title:this.translate.instant("EVENT_S1.TITLE"),confirmButtonText:this.translate.instant("EVENT_S1.BUTTON")}))})}removeFinancialSupport(e){let a=3;c().fire({title:this.translate.instant("DASHBOARD_DELETE.deletedTitle"),html:this.translate.instant("This action will delete financial support !"),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("THUMBSUP.SWEET_ALERT.CONFIRM",{timer:a}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const i=c().getConfirmButton();this.intVal=setInterval(()=>{a-=1,i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${a})`},1e3),this.timeOutVal=setTimeout(()=>{i.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),c().enableConfirmButton(),clearInterval(this.intVal),clearTimeout(this.timeOutVal)},1e3*a)}}).then(i=>{clearTimeout(this.timeOutVal),console.log("candidate id => ",this.candidate._id),console.log("financial support data -> ",this.parentsData.payment_supports[e]),c().fire({type:"success",title:this.translate.instant("EVENT_S1.TITLE"),confirmButtonText:this.translate.instant("EVENT_S1.BUTTON")}).then(l=>{this.reloadData.emit(!0)})})}parentAddressArrayForm(e){return this.parentsArrayForm.at(e).get("parent_address")}paymentAddressArrayForm(e){return this.paymentSupportsForm.at(e).get("parent_address")}addPaymentAddress(e){this.paymentAddressArrayForm(e).push(this.initFormAddress()),this.filteredCountrySupport[e].push(this.countries),this.citySupport[e].push([]),this.filteredCitySupport[e].push([]),this.regionSupport[e].push([]),this.filteredRegionSupport[e].push([]),this.departmentSupport[e].push([]),this.filteredDepartmentSupport[e].push([])}addParentAddress(e){this.parentAddressArrayForm(e).push(this.initParentAddress()),this.filteredCountry[e].push(this.countries),this.cities[e].push([]),this.filteredCities[e].push([]),this.regions[e].push([]),this.filteredRegions[e].push([]),this.departments[e].push([]),this.filteredDepartments[e].push([])}removeParentAddress(e,a){let i=3;c().fire({title:this.translate.instant("DASHBOARD_DELETE.deletedTitle"),html:this.translate.instant("DELETE_STUDENT_ADDRESS"),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("THUMBSUP.SWEET_ALERT.CONFIRM",{timer:i}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const l=c().getConfirmButton();this.intVal=setInterval(()=>{i-=1,l.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${i})`},1e3),this.timeOutVal=setTimeout(()=>{l.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),c().enableConfirmButton(),clearInterval(this.intVal),clearTimeout(this.timeOutVal)},1e3*i)}}).then(l=>{if(clearTimeout(this.timeOutVal),l.value){const r=this.parentAddressArrayForm(e).at(a).get("is_main_address");this.parentAddressArrayForm(e).removeAt(a),this.filteredCountry[e].splice(a,1),this.cities[e].splice(a,1),this.filteredCities[e].splice(a,1),this.regions[e].splice(a,1),this.filteredRegions[e].splice(a,1),this.departments[e].splice(a,1),this.filteredDepartments[e].splice(a,1),console.log(r,this.isMainAddressSelected[e]),r.value&&(this.isMainAddressSelected[e]=!1),console.log(this.isMainAddressSelected[e]),c().fire({type:"success",title:this.translate.instant("EVENT_S1.TITLE"),html:this.translate.instant("address deleted"),confirmButtonText:this.translate.instant("EVENT_S1.BUTTON")})}})}getPostcodeData(e,a){const i=this.parentAddressArrayForm(e).at(a).get("country").value,l=this.parentAddressArrayForm(e).at(a).get("postal_code").value;l&&l.length>3&&i&&"france"===i?.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(l,i).subscribe(r=>{r&&r.length&&(this.setAddressDropdown(r,e,a),this.parentAddressArrayForm(e).at(a).get("city").setValue(this.cities[e][a][0]),this.parentAddressArrayForm(e).at(a).get("department").setValue(this.departments[e][a][0]),this.parentAddressArrayForm(e).at(a).get("region").setValue(this.regions[e][a][0]))},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}getTranslateCountry(e){if(e)return this.translate.instant("COUNTRY."+e)}getCountryName(e){let a;if(e){const i=this.countries.filter(l=>l===e);a=i?this.getTranslateCountry(i):""}return a}getCountrySupportName(e){let a;if(e){const i=this.countrieSupport.filter(l=>l===e);a=i?this.getTranslateCountry(i):""}return a}setAddressDropdown(e,a,i){const l=[],r=[],s=[];e&&e.length&&(e.forEach(d=>{l.push(d?.city),r.push(d?.department),s.push(d?.province)}),this.cities[a][i]=h.uniq(l),this.departments[a][i]=h.uniq(r),this.regions[a][i]=h.uniq(s),this.filteredCities[a][i]=this.cities[a][i],this.filteredDepartments[a][i]=this.departments[a][i],this.filteredRegions[a][i]=this.regions[a][i])}filterCountry(e,a){if(this.parentAddressArrayForm(e)?.at(a)?.get("country")?.value){const i=this.parentAddressArrayForm(e)?.at(a)?.get("country")?.value.toLowerCase().trim();this.filteredCountry[e][a]=this.countries.filter(l=>this.translate.instant("COUNTRY."+l)?.toLowerCase().trim().includes(i))}}filterCity(e,a){if(this.cities[e][a]&&this.cities[e][a].length&&this.parentAddressArrayForm(e)?.at(a)?.get("city")?.value){const i=this.parentAddressArrayForm(e)?.at(a)?.get("city")?.value.toLowerCase().trim();this.filteredCities[e][a]=this.cities[e][a].filter(l=>l?.toLowerCase().trim().includes(i))}}filterDepartment(e,a){if(this.departments[e][a]&&this.departments[e][a].length){const i=this.parentAddressArrayForm(e).at(a).get("department").value.toLowerCase().trim();this.filteredDepartments[e][a]=this.departments[e][a].filter(l=>l?.toLowerCase().trim().includes(i))}}filterRegion(e,a){if(this.regions[e][a]&&this.regions[e][a].length&&this.parentAddressArrayForm(e)?.at(a)?.get("region")?.value){const i=this.parentAddressArrayForm(e)?.at(a)?.get("region")?.value?.toLowerCase().trim();this.filteredRegions[e][a]=this.regions[e][a].filter(l=>l?.toLowerCase().trim().includes(i))}}checkMainAddress(e,a){this.isMainAddressSelected[a]=!(!e||!e.checked)}duplicateStudentAddress(e,a){e&&e.checked?(this.parentAddressArrayForm(a).clear(),this.studentAddress&&this.studentAddress?.length&&(this.studentAddress?.forEach((i,l)=>{this.addParentAddress(a),i&&i?.is_main_address&&(this.isMainAddressSelected[a]=!0),i?.postal_code&&i?.country&&"france"===i?.country?.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(i?.postal_code,i?.country).subscribe(r=>{this.setAddressDropdown(r,a,l)},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}),this.parentAddressArrayForm(a).patchValue(this.studentAddress))):(this.parentAddressArrayForm(a).clear(),this.addParentAddress(a))}checkInvalidFieldParent(){let e;for(const a of this.parentsArrayForm.controls)if(a instanceof m.UntypedFormGroup&&(e=this.findInvalidControlsRecursive(a),e&&e.length>0))break;return!!e&&!!e.includes("email")}checkInvalidFieldPaymentSupports(){let e;for(const a of this.paymentSupportsForm.controls)if(a instanceof m.UntypedFormGroup&&(e=this.findInvalidControlsRecursive(a),e&&e.length>0))break;return!!e&&!!e.includes("email")}checkEmailSameWithStudentForParent(){let e;for(const a of this.parentsArrayForm.controls)if(a instanceof m.UntypedFormGroup&&(e=this.findInvalidControlsRecursive(a,!0),e&&e.length>0))break;return!!e&&!!e.includes("email")}checkEmailSameWithStudentForPaymentSupport(){let e;for(const a of this.paymentSupportsForm.controls)if(a instanceof m.UntypedFormGroup&&(e=this.findInvalidControlsRecursive(a,!1,!0),e&&e.length>0))break;return!!e&&!!e.includes("email")}findInvalidControlsRecursive(e,a,i){const l=[],r=s=>{Object.keys(s.controls).forEach(d=>{const p=s.get(d);a&&p.hasError("emailSame")&&l.push(d),i&&p.hasError("emailSamePS")&&l.push(d),!i&&!a&&p.hasError("email")&&l.push(d),(p instanceof m.UntypedFormGroup||p instanceof m.UntypedFormArray)&&r(p)})};return r(e),l}updateStudentParents(){if(this.checkFormValidity())return;const e=this.checkInvalidFieldParent(),a=this.checkInvalidFieldPaymentSupports();if(this.hasErrorEmailSameAsStudentParent=this.checkEmailSameWithStudentForParent(),this.hasErrorEmailSameAsStudentFinancialSupport=this.checkEmailSameWithStudentForPaymentSupport(),this.hasErrorEmailSameAsStudentFinancialSupport)c().fire({type:"warning",title:this.translate.instant("Followup_S13s.Title"),html:this.translate.instant("Followup_S13s.Text"),confirmButtonText:this.translate.instant("Followup_S13s.Button")});else if(this.hasErrorEmailSameAsStudentParent)c().fire({type:"warning",title:this.translate.instant("Followup_S14s.Title"),html:this.translate.instant("Followup_S14s.Text"),confirmButtonText:this.translate.instant("Followup_S14s.Button")});else if(e||a)c().fire({type:"warning",title:this.translate.instant("Invalid_Format.Title"),html:this.translate.instant("Invalid_Format.Text"),confirmButtonText:this.translate.instant("Invalid_Format.Button")});else{this.isWaitingForResponse=!0;const i=this.parentsForm.value;i&&i.parents&&i.parents.length&&i.parents.forEach((r,s)=>{this.isMainAddressSelected[s]||(console.log(this.parentAddressArrayForm(s).at(0)),this.parentAddressArrayForm(s).at(0)&&this.parentAddressArrayForm(s).at(0).get("is_main_address").patchValue(!0))}),i&&i.parents&&i.parents.length&&i.parents.forEach((r,s)=>{r?._id||delete r?._id,"not_financial_support"!==r?.financial_support_status&&r?.financial_support_status||!r?.is_parent_also_payment_support?r?.is_parent_also_payment_support||(r.financial_support_status="not_financial_support"):r.financial_support_status="pending"}),this.subs.sink=this.candidatesService.UpdateCandidate(this.candidate._id,i,!0).subscribe(r=>{this.isWaitingForResponse=!1,r&&c().fire({type:"success",title:"Bravo !"}).then(s=>{this.reloadData.emit(!0)})},r=>{this.isWaitingForResponse=!1,r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():"GraphQL error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===r.message||"GraphQL error: Error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===r.message?c().fire({type:"info",title:this.translate.instant("LEGAL_S5.Title"),text:this.translate.instant("LEGAL_S5.Text"),confirmButtonText:this.translate.instant("LEGAL_S5.Button")}):"GraphQL error: Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"===r.message||r.message.includes("Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit")?c().fire({type:"info",title:this.translate.instant("EUROPEAN_COUNTRIES.TITLE"),html:this.translate.instant("EUROPEAN_COUNTRIES.TEXT"),confirmButtonText:this.translate.instant("EUROPEAN_COUNTRIES.BUTTON")}):r.message.includes("is invalid. Please enter a valid IBAN.")?c().fire({type:"info",title:this.translate.instant("IBAN_S1.Title"),text:this.translate.instant("IBAN_S1.Text"),confirmButtonText:this.translate.instant("IBAN_S1.Button")}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}checkFormValidity(){return!!this.parentsForm.invalid&&(c().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.parentsForm.markAllAsTouched(),!0)}checkCountry(){const e=this.parentsForm.value;let a=!1;return e.parents.forEach(i=>{i?.parent_address?.forEach(l=>{console.log(l?.country,this.countries),this.countries.includes(l?.country)||(a=!0,l.country="")})}),e.payment_supports.forEach(i=>{i?.parent_address?.forEach(l=>{console.log(l?.country,this.countrieSupport),this.countrieSupport.includes(l?.country)||(a=!0,l.country="")})}),this.parentsForm.patchValue(e),a}autorizationAccount(e){e&&e?.payment_supports.length&&e?.payment_supports.forEach((a,i)=>{this.paymentSupportsForm?.controls[i].patchValue({autorization_account:a?.autorization_account})})}markAllFieldsAsTouched(e){Object.keys(e.controls).forEach(a=>{const i=e.get(a);if(i instanceof m.UntypedFormControl)i.markAsTouched({onlySelf:!0});else if(i instanceof m.UntypedFormGroup)this.markAllFieldsAsTouched(i);else if(i instanceof m.UntypedFormArray)for(const l of i.controls)l.markAllAsTouched()})}comparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.parentsForm.value)}getPostcodeDataSupport(e){console.log(this.paymentAddressArrayForm,e);const a=this.paymentAddressArrayForm(e).at(0).get("country").value,i=this.paymentAddressArrayForm(e).at(0).get("postal_code").value;i&&i.length>3&&a&&"france"===a?.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(i,a).subscribe(l=>{l&&l.length&&(this.setAddressDropdownSupport(l,e),this.paymentAddressArrayForm(e).at(0).get("city").setValue(this.citySupport[e][0][0]),this.paymentAddressArrayForm(e).at(0).get("department").setValue(this.departmentSupport[e][0][0]),this.paymentAddressArrayForm(e).at(0).get("region").setValue(this.regionSupport[e][0][0]))},l=>{l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}setAddressDropdownSupport(e,a){const i=[],l=[],r=[];e&&e.length&&(e.forEach(s=>{i.push(s?.city),l.push(s?.department),r.push(s?.province)}),this.citySupport[a][0]=h.uniq(i),this.departmentSupport[a][0]=h.uniq(l),this.regionSupport[a][0]=h.uniq(r),this.filteredCitySupport[a][0]=this.citySupport[a][0],this.filteredDepartmentSupport[a][0]=this.departmentSupport[a][0],this.filteredRegionSupport[a][0]=this.regionSupport[a][0])}filterCountrySupport(e){if(this.paymentAddressArrayForm(e)?.at(0)?.get("country")?.value){const a=this.paymentAddressArrayForm(e)?.at(0)?.get("country")?.value?.toLowerCase().trim();this.filteredCountrySupport[e][0]=this.countrieSupport.filter(i=>this.translate.instant("COUNTRY."+i)?.toLowerCase().trim().includes(a))}}filterCitySupport(e){if(this.citySupport[e][0]&&this.citySupport[e][0].length&&this.paymentAddressArrayForm(e)?.at(0)?.get("city")?.value){const a=this.paymentAddressArrayForm(e)?.at(0)?.get("city")?.value?.toLowerCase().trim();this.filteredCitySupport[e][0]=this.citySupport[e][0].filter(i=>i?.toLowerCase().trim().includes(a))}}filterDepartmentSupport(e){if(this.departmentSupport[e][0]&&this.departmentSupport[e][0].length&&this.paymentAddressArrayForm(e)?.at(0)?.get("department")?.value){const a=this.paymentAddressArrayForm(e)?.at(0)?.get("department")?.value?.toLowerCase().trim();this.filteredDepartmentSupport[e][0]=this.departmentSupport[e][0].filter(i=>i?.toLowerCase().trim().includes(a))}}filterRegionSupport(e){if(this.regionSupport[e][0]&&this.regionSupport[e][0].length){const a=this.paymentAddressArrayForm(e).at(0).get("region").value.toLowerCase().trim();this.filteredRegionSupport[e][0]=this.regionSupport[e][0].filter(i=>i?.toLowerCase().trim().includes(a))}}countrySelected(){this.isResetCountry=!1}nationality1Selected(){this.isResetNationality=!1}compareEmailWithStudentFinancialSupport(e){const a=this.paymentSupportsForm?.at(e)?.get("email")?.value;(a===this.candidate.email||a===this.candidate.school_mail)&&!this.paymentSupportsForm?.at(e)?.get("email")?.hasError("required")&&this.paymentSupportsForm?.at(e)?.get("email")?.setErrors({emailSamePS:!0})}compareEmailWithStudentParent(e){const a=this.parentsArrayForm?.at(e)?.get("email")?.value;(a===this.candidate.email||a===this.candidate.school_mail)&&!this.parentsArrayForm?.at(e)?.get("email")?.hasError("required")&&this.parentsArrayForm?.at(e)?.get("email")?.setErrors({emailSame:!0})}sendingPayN3(){let e=5;c().fire({title:this.translate.instant("PAYMENT_INFORMATION_S1.TITLE"),html:this.translate.instant("PAYMENT_INFORMATION_S1.TEXT",{name:this.candidate.first_name+" "+this.candidate.last_name+" "+("neutral"===this.candidate.civility?"":this.translate.instant(this.candidate.civility))}),type:"info",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("PAYMENT_INFORMATION_S1.BUTTON1",{timer:e}),cancelButtonText:this.translate.instant("PAYMENT_INFORMATION_S1.BUTTON2"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const a=c().getConfirmButton(),i=setInterval(()=>{e-=1,a.innerText=this.translate.instant("PAYMENT_INFORMATION_S1.BUTTON1")+` (${e})`},1e3);this.timeOutVal=setTimeout(()=>{a.innerText=this.translate.instant("PAYMENT_INFORMATION_S1.BUTTON1"),c().enableConfirmButton(),clearInterval(i),clearTimeout(this.timeOutVal)},1e3*e)}}).then(a=>{clearTimeout(this.timeOutVal),a.value&&(this.isWaitingForResponse=!0,this.subs.sink=this.termPaymentService.SendPayN3(this.candidate._id).subscribe(i=>{this.isWaitingForResponse=!1,i&&c().fire({type:"success",title:"Bravo !"})},i=>{this.isWaitingForResponse=!1,i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}decimalFunction(e){let a=e;return a&&(a=a.toFixed(2)),a}getAllBilling(){this.subs.sink=this.financeService?.getAllBillingContract({candidate_id:this.candidate?._id})?.subscribe(a=>{if(a?.length){const i=h.cloneDeep(a);this.billingData=i}},a=>{this.authService.postErrorLog(a),a&&c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}costCoverageFS(e,a){let i;if(e&&a?.length)return i=a?.filter(l=>l?.is_financial_support),i=i?.filter(l=>l?.financial_support_info?._id===e),i[0]?.amount_billed}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(m.UntypedFormBuilder),t.\u0275\u0275directiveInject(tt.F0),t.\u0275\u0275directiveInject(mt.o),t.\u0275\u0275directiveInject(Gt.E),t.\u0275\u0275directiveInject(vt.r),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(ot.$),t.\u0275\u0275directiveInject(nt.Z),t.\u0275\u0275directiveInject(xt.p),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(Hb.V),t.\u0275\u0275directiveInject(ht.N),t.\u0275\u0275directiveInject(L.e))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-contacts-tab"]],inputs:{candidate:"candidate",countryCodeList:"countryCodeList"},outputs:{nextStep:"nextStep",reloadData:"reloadData"},features:[t.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[["class","p-grid","class","p-col-12","style","text-align: center !important; display: contents",4,"ngIf"],["class","p-grid",3,"formGroup",4,"ngIf"],[1,"p-col-12",2,"text-align","center !important","display","contents"],[1,"center-spinner","spinner-wrapper"],["color","accent"],[1,"p-grid",3,"formGroup"],[1,"p-col-12",2,"padding-left","0px","padding-right","0px"],["id","parent1",1,"p-grid",2,"margin-top","0.5rem"],[1,"p-col-12",2,"text-align","right","padding-right","0px"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[1,"mat-icon-default"],["class","fieldset-class",4,"ngIf"],[1,"fieldset-class"],[1,"overlow-auto"],[1,"p-grid"],[1,"p-col-12",2,"text-align","right","margin-bottom","1rem","padding","0px","width","100.7%"],["mat-icon-button","","color","success",1,"small-icon",3,"click"],["class","p-grid","formArrayName","parents",4,"ngIf"],["formArrayName","payment_supports",1,"p-grid"],["class","p-col-12 yellow-border",3,"ngStyle","formGroupName",4,"ngFor","ngForOf"],[1,"p-col-12","yellow-border",3,"ngStyle","formGroupName"],[1,"p-grid",2,"margin-top","5px"],[1,"p-col-6","no-padding-y"],["formControlName","relation","panelClass","filterPanel custom-matselect-dropdown"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"p-col-6","no-padding-y",2,"align-self","center"],[1,"p-col-6","no-padding",2,"align-self","center"],[1,"p-col-12","no-padding",2,"align-self","center","display","flex"],["matTooltipPosition","above","class","green-icon","aria-hidden","true",4,"ngIf"],["matTooltipPosition","above","class","blue-icon","aria-hidden","true",4,"ngIf"],[2,"margin-left","5px"],[1,"p-grid",2,"padding-bottom","1rem"],[1,"p-col-6","no-padding-y",2,"padding-left","0px"],[1,"p-col-fixed","no-padding-y","center-label",2,"width","50px"],[1,"p-col","no-padding-y"],["formControlName","civility"],["value","MR",2,"margin-right","1rem"],["value","MRS"],["floatLabel","auto"],["matInput","","formControlName","name","type","text",3,"placeholder"],[1,"p-col-5","no-padding-y"],["matInput","","formControlName","family_name","type","text",3,"placeholder"],[1,"phone-number","p-col-12","no-padding-y","p-grid",2,"position","relative"],[1,"label-for-phone"],[1,"phone-number","p-col-2"],["bindLabel","name",1,"custom-dropdownpanel-dialcode",3,"formControl","clearable","appendTo","change"],["ng-label-tmp",""],[1,"phone-number","p-col-10"],["matInput","","formControlName","tele_phone","type","text"],["matInput","","formControlName","email","type","email",3,"placeholder","keyup"],[1,"p-col-6","no-padding"],[1,"p-col","no-padding-y","pad-right-15"],["matInput","","formControlName","account_holder_name","type","text"],["matInput","","formControlName","iban","type","text"],[1,"p-col-5","no-padding","pad-left-5"],["matInput","","formControlName","bic","type","text"],[1,"p-grid",2,"padding-left","8px"],[1,"p-col-12","no-padding"],["formArrayName","parent_address",1,"p-grid",2,"padding-top","10px"],["class","p-col-12 mb-1rem border-white","style","padding-bottom: 0px; margin-left: 7px; margin-right: 7px !important; width: 98%",3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],["matTooltipPosition","above","aria-hidden","true",1,"green-icon"],["matTooltipPosition","above","aria-hidden","true",1,"blue-icon"],["value","neutral",2,"margin-left","1rem"],[1,"flag-icon-trigger",3,"src"],["class","ml-4",4,"ngIf"],[1,"ml-4"],[1,"flag-icon",3,"src"],[1,"p-col-12","mb-1rem","border-white",2,"padding-bottom","0px","margin-left","7px","margin-right","7px !important","width","98%",3,"formGroupName"],[1,"p-col-12","no-padding-y",2,"padding-top","10px"],[1,"p-grid","flex-hidden-mr-1"],["color","accent","floatLabel","auto",1,"full-width"],["matInput","","type","text","formControlName","address",3,"placeholder"],[1,"p-col-12","no-padding-y"],[1,"p-col-4","no-padding"],["color","accent",1,"full-width"],["matInput","","type","text","formControlName","postal_code",3,"placeholder","keyup"],["type","text","matInput","","formControlName","country",3,"placeholder","matAutocomplete","keyup"],[3,"panelWidth","displayWith","optionSelected"],["autoCountry","matAutocomplete"],[1,"p-col-12","no-padding-y",2,"padding-bottom","0px"],["type","text","matInput","","formControlName","city",3,"placeholder","matAutocomplete","keyup"],[3,"panelWidth"],["autoCity","matAutocomplete"],["type","text","matInput","","formControlName","department",3,"placeholder","matAutocomplete","keyup"],["autoDepartment","matAutocomplete"],["type","text","matInput","","formControlName","region",3,"placeholder","matAutocomplete","keyup"],["autoRegion","matAutocomplete"],["formArrayName","parents",1,"p-grid"],[1,"p-col-12","no-padding",2,"align-self","center","margin-top","16px"],[1,"p-col-6",2,"text-align","right","font-size","12px",3,"click"],["mat-icon-button","","color","red",1,"small-icon"],[1,"p-grid",3,"ngStyle"],[1,"p-col-12","no-padding-y",2,"align-self","center"],[1,"p-grid",2,"align-items","center !important"],[1,"p-col-6"],["class","p-grid","formArrayName","parent_address","style","padding-top: 10px",4,"ngIf"],["class","p-grid",4,"ngIf"],[2,"display","flex"],["formControlName","is_parent_also_payment_support"],["style","font-size: 12px",3,"ngStyle",4,"ngIf"],[2,"font-size","12px",3,"ngStyle"],[2,"display","flex","flex-direction","column","gap","16px"],[1,"p-col-12","no-padding",2,"align-self","center"],["formControlName","is_contact_person_in_emergency"],[1,"p-col-5"],[1,"p-col-5","no-padding-y",2,"align-self","center"],["formControlName","is_same_address",3,"change"],[1,"p-col-5","no-padding"],[1,"p-col-12","text-right"],["formControlName","is_main_address",3,"change",4,"ngIf"],["mat-icon-button","","color","red",1,"small-icon",3,"click"],["formControlName","is_main_address",3,"change"],[3,"ngStyle"],[1,"p-col-12","no-padding-y",2,"font-size","12px","text-align","right","margin-bottom","0px","padding","0px","width","100.7%","padding-right","5px"]],template:function(e,a){1&e&&(t.\u0275\u0275template(0,Wb,3,0,"div",0),t.\u0275\u0275template(1,ux,21,10,"div",1)),2&e&&(t.\u0275\u0275property("ngIf",a.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.isWaitingForResponse))},dependencies:[f.sg,f.O5,f.PC,gt.XC,gt.ZL,Q.ey,I.lW,ft.a8,k.Hw,S.TO,S.KE,S.hX,z.Nt,D.Ou,It.VQ,It.U0,it.gD,jb.Rr,m.DefaultValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.FormControlDirective,m.FormGroupDirective,m.FormControlName,m.FormGroupName,m.FormArrayName,H.Zl,K.w9,K.jq,K.mR,f.H9,M.X$],styles:[".border-white[_ngcontent-%COMP%]{border:1px solid white}.center-label[_ngcontent-%COMP%]{align-self:center}.no-padding[_ngcontent-%COMP%]{padding:0}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}.fieldset-class[_ngcontent-%COMP%]{padding:0;border:0px}label[_ngcontent-%COMP%]{font-size:12px!important}.btn-student[_ngcontent-%COMP%]{line-height:30px;font-size:12px!important;border-radius:2px}.spinner-wrapper[_ngcontent-%COMP%]{width:100%;height:320px;display:flex;justify-content:center;align-items:center;top:0;left:0;z-index:998}.overlow-auto[_ngcontent-%COMP%]{margin-top:0!important;overflow:auto}.green-icon[_ngcontent-%COMP%]{color:#adff2f}.blue-icon[_ngcontent-%COMP%]{color:#2f3dff}  .filterPanel{margin-top:40px!important}  .custom-matselect-dropdown.mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}.flag-icon[_ngcontent-%COMP%]{vertical-align:text-top;margin-right:12px;height:14px;width:20px;display:inline-block}.flag-icon-trigger[_ngcontent-%COMP%]{vertical-align:text-top;margin-right:2px;height:16px;width:16px;display:inline-block}.border-button[_ngcontent-%COMP%]{border-bottom:1px solid #dadada}.phone-number.p-col-2[_ngcontent-%COMP%], .phone-number.p-col-10[_ngcontent-%COMP%], .phone-number.p-col-12[_ngcontent-%COMP%]{padding:0!important}.phone-number.p-col-2[_ngcontent-%COMP%]{padding-right:0!important}.phone-number.p-col-10[_ngcontent-%COMP%]{padding-left:12px!important}.label-for-phone[_ngcontent-%COMP%]{bottom:42px;position:absolute;font-size:14px;color:#aaa;font-weight:700}.ml-4[_ngcontent-%COMP%]{margin-left:4px}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgba(241,241,241,.8)!important;box-shadow:unset;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important;margin-top:6px!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important;margin-top:8px!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}  .ng-dropdown-panel.custom-dropdownpanel-dialcode{width:-moz-fit-content!important;width:fit-content!important}"]}),n})();function hx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",2)(1,"div",3),t.\u0275\u0275element(2,"mat-spinner",4),t.\u0275\u0275elementEnd()())}function fx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function bx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Cx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function xx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Invalid email format")," "))}function yx(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",34),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().item;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("+",null==e?null:e.dialCode,"")}}function vx(n,o){if(1&n&&(t.\u0275\u0275element(0,"img",32),t.\u0275\u0275template(1,yx,2,1,"span",33)),2&n){const e=o.item,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("src",a.flagsIconPath+(null==e?null:e.flagIcon)+".svg",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e)}}function Tx(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"img",36),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("src",a.flagsIconPath+(null==e?null:e.flagIcon)+".svg",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,3,null==e?null:e.name)," +",null==e?null:e.dialCode," ")}}function Mx(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"ng-option",35),t.\u0275\u0275template(1,Tx,4,5,"ng-container",14),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.name)}}function Sx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Phone number is not valid")," "))}function Ox(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error",37),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Px(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",35),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"CARDDETAIL.RELATION."+e),"")}}function wx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Dx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ex(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ix(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function kx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Invalid email format")," "))}function Fx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"p",44),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This email has been used by the student")," "))}function Bx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ax(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Phone number is not valid")," "))}function Nx(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",35),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"CARDDETAIL.RELATION."+e),"")}}function Rx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Vx(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",5)(2,"div",38),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"mat-card",11)(6,"div",5)(7,"div",12)(8,"mat-form-field"),t.\u0275\u0275element(9,"input",39),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275template(11,Dx,3,3,"mat-error",14),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",12)(13,"mat-form-field"),t.\u0275\u0275element(14,"input",40),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275template(16,Ex,3,3,"mat-error",14),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(17,"div",12)(18,"mat-form-field"),t.\u0275\u0275element(19,"input",16),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275elementStart(21,"mat-error"),t.\u0275\u0275template(22,Ix,3,3,"p",14),t.\u0275\u0275template(23,kx,3,3,"p",14),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(24,Fx,3,3,"p",41),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(25,"div",12)(26,"mat-form-field"),t.\u0275\u0275element(27,"input",42),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275template(29,Bx,3,3,"mat-error",14),t.\u0275\u0275template(30,Ax,3,3,"mat-error",14),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(31,"div",12)(32,"mat-form-field")(33,"mat-label"),t.\u0275\u0275text(34),t.\u0275\u0275pipe(35,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(36,"mat-select",43),t.\u0275\u0275template(37,Nx,3,4,"mat-option",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(38,Rx,3,3,"mat-error",14),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(39,"div",5)(40,"div",12)(41,"mat-form-field"),t.\u0275\u0275element(42,"input",29),t.\u0275\u0275pipe(43,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(44,"div",12)(45,"mat-form-field"),t.\u0275\u0275element(46,"input",30),t.\u0275\u0275pipe(47,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(48,"div",12)(49,"mat-form-field"),t.\u0275\u0275element(50,"input",31),t.\u0275\u0275pipe(51,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);let a;t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,19,"Legal representative")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("formGroup",e.legalRepresentative),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(10,21,"CARDDETAIL.Last Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.legalRepresentative.get("last_name").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(15,23,"CARDDETAIL.First Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.legalRepresentative.get("first_name").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(20,25,"CARDDETAIL.Mail")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",e.legalRepresentative.get("email").hasError("required")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.legalRepresentative||null==(a=e.legalRepresentative.get("email"))?null:a.hasError("email"))&&((null==e.legalRepresentative||null==(a=e.legalRepresentative.get("email"))?null:a.touched)||(null==e.legalRepresentative||null==(a=e.legalRepresentative.get("email"))?null:a.dirty))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.emailSameStudent),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(28,27,"CARDDETAIL.Phone")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.legalRepresentative.get("phone_number").hasError("required")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.legalRepresentative.get("phone_number").hasError("pattern")&&(e.legalRepresentative.get("phone_number").touched||e.legalRepresentative.get("phone_number").dirty)),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(35,29,"CARDDETAIL.Relations")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",e.relationList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.legalRepresentative.get("parental_link").hasError("required")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(43,31,"CARDDETAIL.Address")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(47,33,"CARDDETAIL.City")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(51,35,"CARDDETAIL.Zip Code"))}}function Lx(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",5)(1,"div",6)(2,"div",5)(3,"div",7)(4,"button",8),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onSave())}),t.\u0275\u0275elementStart(5,"mat-icon",9),t.\u0275\u0275text(6,"save"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(9,"div",5)(10,"div",10),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(13,"mat-card",11)(14,"div",5)(15,"div",12)(16,"mat-form-field"),t.\u0275\u0275element(17,"input",13),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275template(19,fx,3,3,"mat-error",14),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"div",12)(21,"mat-form-field"),t.\u0275\u0275element(22,"input",15),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275template(24,bx,3,3,"mat-error",14),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(25,"div",12)(26,"mat-form-field"),t.\u0275\u0275element(27,"input",16),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275elementStart(29,"mat-error"),t.\u0275\u0275template(30,Cx,3,3,"p",14),t.\u0275\u0275template(31,xx,3,3,"p",14),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(32,"div",12)(33,"div",17)(34,"div",18)(35,"mat-label",19),t.\u0275\u0275text(36),t.\u0275\u0275pipe(37,"translate"),t.\u0275\u0275elementStart(38,"span",20),t.\u0275\u0275text(39,"* "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(40,"div",21)(41,"ng-select",22),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.selectionDialCode(i))}),t.\u0275\u0275template(42,vx,2,2,"ng-template",23),t.\u0275\u0275template(43,Mx,2,2,"ng-option",24),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(44,"div",25)(45,"mat-form-field"),t.\u0275\u0275element(46,"input",26),t.\u0275\u0275template(47,Sx,3,3,"mat-error",14),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(48,Ox,3,3,"mat-error",27),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(49,"div",12)(50,"mat-form-field")(51,"mat-label"),t.\u0275\u0275text(52),t.\u0275\u0275pipe(53,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(54,"mat-select",28),t.\u0275\u0275template(55,Px,3,4,"mat-option",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(56,wx,3,3,"mat-error",14),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(57,"div",5)(58,"div",12)(59,"mat-form-field"),t.\u0275\u0275element(60,"input",29),t.\u0275\u0275pipe(61,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(62,"div",12)(63,"mat-form-field"),t.\u0275\u0275element(64,"input",30),t.\u0275\u0275pipe(65,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(66,"div",12)(67,"mat-form-field"),t.\u0275\u0275element(68,"input",31),t.\u0275\u0275pipe(69,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(70,Vx,52,37,"ng-container",14),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();let a,i;t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,25,"CARDDETAIL.Save")," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(12,27,"User to contact in case of emergency")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("formGroup",e.emergencyContact),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(18,29,"CARDDETAIL.Last Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.emergencyContact.get("family_name").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(23,31,"CARDDETAIL.First Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.emergencyContact.get("name").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(28,33,"CARDDETAIL.Mail")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",e.emergencyContact.get("email").hasError("required")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.emergencyContact||null==(a=e.emergencyContact.get("email"))?null:a.hasError("email"))&&((null==e.emergencyContact||null==(a=e.emergencyContact.get("email"))?null:a.touched)||(null==e.emergencyContact||null==(a=e.emergencyContact.get("email"))?null:a.dirty))),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(37,35,"CARDDETAIL.Phone")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",e.dialCodeControl.hasError("required")&&(e.dialCodeControl.dirty||e.dialCodeControl.touched)||e.emergencyContact.get("tele_phone").hasError("pattern")&&(e.emergencyContact.get("tele_phone").touched||e.emergencyContact.get("tele_phone").dirty)?"invalid-field-star":""),t.\u0275\u0275advance(3),t.\u0275\u0275property("formControl",e.dialCodeControl)("clearable",!1)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.countryCodeList),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",e.emergencyContact.get("tele_phone").hasError("pattern")&&(e.emergencyContact.get("tele_phone").touched||e.emergencyContact.get("tele_phone").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",((null==e.emergencyContact||null==(i=e.emergencyContact.get("tele_phone"))?null:i.hasError("required"))&&((null==e.emergencyContact||null==(i=e.emergencyContact.get("tele_phone"))?null:i.dirty)||(null==e.emergencyContact||null==(i=e.emergencyContact.get("tele_phone"))?null:i.touched))||(null==e.emergencyContact||null==(i=e.emergencyContact.get("tele_phone"))?null:i.hasError("required"))&&((null==e.emergencyContact||null==(i=e.emergencyContact.get("tele_phone"))?null:i.dirty)||(null==e.emergencyContact||null==(i=e.emergencyContact.get("tele_phone"))?null:i.touched))||e.dialCodeControl.hasError("required")&&(e.dialCodeControl.dirty||e.dialCodeControl.touched))&&!e.emergencyContact.get("tele_phone").hasError("pattern")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(53,37,"CARDDETAIL.Relations")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",e.relationList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.emergencyContact.get("relation").hasError("required")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(61,39,"CARDDETAIL.Address")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(65,41,"CARDDETAIL.City")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(69,43,"CARDDETAIL.Zip Code")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!1===(null==e.candidateData?null:e.candidateData.is_emancipated_minor)&&!e.showFinacment)}}let Ux=(()=>{class n{constructor(e,a,i,l,r,s,d){this.fb=e,this.userService=a,this.candidateService=i,this.translate=l,this.studentsService=r,this.authService=s,this.admissionService=d,this.subs=new w.Y,this.reloadData=new t.EventEmitter,this.isWaitingForResponse=!1,this.relationList=["father","mother","grandfather","grandmother","uncle","aunt","other"],this.flagsIconPath="../../../../../assets/icons/flags-nationality/",this.countryCodeList=[],this.dialCodeControl=new m.UntypedFormControl(null,m.Validators.required),this.emailSameStudent=!1}ngOnInit(){this.initEmergencyContact(),this.getCandidateContact()}initEmergencyContact(){this.emergencyContact=this.fb.group({_id:[null],relation:[null,[m.Validators.required]],family_name:[null,[m.Validators.required]],name:[null,[m.Validators.required]],tele_phone:[null,[m.Validators.required,m.Validators.pattern("[- ()0-9]+")]],email:[null,[m.Validators.required,Et.dN.email]],address:[null],city:[null],postal_code:[null],phone_number_indicative:[null,m.Validators.required]}),this.legalRepresentative=this.fb.group({unique_id:[null],first_name:[null,[m.Validators.required]],last_name:[null,[m.Validators.required]],email:[null,[m.Validators.required,Et.dN.email]],phone_number:[null,[m.Validators.required,m.Validators.pattern("[- +()0-9]+")]],parental_link:[null,[m.Validators.required]],address:[null],city:[null],postal_code:[null]})}selectionDialCode(e){this.emergencyContact?.get("phone_number_indicative")?.reset(),this.emergencyContact?.get("phone_number_indicative")?.patchValue(e?.dialCode)}getCandidateContact(){this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.getOneCandidate(this.candidate_id).subscribe(e=>{this.isWaitingForResponse=!1;const a=h.cloneDeep(e);if(this.candidateData=h.cloneDeep(e),a?.emergency_contacts?.length&&a?.emergency_contacts[0]){let i=a?.emergency_contacts[0];if(i?.parent_address?.length&&(i.address=i?.parent_address[0]?.address,i.city=i?.parent_address[0]?.city,i.postal_code=i?.parent_address[0]?.postal_code),i&&(this.emergencyContact.patchValue(i),i?.phone_number_indicative)){const l=this.countryCodeList?.findIndex(r=>r?.dialCode===i?.phone_number_indicative);l>=0&&this.dialCodeControl?.patchValue(this.countryCodeList[l])}}!1===a?.is_emancipated_minor&&this.legalRepresentative.patchValue(a?.legal_representative)},e=>{this.isWaitingForResponse=!1,e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}createPayload(){const e=this.emergencyContact.value,a={address:e.address,city:e.city,postal_code:e.postal_code};return delete e.address,delete e.city,delete e.postal_code,delete e._id,e.parent_address=[a],{emergency_contacts:[e]}}createPayloadLegalRepresentative(){return{legal_representative:this.legalRepresentative.value}}onSave(){if(this.emailSameStudent=!1,"legal_representative"!==this.candidateData?.personal_information||this.showFinacment){if(this.emergencyContact.invalid)return c().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),void this.emergencyContact.markAllAsTouched()}else if(this.emergencyContact.invalid||this.legalRepresentative.invalid)return c().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.emergencyContact.markAllAsTouched(),void this.legalRepresentative.markAllAsTouched();const e=this.createPayloadLegalRepresentative(),a=this.createPayload(),i={...e,...a};this.isWaitingForResponse=!0,"legal_representative"!==this.candidateData?.personal_information||this.showFinacment?this.subs.sink=this.studentsService.updateCandidate(this.candidate_id,a,!0).subscribe(r=>{this.isWaitingForResponse=!1,this.successfullUpdate()},r=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(r),this.unSuccessfullUpdate(r)}):this.legalRepresentative?.get("email").value===this.candidateService.candidateOneStduent.value.email?(this.emailSameStudent=!0,this.isWaitingForResponse=!1,c().fire({type:"warning",title:this.translate.instant("SORRY"),text:this.translate.instant("This email has been used by the student"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1})):this.subs.sink=this.studentsService.updateCandidate(this.candidate_id,i,!0).subscribe(s=>{this.isWaitingForResponse=!1,this.successfullUpdate()},s=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(s),this.unSuccessfullUpdate(s)})}successfullUpdate(){c().fire({type:"success",title:this.translate.instant("Bravo"),confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{this.getCandidateContact()})}unSuccessfullUpdate(e){c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(m.UntypedFormBuilder),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(mt.o),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(Ot.q),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(Rt.w))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-new-contact-tab-detail"]],inputs:{candidate_id:"candidate_id",showFinacment:"showFinacment",countryCodeList:"countryCodeList"},outputs:{reloadData:"reloadData"},decls:2,vars:2,consts:[["class","p-grid","class","p-col-12","style","text-align: center !important; display: contents",4,"ngIf"],["class","p-grid",4,"ngIf"],[1,"p-col-12",2,"text-align","center !important","display","contents"],[1,"center-spinner","spinner-wrapper"],["color","accent"],[1,"p-grid"],[1,"p-col-12",2,"padding-left","0px","padding-right","0px"],[1,"p-col-12",2,"text-align","right"],["mat-raised-button","","color","accent",3,"click"],[1,"mat-icon-default"],[1,"p-col-12"],[2,"margin-top","0 !important",3,"formGroup"],[1,"p-col-4"],["matInput","","formControlName","family_name","type","text",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","name","type","text",3,"placeholder"],["matInput","","formControlName","email","type","email",3,"placeholder"],[1,"p-grid",2,"position","relative"],[1,"phone-number","p-col-12","no-padding-y","p-grid",2,"position","relative"],[1,"label-for-phone"],[3,"ngClass"],[1,"phone-number","p-col-3"],["bindLabel","name",1,"custom-dropdownpanel-dialcode",3,"formControl","clearable","appendTo","change"],["ng-label-tmp",""],[3,"value",4,"ngFor","ngForOf"],[1,"phone-number","p-col-9"],["matInput","","formControlName","tele_phone","type","text"],["class","invalid-field",4,"ngIf"],["formControlName","relation","panelClass","filterPanel custom-matselect-dropdown"],["matInput","","formControlName","address","type","text",3,"placeholder"],["matInput","","formControlName","city","type","text",3,"placeholder"],["matInput","","formControlName","postal_code","type","text",3,"placeholder"],[1,"flag-icon-trigger",3,"src"],["class","ml-4",4,"ngIf"],[1,"ml-4"],[3,"value"],[1,"flag-icon",3,"src"],[1,"invalid-field"],[1,"p-col-12",2,"margin-top","1rem"],["matInput","","formControlName","last_name","type","text",3,"placeholder"],["matInput","","formControlName","first_name","type","text",3,"placeholder"],["class","error-message",4,"ngIf"],["matInput","","formControlName","phone_number","type","text",3,"placeholder"],["formControlName","parental_link","panelClass","filterPanel custom-matselect-dropdown"],[1,"error-message"]],template:function(e,a){1&e&&(t.\u0275\u0275template(0,hx,3,0,"div",0),t.\u0275\u0275template(1,Lx,71,45,"div",1)),2&e&&(t.\u0275\u0275property("ngIf",a.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.isWaitingForResponse))},dependencies:[f.mk,f.sg,f.O5,Q.ey,I.lW,ft.a8,k.Hw,S.TO,S.KE,S.hX,z.Nt,D.Ou,it.gD,m.DefaultValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.FormControlDirective,m.FormGroupDirective,m.FormControlName,H.oO,K.w9,K.jq,K.mR,M.X$],styles:[".spinner-wrapper[_ngcontent-%COMP%]{width:100%;height:320px;display:flex;justify-content:center;align-items:center;top:0;left:0;z-index:998}.invalid-field[_ngcontent-%COMP%]{position:absolute;bottom:-4px;font-size:12px}.invalid-field-star[_ngcontent-%COMP%]{color:#ff5722}.flag-icon[_ngcontent-%COMP%]{vertical-align:text-top;margin-right:12px;height:14px;width:20px;display:inline-block}.flag-icon-trigger[_ngcontent-%COMP%]{vertical-align:text-top;margin-right:2px;height:16px;width:16px;display:inline-block}  .custom-matselect-dropdown.mat-select-panel{width:-moz-fit-content!important;width:fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important;max-width:-moz-fit-content!important;max-width:fit-content!important}.error-message[_ngcontent-%COMP%]{font-size:75%;color:#ff5722;margin-top:-12px}.border-button[_ngcontent-%COMP%]{border-bottom:1px solid #dadada}.phone-number.p-col-3[_ngcontent-%COMP%], .phone-number.p-col-9[_ngcontent-%COMP%], .phone-number.p-col-12[_ngcontent-%COMP%]{padding:0!important}.phone-number.p-col-3[_ngcontent-%COMP%]{padding-right:0!important}.phone-number.p-col-9[_ngcontent-%COMP%]{padding-left:12px!important}.label-for-phone[_ngcontent-%COMP%]{position:absolute;font-size:14px;color:#aaa;font-weight:700;bottom:42px}.ml-4[_ngcontent-%COMP%]{margin-left:4px}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgba(241,241,241,.8)!important;box-shadow:unset;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important;margin-top:6px!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important;margin-top:8px!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}  .ng-dropdown-panel.custom-dropdownpanel-dialcode{width:-moz-fit-content!important;width:fit-content!important}"]}),n})();function zx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Financial Support")))}function $x(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-student-contacts-tab",5),t.\u0275\u0275listener("reloadData",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.reload(i))}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("countryCodeList",e.countryCodeList)("candidate",e.candidate)}}function Hx(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Contact")))}function jx(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-student-new-contact-tab-detail",6),t.\u0275\u0275listener("reloadData",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.reload(i))}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("countryCodeList",e.countryCodeList)("showFinacment",e.showFinacment)("candidate_id",null==e.candidate?null:e.candidate._id)}}let Wx=(()=>{class n{constructor(e,a){this.utilService=e,this.translate=a,this.reloadDataParent=new t.EventEmitter,this.subs=new w.Y}ngOnInit(){this.subs.sink=this.translate.onLangChange.subscribe(()=>{this.sortCountryCode()})}sortCountryCode(){this.countryCodeList=this.countryCodeList.sort((e,a)=>this.utilService.simplifyRegex(this.translate.instant(e?.name))<this.utilService.simplifyRegex(this.translate.instant(a?.name))?-1:this.utilService.simplifyRegex(this.translate.instant(e?.name))>this.utilService.simplifyRegex(this.translate.instant(a?.name))?1:0)}reload(e){e&&this.reloadDataParent.emit(e)}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(rt.t),t.\u0275\u0275directiveInject(M.sK))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-new-contacts-tab"]],inputs:{candidate:"candidate",countryCodeList:"countryCodeList",showFinacment:"showFinacment"},outputs:{reloadDataParent:"reloadDataParent"},decls:7,vars:0,consts:[["animationDuration","500ms",1,"child-contact-tab",2,"margin","0 !important"],["label","Financial Support"],["mat-tab-label",""],["matTabContent",""],["label","Contact"],[3,"countryCodeList","candidate","reloadData"],[3,"countryCodeList","showFinacment","candidate_id","reloadData"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"mat-tab-group",0)(1,"mat-tab",1),t.\u0275\u0275template(2,zx,3,3,"ng-template",2),t.\u0275\u0275template(3,$x,1,2,"ng-template",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"mat-tab",4),t.\u0275\u0275template(5,Hx,3,3,"ng-template",2),t.\u0275\u0275template(6,jx,1,3,"ng-template",3),t.\u0275\u0275elementEnd()())},dependencies:[X.SP,X.uD,X.uX,X.Vc,gx,Ux,M.X$],styles:["[_nghost-%COMP%]  .child-contact-tab.mat-tab-group{margin-top:0!important;padding:0!important}[_nghost-%COMP%]  .child-contact-tab.mat-tab-group .mat-tab-header{font-size:.9em;margin-top:10px}[_nghost-%COMP%]  .child-contact-tab.mat-tab-group .mat-tab-label{min-width:25px!important;background-color:transparent!important;margin-right:0!important;font-size:14px}[_nghost-%COMP%]  .child-contact-tab.mat-tab-group .mat-tab-label h4{font-size:13px}[_nghost-%COMP%]  .child-contact-tab.mat-tab-group .mat-tab-label-active{box-shadow:unset;border-right:none!important;border-left:none!important;border-top:none!important;background-color:transparent!important;color:#ffd740!important;font-weight:900!important;border-bottom:2.5px solid #607d8b!important}[_nghost-%COMP%]  .child-contact-tab.mat-tab-group .mat-tab-list .mat-tab-labels{color:#ffd740!important}[_nghost-%COMP%]  .child-contact-tab.mat-tab-group .mat-tab-label.mat-tab-disabled, [_nghost-%COMP%]  .child-contact-tab.mat-tab-group .mat-tab-link.mat-tab-disabled{background-color:transparent!important;color:#fff!important}[_nghost-%COMP%]  .child-contact-tab.mat-tab-group .mat-ink-bar{background-color:unset!important}"]}),n})();var Yx=C(72002);function Gx(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",28)(1,"button",29),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.resetFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"mat-icon",30),t.\u0275\u0275text(4,"loop"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,2,"Reset Filter")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,4,"Reset")," "))}function qx(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",31)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",32),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.templateNameFilter)}}function Kx(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",35),t.\u0275\u0275text(1)),2&n){const e=o.item,a=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",a.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.key," ")}}function Qx(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",37),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData("typeFilter",i))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("typeFilter"))("indeterminate",e.isSomeDropdownSelected("typeFilter")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Xx(n,o){1&n&&t.\u0275\u0275template(0,Qx,3,5,"ng-template",36)}function Zx(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",31)(1,"ng-select",33),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onFilterSelect("typeFilter"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Kx,2,3,"ng-template",34),t.\u0275\u0275template(5,Xx,1,0,null,25),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.templateTypeList)("appendTo","body")("multiple",!0)("formControl",e.typeFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.templateTypeList?null:e.templateTypeList.length)}}function Jx(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",31)(1,"mat-form-field")(2,"input",38),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",39)(5,"mat-datepicker",null,40),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"search")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.sendDateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function t0(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",31)(1,"mat-form-field")(2,"input",38),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",39)(5,"mat-datepicker",null,41),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"search")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.lastModifiedFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function e0(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",35),t.\u0275\u0275text(1)),2&n){const e=o.item,a=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",a.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.key," ")}}function n0(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",37),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData("statusFilter",i))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("statusFilter"))("indeterminate",e.isSomeDropdownSelected("statusFilter")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function a0(n,o){1&n&&t.\u0275\u0275template(0,n0,3,5,"ng-template",36)}function i0(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",31)(1,"ng-select",33),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onFilterSelect("statusFilter"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,e0,2,3,"ng-template",34),t.\u0275\u0275template(5,a0,1,0,null,25),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.statusList)("appendTo","body")("multiple",!0)("formControl",e.statusFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.statusList?null:e.statusList.length)}}function o0(n,o){1&n&&t.\u0275\u0275element(0,"th",31)}function l0(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",42),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",43),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Template Name")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Template Name")))}function r0(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e?null:e.template_name)," ")}}function s0(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",44),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275template(2,r0,3,3,"span",25),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.template_name)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e?null:e.template_name)}}function c0(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",42),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",45),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Form Type")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Form Type")))}function d0(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"FORM_BUILDER."+(null!=e&&null!=e.form_builder_id&&e.form_builder_id.template_type?null==e||null==e.form_builder_id?null:e.form_builder_id.template_type:null==e?null:e.form_type))," ")}}function p0(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",44),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275template(2,d0,3,3,"ng-container",25),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",(null!=e&&null!=e.form_builder_id&&e.form_builder_id.template_type?null!=e&&null!=e.form_builder_id&&e.form_builder_id.template_type:null!=e&&e.form_type)?t.\u0275\u0275pipeBind1(1,2,"FORM_BUILDER."+(null!=e&&null!=e.form_builder_id&&e.form_builder_id.template_type?null==e||null==e.form_builder_id?null:e.form_builder_id.template_type:null==e?null:e.form_type)):""),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e||null==e.form_builder_id?null:e.form_builder_id.template_type)||(null==e?null:e.form_type))}}function m0(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",42),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",46),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Send Date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Send Date")))}function _0(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.sendDate," ")}}function u0(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",44),t.\u0275\u0275template(1,_0,2,1,"span",25),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.sendDate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.sendDate)}}function g0(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",42),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",47),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Last Modified")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Last Modified")))}function h0(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",44),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind2(1,2,null==e?null:e.updated_at,"dd/MM/yyyy")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,5,null==e?null:e.updated_at,"dd/MM/yyyy")," ")}}function f0(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",42),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",48),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Status")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Status")))}function b0(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"x "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275styleProp("color",null==e?null:e.step_status_color)}}function C0(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon"),t.\u0275\u0275text(1," lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275styleProp("color",null==e?null:e.step_status_color)}}const x0=function(){return["closed"]},y0=function(){return["in_progress","rejected_by_validator","completed","waiting_for_validation","document_expired"]};function v0(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",44),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275template(2,b0,2,2,"span",49),t.\u0275\u0275template(3,C0,2,2,"mat-icon",49),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,3,e.step_status)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",t.\u0275\u0275pureFunction0(5,x0).includes(null==e?null:e.step_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pureFunction0(6,y0).includes(null==e?null:e.step_status))}}function T0(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",42),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function M0(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",50)(1,"div",51)(2,"div",52)(3,"button",53),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.goToForm(l))}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275element(5,"mat-icon",54),t.\u0275\u0275elementEnd()()()()}2&n&&(t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,1,"See form")))}function S0(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",55)(1,"div",56),t.\u0275\u0275element(2,"mat-spinner",57),t.\u0275\u0275elementEnd()())}function O0(n,o){1&n&&t.\u0275\u0275element(0,"tr",58)}function P0(n,o){1&n&&t.\u0275\u0275element(0,"tr",58)}function w0(n,o){1&n&&t.\u0275\u0275element(0,"tr",58)}function D0(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",59),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function E0(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",60),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function I0(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",62),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")," "))}function k0(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,I0,3,3,"div",61),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.noData)}}const F0=function(){return["reset"]},B0=function(){return["loading"]},A0=function(n){return{hide:n}},N0=function(n){return{"hide-pagination-buttons":n}},R0=function(){return[10]};let V0=(()=>{class n{constructor(e,a,i,l,r,s){this.userService=e,this.router=a,this.formFollowUpService=i,this.translate=l,this.parseUTCToLocalPipe=r,this.pageTitleService=s,this.subs=new w.Y,this.displayedColumns=["templateName","type","sendDate","lastModified","status","action"],this.filterColumns=["templateNameFilter","typeFilter","sendDateFilter","lastModifiedFilter","statusFilter","actionFilter"],this.dataSource=new b.by([]),this.isWaitingForResponse=!1,this.sortValue=null,this.templateNameFilter=new m.UntypedFormControl(null),this.typeFilter=new m.UntypedFormControl(null),this.statusFilter=new m.UntypedFormControl(null),this.sendDateFilter=new m.UntypedFormControl(null),this.lastModifiedFilter=new m.UntypedFormControl(null),this.templateTypeList=[],this.statusList=[],this.filteredValues={template_name:null,form_type:[],send_date:null,last_modified:null,offset:null,status_form:[]}}ngOnInit(){this.currentUser=this.userService.getLocalStorageUser(),this.initFilter(),this.getAllStudentForm(),this.getTemplateTypeList(),this.getStatusList(),this.pageTitleService.setTitle(this.translate.instant("Student Card Forms")),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.getTemplateTypeList(),this.getStatusList(),this.updatePageTitle()})}updatePageTitle(){this.pageTitleService.setTitle(this.translate.instant("Student Card Forms"))}getTemplateTypeList(){this.templateTypeList=[{key:this.translate.instant("Student Admission"),value:"student_admission"},{key:this.translate.instant("Alumni Survey"),value:"alumni"},{key:this.translate.instant("FC Contract/Convention"),value:"fc_contract"},{key:this.translate.instant("Admission Document"),value:"admission_document"},{key:this.translate.instant("One Time Form"),value:"one_time_form"},{key:this.translate.instant("Visa Document"),value:"visa_document"}],this.templateTypeList=h.sortBy(this.templateTypeList,"key")}getStatusList(){this.statusList=[{key:this.translate.instant("In progress"),value:"in_progress"},{key:this.translate.instant("Rejected by Validator"),value:"ask_for_revision"},{key:this.translate.instant("Closed"),value:"rejected"},{key:this.translate.instant("Waiting for validation"),value:"waiting_for_validation"},{key:this.translate.instant("Completed"),value:"completed"},{key:this.translate.instant("document_expired"),value:"document_expired"}],this.statusList=h.sortBy(this.statusList,"key")}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,$.O)(null),(0,et.b)(()=>{this.getAllStudentForm()})).subscribe()}initFilter(){this.subs.sink=this.templateNameFilter.valueChanges.pipe((0,A.b)(800)).subscribe(e=>{this.filteredValues.template_name=e,this.paginator.pageIndex=0,this.getAllStudentForm()}),this.subs.sink=this.sendDateFilter.valueChanges.pipe((0,A.b)(500)).subscribe(e=>{if(e){const a=y(e).format("DD/MM/YYYY");this.filteredValues.send_date=a}else this.filteredValues.send_date=null;this.paginator.pageIndex=0,this.getAllStudentForm()}),this.subs.sink=this.lastModifiedFilter.valueChanges.pipe((0,A.b)(500)).subscribe(e=>{if(e){const a=y(e).format("DD/MM/YYYY");this.filteredValues.last_modified=a}else this.filteredValues.last_modified=null;this.paginator.pageIndex=0,this.getAllStudentForm()})}getAllStudentForm(){this.isWaitingForResponse=!0;const e={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},a=this.candidateId,i=this.scholarSeasonData?.intake_channel?._id;this.filteredValues.offset=y().utcOffset();const l=this.cleanFilterData();this.subs.sink=this.formFollowUpService.getAllJoinedFormProcessForStudentCard(a,i,e,l,this.sortValue).subscribe(r=>{this.isWaitingForResponse=!1,r&&r.length?(this.dataCount=r[0].count_document,this.noData=!1,this.dataSource.data=(r||[]).map(s=>(s.sendDate=this.parseUTCToLocalPipe.transformDate(s?.send_date?.date,s?.send_date?.time),s.step_status=s?.status_form,"completed"===s.step_status?s.step_status_color="green":"in_progress"===s.step_status?s.step_status_color="yellow":"waiting_for_validation"===s.step_status?s.step_status_color="orange":"ask_for_revision"===s.step_status?(s.step_status="rejected_by_validator",s.step_status_color="red"):"rejected"===s.step_status?(s.step_status="closed",s.step_status_color="red"):"document_expired"===s.step_status&&(s.step_status_color="purple"),s.form_builder_id||(s.template_name="visa_document"===s.form_type?"visa / stay permit":"Admission"),s))):(this.noData=!0,this.dataSource.data=[],this.paginator.length=0,this.dataCount=0)},r=>{this.userService.postErrorLog(r),this.isWaitingForResponse=!1})}onFilterSelect(e){"typeFilter"===e?this.typeFilter.value&&(this.filteredValues.form_type=this.typeFilter.value,this.getAllStudentForm()):"statusFilter"===e&&this.statusFilter.value&&(this.filteredValues.status_form=this.statusFilter.value,this.getAllStudentForm())}isAllDropdownSelected(e){if("typeFilter"===e){const a=this.typeFilter.value;return a&&0!==a.length&&a.length===this.templateTypeList.length}if("statusFilter"===e){const a=this.statusFilter.value;return a&&0!==a.length&&a.length===this.statusList.length}}isSomeDropdownSelected(e){if("typeFilter"===e){const a=this.typeFilter.value;return a&&0!==a.length&&a.length!==this.templateTypeList.length}if("statusFilter"===e){const a=this.statusFilter.value;return a&&0!==a.length&&a.length!==this.statusList.length}}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.paginator.pageIndex=0,this.getAllStudentForm()}selectAllData(e,a){if("typeFilter"===e)if(a.checked){const i=this.templateTypeList.map(l=>l.value);this.typeFilter.patchValue(i)}else this.typeFilter.patchValue(null,{emitEvent:!1});else if("statusFilter"===e)if(a.checked){const i=this.statusList.map(l=>l.value);this.statusFilter.patchValue(i)}else this.statusFilter.patchValue(null,{emitEvent:!1})}goToForm(e){const a=e?.form_builder_id?.template_type?e?.form_builder_id?.template_type:e?.form_type,i=this.candidateId?this.candidateId:"",l=this.currentUser?.entities[0].type._id,r=this.scholarSeasonData?.student_id?.user_id?._id,s=this.router.url.split("/")[0];e?.form_builder_id?"fc_contract"===a?window.open(`${s}/form-fill?formId=${e._id}&formType=${a}&userId=${this.currentUser._id}&userTypeId=${l}&action=view`,"_blank"):"admission_document"===a?window.open(`${s}/form-filling?formId=${e._id}&formType=admissionDocument&userId=${this.currentUser._id}&userTypeId=${l}`,"_blank"):window.open(`${s}/form-filling?formId=${e._id}&formType=${a}&userId=${this.currentUser._id}&userTypeId=${l}`,"_blank"):"student_admission"===a?window.open(`${s}/session/register?candidate=${i}`,"_blank"):"visa_document"===a?window.open(`${s}/visa-form/${e._id}?formType=required_document&userId=${this.currentUser._id}&userTypeId=${l}&studentId=${r}`,"_blank"):window.open(`${s}/form-filling?formId=${e._id}&formType=${a}&userId=${this.currentUser._id}&userTypeId=${l}`,"_blank")}cleanFilterData(){const e=h.cloneDeep(this.filteredValues);return Object.keys(e).forEach(a=>{!e[a]&&!1!==e[a]&&delete e[a]}),e?.form_type?.length||delete e.form_type,e?.status_form?.length||delete e.status_form,e}resetFilter(){this.filteredValues={template_name:null,form_type:[],send_date:null,last_modified:null,status_form:[],offset:null},this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=null,this.sort.active=null,this.sort.direction=null,this.templateNameFilter.setValue(null),this.typeFilter.setValue(null),this.sendDateFilter.setValue(null),this.lastModifiedFilter.setValue(null),this.statusFilter.setValue(null),this.getAllStudentForm()}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(tt.F0),t.\u0275\u0275directiveInject(Yx.Q),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(U.t),t.\u0275\u0275directiveInject(nt.Z))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-candidate-form-tab"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(E.NW,7),t.\u0275\u0275viewQuery(V.YE,7)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.paginator=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.sort=i.first)}},inputs:{scholarSeasonData:"scholarSeasonData",candidateId:"candidateId",isStudentCard:"isStudentCard"},features:[t.\u0275\u0275ProvidersFeature([U.t])],decls:44,vars:19,consts:[[1,"top-space"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","100%","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","templateNameFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","typeFilter"],["matColumnDef","sendDateFilter"],["matColumnDef","lastModifiedFilter"],["matColumnDef","statusFilter"],["matColumnDef","actionFilter"],["matColumnDef","templateName"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","matTooltipPosition","above",3,"matTooltip",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","sendDate"],["matColumnDef","lastModified"],["matColumnDef","status"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","7","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["mat-header-cell","","colspan","100%",1,"action-header-column","text-right"],["mat-raised-button","","color","primary",2,"margin-left","10px",3,"matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell",""],["matInput","",3,"formControl","placeholder"],["bindValue","value","bindLabel","key",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["ng-option-tmp",""],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],["matInput","","readonly","",1,"form-field",3,"placeholder","matDatepicker","formControl","click"],["matSuffix","",3,"for"],["sendDatePick",""],["lastModifiedPick",""],["mat-header-cell","",3,"matTooltip"],["mat-sort-header","template_name"],["mat-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-sort-header","form_type"],["mat-sort-header","send_date"],["mat-sort-header","last_modified"],["mat-sort-header","status_form"],[3,"color",4,"ngIf"],["mat-cell",""],[1,"container-action"],[1,"text-center"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","click"],["svgIcon","file-eye",1,"mat-icon-status"],["mat-header-cell","","colspan","7",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],["class","no-records",4,"ngIf"],[1,"no-records"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"table",1),t.\u0275\u0275listener("matSortChange",function(l){return a.sortData(l)}),t.\u0275\u0275elementContainerStart(2,2),t.\u0275\u0275template(3,Gx,7,6,"th",3),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(4,4),t.\u0275\u0275template(5,qx,4,4,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(6,6),t.\u0275\u0275template(7,Zx,6,13,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,7),t.\u0275\u0275template(9,Jx,7,6,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,8),t.\u0275\u0275template(11,t0,7,6,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,9),t.\u0275\u0275template(13,i0,6,13,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,10),t.\u0275\u0275template(15,o0,1,0,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,11),t.\u0275\u0275template(17,l0,5,6,"th",12),t.\u0275\u0275template(18,s0,3,4,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(19,14),t.\u0275\u0275template(20,c0,5,6,"th",12),t.\u0275\u0275template(21,p0,3,4,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,15),t.\u0275\u0275template(23,m0,5,6,"th",12),t.\u0275\u0275template(24,u0,2,2,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(25,16),t.\u0275\u0275template(26,g0,5,6,"th",12),t.\u0275\u0275template(27,h0,4,8,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(28,17),t.\u0275\u0275template(29,f0,5,6,"th",12),t.\u0275\u0275template(30,v0,4,7,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(31,18),t.\u0275\u0275template(32,T0,5,6,"th",12),t.\u0275\u0275template(33,M0,6,3,"td",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(34,20),t.\u0275\u0275template(35,S0,3,0,"th",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(36,O0,1,0,"tr",22),t.\u0275\u0275template(37,P0,1,0,"tr",22),t.\u0275\u0275template(38,w0,1,0,"tr",22),t.\u0275\u0275template(39,D0,1,1,"tr",23),t.\u0275\u0275template(40,E0,1,1,"tr",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(41,k0,2,1,"ng-container",25),t.\u0275\u0275elementStart(42,"div",26),t.\u0275\u0275element(43,"mat-paginator",27),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("dataSource",a.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(12,F0)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(13,B0)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(14,A0,a.noData)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,N0,a.dataCount<=10))("length",a.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(18,R0)))},dependencies:[f.mk,f.O5,I.lW,st.oG,P.Mq,P.hl,P.nW,k.Hw,S.KE,S.R9,z.Nt,E.NW,D.Ou,V.YE,V.nU,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,G.gM,m.DefaultValueAccessor,m.CheckboxControlValueAccessor,m.NgControlStatus,m.NgModel,m.FormControlDirective,H.oO,K.w9,K.ir,K.Cm,f.uU,M.X$],styles:['table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.top-space[_ngcontent-%COMP%]{margin-top:30px}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:35%;padding-left:.5rem!important;padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:20%;position:relative;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:15%;text-align:center}[_nghost-%COMP%]     table tr td:nth-child(3) button, [_nghost-%COMP%]     table tr th:nth-child(3) button{display:block;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:15%;text-align:center}[_nghost-%COMP%]     table tr td:nth-child(4) button, [_nghost-%COMP%]     table tr th:nth-child(4) button{display:block;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(4) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:10%;text-align:center;position:relative;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){width:5%}[_nghost-%COMP%]     table tr td:nth-child(6) button, [_nghost-%COMP%]     table tr th:nth-child(6) button{display:block;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(6) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(6) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top;text-align:center}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.mat-icon-status[_ngcontent-%COMP%]{width:20px}.icon-status[_ngcontent-%COMP%]{text-align:center!important;align-items:center!important}.action-header-column[_ngcontent-%COMP%]{padding-top:5px!important}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgb(241,241,241)!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px;padding-right:8px;width:95%;position:absolute!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important;color:#fff}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{top:11px;font-size:14px;padding:0}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-dropdownpanel-table{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-dropdownpanel-table .ng-dropdown-panel-items .ng-option{white-space:normal!important}  .ng-select.custom-dropdownpanel-table .ng-select-container .ng-value-container .ng-input>input{color:#fff!important}']}),n})();var L0=C(15807),U0=C(86949);const z0=["editor"];function $0(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function H0(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",18),t.\u0275\u0275element(1,"mat-spinner",19),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let j0=(()=>{class n{constructor(e,a,i,l,r,s){this.dialogRef=e,this.dialog=a,this.data=i,this.translate=l,this.studentsService=r,this.authService=s,this.reason=new m.UntypedFormControl(null,m.Validators.required),this.subs=new w.Y,this.Editor=Nt,this.config={height:"20rem"},this.isWaitingForResponse=!1}ngOnInit(){this.currentUser=this.authService.getLocalStorageUser()}recordNote(){this.subs.sink=this.dialog.open(U0.h,{width:"700px",minHeight:"300px",panelClass:"candidate-note-record",disableClose:!0,data:""}).afterClosed().subscribe(e=>{const a=this.editor.editorInstance;if(e.trim()){const i=`${e}`,l=a.getData()+i;a.setData(l)}})}rejectDoc(){if(this.reason?.invalid)return c().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),void this.reason.markAllAsTouched();this.data&&(this.isWaitingForResponse=!0,this.subs.sink=this.studentsService?.validateOrRejectAcadDocument({_id:this.data?.document?._id,validationStatus:"rejected",reason:this.reason?.value},this.currentUser&&this.currentUser?.app_data?this.currentUser?.app_data?.user_type_id:[],this.currentUser?._id)?.subscribe(i=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.closeDialog("rejected")})},i=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(i),i&&i.message&&i.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}closeDialog(e){this.dialogRef.close(e)}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(T.WI),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(Ot.q),t.\u0275\u0275directiveInject(L.e))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-reject-visa-document-dialog"]],viewQuery:function(e,a){if(1&e&&t.\u0275\u0275viewQuery(z0,7),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.editor=i.first)}},decls:32,vars:17,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header-div"],[1,"dialog-header-icon"],[1,"header-text"],["mat-icon-button","","type","button","tabindex","-1",1,"header-icon",3,"click"],[1,"header-border"],[1,"body"],["for","textInput"],["id","textInput",1,"ckeditor"],[3,"editor","config","formControl"],["editor",""],[4,"ngIf"],[1,"microphone"],["mat-icon-button","",1,"margin-right-button",3,"click"],["svgIcon","microphone"],["align","end"],["mat-raised-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary","type","button",3,"click"],["class","loading-indicator",4,"ngIf"],[1,"loading-indicator"],["color","accent",3,"diameter"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"mat-icon",1),t.\u0275\u0275text(2,"description"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"h3",2),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",3),t.\u0275\u0275listener("click",function(){return a.closeDialog()}),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"close"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275element(9,"hr"),t.\u0275\u0275elementStart(10,"div",4)(11,"mat-dialog-content")(12,"div",5)(13,"label",6),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"div",7),t.\u0275\u0275element(17,"ckeditor",8,9),t.\u0275\u0275template(19,$0,3,3,"mat-error",10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"div",11)(21,"button",12),t.\u0275\u0275listener("click",function(){return a.recordNote()}),t.\u0275\u0275elementStart(22,"mat-icon",13),t.\u0275\u0275text(23,"microphone"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(24,"mat-dialog-actions",14)(25,"button",15),t.\u0275\u0275listener("click",function(){return a.closeDialog()}),t.\u0275\u0275text(26),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(28,"button",16),t.\u0275\u0275listener("click",function(){return a.rejectDoc()}),t.\u0275\u0275text(29),t.\u0275\u0275pipe(30,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(31,H0,2,1,"div",17)),2&e&&(t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,9,"REJECT_VISA_DOC.TITLE")," "),t.\u0275\u0275advance(10),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(15,11,"REJECT_VISA_DOC.TEXT"),"*"),t.\u0275\u0275advance(3),t.\u0275\u0275property("editor",a.Editor)("config",a.config)("formControl",a.reason),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==a.reason?null:a.reason.hasError("required"))&&((null==a.reason?null:a.reason.touched)||(null==a.reason?null:a.reason.dirty))),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(27,13,"Cancel")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(30,15,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isWaitingForResponse))},dependencies:[f.O5,N.Zt,N.Bh,I.lW,T.xY,T.H8,k.Hw,S.TO,D.Ou,m.NgControlStatus,m.FormControlDirective,Dt.u,M.X$],styles:["[_nghost-%COMP%]  .header-text{margin-left:8px}.header-border[_ngcontent-%COMP%]{padding:15px;color:#000}[_nghost-%COMP%]     .mat-dialog-actions{min-height:unset}.header-div[_ngcontent-%COMP%]{padding:.8em .8em .4em!important}.header-div[_ngcontent-%COMP%]   .dialog-header-icon[_ngcontent-%COMP%]{font-size:28px}.mat-dialog-content[_ngcontent-%COMP%]{margin:0!important;padding:1rem!important;overflow:hidden;max-width:940px}.microphone[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}[_nghost-%COMP%]     .ck.ck-editor__editable_inline{border:1px solid grey!important;height:15rem}.loading-indicator[_ngcontent-%COMP%]{position:fixed;z-index:999;height:2em;width:6em;overflow:show;margin:auto;inset:0}[_nghost-%COMP%]  .ng-invalid.ng-touched .ck.ck-editor__editable_inline{border-color:red!important}"]}),n})();var W0=C(62425),Y0=C(58800);const G0=["templateColumn"];function q0(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",43),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.openColumnDropdown())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"span",9),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(3,"svg",10)(4,"g",11),t.\u0275\u0275element(5,"path",12)(6,"path",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275namespaceHTML(),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"keyboard_arrow_down"),t.\u0275\u0275elementEnd()()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Configure Column")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function K0(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",44),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",a.isWaitingForResponse)("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,3,e.name))}}function Q0(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-form-field"),t.\u0275\u0275element(2,"input",51),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.documentNameFilter)}}function X0(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-form-field")(2,"input",52),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",53)(5,"mat-datepicker",null,54),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"search")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.dateAddedFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function Z0(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-form-field")(2,"input",52),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",53)(5,"mat-datepicker",null,55),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"search")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.dateOfValidityFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function J0(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",59),t.\u0275\u0275text(1)),2&n){const e=o.item,a=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",a.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.key," ")}}function ty(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",61),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(5);return t.\u0275\u0275resetView(l.selectAllData("statusFilter",i))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(5);t.\u0275\u0275property("checked",e.isAllDropdownSelected("statusFilter"))("indeterminate",e.isSomeDropdownSelected("statusFilter")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function ey(n,o){1&n&&t.\u0275\u0275template(0,ty,3,5,"ng-template",60)}function ny(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"ng-select",56),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.onFilterSelect())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,J0,2,3,"ng-template",57),t.\u0275\u0275template(5,ey,1,0,null,58),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,9,"search")),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(3,11,"NOT RECORD FOUND")),t.\u0275\u0275property("multiple",!0)("clearable",!1)("appendTo","body")("items",e.statusList)("closeOnSelect",!1)("formControl",e.statusFilter),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.statusList?null:e.statusList.length)}}function ay(n,o){1&n&&t.\u0275\u0275elementContainer(0)}function iy(n,o){1&n&&t.\u0275\u0275elementContainer(0)}function oy(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",47),t.\u0275\u0275elementContainerStart(1,48),t.\u0275\u0275template(2,Q0,4,4,"ng-container",49),t.\u0275\u0275template(3,X0,7,6,"ng-container",49),t.\u0275\u0275template(4,Z0,7,6,"ng-container",49),t.\u0275\u0275template(5,ny,6,13,"ng-container",49),t.\u0275\u0275template(6,ay,1,0,"ng-container",49),t.\u0275\u0275template(7,iy,1,0,"ng-container",50),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitch",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","documentNameFilter"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","dateAddedFilter"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","dateOfValidityFilter"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","statusFilter"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","actionFilter")}}function ly(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0,45),t.\u0275\u0275template(1,oy,8,6,"th",46),t.\u0275\u0275elementContainerEnd()),2&n&&t.\u0275\u0275property("matColumnDef",o.$implicit)}function ry(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",68)(1,"span",69),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(2,"svg",70),t.\u0275\u0275element(3,"path",71)(4,"path",72),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,1,"REQUIRED_DOCUMENT_TABS.DOCUMENT_NAME")," "))}function sy(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",64),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",65),t.\u0275\u0275template(3,ry,7,3,"div",66),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"h5",67),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"REQUIRED_DOCUMENT_TABS.DOCUMENT_NAME")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,4,"REQUIRED_DOCUMENT_TABS.DOCUMENT_NAME")))}function cy(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",73),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null!=e&&e.document_name?t.\u0275\u0275pipeBind1(1,2,"COUNTRY_NATIONALITY.DOCUMENT_NAME."+(null==e?null:e.document_name)):""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.document_name?t.\u0275\u0275pipeBind1(3,4,"COUNTRY_NATIONALITY.DOCUMENT_NAME."+(null==e?null:e.document_name)):""," ")}}function dy(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,sy,7,6,"th",62),t.\u0275\u0275template(2,cy,4,6,"td",63),t.\u0275\u0275elementContainerEnd())}function py(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",68)(1,"span",69),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(2,"svg",70),t.\u0275\u0275element(3,"path",71)(4,"path",72),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,1,"REQUIRED_DOCUMENT_TABS.DATE_ADDED")," "))}function my(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",75),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",65),t.\u0275\u0275template(3,py,7,3,"div",66),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"h5",67),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"REQUIRED_DOCUMENT_TABS.DATE_ADDED")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,4,"REQUIRED_DOCUMENT_TABS.DATE_ADDED")))}function _y(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(a.translateDate(null==e?null:e.dateAdded,null))}}function uy(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",73),t.\u0275\u0275template(1,_y,2,1,"span",58),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",a.translateDate(null==e?null:e.dateAdded,null)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.dateAdded)}}function gy(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,my,7,6,"th",74),t.\u0275\u0275template(2,uy,2,2,"td",63),t.\u0275\u0275elementContainerEnd())}function hy(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",68)(1,"span",69),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(2,"svg",70),t.\u0275\u0275element(3,"path",71)(4,"path",72),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,1,"REQUIRED_DOCUMENT_TABS.DATE_OF_VALIDITY")," "))}function fy(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",77),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",65),t.\u0275\u0275template(3,hy,7,3,"div",66),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"h5",67),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"REQUIRED_DOCUMENT_TABS.DATE_OF_VALIDITY")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,4,"REQUIRED_DOCUMENT_TABS.DATE_OF_VALIDITY")))}function by(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e?null:e.dateValidation)}}function Cy(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"-"),t.\u0275\u0275elementEnd())}function xy(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",73),t.\u0275\u0275template(1,by,2,1,"span",58),t.\u0275\u0275template(2,Cy,2,0,"span",58),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null!=e&&e.dateValidation?null==e?null:e.dateValidation:""),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.dateValidation),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.dateValidation))}}function yy(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,fy,7,6,"th",76),t.\u0275\u0275template(2,xy,3,3,"td",63),t.\u0275\u0275elementContainerEnd())}function vy(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",68)(1,"span",69),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(2,"svg",70),t.\u0275\u0275element(3,"path",71)(4,"path",72),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,1,"REQUIRED_DOCUMENT_TABS.STATUS")," "))}function Ty(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",80),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",65),t.\u0275\u0275template(3,vy,7,3,"div",66),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"h5",67),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"REQUIRED_DOCUMENT_TABS.STATUS")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,4,"REQUIRED_DOCUMENT_TABS.STATUS")))}function My(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",41),t.\u0275\u0275text(1," lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("ngClass",null==e?null:e.step_status_color)}}const Sy=function(){return["waiting_validation","rejected","validated","expired"]};function Oy(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",81),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275template(2,My,2,1,"mat-icon",82),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"statusList."+(null==e?null:e.step_status))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",t.\u0275\u0275pureFunction0(4,Sy).includes(null==e?null:e.step_status))}}function Py(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ty,7,6,"th",78),t.\u0275\u0275template(2,Oy,3,5,"td",79),t.\u0275\u0275elementContainerEnd())}function wy(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",68)(1,"span",69),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(2,"svg",70),t.\u0275\u0275element(3,"path",71)(4,"path",72),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,1,"Action")," "))}function Dy(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",85),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"div",86)(3,"mat-icon",65),t.\u0275\u0275template(4,wy,7,3,"div",66),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"h5",67),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,4,"Action")))}function Ey(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",91),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.onAddValidity(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",92),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"REQUIRED_DOCUMENT_TABS.ADD_VALIDITY_DATE"))}function Iy(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.validateVisaDocument(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"REQUIRED_DOCUMENT_TABS.VALIDATE_DOCUMENT"))}function ky(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",94),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.rejectVisaDocument(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"REQUIRED_DOCUMENT_TABS.REJECT_THE_DOCUMENT"))}function Fy(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",91),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.viewVisaDocument(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",95),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"REQUIRED_DOCUMENT_TABS.VIEW_DOCUMENT"))}function By(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",87),t.\u0275\u0275template(1,Ey,3,3,"button",88),t.\u0275\u0275elementStart(2,"span"),t.\u0275\u0275template(3,Iy,2,3,"mat-icon",89),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span"),t.\u0275\u0275template(5,ky,2,3,"mat-icon",90),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,Fy,3,3,"button",88),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","waiting_validation"===(null==e?null:e.step_status)||"validated"===(null==e?null:e.step_status)||"rejected"===(null==e?null:e.step_status)||"expired"===(null==e?null:e.step_status)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","waiting_validation"===(null==e?null:e.step_status)||"rejected"===(null==e?null:e.step_status)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","waiting_validation"===(null==e?null:e.step_status)||"validated"===(null==e?null:e.step_status)||"expired"===(null==e?null:e.step_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","waiting_validation"===(null==e?null:e.step_status)||"validated"===(null==e?null:e.step_status)||"rejected"===(null==e?null:e.step_status)||"expired"===(null==e?null:e.step_status))}}function Ay(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Dy,8,6,"th",83),t.\u0275\u0275template(2,By,7,4,"td",84),t.\u0275\u0275elementContainerEnd())}function Ny(n,o){1&n&&t.\u0275\u0275element(0,"th",47)}function Ry(n,o){1&n&&t.\u0275\u0275element(0,"td",87)}function Vy(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ny,1,0,"th",46),t.\u0275\u0275template(2,Ry,1,0,"td",84),t.\u0275\u0275elementContainerEnd())}function Ly(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0,45)(1,48),t.\u0275\u0275template(2,dy,3,0,"ng-container",49),t.\u0275\u0275template(3,gy,3,0,"ng-container",49),t.\u0275\u0275template(4,yy,3,0,"ng-container",49),t.\u0275\u0275template(5,Py,3,0,"ng-container",49),t.\u0275\u0275template(6,Ay,3,0,"ng-container",49),t.\u0275\u0275template(7,Vy,3,0,"ng-container",50),t.\u0275\u0275elementContainerEnd()()),2&n){const e=o.$implicit;t.\u0275\u0275property("matColumnDef",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitch",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","documentName"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","dateAdded"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","dateOfValidity"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","status"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","action")}}function Uy(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",96)(1,"div",97),t.\u0275\u0275element(2,"mat-spinner",98),t.\u0275\u0275elementEnd()())}function zy(n,o){1&n&&t.\u0275\u0275element(0,"tr",99)}function $y(n,o){1&n&&t.\u0275\u0275element(0,"tr",100)}function Hy(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",101),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function jy(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",102),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function Wy(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",103),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")," "))}const Yy=function(n){return{cursor:n}},Gy=function(){return["loading"]},qy=function(n){return{"hide-pagination-buttons":n}};let Ky=(()=>{class n{constructor(e,a,i,l,r,s,d){this.dialog=e,this.studentsService=a,this.parseUTCToLocalPipe=i,this.translate=l,this.teacherManagementService=r,this.authService=s,this.utilService=d,this.subs=new w.Y,this.isWaitingForResponse=!1,this.displayedColumns=["documentName","dateAdded","dateOfValidity","status","action"],this.filterColumns=["documentNameFilter","dateAddedFilter","dateOfValidityFilter","statusFilter","actionFilter"],this.filteredValues={document_name:null,date_added:null,date_of_validity:null,validation_statuses:null},this.dataSource=new b.by([]),this.sortValue=null,this.isReset=!1,this.dataLoaded=!1,this.statusList=[],this.documentNameFilter=new m.UntypedFormControl(null),this.dateAddedFilter=new m.UntypedFormControl(null),this.dateOfValidityFilter=new m.UntypedFormControl(null),this.statusFilter=new m.UntypedFormControl(null),this.tempDraggableColumnFilter=[],this.tempDraggableColumn=[],this.latestSelectedColumn=null,this.tempColumnListTable=[],this.columnCtrl=new m.UntypedFormControl(null),this.defaultDisplayedColumns=[{name:"REQUIRED_DOCUMENT_TABS.DOCUMENT_NAME",colName:"documentName",filterName:"documentNameFilter"},{name:"REQUIRED_DOCUMENT_TABS.DATE_ADDED",colName:"dateAdded",filterName:"dateAddedFilter"},{name:"REQUIRED_DOCUMENT_TABS.DATE_OF_VALIDITY",colName:"dateOfValidity",filterName:"dateOfValidityFilter"},{name:"REQUIRED_DOCUMENT_TABS.STATUS",colName:"status",filterName:"statusFilter"},{name:"Action",colName:"action",filterName:"actionFilter"}],this.conditionalGraphqlField={documentName:!0,dateAdded:!0,dateOfValidity:!0,status:!0,action:!0}}ngOnInit(){this.currentUser=this.authService.getLocalStorageUser(),this.isPermission=this.authService.getPermission();const a=this.authService.getLocalStorageUser()?.entities?.find(i=>i?.type?.name===this.isPermission[0]);this.currentUserTypeId=[a?.type?._id],this.initFilter(),this.getStatusList(),this.checkTemplateTable(),this.subs.sink=this.translate.onLangChange.subscribe(i=>{this.getStatusList()})}ngOnChanges(){}ngAfterViewInit(){this.selectionChangesColumn(),this.subs.sink=this.paginator.page.pipe((0,$.O)(null),(0,et.b)(()=>{this.isReset||this.getAllStudentVisaDocument(),this.dataLoaded=!0})).subscribe()}getAllStudentVisaDocument(e){this.isWaitingForResponse=!0;const a={limit:this.paginator&&this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator&&this.paginator.pageIndex?this.paginator.pageIndex:0},i=this.cleanFilterData();this.checkFilterAndSorting(),this.checkConditionalGraphql(),this.subs.sink=this.studentsService.getStudentVisaDocument(a,this.conditionalGraphqlField,this.candidateId,this.sortValue,i,["visa_document"],this.programId).subscribe(l=>{if(this.isWaitingForResponse=!1,l&&l?.length){const r=(h.cloneDeep(l)||[]).map(s=>(s.dateAdded=s?.created_at,s.dateValidation=this.parseUTCToLocalPipe.transformDate(s?.date_of_expired?.date,s?.date_of_expired?.time),s.step_status=s?.document_status,"waiting_validation"===s?.step_status?s.step_status_color="orange":"rejected"===s?.step_status?s.step_status_color="red":"validated"===s?.step_status?s.step_status_color="green":"expired"===s?.step_status&&(s.step_status_color="purple"),s));this.documentCount=l.length&&l[0]&&l[0].count_document?l[0].count_document:0,this.dataSource.data=r}else this.dataSource.data=[]},l=>{this.isWaitingForResponse=!1})}getStatusList(){this.statusList=[{key:this.translate.instant("statusList.waiting_validation"),value:"waiting_validation"},{key:this.translate.instant("statusList.rejected"),value:"rejected"},{key:this.translate.instant("statusList.validated"),value:"validated"},{key:this.translate.instant("statusList.expired"),value:"expired"}],this.sortStatusList()}sortStatusList(){if(this.statusList?.length){const e=this.statusList?.map(a=>{const i=this.utilService.simpleDiacriticSensitiveRegex(a?.key?.toLowerCase());return a.statusForSort=i?.toLowerCase(),a});this.statusList=h.sortBy(e,"statusForSort")}}initFilter(){this.subs.sink=this.documentNameFilter.valueChanges.pipe((0,A.b)(800)).subscribe(e=>{this.filteredValues.document_name=e,this.paginator.pageIndex=0,this.getAllStudentVisaDocument()}),this.subs.sink=this.dateAddedFilter.valueChanges.pipe((0,A.b)(500)).subscribe(e=>{if(e){const a=y(e).format("DD/MM/YYYY");this.filteredValues.date_added=a}else this.filteredValues.date_added=null;this.paginator.pageIndex=0,this.getAllStudentVisaDocument()}),this.subs.sink=this.dateOfValidityFilter.valueChanges.pipe((0,A.b)(500)).subscribe(e=>{if(e){const a=y(e).format("DD/MM/YYYY");this.filteredValues.date_of_validity=a}else this.filteredValues.date_of_validity=null;this.paginator.pageIndex=0,this.getAllStudentVisaDocument()})}onFilterSelect(){this.statusFilter.value&&(this.filteredValues.validation_statuses=this.statusFilter.value,this.getAllStudentVisaDocument())}isAllDropdownSelected(e){if("statusFilter"===e){const a=this.statusFilter.value;return a&&0!==a.length&&a.length===this.statusList.length}}isSomeDropdownSelected(e){if("statusFilter"===e){const a=this.statusFilter.value;return a&&0!==a.length&&a.length!==this.statusList.length}}selectAllData(e,a){if("statusFilter"===e)if(a.checked){const i=this.statusList.map(l=>l.value);this.statusFilter.patchValue(i)}else this.statusFilter.patchValue(null,{emitEvent:!1})}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.paginator.pageIndex=0,this.getAllStudentVisaDocument()}cleanFilterData(){const e=h.cloneDeep(this.filteredValues);return Object.keys(e).forEach(a=>{!e[a]&&!1!==e[a]&&delete e[a]}),e?.validation_statuses?.length||delete e.validation_statuses,e}resetFilter(){this.filteredValues={document_name:null,date_added:null,date_of_validity:null,validation_statuses:null},this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=null,this.sort.active=null,this.sort.direction=null,this.documentNameFilter.setValue(null,{emitEvent:!1}),this.dateAddedFilter.setValue(null,{emitEvent:!1}),this.dateOfValidityFilter.setValue(null,{emitEvent:!1}),this.statusFilter.setValue(null),this.getAllStudentVisaDocument(),this.checkTemplateTable()}askForVisaDocument(e){e&&(this.subs.sink=this.dialog.open(L0.a,{data:{student:e,from:"single",userTypesList:this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]},panelClass:"certification-rule-pop-up",disableClose:!0,width:"650px"}).afterClosed().subscribe())}rejectVisaDocument(e){if(e){const a=e?.document_name?this.translate.instant("COUNTRY_NATIONALITY.DOCUMENT_NAME."+e?.document_name):"",i=this.candidateData?("neutral"===this.candidateData?.civility?"":this.translate.instant(this.candidateData?.civility))+" "+this.candidateData?.first_name+" "+this.candidateData?.last_name?.toUpperCase():"";c().fire({title:this.translate.instant("RejectVisaDocument_S1.TITLE",{documentName:a}),text:this.translate.instant("RejectVisaDocument_S1.TEXT",{studentName:i}),type:"warning",allowEscapeKey:!0,allowEnterKey:!1,allowOutsideClick:!1,showCancelButton:!0,confirmButtonText:this.translate.instant("RejectVisaDocument_S1.BUTTON1"),cancelButtonText:this.translate.instant("RejectVisaDocument_S1.BUTTON2")}).then(l=>{l?.value&&(this.subs.sink=this.dialog.open(j0,{panelClass:"certification-rule-pop-up",disableClose:!0,width:"700px",autoFocus:!1,data:{document:e,candidate:this.candidateData}}).afterClosed().subscribe(r=>{r&&this.getAllStudentVisaDocument()}))})}}validateVisaDocument(e){if(e){const a=e?.document_name?this.translate.instant("COUNTRY_NATIONALITY.DOCUMENT_NAME."+e?.document_name):"",i=this.candidateData?("neutral"===this.candidateData?.civility?"":this.translate.instant(this.candidateData?.civility))+" "+this.candidateData?.first_name+" "+this.candidateData?.last_name.toUpperCase():"";c().fire({title:this.translate.instant("ValidateVisaDocument_S1.TITLE",{documentName:a}),text:this.translate.instant("ValidateVisaDocument_S1.TEXT",{studentData:i}),type:"warning",allowEscapeKey:!0,allowEnterKey:!1,allowOutsideClick:!1,showCancelButton:!0,confirmButtonText:this.translate.instant("Validate"),cancelButtonText:this.translate.instant("Cancel")}).then(l=>{l.value&&(this.isWaitingForResponse=!0,this.subs.sink=this.studentsService?.validateOrRejectAcadDocument({_id:e?._id,validationStatus:"validated"},this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[],this.currentUser?._id).subscribe(d=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getAllStudentVisaDocument()})},d=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(d),d&&d.message&&d.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}}onAddValidity(e){this.subs.sink=this.dialog.open(W0.L,{panelClass:"certification-rule-pop-up",disableClose:!0,width:"700px",data:e}).afterClosed().subscribe(a=>{a&&this.getAllStudentVisaDocument()})}viewVisaDocument(e){if(!e?.s3_file_name)return;const a=document.createElement("a");a.target="_blank",a.href=`${_t.N.apiUrl}/fileuploads/${e?.s3_file_name}`.replace("/graphql",""),a.click(),a.remove()}sendReminder(){const e=this.candidateId;let a=3;const i=("neutral"===this.candidateData?.civility?"":this.translate.instant(this.candidateData?.civility))+" "+this.candidateData?.first_name+" "+this.candidateData?.last_name.toUpperCase(),l={candidate_ids:[e]};e&&("not_sent"===this.candidateData?.visa_document_process_id?.form_status||this.candidateData?.require_visa_permit&&!this.candidateData?.visa_document_process_id?c().fire({type:"warning",title:this.translate.instant("DocumentVisaReminder_S2.TITLE",{studentName:i}),html:this.translate.instant("DocumentVisaReminder_S2.TEXT"),confirmButtonText:"OK",allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({title:this.translate.instant("DocumentVisaReminder_S1.TITLE",{studentName:i}),text:this.translate.instant("DocumentVisaReminder_S1.TEXT",{studentName:i}),type:"warning",allowEscapeKey:!0,allowEnterKey:!1,allowOutsideClick:!1,showCancelButton:!0,confirmButtonText:this.translate.instant("Yes",{timer:a}),cancelButtonText:this.translate.instant("No"),onOpen:()=>{c().getConfirmButton().setAttribute("disabled","");const r=c().getConfirmButton(),s=setInterval(()=>{a-=1,r.innerText=this.translate.instant("Reminder_ONE_TIME_FORM.Button1")+` (${a})`},1e3);this.timeOutVal=setTimeout(()=>{r.innerText=this.translate.instant("Reminder_ONE_TIME_FORM.Button1"),c().getConfirmButton().removeAttribute("disabled"),clearInterval(s),clearTimeout(this.timeOutVal)},1e3*a)}}).then(r=>{clearTimeout(this.timeOutVal),r.value&&(this.isWaitingForResponse=!0,this.subs.sink=this.studentsService.sendReminderVisaDocument(this.currentUserTypeId,l).subscribe(s=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getAllStudentVisaDocument()})},s=>{this.isWaitingForResponse=!1,s&&s.message&&s.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}))}translateDate(e,a){let i;if(e){const l=a||"15:59",r=y(e).format("DD/MM/YYYY"),s=this.parseUTCToLocalPipe.transformDate(r&&"Invalid date"!==r?r:e,l);i="Invalid date"!==s?s:null}else i="-";return i}ngOnDestroy(){this.subs.unsubscribe()}checkTemplateTable(){this.isWaitingForResponse=!0,this.subs.sink=this.authService.GetUserTableColumnSettings(this.currentUser?._id).pipe((0,Ht.q)(1)).subscribe(e=>{e&&e?.length&&localStorage.setItem("templateTable",JSON.stringify(e));const a=JSON.parse(localStorage.getItem("templateTable"));if(a?.length){const i=a.find(l=>"visa_document"===l.table_name);if(i){const r="object"===this.utilService.checkArrayType(i?.display_column);this.displayedColumns=i?.display_column?.map(p=>r?p?.column_name:p),this.filterColumns=i.filter_column;const s=[];i?.display_column?.map(p=>r?p?.column_name:p).forEach(p=>{const u=this.defaultDisplayedColumns.findIndex(_=>_.colName===p);-1!==u&&s.push(this.defaultDisplayedColumns[u])}),this.resetFilterWhenUpdateColumn(),this.columnCtrl.patchValue(s),this.getAllStudentVisaDocument("init")}else this.columnCtrl.patchValue(this.defaultDisplayedColumns),this.updateColumn(this.defaultDisplayedColumns)}else this.columnCtrl.patchValue(this.defaultDisplayedColumns),this.updateColumn(this.defaultDisplayedColumns)},e=>{c().fire({type:"info",title:"Warning",text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}updateColumn(e){if(this.isWaitingForResponse=!0,this.displayedColumns=[],this.filterColumns=[],this.tempDraggableColumn?.length&&this.tempDraggableColumnFilter?.length&&e?.length){const a=e.map(l=>l.colName),i=e.map(l=>l.filterName);if(this.tempDraggableColumn?.length>e?.length){const l=this.tempDraggableColumn.filter(_=>a.includes(_)),r=this.tempDraggableColumnFilter.filter(_=>i.includes(_)),d="object"===this.utilService.checkArrayType(l);this.displayedColumns=l?.map(_=>d?_?.column_name:_),this.filterColumns=r,this.checkFilterAndSorting(),this.resetFilterWhenUpdateColumn(),this.tempDraggableColumn=h.cloneDeep(this.displayedColumns),this.tempDraggableColumnFilter=h.cloneDeep(this.filterColumns),setTimeout(()=>{this.dataSource.data.length&&(this.isWaitingForResponse=!1)},500);const u={table_name:"visa_document",display_column:h.cloneDeep(this.displayedColumns).map(_=>d?_?.column_name:{column_name:_}),filter_column:h.cloneDeep(this.filterColumns)};this.createOrUpdateUserTableColumnSettings(u),this.getAllStudentVisaDocument("1")}else if(this.tempDraggableColumn?.length<e?.length){const l=a.filter(_=>!this.tempDraggableColumn.includes(_)),r=i.filter(_=>!this.tempDraggableColumnFilter.includes(_)),d="object"===this.utilService.checkArrayType(l);this.displayedColumns=this.tempDraggableColumn.concat(l?.map(_=>d?_?.column_name:_)),this.filterColumns=this.tempDraggableColumnFilter.concat(r),this.checkFilterAndSorting(),this.resetFilterWhenUpdateColumn(),this.tempDraggableColumn=h.cloneDeep(this.displayedColumns),this.tempDraggableColumnFilter=h.cloneDeep(this.filterColumns),setTimeout(()=>{this.dataSource.data.length&&(this.isWaitingForResponse=!1)},500);const u={table_name:"visa_document",display_column:h.cloneDeep(this.displayedColumns).map(_=>d?_?.column_name:{column_name:_}),filter_column:h.cloneDeep(this.filterColumns)};this.createOrUpdateUserTableColumnSettings(u),this.getAllStudentVisaDocument("2")}}else if(e?.length){e.forEach(s=>{this.displayedColumns.push(s.colName),this.filterColumns.push(s.filterName)}),setTimeout(()=>{this.dataSource.data.length&&(this.isWaitingForResponse=!1)},500);const i="object"===this.utilService.checkArrayType(this.displayedColumns),r={table_name:"visa_document",display_column:h.cloneDeep(this.displayedColumns).map(s=>i?s?.column_name:{column_name:s}),filter_column:h.cloneDeep(this.filterColumns)};this.checkFilterAndSorting(),this.resetFilterWhenUpdateColumn(),this.createOrUpdateUserTableColumnSettings(r),this.getAllStudentVisaDocument("3")}else if(e.length||this.columnCtrl.value.length){const i=JSON.parse(localStorage.getItem("templateTable"))?.find(l=>"visa_document"===l.table_name);if(i){const r="object"===this.utilService.checkArrayType(i.display_column);this.displayedColumns=i.display_column?.map(s=>r?s?.column_name:s),this.filterColumns=i.filter_column,this.tempDraggableColumn=i.display_column?.map(s=>r?s?.column_name:s),this.tempDraggableColumnFilter=i.filter_column,this.checkFilterAndSorting(),this.resetFilterWhenUpdateColumn(),this.getAllStudentVisaDocument("5"),setTimeout(()=>{this.dataSource.data.length&&(this.isWaitingForResponse=!1)},500)}}else{this.displayedColumns=[],this.filterColumns=[],this.tempDraggableColumn=[],this.tempDraggableColumnFilter=[];const i="object"===this.utilService.checkArrayType(this.displayedColumns),r={table_name:"visa_document",display_column:h.cloneDeep(this.displayedColumns).map(s=>i?s?.column_name:{column_name:s}),filter_column:h.cloneDeep(this.filterColumns)};this.checkFilterAndSorting(),this.resetFilterWhenUpdateColumn(),this.createOrUpdateUserTableColumnSettings(r),this.getAllStudentVisaDocument("4")}}resetFilterWhenUpdateColumn(){this.isWaitingForResponse=!0,this.dataSource.data=[],this.isReset=!0,this.paginator.pageIndex=0}selectionChangesColumn(){this.templateColumnRef.optionSelectionChanges.pipe((0,pe.R)((e,a)=>(a.isUserInput&&a.source.value&&(this.latestSelectedColumn=a.source.value),a.source.selected&&a.isUserInput?[...e,a.source.value]:a.isUserInput?e.filter(i=>i!==a.source.value):(this.tempDraggableColumn=[],this.tempDraggableColumnFilter=[],this.columnCtrl.value)),[])).subscribe(e=>{this.tempColumnListTable=e})}defaultTemplateColumn(){this.columnCtrl.patchValue(this.defaultDisplayedColumns),this.updateColumn(this.defaultDisplayedColumns)}checkConditionalGraphql(){const e=Object.keys(this.conditionalGraphqlField);e.forEach(i=>{this.conditionalGraphqlField[i]=!1}),this.displayedColumns.includes("action")?e.forEach(i=>{this.conditionalGraphqlField[i]=!0}):this.displayedColumns.forEach(i=>{this.conditionalGraphqlField[i]=!0})}checkFilterAndSorting(){this.latestSelectedColumn&&this.defaultDisplayedColumns?.length&&this.defaultDisplayedColumns.forEach(e=>{if(!this.displayedColumns.includes(e?.colName))switch(e.colName){case"documentName":this.filteredValues.document_name=null,this.latestSelectedColumn=null,this.documentNameFilter.setValue(null,{emitEvent:!1}),this.sortValue?.document_name&&(this.sortValue=null,this.sort.direction="",this.sort.active="");break;case"dateAdded":this.filteredValues.date_added=null,this.latestSelectedColumn=null,this.dateAddedFilter.setValue(null,{emitEvent:!1}),this.sortValue?.date_added&&(this.sortValue=null,this.sort.direction="",this.sort.active="");break;case"dateOfValidity":this.filteredValues.date_of_validity=null,this.latestSelectedColumn=null,this.dateOfValidityFilter.setValue(null,{emitEvent:!1}),this.sortValue?.date_of_validity&&(this.sortValue=null,this.sort.direction="",this.sort.active="");break;case"status":this.filteredValues.validation_statuses=null,this.latestSelectedColumn=null,this.statusFilter.setValue(null,{emitEvent:!1}),this.sortValue?.validation_status&&(this.sortValue=null,this.sort.direction="",this.sort.active="");break;default:this.latestSelectedColumn=null}})}openColumnDropdown(){this.templateColumnRef.open()}handleClose(e){if(!e){const a=this.tempColumnListTable?.map(l=>l.colName);a?.length===this.displayedColumns?.length&&a.every(l=>this.displayedColumns.includes(l))||(this.tempColumnListTable?.length||this.columnCtrl.value?.length?this.tempColumnListTable.length&&(this.updateColumn(this.tempColumnListTable),this.tempColumnListTable=[]):this.updateColumn([]))}}drop(e){(0,N.bA)(this.displayedColumns,e.previousIndex,e.currentIndex),(0,N.bA)(this.filterColumns,e.previousIndex,e.currentIndex),this.tempDraggableColumn=h.cloneDeep(this.displayedColumns),this.tempDraggableColumnFilter=h.cloneDeep(this.filterColumns);const i="object"===this.utilService.checkArrayType(this.displayedColumns),r={table_name:"visa_document",display_column:h.cloneDeep(this.displayedColumns).map(s=>i?s?.column_name:{column_name:s}),filter_column:h.cloneDeep(this.filterColumns)};this.createOrUpdateUserTableColumnSettings(r)}createOrUpdateUserTableColumnSettings(e){e&&(this.subs.sink=this.authService.CreateOrUpdateUserTableColumnSettings(this.currentUser?._id,e).subscribe(a=>{a&&this.authService?.refreshTemplateTables(this.currentUser?._id)},a=>{c().fire({type:"info",title:"Warning",text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(Ot.q),t.\u0275\u0275directiveInject(U.t),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(Y0.D),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(rt.t))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-visa-document-tab"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(E.NW,7),t.\u0275\u0275viewQuery(V.YE,7),t.\u0275\u0275viewQuery(G0,5)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.paginator=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.sort=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.templateColumnRef=i.first)}},inputs:{candidateId:"candidateId",candidateData:"candidateData",programId:"programId"},features:[t.\u0275\u0275ProvidersFeature([U.t]),t.\u0275\u0275NgOnChangesFeature],decls:79,vars:74,consts:[[1,"top-space"],[1,"horizontal","header-button","header-action"],[1,"text-right","custom-button","tw-flex","tw-items-center","tw-justify-end"],[1,"button-dummy"],["class","btn-dummy","mat-raised-button","","color","accent","matTooltipPosition","above","style","z-index: 1",3,"disabled","matTooltip","click",4,"ngIf"],["appearance","legacy",1,"custom-form-field","mat-select-button",3,"ngClass"],["multiple","","disableOptionCentering","",3,"formControl","openedChange"],["templateColumn",""],["mat-raised-button","","color","accent","matTooltipPosition","above",3,"disabled","matTooltip"],[1,"tw-flex","tw-items-center"],["width","24","height","24","viewBox","0 0 24 24","role","presentation"],["fill","currentColor"],["d","M4 18h16.008C20 18 20 6 20 6H3.992C4 6 4 18 4 18zM2 5.994C2 4.893 2.898 4 3.99 4h16.02C21.108 4 22 4.895 22 5.994v12.012A1.997 1.997 0 0120.01 20H3.99A1.994 1.994 0 012 18.006V5.994z"],["d","M8 6v12h2V6zm6 0v12h2V6z"],[1,"container-dropdown"],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"p-grid"],[1,"p-col-8"],[1,"restore-to-default",3,"ngStyle","click"],[1,"p-col-4","text-right"],["mat-raised-button","","color","accent","matTooltipPosition","above",3,"matMenuTriggerFor","matTooltip","disabled"],["actions","matMenu"],["mat-menu-item","",1,"border-button",3,"matTooltip","click"],["mat-menu-item","",3,"matTooltip","click"],["mat-raised-button","","color","primary",3,"disabled","matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],[1,"custom-message",3,"ngClass"],[1,"p-grid","pad-top-30"],[1,"p-col-12","text-center"],["svgIcon","setting-column",1,"custom-icon-setting"],[1,"margin-top-10"],["mat-raised-button","","color","primary","matTooltipPosition","above",3,"matTooltip","disabled","click"],["mat-table","","matSort","","cdkDropList","","cdkDropListOrientation","horizontal",1,"mat-elevation-z8",3,"ngClass","dataSource","matSortChange","cdkDropListDropped"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","class","text-center",4,"matHeaderCellDef"],["mat-header-row","","class","example-boundary",4,"matHeaderRowDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["mat-raised-button","","color","accent","matTooltipPosition","above",1,"btn-dummy",2,"z-index","1",3,"disabled","matTooltip","click"],[3,"disabled","value"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["matInput","",3,"formControl","placeholder"],["matInput","","readonly","",1,"form-field",3,"placeholder","matDatepicker","formControl","click"],["matSuffix","",3,"for"],["dateAddedPick",""],["dateOfValidityPick",""],["bindLabel","key","bindValue","value",1,"custom-dropdownpanel",3,"multiple","clearable","appendTo","items","placeholder","notFoundText","closeOnSelect","formControl","close"],["ng-option-tmp",""],[4,"ngIf"],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],["cdkDrag","","cdkDragBoundary",".example-boundary","class","column-dragging","mat-sort-header","document_name","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["cdkDrag","","cdkDragBoundary",".example-boundary","mat-sort-header","document_name","mat-header-cell","",1,"column-dragging",3,"matTooltip"],["cdkDragHandle","","svgIcon","drag_indicator",1,"mat-icon-svgIcon","icon-drag"],["class","preview",4,"cdkDragPreview"],[1,"label-header"],[1,"preview"],[1,"preview-drag",2,"word-break","break-word"],["width","15px","fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],["mat-cell","",3,"matTooltip"],["cdkDrag","","cdkDragBoundary",".example-boundary","class","column-dragging","mat-sort-header","date_added","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["cdkDrag","","cdkDragBoundary",".example-boundary","mat-sort-header","date_added","mat-header-cell","",1,"column-dragging",3,"matTooltip"],["cdkDrag","","cdkDragBoundary",".example-boundary","class","column-dragging","mat-sort-header","date_of_validity","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["cdkDrag","","cdkDragBoundary",".example-boundary","mat-sort-header","date_of_validity","mat-header-cell","",1,"column-dragging",3,"matTooltip"],["cdkDrag","","cdkDragBoundary",".example-boundary","class","column-dragging","mat-sort-header","validation_status","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","matTooltipPosition","above",3,"matTooltip",4,"matCellDef"],["cdkDrag","","cdkDragBoundary",".example-boundary","mat-sort-header","validation_status","mat-header-cell","",1,"column-dragging",3,"matTooltip"],["mat-cell","","matTooltipPosition","above",3,"matTooltip"],[3,"ngClass",4,"ngIf"],["cdkDrag","","cdkDragBoundary",".example-boundary","class","column-dragging","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["cdkDrag","","cdkDragBoundary",".example-boundary","mat-header-cell","",1,"column-dragging",3,"matTooltip"],[1,"label-wrapper-no-sort"],["mat-cell",""],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["svgIcon","check-octagon","class","margin-right-button octagon-button green","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["svgIcon","close-octagon","class","margin-right-button octagon-button red-icon","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","click"],["svgIcon","calendar-plus"],["svgIcon","check-octagon","matTooltipPosition","above",1,"margin-right-button","octagon-button","green",3,"matTooltip","click"],["svgIcon","close-octagon","matTooltipPosition","above",1,"margin-right-button","octagon-button","red-icon",3,"matTooltip","click"],["svgIcon","file-download-outline"],["mat-header-cell","","colspan","100%",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row","",1,"example-boundary"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"]],template:function(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275template(4,q0,9,4,"button",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-form-field",5)(6,"mat-select",6,7),t.\u0275\u0275listener("openedChange",function(l){return a.handleClose(l)}),t.\u0275\u0275elementStart(8,"mat-select-trigger")(9,"button",8),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementStart(11,"span",9),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(12,"svg",10)(13,"g",11),t.\u0275\u0275element(14,"path",12)(15,"path",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275namespaceHTML(),t.\u0275\u0275elementStart(16,"mat-icon"),t.\u0275\u0275text(17,"keyboard_arrow_down"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(18,"div",14),t.\u0275\u0275template(19,K0,3,5,"mat-option",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(20,"mat-divider"),t.\u0275\u0275elementStart(21,"div",16)(22,"div",17)(23,"span",18),t.\u0275\u0275listener("click",function(){return a.isWaitingForResponse?"":a.defaultTemplateColumn()}),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(26,"div",19)(27,"small"),t.\u0275\u0275text(28),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(29,"button",20),t.\u0275\u0275pipe(30,"translate"),t.\u0275\u0275text(31),t.\u0275\u0275pipe(32,"translate"),t.\u0275\u0275elementStart(33,"mat-icon"),t.\u0275\u0275text(34,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(35,"mat-menu",null,21)(37,"button",22),t.\u0275\u0275listener("click",function(){return a.askForVisaDocument(a.candidateData)}),t.\u0275\u0275pipe(38,"translate"),t.\u0275\u0275text(39),t.\u0275\u0275pipe(40,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(41,"button",23),t.\u0275\u0275listener("click",function(){return a.sendReminder()}),t.\u0275\u0275pipe(42,"translate"),t.\u0275\u0275text(43),t.\u0275\u0275pipe(44,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(45,"button",24),t.\u0275\u0275listener("click",function(){return a.resetFilter()}),t.\u0275\u0275pipe(46,"translate"),t.\u0275\u0275element(47,"mat-icon",25),t.\u0275\u0275text(48),t.\u0275\u0275pipe(49,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(50,"div",26)(51,"div",27)(52,"div",28)(53,"mat-icon",29),t.\u0275\u0275text(54," setting-column "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(55,"div")(56,"h3"),t.\u0275\u0275text(57),t.\u0275\u0275pipe(58,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(59,"div"),t.\u0275\u0275text(60),t.\u0275\u0275pipe(61,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(62,"div",30)(63,"button",31),t.\u0275\u0275listener("click",function(){return a.openColumnDropdown()}),t.\u0275\u0275pipe(64,"translate"),t.\u0275\u0275text(65),t.\u0275\u0275pipe(66,"translate"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(67,"table",32),t.\u0275\u0275listener("matSortChange",function(l){return a.sortData(l)})("cdkDropListDropped",function(l){return a.drop(l)}),t.\u0275\u0275template(68,ly,2,1,"ng-container",33),t.\u0275\u0275template(69,Ly,8,7,"ng-container",33),t.\u0275\u0275elementContainerStart(70,34),t.\u0275\u0275template(71,Uy,3,0,"th",35),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(72,zy,1,0,"tr",36),t.\u0275\u0275template(73,$y,1,0,"tr",37),t.\u0275\u0275template(74,Hy,1,1,"tr",38),t.\u0275\u0275template(75,jy,1,1,"tr",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(76,Wy,3,3,"div",40),t.\u0275\u0275elementStart(77,"div",41),t.\u0275\u0275element(78,"mat-paginator",42),t.\u0275\u0275elementEnd()()),2&e){const i=t.\u0275\u0275reference(36);t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",!(null!=a.columnCtrl&&null!=a.columnCtrl.value&&a.columnCtrl.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",null!=a.columnCtrl&&null!=a.columnCtrl.value&&a.columnCtrl.value.length?"mrg-8":"mrg-6"),t.\u0275\u0275advance(1),t.\u0275\u0275property("formControl",a.columnCtrl),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(10,41,"Configure Column")),t.\u0275\u0275property("disabled",a.isWaitingForResponse),t.\u0275\u0275advance(10),t.\u0275\u0275property("ngForOf",a.defaultDisplayedColumns),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(69,Yy,a.isWaitingForResponse?"auto":"pointer")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(25,43,"Restore to default")," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2("",null==a.columnCtrl||null==a.columnCtrl.value?null:a.columnCtrl.value.length," / ",null==a.defaultDisplayedColumns?null:a.defaultDisplayedColumns.length,""),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(30,45,"Action")),t.\u0275\u0275property("matMenuTriggerFor",i)("disabled",a.isWaitingForResponse||!(null!=a.displayedColumns&&a.displayedColumns.length)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(32,47,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(38,49,"Ask for visa document")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(40,51,"Ask for visa document")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(42,53,"Send Reminder")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(44,55,"Send Reminder")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(46,57,"RESET")),t.\u0275\u0275property("disabled",a.isWaitingForResponse||!(null!=a.displayedColumns&&a.displayedColumns.length)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(49,59,"RESET")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",null!=a.displayedColumns&&a.displayedColumns.length?"hide":""),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(58,61,"Configure your columns")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(61,63,"You havent configured any columns yet. Add fields as columns to see table information.")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(64,65,"Configure Column")),t.\u0275\u0275property("disabled",a.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(66,67,"Configure Column")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",null!=a.displayedColumns&&a.displayedColumns.length?"":"hide")("dataSource",a.dataSource),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.displayedColumns),t.\u0275\u0275advance(3),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(71,Gy)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.dataSource.data.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",a.dataSource.data.length&&null!=a.displayedColumns&&a.displayedColumns.length?"":"hide"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(72,qy,a.documentCount<=10))("length",a.documentCount)("hidePageSize",!0)("pageSize",10)}},dependencies:[f.mk,f.sg,f.O5,f.PC,f.RF,f.n9,f.ED,N.Wj,N.Zt,N.Bh,N.pV,Q.ey,I.lW,st.oG,P.Mq,P.hl,P.nW,me.d,k.Hw,S.KE,S.R9,z.Nt,ut.VK,ut.OP,ut.p6,E.NW,D.Ou,it.gD,it.$L,V.YE,V.nU,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,G.gM,m.DefaultValueAccessor,m.CheckboxControlValueAccessor,m.NgControlStatus,m.NgModel,m.FormControlDirective,H.oO,H.Zl,K.w9,K.ir,K.Cm,M.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.horizontal[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#212121}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:50px;background:#eaa11c!important}.header-action[_ngcontent-%COMP%]{height:45px;padding:8px;background:#424242}.mat-column-documentName[_ngcontent-%COMP%], .mat-column-documentNameFilter[_ngcontent-%COMP%]{width:250px!important;min-width:250px!important;max-width:250px!important;text-align:left;padding-left:.5em!important}.mat-column-documentName[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-documentNameFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:96%;padding-left:8px}.mat-column-dateAdded[_ngcontent-%COMP%], .mat-column-dateAddedFilter[_ngcontent-%COMP%]{width:180px!important;text-align:left;min-width:180px!important;max-width:180px!important;padding-left:.5em!important}.mat-column-dateAdded[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-dateAddedFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:96%;padding-left:8px}.mat-column-dateOfValidity[_ngcontent-%COMP%], .mat-column-dateOfValidityFilter[_ngcontent-%COMP%]{width:180px!important;text-align:left;min-width:180px!important;max-width:180px!important;padding-left:.5em!important}.mat-column-dateOfValidity[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-dateOfValidityFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:96%;padding-left:8px}.mat-column-status[_ngcontent-%COMP%], .mat-column-statusFilter[_ngcontent-%COMP%]{width:142px!important;text-align:center;min-width:142px!important;max-width:142px!important;padding-left:.5em!important}.mat-column-status[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%], .mat-column-statusFilter[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%]{width:96%;padding-left:8px}.mat-column-action[_ngcontent-%COMP%], .mat-column-actionFilter[_ngcontent-%COMP%]{width:200px!important;min-width:200px!important;max-width:200px!important;padding-left:.5em!important;text-align:center}[_nghost-%COMP%]  table tr td, [_nghost-%COMP%]  table tr th{border-right:1px solid #545454}[_nghost-%COMP%]  table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em;padding-left:.5em!important}[_nghost-%COMP%]  table tr th{vertical-align:top;text-align:center}[_nghost-%COMP%]  table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]  table tr:nth-child(1) th{padding-top:.8em!important}[_nghost-%COMP%]  table thead tr:nth-child(1){height:35px;border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]  table thead tr:nth-child(2){border-top:none!important}[_nghost-%COMP%]  table thead tr:nth-child(1), [_nghost-%COMP%]  table thead tr:nth-child(2){background:#212121}[_nghost-%COMP%]  table thead tr:nth-child(1) th, [_nghost-%COMP%]  table thead tr:nth-child(2) th{color:#fff}[_nghost-%COMP%]  table td.mat-cell{padding-left:8px}[_nghost-%COMP%]  table th.mat-header-cell:first-of-type, [_nghost-%COMP%]  table td.mat-cell:first-of-type{padding:0}[_nghost-%COMP%]  table th.mat-header-cell:last-of-type, [_nghost-%COMP%]  table td.mat-cell:last-of-type{padding:0}.border-button[_ngcontent-%COMP%]{border-bottom:1px solid #dadada}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgb(241,241,241)!important;min-height:36px;align-items:center;overflow:hidden}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px;padding-right:8px;width:95%}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important;color:#fff}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent!important;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{top:11px;font-size:14px;padding:0}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-dropdownpanel-table{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-dropdownpanel-table .ng-dropdown-panel-items .ng-option{white-space:normal!important}  .ng-select.custom-dropdownpanel-table .ng-select-container .ng-value-container .ng-input>input{color:#fff!important}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container{width:12px;height:12px;margin-left:7px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background{background-color:transparent}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-checkmark .mat-checkbox-checkmark-path{stroke:#000!important}  .all-input.mat-checkbox-indeterminate .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-mixedmark{background-color:#000!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.octagon-button[_ngcontent-%COMP%]{vertical-align:middle;cursor:pointer;max-width:35px;max-height:35px}.red-icon[_ngcontent-%COMP%]{color:#ff4a4a;margin-right:2px;width:35px}.orange[_ngcontent-%COMP%]{color:#f49f36}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:purple}.black[_ngcontent-%COMP%]{color:#000}  .mat-menu-panel{margin-top:2px}.custom-form-field[_ngcontent-%COMP%]{width:94px}.custom-form-field[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0!important}  .mat-select-panel{margin-top:25px}.custom-message[_ngcontent-%COMP%]{height:50vh;min-height:50vh;max-height:50vh;background:#424242}.pad-top-30[_ngcontent-%COMP%]{padding-top:30px}.custom-icon-setting[_ngcontent-%COMP%]{width:150px!important;height:150px!important;max-width:150px!important;max-height:150px!important}.margin-top-10[_ngcontent-%COMP%]{margin-top:10px}.mrg-6[_ngcontent-%COMP%]{margin-top:6px!important}.mrg-8[_ngcontent-%COMP%]{margin-top:8px!important}.mat-select-button[_ngcontent-%COMP%]{margin-right:1px}.mat-select-button[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none}.mat-select-button[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.mat-select-button[_ngcontent-%COMP%]     .mat-select-arrow-wrapper{display:none}.mat-select-button[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.mat-select-button[_ngcontent-%COMP%]     .mat-select-trigger{width:150px!important;min-width:150px!important;max-width:150px!important}.button-dummy[_ngcontent-%COMP%]{display:inline-block!important;position:relative!important}.button-dummy[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute!important;top:-20px!important;left:9px!important}.column-dragging[_ngcontent-%COMP%]{transition:opacity .2s ease-in-out;background:#212121;color:#fff!important}.btn-dummy[_ngcontent-%COMP%]{margin-top:6px}.preview[_ngcontent-%COMP%]{transition:opacity .1s ease-in-out;background:#212121;color:#fff!important;height:inherit;width:4.5vw;z-index:1;padding:10px;opacity:.8;text-align:center}.preview[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:900}.preview[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{border:1px solid white;width:16px;height:16px;max-height:16px;max-width:16px;position:relative;left:35px;top:10px}  .cdk-drag.cdk-drag-preview>*{cursor:move;cursor:grabbing;cursor:-webkit-grabbing}  .cdk-drag.cdk-drag-placeholder>*{opacity:0}.container-dropdown[_ngcontent-%COMP%]{height:200px;max-height:200px;overflow:auto}.restore-to-default[_ngcontent-%COMP%]:hover{color:#3f51b5}.label-wrapper-no-sort[_ngcontent-%COMP%]{display:flex;vertical-align:center;justify-content:center;align-items:center;width:100%;margin:0 auto;position:relative}.label-header[_ngcontent-%COMP%]{position:relative;top:0;left:0;width:100%;height:100%;text-align:center;transition:.3s;cursor:unset!important}.label-header-checkbox[_ngcontent-%COMP%]{position:relative;top:0;left:0;height:100%;text-align:center;transition:left .3s;cursor:unset!important}.icon-drag[_ngcontent-%COMP%]{position:absolute;width:50px;height:100%;left:0;transform:translateY(-3.5px);text-align:center;transition:left .3s;opacity:0;color:#fff;cursor:pointer;z-index:10}.icon-drag-checkbox[_ngcontent-%COMP%]{position:absolute;left:5px;width:50px;height:100%;line-height:50px;text-align:center;transition:left .3s;opacity:0;color:#fff;cursor:pointer}.column-dragging[_ngcontent-%COMP%]{position:relative}.column-dragging[_ngcontent-%COMP%]:hover   .icon-drag[_ngcontent-%COMP%]{left:-5px;opacity:1}.column-dragging[_ngcontent-%COMP%]:hover   .icon-drag-checkbox[_ngcontent-%COMP%]{left:5px;opacity:1}.column-dragging[_ngcontent-%COMP%]:hover   .label-header[_ngcontent-%COMP%]{margin-left:5px}.column-dragging[_ngcontent-%COMP%]:hover   .label-header-checkbox[_ngcontent-%COMP%]{left:0;opacity:1}[_nghost-%COMP%]  .mat-sort-header-container{cursor:unset!important;position:relative;margin:0 auto}[_nghost-%COMP%]  .mat-sort-header-arrow{cursor:pointer}[_nghost-%COMP%]  .cdk-program-focused .mat-sort-header-container{border-bottom:unset!important}.preview-drag[_ngcontent-%COMP%]{min-width:100px!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}.custom-button[_ngcontent-%COMP%]{transform:translateY(-5px)}']}),n})();function Qy(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",3),t.\u0275\u0275element(1,"mat-spinner",4),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}function Xy(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h5"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Student")))}function Zy(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-card",19)(1,"ms-student-tab-detail",20),t.\u0275\u0275listener("reloadData",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(l.reload(i))})("reloadDataDetail",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(l.reloadDetail(i))}),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("candidateId",null==e?null:e._id)("scholarSeasonData",e)("studentStatusList",null==e?null:e.studentStatusList)("userData",a.userData)}}function Jy(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Contact")))}function t2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-student-new-contacts-tab",21),t.\u0275\u0275listener("reloadDataParent",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(l.reload(i))}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("countryCodeList",a.countryCodeList)("candidate",e)("showFinacment",null==e?null:e.showFinancement)}}function e2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Finance")))}function n2(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-card",19),t.\u0275\u0275element(1,"ms-student-finance-tab-detail",22),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("scholarSeasonData",e)("candidateId",null==e?null:e._id)}}function a2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"DOCUMENT.DOCUMENTS")))}function i2(n,o){if(1&n&&t.\u0275\u0275element(0,"ms-student-document-tab",23),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("candidateId",null==e?null:e._id)}}function o2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Visa document")))}function l2(n,o){if(1&n&&t.\u0275\u0275element(0,"ms-student-visa-document-tab",25),2&n){const e=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("candidateId",null==e?null:e._id)("candidateData",e)("programId",null==e||null==e.intake_channel?null:e.intake_channel._id)}}function r2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-tab",24),t.\u0275\u0275template(1,o2,3,3,"ng-template",11),t.\u0275\u0275template(2,l2,1,3,"ng-template",8),t.\u0275\u0275elementEnd())}function s2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Forms")))}function c2(n,o){if(1&n&&t.\u0275\u0275element(0,"ms-candidate-form-tab",26),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("candidateId",null==e?null:e._id)("scholarSeasonData",e)("isStudentCard",!0)}}function d2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Financement")))}function p2(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-card",19),t.\u0275\u0275element(1,"ms-student-financement-tab-detail",28),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("scholarSeasonData",e)("candidateId",null==e?null:e._id)("userData",a.userData)}}function m2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-tab",27),t.\u0275\u0275template(1,d2,3,3,"ng-template",11),t.\u0275\u0275template(2,p2,2,3,"ng-template",8),t.\u0275\u0275elementEnd())}function _2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Contract/Convention")))}function u2(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-card",19),t.\u0275\u0275element(1,"ms-student-convention-tab-detail",28),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("scholarSeasonData",e)("candidateId",null==e?null:e._id)("userData",a.userData)}}function g2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-tab",29),t.\u0275\u0275template(1,_2,3,3,"ng-template",11),t.\u0275\u0275template(2,u2,2,3,"ng-template",8),t.\u0275\u0275elementEnd())}function h2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-tab-group",9),t.\u0275\u0275listener("selectedIndexChange",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.childTabIndex=i)}),t.\u0275\u0275elementStart(1,"mat-tab",10),t.\u0275\u0275template(2,Xy,3,3,"ng-template",11),t.\u0275\u0275template(3,Zy,2,4,"ng-template",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"mat-tab",12),t.\u0275\u0275template(5,Jy,3,3,"ng-template",11),t.\u0275\u0275template(6,t2,1,3,"ng-template",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"mat-tab",13),t.\u0275\u0275template(8,e2,3,3,"ng-template",11),t.\u0275\u0275template(9,n2,2,2,"ng-template",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"mat-tab",14),t.\u0275\u0275template(11,a2,3,3,"ng-template",11),t.\u0275\u0275template(12,i2,1,1,"ng-template",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(13,r2,3,0,"mat-tab",15),t.\u0275\u0275elementStart(14,"mat-tab",16),t.\u0275\u0275template(15,s2,3,3,"ng-template",11),t.\u0275\u0275template(16,c2,1,3,"ng-template",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(17,m2,3,0,"mat-tab",17),t.\u0275\u0275template(18,g2,3,0,"mat-tab",18),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("selectedIndex",a.childTabIndex),t.\u0275\u0275advance(13),t.\u0275\u0275property("ngIf",null==e?null:e.require_visa_permit),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e?null:e.showFinancement),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.showFinancement)}}function f2(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-tab",7),t.\u0275\u0275template(2,h2,19,4,"ng-template",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("label",a.combinedProgram(e))}}function b2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-tab-group",5),t.\u0275\u0275listener("selectedIndexChange",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.tabIndex=i)}),t.\u0275\u0275template(1,f2,3,1,"ng-container",6),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("selectedIndex",e.tabIndex),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.scholarSeasons)}}let C2=(()=>{class n{constructor(e,a,i,l,r){this.candidateService=e,this.translate=a,this.authService=i,this.pageTitleService=l,this.router=r,this.loadingData=new t.EventEmitter,this.reloadData=new t.EventEmitter,this.reloadDataDetail=new t.EventEmitter,this.candidatePrograms=new t.EventEmitter,this.subs=new w.Y,this.isWaitingForResponse=!1,this.childTabIndex=0,this.listStatusAdmitted=[{value:"resigned",key:"Resign"}],this.listStatusResigned=[{value:"admission_in_progress",key:"Admitted"}],this.listStatusAdmittedFC=[{value:"resigned",key:"Resign"},{value:"financement_validated",key:"Financement valided"}],this.listStatusEngaged=[{value:"resigned_after_engaged",key:"Resign after engaged"}],this.listStatusEngagedFC=[{value:"resigned_after_engaged",key:"Resign after engaged"},{value:"financement_validated",key:"Financement valided"}],this.listStatusRegistered=[{value:"resigned_after_registered",key:"Resign after registered"},{value:"report_inscription",key:"Report Inscription +1"},{value:"resignation_missing_prerequisites",key:"resignation_missing_prerequisites"},{value:"resign_after_school_begins",key:"resign_after_school_begins"},{value:"no_show",key:"no_show"}],this.listStatusPostphone=[{value:"registered",key:"Registered"}],this.listStatusResignBegins=[{value:"registered",key:"Registered"}],this.listStatusBillValidatedFC=[{value:"financement_validated",key:"Financement valided"},{value:"resigned",key:"Resign"}],this.listStatusFinancementValidated=[{value:"resigned",key:"Resign"},{value:"report_inscription",key:"Report Inscription +1"},{value:"registered",key:"Registered"}],this.listStatusMissingPrerequisites=[{value:"registered",key:"Registered"}],this.listStatusInScholarship=[{value:"resigned",key:"Resign"}],this.listStatusForResignRegistered=[{value:"registered",key:"Registered"}],this.listStatusForResignEngaged=[{value:"admission_in_progress",key:"Admitted"}],this.listStatusForNoShow=[{value:"registered",key:"Registered"}]}ngOnInit(){this.updatePageTitle(),this.currentProgramSelected=this.router.snapshot.queryParamMap.get("currentProgram")}ngOnChanges(){this.getCandidateData()}updatePageTitle(){this.pageTitleService.setTitle(this.translate.instant("Student Card Student")),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.pageTitleService.setTitle(this.translate.instant("Student Card Student"))})}getStatusDropdown(){this.scholarSeasons?.length&&this.scholarSeasons.forEach(e=>{const a="classic"!==e?.type_of_formation_id?.type_of_formation;e.studentStatusList="admission_in_progress"===e?.candidate_admission_status||"admitted"===e?.candidate_admission_status||"resigned"===e?.candidate_admission_status?a?this.listStatusAdmittedFC:"resigned"===e?.candidate_admission_status?this.listStatusResigned:this.listStatusAdmitted:"engaged"===e?.candidate_admission_status?a?this.listStatusEngagedFC:this.listStatusEngaged:"registered"===e?.candidate_admission_status?this.listStatusRegistered:"report_inscription"===e?.candidate_admission_status?this.listStatusPostphone:"resign_after_school_begins"===e?.candidate_admission_status?this.listStatusResignBegins:"bill_validated"===e?.candidate_admission_status?this.listStatusBillValidatedFC:"financement_validated"===e?.candidate_admission_status?this.listStatusFinancementValidated:"resigned_after_registered"===e?.candidate_admission_status?this.listStatusForResignRegistered:"resignation_missing_prerequisites"===e?.candidate_admission_status?this.listStatusMissingPrerequisites:"resigned_after_engaged"===e?.candidate_admission_status?a?[]:this.listStatusForResignEngaged:"in_scholarship"===e?.candidate_admission_status?this.listStatusInScholarship:"no_show"===e?.candidate_admission_status?this.listStatusForNoShow:[],e.showFinancement=!!e?.type_of_formation_id?.type_of_formation&&"classic"!==e.type_of_formation_id.type_of_formation})}getCandidateData(){if(this.currentProgramSelected=this.router?.snapshot?.queryParamMap?.get("selectedProgram")?this.router?.snapshot?.queryParamMap?.get("selectedProgram"):"",this.currentProgramSelected||(this.currentProgramSelected=this.router?.snapshot?.queryParamMap?.get("currentProgram")?this.router?.snapshot?.queryParamMap?.get("currentProgram"):""),this.isWaitingForResponse=!0,this.scholarSeasons?.length){if(this.scholarSeasons=this.scholarSeasons.filter(e=>!("admitted"===e?.candidate_admission_status&&!e?.is_program_assigned))?.sort((e,a)=>e?.intake_channel?.scholar_season_id?.scholar_season<a?.intake_channel?.scholar_season_id?.scholar_season?-1:e?.intake_channel?.scholar_season_id?.scholar_season>a?.intake_channel?.scholar_season_id?.scholar_season?1:0),this.scholarSeasons[this.scholarSeasons.length-1].last_index=!0,this.scholarSeasons?.length)if(this.currentProgramSelected){const e=this.scholarSeasons.findIndex(a=>a?.intake_channel?._id===this.currentProgramSelected);this.tabIndex=e>=0?e:this.scholarSeasons.length-1}else{const e=this.scholarSeasons.findIndex(a=>"active"===a?.program_status);this.tabIndex=e>=0?e:this.scholarSeasons.length-1}this.moveToTab(this.subTab),this.isWaitingForResponse=!1,this.getStatusDropdown()}}intakeChannel(e){let a="";return e&&e.intake_channel&&e.intake_channel.program&&e.scholar_season&&e.scholar_season.scholar_season&&e.school.short_name&&e.campus.name&&e.level.name?(a=(e.scholar_season.scholar_season?e.scholar_season.scholar_season:"")+" - "+(e.school&&e.school.short_name?e.school.short_name:"")+" - "+(e.campus&&e.campus.name?e.campus.name:"")+" - "+(e.level&&e.level.name?e.level.name:"")+(e.speciality&&e.speciality.name?" - "+e.speciality.name:""),a):""}mapIntakeChannel(e){let a=[];if(e&&e.previous_programs&&e.previous_programs.length>0&&e.previous_programs.forEach(i=>{i.intake_channel&&i.intake_channel.program===e.initial_intake_channel?(i.is_current=!1,i.is_initial=!0,i.is_previous=!1,a.push(i)):i.intake_channel&&i.intake_channel._id===e.latest_previous_program._id&&(i.is_current=!1,i.is_initial=!1,i.is_previous=!0,a.push(i))}),e.intake_channel){let i=e;i.is_current=!0,i.is_initial=!1,i.is_previous=!1,a.push(i)}return a=a.sort((i,l)=>i.is_initial?-1:i.is_current||l.is_initial?1:void 0),a}combinedProgram(e){if(e&&e.intake_channel)return`${e.intake_channel.scholar_season_id.scholar_season} - ${e.intake_channel.program}`}moveToTab(e){const a=this.tabIndex;if(e)switch(e){case"Contact":this.childTabIndex=1;break;case"Finance":this.childTabIndex=2;break;case"Documents":this.childTabIndex=3;break;case"VisaDocument":this.childTabIndex=4;break;case"Forms":this.scholarSeasons[a]?.require_visa_permit?this.childTabIndex=5:this.scholarSeasons[a]?.require_visa_permit||(this.childTabIndex=4);break;case"Financement":this.scholarSeasons[a]?.require_visa_permit?this.childTabIndex=6:this.scholarSeasons[a]?.require_visa_permit||(this.childTabIndex=5);break;case"Contract/Convention":this.scholarSeasons[a]?.require_visa_permit?this.childTabIndex=7:this.scholarSeasons[a]?.require_visa_permit||(this.childTabIndex=6);break;default:this.childTabIndex=0}}reload(e){e&&this.reloadData.emit(e)}reloadDetail(e){e&&this.reloadData.emit(e)}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(mt.o),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(nt.Z),t.\u0275\u0275directiveInject(tt.gz))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-tab"]],inputs:{scholarSeasons:"scholarSeasons",showFinancement:"showFinancement",subTab:"subTab",countryCodeList:"countryCodeList"},outputs:{loadingData:"loadingData",reloadData:"reloadData",reloadDataDetail:"reloadDataDetail",candidatePrograms:"candidatePrograms"},features:[t.\u0275\u0275NgOnChangesFeature],decls:3,vars:2,consts:[[2,"padding-top","5px","min-height","280px"],["class","inner-loading-indicator",4,"ngIf"],["animationDuration","500ms","style","margin: 0 !important","class","parent-tab",3,"selectedIndex","selectedIndexChange",4,"ngIf"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"],["animationDuration","500ms",1,"parent-tab",2,"margin","0 !important",3,"selectedIndex","selectedIndexChange"],[4,"ngFor","ngForOf"],[1,"custom-tab",3,"label"],["matTabContent",""],[1,"child-tab",3,"selectedIndex","selectedIndexChange"],["label","Student"],["mat-tab-label",""],["label","Contact"],["label","Finance"],["label","Documents"],["label","Visa document",4,"ngIf"],["label","Forms"],["label","Financement",4,"ngIf"],["label","Contract/Convention",4,"ngIf"],[1,"card-background",2,"margin-top","1% !important"],[3,"candidateId","scholarSeasonData","studentStatusList","userData","reloadData","reloadDataDetail"],[3,"countryCodeList","candidate","showFinacment","reloadDataParent"],[3,"scholarSeasonData","candidateId"],[3,"candidateId"],["label","Visa document"],[3,"candidateId","candidateData","programId"],[3,"candidateId","scholarSeasonData","isStudentCard"],["label","Financement"],[3,"scholarSeasonData","candidateId","userData"],["label","Contract/Convention"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,Qy,2,1,"div",1),t.\u0275\u0275template(2,b2,2,2,"mat-tab-group",2),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a.scholarSeasons?null:a.scholarSeasons.length))},dependencies:[f.sg,f.O5,ft.a8,D.Ou,X.SP,X.uD,X.uX,X.Vc,Pa,Ch,r1,j1,$b,Wx,V0,Ky,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]  .parent-tab.mat-tab-group .mat-tab-label{min-width:150px!important;background-color:#000!important;font-size:15px;opacity:1!important;color:#fff!important;font-weight:900!important;margin-right:8px}[_nghost-%COMP%]  .parent-tab.mat-tab-group .mat-tab-list .mat-tab-labels{color:#ffe77a!important}[_nghost-%COMP%]  .parent-tab.mat-tab-group .mat-tab-label-active{border:1px solid #607d8b!important;background-color:#607d8b!important;color:#ffe77a!important}[_nghost-%COMP%]  .parent-tab.mat-tab-group .mat-tab-label.mat-tab-disabled, [_nghost-%COMP%]  .parent-tab.mat-tab-group .mat-tab-link.mat-tab-disabled{border:1px solid black!important;background-color:#000!important;color:#a2a2a2!important}[_nghost-%COMP%]  .parent-tab.mat-tab-group .mat-ink-bar{background-color:unset!important}[_nghost-%COMP%]  .parent-tab.mat-tab-group .mat-tab-header{font-weight:400;color:inherit;margin-top:1.2em;align-items:center!important}[_nghost-%COMP%]  .mat-tab-body-content{overflow:hidden!important}[_nghost-%COMP%]  .child-tab.mat-tab-group{margin-top:0!important}[_nghost-%COMP%]  .child-tab.mat-tab-group .mat-tab-header{font-size:.9em}[_nghost-%COMP%]  .child-tab.mat-tab-group .mat-tab-label{min-width:25px!important;background-color:transparent!important;margin-right:0!important;font-size:14px}[_nghost-%COMP%]  .child-tab.mat-tab-group .mat-tab-label h4{font-size:13px}[_nghost-%COMP%]  .child-tab.mat-tab-group .mat-tab-label-active{box-shadow:unset;border-right:none!important;border-left:none!important;border-top:none!important;background-color:transparent!important;color:#ffd740!important;font-weight:900!important;border-bottom:2.5px solid #607d8b!important}[_nghost-%COMP%]  .child-tab.mat-tab-group .mat-card{margin-top:5%}[_nghost-%COMP%]  .child-tab.mat-tab-group .mat-tab-list .mat-tab-labels{color:#ffd740!important}[_nghost-%COMP%]  .child-tab.mat-tab-group .mat-tab-label.mat-tab-disabled, [_nghost-%COMP%]  .child-tab.mat-tab-group .mat-tab-link.mat-tab-disabled{background-color:transparent!important;color:#fff!important}[_nghost-%COMP%]  .child-tab.mat-tab-group .mat-ink-bar{background-color:unset!important}.card-background[_ngcontent-%COMP%]{background:#607d8b;padding:.5em;min-height:250px}"]}),n})();function x2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function y2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",31),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.selectCategory(l))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function v2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-form-field",12),t.\u0275\u0275element(1,"input",28),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"mat-autocomplete",29,30)(5,"mat-option",31),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.selectCategory("add"))}),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,y2,2,2,"mat-option",32),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275reference(4),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,7,"Category")),t.\u0275\u0275property("formControl",a.categoryFilterCtrl)("matAutocomplete",e),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("value","add"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(7,9,"Add More")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.categoryFilterList)}}function T2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-form-field",12),t.\u0275\u0275element(1,"input",33),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,1,"Category")))}function M2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",34),t.\u0275\u0275element(1,"mat-spinner",35),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let ue=(()=>{class n{constructor(e,a,i,l,r,s){this.dialogRef=e,this.fb=a,this.translate=i,this.candidateService=l,this.utilService=r,this.data=s,this.Editor=Nt,this.subs=new w.Y,this.isWaitingForResponse=!1,this.isEdit=!1,this.isEditMode=!1,this.isAddMore=!1,this.config={placeholder:this.translate.instant("Title"),height:"20rem",toolbar:[]},this.categoryFilterList=[],this.categoryFilterCtrl=new m.UntypedFormControl("")}ngOnInit(){this.data&&(this.candidateId=this.data.candidateId,this.currentUser=this.data.currentUser,this.allDataUser=this.data.allDataUser,this.allUser=this.data.allUser,this.isEdit=this.data.isEdit),this.initAddCommentForm(),this.getAllCandidateCommentCategories(),this.isEdit&&(this.commentId=this.data.commentToEdit,this.getOneCandidateComment()),this.config.mention={feeds:[{marker:"@",feed:e=>this.getFeedItems(e),minimumCharacters:0}]}}getAllCandidateCommentCategories(){this.subs.sink=this.candidateService.GetAllCandidateCommentCategories().subscribe(e=>{e&&e.length&&(this.categoryFilterList=e)},e=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getOneCandidateComment(){this.isWaitingForResponse=!0,this.commentData=[],this.subs.sink=this.candidateService.GetOneCandidateComment(this.commentId).subscribe(e=>{if(!e)return this.commentData=[],void(this.isWaitingForResponse=!1);{console.log(e);const a=h.cloneDeep(e);if(a.candidate_id&&a.candidate_id._id&&(a.candidate_id=a.candidate_id._id),a.created_by&&a.created_by._id&&(a.created_by=a.created_by._id),a.reply_for_comment_id&&a.reply_for_comment_id._id&&(a.reply_for_comment_id=a.reply_for_comment_id._id),a.reply_comment_ids&&a.reply_comment_ids.length){const i=[];a.reply_comment_ids.forEach(l=>{i.push(l._id)}),a.reply_comment_ids=i}if(a.tagged_user_ids&&a.tagged_user_ids.length){const i=[];a.tagged_user_ids.forEach(l=>{i.push(l._id)}),a.tagged_user_ids=i}a.category&&this.categoryFilterCtrl.setValue(a.category),console.log(a),this.commentData=a,this.form.patchValue(a),this.initialForm=this.form.getRawValue(),this.isWaitingForResponse=!1}},e=>{this.commentData=[],this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}initAddCommentForm(){this.form=this.fb.group({candidate_id:[this.candidateId],created_by:[this.currentUser._id],subject:[null,m.Validators.required],comment:[null,m.Validators.required],is_personal_situation:[!1],is_restrictive_conditions:[!1],is_reply:[!1],reply_for_comment_id:[null],reply_comment_ids:[null],tagged_user_ids:[null],category:[null]}),this.initialForm=this.form.getRawValue()}selectCategory(e){e?"add"===e?this.isAddMore=!0:this.form.controls.category.patchValue(e):this.form.controls.category.patchValue(null)}onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}getFeedItems(e){return console.log(this.allDataUser),new Promise(a=>{setTimeout(()=>{if(e){const i=this.allDataUser.filter(l=>{console.log(e);let r=this.utilService.simpleDiacriticSensitiveRegex((l.last_name+l.first_name).toLowerCase());r=r.toLowerCase().trim();let s=this.utilService.simpleDiacriticSensitiveRegex(e.toLowerCase());return s=s.toLowerCase().trim(),r.includes(s)});this.allUser=i.map(l=>"@"+l.last_name.toUpperCase()+" "+l.first_name),console.log("all user",this.allUser),a(this.allUser)}else this.allUser=this.allDataUser.map(i=>"@"+i.last_name+" "+i.first_name).slice(0,4),console.log("all user",this.allUser),a(this.allUser)},50)})}getUserTagged(){let l,e=this.utilService.cleanHTML(this.form.controls.comment.value).split(" "),a=[],i=!1;e.forEach(s=>{if(console.log("_",s),s.includes("@")){const d=s.substr(1,s.length);return console.log("_>>>",d),a.push(d),i=!0,void(l=a.length)}i&&(a[l-1]=a[l-1]+" "+s,i=!1)});let r=[];return console.log(a),a.forEach(s=>{let d=[],p=s.split(" ");for(let u=0;u<p.length;u++)this.allDataUser.find(_=>{_&&_.last_name&&_.first_name&&_.last_name.toLowerCase().includes(p[u].toLowerCase())&&_.first_name===p[p.length-1]&&(d.push(_),r.push(_._id))})}),console.log("_res",r),r}checkFormValidity(){var e=this;return(0,$t.Z)(function*(){return!e.form.invalid||(e.isWaitingForResponse=!1,yield c().fire({type:"warning",title:e.translate.instant("FormSave_S1.TITLE"),html:e.translate.instant("FormSave_S1.TEXT"),confirmButtonText:e.translate.instant("FormSave_S1.BUTTON")}),e.form.markAllAsTouched(),!1)})()}submit(){var e=this;return(0,$t.Z)(function*(){e.isWaitingForResponse=!0,(yield e.checkFormValidity())&&(e.isEdit?e.updateComment():e.createComment())})()}createComment(){let e=this.form.getRawValue();e.tagged_user_ids=this.getUserTagged(),e.is_reply=!1,delete e.reply_for_comment_id,delete e.reply_comment_ids,console.log(e),this.subs.sink=this.candidateService.CreateCandidateComment(e).subscribe(a=>{this.isWaitingForResponse=!1,a&&c().fire({type:"success",title:this.translate.instant("Bravo"),confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1}).then(i=>{i.value&&this.dialogRef.close("create")})},a=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}updateComment(){let e=this.form.getRawValue();e.tagged_user_ids=this.getUserTagged(),e.is_reply=!1,console.log(e),this.subs.sink=this.candidateService.UpdateCandidateComment(this.commentId,e).subscribe(a=>{this.isWaitingForResponse=!1,a&&c().fire({type:"success",title:this.translate.instant("Bravo"),confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1}).then(i=>{i.value&&this.dialogRef.close("create")})},a=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}checkFormChanged(){return JSON.stringify(this.form.getRawValue())===JSON.stringify(this.initialForm)}closeDialog(){this.dialogRef.close()}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(m.UntypedFormBuilder),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(mt.o),t.\u0275\u0275directiveInject(rt.t),t.\u0275\u0275directiveInject(T.WI))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],decls:54,vars:34,consts:[[1,"dialog-border"],[1,"dialogTitleWrapper","header-dialog"],[1,"p-grid"],[1,"w-30","no-padding"],["mat-icon-button","",1,"mt-5px"],[1,"p-col-10","no-padding"],[1,"dialogTitle"],[1,"p-col","no-padding"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",3,"formGroup"],[1,"p-col-12","no-padding"],[1,"p-col-6"],[1,"full-wid"],["matInput","","formControlName","subject","required","",3,"placeholder"],[4,"ngIf"],["class","full-wid",4,"ngIf"],[1,"p-col-12"],["formControlName","is_personal_situation",3,"value"],["formControlName","is_restrictive_conditions",3,"value"],[1,"p-col-12","pad-y-none"],[1,"title"],[1,"ckeditor"],["msPreventInputTagCharacters","",3,"editor","formControl","config","ready"],["editor",""],["class","inner-loading-indicator",4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end","mr-10"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-button","","mat-raised-button","","color","primary",1,"mr-0",3,"click"],["matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"panelWidth"],["autoScholar","matAutocomplete"],[3,"value","click"],[3,"value","click",4,"ngFor","ngForOf"],["matInput","","formControlName","category",3,"placeholder"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",5)(7,"h3",6),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",7)(12,"button",8),t.\u0275\u0275listener("click",function(){return a.closeDialog()}),t.\u0275\u0275elementStart(13,"mat-icon"),t.\u0275\u0275text(14,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(15,"div",9)(16,"div",2)(17,"div",10)(18,"div",2)(19,"div",11)(20,"div",2)(21,"mat-form-field",12),t.\u0275\u0275element(22,"input",13),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275template(24,x2,3,3,"mat-error",14),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(25,"div",2),t.\u0275\u0275template(26,v2,9,11,"mat-form-field",15),t.\u0275\u0275template(27,T2,3,3,"mat-form-field",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(28,"div",11)(29,"div",2)(30,"div",16)(31,"mat-checkbox",17),t.\u0275\u0275text(32),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(34,"div",16)(35,"mat-checkbox",18),t.\u0275\u0275text(36),t.\u0275\u0275pipe(37,"translate"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(38,"div",19)(39,"div",20)(40,"p"),t.\u0275\u0275text(41),t.\u0275\u0275pipe(42,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(43,"div",21)(44,"ckeditor",22,23),t.\u0275\u0275listener("ready",function(l){return a.onReady(l)}),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(46,M2,2,1,"div",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(47,"div",25)(48,"button",26),t.\u0275\u0275listener("click",function(){return a.closeDialog()}),t.\u0275\u0275text(49),t.\u0275\u0275pipe(50,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(51,"button",27),t.\u0275\u0275listener("click",function(){return a.submit()}),t.\u0275\u0275text(52),t.\u0275\u0275pipe(53,"translate"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(a.isEdit?"edit":"add"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(a.isEdit?t.\u0275\u0275pipeBind1(9,18,"Edit Comment"):t.\u0275\u0275pipeBind1(10,20,"Add Comment")),t.\u0275\u0275advance(7),t.\u0275\u0275property("formGroup",a.form),t.\u0275\u0275advance(7),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(23,22,"Subject")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.form.get("subject").errors),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.isAddMore),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isAddMore),t.\u0275\u0275advance(4),t.\u0275\u0275property("value",a.form.controls.is_personal_situation),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(33,24,"Special personal situation")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("value",a.form.controls.is_restrictive_conditions),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(37,26,"Restrictive condition")," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(42,28,"Commentary"),"*"),t.\u0275\u0275advance(3),t.\u0275\u0275property("editor",a.Editor)("formControl",a.form.controls.comment)("config",a.config),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(50,30,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(53,32,"Validate")," "))},dependencies:[f.sg,f.O5,gt.XC,gt.ZL,Q.ey,I.lW,st.oG,T.xY,T.H8,k.Hw,S.TO,S.KE,z.Nt,D.Ou,m.DefaultValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.RequiredValidator,m.FormControlDirective,m.FormGroupDirective,m.FormControlName,kt.c,Dt.u,M.X$],styles:[".dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#fff}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid rgb(255,255,255)}.no-padding[_ngcontent-%COMP%]{padding:0}.float-right[_ngcontent-%COMP%]{float:right}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.header-dialog[_ngcontent-%COMP%]{padding:0 5px 0 15px}.mat-dialog-content[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:15px;padding:0}.w-30[_ngcontent-%COMP%]{width:30px}.w-65[_ngcontent-%COMP%]{width:65px}.mt-5px[_ngcontent-%COMP%]{margin-top:5px}[_nghost-%COMP%]  .ckeditor .ck-content{min-height:10rem!important;background:rgba(114,114,114,0)!important;color:#fff!important}[_nghost-%COMP%]  .ckeditor .ck-editor__editable_inline{border:1px solid #b8b8b8}[_nghost-%COMP%]  .ck.ck-toolbar{border:none}[_nghost-%COMP%]  .dialog-body{color:#fff}input[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-underline{background-color:#fff6}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-label, .mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%]{color:#ffffffd9}[_nghost-%COMP%]  .mat-checkbox-inner-container{border:1px solid white}"]}),n})();function S2(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",21),t.\u0275\u0275element(2,"img",22),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",23)(4,"div",10)(5,"div",24)(6,"div",25)(7,"div",26)(8,"span"),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275pipe(11,"uppercase"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",27)(13,"span"),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(16,"div",27)(17,"span"),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(20,"div",28),t.\u0275\u0275element(21,"div",29),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("src",null!=e.candidateComments&&null!=e.candidateComments.created_by&&e.candidateComments.created_by.profile_picture?e.serverimgPath+(null==e.candidateComments||null==e.candidateComments.created_by?null:e.candidateComments.created_by.profile_picture):"MR"===(null==e.candidateComments||null==e.candidateComments.created_by?null:e.candidateComments.created_by.civility)?e.maleStudentIcon:"neutral"===(null==e.candidateComments||null==e.candidateComments.created_by?null:e.candidateComments.created_by.civility)?e.neutralStudentIcon:e.femaleStudentIcon,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate5(" ",null!=e.candidateComments&&null!=e.candidateComments.created_by&&e.candidateComments.created_by.civility&&"neutral"===(null==e.candidateComments||null==e.candidateComments.created_by?null:e.candidateComments.created_by.civility)?"":t.\u0275\u0275pipeBind1(10,11,null==e.candidateComments||null==e.candidateComments.created_by?null:e.candidateComments.created_by.civility)," ",null==e.candidateComments||null==e.candidateComments.created_by?null:e.candidateComments.created_by.first_name," ",t.\u0275\u0275pipeBind1(11,13,null==e.candidateComments||null==e.candidateComments.created_by?null:e.candidateComments.created_by.last_name)," - ",e.transformDate(null==e.candidateComments?null:e.candidateComments.date_created)," - ",e.transformTime(null==e.candidateComments?null:e.candidateComments.date_created)," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(15,15,"Subject")," : ",null==e.candidateComments?null:e.candidateComments.subject,""),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(19,17,"Category")," : ",null!=e.candidateComments&&e.candidateComments.category?null==e.candidateComments?null:e.candidateComments.category:"-",""),t.\u0275\u0275advance(3),t.\u0275\u0275property("innerHTML",null==e.candidateComments?null:e.candidateComments.comment,t.\u0275\u0275sanitizeHtml)}}function O2(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",31)(2,"div",21),t.\u0275\u0275element(3,"img",22),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",23)(5,"div",10)(6,"div",24)(7,"div",25)(8,"div",26)(9,"span"),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275pipe(12,"uppercase"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(13,"div",32),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"div",28),t.\u0275\u0275element(15,"div",29),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementContainerEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275property("src",null!=e&&null!=e.created_by&&e.created_by.profile_picture?a.serverimgPath+(null==e||null==e.created_by?null:e.created_by.profile_picture):"MR"===(null==e||null==e.created_by?null:e.created_by.civility)?a.maleStudentIcon:"neutral"===(null==e||null==e.created_by?null:e.created_by.civility)?a.neutralStudentIcon:a.femaleStudentIcon,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate5(" ",null!=e&&null!=e.created_by&&e.created_by.civility&&"neutral"===(null==e||null==e.created_by?null:e.created_by.civility)?"":t.\u0275\u0275pipeBind1(11,7,null==e||null==e.created_by?null:e.created_by.civility)," ",null==e||null==e.created_by?null:e.created_by.first_name," ",t.\u0275\u0275pipeBind1(12,9,null==e||null==e.created_by?null:e.created_by.last_name)," - ",a.transformDate(null==e?null:e.date_created)," - ",a.transformTime(null==e?null:e.date_created)," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("innerHTML",null==e?null:e.comment,t.\u0275\u0275sanitizeHtml)}}function P2(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,O2,16,11,"ng-container",30),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.candidateComments?null:e.candidateComments.reply_comment_ids)}}function w2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",33),t.\u0275\u0275element(1,"mat-spinner",34),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let D2=(()=>{class n{constructor(e,a,i,l,r,s){this.dialogRef=e,this.fb=a,this.translate=i,this.candidateService=l,this.utilService=r,this.data=s,this.Editor=Nt,this.subs=new w.Y,this.isWaitingForResponse=!1,this.isEdit=!1,this.isEditMode=!1,this.serverimgPath=`${St.a.baseApi}/fileuploads/`.replace("/graphql",""),this.maleStudentIcon="../../../../../assets/img/student_icon.png",this.femaleStudentIcon="../../../../../assets/img/student_icon_fem.png",this.neutralStudentIcon="../../../../../assets/img/student_icon_neutral.png",this.repliesList=[],this.filteredValues={candidate_id:"",subject:"",comment_body:"",created_by:"",date_comment_created:"",category:""},this.config={placeholder:this.translate.instant("Answer"),height:"20rem",toolbar:[]},this.commentForm=new m.UntypedFormControl(null)}ngOnInit(){this.data&&(this.candidateId=this.data.candidateId,this.commentId=this.data.commentId,this.currentUser=this.data.currentUser,this.allDataUser=this.data.allDataUser),this.initAddCommentForm(),this.config.mention={feeds:[{marker:"@",feed:e=>this.getFeedItems(e),minimumCharacters:0}]},this.commentId&&this.getCandidateComment()}getCandidateComment(){this.isWaitingForResponse=!0,this.repliesList=[],this.subs.sink=this.candidateService.GetOneCandidateComment(this.commentId).subscribe(e=>{if(!e)return this.repliesList=[],void(this.isWaitingForResponse=!1);{this.isWaitingForResponse=!1,this.candidateComments=e,console.log(e);const a=h.cloneDeep(e);a&&a.candidate_id&&a.candidate_id._id&&(a.candidate_id=a.candidate_id._id),a&&a.created_by&&a.created_by._id&&(a.created_by=this.currentUser._id),a&&a.reply_for_comment_id&&a.reply_for_comment_id._id&&(a.reply_for_comment_id=a.reply_for_comment_id._id),a.reply_comment_ids=a&&a.reply_comment_ids&&a.reply_comment_ids.length?a.reply_comment_ids.map(l=>l._id):null,a.tagged_user_ids=a&&a.tagged_user_ids&&a.tagged_user_ids.length?a.tagged_user_ids.map(l=>l._id):null,this.form.patchValue(a);const i=h.cloneDeep(e);this.repliesList=i}},e=>{this.repliesList=[],this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}transformDate(e){return e?y(e).format("DD/MM/YYYY"):""}transformTime(e){return e?y(e).format("HH:mm"):""}initAddCommentForm(){this.form=this.fb.group({candidate_id:[this.candidateId],created_by:[this.currentUser._id],subject:[null,m.Validators.required],comment:[null,m.Validators.required],is_personal_situation:[!1],is_restrictive_conditions:[!1],reply_comment_ids:[null],reply_for_comment_id:[null],tagged_user_ids:[null],category:[null],is_reply:[!0]})}onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}getFeedItems(e){return new Promise(a=>{setTimeout(()=>{if(e){const i=this.allDataUser.filter(l=>{console.log(e);let r=this.utilService.simpleDiacriticSensitiveRegex((l.last_name+l.first_name).toLowerCase());r=r.toLowerCase().trim();let s=this.utilService.simpleDiacriticSensitiveRegex(e.toLowerCase());return s=s.toLowerCase().trim(),r.includes(s)});this.allUser=i.map(l=>"@"+l.last_name.toUpperCase()+" "+l.first_name),console.log("all user",this.allUser),a(this.allUser)}else this.allUser=this.allDataUser.map(i=>"@"+i.last_name+" "+i.first_name).slice(0,4),console.log("all user",this.allUser),a(this.allUser)},50)})}getUserTagged(){let l,e=this.utilService.cleanHTML(this.commentForm.value).split(" "),a=[],i=!1;e.forEach(s=>{if(s.includes("@")){const d=s.substr(1,s.length);return a.push(d),i=!0,void(l=a.length)}i&&(a[l-1]=a[l-1]+" "+s,i=!1)});let r=[];return a.forEach(s=>{let d=[],p=s.split(" ");for(let u=0;u<p.length;u++)this.allDataUser.find(_=>{_&&_.last_name&&_.first_name&&_.last_name.toLowerCase().includes(p[u].toLowerCase())&&_.first_name===p[p.length-1]&&(d.push(_),r.push(_._id))})}),r}submit(){this.isWaitingForResponse=!0;const e=h.cloneDeep(this.form.value);e.tagged_user_ids=this.getUserTagged(),e.reply_for_comment_id=this.commentId,e.comment=this.commentForm.value,e.is_reply=!0,delete e.reply_comment_ids,this.subs.sink=this.candidateService.CreateCandidateComment(e).subscribe(a=>{this.isWaitingForResponse=!1,a&&this.dialogRef.close(!0)},a=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}closeDialog(){this.dialogRef.close()}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(m.UntypedFormBuilder),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(mt.o),t.\u0275\u0275directiveInject(rt.t),t.\u0275\u0275directiveInject(T.WI))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],decls:27,vars:10,consts:[[1,"dialog-border"],[1,"dialogTitleWrapper","header-dialog"],[1,"p-grid",2,"border-bottom","2px solid #c4c4c4"],[1,"w-30","no-padding"],["mat-icon-button","","svgIcon","clipboard-check",1,"mt-5px",2,"padding-top","3px"],[1,"p-col-10","no-padding",2,"width","92%"],[1,"dialogTitle"],[1,"p-col","no-padding"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",2,"max-height","470px"],[1,"p-grid"],[4,"ngIf"],["class","inner-loading-indicator",4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end","mr-10"],[1,"p-col-12","answer-section","nopadding"],[1,"answer-section",2,"display","block","position","relative"],[1,"ckeditor"],[3,"editor","formControl","config","ready"],["editor",""],["matSuffix","","mat-icon-button","",2,"position","absolute","right","12px","top","10px","transform","rotate(337deg)",3,"disabled","click"],[1,"mat-icon-status"],[1,"p-col-fixed","avatar",2,"width","60px"],[1,"student-details-img",3,"src"],[1,"p-col"],[1,"p-col-12","comment-section"],[1,"p-grid","comment-header"],[1,"p-col","comment-name"],[1,"p-col-3","comment-subject"],[1,"p-grid","comment-message"],[1,"p-col-12","message-body",3,"innerHTML"],[4,"ngFor","ngForOf"],[1,"p-grid",2,"padding-left","60px","width","100%"],[1,"p-col-6","comment-subject"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275element(4,"mat-icon",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",5)(6,"h3",6),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",7)(10,"button",8),t.\u0275\u0275listener("click",function(){return a.closeDialog()}),t.\u0275\u0275elementStart(11,"mat-icon"),t.\u0275\u0275text(12,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(13,"div",9)(14,"div",10),t.\u0275\u0275template(15,S2,22,19,"ng-container",11),t.\u0275\u0275template(16,P2,2,1,"ng-container",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(17,w2,2,1,"div",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"div",13)(19,"div",14)(20,"div",15)(21,"div",16)(22,"ckeditor",17,18),t.\u0275\u0275listener("ready",function(l){return a.onReady(l)}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"button",19),t.\u0275\u0275listener("click",function(){return a.submit()}),t.\u0275\u0275elementStart(25,"mat-icon",20),t.\u0275\u0275text(26,"send"),t.\u0275\u0275elementEnd()()()()()),2&e&&(t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,8,"Commentaries / Replies")),t.\u0275\u0275advance(8),t.\u0275\u0275property("ngIf",!(null!=a.candidateComments&&a.candidateComments.is_reply)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==a.candidateComments?null:a.candidateComments.reply_comment_ids)&&(null==a.candidateComments?null:a.candidateComments.reply_comment_ids.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isWaitingForResponse),t.\u0275\u0275advance(5),t.\u0275\u0275property("editor",a.Editor)("formControl",a.commentForm)("config",a.config),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!(null!=a.commentForm&&a.commentForm.value)))},dependencies:[I.lW,T.xY,T.H8,k.Hw,S.R9,D.Ou,m.NgControlStatus,m.FormControlDirective,f.sg,f.O5,Dt.u,M.X$,f.gd],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.overflow-auto[_ngcontent-%COMP%]{overflow:auto}.commentaries-card[_ngcontent-%COMP%]{margin-top:16px!important;min-height:280px}.pad-top[_ngcontent-%COMP%]{padding-top:3px}.avatar[_ngcontent-%COMP%]{width:60px;border-radius:50%}.student-details-img[_ngcontent-%COMP%]{border-radius:50%}.comment-section[_ngcontent-%COMP%]{border:1px solid #607d8b;background:#303030;color:#fff}[_nghost-%COMP%]  .ck.ck-content{padding-right:65px}[_nghost-%COMP%]  .ck.ck-toolbar{border:none}[_nghost-%COMP%]  .ck-editor__editable_inline{min-height:50px;border:1px solid #ffffff;background:rgba(255,255,255,.431372549)!important;color:#242424!important}.comment-message[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]     .mention{color:#00bfff!important}"]}),n})();var E2=C(69725),I2=C(75940);function k2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275element(1,"mat-spinner",15),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}function F2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",16),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.addComment())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",17),t.\u0275\u0275text(3,"add"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Add Comment")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,4,"Add Comment")," "))}function B2(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate5(" ",null!=e&&null!=e.actor&&e.actor.civility&&"neutral"===(null==e||null==e.actor?null:e.actor.civility)?"":t.\u0275\u0275pipeBind1(3,5,null==e||null==e.actor?null:e.actor.civility)," ",null==e||null==e.actor?null:e.actor.first_name," ",t.\u0275\u0275pipeBind1(4,7,null==e||null==e.actor?null:e.actor.last_name)," - ",a.formatDate(null==e?null:e.date_created)," (",t.\u0275\u0275pipeBind1(5,9,"UTC Time"),") ")}}function A2(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate5(" ",null!=e&&null!=e.created_by&&e.created_by.civility&&"neutral"===(null==e||null==e.created_by?null:e.created_by.civility)?"":t.\u0275\u0275pipeBind1(3,5,null==e||null==e.created_by?null:e.created_by.civility)," ",null==e||null==e.created_by?null:e.created_by.first_name," ",t.\u0275\u0275pipeBind1(4,7,null==e||null==e.created_by?null:e.created_by.last_name)," - ",a.formatDate(null==e?null:e.date_created)," (",t.\u0275\u0275pipeBind1(5,9,"UTC Time"),") ")}}function N2(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(3,2,"Category")," : ",null!=e&&e.category?"Academic"===(null==e?null:e.category)?t.\u0275\u0275pipeBind1(4,4,"Transfer_Program.Academic"):t.\u0275\u0275pipeBind1(5,6,null==e?null:e.category):"-","")}}function R2(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(2,2,"Category")," : ",null!=e&&e.category?a.updateTranslateCategory(null==e?null:e.category):"-","")}}function V2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.editComment(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",44),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Edit")),t.\u0275\u0275property("matTooltipDisabled",!1))}function L2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.deleteComment(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",44),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("matTooltipDisabled",!1))}function U2(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",46)(1,"mat-checkbox",47),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",null==e?null:e.is_personal_situation)("disabled",null==e?null:e.is_personal_situation),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,3,"Personal Situation")," ")}}function z2(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",48)(1,"mat-checkbox",47),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",null==e?null:e.is_restrictive_conditions)("disabled",null==e?null:e.is_restrictive_conditions),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,3,"Restrictive condition")," ")}}function $2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.replyComment(null==i?null:i._id))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",null==e||null==e.reply_comment_ids?null:e.reply_comment_ids.length," ",t.\u0275\u0275pipeBind1(2,2,"replies"),"")}}function H2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",21),t.\u0275\u0275element(2,"img",22),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",23)(4,"div",19)(5,"div",24)(6,"div",25)(7,"div",26),t.\u0275\u0275template(8,B2,6,11,"ng-container",20),t.\u0275\u0275template(9,A2,6,11,"ng-container",20),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",27)(11,"span"),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(14,"div",28),t.\u0275\u0275template(15,N2,6,8,"ng-container",12),t.\u0275\u0275template(16,R2,3,4,"ng-template",null,29,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"div",30),t.\u0275\u0275template(19,V2,4,4,"button",31),t.\u0275\u0275template(20,L2,4,4,"button",31),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(21,"div",19),t.\u0275\u0275template(22,U2,4,5,"div",32),t.\u0275\u0275template(23,z2,4,5,"div",33),t.\u0275\u0275element(24,"div",34),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(25,"div",35),t.\u0275\u0275element(26,"div",36),t.\u0275\u0275pipe(27,"safeHtml"),t.\u0275\u0275template(28,$2,3,4,"span",37),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(29,"div",38)(30,"div",39)(31,"div",40)(32,"ckeditor",41,42),t.\u0275\u0275listener("ready",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.onReady(i))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(34,"button",43),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.submit(i))}),t.\u0275\u0275elementStart(35,"mat-icon",44),t.\u0275\u0275text(36,"send"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275reference(17),a=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("src",null!=a&&null!=a.created_by&&a.created_by.profile_picture?i.serverimgPath+(null==a||null==a.created_by?null:a.created_by.profile_picture):"MR"===(null==a||null==a.created_by?null:a.created_by.civility)?i.maleStudentIcon:"neutral"===(null==a||null==a.created_by?null:a.created_by.civility)?i.neutralStudentIcon:i.femaleStudentIcon,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",null==a||null==a.actor?null:a.actor.civility),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=a&&null!=a.actor&&a.actor.civility)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(13,17,"Subject")," : ",i.getSubject(null==a?null:a.subject),""),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","Transfer of program"===(null==a?null:a.subject))("ngIfElse",e),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",i.hideEditDeleteButton(a)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.hideEditDeleteButton(a)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!0===(null==a?null:a.is_personal_situation)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!0===(null==a?null:a.is_restrictive_conditions)),t.\u0275\u0275advance(3),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(27,19,null==a?null:a.comment),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a?null:a.comment),t.\u0275\u0275advance(4),t.\u0275\u0275property("editor",i.Editor)("formControl",i.commentForm)("config",i.config),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!(null!=i.commentForm&&i.commentForm.value))}}function j2(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275template(1,H2,37,21,"ng-container",20),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_reply))}}function W2(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,j2,2,1,"div",18),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.candidateComments)}}function Y2(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",50)(1,"div",51)(2,"h3",52),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,1,"No Data")))}let G2=(()=>{class n{constructor(e,a,i,l,r,s,d,p,u,_,O,F,v){this.fb=e,this.translate=a,this.candidateService=i,this.pageTitleService=l,this.dialog=r,this.authService=s,this.utilService=d,this.userService=p,this.coreService=u,this.permission=_,this.parseUTCToLocalPipe=O,this.studentService=F,this.route=v,this.Editor=Nt,this.loadingData=new t.EventEmitter,this.subs=new w.Y,this.isWaitingForResponse=!1,this.loadDataUser=!1,this.serverimgPath=`${St.a.baseApi}/fileuploads/`.replace("/graphql",""),this.maleStudentIcon="../../../../../assets/img/student_icon.png",this.femaleStudentIcon="../../../../../assets/img/student_icon_fem.png",this.neutralStudentIcon="../../../../../assets/img/student_icon_neutral.png",this.isReset=!1,this.isUserAdmtc=!1,this.isUserAcaDirAdmin=!1,this.candidateComments=[],this.filteredValues={candidate_ids:"",subject:"",comment_body:"",created_by:"",date_comment_created:"",category:""},this.originalComments=[],this.categoryFilterList=[],this.userFilterList=[],this.dateFilterList=[],this.config={placeholder:this.translate.instant("Answer"),height:"20rem",toolbar:[]},this.commentForm=new m.UntypedFormControl(null),this.listManualActions=["Finance - OD student balance adjustment","Finance - OD cash transfer","Finance - Refund","Finance - Avoir","Finance - Payment line","Finance - Billing"]}ngOnInit(){this.getCurrentUser(),this.updatePageTitle(),this.initForm(),this.initAddCommentForm(),this.initFilter(),this.studentId?this.getAllCandidateIds(this.studentId):(this.candidateIds=[this.candidateId],this.filteredValues.candidate_ids=this.candidateIds,this.getAllCandidateComment()),this.userData&&this.userData.length&&this.getAllUsers(this.userData),this.getAllCandidateCommentCategories(),this.config.mention={feeds:[{marker:"@",feed:e=>this.getFeedItems(e),minimumCharacters:0}]},this.translateFinanceHistory(),setTimeout(()=>{this.coreService.sidenavOpen=!1},1e3)}getAllCandidateIds(e){this.isWaitingForResponse=!0,this.subs.sink=this.studentService.getAllCandidateIds([e]).subscribe(a=>{this.isWaitingForResponse=!1,a.length&&a[0]?.candidate_ids&&(this.candidateIds=a[0].candidate_ids.map(i=>i._id),this.filteredValues.candidate_ids=this.candidateIds,this.getAllCandidateComment())},a=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getAllCandidateCommentCategories(){this.subs.sink=this.candidateService.GetAllCandidateCommentCategories().subscribe(e=>{e&&e.length&&(this.categoryFilterList=e)},e=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}updatePageTitle(){this.pageTitleService.setTitle(this.translate.instant("Student Card Commentaries")),this.subs.sink=this.translate.onLangChange.subscribe(e=>{if(this.pageTitleService.setTitle(this.translate.instant("Student Card Commentaries")),this.originalComments&&this.originalComments.length){const a=h.cloneDeep(this.originalComments);a.forEach(i=>{this.updateDetailCommentaries(i),this.updateDetailCommentariesManualActions(i,i?.category),"Finance"===i?.category&&this.updateDetailCommentariesFinance(i)}),this.candidateComments=a}})}getCurrentUser(){this.currentUser=this.authService.getLocalStorageUser(),this.isUserAdmtc=this.utilService.isUserEntityADMTC(),this.isUserAcaDirAdmin=this.utilService.isUserAcadDirAdmin(),console.log("currentUser : ",this.currentUser),this.isUserAdmtc?this.entityData=this.currentUser.entities.find(e=>"admtc"===e.entity_name):this.isUserAcaDirAdmin&&(this.entityData=this.currentUser.entities.find(e=>"Academic Director"===e.type.name))}replyComment(e){this.subs.sink=this.dialog.open(D2,{width:"1015px",minHeight:"300px",disableClose:!0,autoFocus:!1,restoreFocus:!1,panelClass:"grey-mode-pop-up",data:{commentId:e,candidateId:this.candidateId,currentUser:this.currentUser,allDataUser:this.allDataUser,allUser:this.allUser}}).afterClosed().subscribe(a=>{a&&this.resetComment()})}getAllUsers(e){this.loadDataUser=!0,this.loadDataUser=!1,this.loadingData.emit(!1);const a=h.cloneDeep(e);this.allDataUser=a,this.allUser=this.allDataUser.map(i=>"@"+i.last_name+" "+i.first_name),this.config.mention={feeds:[{marker:"@",feed:i=>this.getFeedItems(i),minimumCharacters:0}]}}ngOnChanges(){this.userData&&this.userData.length&&(this.getAllUsers(this.userData),this.checkAutoReply()),this.updatePageTitle(),this.initForm(),this.initFilter(),this.studentId&&this.getAllCandidateIds(this.studentId),this.translateFinanceHistory()}initForm(){this.filterForm=this.fb.group({searchCommentFilter:[null],userFilter:[null],dateFilter:[null],categoryFilter:[null]})}initFilter(){this.subs.sink=this.filterForm.controls.userFilter.valueChanges.subscribe(e=>{this.filteredValues.created_by="AllM"===e?"":e,this.isReset||this.getAllCandidateComment("filter")}),this.subs.sink=this.filterForm.controls.dateFilter.valueChanges.subscribe(e=>{this.filteredValues.date_comment_created="AllF"===e?"":e,this.isReset||this.getAllCandidateComment("filter")}),this.subs.sink=this.filterForm.controls.categoryFilter.valueChanges.subscribe(e=>{this.filteredValues.category="AllF"===e?"":e,this.isReset||this.getAllCandidateComment("filter")}),this.subs.sink=this.filterForm.controls.searchCommentFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{!e||e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.filteredValues.comment_body="",this.isReset||this.getAllCandidateComment("filter")):(this.filteredValues.comment_body=e,this.isReset||this.getAllCandidateComment("filter"))})}updateDetailCommentariesFinance(e){const a=e?.comment?.match(/Reference: (.*?)(?=<\/p>)/)?.[1],i=e?.comment?.match(/Note: (.*?)(?=<\/p>)/)?.[1];if(e?.subject.includes("Delete action")){const l={createdUser:`${e?.created_by?.civility&&"neutral"!==e?.created_by?.civility?this.translate.instant(e?.created_by?.civility):""} ${e?.created_by?.first_name} ${e?.created_by?.last_name.toUpperCase()}`,amount:e?.payment_amount,note:`${i||"-"}`,reference:`${a||"-"}`,typeManual:this.translate.instant("manual_action_finance.manual_action."+e?.subject?.slice(e?.subject.indexOf("action:")+8)),edit:""};e.comment=this.translate.instant("RemoveManualAction.Body",{data:l})}else if(e?.subject.includes("Edit action")){let l="";if(e?.param_comment){const s=JSON.parse(e.param_comment),d=this.mappingParamManualActions(s);d.date&&(l=l?l+", "+d.date:d.date),d.credit&&(l=l?l+", "+d.credit:d.credit),d.debit&&(l=l?l+", "+d.debit:d.debit),d.initialLegaLentity&&(l=l?l+" , "+d.initialLegaLentity:d.initialLegaLentity),d.destionationLegalEntity&&(l=l?l+", "+d.destionationLegalEntity:d.destionationLegalEntity)}let r={createdUser:`${e?.created_by?.civility&&"neutral"!==e?.created_by?.civility?this.translate.instant(e?.created_by?.civility):""} ${e?.created_by?.first_name} ${e?.created_by?.last_name.toUpperCase()}`,amount:e?.payment_amount,note:`${i||"-"}`,reference:`${a||"-"}`,typeManual:this.translate.instant("manual_action_finance.manual_action."+e?.subject?.slice(e?.subject.indexOf("action:")+8)),edit:l};e.comment=this.translate.instant("EditManualAction.Body",{data:r})}else if("Modification on term"===e?.subject){e.comment=e.comment.replace("MRS",this.translate.instant("MRS")),e.comment=e.comment.replace("Mme",this.translate.instant("MRS")),e.comment=e.comment.replace("Mrs",this.translate.instant("MRS")),e.comment=e.comment.replace("MR",this.translate.instant("MR")),e.comment=e.comment.replace("Mr",this.translate.instant("MR")),e.comment=e.comment.replace("M.",this.translate.instant("MR")),e.subject=e?.subject?.replace("Modification on term",this.translate.instant("Modification on term")),e.comment=e?.comment?.replaceAll("Update in the term of",this.translate.instant("FINANCE_COMMENTARIES.Update in the term of")),e.comment=e?.comment?.replace("Nb of terms:",this.translate.instant("FINANCE_COMMENTARIES.Nb of terms")),e.comment=e?.comment?.replace("Payment method of term",this.translate.instant("FINANCE_COMMENTARIES.Payment method of term")),e.comment=e?.comment?.replaceAll("Amount term",this.translate.instant("FINANCE_COMMENTARIES.Amount term")),e.comment=e?.comment?.replaceAll("Due date term",this.translate.instant("FINANCE_COMMENTARIES.Due date term")),e.comment=e?.comment?.replaceAll("No Date",this.translate.instant("FINANCE_COMMENTARIES.No date")),e.comment=e?.comment?.replaceAll("check",this.translate.instant("PAYMENT_METHODS.check")),e.comment=e?.comment?.replaceAll("cash",this.translate.instant("PAYMENT_METHODS.cash")),e.comment=e?.comment?.replaceAll("credit_card",this.translate.instant("PAYMENT_METHODS.credit_card")),e.comment=e?.comment?.replaceAll("transfer",this.translate.instant("PAYMENT_METHODS.transfer")),e.comment=e?.comment?.replaceAll("sepa",this.translate.instant("PAYMENT_METHODS.sepa"));const r=/heure utc/gi;e.comment=e?.comment?.replaceAll(/utc time/gi,this.translate.instant("UTC Time")),e.comment=e?.comment?.replaceAll(r,this.translate.instant("UTC Time"))}else if(e?.subject.includes("Remove Payment of")){const l={createdUser:`${e?.created_by?.civility&&"neutral"!==e?.created_by?.civility?this.translate.instant(e?.created_by?.civility):""} ${e?.created_by?.first_name} ${e?.created_by?.last_name.toUpperCase()}`,amount:e?.payment_amount,note:`${i||"-"}`,reference:`${a||"-"}`};e.comment=this.translate.instant("RemovePayment.Body",{data:l})}else{e.comment=e.comment.replace("MRS",this.translate.instant("MRS")),e.comment=e.comment.replace("Mme",this.translate.instant("MRS")),e.comment=e.comment.replace("Mrs",this.translate.instant("MRS")),e.comment=e.comment.replace("MR",this.translate.instant("MR")),e.comment=e.comment.replace("Mr",this.translate.instant("MR")),e.comment=e.comment.replace("M.",this.translate.instant("MR")),e.comment=e.comment.replace("paid the amount of",this.translate.instant("paid the amount of")),e.comment=e.comment.replace("The payment of",this.translate.instant("The payment of")),e.comment=e.comment.replace("paid by",this.translate.instant("paid by")),e.comment=e.comment.replace("Bank Debit",this.translate.instant("Bank Debit")),e.comment=e.comment.replace("SEPA Direct Debit",this.translate.instant("SEPA Direct Debit")),e.comment=e.comment.replace("has been the subject of a \u201cChargeBack\u201d and has therefore been rejected",this.translate.instant("has been the subject of a \u201cChargeBack\u201d and has therefore been rejected")),e.comment=e.comment.replace("by bank on the",this.translate.instant("finance_comments.bank")),e.comment=e.comment.replace("by credit card on the",this.translate.instant("finance_comments.credit_card")),e.comment=e.comment.replace("by transfer on the",this.translate.instant("finance_comments.transfer")),e.comment=e.comment.replace("by check on the",this.translate.instant("finance_comments.check")),e.comment=e.comment.replace("by SEPA on the",this.translate.instant("finance_comments.sepa")),e.comment=e.comment.replace("by sepa on the",this.translate.instant("finance_comments.sepa")),e.comment=e.comment.replace("by cash on the",this.translate.instant("finance_comments.cash")),e.comment=e.comment.replaceAll("The payment was added by",this.translate.instant("finance_comments.the_payment")),e.comment=e.comment.replace("from",this.translate.instant("finance_comments.from")),e.comment=e.comment.replace("by",this.translate.instant("finance_comments.by")),e.comment=e.comment.replace("Reference",this.translate.instant("R\xe9f\xe9rence")),e.comment=e.comment.replace("An avoir of",this.translate.instant("An avoir of")),e.comment=e?.comment?.replace("A refund of",this.translate.instant("A Refund of")),e.comment=e.comment.replace("was made the",this.translate.instant("was made the")),e.comment=e.comment.replace(/to\s/,this.translate.instant("to")+" "),e.comment=e.comment.replaceAll("add_manual_payment",this.translate.instant("Add manual payment")),e.comment=e.comment.replaceAll(/[^re]admission_form/g," "+this.translate.instant("finance_comments.admission_form")),e.comment=e.comment.replaceAll(/readmission_form/g,this.translate.instant("finance_comments.readmission_form")),e.comment=e.comment.replaceAll("asking_payment",this.translate.instant("finance_comments.asking_payment")),e.comment=e.comment.replaceAll("auto_debit",this.translate.instant("Auto Debit")),e.comment=e.comment.replace("the",this.translate.instant("the"));const r=/heure utc/gi;e.comment=e?.comment?.replaceAll(/utc time/gi,this.translate.instant("UTC Time")),e.comment=e?.comment?.replaceAll(r,this.translate.instant("UTC Time"))}}mappingParamManualActions(e){let a,i,l,r,s;return e?.date_action&&e?.old_date_action&&(a=this.translate.instant("Date")+": "+e.old_date_action+" &#8594 "+e.date_action),e?.credit&&e?.old_credit&&(i=this.translate.instant("Amount")+": "+e.old_credit+" &#8594 "+e.credit),e?.debit&&e?.old_debit&&(l=this.translate.instant("Amount")+": "+e.old_debit+" &#8594 "+e.debit),e?.initial_legal_entity_id&&e?.old_initial_legal_entity_id&&(r=this.translate.instant("Initial legal entity")+": "+e.old_initial_legal_entity_id+" &#8594 "+e.initial_legal_entity_id),e?.destination_legal_entity_id&&e?.old_destination_legal_entity_id&&(s=this.translate.instant("Legal entity of destination")+": "+e.old_destination_legal_entity_id+" &#8594 "+e.destination_legal_entity_id),{date:a,credit:i,debit:l,initialLegaLentity:r,destionationLegalEntity:s}}updateDetailCommentaries(e){e.comment=e.comment?.replaceAll("<p>The student",this.translate.instant("Transfer_Program.The student")),e.comment=e.comment?.replaceAll("has been transferred from",this.translate.instant("Transfer_Program.has been transferred from")),e.comment=e.comment?.replace(/to\s/,this.translate.instant("Transfer_Program.to")+" "),e.comment=e.comment?.replaceAll("\n    the",this.translate.instant("Transfer_Program.\n    the")),e.comment=e.comment?.replaceAll("by",this.translate.instant("Transfer_Program.by")),e.comment=e.comment?.replaceAll("MRS",this.translate.instant("MRS")),e.comment=e.comment?.replaceAll("Mme",this.translate.instant("MRS")),e.comment=e.comment?.replaceAll("Mrs",this.translate.instant("MRS")),e.comment=e.comment?.replaceAll("MR",this.translate.instant("MR")),e.comment=e.comment?.replaceAll("Mr",this.translate.instant("MR")),e.comment=e.comment?.replaceAll("M.",this.translate.instant("MR")),e.comment=e?.comment?.replaceAll(/utc time/gi,this.translate.instant("UTC Time")),e.comment=e?.comment?.replaceAll(/heure utc/gi,this.translate.instant("UTC Time")),e.comment=e?.comment?.replaceAll("Zettaparte platform (Request from EDH Asana)",this.translate.instant("Transfer_Program.Zettabyte platform"))}updateDetailCommentariesManualActions(e,a){let i=0,l="",r="";i=e?.payment_amount,e?.master_transaction_id?(r=e?.master_transaction_id?.reference,l=e?.master_transaction_id?.note):(i=e?.subject?.slice(e?.subject.indexOf("of ")+3,e?.subject.indexOf("EUR")),r=e?.comment?.slice(e?.comment?.indexOf("Reference: ")+10,e?.comment?.indexOf("Note: ")),l=e?.comment?.slice(e?.comment?.indexOf("Note: ")+5));const s_createdUser=`${e?.created_by?.civility&&"neutral"!==e?.created_by?.civility?this.translate.instant(e?.created_by?.civility):""} ${e?.created_by?.first_name} ${e?.created_by?.last_name.toUpperCase()}`,s_manualAction=this.translate.instant("manual_action_finance.manual_action."+e?.category.slice(10));e.comment=this.translate.instant(e?.master_transaction_id?"Commentaries_Manual_Actions":"Commentaries_Manual_Actions_Non_Master",{createdUser:s_createdUser,manualActions:s_manualAction,amount:i,note:l?l:"-",reference:r?r:"-"})}updateTranslateCategory(e){return this.listManualActions.includes(e)?this.translate.instant(`manual_action_finance.category.${e}`):e}getAllCandidateComment(e){this.isWaitingForResponse=!0,this.candidateComments=[],this.subs.sink=this.candidateService.GetAllCandidateComments(this.filteredValues).subscribe(a=>{if(!a)return this.candidateComments=[],this.isReset=!1,void(e?this.isWaitingForResponse=!1:this.getCandidateCommentFilter());{console.log("_test",a),this.originalComments=h.cloneDeep(a);const i=h.cloneDeep(a);i.forEach(l=>{if("Finance"===l?.category)this.updateDetailCommentariesFinance(l);else if("Transfer of program"===l?.subject)this.updateDetailCommentaries(l);else if(this.listManualActions.includes(l?.category))this.updateDetailCommentariesManualActions(l,l?.category);else{let r=null;if("Finance"===l?.category){const p=l.comment.includes("Reference:")?l.comment.split("Reference:"):[];r=2===p?.length?"Reference:"+p[1]:null,l.comment=2===p?.length?p[0]:l.comment}const d=/heure utc/gi;l.comment=l?.comment?.replaceAll(/utc time/gi,this.translate.instant("UTC Time")),l.comment=l?.comment?.replaceAll(d,this.translate.instant("UTC Time")),l.comment=l?.comment?.replace("MRS",this.translate.instant("MRS")),l.comment=l?.comment?.replace("Mme",this.translate.instant("MRS")),l.comment=l?.comment?.replace("Mrs",this.translate.instant("MRS")),l.comment=l?.comment?.replace("MR",this.translate.instant("MR")),l.comment=l?.comment?.replace("Mr",this.translate.instant("MR")),l.comment=l?.comment?.replace("M.",this.translate.instant("MR")),l.comment=l?.comment?.replace("An avoir of",this.translate.instant("An avoir of")),l.comment=l?.comment?.replace("A refund of",this.translate.instant("A Refund of")),l.comment=l?.comment?.replace("was made the",this.translate.instant("was made the")),l.comment=l?.comment?.replace("The payment of",this.translate.instant("The payment of")),l.comment=l?.comment?.replace("EUR paid by SEPA Direct Debit\n                    the",this.translate.instant("EUR paid by SEPA Direct Debit the")),l.comment=l?.comment?.replace("EUR paid by SEPA Direct Debit\n                      the",this.translate.instant("EUR paid by SEPA Direct Debit the")),l.comment=l?.comment?.replace("has been the subject of a \u201cChargeBack\u201d and has therefore been rejected",this.translate.instant("has been the subject of a \u201cChargeBack\u201d and has therefore been rejected")),l.comment=l?.comment?.replace("Reference",this.translate.instant("R\xe9f\xe9rence")),l.comment=l?.comment?.replace("There has been some modification on the terms",this.translate.instant("There has been some modification on the terms")),l.subject=l?.subject?.replace("Avoir of",this.translate.instant("Avoir of")),l.subject=l?.subject?.replace("Refund of",this.translate.instant("Refund of")),l.subject=l?.subject?.replace("Payment of",this.translate.instant("Payment of")),"Status Change"===l.subject&&(l.subject=l?.subject?.replace("Status Change",this.translate.instant("Status Change"))),"Status"===l.category&&(l.category=l?.category?.replace("Status",this.translate.instant("Status"))),l.comment=l?.comment?.replace("The status of the student has been changed the",this.translate.instant("The status of the student has been changed the")),l.comment=l?.comment?.replace("Reason:",this.translate.instant("Reason:")),l.comment=l?.comment?.replace("Resigned after school begins",this.translate.instant("Resigned after school begins")),l.subject=l?.subject?.replace("Change status special case",this.translate.instant("Change status special case")),l.comment=l.comment.replace("No Show",this.translate.instant("No Show")),l.comment=l.comment.replace("registered",this.translate.instant("registered")),l.comment=l.comment.replaceAll("auto_debit",this.translate.instant("Auto Debit")),l.comment=l.comment.replaceAll("asking_payment",this.translate.instant("Asking payment")),l.comment=l.comment.replaceAll("admission_form",this.translate.instant("Admission Form")),l.comment=l.comment.replaceAll("readmission_form",this.translate.instant("Readmission form")),l.comment=l.comment.replaceAll("add_manual_payment",this.translate.instant("Add manual payment")),l.comment=l.comment.replace("Add manual payment",this.translate.instant("Add manual payment")),"Finance"!==l.category&&(l.comment=l.comment.replace("from",this.translate.instant("from")),l.comment=l.comment.replace(/to\s/,this.translate.instant("to")+" "),l.comment=l.comment.replace("by transfer on the",this.translate.instant("finance_comments.transfer")),l.comment=l.comment.replaceAll("by",this.translate.instant("by")),l.comment=l.comment.replaceAll("on the",this.translate.instant("on the")),l.comment=l.comment.replace("Reference",this.translate.instant("R\xe9f\xe9rence")))}}),this.candidateComments=i,this.isReset=!1,e?this.isWaitingForResponse=!1:this.getCandidateCommentFilter()}},a=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}translateFinanceHistory(){this.subs.sink=this.translate.onLangChange.subscribe(e=>{if(this.config.placeholder=this.translate.instant("Answer"),this.originalComments&&this.originalComments.length){const a=h.cloneDeep(this.originalComments);a.forEach(i=>{if("Finance"===i?.category)this.updateDetailCommentariesFinance(i);else if("Transfer of program"===i?.subject)this.updateDetailCommentaries(i);else if(this.listManualActions.includes(i?.category))this.updateDetailCommentariesManualActions(i,i?.category);else{let l=null;if("Finance"===i?.category){const d=i.comment.includes("Reference:")?i.comment.split("Reference:"):[];l=2===d?.length?"Reference:"+d[1]:null,i.comment=2===d?.length?d[0]:i.comment}const s=/heure utc/gi;i.comment=i?.comment?.replaceAll(/utc time/gi,this.translate.instant("UTC Time")),i.comment=i?.comment?.replaceAll(s,this.translate.instant("UTC Time")),i.comment=i?.comment?.replace("MRS",this.translate.instant("MRS")),i.comment=i?.comment?.replace("Mme",this.translate.instant("MRS")),i.comment=i?.comment?.replace("Mrs",this.translate.instant("MRS")),i.comment=i?.comment?.replace("MR",this.translate.instant("MR")),i.comment=i?.comment?.replace("Mr",this.translate.instant("MR")),i.comment=i?.comment?.replace("M.",this.translate.instant("MR")),i.comment=i?.comment?.replace("An avoir of",this.translate.instant("An avoir of")),i.comment=i?.comment?.replace("A refund of",this.translate.instant("A Refund of")),i.comment=i?.comment?.replace("was made the",this.translate.instant("was made the")),i.comment=i?.comment?.replace("The payment of",this.translate.instant("The payment of")),i.comment=i?.comment?.replace("EUR paid by SEPA Direct Debit\n                    the",this.translate.instant("EUR paid by SEPA Direct Debit the")),i.comment=i?.comment?.replace("EUR paid by SEPA Direct Debit\n                      the",this.translate.instant("EUR paid by SEPA Direct Debit the")),i.comment=i?.comment?.replace("has been the subject of a \u201cChargeBack\u201d and has therefore been rejected",this.translate.instant("has been the subject of a \u201cChargeBack\u201d and has therefore been rejected")),i.comment=i?.comment?.replace("Reference",this.translate.instant("R\xe9f\xe9rence")),i.comment=i?.comment?.replace("There has been some modification on the terms",this.translate.instant("There has been some modification on the terms")),i.subject=i?.subject?.replace("Avoir of",this.translate.instant("Avoir of")),i.subject=i?.subject?.replace("Refund of",this.translate.instant("Refund of")),i.subject=i?.subject?.replace("Payment of",this.translate.instant("Payment of")),"Status Change"===i.subject&&(i.subject=i?.subject?.replace("Status Change",this.translate.instant("Status Change"))),"Status"===i.category&&(i.category=i?.category?.replace("Status",this.translate.instant("Status"))),i.comment=i?.comment?.replace("The status of the student has been changed the",this.translate.instant("The status of the student has been changed the")),i.comment=i?.comment?.replace("Reason:",this.translate.instant("Reason:")),i.comment=i?.comment?.replace("Resigned after school begins",this.translate.instant("Resigned after school begins")),i.subject=i?.subject?.replace("Change status special case",this.translate.instant("Change status special case")),i.comment=i.comment.replace("No Show",this.translate.instant("No Show")),i.comment=i.comment.replace("registered",this.translate.instant("registered")),i.comment=i.comment.replaceAll("auto_debit",this.translate.instant("Auto Debit")),i.comment=i.comment.replaceAll("asking_payment",this.translate.instant("Asking payment")),i.comment=i.comment.replaceAll("admission_form",this.translate.instant("Admission Form")),i.comment=i.comment.replaceAll("readmission_form",this.translate.instant("Readmission form")),i.comment=i.comment.replaceAll("add_manual_payment",this.translate.instant("Add manual payment")),i.comment=i.comment.replace("Add manual payment",this.translate.instant("Add manual payment")),"Finance"!==i.category&&(i.comment=i.comment.replace("from",this.translate.instant("from")),i.comment=i.comment.replace(/to\s/,this.translate.instant("to")+" "),i.comment=i.comment.replace("by transfer on the",this.translate.instant("finance_comments.transfer")),i.comment=i.comment.replaceAll("by",this.translate.instant("by")),i.comment=i.comment.replaceAll("on the",this.translate.instant("on the")),i.comment=i.comment.replace("Reference",this.translate.instant("R\xe9f\xe9rence")))}}),this.candidateComments=a}})}getCandidateCommentFilter(){this.userFilterList=[],this.dateFilterList=[];const e={candidate_ids:this.candidateIds};this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.GetCandidateCommentsFilterList(e).subscribe(a=>{if(!a.length)return this.userFilterList=[{name:"",key:this.translate.instant("No items found"),disabled:!0}],this.dateFilterList=[{date:"",key:this.translate.instant("No items found"),disabled:!0}],this.isReset=!1,void(this.isWaitingForResponse=!1);console.log(a),h.cloneDeep(a).forEach(l=>{if(l&&l.created_by&&l.created_by.first_name&&l.created_by.last_name&&!1===l.is_reply&&this.userFilterList.push({name:l.created_by.first_name+" "+l.created_by.last_name,key:l.created_by.first_name+" "+l.created_by.last_name}),l&&l.date_created&&!1===l.is_reply){const r={date:this.transformDate(l.date_created),key:this.transformDate(l.date_created)};this.dateFilterList.push(r)}}),this.userFilterList=h.uniqBy(this.userFilterList,"name"),this.dateFilterList=h.uniqBy(this.dateFilterList,"date"),console.log("filterData",this.userFilterList,this.dateFilterList),this.isReset=!1,this.isWaitingForResponse=!1},a=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}hideEditDeleteButton(e){let a=!1;return e?.master_transaction_id||e?.master_transaction_id?.is_manual_action?(a=!1,a):(this.currentUser._id&&e.created_by&&e.created_by._id&&(a=this.currentUser._id===e.created_by._id),a)}transformDate(e){return e?y(e).format("DD/MM/YYYY"):""}transformUTCtoLocal(e){if(e){y(e).format("HH:mm");let l=this.parseUTCToLocalPipe.fixDateFormat(e);return l=y(l,"DD/MM/YYYYHH:mm").format("DD/MM/YYYY"),l}return""}parseTimeToLocal(e){const a=e.time;return a?this.parseUTCToLocalPipe.transform(a):""}transformTimeLocal(e){return e?y(e).format("HH:mm:ss"):""}onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}getFeedItems(e){return new Promise(a=>{setTimeout(()=>{if(this.allDataUser&&this.allDataUser.length)if(e){const i=this.allDataUser.filter(l=>{let r=this.utilService.simpleDiacriticSensitiveRegex((l.last_name+l.first_name).toLowerCase());r=r.toLowerCase().trim();let s=this.utilService.simpleDiacriticSensitiveRegex(e.toLowerCase());return s=s.toLowerCase().trim(),r.includes(s)});this.allUser=i.map(l=>"@"+l.last_name.toUpperCase()+" "+l.first_name),a(this.allUser)}else this.allUser=this.allDataUser.map(i=>"@"+i.last_name+" "+i.first_name).slice(0,4),a(this.allUser)},50)})}initAddCommentForm(){this.form=this.fb.group({candidate_id:[this.candidateId],created_by:[this.currentUser._id],comment:[null,m.Validators.required],is_personal_situation:[!1],is_restrictive_conditions:[!1],reply_comment_ids:[null],reply_for_comment_id:[null],tagged_user_ids:[null],category:[null],is_reply:[!0]})}getUserTagged(){let l,e=this.utilService.cleanHTML(this.commentForm.value).split(" "),a=[],i=!1;e.forEach(s=>{if(s.includes("@")){const d=s.substr(1,s.length);return a.push(d),i=!0,void(l=a.length)}i&&(a[l-1]=a[l-1]+" "+s,i=!1)});let r=[];return a.forEach(s=>{let d=[],p=s.split(" ");for(let u=0;u<p.length;u++)this.allDataUser.find(_=>{_&&_.last_name&&_.first_name&&_.last_name.toLowerCase().includes(p[u].toLowerCase())&&_.first_name===p[p.length-1]&&(d.push(_),r.push(_._id))})}),r}submit(e){e&&e.candidate_id&&e.candidate_id._id&&(e.candidate_id=e.candidate_id._id),e&&e.created_by&&e.created_by._id&&(e.created_by=this.currentUser._id),e&&e.reply_for_comment_id&&e.reply_for_comment_id._id&&(e.reply_for_comment_id=e.reply_for_comment_id._id),e.reply_comment_ids=e&&e.reply_comment_ids&&e.reply_comment_ids.length?e.reply_comment_ids.map(i=>i._id):null,e.tagged_user_ids=e&&e.tagged_user_ids&&e.tagged_user_ids.length?e.tagged_user_ids.map(i=>i._id):null,e.tagged_user_ids=this.getUserTagged(),this.form.patchValue(e);const a=h.cloneDeep(this.form.value);a.reply_for_comment_id=e._id,a.comment=this.commentForm.value,a.is_reply=!0,delete a.reply_comment_ids,this.subs.sink=this.candidateService.CreateCandidateComment(a).subscribe(i=>{i&&this.resetComment()},i=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}transformTime(e){return e?y(e).format("HH:mm"):""}resetComment(){this.isReset=!0,this.filteredValues={candidate_ids:this.candidateIds,subject:"",comment_body:"",created_by:"",date_comment_created:"",category:""},this.filterForm.controls.searchCommentFilter.setValue(null,{emitEvent:!1}),this.filterForm.controls.userFilter.setValue(null,{emitEvent:!1}),this.filterForm.controls.dateFilter.setValue(null,{emitEvent:!1}),this.filterForm.controls.categoryFilter.setValue(null,{emitEvent:!1}),this.commentForm.setValue("",{emitEvent:!1}),this.getAllCandidateComment(),this.getAllCandidateCommentCategories()}addComment(){this.subs.sink=this.dialog.open(ue,{width:"900px",minHeight:"100px",disableClose:!0,autoFocus:!1,restoreFocus:!1,panelClass:"dark-mode-pop-up",data:{candidateId:this.candidateId,currentUser:this.currentUser,allUser:this.allUser,allDataUser:this.allDataUser,isEdit:!1}}).afterClosed().subscribe(e=>{e&&this.resetComment()})}getSubject(e){const a=e.lastIndexOf(" "),i=e.substring(a+1);return e.includes("Edit action")?e=(e=e.replace(e?.slice(e.indexOf("action:")+8),this.translate.instant("manual_action_finance.manual_action."+e?.slice(e.indexOf("action:")+8)))).replace("Edit action:",this.translate.instant("EditManualAction.action")):e.includes("Delete action")?e=(e=e.replace(e?.slice(e.indexOf("action:")+8),this.translate.instant("manual_action_finance.manual_action."+e?.slice(e.indexOf("action:")+8)))).replace("Delete action:",this.translate.instant("RemoveManualAction.action")):["admission_in_progress","engaged","registered","resigned","resigned_after_engaged","resigned_after_registered","bill_validated","financement_validated","mission_card_validated","in_scholarship","resignation_missing_prerequisites","no_show","resign_after_school_begins"].includes(i)?e=(e=(e=e.replace("Status change to",this.translate.instant("manual_action_finance.subject.Status change to"))).replace("Changement de statut",this.translate.instant("manual_action_finance.subject.Status change to"))).replace(i,this.translate.instant(i)):e.includes("Remove Payment of")?(e=e?.replace("Remove Payment of",this.translate.instant("RemovePayment.Remove Payment of")),e):"Transfer of program"===e?this.translate.instant(e):e.includes("Payment line of")?(e=e?.replace("Payment line of",this.translate.instant("manual_action_finance.subject.Payment line of")),e):e.includes("Billing of")?(e=e?.replace("Billing of",this.translate.instant("manual_action_finance.subject.Billing of")),e):e.includes("Avoir of")?(e=e?.replace("Avoir of",this.translate.instant("manual_action_finance.subject.Avoir of")),e):e.includes("Refund of")?(e=e?.replace("Refund of",this.translate.instant("manual_action_finance.subject.Refund of")),e):e.includes("OD cash transfer of")?(e=e?.replace("OD cash transfer of",this.translate.instant("manual_action_finance.subject.OD cash transfer of")),e):e.includes("OD student balance adjustment of")?(e=e?.replace("OD student balance adjustment of",this.translate.instant("manual_action_finance.subject.OD student balance adjustment of")),e):e.includes("Payment of")&&!e.includes("Remove Payment of")?(e=e?.replace("Payment of",this.translate.instant("Payment of")),e):(e.includes("Charge Back payment of")&&(e=e?.replace("Charge Back payment of",this.translate.instant("Charge Back payment of"))),e)}editComment(e){this.subs.sink=this.dialog.open(ue,{width:"900px",minHeight:"100px",disableClose:!0,autoFocus:!1,restoreFocus:!1,panelClass:"dark-mode-pop-up",data:{candidateId:this.candidateId,currentUser:this.currentUser,allUser:this.allUser,allDataUser:this.allDataUser,isEdit:!0,commentToEdit:e._id}}).afterClosed().subscribe(a=>{a&&this.resetComment()})}deleteComment(e){this.isWaitingForResponse=!0;let a=3;c().fire({type:"warning",title:this.translate.instant("Delete_Comment.title"),text:this.translate.instant("Delete_Comment.text"),allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("Delete_Comment.YES",{timer:a}),cancelButtonText:this.translate.instant("Delete_Comment.Cancel"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const i=c().getConfirmButton();this.intVal=setInterval(()=>{a-=1,i.innerText=this.translate.instant("Delete_Comment.YES")+` (${a})`},1e3),this.timeOutVal=setTimeout(()=>{i.innerText=this.translate.instant("Delete_Comment.YES"),c().enableConfirmButton(),clearInterval(this.intVal),clearTimeout(this.timeOutVal)},1e3*a)}}).then(i=>{clearTimeout(this.timeOutVal),i.value?this.subs.sink=this.candidateService.DeleteCandidateComment(e._id).subscribe(l=>{l&&c().fire({type:"success",title:this.translate.instant("Bravo"),confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1}).then(r=>{r.value&&(this.resetComment(),this.isWaitingForResponse=!1)})},l=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.isWaitingForResponse=!1})}checkAutoReply(){const e=this.route?.snapshot?.queryParams;e?.selectedComment&&this.replyComment(e?.selectedComment)}formatDate(e){if(e)return y?.utc(e)?.format("DD/MM/YYYY - HH:mm:ss")}convertISODatetoLocal(e){const a=new Date(e);return y(a).format("DD/MM/YYYY")}ngOnDestroy(){clearInterval(this.intVal),clearTimeout(this.timeOutVal),this.subs.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(m.UntypedFormBuilder),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(mt.o),t.\u0275\u0275directiveInject(nt.Z),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(rt.t),t.\u0275\u0275directiveInject(Xt.f),t.\u0275\u0275directiveInject(xt.p),t.\u0275\u0275directiveInject(ot.$),t.\u0275\u0275directiveInject(U.t),t.\u0275\u0275directiveInject(E2.P),t.\u0275\u0275directiveInject(tt.gz))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-commentaries-tab"]],inputs:{candidateId:"candidateId",userData:"userData",studentId:"studentId"},outputs:{loadingData:"loadingData"},features:[t.\u0275\u0275ProvidersFeature([U.t]),t.\u0275\u0275NgOnChangesFeature],decls:26,vars:30,consts:[["class","inner-loading-indicator",4,"ngIf"],[1,"p-grid",2,"margin-top","18px !important","flex-wrap","nowrap",3,"formGroup"],[1,"p-col-fixed","no-padding",2,"width","180px","float","left","padding-right","15px !important"],["matInput","","formControlName","searchCommentFilter",1,"form-field",3,"placeholder"],["bindLabel","key","bindValue","name","formControlName","userFilter",1,"pad-top","custom-ngselect-dropdown",3,"items","multiple","placeholder"],["bindLabel","key","bindValue","date","formControlName","dateFilter",1,"pad-top","custom-ngselect-dropdown",3,"items","multiple","placeholder"],["formControlName","categoryFilter",1,"pad-top","custom-ngselect-dropdown",3,"items","multiple","placeholder"],[1,"p-col",2,"text-align","right","white-space","nowrap"],["mat-raised-button","","color","accent",3,"matTooltip","click",4,"ngIf"],["color","primary","mat-raised-button","",2,"padding","0px 7px !important",3,"matTooltipDisabled","matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],[1,"commentaries-card"],[4,"ngIf","ngIfElse"],["noData",""],[1,"inner-loading-indicator"],["color","accent",3,"diameter"],["mat-raised-button","","color","accent",3,"matTooltip","click"],[1,"mat-icon-default"],["class","p-grid",4,"ngFor","ngForOf"],[1,"p-grid"],[4,"ngIf"],[1,"p-col-fixed","avatar",2,"width","60px"],[1,"student-details-img",3,"src"],[1,"p-col"],[1,"p-col-12","comment-section"],[1,"p-grid","comment-header"],[1,"p-col-5","comment-name"],[1,"p-col-3","comment-subject",2,"padding-left","0px","padding-right","8px"],[1,"p-col-2","comment-subject",2,"padding-left","0px","padding-right","0px"],["otherCategory",""],[1,"p-col-2",2,"text-align","right","padding","3px 0 5px 5px"],["mat-icon-button","","class","margin-right-button",3,"matTooltipDisabled","matTooltip","click",4,"ngIf"],["class","p-col-5",4,"ngIf"],["class","p-col-4",4,"ngIf"],[1,"p-col-3"],[1,"p-grid","comment-message"],[1,"p-col-12","message-body",3,"innerHTML"],["class","reply",3,"click",4,"ngIf"],[1,"p-col-12","answer-section","no-padding"],[1,"answer-section",2,"display","block","position","relative"],[1,"ckeditor"],[3,"editor","formControl","config","ready"],["editor",""],["matSuffix","","mat-icon-button","",2,"position","absolute","right","12px","top","10px","transform","rotate(337deg)",3,"disabled","click"],[1,"mat-icon-status"],["mat-icon-button","",1,"margin-right-button",3,"matTooltipDisabled","matTooltip","click"],[1,"p-col-5"],["aria-disabled","true","aria-checked","true",3,"checked","disabled"],[1,"p-col-4"],[1,"reply",3,"click"],[1,"p-grid","no-comment"],[1,"p-col-12"],[2,"text-align","center"]],template:function(e,a){if(1&e&&(t.\u0275\u0275template(0,k2,2,1,"div",0),t.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"mat-form-field"),t.\u0275\u0275element(4,"input",3),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",2),t.\u0275\u0275element(7,"ng-select",4),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",2),t.\u0275\u0275element(10,"ng-select",5),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"div",2),t.\u0275\u0275element(13,"ng-select",6),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"div",7),t.\u0275\u0275template(16,F2,6,6,"button",8),t.\u0275\u0275elementStart(17,"button",9),t.\u0275\u0275listener("click",function(){return a.resetComment()}),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275element(19,"mat-icon",10),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(22,"mat-card",11),t.\u0275\u0275template(23,W2,2,1,"ng-container",12),t.\u0275\u0275template(24,Y2,5,3,"ng-template",null,13,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&e){const i=t.\u0275\u0275reference(25);t.\u0275\u0275property("ngIf",a.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroup",a.filterForm),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(5,18,"search")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(8,20,"User")),t.\u0275\u0275property("items",a.userFilterList)("multiple",!1),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(11,22,"Date")),t.\u0275\u0275property("items",a.dateFilterList)("multiple",!1),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(14,24,"Category")),t.\u0275\u0275property("items",a.categoryFilterList)("multiple",!1),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.permission.addCommentCandidateCommentariesPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(18,26,"Reset")," "),t.\u0275\u0275property("matTooltipDisabled",!1),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(21,28,"Reset")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.candidateComments&&a.candidateComments.length)("ngIfElse",i)}},dependencies:[f.sg,f.O5,I.lW,ft.a8,st.oG,k.Hw,S.KE,S.R9,z.Nt,D.Ou,G.gM,m.DefaultValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.FormControlDirective,m.FormGroupDirective,m.FormControlName,Dt.u,K.w9,f.gd,M.X$,I2.z],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.overflow-auto[_ngcontent-%COMP%]{overflow-y:scroll}.commentaries-card[_ngcontent-%COMP%]{margin-top:16px!important;min-height:280px}.comment-section[_ngcontent-%COMP%]{border:1px solid #607d8b}.no-comment[_ngcontent-%COMP%]{justify-content:center;align-items:center;font-size:20px;color:gray;min-height:240px}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.reply[_ngcontent-%COMP%]{text-align:end;position:absolute;right:0;bottom:0;font-size:12px;color:#26abeb;font-weight:900;cursor:pointer}.reply[_ngcontent-%COMP%]:hover{text-decoration:underline}.comment-message[_ngcontent-%COMP%]{position:relative}.comment-message[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]     .mention{color:#00bfff!important}.overflow-auto[_ngcontent-%COMP%]{overflow:auto}.commentaries-card[_ngcontent-%COMP%]{margin-top:16px!important;margin-bottom:20px!important;min-height:280px}.pad-top[_ngcontent-%COMP%]{padding-top:3px}.avatar[_ngcontent-%COMP%]{width:60px;border-radius:50%}.student-details-img[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]  .ck.ck-content{padding-right:65px;background:transparent;color:#fff;border-color:#607d8b;border-top:none;border-left:none;border-right:none}[_nghost-%COMP%]  .ck.ck-toolbar{border:none}  .custom-ngselect-dropdown .ng-dropdown-panel{width:-moz-fit-content!important;width:fit-content!important}"]}),n})();var Ft=C(3832),lt=C(54298),Pt=C(31361),dt=C(18206),Bt=C(91013),At=C(9035);const q2=["checkBox"];function K2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",46),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Compose")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function Q2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",47),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendMailToGroup())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",48),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Mail to Group")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function X2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendUrgentMessage())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",50),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Urgent message")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function Z2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.getMailbox())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",51),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Get new emails")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function J2(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.onDeleteMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",52),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function tv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.mailMoveTo("important"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",53),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Important")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function ev(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.mailMoveTo("inbox"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",53),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.REMOVE IMPORTANT")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function nv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,K2,3,4,"button",40),t.\u0275\u0275elementStart(2,"button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.resetFilter())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275element(4,"mat-icon",42),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,Q2,3,4,"button",43),t.\u0275\u0275template(8,X2,3,4,"button",44),t.\u0275\u0275template(9,Z2,3,4,"button",44),t.\u0275\u0275template(10,J2,3,4,"button",44),t.\u0275\u0275template(11,tv,3,4,"button",44),t.\u0275\u0275template(12,ev,3,4,"button",44),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.composeActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(3,10,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(6,12,"RESET")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.permissionService.sendGroupMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.urgentMessageActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.downloadMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&"inbox"===e.selectedMailCategory&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&"important"===e.selectedMailCategory)}}function av(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",36)(1,"div",37)(2,"div",38),t.\u0275\u0275template(3,nv,13,14,"ng-container",39),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","cc"!==e.selectedMailCategory)}}function iv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-checkbox",55),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?l.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&e.isAllSelected())("aria-label",e.checkboxLabel())}}function ov(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"inbox"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function lv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"cc"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function rv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"important"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function sv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",62,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function cv(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",63),t.\u0275\u0275element(1,"i",50),t.\u0275\u0275elementEnd())}function dv(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",56),t.\u0275\u0275template(1,ov,2,3,"mat-checkbox",57),t.\u0275\u0275template(2,lv,2,3,"mat-checkbox",57),t.\u0275\u0275template(3,rv,2,3,"mat-checkbox",57),t.\u0275\u0275template(4,sv,2,2,"mat-checkbox",58),t.\u0275\u0275template(5,cv,2,0,"span",59),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"===a.selectedMailCategory||"draft"===a.selectedMailCategory||"sent"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1==e.is_urgent_mail)}}function pv(n,o){1&n&&t.\u0275\u0275element(0,"th",54)}function mv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-form-field",64)(2,"input",65),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",66)(5,"mat-datepicker",null,67),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"Select a date")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.dateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function _v(n,o){1&n&&t.\u0275\u0275element(0,"th",54)}function uv(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",69)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.fromFilter)}}function gv(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54),t.\u0275\u0275template(1,uv,4,4,"div",68),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!=e.selectedMailCategory)}}function hv(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",69)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.toFilter)}}function fv(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54),t.\u0275\u0275template(1,hv,4,4,"div",68),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"!=e.selectedMailCategory)}}function bv(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.subjectFilter)}}function Cv(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",71),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.date")))}function xv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?null==e?null:e.date:null==e?null:e.created_at,"dd/MM/yyyy")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?null==e?null:e.date:null==e?null:e.created_at,"dd/MM/yyyy")," ")}}function yv(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",73),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.time")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.time")))}function vv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",a.translateTime(t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?e.date:e.created_at,"H:mm"))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",a.translateTime(t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?e.date:e.created_at,"H:mm"))," ")}}function Tv(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",74),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.from")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.from")))}function Mv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",75),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)," ")}}function Sv(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.to")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.to")))}function Ov(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)," ")}}function Pv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate4("matTooltip","",t.\u0275\u0275pipeBind1(1,8,"Mail_All")," ",t.\u0275\u0275pipeBind1(2,10,"USER_TYPES."+(null==e||null==e.group_detail||null==e.group_detail.user_types[0]?null:e.group_detail.user_types[0].name))," ",t.\u0275\u0275pipeBind1(3,12,"Mail_of")," ",null==e||null==e.group_detail||null==e.group_detail.rncp_titles[0]?null:e.group_detail.rncp_titles[0].short_name,""),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(5,14,"Mail_All")," ",t.\u0275\u0275pipeBind1(6,16,"USER_TYPES."+(null==e||null==e.group_detail||null==e.group_detail.user_types[0]?null:e.group_detail.user_types[0].name))," ",t.\u0275\u0275pipeBind1(7,18,"Mail_of")," ",null==e||null==e.group_detail||null==e.group_detail.rncp_titles[0]?null:e.group_detail.rncp_titles[0].short_name," ")}}function wv(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Pv,8,20,"span",77),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.group_detail?null:e.group_detail.user_types)&&(null==e||null==e.group_detail?null:e.group_detail.user_types.length)&&(null==e||null==e.group_detail?null:e.group_detail.rncp_titles)&&(null==e||null==e.group_detail?null:e.group_detail.rncp_titles.length))}}function Dv(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function Ev(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Dv,2,0,"span",39),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function Iv(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Ev,3,3,"span",79),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e||null==e.recipient_properties[0]?null:e.recipient_properties[0].recipients_email)}}function kv(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",56),t.\u0275\u0275template(1,Ov,6,14,"span",77),t.\u0275\u0275template(2,wv,2,1,"span",39),t.\u0275\u0275template(3,Iv,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.user_type_selection)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients_email?null:e.recipient_properties[0].recipients_email.length)}}function Fv(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",80),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.composeMail.subject")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.composeMail.subject")))}function Bv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",81),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.subject),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.subject," ")}}function Av(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",82)(1,"div",83),t.\u0275\u0275element(2,"mat-spinner",84),t.\u0275\u0275elementEnd()())}function Nv(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function Rv(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function Vv(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function Lv(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",86),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function Uv(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",87),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function zv(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",88),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No Mail Data")," "))}function $v(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"reply-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",110),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply"))}function Hv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"reply-all"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",111),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply_all"))}function jv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"foward-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",112),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.forward"))}function Wv(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",50),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"MailBox.URGENT_MESSAGE")," "))}function Yv(n,o){1&n&&(t.\u0275\u0275elementStart(0,"button",113),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",114),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function Gv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onPreviousMessage(i.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",114),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function qv(n,o){1&n&&(t.\u0275\u0275elementStart(0,"button",113),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function Kv(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onNextMessage(i.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function Qv(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e.viewMessageData?null:e.viewMessageData.subject)}}function Xv(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,e.subjectTranslated)," ",e.resWordMessage,"")}}function Zv(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",116),t.\u0275\u0275template(1,Qv,2,1,"b",117),t.\u0275\u0275template(2,Xv,3,4,"ng-template",null,118,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.translatedSubject)("ngIfElse",e)}}function Jv(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,4,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.last_name)," ",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.first_name," ",null!=e.viewMessageData&&null!=e.viewMessageData.sender_property&&null!=e.viewMessageData.sender_property.sender&&e.viewMessageData.sender_property.sender.civility&&"neutral"===(null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)," - (",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.email,") ")}}function tT(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"EDH Platform")," "))}function eT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span")(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(3,4,"Mail_All")," ",t.\u0275\u0275pipeBind1(4,6,"USER_TYPES."+e.typeName)," ",t.\u0275\u0275pipeBind1(5,8,"Mail_of")," ",e.titleName," ")}}function nT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function aT(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function iT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,nT,4,9,"span",121),t.\u0275\u0275template(2,aT,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==a||null==a.recipients?null:a.recipients.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.recpList.length-1)}}function oT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,iT,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function lT(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function rT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",124),t.\u0275\u0275text(1),t.\u0275\u0275template(2,lT,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function sT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,rT,3,3,"span",123),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]?null:e.viewMessageData.recipient_properties[0].recipients_email)}}function cT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,oT,2,1,"span",120),t.\u0275\u0275template(2,sT,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.recpList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]||null==e.viewMessageData.recipient_properties[0].recipients_email?null:e.viewMessageData.recipient_properties[0].recipients_email.length)}}function dT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",119)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,eT,6,10,"span",39),t.\u0275\u0275template(5,cT,3,2,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.to")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.viewMessageData&&e.viewMessageData.user_type_selection))}}function pT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e||null==e.recipients[0]?null:e.recipients[0].email),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function mT(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0"),t.\u0275\u0275elementEnd())}function _T(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,pT,4,9,"span",121),t.\u0275\u0275template(2,mT,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a||null==a.recipients?null:a.recipients.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.ccList.length-1)}}function uT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,_T,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function gT(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function hT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",124),t.\u0275\u0275text(1),t.\u0275\u0275template(2,gT,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function fT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,hT,3,3,"span",123),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]?null:e.viewMessageData.recipient_properties[1].recipients_email)}}function bT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",119)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,uT,2,1,"span",120),t.\u0275\u0275template(5,fT,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.composeMail.cc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.ccList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]||null==e.viewMessageData.recipient_properties[1].recipients_email?null:e.viewMessageData.recipient_properties[1].recipients_email.length)}}function CT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function xT(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function yT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,CT,4,9,"span",121),t.\u0275\u0275template(2,xT,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==a||null==a.recipients?null:a.recipients.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.bccList.length-1)}}function vT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,yT,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function TT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",119)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,vT,2,1,"span",120),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"MailBox.composeMail.bcc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.bccList)}}function MT(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",125)(2,"button",126),t.\u0275\u0275element(3,"i",127),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"label"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",128),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.downloadFile(l))}),t.\u0275\u0275element(7,"i",129),t.\u0275\u0275elementEnd()()()}if(2&n){const e=o.$implicit;t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(null==e?null:e.file_name)}}function ST(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,MT,8,1,"div",120),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"Attachment")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData?null:e.viewMessageData.file_attachments)}}function OT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.short_name,"",0===a?"":","," ")}}function PT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",130)(1,"div",131)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,OT,2,2,"span",120),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"RNCP Titles")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.rncp_titles)}}function wT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.name,"",0===a?"":","," ")}}function DT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",132)(1,"div",131)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,wT,2,2,"span",120),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"UserType")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.user_types)}}function ET(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",133),t.\u0275\u0275element(1,"div",131),t.\u0275\u0275elementEnd())}function IT(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",89)(1,"div",90)(2,"div",91),t.\u0275\u0275template(3,$v,3,3,"button",92),t.\u0275\u0275template(4,Hv,3,3,"button",92),t.\u0275\u0275template(5,jv,3,3,"button",92),t.\u0275\u0275elementStart(6,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.openDialog(i.viewMessageData))}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275element(8,"i",52),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,Wv,4,3,"span",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",94),t.\u0275\u0275template(11,Yv,3,3,"button",95),t.\u0275\u0275template(12,Gv,3,3,"button",92),t.\u0275\u0275template(13,qv,3,3,"button",96),t.\u0275\u0275template(14,Kv,3,3,"button",92),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",97)(16,"div",98),t.\u0275\u0275template(17,Zv,4,2,"div",99),t.\u0275\u0275element(18,"hr"),t.\u0275\u0275elementStart(19,"span",100),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"titlecase"),t.\u0275\u0275pipe(22,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",101)(24,"label",102),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,Jv,4,8,"span",39),t.\u0275\u0275template(28,tT,3,3,"span",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(29,dT,6,5,"div",103),t.\u0275\u0275template(30,bT,6,5,"div",103),t.\u0275\u0275template(31,TT,5,4,"div",103),t.\u0275\u0275template(32,ST,5,4,"ng-container",39),t.\u0275\u0275template(33,PT,6,4,"div",104),t.\u0275\u0275template(34,DT,6,4,"div",105),t.\u0275\u0275template(35,ET,2,0,"div",106),t.\u0275\u0275element(36,"hr"),t.\u0275\u0275elementStart(37,"div",107)(38,"div",108),t.\u0275\u0275element(39,"p",109)(40,"br")(41,"br"),t.\u0275\u0275elementEnd()()()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(7,23,"MailBox.emailDetails.delete")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",1==e.viewMessageData.is_urgent_mail),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.checkIsNextBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsNextBtnShow()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.subject),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",null!=e.viewMessageData&&e.viewMessageData.created_at?t.\u0275\u0275pipeBind1(21,25,e.momentlang(null==e.viewMessageData?null:e.viewMessageData.created_at)):""," ",null!=e.viewMessageData&&e.viewMessageData.created_at?e.translateTime(t.\u0275\u0275pipeBind2(22,27,null==e.viewMessageData?null:e.viewMessageData.created_at,"H:mm")):""," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(26,30,"MailBox.from")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.email),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.viewMessageData&&null!=e.viewMessageData.sender_property&&null!=e.viewMessageData.sender_property.sender&&e.viewMessageData.sender_property.sender.email)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.recpList?null:e.recpList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.bccList?null:e.bccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.viewMessageData?null:e.viewMessageData.file_attachments)&&(null==e.viewMessageData?null:e.viewMessageData.file_attachments.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.rncp_titles?null:e.viewMessageData.group_detail.rncp_titles.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.user_types?null:e.viewMessageData.group_detail.user_types.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("innerHTML",e.getMessage(null==e.viewMessageData?null:e.viewMessageData.message),t.\u0275\u0275sanitizeHtml)}}const kT=function(){return["reset"]},FT=function(){return["loading"]},BT=function(n){return{hide:n}},AT=function(n){return{"hide-pagination-buttons":n}},NT=function(){return[10]};let RT=(()=>{class n{constructor(e,a,i,l,r,s,d,p,u,_){this.mailboxService=e,this.userService=a,this.translate=i,this.dialog=l,this.permissions=r,this.certificationRuleService=s,this.rncpTitlesService=d,this.permissionService=p,this.dateAdapter=u,this.route=_,this.inbox=!0,this.cc=!1,this.important=!1,this.draft=!1,this.trash=!1,this.sent=!1,this.isWaitingForResponse=!1,this.IsReplyBtn=!1,this.IsReplyAllBtn=!1,this.IsForwardBtn=!1,this.IsDeleteBtn=!1,this.IsImportantBtn=!1,this.IsMovetoInboxBtn=!1,this.hideResetButton=!1,this.alreadyRead=!1,this.isSearching=!1,this.selectedMails=[],this.mailList=[],this.mailSelected=[],this.checked=[],this.isChecked=!1,this.selection=new Tt.Ov(!0,[]),this.config={disableClose:!0,width:"800px"},this.urgentMessageConfig={disableClose:!0,width:"600px"},this.configCertificatioRule={disableClose:!0},this.dataSource=new b.by([]),this.displayedColumns=["select","created_at","timeTable","from","to","subject"],this.filterColumns=["selectFilter","createdAtFilter","timeTableFilter","fromFilter","toFilter","subjectFilter"],this.subs=new w.Y,this.isReset=!1,this.inboxCount=0,this.ccCount=0,this.importantCount=0,this.dataLoaded=!1,this.viewBcc=!1,this.sortEmail="asc",this.sortFrom="asc",this.sortTo="asc",this.sortStatus="asc",this.dateFilter=new m.UntypedFormControl(""),this.fromFilter=new m.UntypedFormControl(""),this.toFilter=new m.UntypedFormControl(""),this.subjectFilter=new m.UntypedFormControl(""),this.lightningFilter=new m.UntypedFormControl(""),this.titleFilterList=[],this.isWaitRecipientGroup=!1,this.filteredValues={date:"",from:"",to:"",subject:""},this.isOPERATORDir=!1,this.isOPERATORAdmin=!1,this.mailsList=[],this.getCountOfCC=[],this.recpList=[],this.ccList=[],this.bccList=[],this.selectedMailCategory="inbox",this.translatedSubject=!1,this.translatedSubjectTable=!1,this.resWordTable="",this.resWordMessage=""}ngOnInit(){this.dateAdapter.setLocale(this.translate.currentLang),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.dateAdapter.setLocale(this.translate.currentLang),this.getMailbox(!0)}),this.currentUser=this.userService.getLocalStorageUser(),this.isOPERATORAdmin=!!this.permissions.getPermission("operator_admin"),this.isOPERATORDir=!!this.permissions.getPermission("operator_dir"),this.countSelected=!1,this.sortValue={latest_email:"asc"},this.getMailbox(),this.permissions.getPermission("Student")&&this.getCertificationRule(),this.initMail()}ngOnChanges(){this.getMailbox(!0)}getMailbox(e){const a=this.selectedMailCategory,r={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex},s=this.cleanFilterData();this.candidateId&&(this.isWaitingForResponse=!0,this.subs.sink=this.mailboxService.getMainMail(r,this.sortValue,a,!0,s,"a",this.candidateId).subscribe(d=>{console.log("QZWEXSRDTFV",d),this.isReset=!1,this.isWaitingForResponse=!1,d&&d.length>0?(d.forEach((p,u)=>{p.recipient_properties.forEach(_=>{_.recipients.forEach(O=>{O.email===this.student?.email&&(p.is_already_read=!0===_.is_read)})})}),d.forEach(p=>{if(p.subject){const u=p.subject.includes("Status Update CSV for"),_=p.subject.includes("Statut CSV pour");u&&(p.subject=this.getTranslationSubjectStatusUpdateTable(p.subject)),_&&(p.subject=this.getTranslationSubjectStatusUpdateTable(p.subject))}}),this.dataSource.data=d,this.dataSource.sort=this.sort,this.mailList=d,this.inboxCount=d[0]?d[0].count_not_read:0,this.paginator.length=d[0]?d[0].count_document:0):(this.dataSource.data=[],this.paginator.length=0,this.isWaitingForResponse=!1),this.noData=this.dataSource.connect().pipe((0,W.U)(p=>0===p.length))},d=>{this.dataSource.data=[],this.paginator.length=0,this.isWaitingForResponse=!1,this.noData=this.dataSource.connect().pipe((0,W.U)(p=>0===p.length)),d&&d.message&&(d.message.includes("jwt expired")||d.message.includes("str & salt required")||d.message.includes("Authorization header is missing")||d.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}getMailSelected(e,a){const i=this.mailList.filter(l=>l._id===e);i&&i.length&&(console.log("Mail Selected",i),this.onSelectMessage(i[0],parseInt(a)))}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){const e=this.selection.selected.length,a=this.dataSource.data?this.dataSource.data.length:null,i=this.selection.selected;return this.mailSelected=[],i.forEach(l=>{this.mailSelected.push(l._id)}),e===a}getFileName(e){return e?e.substring(e.lastIndexOf("/")+1):""}downloadFile(e){console.log(e);const a=document.createElement("a");a.target="blank",a.href=e.path,a.download=e.file_name,a.click(),a.remove()}getRecipientFullName(e){let i;return e?(i=e.filter(l=>l.recipients[0].email===this.currentUser.email),i&&i.length?i[0]:""):""}initMail(){this.subs.sink=this.dateFilter.valueChanges.subscribe(e=>{y(e).format("MM/DD/YYYY"),this.filteredValues.date=e,this.paginator.pageIndex=0,this.isReset||this.getMailbox()}),this.subs.sink=this.fromFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.fromFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.fromFilter.setValue(""),this.filteredValues.from="",this.paginator.pageIndex=0,this.isReset||this.getMailbox()):(this.filteredValues.from=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getMailbox())}}),this.subs.sink=this.toFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.toFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.toFilter.setValue(""),this.filteredValues.to="",this.paginator.pageIndex=0,this.isReset||this.getMailbox()):(this.filteredValues.to=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getMailbox())}}),this.subs.sink=this.subjectFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.subjectFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.subjectFilter.setValue(""),this.filteredValues.subject="",this.paginator.pageIndex=0,this.isReset||this.getMailbox()):(this.filteredValues.subject=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getMailbox())}}),this.mailCategories=this.mailboxService.getMailCategories()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getMailbox())}cleanFilterData(){const e=h.cloneDeep(this.filteredValues);let a="";return Object.keys(e).forEach(i=>{e[i]&&(a+=` ${i}:"${e[i]}"`)}),a}sendMail(){this.sendMailDialogComponent=this.dialog.open(lt.U,this.config),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(e=>{this.isReset||this.getMailbox(),this.sendMailDialogComponent=null})}sendUrgentMessage(){this.urgentMessageDialogComponent=this.dialog.open(Ft.x,this.urgentMessageConfig)}sendMailToGroup(){this.mailToGroupDialogComponent=this.dialog.open(Pt.C,this.config)}resetFilter(){this.isReset=!0,this.filteredValues={date:"",from:"",to:"",subject:""},this.sort.direction="",this.sort.active="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=this.sortValue={latest_email:"asc"},this.dataSource.data=[],this.paginator.pageIndex=0,this.dateFilter.setValue(""),this.subjectFilter.setValue(""),this.fromFilter.setValue(""),this.toFilter.setValue(""),this.getMailbox()}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe(),this.dataSource.data=[]}changePage(e){this.isReset||this.getMailbox()}updateToReadFlag(e,a){const i=h.cloneDeep(this.viewMessageData);delete i.$$index,delete i.is_already_read;let l={},r=!1;const s=[];if(s.push(i._id),i.recipient_properties&&i.recipient_properties.forEach(d=>{d.recipients.forEach(p=>{!1===d.is_read&&p.email===this.student?.email&&(i.recipient_properties[0].is_read=!0,r=!0,l={is_read:!0},i.recipient_properties.recipients=[p])})}),r){if(0===a||a){const d=h.cloneDeep(this.dataSource.data);d[a]&&(d[a].is_already_read=!0,this.dataSource.data=d)}this.subs.sink=this.mailboxService.updateMultipleMailRecipient(s,l).subscribe(d=>{0===a||a||this.isReset||this.getMailbox()},d=>{d&&d.message&&(d.message.includes("jwt expired")||d.message.includes("str & salt required")||d.message.includes("Authorization header is missing")||d.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}onSelectMessage(e,a){if(e&&e.subject&&this.getTranslationSubjectStatusUpdate(e.subject),this.viewMessageData=e,e.user_type_selection?(this.getRecipientName(e),this.isWaitRecipientGroup=!0):this.isWaitRecipientGroup=!1,this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[],this.getCountOfCC=e.recipient_properties,e.is_group_parent){const i=this.getRecipientFullName(e.recipient_properties);this.recpList.push(i)}else this.getCountOfCC&&this.getCountOfCC.length&&this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients_email.forEach(r=>{})),this.viewBcc&&"c"===i.rank&&(this.bccList.push(i),console.log("Ada BCC :",i)),i.recipients.forEach(r=>{"c"===i.rank&&r.email===this.currentUser.email&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))});console.log("indeeex  ",a),this.viewMessageData.$$index=a,this.updateToReadFlag(e._id,a)}getTranslationSubjectStatusUpdateTable(e){const a=e.includes("Status Update CSV for"),i=e.includes("Statut CSV pour");console.log("_1 isEn",a,i);let l="";a&&(l=e.slice(0,21),this.resWordTable=e.slice(22,e.length)),i&&(l=e.slice(0,15),this.resWordTable=e.slice(15,e.length));let r="";return this.translate.stream(l).subscribe(s=>{r=s}),r+" "+this.resWordTable}getTranslationSubjectStatusUpdate(e){const a=e.includes("Status Update CSV for"),i=e.includes("Statut CSV pour");console.log("_1 isEn",a,i);let l="";a&&(l=e.slice(0,21),this.resWordMessage=e.slice(22,e.length)),i&&(l=e.slice(0,15),this.resWordMessage=e.slice(16,e.length)),l&&("Status Update CSV for"===l&&(this.translatedSubject=!0,this.subjectTranslated=l),"Statut CSV pour"===l&&(this.translatedSubject=!0,this.subjectTranslated=l),console.log("_1",l),console.log("_1",this.subjectTranslated),console.log("_1",this.subjectTranslatedTable))}onPreviousMessage(e){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index-1;console.log("indeeexprevieus   ",a),this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients_email.forEach(r=>{})),this.viewBcc&&"c"===i.rank&&(this.bccList.push(i),console.log("Ada BCC :",i)),i.recipients.forEach(r=>{"c"===i.rank&&r.email===this.currentUser.email&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}onNextMessage(e){if(this.viewMessageData&&this.viewMessageData.$$index+1<this.mailList.length){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index+1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,console.log("indeeex Nex ",a),console.log("Update ",e),this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients_email.forEach(r=>{})),this.viewBcc&&"c"===i.rank&&(this.bccList.push(i),console.log("Ada BCC :",i)),i.recipients.forEach(r=>{"c"===i.rank&&r.email===this.currentUser.email&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))}),this.updateToReadFlag(this.viewMessageData._id)}}checkIsPreviousBtnShow(){return 0!==this.viewMessageData.$$index}checkIsNextBtnShow(){return this.viewMessageData.$$index!==this.mailList.length-1}OpenMailPopupRequest(e,a){console.log("viewMessageData ",e),this.config.data={},this.sendMailDialogComponent=this.dialog.open(lt.U,this.config),this.sendMailDialogComponent.componentInstance.tags=[a],this.sendMailDialogComponent.componentInstance.currentMailData=e,"sent"===this.selectedMailCategory&&(this.sendMailDialogComponent.componentInstance.isSenderReq=!1),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(i=>{"updateMailList"===i&&(this.isReset||this.getMailbox()),this.sendMailDialogComponent=null})}openDialog(e){const l={mail_type:"trash"};let r=3;c().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:r}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const s=c().getConfirmButton(),d=setInterval(()=>{r-=1,s.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+r+" sec"},1e3);this.timeOutVal=setTimeout(()=>{s.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(d),clearTimeout(this.timeOutVal)},1e3*r)}}).then(s=>{if(clearTimeout(this.timeOutVal),s.value){this.viewMessageData=[];const d=[];d.push(e._id),this.subs.sink=this.mailboxService.updateMultipleMailRecipient(d,l,this.candidateId).subscribe(p=>{c().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getMailbox()},p=>{p&&p.message&&(p.message.includes("jwt expired")||p.message.includes("str & salt required")||p.message.includes("Authorization header is missing")||p.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}})}onDeleteMail(){const e={mail_type:"trash"};let l=3;c().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:l}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const r=c().getConfirmButton(),s=setInterval(()=>{l-=1,r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+l+" sec"},1e3);this.timeOutVal=setTimeout(()=>{r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(s),clearTimeout(this.timeOutVal)},1e3*l)}}).then(r=>{clearTimeout(this.timeOutVal),r.value&&(this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailRecipient(this.mailSelected,e,this.candidateId).subscribe(s=>{c().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getMailbox()},s=>{s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}receiveEmail(){this.isReset||this.getMailbox()}mailMoveTo(e){const a={mail_type:e};this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailRecipient(this.mailSelected,a,this.candidateId).subscribe(i=>{this.isReset||this.getMailbox()},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showOptions(){this.countSelected=this.selection.selected.length>0}getMessage(e){return e?(e&&e.includes("<table>")&&(e=e.replaceAll("<table>",'<table class="notif-table full-width" border="1">')),e&&e.includes("<a")&&e&&!e.includes("target")&&(e=e.replaceAll("<a",'<a target="blank" class="blue-link-format"')),e):""}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(e=>{e&&e.length&&(this.subs.sink=this.dialog.open(dt.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:e}).afterClosed().subscribe(a=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(i=>{i&&i.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(dt.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:i}))},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))})}getCertificationRule(){const e=this.userService.getLocalStorageUser(),a=e.entities[0].assigned_rncp_title._id,i=e.entities[0].class._id,l=e._id;this.subs.sink=this.rncpTitlesService.getRncpTitleById(a).subscribe(r=>{this.selectedRncpTitleName=r.short_name,this.selectedRncpTitleLongName=r.long_name},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.subs.sink=this.certificationRuleService.getCertificationRuleSentWithStudent(a,i,l).subscribe(r=>{r||this.getUrgentMail()},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getRecipientName(e){console.log("This group recipient : ",e),e.group_detail.rncp_titles&&e.group_detail.rncp_titles.length&&(this.subs.sink=this.mailboxService.getOneTitle(e.group_detail.rncp_titles[0]._id).subscribe(a=>{a&&(this.titleName=a.short_name)})),e.group_detail.user_types&&e.group_detail.user_types.length&&(this.subs.sink=this.mailboxService.getOneUserTypes(e.group_detail.user_types[0]._id).subscribe(a=>{a&&(this.typeName=a.name)},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.isWaitRecipientGroup=!1}showCertificationRule(e,a){}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,$.O)(null),(0,et.b)(()=>{this.isReset||this.getMailbox(),this.dataLoaded=!0})).subscribe()}momentlang(e){const a=y(e).format("DD/MM/YYYY");if("object"==typeof a){const i=new Date(a.year,a.month,a.date,a.hour,a.minute);return this.datePipe=new f.uU(this.translate.currentLang),this.datePipe.transform(i,"EEE d MMM, y")}{let i=a;if("number"==typeof i&&(i=i.toString()),8===i.length){const s=parseInt(i.substring(0,4)),d=parseInt(i.substring(4,6)),p=parseInt(i.substring(6,8));i=new Date(s,d,p)}this.datePipe=new f.uU(this.translate.currentLang);const l=y(i,"DD/MM/YYYY");return this.datePipe.transform(l,"EEEE d MMMM y")}}translateTime(e){return y(e,"HH:mm").format("H:mm")}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(Bt.e),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(bt.YI),t.\u0275\u0275directiveInject(At._),t.\u0275\u0275directiveInject(vt.r),t.\u0275\u0275directiveInject(ot.$),t.\u0275\u0275directiveInject(Q._A),t.\u0275\u0275directiveInject(tt.gz))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-mailbox-inbox-tab"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(E.NW,7),t.\u0275\u0275viewQuery(V.YE,7),t.\u0275\u0275viewQuery(q2,5)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.paginator=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.sort=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.checkBox=i)}},inputs:{candidateId:"candidateId",student:"student"},features:[t.\u0275\u0275NgOnChangesFeature],decls:47,vars:19,consts:[[1,"view-mailbox-template"],[1,"view-mailbox-by-side"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","asc","matSortDisableClear","",1,"mat-elevation-z8","mailTable",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","6","class","header-alignment",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","selectFilter"],["matColumnDef","createdAtFilter"],["matColumnDef","timeTableFilter"],["matColumnDef","fromFilter"],["matColumnDef","toFilter"],["matColumnDef","subjectFilter"],["matColumnDef","created_at"],["style","padding-left: 24px","mat-header-cell","","mat-sort-header","latest_email",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","timeTable"],["style","padding-left: 24px","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","from"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","to"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","subject"],["mat-header-cell","","mat-sort-header","status","style","padding-right: 0.5rem !important",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","padding-right: 0.5rem !important",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","6","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","hidePageSize","pageSizeOptions","page"],["class","view-message-section",4,"ngIf"],["mat-header-cell","","colspan","6",1,"header-alignment"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex","100","fxFlex.lt-md","100",1,"mail-controls"],[4,"ngIf"],["mat-button","","mat-button-sm","","class","right-float yellow-admtc","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","","matTooltipPosition","above",1,"right-float","resetBtn",3,"matTooltip","disabled","click"],["svgIcon","loop"],["fxLayoutWrap","wrap","mat-button","","mat-button-sm","","class","right-float","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-button","","mat-button-sm","","class","right-float","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float","yellow-admtc",3,"matTooltip","disabled","click"],[1,"fa","fa-pencil"],["fxLayoutWrap","wrap","mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float",3,"matTooltip","disabled","click"],["svgIcon","account-supervisor",2,"width","17px","height","17px","margin","-3px"],["mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float",3,"matTooltip","disabled","click"],[1,"fa","fa-bolt"],["svgIcon","email-sync"],[1,"fa","fa-trash"],[1,"fa","fa-hand-paper-o"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"className","checked","aria-label","click","change",4,"ngIf"],[3,"checked","aria-label","click","change",4,"ngIf"],["style","text-align: center; padding-left: 20px",4,"ngIf"],[3,"className","checked","aria-label","click","change"],["checkBox",""],[3,"checked","aria-label","click","change"],[2,"text-align","center","padding-left","20px"],[2,"margin-top","6px"],["matInput","",3,"matDatepicker","formControl","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["class","matFormModif",4,"ngIf"],[1,"matFormModif"],["matInput","",1,"form-field",3,"formControl","placeholder"],["mat-header-cell","","mat-sort-header","latest_email",2,"padding-left","24px",3,"matTooltip"],["mat-cell","",2,"text-align","center",3,"matTooltip","click"],["mat-header-cell","",2,"padding-left","24px",3,"matTooltip"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip"],["mat-cell","",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip"],[3,"matTooltip","click",4,"ngIf"],[3,"matTooltip","click"],[3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-header-cell","","mat-sort-header","status",2,"padding-right","0.5rem !important",3,"matTooltip"],["mat-cell","",2,"padding-right","0.5rem !important",3,"matTooltip","click"],["mat-header-cell","","colspan","6",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"view-message-section"],[1,"compose-mail-action",2,"width","100%"],[2,"float","left"],["class","mail-action-btn","mat-button","","md-button","",3,"title","click",4,"ngIf"],["mat-button","","md-button","",1,"mail-action-btn",3,"title","click"],[2,"float","right"],["class","mail-action-btn","mat-button","","md-button","","style","color: gray",3,"title",4,"ngIf"],["class","mail-action-btn","mat-button","","style","color: gray","md-button","",3,"title",4,"ngIf"],[1,"compose-mail"],[2,"width","100%"],["class","emailsubject e-mailSubject",4,"ngIf"],[2,"float","right","margin-right","18px","font-size","12px"],[1,"sender-mail"],[2,"font-weight","800","font-size","12px"],["class","recipient-mail",4,"ngIf"],["class","group-rncp",4,"ngIf"],["class","group-usertype",4,"ngIf"],["class","mail-cc",4,"ngIf"],[1,"message_detail"],[1,"message_view","break-word"],[3,"innerHTML"],[1,"fa","fa-reply"],[1,"fa","fa-reply-all"],[1,"fa","fa-mail-forward"],["mat-button","","md-button","",1,"mail-action-btn",2,"color","gray",3,"title"],[1,"fa","fa-caret-left"],[1,"fa","fa-caret-right"],[1,"emailsubject","e-mailSubject"],[4,"ngIf","ngIfElse"],["subjectTranslateds",""],[1,"recipient-mail"],[4,"ngFor","ngForOf"],[3,"title",4,"ngIf"],[3,"title"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[1,"fileInfo"],["mat-button","","type","button"],[1,"fa","fa-file-archive-o"],["mat-button","","type","button",3,"click"],[1,"fa","fa-download"],[1,"group-rncp"],[1,"message_view"],[1,"group-usertype"],[1,"mail-cc"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"table",2),t.\u0275\u0275listener("matSortChange",function(l){return a.sortData(l)}),t.\u0275\u0275elementContainerStart(3,3),t.\u0275\u0275template(4,av,4,1,"th",4),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(5,5),t.\u0275\u0275template(6,iv,2,3,"th",6),t.\u0275\u0275template(7,dv,6,5,"td",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,8),t.\u0275\u0275template(9,pv,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,9),t.\u0275\u0275template(11,mv,7,6,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,10),t.\u0275\u0275template(13,_v,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,11),t.\u0275\u0275template(15,gv,2,1,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,12),t.\u0275\u0275template(17,fv,2,1,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,13),t.\u0275\u0275template(19,bv,4,4,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,14),t.\u0275\u0275template(21,Cv,5,6,"th",15),t.\u0275\u0275template(22,xv,4,8,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(23,17),t.\u0275\u0275template(24,yv,5,6,"th",18),t.\u0275\u0275template(25,vv,4,8,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(26,19),t.\u0275\u0275template(27,Tv,5,6,"th",20),t.\u0275\u0275template(28,Mv,6,14,"td",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(29,22),t.\u0275\u0275template(30,Sv,5,6,"th",23),t.\u0275\u0275template(31,kv,4,3,"td",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(32,24),t.\u0275\u0275template(33,Fv,5,6,"th",25),t.\u0275\u0275template(34,Bv,2,2,"td",26),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(35,27),t.\u0275\u0275template(36,Av,3,0,"th",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(37,Nv,1,0,"tr",29),t.\u0275\u0275template(38,Rv,1,0,"tr",29),t.\u0275\u0275template(39,Vv,1,0,"tr",29),t.\u0275\u0275template(40,Lv,1,1,"tr",30),t.\u0275\u0275template(41,Uv,1,1,"tr",31),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(42,zv,3,3,"div",32),t.\u0275\u0275elementStart(43,"div",33)(44,"mat-paginator",34),t.\u0275\u0275listener("page",function(l){return a.changePage(l)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(45,"div",1),t.\u0275\u0275template(46,IT,42,32,"div",35),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",a.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(12,kT)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(13,FT)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=a.dataSource&&null!=a.dataSource.data&&a.dataSource.data.length||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(14,BT,a.paginator.length<1||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,AT,a.paginator.length<=10))("hidePageSize",!0)("pageSizeOptions",t.\u0275\u0275pureFunction0(18,NT)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.viewMessageData?null:a.viewMessageData._id))},dependencies:[f.mk,f.sg,f.O5,I.lW,st.oG,P.Mq,P.hl,P.nW,k.Hw,S.KE,S.R9,z.Nt,E.NW,D.Ou,V.YE,V.nU,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,G.gM,m.DefaultValueAccessor,m.NgControlStatus,m.FormControlDirective,at.xw,at.yH,H.oO,f.gd,f.rS,f.uU,M.X$],styles:["#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.form-field[_ngcontent-%COMP%]{margin-top:6px}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%]{width:8%}.mat-column-createdAtFilter[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]{width:6rem}.mat-column-createdAtFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-timeTableFilter[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]{width:6rem}.mat-column-timeTableFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-fromFilter[_ngcontent-%COMP%], .mat-column-from[_ngcontent-%COMP%]{width:20%;padding-left:.5rem!important}.mat-column-toFilter[_ngcontent-%COMP%], .mat-column-to[_ngcontent-%COMP%]{width:25%;padding-left:.5rem!important}.mat-column-subjectFilter[_ngcontent-%COMP%], .mat-column-subject[_ngcontent-%COMP%]{width:auto;padding-left:.5rem!important}[_nghost-%COMP%]     .job-desc-table{width:100%!important}[_nghost-%COMP%]     table.mailTable tr td, [_nghost-%COMP%]     table.mailTable tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table.mailTable tr td:nth-child(1), [_nghost-%COMP%]     table.mailTable tr th:nth-child(1){padding-left:0!important;text-align:center!important}[_nghost-%COMP%]     table.mailTable tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table.mailTable tr th{vertical-align:top}[_nghost-%COMP%]     table.mailTable tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table.mailTable tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2), [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2) th, [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.bg-color[_ngcontent-%COMP%]{background-color:#fff}.right-float[_ngcontent-%COMP%]{float:right;margin-left:5px;background-color:gray}.btnReset[_ngcontent-%COMP%]{margin-left:5px;height:45px;background-color:#607d8b}.fontSize[_ngcontent-%COMP%]{font-size:1.25rem}.header-alignment[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:.5rem!important}.icon-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:50%}.mail-type-list-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:5px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{padding:0}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{border-left:8px solid;transition-property:background;transition-duration:.3s;transition-timing-function:linear;cursor:pointer}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-inbox[_ngcontent-%COMP%]{border-left-color:#009846}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-sent[_ngcontent-%COMP%]{border-left-color:#846573}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-important[_ngcontent-%COMP%]{border-left-color:#e51a4b}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-draft[_ngcontent-%COMP%]{border-left-color:#ffed00}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-trash[_ngcontent-%COMP%]{border-left-color:#d9dada}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:15px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%], .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:focus, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:active{background-color:#212121}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:8px;width:35px;height:35px;min-width:initial;background-color:gray;color:#fff;line-height:14px;margin-right:2px;border-radius:2px}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0}.mail-controls[_ngcontent-%COMP%]   .reply-btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}[_nghost-%COMP%]     svg{padding-right:4px;padding-bottom:5px!important}[_nghost-%COMP%]     .mat-icon[svgicon=email-sync] svg{padding-right:0!important;padding-bottom:0!important}.resetBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#607d8b!important}[_nghost-%COMP%]     .resetBtn svg{padding-bottom:3px!important}[_nghost-%COMP%]     .matFormModif .mat-form-field-wrapper{margin-right:14px}.view-message-section[_ngcontent-%COMP%]{background:white;width:100%;color:#000;padding:20px}.view-mailbox-template[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;flex:1 1 100%;box-sizing:border-box;-webkit-box-flex:1;max-width:100%}.view-mailbox-by-side[_ngcontent-%COMP%]{flex:1 1 50%;box-sizing:border-box;-webkit-box-flex:1;max-width:50%}button.mail-action-btn.mat-button[_ngcontent-%COMP%]{min-width:initial;padding:5px;font-size:15px;line-height:20px;margin-right:.33333rem}.compose-mail-action[_ngcontent-%COMP%]{display:inline-block}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;border-bottom:1px solid #ababab}.unreadNotify[_ngcontent-%COMP%]{color:#fff;margin-left:10px;background-color:red;padding:3px 8px;border-radius:50%}[_nghost-%COMP%]  .unread:checked{border-color:#fff!important}[_nghost-%COMP%]  .unread .mat-checkbox-inner-container{background-color:red!important;border-radius:4px}[_nghost-%COMP%]  .mat-checkbox-checked .mat-checkbox-inner-container{background-color:#ffca28!important}[_nghost-%COMP%]  .mat-checkbox-checked .mat-checkbox-frame{border-color:#ffca28!important}.message_detail[_ngcontent-%COMP%]{margin-top:5px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-rncp[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-usertype[_ngcontent-%COMP%]{margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.mail-cc[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.message_view[_ngcontent-%COMP%]{flex:1 1 .000000001px;box-sizing:border-box;-webkit-box-flex:1}tr.mat-row[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px 5px 10px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.yellow-admtc[_ngcontent-%COMP%]{background-color:#ffd740!important;color:#000!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.break-word[_ngcontent-%COMP%]{width:100%;overflow-wrap:break-word}.top-space[_ngcontent-%COMP%]{margin-top:30px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}  .blue-link-format{cursor:pointer!important;color:#06f!important;text-decoration:underline!important}  .size-school-logo{max-width:170px!important;max-height:150px!important}"]}),n})();const VT=["checkBox"];function LT(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",46),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Compose")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function UT(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",47),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendMailToGroup())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",48),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Mail to Group")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function zT(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendUrgentMessage())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",50),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Urgent message")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function $T(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.getMailbox())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",51),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Get new emails")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function HT(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.onDeleteMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",52),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function jT(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.mailMoveTo("important"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",53),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Important")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function WT(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.mailMoveTo("inbox"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",53),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.REMOVE IMPORTANT")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function YT(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,LT,3,4,"button",40),t.\u0275\u0275elementStart(2,"button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.resetFilter())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275element(4,"mat-icon",42),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,UT,3,4,"button",43),t.\u0275\u0275template(8,zT,3,4,"button",44),t.\u0275\u0275template(9,$T,3,4,"button",44),t.\u0275\u0275template(10,HT,3,4,"button",44),t.\u0275\u0275template(11,jT,3,4,"button",44),t.\u0275\u0275template(12,WT,3,4,"button",44),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.composeActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(3,10,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(6,12,"RESET")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.permissionService.sendGroupMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.urgentMessageActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.downloadMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&"inbox"===e.selectedMailCategory&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&"important"===e.selectedMailCategory)}}function GT(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",36)(1,"div",37)(2,"div",38),t.\u0275\u0275template(3,YT,13,14,"ng-container",39),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","cc"!==e.selectedMailCategory)}}function qT(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-checkbox",55),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?l.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&e.isAllSelected())("aria-label",e.checkboxLabel())}}function KT(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"inbox"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function QT(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"cc"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function XT(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"important"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function ZT(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",62,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function JT(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",63),t.\u0275\u0275element(1,"i",50),t.\u0275\u0275elementEnd())}function tM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",56),t.\u0275\u0275template(1,KT,2,3,"mat-checkbox",57),t.\u0275\u0275template(2,QT,2,3,"mat-checkbox",57),t.\u0275\u0275template(3,XT,2,3,"mat-checkbox",57),t.\u0275\u0275template(4,ZT,2,2,"mat-checkbox",58),t.\u0275\u0275template(5,JT,2,0,"span",59),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"===a.selectedMailCategory||"draft"===a.selectedMailCategory||"sent"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1==e.is_urgent_mail)}}function eM(n,o){1&n&&t.\u0275\u0275element(0,"th",54)}function nM(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-form-field",64)(2,"input",65),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",66)(5,"mat-datepicker",null,67),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"Select a date")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.dateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function aM(n,o){1&n&&t.\u0275\u0275element(0,"th",54)}function iM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",69)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.fromFilter)}}function oM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54),t.\u0275\u0275template(1,iM,4,4,"div",68),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!=e.selectedMailCategory)}}function lM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",69)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.toFilter)}}function rM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54),t.\u0275\u0275template(1,lM,4,4,"div",68),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"!=e.selectedMailCategory)}}function sM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.subjectFilter)}}function cM(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",71),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.date")))}function dM(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?null==e?null:e.date:null==e?null:e.created_at,"dd/MM/yyyy")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?null==e?null:e.date:null==e?null:e.created_at,"dd/MM/yyyy")," ")}}function pM(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",73),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.time")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.time")))}function mM(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",a.translateTime(t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?e.date:e.created_at,"H:mm"))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",a.translateTime(t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?e.date:e.created_at,"H:mm"))," ")}}function _M(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",74),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.from")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.from")))}function uM(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",75),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)," ")}}function gM(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.to")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.to")))}function hM(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)," ")}}function fM(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate4("matTooltip","",t.\u0275\u0275pipeBind1(1,8,"Mail_All")," ",t.\u0275\u0275pipeBind1(2,10,"USER_TYPES."+(null==e||null==e.group_detail||null==e.group_detail.user_types[0]?null:e.group_detail.user_types[0].name))," ",t.\u0275\u0275pipeBind1(3,12,"Mail_of")," ",null==e||null==e.group_detail||null==e.group_detail.rncp_titles[0]?null:e.group_detail.rncp_titles[0].short_name,""),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(5,14,"Mail_All")," ",t.\u0275\u0275pipeBind1(6,16,"USER_TYPES."+(null==e||null==e.group_detail||null==e.group_detail.user_types[0]?null:e.group_detail.user_types[0].name))," ",t.\u0275\u0275pipeBind1(7,18,"Mail_of")," ",null==e||null==e.group_detail||null==e.group_detail.rncp_titles[0]?null:e.group_detail.rncp_titles[0].short_name," ")}}function bM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,fM,8,20,"span",77),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.group_detail?null:e.group_detail.user_types)&&(null==e||null==e.group_detail?null:e.group_detail.user_types.length)&&(null==e||null==e.group_detail?null:e.group_detail.rncp_titles)&&(null==e||null==e.group_detail?null:e.group_detail.rncp_titles.length))}}function CM(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function xM(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,CM,2,0,"span",39),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function yM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,xM,3,3,"span",79),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e||null==e.recipient_properties[0]?null:e.recipient_properties[0].recipients_email)}}function vM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",56),t.\u0275\u0275template(1,hM,6,14,"span",77),t.\u0275\u0275template(2,bM,2,1,"span",39),t.\u0275\u0275template(3,yM,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.user_type_selection)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients_email?null:e.recipient_properties[0].recipients_email.length)}}function TM(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",80),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.composeMail.subject")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.composeMail.subject")))}function MM(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",81),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.subject),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.subject," ")}}function SM(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",82)(1,"div",83),t.\u0275\u0275element(2,"mat-spinner",84),t.\u0275\u0275elementEnd()())}function OM(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function PM(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function wM(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function DM(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",86),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function EM(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",87),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function IM(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",88),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No Mail Data")," "))}function kM(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"reply-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",111),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply"))}function FM(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"reply-all"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",112),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply_all"))}function BM(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"foward-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",113),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.forward"))}function AM(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",50),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"MailBox.URGENT_MESSAGE")," "))}function NM(n,o){1&n&&(t.\u0275\u0275elementStart(0,"button",114),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function RM(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onPreviousMessage(i.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function VM(n,o){1&n&&(t.\u0275\u0275elementStart(0,"button",114),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function LM(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onNextMessage(i.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function UM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e.viewMessageData?null:e.viewMessageData.subject)}}function zM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,e.subjectTranslated)," ",e.resWordMessage,"")}}function $M(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",117),t.\u0275\u0275template(1,UM,2,1,"b",118),t.\u0275\u0275template(2,zM,3,4,"ng-template",null,119,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.translatedSubject)("ngIfElse",e)}}function HM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,3,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.last_name)," ",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.first_name," ",null!=e.viewMessageData&&null!=e.viewMessageData.sender_property&&null!=e.viewMessageData.sender_property.sender&&e.viewMessageData.sender_property.sender.civility&&"neutral"===(null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(3,5,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)," ")}}function jM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span")(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(3,4,"Mail_All")," ",t.\u0275\u0275pipeBind1(4,6,"USER_TYPES."+e.typeName)," ",t.\u0275\u0275pipeBind1(5,8,"Mail_of")," ",e.titleName," ")}}function WM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function YM(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function GM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,WM,4,8,"span",121),t.\u0275\u0275template(2,YM,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.recpList.length-1)}}function qM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,GM,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function KM(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function QM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",124),t.\u0275\u0275text(1),t.\u0275\u0275template(2,KM,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function XM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,QM,3,3,"span",123),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]?null:e.viewMessageData.recipient_properties[0].recipients_email)}}function ZM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,qM,2,1,"span",104),t.\u0275\u0275template(2,XM,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.recpList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]||null==e.viewMessageData.recipient_properties[0].recipients_email?null:e.viewMessageData.recipient_properties[0].recipients_email.length)}}function JM(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,jM,6,10,"span",39),t.\u0275\u0275template(5,ZM,3,2,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.to")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.viewMessageData&&e.viewMessageData.user_type_selection))}}function tS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function eS(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function nS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,tS,4,8,"span",121),t.\u0275\u0275template(2,eS,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.ccList.length-1)}}function aS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,nS,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function iS(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function oS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",124),t.\u0275\u0275text(1),t.\u0275\u0275template(2,iS,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function lS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,oS,3,3,"span",123),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]?null:e.viewMessageData.recipient_properties[1].recipients_email)}}function rS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,aS,2,1,"span",104),t.\u0275\u0275template(5,lS,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.composeMail.cc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.ccList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]||null==e.viewMessageData.recipient_properties[1].recipients_email?null:e.viewMessageData.recipient_properties[1].recipients_email.length)}}function sS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function cS(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function dS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,sS,4,8,"span",121),t.\u0275\u0275template(2,cS,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.bccList.length-1)}}function pS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,dS,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function mS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,pS,2,1,"span",104),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"MailBox.composeMail.bcc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.bccList)}}function _S(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",125)(5,"button",126),t.\u0275\u0275element(6,"i",127),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"label"),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"button",128),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.downloadFile(l))}),t.\u0275\u0275element(10,"i",129),t.\u0275\u0275elementEnd()()()}if(2&n){const e=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"Attachment")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(null==e?null:e.file_name)}}function uS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.short_name,"",0===a?"":","," ")}}function gS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",130)(1,"div",131)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,uS,2,2,"span",104),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"RNCP Titles")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.rncp_titles)}}function hS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.name,"",0===a?"":","," ")}}function fS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",132)(1,"div",131)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,hS,2,2,"span",104),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"UserType")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.user_types)}}function bS(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",133),t.\u0275\u0275element(1,"div",131),t.\u0275\u0275elementEnd())}function CS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",89)(1,"div",90)(2,"div",91),t.\u0275\u0275template(3,kM,3,3,"button",92),t.\u0275\u0275template(4,FM,3,3,"button",92),t.\u0275\u0275template(5,BM,3,3,"button",92),t.\u0275\u0275elementStart(6,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.openDialog(i.viewMessageData))}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275element(8,"i",52),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,AM,4,3,"span",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",94),t.\u0275\u0275template(11,NM,3,3,"button",95),t.\u0275\u0275template(12,RM,3,3,"button",92),t.\u0275\u0275template(13,VM,3,3,"button",96),t.\u0275\u0275template(14,LM,3,3,"button",92),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",97)(16,"div",98),t.\u0275\u0275template(17,$M,4,2,"div",99),t.\u0275\u0275element(18,"hr"),t.\u0275\u0275elementStart(19,"span",100),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"titlecase"),t.\u0275\u0275pipe(22,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",101)(24,"label",102),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,HM,4,7,"span",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(28,JM,6,5,"div",103),t.\u0275\u0275template(29,rS,6,5,"div",103),t.\u0275\u0275template(30,mS,5,4,"div",103),t.\u0275\u0275template(31,_S,11,4,"div",104),t.\u0275\u0275template(32,gS,6,4,"div",105),t.\u0275\u0275template(33,fS,6,4,"div",106),t.\u0275\u0275template(34,bS,2,0,"div",107),t.\u0275\u0275element(35,"hr"),t.\u0275\u0275elementStart(36,"div",108)(37,"div",109),t.\u0275\u0275element(38,"p",110)(39,"br")(40,"br"),t.\u0275\u0275elementEnd()()()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(7,22,"MailBox.emailDetails.delete")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",1==e.viewMessageData.is_urgent_mail),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.checkIsNextBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsNextBtnShow()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.subject),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",null!=e.viewMessageData&&e.viewMessageData.created_at?t.\u0275\u0275pipeBind1(21,24,e.momentlang(null==e.viewMessageData?null:e.viewMessageData.created_at)):""," ",null!=e.viewMessageData&&e.viewMessageData.created_at?e.translateTime(t.\u0275\u0275pipeBind2(22,26,null==e.viewMessageData?null:e.viewMessageData.created_at,"H:mm")):""," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(26,29,"MailBox.from")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.sender_property?null:e.viewMessageData.sender_property.sender),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.recpList?null:e.recpList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.bccList?null:e.bccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData?null:e.viewMessageData.file_attachments),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.rncp_titles?null:e.viewMessageData.group_detail.rncp_titles.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.user_types?null:e.viewMessageData.group_detail.user_types.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("innerHTML",e.getMessage(null==e.viewMessageData?null:e.viewMessageData.message),t.\u0275\u0275sanitizeHtml)}}const xS=function(){return["reset"]},yS=function(){return["loading"]},vS=function(n){return{hide:n}},TS=function(n){return{"hide-pagination-buttons":n}},MS=function(){return[10]};let SS=(()=>{class n{constructor(e,a,i,l,r,s,d,p,u){this.mailboxService=e,this.userService=a,this.translate=i,this.dialog=l,this.permissions=r,this.certificationRuleService=s,this.rncpTitlesService=d,this.permissionService=p,this.dateAdapter=u,this.inbox=!1,this.cc=!0,this.important=!1,this.draft=!1,this.trash=!1,this.sent=!1,this.isWaitingForResponse=!1,this.IsReplyBtn=!1,this.IsReplyAllBtn=!1,this.IsForwardBtn=!1,this.IsDeleteBtn=!1,this.IsImportantBtn=!1,this.IsMovetoInboxBtn=!1,this.hideResetButton=!1,this.alreadyRead=!1,this.isSearching=!1,this.selectedMails=[],this.mailList=[],this.mailSelected=[],this.checked=[],this.isChecked=!1,this.selection=new Tt.Ov(!0,[]),this.config={disableClose:!0,width:"800px"},this.urgentMessageConfig={disableClose:!0,width:"600px"},this.configCertificatioRule={disableClose:!0},this.dataSource=new b.by([]),this.displayedColumns=["select","created_at","timeTable","from","to","subject"],this.filterColumns=["selectFilter","createdAtFilter","timeTableFilter","fromFilter","toFilter","subjectFilter"],this.subs=new w.Y,this.isReset=!1,this.inboxCount=0,this.ccCount=0,this.importantCount=0,this.dataLoaded=!1,this.viewBcc=!1,this.sortEmail="asc",this.sortFrom="asc",this.sortTo="asc",this.sortStatus="asc",this.dateFilter=new m.UntypedFormControl(""),this.fromFilter=new m.UntypedFormControl(""),this.toFilter=new m.UntypedFormControl(""),this.subjectFilter=new m.UntypedFormControl(""),this.lightningFilter=new m.UntypedFormControl(""),this.titleFilterList=[],this.isWaitRecipientGroup=!1,this.filteredValues={date:"",from:"",to:"",subject:""},this.isOPERATORDir=!1,this.isOPERATORAdmin=!1,this.mailsList=[],this.getCountOfCC=[],this.recpList=[],this.ccList=[],this.bccList=[],this.selectedMailCategory="cc"}ngOnInit(){this.dateAdapter.setLocale(this.translate.currentLang),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.dateAdapter.setLocale(this.translate.currentLang)}),this.currentUser=this.userService.getLocalStorageUser(),this.isOPERATORAdmin=!!this.permissions.getPermission("operator_admin"),this.isOPERATORDir=!!this.permissions.getPermission("operator_dir"),this.countSelected=!1,this.sortValue={latest_email:"asc"},this.getMailbox(),this.permissions.getPermission("Student")&&this.getCertificationRule(),this.initMail()}ngOnChanges(){this.getMailbox()}getMailbox(){const l={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex},r=this.cleanFilterData();this.candidateId&&(this.isWaitingForResponse=!0,this.subs.sink=this.mailboxService.getMainMail(l,this.sortValue,"inbox",!0,r,"cc",this.candidateId).subscribe(s=>{this.isReset=!1,this.isWaitingForResponse=!1,s&&s.length>0?(s.forEach((d,p)=>{d.recipient_properties.forEach(u=>{u.recipients.forEach(_=>{_.email===this.currentUser.email&&(d.is_already_read=!0===u.is_read)})})}),this.dataSource.data=s,this.dataSource.sort=this.sort,this.mailList=s,this.ccCount=s[0]?s[0].count_not_read:0,this.paginator.length=s[0]?s[0].count_document:0):(this.dataSource.data=[],this.paginator.length=0,this.isWaitingForResponse=!1),this.noData=this.dataSource.connect().pipe((0,W.U)(d=>0===d.length))},s=>{this.dataSource.data=[],this.paginator.length=0,this.isWaitingForResponse=!1,this.noData=this.dataSource.connect().pipe((0,W.U)(d=>0===d.length)),s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){const e=this.selection.selected.length,a=this.dataSource.data?this.dataSource.data.length:null,i=this.selection.selected;return this.mailSelected=[],i.forEach(l=>{this.mailSelected.push(l._id)}),e===a}getFileName(e){return e?e.substring(e.lastIndexOf("/")+1):""}downloadFile(e){console.log(e);const a=document.createElement("a");a.target="_blank",a.href=e.path,a.download=e.file_name,a.click(),a.remove()}getRecipientFullName(e){let i;return e?(i=e.filter(l=>l.recipients[0].email===this.currentUser.email),i&&i.length?i[0]:""):""}initMail(){this.subs.sink=this.dateFilter.valueChanges.subscribe(e=>{y(e).format("MM/DD/YYYY"),this.filteredValues.date=e,this.paginator.pageIndex=0,this.isReset||this.getMailbox()}),this.subs.sink=this.fromFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.fromFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.fromFilter.setValue(""),this.filteredValues.from="",this.paginator.pageIndex=0,this.isReset||this.getMailbox()):(this.filteredValues.from=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getMailbox())}}),this.subs.sink=this.toFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.toFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.toFilter.setValue(""),this.filteredValues.to="",this.paginator.pageIndex=0,this.isReset||this.getMailbox()):(this.filteredValues.to=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getMailbox())}}),this.subs.sink=this.subjectFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.subjectFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.subjectFilter.setValue(""),this.filteredValues.subject="",this.paginator.pageIndex=0,this.isReset||this.getMailbox()):(this.filteredValues.subject=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getMailbox())}}),this.mailCategories=this.mailboxService.getMailCategories()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getMailbox())}cleanFilterData(){const e=h.cloneDeep(this.filteredValues);let a="";return Object.keys(e).forEach(i=>{e[i]&&(a+=` ${i}:"${e[i]}"`)}),a}sendMail(){this.sendMailDialogComponent=this.dialog.open(lt.U,this.config),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(e=>{this.isReset||this.getMailbox(),this.sendMailDialogComponent=null})}sendUrgentMessage(){this.urgentMessageDialogComponent=this.dialog.open(Ft.x,this.urgentMessageConfig)}sendMailToGroup(){this.mailToGroupDialogComponent=this.dialog.open(Pt.C,this.config)}resetFilter(){this.isReset=!0,this.filteredValues={date:"",from:"",to:"",subject:""},this.sort.direction="",this.sort.active="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=this.sortValue={latest_email:"asc"},this.dataSource.data=[],this.paginator.pageIndex=0,this.dateFilter.setValue(""),this.subjectFilter.setValue(""),this.fromFilter.setValue(""),this.toFilter.setValue(""),this.getMailbox()}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe(),this.dataSource.data=[]}changePage(e){this.isReset||this.getMailbox()}updateToReadFlag(e,a){const i=h.cloneDeep(this.viewMessageData);delete i.$$index,delete i.is_already_read;let l={},r=!1;const s=[];if(s.push(i._id),i.recipient_properties&&i.recipient_properties.forEach(d=>{d.recipients.forEach(p=>{!1===d.is_read&&(p.email===this.currentUser.email||p.email===this.currentUser.email)&&(i.recipient_properties[0].is_read=!0,r=!0,l={is_read:!0},i.recipient_properties.recipients=[p])})}),r){if(0===a||a){const d=h.cloneDeep(this.dataSource.data);d[a]&&(d[a].is_already_read=!0,this.dataSource.data=d)}this.subs.sink=this.mailboxService.updateMultipleMailRecipient(s,l).subscribe(d=>{0===a||a||this.isReset||this.getMailbox()},d=>{d&&d.message&&(d.message.includes("jwt expired")||d.message.includes("str & salt required")||d.message.includes("Authorization header is missing")||d.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}onSelectMessage(e,a){if(this.viewMessageData=e,e.user_type_selection?(this.getRecipientName(e),this.isWaitRecipientGroup=!0):this.isWaitRecipientGroup=!1,this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[],this.getCountOfCC=e.recipient_properties,e.is_group_parent){const i=this.getRecipientFullName(e.recipient_properties);this.recpList.push(i)}else this.getCountOfCC&&this.getCountOfCC.length&&this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients.forEach(r=>{})),this.viewBcc&&"c"===i.rank&&(this.bccList.push(i),console.log("Ada BCC :",i)),i.recipients.forEach(r=>{"c"===i.rank&&r.email===this.currentUser.email&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))});console.log("indeeex  ",a),this.viewMessageData.$$index=a,this.updateToReadFlag(e._id,a)}onPreviousMessage(e){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index-1;console.log("indeeexprevieus   ",a),this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients.forEach(r=>{})),this.viewBcc&&"c"===i.rank&&(this.bccList.push(i),console.log("Ada BCC :",i)),i.recipients.forEach(r=>{"c"===i.rank&&r.email===this.currentUser.email&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}onNextMessage(e){if(this.viewMessageData&&this.viewMessageData.$$index+1<this.mailList.length){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index+1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,console.log("indeeex Nex ",a),console.log("Update ",e),this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients.forEach(r=>{})),this.viewBcc&&"c"===i.rank&&(this.bccList.push(i),console.log("Ada BCC :",i)),i.recipients.forEach(r=>{"c"===i.rank&&r.email===this.currentUser.email&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))}),this.updateToReadFlag(this.viewMessageData._id)}}checkIsPreviousBtnShow(){return 0!==this.viewMessageData.$$index}checkIsNextBtnShow(){return this.viewMessageData.$$index!==this.mailList.length-1}OpenMailPopupRequest(e,a){console.log("viewMessageData ",e),this.config.data={},this.sendMailDialogComponent=this.dialog.open(lt.U,this.config),this.sendMailDialogComponent.componentInstance.tags=[a],this.sendMailDialogComponent.componentInstance.currentMailData=e,"sent"===this.selectedMailCategory&&(this.sendMailDialogComponent.componentInstance.isSenderReq=!1),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(i=>{"updateMailList"===i&&(this.isReset||this.getMailbox()),this.sendMailDialogComponent=null},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}openDialog(e){const l={mail_type:"trash"};let r=3;c().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:r}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const s=c().getConfirmButton(),d=setInterval(()=>{r-=1,s.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+r+" sec"},1e3);this.timeOutVal=setTimeout(()=>{s.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(d),clearTimeout(this.timeOutVal)},1e3*r)}}).then(s=>{if(clearTimeout(this.timeOutVal),s.value){this.viewMessageData=[];const d=[];d.push(e._id),this.subs.sink=this.mailboxService.updateMultipleMailRecipient(d,l,this.candidateId).subscribe(p=>{c().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getMailbox()},p=>{p&&p.message&&(p.message.includes("jwt expired")||p.message.includes("str & salt required")||p.message.includes("Authorization header is missing")||p.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}})}onDeleteMail(){const e={mail_type:"trash"};let l=3;c().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:l}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const r=c().getConfirmButton(),s=setInterval(()=>{l-=1,r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+l+" sec"},1e3);this.timeOutVal=setTimeout(()=>{r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(s),clearTimeout(this.timeOutVal)},1e3*l)}}).then(r=>{clearTimeout(this.timeOutVal),r.value&&(this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailRecipient(this.mailSelected,e,this.candidateId).subscribe(s=>{c().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getMailbox()},s=>{s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}receiveEmail(){this.isReset||this.getMailbox()}mailMoveTo(e){const a={mail_type:e};this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailRecipient(this.mailSelected,a).subscribe(i=>{this.isReset||this.getMailbox()},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showOptions(){this.countSelected=this.selection.selected.length>0}getMessage(e){return e?(e&&e.includes("<table>")&&(e=e.replaceAll("<table>",'<table class="notif-table full-width" border="1">')),e&&e.includes("<a")&&e&&!e.includes("target")&&(console.log("masuk ke sini?"),e=e.replaceAll("<a",'<a target="blank" class="blue-link-format"')),console.log("formattedData",e),e):""}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(e=>{e&&e.length&&(this.subs.sink=this.dialog.open(dt.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:e}).afterClosed().subscribe(a=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(i=>{i&&i.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(dt.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:i}))},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))})}getCertificationRule(){const e=this.userService.getLocalStorageUser(),a=e.entities[0].assigned_rncp_title._id,i=e.entities[0].class._id,l=e._id;this.subs.sink=this.rncpTitlesService.getRncpTitleById(a).subscribe(r=>{this.selectedRncpTitleName=r.short_name,this.selectedRncpTitleLongName=r.long_name},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.subs.sink=this.certificationRuleService.getCertificationRuleSentWithStudent(a,i,l).subscribe(r=>{r||this.getUrgentMail()},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getRecipientName(e){console.log("This group recipient : ",e),e.group_detail.rncp_titles&&e.group_detail.rncp_titles.length&&(this.subs.sink=this.mailboxService.getOneTitle(e.group_detail.rncp_titles[0]._id).subscribe(a=>{a&&(this.titleName=a.short_name)},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),e.group_detail.user_types&&e.group_detail.user_types.length&&(this.subs.sink=this.mailboxService.getOneUserTypes(e.group_detail.user_types[0]._id).subscribe(a=>{a&&(this.typeName=a.name)},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.isWaitRecipientGroup=!1}showCertificationRule(e,a){}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,$.O)(null),(0,et.b)(()=>{this.isReset||this.getMailbox(),this.dataLoaded=!0})).subscribe()}momentlang(e){const a=y(e).format("DD/MM/YYYY");if("object"==typeof a){const i=new Date(a.year,a.month,a.date,a.hour,a.minute);return this.datePipe=new f.uU(this.translate.currentLang),this.datePipe.transform(i,"EEE d MMM, y")}{let i=a;if("number"==typeof i&&(i=i.toString()),8===i.length){const s=parseInt(i.substring(0,4)),d=parseInt(i.substring(4,6)),p=parseInt(i.substring(6,8));i=new Date(s,d,p)}this.datePipe=new f.uU(this.translate.currentLang);const l=y(i,"DD/MM/YYYY");return this.datePipe.transform(l,"EEEE d MMMM y")}}translateTime(e){return y(e,"HH:mm").format("H:mm")}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(Bt.e),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(bt.YI),t.\u0275\u0275directiveInject(At._),t.\u0275\u0275directiveInject(vt.r),t.\u0275\u0275directiveInject(ot.$),t.\u0275\u0275directiveInject(Q._A))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-mailbox-cc-tab"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(E.NW,7),t.\u0275\u0275viewQuery(V.YE,7),t.\u0275\u0275viewQuery(VT,5)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.paginator=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.sort=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.checkBox=i)}},inputs:{candidateId:"candidateId"},features:[t.\u0275\u0275NgOnChangesFeature],decls:47,vars:19,consts:[[1,"view-mailbox-template"],[1,"view-mailbox-by-side"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","asc","matSortDisableClear","",1,"mat-elevation-z8","mailTable",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","6","class","header-alignment",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","selectFilter"],["matColumnDef","createdAtFilter"],["matColumnDef","timeTableFilter"],["matColumnDef","fromFilter"],["matColumnDef","toFilter"],["matColumnDef","subjectFilter"],["matColumnDef","created_at"],["style","padding-left: 24px","mat-header-cell","","mat-sort-header","latest_email",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","timeTable"],["style","padding-left: 24px","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","from"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","to"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","subject"],["mat-header-cell","","mat-sort-header","status","style","padding-right: 0.5rem !important",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","padding-right: 0.5rem !important",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","6","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","hidePageSize","pageSizeOptions","page"],["class","view-message-section",4,"ngIf"],["mat-header-cell","","colspan","6",1,"header-alignment"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex","100","fxFlex.lt-md","100",1,"mail-controls"],[4,"ngIf"],["mat-button","","mat-button-sm","","class","right-float yellow-admtc","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","","matTooltipPosition","above",1,"right-float","resetBtn",3,"matTooltip","disabled","click"],["svgIcon","loop"],["fxLayoutWrap","wrap","mat-button","","mat-button-sm","","class","right-float","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-button","","mat-button-sm","","class","right-float","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float","yellow-admtc",3,"matTooltip","disabled","click"],[1,"fa","fa-pencil"],["fxLayoutWrap","wrap","mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float",3,"matTooltip","disabled","click"],["svgIcon","account-supervisor",2,"width","17px","height","17px","margin","-3px"],["mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float",3,"matTooltip","disabled","click"],[1,"fa","fa-bolt"],["svgIcon","email-sync",1,"mat-icon-svgIcon"],[1,"fa","fa-trash"],[1,"fa","fa-hand-paper-o"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"className","checked","aria-label","click","change",4,"ngIf"],[3,"checked","aria-label","click","change",4,"ngIf"],["style","text-align: center; padding-left: 20px",4,"ngIf"],[3,"className","checked","aria-label","click","change"],["checkBox",""],[3,"checked","aria-label","click","change"],[2,"text-align","center","padding-left","20px"],[2,"margin-top","6px"],["matInput","",3,"matDatepicker","formControl","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["class","matFormModif",4,"ngIf"],[1,"matFormModif"],["matInput","",1,"form-field",3,"formControl","placeholder"],["mat-header-cell","","mat-sort-header","latest_email",2,"padding-left","24px",3,"matTooltip"],["mat-cell","",2,"text-align","center",3,"matTooltip","click"],["mat-header-cell","",2,"padding-left","24px",3,"matTooltip"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip"],["mat-cell","",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip"],[3,"matTooltip","click",4,"ngIf"],[3,"matTooltip","click"],[3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-header-cell","","mat-sort-header","status",2,"padding-right","0.5rem !important",3,"matTooltip"],["mat-cell","",2,"padding-right","0.5rem !important",3,"matTooltip","click"],["mat-header-cell","","colspan","6",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"view-message-section"],[1,"compose-mail-action",2,"width","100%"],[2,"float","left"],["class","mail-action-btn","mat-button","","md-button","",3,"title","click",4,"ngIf"],["mat-button","","md-button","",1,"mail-action-btn",3,"title","click"],[2,"float","right"],["class","mail-action-btn","mat-button","","md-button","","style","color: gray",3,"title",4,"ngIf"],["class","mail-action-btn","mat-button","","style","color: gray","md-button","",3,"title",4,"ngIf"],[1,"compose-mail"],[2,"width","100%"],["class","emailsubject e-mailSubject",4,"ngIf"],[2,"float","right","margin-right","18px","font-size","12px"],[1,"sender-mail"],[2,"font-weight","800","font-size","12px"],["class","recipient-mail",4,"ngIf"],[4,"ngFor","ngForOf"],["class","group-rncp",4,"ngIf"],["class","group-usertype",4,"ngIf"],["class","mail-cc",4,"ngIf"],[1,"message_detail"],[1,"message_view","break-word"],[3,"innerHTML"],[1,"fa","fa-reply"],[1,"fa","fa-reply-all"],[1,"fa","fa-mail-forward"],["mat-button","","md-button","",1,"mail-action-btn",2,"color","gray",3,"title"],[1,"fa","fa-caret-left"],[1,"fa","fa-caret-right"],[1,"emailsubject","e-mailSubject"],[4,"ngIf","ngIfElse"],["subjectTranslateds",""],[1,"recipient-mail"],[3,"title",4,"ngIf"],[3,"title"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[1,"fileInfo"],["mat-button","","type","button"],[1,"fa","fa-file-archive-o"],["mat-button","","type","button",3,"click"],[1,"fa","fa-download"],[1,"group-rncp"],[1,"message_view"],[1,"group-usertype"],[1,"mail-cc"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"table",2),t.\u0275\u0275listener("matSortChange",function(l){return a.sortData(l)}),t.\u0275\u0275elementContainerStart(3,3),t.\u0275\u0275template(4,GT,4,1,"th",4),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(5,5),t.\u0275\u0275template(6,qT,2,3,"th",6),t.\u0275\u0275template(7,tM,6,5,"td",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,8),t.\u0275\u0275template(9,eM,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,9),t.\u0275\u0275template(11,nM,7,6,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,10),t.\u0275\u0275template(13,aM,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,11),t.\u0275\u0275template(15,oM,2,1,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,12),t.\u0275\u0275template(17,rM,2,1,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,13),t.\u0275\u0275template(19,sM,4,4,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,14),t.\u0275\u0275template(21,cM,5,6,"th",15),t.\u0275\u0275template(22,dM,4,8,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(23,17),t.\u0275\u0275template(24,pM,5,6,"th",18),t.\u0275\u0275template(25,mM,4,8,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(26,19),t.\u0275\u0275template(27,_M,5,6,"th",20),t.\u0275\u0275template(28,uM,6,14,"td",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(29,22),t.\u0275\u0275template(30,gM,5,6,"th",23),t.\u0275\u0275template(31,vM,4,3,"td",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(32,24),t.\u0275\u0275template(33,TM,5,6,"th",25),t.\u0275\u0275template(34,MM,2,2,"td",26),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(35,27),t.\u0275\u0275template(36,SM,3,0,"th",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(37,OM,1,0,"tr",29),t.\u0275\u0275template(38,PM,1,0,"tr",29),t.\u0275\u0275template(39,wM,1,0,"tr",29),t.\u0275\u0275template(40,DM,1,1,"tr",30),t.\u0275\u0275template(41,EM,1,1,"tr",31),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(42,IM,3,3,"div",32),t.\u0275\u0275elementStart(43,"div",33)(44,"mat-paginator",34),t.\u0275\u0275listener("page",function(l){return a.changePage(l)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(45,"div",1),t.\u0275\u0275template(46,CS,41,31,"div",35),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",a.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(12,xS)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(13,yS)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=a.dataSource&&null!=a.dataSource.data&&a.dataSource.data.length||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(14,vS,a.paginator.length<1||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,TS,a.paginator.length<=10))("hidePageSize",!0)("pageSizeOptions",t.\u0275\u0275pureFunction0(18,MS)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.viewMessageData?null:a.viewMessageData._id))},dependencies:[f.mk,f.sg,f.O5,I.lW,st.oG,P.Mq,P.hl,P.nW,k.Hw,S.KE,S.R9,z.Nt,E.NW,D.Ou,V.YE,V.nU,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,G.gM,m.DefaultValueAccessor,m.NgControlStatus,m.FormControlDirective,at.xw,at.yH,H.oO,f.gd,f.rS,f.uU,M.X$],styles:["#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.form-field[_ngcontent-%COMP%]{margin-top:6px}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%]{width:8%}.mat-column-createdAtFilter[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]{width:6rem}.mat-column-createdAtFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-timeTableFilter[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]{width:6rem}.mat-column-timeTableFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-fromFilter[_ngcontent-%COMP%], .mat-column-from[_ngcontent-%COMP%]{width:20%;padding-left:.5rem!important}.mat-column-toFilter[_ngcontent-%COMP%], .mat-column-to[_ngcontent-%COMP%]{width:25%;padding-left:.5rem!important}.mat-column-subjectFilter[_ngcontent-%COMP%], .mat-column-subject[_ngcontent-%COMP%]{width:auto;padding-left:.5rem!important}[_nghost-%COMP%]     .job-desc-table{width:100%!important}[_nghost-%COMP%]     table.mailTable tr td, [_nghost-%COMP%]     table.mailTable tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table.mailTable tr td:nth-child(1), [_nghost-%COMP%]     table.mailTable tr th:nth-child(1){padding-left:0!important;text-align:center!important}[_nghost-%COMP%]     table.mailTable tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table.mailTable tr th{vertical-align:top}[_nghost-%COMP%]     table.mailTable tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table.mailTable tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2), [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2) th, [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.bg-color[_ngcontent-%COMP%]{background-color:#fff}.right-float[_ngcontent-%COMP%]{float:right;margin-left:5px;background-color:gray}.btnReset[_ngcontent-%COMP%]{margin-left:5px;height:45px;background-color:#607d8b}.fontSize[_ngcontent-%COMP%]{font-size:1.25rem}.header-alignment[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:.5rem!important}.icon-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:50%}.mail-type-list-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:5px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{padding:0}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{border-left:8px solid;transition-property:background;transition-duration:.3s;transition-timing-function:linear;cursor:pointer}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-inbox[_ngcontent-%COMP%]{border-left-color:#009846}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-sent[_ngcontent-%COMP%]{border-left-color:#846573}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-important[_ngcontent-%COMP%]{border-left-color:#e51a4b}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-draft[_ngcontent-%COMP%]{border-left-color:#ffed00}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-trash[_ngcontent-%COMP%]{border-left-color:#d9dada}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:15px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%], .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:focus, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:active{background-color:#212121}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:8px;width:35px;height:35px;min-width:initial;background-color:gray;color:#fff;line-height:14px;margin-right:2px;border-radius:2px}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0}.mail-controls[_ngcontent-%COMP%]   .reply-btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}[_nghost-%COMP%]     svg{padding-right:4px;padding-bottom:5px!important}[_nghost-%COMP%]     .mat-icon[svgicon=email-sync] svg{padding-right:0!important;padding-bottom:0!important}.resetBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#607d8b!important}[_nghost-%COMP%]     .resetBtn svg{padding-bottom:3px!important}[_nghost-%COMP%]     .matFormModif .mat-form-field-wrapper{margin-right:14px}.view-message-section[_ngcontent-%COMP%]{background:white;width:100%;color:#000;padding:20px}.view-mailbox-template[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;flex:1 1 100%;box-sizing:border-box;-webkit-box-flex:1;max-width:100%}.view-mailbox-by-side[_ngcontent-%COMP%]{flex:1 1 50%;box-sizing:border-box;-webkit-box-flex:1;max-width:50%}button.mail-action-btn.mat-button[_ngcontent-%COMP%]{min-width:initial;padding:5px;font-size:15px;line-height:20px;margin-right:.33333rem}.compose-mail-action[_ngcontent-%COMP%]{display:inline-block}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;border-bottom:1px solid #ababab}.unreadNotify[_ngcontent-%COMP%]{color:#fff;margin-left:10px;background-color:red;padding:3px 8px;border-radius:50%}[_nghost-%COMP%]  .unread:checked{border-color:#fff!important}[_nghost-%COMP%]  .unread .mat-checkbox-inner-container{background-color:red!important;border-radius:4px}[_nghost-%COMP%]  .mat-checkbox-checked .mat-checkbox-inner-container{background-color:#ffca28!important}[_nghost-%COMP%]  .mat-checkbox-checked .mat-checkbox-frame{border-color:#ffca28!important}.message_detail[_ngcontent-%COMP%]{margin-top:5px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-rncp[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-usertype[_ngcontent-%COMP%]{margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.mail-cc[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.message_view[_ngcontent-%COMP%]{flex:1 1 .000000001px;box-sizing:border-box;-webkit-box-flex:1}tr.mat-row[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.yellow-admtc[_ngcontent-%COMP%]{background-color:#ffd740!important;color:#000!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.break-word[_ngcontent-%COMP%]{width:100%;overflow-wrap:break-word}.top-space[_ngcontent-%COMP%]{margin-top:30px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}  .blue-link-format{cursor:pointer!important;color:#06f!important;text-decoration:underline!important}  .size-school-logo{max-width:170px!important;max-height:150px!important}"]}),n})();function OS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",46),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Compose")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function PS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",47),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendMailToGroup())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",48),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Mail to Group")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function wS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendUrgentMessage())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",50),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Urgent message")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function DS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.getSentMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",51),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Get new emails")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function ES(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.onDeleteMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",52),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function IS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.mailMoveTo("important"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",53),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Important")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function kS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.mailMoveTo("inbox"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",53),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.REMOVE IMPORTANT")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function FS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,OS,3,4,"button",40),t.\u0275\u0275elementStart(2,"button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.resetFilter())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275element(4,"mat-icon",42),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,PS,3,4,"button",43),t.\u0275\u0275template(8,wS,3,4,"button",44),t.\u0275\u0275template(9,DS,3,4,"button",44),t.\u0275\u0275template(10,ES,3,4,"button",44),t.\u0275\u0275template(11,IS,3,4,"button",44),t.\u0275\u0275template(12,kS,3,4,"button",44),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.composeActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(3,10,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(6,12,"RESET")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.permissionService.sendGroupMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.urgentMessageActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.downloadMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&"inbox"===e.selectedMailCategory&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&"important"===e.selectedMailCategory)}}function BS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",36)(1,"div",37)(2,"div",38),t.\u0275\u0275template(3,FS,13,14,"ng-container",39),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","cc"!==e.selectedMailCategory)}}function AS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-checkbox",55),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?l.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&e.isAllSelected())("aria-label",e.checkboxLabel())}}function NS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"inbox"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function RS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"cc"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function VS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"important"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function LS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",62,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function US(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",63),t.\u0275\u0275element(1,"i",50),t.\u0275\u0275elementEnd())}function zS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",56),t.\u0275\u0275template(1,NS,2,3,"mat-checkbox",57),t.\u0275\u0275template(2,RS,2,3,"mat-checkbox",57),t.\u0275\u0275template(3,VS,2,3,"mat-checkbox",57),t.\u0275\u0275template(4,LS,2,2,"mat-checkbox",58),t.\u0275\u0275template(5,US,2,0,"span",59),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"===a.selectedMailCategory||"draft"===a.selectedMailCategory||"sent"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1==e.is_urgent_mail)}}function $S(n,o){1&n&&t.\u0275\u0275element(0,"th",54)}function HS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-form-field",64)(2,"input",65),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",66)(5,"mat-datepicker",null,67),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"Select a date")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.dateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function jS(n,o){1&n&&t.\u0275\u0275element(0,"th",54)}function WS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",69)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.fromFilter)}}function YS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54),t.\u0275\u0275template(1,WS,4,4,"div",68),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!=e.selectedMailCategory)}}function GS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",69)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.toFilter)}}function qS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54),t.\u0275\u0275template(1,GS,4,4,"div",68),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"!=e.selectedMailCategory)}}function KS(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.subjectFilter)}}function QS(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",71),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.date")))}function XS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?null==e?null:e.date:null==e?null:e.created_at,"dd/MM/yyyy")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?null==e?null:e.date:null==e?null:e.created_at,"dd/MM/yyyy")," ")}}function ZS(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",73),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.time")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.time")))}function JS(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",a.translateTime(t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?e.date:e.created_at,"H:mm"))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",a.translateTime(t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?e.date:e.created_at,"H:mm"))," ")}}function tO(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",74),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.from")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.from")))}function eO(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",75),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)," ")}}function nO(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.to")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.to")))}function aO(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)," ")}}function iO(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate4("matTooltip","",t.\u0275\u0275pipeBind1(1,8,"Mail_All")," ",t.\u0275\u0275pipeBind1(2,10,"USER_TYPES."+(null==e||null==e.group_detail||null==e.group_detail.user_types[0]?null:e.group_detail.user_types[0].name))," ",t.\u0275\u0275pipeBind1(3,12,"Mail_of")," ",null==e||null==e.group_detail||null==e.group_detail.rncp_titles[0]?null:e.group_detail.rncp_titles[0].short_name,""),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(5,14,"Mail_All")," ",t.\u0275\u0275pipeBind1(6,16,"USER_TYPES."+(null==e||null==e.group_detail||null==e.group_detail.user_types[0]?null:e.group_detail.user_types[0].name))," ",t.\u0275\u0275pipeBind1(7,18,"Mail_of")," ",null==e||null==e.group_detail||null==e.group_detail.rncp_titles[0]?null:e.group_detail.rncp_titles[0].short_name," ")}}function oO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,iO,8,20,"span",77),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.group_detail?null:e.group_detail.user_types)&&(null==e||null==e.group_detail?null:e.group_detail.user_types.length)&&(null==e||null==e.group_detail?null:e.group_detail.rncp_titles)&&(null==e||null==e.group_detail?null:e.group_detail.rncp_titles.length))}}function lO(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function rO(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,lO,2,0,"span",39),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function sO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,rO,3,3,"span",79),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e||null==e.recipient_properties[0]?null:e.recipient_properties[0].recipients_email)}}function cO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",56),t.\u0275\u0275template(1,aO,6,14,"span",77),t.\u0275\u0275template(2,oO,2,1,"span",39),t.\u0275\u0275template(3,sO,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.user_type_selection)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients_email?null:e.recipient_properties[0].recipients_email.length)}}function dO(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",80),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.composeMail.subject")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.composeMail.subject")))}function pO(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",81),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.subject),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.subject," ")}}function mO(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",82)(1,"div",83),t.\u0275\u0275element(2,"mat-spinner",84),t.\u0275\u0275elementEnd()())}function _O(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function uO(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function gO(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function hO(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",86),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function fO(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",87),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function bO(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",88),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No Mail Data")," "))}function CO(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"reply-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",111),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply"))}function xO(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"reply-all"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",112),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply_all"))}function yO(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"foward-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",113),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.forward"))}function vO(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",50),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"MailBox.URGENT_MESSAGE")," "))}function TO(n,o){1&n&&(t.\u0275\u0275elementStart(0,"button",114),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function MO(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onPreviousMessage(i.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function SO(n,o){1&n&&(t.\u0275\u0275elementStart(0,"button",114),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function OO(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onNextMessage(i.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function PO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e.viewMessageData?null:e.viewMessageData.subject)}}function wO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,e.subjectTranslated)," ",e.resWordMessage,"")}}function DO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",117),t.\u0275\u0275template(1,PO,2,1,"b",118),t.\u0275\u0275template(2,wO,3,4,"ng-template",null,119,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.translatedSubject)("ngIfElse",e)}}function EO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,3,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.last_name)," ",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.first_name," ",null!=e.viewMessageData&&null!=e.viewMessageData.sender_property&&null!=e.viewMessageData.sender_property.sender&&e.viewMessageData.sender_property.sender.civility&&"neutral"===(null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(3,5,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)," ")}}function IO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span")(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(3,4,"Mail_All")," ",t.\u0275\u0275pipeBind1(4,6,"USER_TYPES."+e.typeName)," ",t.\u0275\u0275pipeBind1(5,8,"Mail_of")," ",e.titleName," ")}}function kO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function FO(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function BO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,kO,4,8,"span",121),t.\u0275\u0275template(2,FO,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.recpList.length-1)}}function AO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,BO,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function NO(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function RO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",124),t.\u0275\u0275text(1),t.\u0275\u0275template(2,NO,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function VO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,RO,3,3,"span",123),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]?null:e.viewMessageData.recipient_properties[0].recipients_email)}}function LO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,AO,2,1,"span",104),t.\u0275\u0275template(2,VO,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.recpList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]||null==e.viewMessageData.recipient_properties[0].recipients_email?null:e.viewMessageData.recipient_properties[0].recipients_email.length)}}function UO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,IO,6,10,"span",39),t.\u0275\u0275template(5,LO,3,2,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.to")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.viewMessageData&&e.viewMessageData.user_type_selection))}}function zO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function $O(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function HO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,zO,4,8,"span",121),t.\u0275\u0275template(2,$O,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.ccList.length-1)}}function jO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,HO,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function WO(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function YO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",124),t.\u0275\u0275text(1),t.\u0275\u0275template(2,WO,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function GO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,YO,3,3,"span",123),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]?null:e.viewMessageData.recipient_properties[1].recipients_email)}}function qO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,jO,2,1,"span",104),t.\u0275\u0275template(5,GO,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.composeMail.cc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.ccList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]||null==e.viewMessageData.recipient_properties[1].recipients_email?null:e.viewMessageData.recipient_properties[1].recipients_email.length)}}function KO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function QO(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function XO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,KO,4,8,"span",121),t.\u0275\u0275template(2,QO,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.bccList.length-1)}}function ZO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,XO,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function JO(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,ZO,2,1,"span",104),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"MailBox.composeMail.bcc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.bccList)}}function t3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",125)(5,"button",126),t.\u0275\u0275element(6,"i",127),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"label"),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"button",128),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.downloadFile(l))}),t.\u0275\u0275element(10,"i",129),t.\u0275\u0275elementEnd()()()}if(2&n){const e=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"Attachment")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(null==e?null:e.file_name)}}function e3(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.short_name,"",0===a?"":","," ")}}function n3(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",130)(1,"div",131)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,e3,2,2,"span",104),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"RNCP Titles")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.rncp_titles)}}function a3(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.name,"",0===a?"":","," ")}}function i3(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",132)(1,"div",131)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,a3,2,2,"span",104),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"UserType")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.user_types)}}function o3(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",133),t.\u0275\u0275element(1,"div",131),t.\u0275\u0275elementEnd())}function l3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",89)(1,"div",90)(2,"div",91),t.\u0275\u0275template(3,CO,3,3,"button",92),t.\u0275\u0275template(4,xO,3,3,"button",92),t.\u0275\u0275template(5,yO,3,3,"button",92),t.\u0275\u0275elementStart(6,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.openDialog(i.viewMessageData))}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275element(8,"i",52),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,vO,4,3,"span",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",94),t.\u0275\u0275template(11,TO,3,3,"button",95),t.\u0275\u0275template(12,MO,3,3,"button",92),t.\u0275\u0275template(13,SO,3,3,"button",96),t.\u0275\u0275template(14,OO,3,3,"button",92),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",97)(16,"div",98),t.\u0275\u0275template(17,DO,4,2,"div",99),t.\u0275\u0275element(18,"hr"),t.\u0275\u0275elementStart(19,"span",100),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"titlecase"),t.\u0275\u0275pipe(22,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",101)(24,"label",102),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,EO,4,7,"span",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(28,UO,6,5,"div",103),t.\u0275\u0275template(29,qO,6,5,"div",103),t.\u0275\u0275template(30,JO,5,4,"div",103),t.\u0275\u0275template(31,t3,11,4,"div",104),t.\u0275\u0275template(32,n3,6,4,"div",105),t.\u0275\u0275template(33,i3,6,4,"div",106),t.\u0275\u0275template(34,o3,2,0,"div",107),t.\u0275\u0275element(35,"hr"),t.\u0275\u0275elementStart(36,"div",108)(37,"div",109),t.\u0275\u0275element(38,"p",110)(39,"br")(40,"br"),t.\u0275\u0275elementEnd()()()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(7,22,"MailBox.emailDetails.delete")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",1==e.viewMessageData.is_urgent_mail),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.checkIsNextBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsNextBtnShow()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.subject),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",null!=e.viewMessageData&&e.viewMessageData.created_at?t.\u0275\u0275pipeBind1(21,24,e.momentlang(null==e.viewMessageData?null:e.viewMessageData.created_at)):""," ",null!=e.viewMessageData&&e.viewMessageData.created_at?e.translateTime(t.\u0275\u0275pipeBind2(22,26,null==e.viewMessageData?null:e.viewMessageData.created_at,"H:mm")):""," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(26,29,"MailBox.from")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.sender_property?null:e.viewMessageData.sender_property.sender),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.recpList?null:e.recpList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.bccList?null:e.bccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData?null:e.viewMessageData.file_attachments),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.rncp_titles?null:e.viewMessageData.group_detail.rncp_titles.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.user_types?null:e.viewMessageData.group_detail.user_types.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("innerHTML",e.getMessage(null==e.viewMessageData?null:e.viewMessageData.message),t.\u0275\u0275sanitizeHtml)}}const r3=function(){return["reset"]},s3=function(){return["loading"]},c3=function(n){return{hide:n}},d3=function(n){return{"hide-pagination-buttons":n}},p3=function(){return[10]};let m3=(()=>{class n{constructor(e,a,i,l,r,s,d,p){this.mailboxService=e,this.userService=a,this.translate=i,this.dialog=l,this.permissions=r,this.certificationRuleService=s,this.rncpTitlesService=d,this.permissionService=p,this.subs=new w.Y,this.inbox=!1,this.cc=!1,this.important=!1,this.draft=!1,this.trash=!1,this.sent=!0,this.isReset=!1,this.IsReplyBtn=!1,this.IsReplyAllBtn=!1,this.IsForwardBtn=!1,this.IsDeleteBtn=!1,this.IsImportantBtn=!1,this.isWaitRecipientGroup=!1,this.IsMovetoInboxBtn=!1,this.hideResetButton=!1,this.isSearching=!1,this.selectedMails=[],this.mailSelected=[],this.checked=[],this.configCertificatioRule={disableClose:!0},this.config={disableClose:!0,width:"800px"},this.urgentMessageConfig={disableClose:!0,width:"600px"},this.inboxCount=0,this.ccCount=0,this.importantCount=0,this.selection=new Tt.Ov(!0,[]),this.dataSource=new b.by([]),this.displayedColumns=["select","created_at","timeTable","from","to","subject"],this.filterColumns=["selectFilter","createdAtFilter","timeTableFilter","fromFilter","toFilter","subjectFilter"],this.dateFilter=new m.UntypedFormControl(""),this.subjectFilter=new m.UntypedFormControl(""),this.fromFilter=new m.UntypedFormControl(""),this.toFilter=new m.UntypedFormControl(""),this.filteredValues={date:"",from:"",to:"",subject:""},this.dataLoaded=!1,this.isWaitingForResponse=!1,this.selectedMailCategory="sent",this.mailsList=[],this.mailList=[],this.getCountOfCC=[],this.recpList=[],this.ccList=[],this.viewBcc=!0,this.bccList=[],this.isOPERATORDir=!1,this.isOPERATORAdmin=!1}ngOnInit(){this.currentUser=this.userService.getLocalStorageUser(),this.isOPERATORAdmin=!!this.permissions.getPermission("operator_admin"),this.isOPERATORDir=!!this.permissions.getPermission("operator_dir"),this.countSelected=!1,this.sortValue={latest_email:"asc"},this.getSentMail(),this.initSentMail()}ngOnChanges(){this.getSentMail()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,$.O)(null),(0,et.b)(()=>{this.isReset||this.getSentMail(),this.dataLoaded=!0})).subscribe()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getSentMail())}cleanFilterData(){const e=h.cloneDeep(this.filteredValues);let a="";return Object.keys(e).forEach(i=>{e[i]&&(a+=` ${i}:"${e[i]}"`)}),a}getSentMail(){const e=this.selectedMailCategory,a={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex},i=this.cleanFilterData();this.candidateId&&(this.isWaitingForResponse=!0,this.subs.sink=this.mailboxService.getNonMainMail(a,this.sortValue,e,i,this.candidateId).subscribe(l=>{this.isReset=!1,this.isWaitingForResponse=!1,l&&l.length?(console.log(l),this.dataSource.data=l,this.dataSource.sort=this.sort,this.mailList=l,this.paginator.length=l[0]?l[0].count_document:0):(this.dataSource.data=[],this.paginator.length=0),this.noData=this.dataSource.connect().pipe((0,W.U)(r=>0===r.length))},l=>{this.dataSource.data=[],this.paginator.length=0,this.noData=this.dataSource.connect().pipe((0,W.U)(r=>0===r.length)),l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}sendMailToGroup(){this.mailToGroupDialogComponent=this.dialog.open(Pt.C,this.config)}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){const e=this.selection.selected.length,a=this.dataSource.data?this.dataSource.data.length:null,i=this.selection.selected;return this.mailSelected=[],i.forEach(l=>{this.mailSelected.push(l._id)}),e===a}initSentMail(){this.subs.sink=this.dateFilter.valueChanges.subscribe(e=>{const a=y(e).format("MM/DD/YYYY");console.log("date "+a),this.filteredValues.date=e,this.paginator.pageIndex=0,this.isReset||this.getSentMail()}),this.subs.sink=this.fromFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.fromFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.fromFilter.setValue(""),this.filteredValues.from="",this.paginator.pageIndex=0,this.isReset||this.getSentMail()):(this.filteredValues.from=e?e.toLowerCase():"",console.log("from "+this.filteredValues.from),this.paginator.pageIndex=0,this.isReset||this.getSentMail())}}),this.subs.sink=this.toFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.toFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.toFilter.setValue(""),this.filteredValues.to="",this.paginator.pageIndex=0,this.isReset||this.getSentMail()):(this.filteredValues.to=e?e.toLowerCase():"",console.log("ddddddd"+e),this.paginator.pageIndex=0,this.isReset||this.getSentMail())}}),this.subs.sink=this.subjectFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.subjectFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.subjectFilter.setValue(""),this.filteredValues.subject="",this.paginator.pageIndex=0,this.isReset||this.getSentMail()):(this.filteredValues.subject=e?e.toLowerCase():"",console.log("ddddddd"+e),this.paginator.pageIndex=0,this.isReset||this.getSentMail())}}),this.mailCategories=this.mailboxService.getMailCategories()}resetFilter(){this.isReset=!0,this.filteredValues={date:"",from:"",to:"",subject:""},this.sort.direction="",this.sort.active="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=this.sortValue={latest_email:"asc"},this.dataSource.data=[],this.paginator.pageIndex=0,this.dateFilter.setValue(""),this.subjectFilter.setValue(""),this.fromFilter.setValue(""),this.toFilter.setValue(""),this.getSentMail()}ngOnDestroy(){this.subs.unsubscribe(),this.dataSource.data=[]}changePage(e){this.isReset||this.getSentMail()}onSelectMessage(e,a){e.user_type_selection?(this.getRecipientName(e),this.isWaitRecipientGroup=!0):this.isWaitRecipientGroup=!1,this.viewMessageData=e,this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[],console.log("Update ",e),this.getCountOfCC=e.recipient_properties,this.getCountOfCC&&this.getCountOfCC.length&&this.getCountOfCC.forEach(i=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients.forEach(l=>{"cc"===i.rank&&(this.viewBcc=!0)})),"c"===i.rank&&(this.viewBcc=!0,this.bccList.push(i),console.log("Ada BCC :",i)),i.recipients.forEach(l=>{"c"===i.rank&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))}),console.log("indeeex  ",a),this.viewMessageData.$$index=a}onPreviousMessage(e){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index-1;console.log("indeeexprevieus   ",a),this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients.forEach(r=>{"cc"===i.rank&&(this.viewBcc=!0)})),"c"===i.rank&&(this.viewBcc=!0,this.bccList.push(i),console.log("Ada BCC :",i)),i.recipients.forEach(r=>{"c"===i.rank&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}onNextMessage(e){if(this.viewMessageData&&this.viewMessageData.$$index+1<this.mailList.length){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index+1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients.forEach(r=>{"cc"===i.rank&&(this.viewBcc=!0)})),"c"===i.rank&&(this.viewBcc=!0,this.bccList.push(i),console.log("Ada BCC :",i)),i.recipients.forEach(r=>{"c"===i.rank&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}}checkIsPreviousBtnShow(){return 0!==this.viewMessageData.$$index}checkIsNextBtnShow(){return this.viewMessageData.$$index!==this.mailList.length-1}OpenMailPopupRequest(e,a){this.config.data={},this.sendMailDialogComponent=this.dialog.open(lt.U,this.config),this.sendMailDialogComponent.componentInstance.tags=[a],this.sendMailDialogComponent.componentInstance.currentMailData=e,"sent"===this.selectedMailCategory&&(this.sendMailDialogComponent.componentInstance.isSenderReq=!1),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(i=>{"updateMailList"===i&&(this.isReset||this.getSentMail()),this.sendMailDialogComponent=null})}getFileName(e){return e?e.substring(e.lastIndexOf("/")+1):""}downloadFile(e){console.log(e);const a=document.createElement("a");a.target="_blank",a.href=e.path,a.download=e.file_name,a.click(),a.remove()}openDialog(e){let a=3;const r={mail_type:"trash"};c().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:a}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const s=c().getConfirmButton(),d=setInterval(()=>{a-=1,s.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+a+" sec"},1e3);this.timeOutVal=setTimeout(()=>{s.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(d),clearTimeout(this.timeOutVal)},1e3*a)}}).then(s=>{if(clearTimeout(this.timeOutVal),s.value){this.viewMessageData=[];const d=[];d.push(e._id),this.subs.sink=this.mailboxService.updateMultipleMailSender(d,r).subscribe(p=>{c().fire({type:"success",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getSentMail()},p=>{p&&p.message&&(p.message.includes("jwt expired")||p.message.includes("str & salt required")||p.message.includes("Authorization header is missing")||p.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}})}sendMail(){this.sendMailDialogComponent=this.dialog.open(lt.U,this.config),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(e=>{this.isReset||this.getSentMail(),this.sendMailDialogComponent=null})}onDeleteMail(){let e=3;const a={mail_type:"trash"};c().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:e}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const r=c().getConfirmButton(),s=setInterval(()=>{e-=1,r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+e+" sec"},1e3);this.timeOutVal=setTimeout(()=>{r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(s),clearTimeout(this.timeOutVal)},1e3*e)}}).then(r=>{clearTimeout(this.timeOutVal),r.value&&(this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailSender(this.mailSelected,a,this.candidateId).subscribe(s=>{c().fire({type:"success",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getSentMail()},s=>{s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}showOptions(){this.countSelected=this.selection.selected.length>0}receiveEmail(){this.isReset||this.getSentMail()}mailMoveTo(e){const a={mail_type:e};this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailRecipient(this.mailSelected,a).subscribe(i=>{this.isReset||this.getSentMail()},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}sendUrgentMessage(){this.urgentMessageDialogComponent=this.dialog.open(Ft.x,this.urgentMessageConfig)}getMessage(e){return e?((e=e.replaceAll("<table>",'<table class="notif-table full-width" border="1">'))&&e.includes("<a")&&e&&!e.includes("target")&&(e=e.replaceAll("<a",'<a target="blank" class="blue-link-format"')),e):""}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(e=>{e&&e.length&&(this.subs.sink=this.dialog.open(dt.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:e}).afterClosed().subscribe(a=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(i=>{i&&i.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(dt.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:i}))},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))},e=>{e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCertificationRule(){const e=this.userService.getLocalStorageUser(),a=e.entities[0].assigned_rncp_title._id,i=e.entities[0].class._id,l=e._id;this.subs.sink=this.rncpTitlesService.getRncpTitleById(a).subscribe(r=>{this.selectedRncpTitleName=r.short_name,this.selectedRncpTitleLongName=r.long_name},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.subs.sink=this.certificationRuleService.getCertificationRuleSentWithStudent(a,i,l).subscribe(r=>{r||this.getUrgentMail()},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getRecipientName(e){console.log("This group recipient : ",e),e.group_detail.rncp_titles&&e.group_detail.rncp_titles.length&&(this.subs.sink=this.mailboxService.getOneTitle(e.group_detail.rncp_titles[0]._id).subscribe(a=>{a&&(this.titleName=a.short_name)},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),e.group_detail.user_types&&e.group_detail.user_types.length&&(this.subs.sink=this.mailboxService.getOneUserTypes(e.group_detail.user_types[0]._id).subscribe(a=>{a&&(this.typeName=a.name)},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.isWaitRecipientGroup=!1}showCertificationRule(e,a){}momentlang(e){const a=y(e).format("DD/MM/YYYY");if("object"==typeof a){const i=new Date(a.year,a.month,a.date,a.hour,a.minute);return this.datePipe=new f.uU(this.translate.currentLang),this.datePipe.transform(i,"EEE d MMM, y")}{let i=a;if("number"==typeof i&&(i=i.toString()),8===i.length){const s=parseInt(i.substring(0,4)),d=parseInt(i.substring(4,6)),p=parseInt(i.substring(6,8));i=new Date(s,d,p)}this.datePipe=new f.uU(this.translate.currentLang);const l=y(i,"DD/MM/YYYY");return this.datePipe.transform(l,"EEEE d MMMM y")}}translateTime(e){return y(e,"HH:mm").format("H:mm")}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(Bt.e),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(bt.YI),t.\u0275\u0275directiveInject(At._),t.\u0275\u0275directiveInject(vt.r),t.\u0275\u0275directiveInject(ot.$))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-mailbox-sent-tab"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(E.NW,7),t.\u0275\u0275viewQuery(V.YE,7)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.paginator=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.sort=i.first)}},inputs:{candidateId:"candidateId"},features:[t.\u0275\u0275NgOnChangesFeature],decls:47,vars:19,consts:[[1,"view-mailbox-template"],[1,"view-mailbox-by-side"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","asc","matSortDisableClear","",1,"mat-elevation-z8","mailTable",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","6","class","header-alignment",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","selectFilter"],["matColumnDef","createdAtFilter"],["matColumnDef","timeTableFilter"],["matColumnDef","fromFilter"],["matColumnDef","toFilter"],["matColumnDef","subjectFilter"],["matColumnDef","created_at"],["style","padding-left: 24px","mat-header-cell","","mat-sort-header","latest_email",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","timeTable"],["style","padding-left: 24px","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","from"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","to"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","subject"],["mat-header-cell","","mat-sort-header","status","style","padding-right: 0.5rem !important",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","padding-right: 0.5rem !important",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","6","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","hidePageSize","pageSizeOptions","page"],["class","view-message-section",4,"ngIf"],["mat-header-cell","","colspan","6",1,"header-alignment"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex","100","fxFlex.lt-md","100",1,"mail-controls"],[4,"ngIf"],["mat-button","","mat-button-sm","","class","right-float yellow-admtc","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","","matTooltipPosition","above",1,"right-float","resetBtn",3,"matTooltip","disabled","click"],["svgIcon","loop"],["fxLayoutWrap","wrap","mat-button","","mat-button-sm","","class","right-float","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-button","","mat-button-sm","","class","right-float","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float","yellow-admtc",3,"matTooltip","disabled","click"],[1,"fa","fa-pencil"],["fxLayoutWrap","wrap","mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float",3,"matTooltip","disabled","click"],["svgIcon","account-supervisor",2,"width","17px","height","17px","margin","-3px"],["mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float",3,"matTooltip","disabled","click"],[1,"fa","fa-bolt"],["svgIcon","email-sync"],[1,"fa","fa-trash"],[1,"fa","fa-hand-paper-o"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"className","checked","aria-label","click","change",4,"ngIf"],[3,"checked","aria-label","click","change",4,"ngIf"],["style","text-align: center; padding-left: 20px",4,"ngIf"],[3,"className","checked","aria-label","click","change"],["checkBox",""],[3,"checked","aria-label","click","change"],[2,"text-align","center","padding-left","20px"],[2,"margin-top","6px"],["matInput","",3,"matDatepicker","formControl","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["class","matFormModif",4,"ngIf"],[1,"matFormModif"],["matInput","",1,"form-field",3,"formControl","placeholder"],["mat-header-cell","","mat-sort-header","latest_email",2,"padding-left","24px",3,"matTooltip"],["mat-cell","",2,"text-align","center",3,"matTooltip","click"],["mat-header-cell","",2,"padding-left","24px",3,"matTooltip"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip"],["mat-cell","",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip"],[3,"matTooltip","click",4,"ngIf"],[3,"matTooltip","click"],[3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-header-cell","","mat-sort-header","status",2,"padding-right","0.5rem !important",3,"matTooltip"],["mat-cell","",2,"padding-right","0.5rem !important",3,"matTooltip","click"],["mat-header-cell","","colspan","6",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"view-message-section"],[1,"compose-mail-action",2,"width","100%"],[2,"float","left"],["class","mail-action-btn","mat-button","","md-button","",3,"title","click",4,"ngIf"],["mat-button","","md-button","",1,"mail-action-btn",3,"title","click"],[2,"float","right"],["class","mail-action-btn","mat-button","","md-button","","style","color: gray",3,"title",4,"ngIf"],["class","mail-action-btn","mat-button","","style","color: gray","md-button","",3,"title",4,"ngIf"],[1,"compose-mail"],[2,"width","100%"],["class","emailsubject e-mailSubject",4,"ngIf"],[2,"float","right","margin-right","18px","font-size","12px"],[1,"sender-mail"],[2,"font-weight","800","font-size","12px"],["class","recipient-mail",4,"ngIf"],[4,"ngFor","ngForOf"],["class","group-rncp",4,"ngIf"],["class","group-usertype",4,"ngIf"],["class","mail-cc",4,"ngIf"],[1,"message_detail"],[1,"message_view","break-word"],[3,"innerHTML"],[1,"fa","fa-reply"],[1,"fa","fa-reply-all"],[1,"fa","fa-mail-forward"],["mat-button","","md-button","",1,"mail-action-btn",2,"color","gray",3,"title"],[1,"fa","fa-caret-left"],[1,"fa","fa-caret-right"],[1,"emailsubject","e-mailSubject"],[4,"ngIf","ngIfElse"],["subjectTranslateds",""],[1,"recipient-mail"],[3,"title",4,"ngIf"],[3,"title"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[1,"fileInfo"],["mat-button","","type","button"],[1,"fa","fa-file-archive-o"],["mat-button","","type","button",3,"click"],[1,"fa","fa-download"],[1,"group-rncp"],[1,"message_view"],[1,"group-usertype"],[1,"mail-cc"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"table",2),t.\u0275\u0275listener("matSortChange",function(l){return a.sortData(l)}),t.\u0275\u0275elementContainerStart(3,3),t.\u0275\u0275template(4,BS,4,1,"th",4),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(5,5),t.\u0275\u0275template(6,AS,2,3,"th",6),t.\u0275\u0275template(7,zS,6,5,"td",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,8),t.\u0275\u0275template(9,$S,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,9),t.\u0275\u0275template(11,HS,7,6,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,10),t.\u0275\u0275template(13,jS,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,11),t.\u0275\u0275template(15,YS,2,1,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,12),t.\u0275\u0275template(17,qS,2,1,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,13),t.\u0275\u0275template(19,KS,4,4,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,14),t.\u0275\u0275template(21,QS,5,6,"th",15),t.\u0275\u0275template(22,XS,4,8,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(23,17),t.\u0275\u0275template(24,ZS,5,6,"th",18),t.\u0275\u0275template(25,JS,4,8,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(26,19),t.\u0275\u0275template(27,tO,5,6,"th",20),t.\u0275\u0275template(28,eO,6,14,"td",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(29,22),t.\u0275\u0275template(30,nO,5,6,"th",23),t.\u0275\u0275template(31,cO,4,3,"td",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(32,24),t.\u0275\u0275template(33,dO,5,6,"th",25),t.\u0275\u0275template(34,pO,2,2,"td",26),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(35,27),t.\u0275\u0275template(36,mO,3,0,"th",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(37,_O,1,0,"tr",29),t.\u0275\u0275template(38,uO,1,0,"tr",29),t.\u0275\u0275template(39,gO,1,0,"tr",29),t.\u0275\u0275template(40,hO,1,1,"tr",30),t.\u0275\u0275template(41,fO,1,1,"tr",31),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(42,bO,3,3,"div",32),t.\u0275\u0275elementStart(43,"div",33)(44,"mat-paginator",34),t.\u0275\u0275listener("page",function(l){return a.changePage(l)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(45,"div",1),t.\u0275\u0275template(46,l3,41,31,"div",35),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",a.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(12,r3)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(13,s3)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=a.dataSource&&null!=a.dataSource.data&&a.dataSource.data.length||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(14,c3,a.paginator.length<1||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,d3,a.paginator.length<=10))("hidePageSize",!0)("pageSizeOptions",t.\u0275\u0275pureFunction0(18,p3)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.viewMessageData?null:a.viewMessageData._id))},dependencies:[f.mk,f.sg,f.O5,I.lW,st.oG,P.Mq,P.hl,P.nW,k.Hw,S.KE,S.R9,z.Nt,E.NW,D.Ou,V.YE,V.nU,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,G.gM,m.DefaultValueAccessor,m.NgControlStatus,m.FormControlDirective,at.xw,at.yH,H.oO,f.gd,f.rS,f.uU,M.X$],styles:["#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.form-field[_ngcontent-%COMP%]{margin-top:6px}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%]{width:8%}.mat-column-createdAtFilter[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]{width:6rem}.mat-column-createdAtFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-timeTableFilter[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]{width:6rem}.mat-column-timeTableFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-fromFilter[_ngcontent-%COMP%], .mat-column-from[_ngcontent-%COMP%]{width:20%;padding-left:.5rem!important}.mat-column-toFilter[_ngcontent-%COMP%], .mat-column-to[_ngcontent-%COMP%]{width:25%;padding-left:.5rem!important}.mat-column-subjectFilter[_ngcontent-%COMP%], .mat-column-subject[_ngcontent-%COMP%]{width:auto;padding-left:.5rem!important}[_nghost-%COMP%]     .job-desc-table{width:100%!important}[_nghost-%COMP%]     table.mailTable tr td, [_nghost-%COMP%]     table.mailTable tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table.mailTable tr td:nth-child(1), [_nghost-%COMP%]     table.mailTable tr th:nth-child(1){padding-left:0!important;text-align:center!important}[_nghost-%COMP%]     table.mailTable tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table.mailTable tr th{vertical-align:top}[_nghost-%COMP%]     table.mailTable tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table.mailTable tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2), [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2) th, [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.bg-color[_ngcontent-%COMP%]{background-color:#fff}.right-float[_ngcontent-%COMP%]{float:right;margin-left:5px;background-color:gray}.btnReset[_ngcontent-%COMP%]{margin-left:5px;height:45px;background-color:#607d8b}.fontSize[_ngcontent-%COMP%]{font-size:1.25rem}.header-alignment[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:.5rem!important}.icon-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:50%}.mail-type-list-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:5px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{padding:0}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{border-left:8px solid;transition-property:background;transition-duration:.3s;transition-timing-function:linear;cursor:pointer}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-inbox[_ngcontent-%COMP%]{border-left-color:#009846}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-sent[_ngcontent-%COMP%]{border-left-color:#846573}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-important[_ngcontent-%COMP%]{border-left-color:#e51a4b}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-draft[_ngcontent-%COMP%]{border-left-color:#ffed00}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-trash[_ngcontent-%COMP%]{border-left-color:#d9dada}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:15px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%], .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:focus, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:active{background-color:#212121}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:8px;width:35px;height:35px;min-width:initial;background-color:gray;color:#fff;line-height:14px;margin-right:2px;border-radius:2px}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0}.mail-controls[_ngcontent-%COMP%]   .reply-btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}[_nghost-%COMP%]     svg{padding-right:4px;padding-bottom:5px!important}[_nghost-%COMP%]     .mat-icon[svgicon=email-sync] svg{padding-right:0!important;padding-bottom:0!important}.resetBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#607d8b!important}[_nghost-%COMP%]     .resetBtn svg{padding-bottom:3px!important}[_nghost-%COMP%]     .matFormModif .mat-form-field-wrapper{margin-right:14px}.view-message-section[_ngcontent-%COMP%]{background:white;width:100%;color:#000;padding:20px}.view-mailbox-template[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;flex:1 1 100%;box-sizing:border-box;-webkit-box-flex:1;max-width:100%}.view-mailbox-by-side[_ngcontent-%COMP%]{flex:1 1 50%;box-sizing:border-box;-webkit-box-flex:1;max-width:50%}button.mail-action-btn.mat-button[_ngcontent-%COMP%]{min-width:initial;padding:5px;font-size:15px;line-height:20px;margin-right:.33333rem}.compose-mail-action[_ngcontent-%COMP%]{display:inline-block}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;border-bottom:1px solid #ababab}.unreadNotify[_ngcontent-%COMP%]{color:#fff;margin-left:10px;background-color:red;padding:3px 8px;border-radius:50%}[_nghost-%COMP%]  .unread:checked{border-color:#fff!important}[_nghost-%COMP%]  .unread .mat-checkbox-inner-container{background-color:red!important;border-radius:4px}[_nghost-%COMP%]  .mat-checkbox-checked .mat-checkbox-inner-container{background-color:#ffca28!important}[_nghost-%COMP%]  .mat-checkbox-checked .mat-checkbox-frame{border-color:#ffca28!important}.message_detail[_ngcontent-%COMP%]{margin-top:5px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-rncp[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-usertype[_ngcontent-%COMP%]{margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.mail-cc[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.message_view[_ngcontent-%COMP%]{flex:1 1 .000000001px;box-sizing:border-box;-webkit-box-flex:1}tr.mat-row[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.yellow-admtc[_ngcontent-%COMP%]{background-color:#ffd740!important;color:#000!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.break-word[_ngcontent-%COMP%]{width:100%;overflow-wrap:break-word}.top-space[_ngcontent-%COMP%]{margin-top:30px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}  .blue-link-format{cursor:pointer!important;color:#06f!important;text-decoration:underline!important}  .size-school-logo{max-width:170px!important;max-height:150px!important}"]}),n})();function _3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",46),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Compose")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function u3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",47),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendMailToGroup())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",48),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Mail to Group")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function g3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendUrgentMessage())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",50),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Urgent message")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function h3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.getImportantMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",51),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Get new emails")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function f3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.onDeleteMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",52),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function b3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.mailMoveTo("important"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",53),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Important")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function C3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.mailMoveTo("inbox"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",53),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.REMOVE IMPORTANT")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function x3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,_3,3,4,"button",40),t.\u0275\u0275elementStart(2,"button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.resetFilter())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275element(4,"mat-icon",42),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,u3,3,4,"button",43),t.\u0275\u0275template(8,g3,3,4,"button",44),t.\u0275\u0275template(9,h3,3,4,"button",44),t.\u0275\u0275template(10,f3,3,4,"button",44),t.\u0275\u0275template(11,b3,3,4,"button",44),t.\u0275\u0275template(12,C3,3,4,"button",44),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.composeActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(3,10,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(6,12,"RESET")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.permissionService.sendGroupMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.urgentMessageActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.downloadMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&"inbox"===e.selectedMailCategory&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&"important"===e.selectedMailCategory)}}function y3(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",36)(1,"div",37)(2,"div",38),t.\u0275\u0275template(3,x3,13,14,"ng-container",39),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","cc"!==e.selectedMailCategory)}}function v3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-checkbox",55),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?l.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&e.isAllSelected())("aria-label",e.checkboxLabel())}}function T3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"inbox"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function M3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"cc"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function S3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"important"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function O3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",62,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function P3(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",63),t.\u0275\u0275element(1,"i",50),t.\u0275\u0275elementEnd())}function w3(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",56),t.\u0275\u0275template(1,T3,2,3,"mat-checkbox",57),t.\u0275\u0275template(2,M3,2,3,"mat-checkbox",57),t.\u0275\u0275template(3,S3,2,3,"mat-checkbox",57),t.\u0275\u0275template(4,O3,2,2,"mat-checkbox",58),t.\u0275\u0275template(5,P3,2,0,"span",59),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"===a.selectedMailCategory||"draft"===a.selectedMailCategory||"sent"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1==e.is_urgent_mail)}}function D3(n,o){1&n&&t.\u0275\u0275element(0,"th",54)}function E3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-form-field",64)(2,"input",65),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",66)(5,"mat-datepicker",null,67),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"Select a date")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.dateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function I3(n,o){1&n&&t.\u0275\u0275element(0,"th",54)}function k3(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",69)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.fromFilter)}}function F3(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54),t.\u0275\u0275template(1,k3,4,4,"div",68),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!=e.selectedMailCategory)}}function B3(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",69)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.toFilter)}}function A3(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54),t.\u0275\u0275template(1,B3,4,4,"div",68),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"!=e.selectedMailCategory)}}function N3(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.subjectFilter)}}function R3(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",71),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.date")))}function V3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?null==e?null:e.date:null==e?null:e.created_at,"dd/MM/yyyy")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?null==e?null:e.date:null==e?null:e.created_at,"dd/MM/yyyy")," ")}}function L3(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",73),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.time")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.time")))}function U3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",a.translateTime(t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?e.date:e.created_at,"H:mm"))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",a.translateTime(t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?e.date:e.created_at,"H:mm"))," ")}}function z3(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",74),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.from")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.from")))}function $3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",75),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)," ")}}function H3(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.to")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.to")))}function j3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)," ")}}function W3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate4("matTooltip","",t.\u0275\u0275pipeBind1(1,8,"Mail_All")," ",t.\u0275\u0275pipeBind1(2,10,"USER_TYPES."+(null==e||null==e.group_detail||null==e.group_detail.user_types[0]?null:e.group_detail.user_types[0].name))," ",t.\u0275\u0275pipeBind1(3,12,"Mail_of")," ",null==e||null==e.group_detail||null==e.group_detail.rncp_titles[0]?null:e.group_detail.rncp_titles[0].short_name,""),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(5,14,"Mail_All")," ",t.\u0275\u0275pipeBind1(6,16,"USER_TYPES."+(null==e||null==e.group_detail||null==e.group_detail.user_types[0]?null:e.group_detail.user_types[0].name))," ",t.\u0275\u0275pipeBind1(7,18,"Mail_of")," ",null==e||null==e.group_detail||null==e.group_detail.rncp_titles[0]?null:e.group_detail.rncp_titles[0].short_name," ")}}function Y3(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,W3,8,20,"span",77),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.group_detail?null:e.group_detail.user_types)&&(null==e||null==e.group_detail?null:e.group_detail.user_types.length)&&(null==e||null==e.group_detail?null:e.group_detail.rncp_titles)&&(null==e||null==e.group_detail?null:e.group_detail.rncp_titles.length))}}function G3(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function q3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,G3,2,0,"span",39),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function K3(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,q3,3,3,"span",79),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e||null==e.recipient_properties[0]?null:e.recipient_properties[0].recipients_email)}}function Q3(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",56),t.\u0275\u0275template(1,j3,6,14,"span",77),t.\u0275\u0275template(2,Y3,2,1,"span",39),t.\u0275\u0275template(3,K3,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.user_type_selection)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients_email?null:e.recipient_properties[0].recipients_email.length)}}function X3(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",80),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.composeMail.subject")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.composeMail.subject")))}function Z3(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",81),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.subject),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.subject," ")}}function J3(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",82)(1,"div",83),t.\u0275\u0275element(2,"mat-spinner",84),t.\u0275\u0275elementEnd()())}function tP(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function eP(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function nP(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function aP(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",86),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function iP(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",87),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function oP(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",88),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No Mail Data")," "))}function lP(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"reply-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",111),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply"))}function rP(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"reply-all"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",112),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply_all"))}function sP(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"foward-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",113),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.forward"))}function cP(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",50),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"MailBox.URGENT_MESSAGE")," "))}function dP(n,o){1&n&&(t.\u0275\u0275elementStart(0,"button",114),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function pP(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onPreviousMessage(i.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function mP(n,o){1&n&&(t.\u0275\u0275elementStart(0,"button",114),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function _P(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onNextMessage(i.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function uP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e.viewMessageData?null:e.viewMessageData.subject)}}function gP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,e.subjectTranslated)," ",e.resWordMessage,"")}}function hP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",117),t.\u0275\u0275template(1,uP,2,1,"b",118),t.\u0275\u0275template(2,gP,3,4,"ng-template",null,119,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.translatedSubject)("ngIfElse",e)}}function fP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,3,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.last_name)," ",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.first_name," ",null!=e.viewMessageData&&null!=e.viewMessageData.sender_property&&null!=e.viewMessageData.sender_property.sender&&e.viewMessageData.sender_property.sender.civility&&"neutral"===(null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(3,5,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)," ")}}function bP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span")(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(3,4,"Mail_All")," ",t.\u0275\u0275pipeBind1(4,6,"USER_TYPES."+e.typeName)," ",t.\u0275\u0275pipeBind1(5,8,"Mail_of")," ",e.titleName," ")}}function CP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function xP(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function yP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,CP,4,8,"span",121),t.\u0275\u0275template(2,xP,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.recpList.length-1)}}function vP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,yP,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function TP(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function MP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",124),t.\u0275\u0275text(1),t.\u0275\u0275template(2,TP,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function SP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,MP,3,3,"span",123),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]?null:e.viewMessageData.recipient_properties[0].recipients_email)}}function OP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,vP,2,1,"span",104),t.\u0275\u0275template(2,SP,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.recpList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]||null==e.viewMessageData.recipient_properties[0].recipients_email?null:e.viewMessageData.recipient_properties[0].recipients_email.length)}}function PP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,bP,6,10,"span",39),t.\u0275\u0275template(5,OP,3,2,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.to")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.viewMessageData&&e.viewMessageData.user_type_selection))}}function wP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function DP(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function EP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,wP,4,8,"span",121),t.\u0275\u0275template(2,DP,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.ccList.length-1)}}function IP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,EP,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function kP(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function FP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",124),t.\u0275\u0275text(1),t.\u0275\u0275template(2,kP,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function BP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,FP,3,3,"span",123),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]?null:e.viewMessageData.recipient_properties[1].recipients_email)}}function AP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,IP,2,1,"span",104),t.\u0275\u0275template(5,BP,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.composeMail.cc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.ccList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]||null==e.viewMessageData.recipient_properties[1].recipients_email?null:e.viewMessageData.recipient_properties[1].recipients_email.length)}}function NP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function RP(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function VP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,NP,4,8,"span",121),t.\u0275\u0275template(2,RP,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.bccList.length-1)}}function LP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,VP,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function UP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,LP,2,1,"span",104),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"MailBox.composeMail.bcc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.bccList)}}function zP(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",125)(5,"button",126),t.\u0275\u0275element(6,"i",127),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"label"),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"button",128),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.downloadFile(l))}),t.\u0275\u0275element(10,"i",129),t.\u0275\u0275elementEnd()()()}if(2&n){const e=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"Attachment")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(null==e?null:e.file_name)}}function $P(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.short_name,"",0===a?"":","," ")}}function HP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",130)(1,"div",131)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,$P,2,2,"span",104),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"RNCP Titles")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.rncp_titles)}}function jP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.name,"",0===a?"":","," ")}}function WP(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",132)(1,"div",131)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,jP,2,2,"span",104),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"UserType")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.user_types)}}function YP(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",133),t.\u0275\u0275element(1,"div",131),t.\u0275\u0275elementEnd())}function GP(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",89)(1,"div",90)(2,"div",91),t.\u0275\u0275template(3,lP,3,3,"button",92),t.\u0275\u0275template(4,rP,3,3,"button",92),t.\u0275\u0275template(5,sP,3,3,"button",92),t.\u0275\u0275elementStart(6,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.openDialog(i.viewMessageData))}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275element(8,"i",52),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,cP,4,3,"span",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",94),t.\u0275\u0275template(11,dP,3,3,"button",95),t.\u0275\u0275template(12,pP,3,3,"button",92),t.\u0275\u0275template(13,mP,3,3,"button",96),t.\u0275\u0275template(14,_P,3,3,"button",92),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",97)(16,"div",98),t.\u0275\u0275template(17,hP,4,2,"div",99),t.\u0275\u0275element(18,"hr"),t.\u0275\u0275elementStart(19,"span",100),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"titlecase"),t.\u0275\u0275pipe(22,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",101)(24,"label",102),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,fP,4,7,"span",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(28,PP,6,5,"div",103),t.\u0275\u0275template(29,AP,6,5,"div",103),t.\u0275\u0275template(30,UP,5,4,"div",103),t.\u0275\u0275template(31,zP,11,4,"div",104),t.\u0275\u0275template(32,HP,6,4,"div",105),t.\u0275\u0275template(33,WP,6,4,"div",106),t.\u0275\u0275template(34,YP,2,0,"div",107),t.\u0275\u0275element(35,"hr"),t.\u0275\u0275elementStart(36,"div",108)(37,"div",109),t.\u0275\u0275element(38,"p",110)(39,"br")(40,"br"),t.\u0275\u0275elementEnd()()()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(7,22,"MailBox.emailDetails.delete")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",1==e.viewMessageData.is_urgent_mail),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.checkIsNextBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsNextBtnShow()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.subject),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",null!=e.viewMessageData&&e.viewMessageData.created_at?t.\u0275\u0275pipeBind1(21,24,e.momentlang(null==e.viewMessageData?null:e.viewMessageData.created_at)):""," ",null!=e.viewMessageData&&e.viewMessageData.created_at?e.translateTime(t.\u0275\u0275pipeBind2(22,26,null==e.viewMessageData?null:e.viewMessageData.created_at,"H:mm")):""," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(26,29,"MailBox.from")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.sender_property?null:e.viewMessageData.sender_property.sender),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.recpList?null:e.recpList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.bccList?null:e.bccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData?null:e.viewMessageData.file_attachments),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.rncp_titles?null:e.viewMessageData.group_detail.rncp_titles.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.user_types?null:e.viewMessageData.group_detail.user_types.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("innerHTML",e.getMessage(null==e.viewMessageData?null:e.viewMessageData.message),t.\u0275\u0275sanitizeHtml)}}const qP=function(){return["reset"]},KP=function(){return["loading"]},QP=function(n){return{hide:n}},XP=function(n){return{"hide-pagination-buttons":n}},ZP=function(){return[10]};let JP=(()=>{class n{constructor(e,a,i,l,r,s,d,p){this.mailboxService=e,this.userService=a,this.translate=i,this.dialog=l,this.permissions=r,this.certificationRuleService=s,this.rncpTitlesService=d,this.permissionService=p,this.inbox=!1,this.cc=!1,this.important=!0,this.draft=!1,this.trash=!1,this.sent=!1,this.IsReplyBtn=!1,this.IsReplyAllBtn=!1,this.IsForwardBtn=!1,this.IsDeleteBtn=!1,this.IsImportantBtn=!1,this.IsMovetoInboxBtn=!1,this.hideResetButton=!1,this.alreadyRead=!1,this.isSearching=!1,this.viewBcc=!1,this.selectedMails=[],this.mailSelected=[],this.checked=[],this.selection=new Tt.Ov(!0,[]),this.dataSource=new b.by([]),this.configCertificatioRule={disableClose:!0},this.config={disableClose:!0,width:"800px"},this.urgentMessageConfig={disableClose:!0,width:"600px"},this.displayedColumns=["select","created_at","timeTable","from","to","subject"],this.filterColumns=["selectFilter","createdAtFilter","timeTableFilter","fromFilter","toFilter","subjectFilter"],this.subs=new w.Y,this.dateFilter=new m.UntypedFormControl(""),this.subjectFilter=new m.UntypedFormControl(""),this.fromFilter=new m.UntypedFormControl(""),this.toFilter=new m.UntypedFormControl(""),this.filteredValues={date:"",from:"",to:"",subject:""},this.dataLoaded=!1,this.isWaitingForResponse=!1,this.selectedMailCategory="important",this.mailsList=[],this.mailList=[],this.getCountOfCC=[],this.recpList=[],this.ccList=[],this.bccList=[],this.inboxCount=0,this.ccCount=0,this.importantCount=0,this.isWaitRecipientGroup=!1,this.isReset=!1,this.isOPERATORDir=!1,this.isOPERATORAdmin=!1}ngOnInit(){this.currentUser=this.userService.getLocalStorageUser(),this.isOPERATORAdmin=!!this.permissions.getPermission("operator_admin"),this.isOPERATORDir=!!this.permissions.getPermission("operator_dir"),this.countSelected=!1,this.sortValue={latest_email:"asc"},this.getImportantMail(),this.initImportantMail()}ngOnChanges(){this.getImportantMail()}getImportantMail(){const a=this.selectedMailCategory,i={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex},l=this.cleanFilterData();this.candidateId&&(this.isWaitingForResponse=!0,this.subs.sink=this.mailboxService.getMainMail(i,this.sortValue,a,!0,l,"",this.candidateId).subscribe(r=>{this.isReset=!1,this.isWaitingForResponse=!1,r&&r.length?(r.forEach((s,d)=>{s.recipient_properties.forEach(p=>{p.recipients.forEach(u=>{u.email===this.currentUser.email&&(s.is_already_read=!0===p.is_read)})})}),this.dataSource.data=r,this.dataSource.sort=this.sort,this.mailList=r,this.importantCount=r[0]?r[0].count_not_read:0,this.paginator.length=r[0]?r[0].count_document:0):(this.dataSource.data=[],this.paginator.length=0),this.noData=this.dataSource.connect().pipe((0,W.U)(s=>0===s.length))},r=>{this.dataSource.data=[],this.paginator.length=0,this.noData=this.dataSource.connect().pipe((0,W.U)(s=>0===s.length)),r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}sendMailToGroup(){this.mailToGroupDialogComponent=this.dialog.open(Pt.C,this.config)}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){const e=this.selection.selected.length,a=this.dataSource.data?this.dataSource.data.length:null,i=this.selection.selected;return this.mailSelected=[],i.forEach(l=>{this.mailSelected.push(l._id)}),e===a}initImportantMail(){this.subs.sink=this.dateFilter.valueChanges.subscribe(e=>{y(e).format("MM/DD/YYYY"),this.filteredValues.date=e,this.paginator.pageIndex=0,this.isReset||this.getImportantMail()}),this.subs.sink=this.fromFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.fromFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.fromFilter.setValue(""),this.filteredValues.from="",this.paginator.pageIndex=0,this.isReset||this.getImportantMail()):(this.filteredValues.from=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getImportantMail())}}),this.subs.sink=this.toFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.toFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.toFilter.setValue(""),this.filteredValues.to="",this.paginator.pageIndex=0,this.isReset||this.getImportantMail()):(this.filteredValues.to=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getImportantMail())}}),this.subs.sink=this.subjectFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.subjectFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.subjectFilter.setValue(""),this.filteredValues.subject="",this.paginator.pageIndex=0,this.isReset||this.getImportantMail()):(this.filteredValues.subject=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getImportantMail())}}),this.mailCategories=this.mailboxService.getMailCategories()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,$.O)(null),(0,et.b)(()=>{this.isReset||this.getImportantMail(),this.dataLoaded=!0})).subscribe()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getImportantMail())}cleanFilterData(){const e=h.cloneDeep(this.filteredValues);let a="";return Object.keys(e).forEach(i=>{e[i]&&(a+=` ${i}:"${e[i]}"`)}),a}resetFilter(){this.isReset=!0,this.filteredValues={date:"",from:"",to:"",subject:""},this.sort.direction="",this.sort.active="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=this.sortValue={latest_email:"asc"},this.dataSource.data=[],this.paginator.pageIndex=0,this.dateFilter.setValue(""),this.subjectFilter.setValue(""),this.fromFilter.setValue(""),this.toFilter.setValue(""),this.getImportantMail()}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe(),this.dataSource.data=[]}changePage(e){this.isReset||this.getImportantMail()}onSelectMessage(e,a){if(this.viewMessageData=e,e.user_type_selection&&!e.is_group_parent?(this.getRecipientName(e),this.isWaitRecipientGroup=!0):this.isWaitRecipientGroup=!1,this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[],this.getCountOfCC=e.recipient_properties,e.is_group_parent){const i=this.getRecipientFullName(e.recipient_properties);this.recpList.push(i)}else this.getCountOfCC&&this.getCountOfCC.length&&this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients.forEach(r=>{})),this.viewBcc&&"c"===i.rank&&this.bccList.push(i),i.recipients.forEach(r=>{"c"===i.rank&&r.email===this.currentUser.email&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))});this.viewMessageData.$$index=a}onPreviousMessage(e){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index-1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients.forEach(r=>{})),this.viewBcc&&"c"===i.rank&&this.bccList.push(i),i.recipients.forEach(r=>{"c"===i.rank&&r.email===this.currentUser.email&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}onNextMessage(e){if(this.viewMessageData&&this.viewMessageData.$$index+1<this.mailList.length){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index+1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients.forEach(r=>{})),this.viewBcc&&"c"===i.rank&&this.bccList.push(i),i.recipients.forEach(r=>{"c"===i.rank&&r.email===this.currentUser.email&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}}checkIsPreviousBtnShow(){return 0!==this.viewMessageData.$$index}checkIsNextBtnShow(){return this.viewMessageData.$$index!==this.mailList.length-1}OpenMailPopupRequest(e,a){this.config.data={},this.sendMailDialogComponent=this.dialog.open(lt.U,this.config),this.sendMailDialogComponent.componentInstance.tags=[a],this.sendMailDialogComponent.componentInstance.currentMailData=e,"sent"===this.selectedMailCategory&&(this.sendMailDialogComponent.componentInstance.isSenderReq=!1),this.sendMailDialogComponent.afterClosed().subscribe(i=>{this.isReset||this.getImportantMail(),this.sendMailDialogComponent=null})}getFileName(e){return e?e.substring(e.lastIndexOf("/")+1):""}downloadFile(e){console.log(e);const a=document.createElement("a");a.target="_blank",a.href=e.path,a.download=e.file_name,a.click(),a.remove()}onDeleteMail(){const e={mail_type:"trash"};let l=3;c().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!1,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:l}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const r=c().getConfirmButton(),s=setInterval(()=>{l-=1,r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+l+" sec"},1e3);this.timeOutVal=setTimeout(()=>{r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(s),clearTimeout(this.timeOutVal)},1e3*l)}}).then(r=>{clearTimeout(this.timeOutVal),r.value&&(this.viewMessageData=[],this.mailboxService.updateMultipleMailRecipient(this.mailSelected,e).subscribe(s=>{c().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getImportantMail()}))})}openDialog(e){let a=3;const r={mail_type:"trash"};c().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!1,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:a}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const s=c().getConfirmButton();setInterval(()=>{a-=1,s.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+a+" sec"},1e3),this.timeOutVal=setTimeout(()=>{s.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(this.timeOutVal),clearTimeout(this.timeOutVal)},1e3*a)}}).then(s=>{if(clearTimeout(this.timeOutVal),s.value){this.viewMessageData=[];const d=[];d.push(e._id),this.mailboxService.updateMultipleMailRecipient(d,r).subscribe(p=>{c().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getImportantMail()})}})}sendMail(){this.sendMailDialogComponent=this.dialog.open(lt.U,this.config),this.sendMailDialogComponent.afterClosed().subscribe(e=>{this.isReset||this.getImportantMail(),this.sendMailDialogComponent=null})}receiveEmail(){this.isReset||this.getImportantMail()}mailMoveTo(e){const a={mail_type:e};this.viewMessageData=[],this.mailboxService.updateMultipleMailRecipient(this.mailSelected,a,this.candidateId).subscribe(i=>{this.isReset||this.getImportantMail()})}showOptions(){this.countSelected=this.selection.selected.length>0}sendUrgentMessage(){this.urgentMessageDialogComponent=this.dialog.open(Ft.x,this.urgentMessageConfig)}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(e=>{e&&e.length&&(this.subs.sink=this.dialog.open(dt.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:e}).afterClosed().subscribe(a=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(i=>{i&&i.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(dt.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:i}))},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))},e=>{e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCertificationRule(){const e=this.userService.getLocalStorageUser(),a=e.entities[0].assigned_rncp_title._id,i=e.entities[0].class._id,l=e._id;this.subs.sink=this.rncpTitlesService.getRncpTitleById(a).subscribe(r=>{this.selectedRncpTitleName=r.short_name,this.selectedRncpTitleLongName=r.long_name},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.subs.sink=this.certificationRuleService.getCertificationRuleSentWithStudent(a,i,l).subscribe(r=>{r||this.getUrgentMail()},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showCertificationRule(e,a){}getMessage(e){return e?((e=e.replaceAll("<table>",'<table class="notif-table full-width" border="1">'))&&e.includes("<a")&&e&&!e.includes("target")&&(e=e.replaceAll("<a",'<a target="blank" class="blue-link-format"')),e):""}getRecipientFullName(e){let i;return e?(i=e.filter(l=>l.recipients[0].email===this.currentUser.email),i&&i.length?i[0]:""):""}getRecipientName(e){e.group_detail.rncp_titles&&e.group_detail.rncp_titles.length&&(this.subs.sink=this.mailboxService.getOneTitle(e.group_detail.rncp_titles[0]._id).subscribe(a=>{a&&(this.titleName=a.short_name)},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),e.group_detail.user_types&&e.group_detail.user_types.length&&(this.subs.sink=this.mailboxService.getOneUserTypes(e.group_detail.user_types[0]._id).subscribe(a=>{a&&(this.typeName=a.name)},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.isWaitRecipientGroup=!1}momentlang(e){const a=y(e).format("DD/MM/YYYY");if("object"==typeof a){const i=new Date(a.year,a.month,a.date,a.hour,a.minute);return this.datePipe=new f.uU(this.translate.currentLang),this.datePipe.transform(i,"EEE d MMM, y")}{let i=a;if("number"==typeof i&&(i=i.toString()),8===i.length){const s=parseInt(i.substring(0,4)),d=parseInt(i.substring(4,6)),p=parseInt(i.substring(6,8));i=new Date(s,d,p)}this.datePipe=new f.uU(this.translate.currentLang);const l=y(i,"DD/MM/YYYY");return this.datePipe.transform(l,"EEEE d MMMM y")}}translateTime(e){return y(e,"HH:mm").format("H:mm")}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(Bt.e),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(bt.YI),t.\u0275\u0275directiveInject(At._),t.\u0275\u0275directiveInject(vt.r),t.\u0275\u0275directiveInject(ot.$))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-mailbox-important-tab"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(E.NW,7),t.\u0275\u0275viewQuery(V.YE,7)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.paginator=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.sort=i.first)}},inputs:{candidateId:"candidateId"},features:[t.\u0275\u0275NgOnChangesFeature],decls:47,vars:19,consts:[[1,"view-mailbox-template"],[1,"view-mailbox-by-side"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","asc","matSortDisableClear","",1,"mat-elevation-z8","mailTable",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","6","class","header-alignment",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","selectFilter"],["matColumnDef","createdAtFilter"],["matColumnDef","timeTableFilter"],["matColumnDef","fromFilter"],["matColumnDef","toFilter"],["matColumnDef","subjectFilter"],["matColumnDef","created_at"],["style","padding-left: 24px","mat-header-cell","","mat-sort-header","latest_email",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","timeTable"],["style","padding-left: 24px","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","from"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","to"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","subject"],["mat-header-cell","","mat-sort-header","status","style","padding-right: 0.5rem !important",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","padding-right: 0.5rem !important",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","6","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","hidePageSize","pageSizeOptions","page"],["class","view-message-section",4,"ngIf"],["mat-header-cell","","colspan","6",1,"header-alignment"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex","100","fxFlex.lt-md","100",1,"mail-controls"],[4,"ngIf"],["mat-button","","mat-button-sm","","class","right-float yellow-admtc","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","","matTooltipPosition","above",1,"right-float","resetBtn",3,"matTooltip","disabled","click"],["svgIcon","loop"],["fxLayoutWrap","wrap","mat-button","","mat-button-sm","","class","right-float","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-button","","mat-button-sm","","class","right-float","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float","yellow-admtc",3,"matTooltip","disabled","click"],[1,"fa","fa-pencil"],["fxLayoutWrap","wrap","mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float",3,"matTooltip","disabled","click"],["svgIcon","account-supervisor",2,"width","17px","height","17px","margin","-3px"],["mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float",3,"matTooltip","disabled","click"],[1,"fa","fa-bolt"],["svgIcon","email-sync"],[1,"fa","fa-trash"],[1,"fa","fa-hand-paper-o"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"className","checked","aria-label","click","change",4,"ngIf"],[3,"checked","aria-label","click","change",4,"ngIf"],["style","text-align: center; padding-left: 20px",4,"ngIf"],[3,"className","checked","aria-label","click","change"],["checkBox",""],[3,"checked","aria-label","click","change"],[2,"text-align","center","padding-left","20px"],[2,"margin-top","6px"],["matInput","",3,"matDatepicker","formControl","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["class","matFormModif",4,"ngIf"],[1,"matFormModif"],["matInput","",1,"form-field",3,"formControl","placeholder"],["mat-header-cell","","mat-sort-header","latest_email",2,"padding-left","24px",3,"matTooltip"],["mat-cell","",2,"text-align","center",3,"matTooltip","click"],["mat-header-cell","",2,"padding-left","24px",3,"matTooltip"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip"],["mat-cell","",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip"],[3,"matTooltip","click",4,"ngIf"],[3,"matTooltip","click"],[3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-header-cell","","mat-sort-header","status",2,"padding-right","0.5rem !important",3,"matTooltip"],["mat-cell","",2,"padding-right","0.5rem !important",3,"matTooltip","click"],["mat-header-cell","","colspan","6",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"view-message-section"],[1,"compose-mail-action",2,"width","100%"],[2,"float","left"],["class","mail-action-btn","mat-button","","md-button","",3,"title","click",4,"ngIf"],["mat-button","","md-button","",1,"mail-action-btn",3,"title","click"],[2,"float","right"],["class","mail-action-btn","mat-button","","md-button","","style","color: gray",3,"title",4,"ngIf"],["class","mail-action-btn","mat-button","","style","color: gray","md-button","",3,"title",4,"ngIf"],[1,"compose-mail"],[2,"width","100%"],["class","emailsubject e-mailSubject",4,"ngIf"],[2,"float","right","margin-right","18px","font-size","12px"],[1,"sender-mail"],[2,"font-weight","800","font-size","12px"],["class","recipient-mail",4,"ngIf"],[4,"ngFor","ngForOf"],["class","group-rncp",4,"ngIf"],["class","group-usertype",4,"ngIf"],["class","mail-cc",4,"ngIf"],[1,"message_detail"],[1,"message_view","break-word"],[3,"innerHTML"],[1,"fa","fa-reply"],[1,"fa","fa-reply-all"],[1,"fa","fa-mail-forward"],["mat-button","","md-button","",1,"mail-action-btn",2,"color","gray",3,"title"],[1,"fa","fa-caret-left"],[1,"fa","fa-caret-right"],[1,"emailsubject","e-mailSubject"],[4,"ngIf","ngIfElse"],["subjectTranslateds",""],[1,"recipient-mail"],[3,"title",4,"ngIf"],[3,"title"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[1,"fileInfo"],["mat-button","","type","button"],[1,"fa","fa-file-archive-o"],["mat-button","","type","button",3,"click"],[1,"fa","fa-download"],[1,"group-rncp"],[1,"message_view"],[1,"group-usertype"],[1,"mail-cc"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"table",2),t.\u0275\u0275listener("matSortChange",function(l){return a.sortData(l)}),t.\u0275\u0275elementContainerStart(3,3),t.\u0275\u0275template(4,y3,4,1,"th",4),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(5,5),t.\u0275\u0275template(6,v3,2,3,"th",6),t.\u0275\u0275template(7,w3,6,5,"td",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,8),t.\u0275\u0275template(9,D3,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,9),t.\u0275\u0275template(11,E3,7,6,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,10),t.\u0275\u0275template(13,I3,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,11),t.\u0275\u0275template(15,F3,2,1,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,12),t.\u0275\u0275template(17,A3,2,1,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,13),t.\u0275\u0275template(19,N3,4,4,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,14),t.\u0275\u0275template(21,R3,5,6,"th",15),t.\u0275\u0275template(22,V3,4,8,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(23,17),t.\u0275\u0275template(24,L3,5,6,"th",18),t.\u0275\u0275template(25,U3,4,8,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(26,19),t.\u0275\u0275template(27,z3,5,6,"th",20),t.\u0275\u0275template(28,$3,6,14,"td",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(29,22),t.\u0275\u0275template(30,H3,5,6,"th",23),t.\u0275\u0275template(31,Q3,4,3,"td",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(32,24),t.\u0275\u0275template(33,X3,5,6,"th",25),t.\u0275\u0275template(34,Z3,2,2,"td",26),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(35,27),t.\u0275\u0275template(36,J3,3,0,"th",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(37,tP,1,0,"tr",29),t.\u0275\u0275template(38,eP,1,0,"tr",29),t.\u0275\u0275template(39,nP,1,0,"tr",29),t.\u0275\u0275template(40,aP,1,1,"tr",30),t.\u0275\u0275template(41,iP,1,1,"tr",31),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(42,oP,3,3,"div",32),t.\u0275\u0275elementStart(43,"div",33)(44,"mat-paginator",34),t.\u0275\u0275listener("page",function(l){return a.changePage(l)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(45,"div",1),t.\u0275\u0275template(46,GP,41,31,"div",35),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",a.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(12,qP)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(13,KP)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=a.dataSource&&null!=a.dataSource.data&&a.dataSource.data.length||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(14,QP,a.paginator.length<1||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,XP,a.paginator.length<=10))("hidePageSize",!0)("pageSizeOptions",t.\u0275\u0275pureFunction0(18,ZP)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.viewMessageData?null:a.viewMessageData._id))},dependencies:[f.mk,f.sg,f.O5,I.lW,st.oG,P.Mq,P.hl,P.nW,k.Hw,S.KE,S.R9,z.Nt,E.NW,D.Ou,V.YE,V.nU,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,G.gM,m.DefaultValueAccessor,m.NgControlStatus,m.FormControlDirective,at.xw,at.yH,H.oO,f.gd,f.rS,f.uU,M.X$],styles:["#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.form-field[_ngcontent-%COMP%]{margin-top:6px}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%]{width:8%}.mat-column-createdAtFilter[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]{width:6rem}.mat-column-createdAtFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-fromFilter[_ngcontent-%COMP%], .mat-column-from[_ngcontent-%COMP%]{width:20%;padding-left:.5rem!important}.mat-column-timeTableFilter[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]{width:6rem}.mat-column-timeTableFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-toFilter[_ngcontent-%COMP%], .mat-column-to[_ngcontent-%COMP%]{width:25%;padding-left:.5rem!important}.mat-column-subjectFilter[_ngcontent-%COMP%], .mat-column-subject[_ngcontent-%COMP%]{width:auto;padding-left:.5rem!important}[_nghost-%COMP%]     .job-desc-table{width:100%!important}[_nghost-%COMP%]     table.mailTable tr td, [_nghost-%COMP%]     table.mailTable tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table.mailTable tr td:nth-child(1), [_nghost-%COMP%]     table.mailTable tr th:nth-child(1){padding-left:0!important;text-align:center!important}[_nghost-%COMP%]     table.mailTable tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table.mailTable tr th{vertical-align:top}[_nghost-%COMP%]     table.mailTable tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table.mailTable tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2), [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2) th, [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.bg-color[_ngcontent-%COMP%]{background-color:#fff}.right-float[_ngcontent-%COMP%]{float:right;margin-left:5px;background-color:gray}.btnReset[_ngcontent-%COMP%]{margin-left:5px;height:45px;background-color:#607d8b}.fontSize[_ngcontent-%COMP%]{font-size:1.25rem}.header-alignment[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:.5rem!important}.icon-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:50%}.mail-type-list-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:5px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{padding:0}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{border-left:8px solid;transition-property:background;transition-duration:.3s;transition-timing-function:linear;cursor:pointer}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-inbox[_ngcontent-%COMP%]{border-left-color:#009846}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-sent[_ngcontent-%COMP%]{border-left-color:#846573}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-important[_ngcontent-%COMP%]{border-left-color:#e51a4b}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-draft[_ngcontent-%COMP%]{border-left-color:#ffed00}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-trash[_ngcontent-%COMP%]{border-left-color:#d9dada}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:15px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%], .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:focus, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:active{background-color:#212121}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:8px;width:35px;height:35px;min-width:initial;background-color:gray;color:#fff;line-height:14px;margin-right:2px;border-radius:2px}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0}.mail-controls[_ngcontent-%COMP%]   .reply-btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}[_nghost-%COMP%]     svg{padding-right:4px;padding-bottom:5px!important}[_nghost-%COMP%]     .mat-icon[svgicon=email-sync] svg{padding-right:0!important;padding-bottom:0!important}.resetBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#607d8b!important}[_nghost-%COMP%]     .resetBtn svg{padding-bottom:3px!important}[_nghost-%COMP%]     .matFormModif .mat-form-field-wrapper{margin-right:14px}.view-message-section[_ngcontent-%COMP%]{background:white;width:100%;color:#000;padding:20px}.view-mailbox-template[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;flex:1 1 100%;box-sizing:border-box;-webkit-box-flex:1;max-width:100%}.view-mailbox-by-side[_ngcontent-%COMP%]{flex:1 1 50%;box-sizing:border-box;-webkit-box-flex:1;max-width:50%}button.mail-action-btn.mat-button[_ngcontent-%COMP%]{min-width:initial;padding:5px;font-size:15px;line-height:20px;margin-right:.33333rem}.compose-mail-action[_ngcontent-%COMP%]{display:inline-block}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;border-bottom:1px solid #ababab}.unreadNotify[_ngcontent-%COMP%]{color:#fff;margin-left:10px;background-color:red;padding:3px 8px;border-radius:50%}[_nghost-%COMP%]  .unread:checked{border-color:#fff!important}[_nghost-%COMP%]  .unread .mat-checkbox-inner-container{background-color:red!important;border-radius:4px}[_nghost-%COMP%]  .mat-checkbox-checked .mat-checkbox-inner-container{background-color:#ffca28!important}[_nghost-%COMP%]  .mat-checkbox-checked .mat-checkbox-frame{border-color:#ffca28!important}.message_detail[_ngcontent-%COMP%]{margin-top:5px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-rncp[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-usertype[_ngcontent-%COMP%]{margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.mail-cc[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.message_view[_ngcontent-%COMP%]{flex:1 1 .000000001px;box-sizing:border-box;-webkit-box-flex:1}tr.mat-row[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.yellow-admtc[_ngcontent-%COMP%]{background-color:#ffd740!important;color:#000!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.break-word[_ngcontent-%COMP%]{width:100%;overflow-wrap:break-word}.top-space[_ngcontent-%COMP%]{margin-top:30px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}  .blue-link-format{cursor:pointer!important;color:#06f!important;text-decoration:underline!important}  .size-school-logo{max-width:170px!important;max-height:150px!important}"]}),n})();function t4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",46),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Compose")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function e4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",47),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendMailToGroup())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",48),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Mail to Group")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function n4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendUrgentMessage())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",50),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Urgent message")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function a4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.getDraftMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",51),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Get new emails")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function i4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.onDeleteMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",52),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function o4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.mailMoveTo("important"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",53),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Important")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function l4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.mailMoveTo("inbox"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",53),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.REMOVE IMPORTANT")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function r4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,t4,3,4,"button",40),t.\u0275\u0275elementStart(2,"button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.resetFilter())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275element(4,"mat-icon",42),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,e4,3,4,"button",43),t.\u0275\u0275template(8,n4,3,4,"button",44),t.\u0275\u0275template(9,a4,3,4,"button",44),t.\u0275\u0275template(10,i4,3,4,"button",44),t.\u0275\u0275template(11,o4,3,4,"button",44),t.\u0275\u0275template(12,l4,3,4,"button",44),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.composeActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(3,10,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(6,12,"RESET")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.permissionService.sendGroupMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.urgentMessageActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.downloadMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&"inbox"===e.selectedMailCategory&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&"important"===e.selectedMailCategory)}}function s4(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",36)(1,"div",37)(2,"div",38),t.\u0275\u0275template(3,r4,13,14,"ng-container",39),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","cc"!==e.selectedMailCategory)}}function c4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-checkbox",55),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?l.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&e.isAllSelected())("aria-label",e.checkboxLabel())}}function d4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"inbox"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function p4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"cc"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function m4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"important"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function _4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",62,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function u4(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",63),t.\u0275\u0275element(1,"i",50),t.\u0275\u0275elementEnd())}function g4(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",56),t.\u0275\u0275template(1,d4,2,3,"mat-checkbox",57),t.\u0275\u0275template(2,p4,2,3,"mat-checkbox",57),t.\u0275\u0275template(3,m4,2,3,"mat-checkbox",57),t.\u0275\u0275template(4,_4,2,2,"mat-checkbox",58),t.\u0275\u0275template(5,u4,2,0,"span",59),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"===a.selectedMailCategory||"draft"===a.selectedMailCategory||"sent"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1==e.is_urgent_mail)}}function h4(n,o){1&n&&t.\u0275\u0275element(0,"th",54)}function f4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-form-field",64)(2,"input",65),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",66)(5,"mat-datepicker",null,67),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"Select a date")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.dateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function b4(n,o){1&n&&t.\u0275\u0275element(0,"th",54)}function C4(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",69)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.fromFilter)}}function x4(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54),t.\u0275\u0275template(1,C4,4,4,"div",68),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!=e.selectedMailCategory)}}function y4(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",69)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.toFilter)}}function v4(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54),t.\u0275\u0275template(1,y4,4,4,"div",68),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"!=e.selectedMailCategory)}}function T4(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.subjectFilter)}}function M4(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",71),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.date")))}function S4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?null==e?null:e.date:null==e?null:e.created_at,"dd/MM/yyyy")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?null==e?null:e.date:null==e?null:e.created_at,"dd/MM/yyyy")," ")}}function O4(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",73),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.time")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.time")))}function P4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",a.translateTime(t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?e.date:e.created_at,"H:mm"))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",a.translateTime(t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?e.date:e.created_at,"H:mm"))," ")}}function w4(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",74),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.from")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.from")))}function D4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",75),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)," ")}}function E4(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.to")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.to")))}function I4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)," ")}}function k4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate4("matTooltip","",t.\u0275\u0275pipeBind1(1,8,"Mail_All")," ",t.\u0275\u0275pipeBind1(2,10,"USER_TYPES."+(null==e||null==e.group_detail||null==e.group_detail.user_types[0]?null:e.group_detail.user_types[0].name))," ",t.\u0275\u0275pipeBind1(3,12,"Mail_of")," ",null==e||null==e.group_detail||null==e.group_detail.rncp_titles[0]?null:e.group_detail.rncp_titles[0].short_name,""),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(5,14,"Mail_All")," ",t.\u0275\u0275pipeBind1(6,16,"USER_TYPES."+(null==e||null==e.group_detail||null==e.group_detail.user_types[0]?null:e.group_detail.user_types[0].name))," ",t.\u0275\u0275pipeBind1(7,18,"Mail_of")," ",null==e||null==e.group_detail||null==e.group_detail.rncp_titles[0]?null:e.group_detail.rncp_titles[0].short_name," ")}}function F4(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,k4,8,20,"span",77),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.group_detail?null:e.group_detail.user_types)&&(null==e||null==e.group_detail?null:e.group_detail.user_types.length)&&(null==e||null==e.group_detail?null:e.group_detail.rncp_titles)&&(null==e||null==e.group_detail?null:e.group_detail.rncp_titles.length))}}function B4(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function A4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,B4,2,0,"span",39),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function N4(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,A4,3,3,"span",79),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e||null==e.recipient_properties[0]?null:e.recipient_properties[0].recipients_email)}}function R4(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",56),t.\u0275\u0275template(1,I4,6,14,"span",77),t.\u0275\u0275template(2,F4,2,1,"span",39),t.\u0275\u0275template(3,N4,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.user_type_selection)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients_email?null:e.recipient_properties[0].recipients_email.length)}}function V4(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",80),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.composeMail.subject")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.composeMail.subject")))}function L4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",81),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.subject),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.subject," ")}}function U4(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",82)(1,"div",83),t.\u0275\u0275element(2,"mat-spinner",84),t.\u0275\u0275elementEnd()())}function z4(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function $4(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function H4(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function j4(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",86),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function W4(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",87),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function Y4(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",88),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No Mail Data")," "))}function G4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"reply-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",111),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply"))}function q4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"reply-all"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",112),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply_all"))}function K4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"foward-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",113),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.forward"))}function Q4(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",50),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"MailBox.URGENT_MESSAGE")," "))}function X4(n,o){1&n&&(t.\u0275\u0275elementStart(0,"button",114),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function Z4(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onPreviousMessage(i.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function J4(n,o){1&n&&(t.\u0275\u0275elementStart(0,"button",114),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function tw(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onNextMessage(i.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function ew(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e.viewMessageData?null:e.viewMessageData.subject)}}function nw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,e.subjectTranslated)," ",e.resWordMessage,"")}}function aw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",117),t.\u0275\u0275template(1,ew,2,1,"b",118),t.\u0275\u0275template(2,nw,3,4,"ng-template",null,119,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.translatedSubject)("ngIfElse",e)}}function iw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,3,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.last_name)," ",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.first_name," ",null!=e.viewMessageData&&null!=e.viewMessageData.sender_property&&null!=e.viewMessageData.sender_property.sender&&e.viewMessageData.sender_property.sender.civility&&"neutral"===(null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(3,5,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)," ")}}function ow(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span")(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(3,4,"Mail_All")," ",t.\u0275\u0275pipeBind1(4,6,"USER_TYPES."+e.typeName)," ",t.\u0275\u0275pipeBind1(5,8,"Mail_of")," ",e.titleName," ")}}function lw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function rw(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function sw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,lw,4,8,"span",121),t.\u0275\u0275template(2,rw,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.recpList.length-1)}}function cw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,sw,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function dw(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function pw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",124),t.\u0275\u0275text(1),t.\u0275\u0275template(2,dw,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function mw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,pw,3,3,"span",123),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]?null:e.viewMessageData.recipient_properties[0].recipients_email)}}function _w(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,cw,2,1,"span",104),t.\u0275\u0275template(2,mw,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.recpList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]||null==e.viewMessageData.recipient_properties[0].recipients_email?null:e.viewMessageData.recipient_properties[0].recipients_email.length)}}function uw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,ow,6,10,"span",39),t.\u0275\u0275template(5,_w,3,2,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.to")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.viewMessageData&&e.viewMessageData.user_type_selection))}}function gw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function hw(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function fw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,gw,4,8,"span",121),t.\u0275\u0275template(2,hw,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.ccList.length-1)}}function bw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,fw,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function Cw(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function xw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",124),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Cw,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function yw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,xw,3,3,"span",123),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]?null:e.viewMessageData.recipient_properties[1].recipients_email)}}function vw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,bw,2,1,"span",104),t.\u0275\u0275template(5,yw,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.composeMail.cc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.ccList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]||null==e.viewMessageData.recipient_properties[1].recipients_email?null:e.viewMessageData.recipient_properties[1].recipients_email.length)}}function Tw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function Mw(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function Sw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,Tw,4,8,"span",121),t.\u0275\u0275template(2,Mw,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.bccList.length-1)}}function Ow(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Sw,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function Pw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Ow,2,1,"span",104),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"MailBox.composeMail.bcc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.bccList)}}function ww(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",125)(5,"button",126),t.\u0275\u0275element(6,"i",127),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"label"),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"button",128),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.downloadFile(l))}),t.\u0275\u0275element(10,"i",129),t.\u0275\u0275elementEnd()()()}if(2&n){const e=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"Attachment")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(null==e?null:e.file_name)}}function Dw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.short_name,"",0===a?"":","," ")}}function Ew(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",130)(1,"div",131)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,Dw,2,2,"span",104),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"RNCP Titles")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.rncp_titles)}}function Iw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.name,"",0===a?"":","," ")}}function kw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",132)(1,"div",131)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,Iw,2,2,"span",104),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"UserType")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.user_types)}}function Fw(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",133),t.\u0275\u0275element(1,"div",131),t.\u0275\u0275elementEnd())}function Bw(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",89)(1,"div",90)(2,"div",91),t.\u0275\u0275template(3,G4,3,3,"button",92),t.\u0275\u0275template(4,q4,3,3,"button",92),t.\u0275\u0275template(5,K4,3,3,"button",92),t.\u0275\u0275elementStart(6,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.openDialog(i.viewMessageData))}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275element(8,"i",52),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,Q4,4,3,"span",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",94),t.\u0275\u0275template(11,X4,3,3,"button",95),t.\u0275\u0275template(12,Z4,3,3,"button",92),t.\u0275\u0275template(13,J4,3,3,"button",96),t.\u0275\u0275template(14,tw,3,3,"button",92),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",97)(16,"div",98),t.\u0275\u0275template(17,aw,4,2,"div",99),t.\u0275\u0275element(18,"hr"),t.\u0275\u0275elementStart(19,"span",100),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"titlecase"),t.\u0275\u0275pipe(22,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",101)(24,"label",102),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,iw,4,7,"span",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(28,uw,6,5,"div",103),t.\u0275\u0275template(29,vw,6,5,"div",103),t.\u0275\u0275template(30,Pw,5,4,"div",103),t.\u0275\u0275template(31,ww,11,4,"div",104),t.\u0275\u0275template(32,Ew,6,4,"div",105),t.\u0275\u0275template(33,kw,6,4,"div",106),t.\u0275\u0275template(34,Fw,2,0,"div",107),t.\u0275\u0275element(35,"hr"),t.\u0275\u0275elementStart(36,"div",108)(37,"div",109),t.\u0275\u0275element(38,"p",110)(39,"br")(40,"br"),t.\u0275\u0275elementEnd()()()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(7,22,"MailBox.emailDetails.delete")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",1==e.viewMessageData.is_urgent_mail),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.checkIsNextBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsNextBtnShow()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.subject),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",null!=e.viewMessageData&&e.viewMessageData.created_at?t.\u0275\u0275pipeBind1(21,24,e.momentlang(null==e.viewMessageData?null:e.viewMessageData.created_at)):""," ",null!=e.viewMessageData&&e.viewMessageData.created_at?e.translateTime(t.\u0275\u0275pipeBind2(22,26,null==e.viewMessageData?null:e.viewMessageData.created_at,"H:mm")):""," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(26,29,"MailBox.from")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.sender_property?null:e.viewMessageData.sender_property.sender),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.recpList?null:e.recpList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.bccList?null:e.bccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData?null:e.viewMessageData.file_attachments),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.rncp_titles?null:e.viewMessageData.group_detail.rncp_titles.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.user_types?null:e.viewMessageData.group_detail.user_types.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("innerHTML",e.getMessage(null==e.viewMessageData?null:e.viewMessageData.message),t.\u0275\u0275sanitizeHtml)}}const Aw=function(){return["reset"]},Nw=function(){return["loading"]},Rw=function(n){return{hide:n}},Vw=function(n){return{"hide-pagination-buttons":n}},Lw=function(){return[10]};let Uw=(()=>{class n{constructor(e,a,i,l,r,s,d,p){this.mailboxService=e,this.userService=a,this.translate=i,this.dialog=l,this.permissions=r,this.rncpTitlesService=s,this.certificationRuleService=d,this.permissionService=p,this.inbox=!1,this.cc=!1,this.important=!1,this.draft=!0,this.trash=!1,this.sent=!1,this.IsReplyBtn=!1,this.IsReplyAllBtn=!1,this.IsForwardBtn=!1,this.IsDeleteBtn=!1,this.IsImportantBtn=!1,this.IsMovetoInboxBtn=!1,this.hideResetButton=!1,this.isSearching=!1,this.selectedMails=[],this.selection=new Tt.Ov(!0,[]),this.dataSource=new b.by([]),this.configCertificatioRule={disableClose:!0},this.config={disableClose:!0,width:"800px"},this.urgentMessageConfig={disableClose:!0,width:"600px"},this.displayedColumns=["select","created_at","timeTable","from","to","subject"],this.filterColumns=["selectFilter","createdAtFilter","timeTableFilter","fromFilter","toFilter","subjectFilter"],this.subs=new w.Y,this.dateFilter=new m.UntypedFormControl(""),this.subjectFilter=new m.UntypedFormControl(""),this.fromFilter=new m.UntypedFormControl(""),this.toFilter=new m.UntypedFormControl(""),this.filteredValues={date:"",from:"",to:"",subject:""},this.dataLoaded=!1,this.isWaitingForResponse=!1,this.selectedMailCategory="draft",this.inboxCount=0,this.ccCount=0,this.importantCount=0,this.mailsList=[],this.mailList=[],this.getCountOfCC=[],this.recpList=[],this.ccList=[],this.mailSelected=[],this.checked=[],this.isReset=!1,this.viewBcc=!1,this.bccList=[],this.isOPERATORDir=!1,this.isOPERATORAdmin=!1,this.isWaitRecipientGroup=!1}ngOnInit(){this.currentUser=this.userService.getLocalStorageUser(),this.isOPERATORAdmin=!!this.permissions.getPermission("operator_admin"),this.isOPERATORDir=!!this.permissions.getPermission("operator_dir"),this.countSelected=!1,this.sortValue={latest_email:"asc"},this.getDraftMail(),this.initDraftMail()}ngOnChanges(){this.getDraftMail()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,$.O)(null),(0,et.b)(()=>{this.isReset||this.getDraftMail(),this.dataLoaded=!0})).subscribe()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getDraftMail())}cleanFilterData(){const e=h.cloneDeep(this.filteredValues);let a="";return Object.keys(e).forEach(i=>{e[i]&&(a+=` ${i}:"${e[i]}"`)}),a}getDraftMail(){const e=this.selectedMailCategory,a={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex},i=this.cleanFilterData();this.candidateId&&(this.isWaitingForResponse=!0,this.subs.sink=this.mailboxService.getNonMainMail(a,this.sortValue,e,i,this.candidateId).subscribe(l=>{this.isReset=!1,this.isWaitingForResponse=!1,l&&l.length?(this.draftData=l,this.dataSource.data=l,this.dataSource.sort=this.sort,this.mailList=l,this.paginator.length=l[0]?l[0].count_document:0):(this.dataSource.data=[],this.paginator.length=0),this.noData=this.dataSource.connect().pipe((0,W.U)(r=>0===r.length))},l=>{this.dataSource.data=[],this.paginator.length=0,this.noData=this.dataSource.connect().pipe((0,W.U)(r=>0===r.length)),l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}sendMailToGroup(){this.mailToGroupDialogComponent=this.dialog.open(Pt.C,this.config)}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){const e=this.selection.selected.length,a=this.dataSource.data?this.dataSource.data.length:null,i=this.selection.selected;return this.mailSelected=[],i.forEach(l=>{this.mailSelected.push(l._id)}),e===a}initDraftMail(){this.subs.sink=this.dateFilter.valueChanges.subscribe(e=>{y(e).format("MM/DD/YYYY"),this.filteredValues.date=e,this.paginator.pageIndex=0,this.isReset||this.getDraftMail()}),this.subs.sink=this.fromFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.fromFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.fromFilter.setValue(""),this.filteredValues.from="",this.paginator.pageIndex=0,this.isReset||this.getDraftMail()):(this.filteredValues.from=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getDraftMail())}}),this.subs.sink=this.toFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.toFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.toFilter.setValue(""),this.filteredValues.to="",this.paginator.pageIndex=0,this.isReset||this.getDraftMail()):(this.filteredValues.to=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getDraftMail())}}),this.subs.sink=this.subjectFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.subjectFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.subjectFilter.setValue(""),this.filteredValues.subject="",this.paginator.pageIndex=0,this.isReset||this.getDraftMail()):(this.filteredValues.subject=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getDraftMail())}}),this.mailCategories=this.mailboxService.getMailCategories()}resetFilter(){this.isReset=!0,this.filteredValues={date:"",from:"",to:"",subject:""},this.sort.direction="",this.sort.active="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=this.sortValue={latest_email:"asc"},this.dataSource.data=[],this.paginator.pageIndex=0,this.dateFilter.setValue(""),this.subjectFilter.setValue(""),this.fromFilter.setValue(""),this.toFilter.setValue(""),this.getDraftMail()}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe(),this.dataSource.data=[]}changePage(e){this.isReset||this.getDraftMail()}onSelectMessage(e,a){this.viewMessageData=e,e.user_type_selection&&!e.is_group_parent?(this.getRecipientName(e),this.isWaitRecipientGroup=!0):this.isWaitRecipientGroup=!1,this.getCountOfCC=e.recipient_properties,this.recpList=[],this.ccList=[],this.draftData.forEach(i=>{i._id===this.viewMessageData._id&&(e.is_group_parent?this.OpenDraftGroupMail(i):this.OpenDraftPopUp(i))}),this.getCountOfCC.forEach((i,l)=>{"a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&this.ccList.push(i),null===i.rank&&(this.viewMessageData.recipient_properties[0].rank="a",this.recpList.push(i))}),this.viewMessageData.$$index=a}OpenDraftPopUp(e){e._id&&(this.config.data={},this.sendMailDialogComponent=this.dialog.open(lt.U,this.config),this.sendMailDialogComponent.componentInstance.isDraftMail=!0,this.sendMailDialogComponent.componentInstance.DraftData=e,this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(a=>{this.isReset||this.getDraftMail(),this.sendMailDialogComponent=null},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}OpenDraftGroupMail(e){e._id&&(this.config.data={},this.mailToGroupDialogComponent=this.dialog.open(Pt.C,this.config),this.mailToGroupDialogComponent.componentInstance.isDraftMail=!0,this.mailToGroupDialogComponent.componentInstance.DraftData=e,this.subs.sink=this.mailToGroupDialogComponent.afterClosed().subscribe(a=>{this.isReset||this.getDraftMail(),this.mailToGroupDialogComponent=null},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}onPreviousMessage(e){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index-1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients.forEach(r=>{"cc"===i.rank&&r.email===this.currentUser.email&&(this.viewBcc=!0)})),this.viewBcc&&"c"===i.rank&&this.bccList.push(i),i.recipients.forEach(r=>{"c"===i.rank&&r.email===this.currentUser.email&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}onNextMessage(e){if(this.viewMessageData&&this.viewMessageData.$$index+1<this.mailList.length){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index+1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients.forEach(r=>{"cc"===i.rank&&r.email===this.currentUser.email&&(this.viewBcc=!0)})),this.viewBcc&&"c"===i.rank&&this.bccList.push(i),i.recipients.forEach(r=>{"c"===i.rank&&r.email===this.currentUser.email&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}}checkIsPreviousBtnShow(){return 0!==this.viewMessageData.$$index}checkIsNextBtnShow(){return this.viewMessageData.$$index!==this.mailList.length-1}OpenMailPopupRequest(e,a){this.config.data={},this.sendMailDialogComponent=this.dialog.open(lt.U,this.config),this.sendMailDialogComponent.componentInstance.tags=[a],this.sendMailDialogComponent.componentInstance.currentMailData=e,"sent"===this.selectedMailCategory&&(this.sendMailDialogComponent.componentInstance.isSenderReq=!1),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(i=>{"updateMailList"===i&&(this.isReset||this.getDraftMail()),this.sendMailDialogComponent=null},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getFileName(e){return e?e.substring(e.lastIndexOf("/")+1):""}downloadFile(e){console.log(e);const a=document.createElement("a");a.target="_blank",a.href=e.path,a.download=e.file_name,a.click(),a.remove()}openDialog(e){let a=3;const r={mail_type:"trash"};c().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:a}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const s=c().getConfirmButton(),d=setInterval(()=>{a-=1,s.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+a+" sec"},1e3);this.timeOutVal=setTimeout(()=>{s.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(d),clearTimeout(this.timeOutVal)},1e3*a)}}).then(s=>{if(clearTimeout(this.timeOutVal),s.value){this.viewMessageData=[];const d=[];d.push(e._id),this.subs.sink=this.mailboxService.updateMultipleMailSender(d,r).subscribe(p=>{c().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getDraftMail()},p=>{p&&p.message&&(p.message.includes("jwt expired")||p.message.includes("str & salt required")||p.message.includes("Authorization header is missing")||p.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}})}sendMail(){this.sendMailDialogComponent=this.dialog.open(lt.U,this.config),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(e=>{this.isReset||this.getDraftMail(),this.sendMailDialogComponent=null},e=>{e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}onDeleteMail(){let e=3;const a={mail_type:"trash"};c().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:e}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const r=c().getConfirmButton(),s=setInterval(()=>{e-=1,r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+e+" sec"},1e3);this.timeOutVal=setTimeout(()=>{r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(s),clearTimeout(this.timeOutVal)},1e3*e)}}).then(r=>{clearTimeout(this.timeOutVal),r.value&&(this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailSender(this.mailSelected,a).subscribe(s=>{c().fire({type:"success",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getDraftMail()},s=>{s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}mailMoveTo(e){const a={mail_type:e};this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailRecipient(this.mailSelected,a).subscribe(i=>{this.isReset||this.getDraftMail()},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showOptions(){this.countSelected=this.selection.selected.length>0}sendUrgentMessage(){this.urgentMessageDialogComponent=this.dialog.open(Ft.x,this.urgentMessageConfig)}receiveEmail(){this.isReset||this.getDraftMail()}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(e=>{e&&e.length&&(this.subs.sink=this.dialog.open(dt.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:e}).afterClosed().subscribe(a=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(i=>{i&&i.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(dt.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:i}))},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))},e=>{e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCertificationRule(){const e=this.userService.getLocalStorageUser(),a=e.entities[0].assigned_rncp_title._id,i=e.entities[0].class._id,l=e._id;this.subs.sink=this.rncpTitlesService.getRncpTitleById(a).subscribe(r=>{this.selectedRncpTitleName=r.short_name,this.selectedRncpTitleLongName=r.long_name},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.subs.sink=this.certificationRuleService.getCertificationRuleSentWithStudent(a,i,l).subscribe(r=>{r||this.getUrgentMail()},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showCertificationRule(e,a){}getMessage(e){return e?((e=e.replaceAll("<table>",'<table class="notif-table full-width" border="1">'))&&e.includes("<a")&&e&&!e.includes("target")&&(e=e.replaceAll("<a",'<a target="blank" class="blue-link-format"')),e):""}getRecipientName(e){e.group_detail.rncp_titles&&e.group_detail.rncp_titles.length&&(this.subs.sink=this.mailboxService.getOneTitle(e.group_detail.rncp_titles[0]._id).subscribe(a=>{a&&(this.titleName=a.short_name)},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),e.group_detail.user_types&&e.group_detail.user_types.length&&(this.subs.sink=this.mailboxService.getOneUserTypes(e.group_detail.user_types[0]._id).subscribe(a=>{a&&(this.typeName=a.name)},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.isWaitRecipientGroup=!1}momentlang(e){const a=y(e).format("DD/MM/YYYY");if("object"==typeof a){const i=new Date(a.year,a.month,a.date,a.hour,a.minute);return this.datePipe=new f.uU(this.translate.currentLang),this.datePipe.transform(i,"EEE d MMM, y")}{let i=a;if("number"==typeof i&&(i=i.toString()),8===i.length){const s=parseInt(i.substring(0,4)),d=parseInt(i.substring(4,6)),p=parseInt(i.substring(6,8));i=new Date(s,d,p)}this.datePipe=new f.uU(this.translate.currentLang);const l=y(i,"DD/MM/YYYY");return this.datePipe.transform(l,"EEEE d MMMM y")}}translateTime(e){return y(e,"HH:mm").format("H:mm")}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(Bt.e),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(bt.YI),t.\u0275\u0275directiveInject(vt.r),t.\u0275\u0275directiveInject(At._),t.\u0275\u0275directiveInject(ot.$))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-mailbox-draft-tab"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(E.NW,7),t.\u0275\u0275viewQuery(V.YE,7)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.paginator=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.sort=i.first)}},inputs:{candidateId:"candidateId"},features:[t.\u0275\u0275NgOnChangesFeature],decls:47,vars:19,consts:[[1,"view-mailbox-template"],[1,"view-mailbox-by-side"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","asc","matSortDisableClear","",1,"mat-elevation-z8","mailTable",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","6","class","header-alignment",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","selectFilter"],["matColumnDef","createdAtFilter"],["matColumnDef","timeTableFilter"],["matColumnDef","fromFilter"],["matColumnDef","toFilter"],["matColumnDef","subjectFilter"],["matColumnDef","created_at"],["style","padding-left: 24px","mat-header-cell","","mat-sort-header","latest_email",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","timeTable"],["style","padding-left: 24px","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","from"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","to"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","subject"],["mat-header-cell","","mat-sort-header","status","style","padding-right: 0.5rem !important",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","padding-right: 0.5rem !important",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","6","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","hidePageSize","pageSizeOptions","page"],["class","view-message-section",4,"ngIf"],["mat-header-cell","","colspan","6",1,"header-alignment"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex","100","fxFlex.lt-md","100",1,"mail-controls"],[4,"ngIf"],["mat-button","","mat-button-sm","","class","right-float yellow-admtc","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","","matTooltipPosition","above",1,"right-float","resetBtn",3,"matTooltip","disabled","click"],["svgIcon","loop"],["fxLayoutWrap","wrap","mat-button","","mat-button-sm","","class","right-float","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-button","","mat-button-sm","","class","right-float","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float","yellow-admtc",3,"matTooltip","disabled","click"],[1,"fa","fa-pencil"],["fxLayoutWrap","wrap","mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float",3,"matTooltip","disabled","click"],["svgIcon","account-supervisor",2,"width","17px","height","17px","margin","-3px"],["mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float",3,"matTooltip","disabled","click"],[1,"fa","fa-bolt"],["svgIcon","email-sync"],[1,"fa","fa-trash"],[1,"fa","fa-hand-paper-o"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"className","checked","aria-label","click","change",4,"ngIf"],[3,"checked","aria-label","click","change",4,"ngIf"],["style","text-align: center; padding-left: 20px",4,"ngIf"],[3,"className","checked","aria-label","click","change"],["checkBox",""],[3,"checked","aria-label","click","change"],[2,"text-align","center","padding-left","20px"],[2,"margin-top","6px"],["matInput","",3,"matDatepicker","formControl","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["class","matFormModif",4,"ngIf"],[1,"matFormModif"],["matInput","",1,"form-field",3,"formControl","placeholder"],["mat-header-cell","","mat-sort-header","latest_email",2,"padding-left","24px",3,"matTooltip"],["mat-cell","",2,"text-align","center",3,"matTooltip","click"],["mat-header-cell","",2,"padding-left","24px",3,"matTooltip"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip"],["mat-cell","",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip"],[3,"matTooltip","click",4,"ngIf"],[3,"matTooltip","click"],[3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-header-cell","","mat-sort-header","status",2,"padding-right","0.5rem !important",3,"matTooltip"],["mat-cell","",2,"padding-right","0.5rem !important",3,"matTooltip","click"],["mat-header-cell","","colspan","6",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"view-message-section"],[1,"compose-mail-action",2,"width","100%"],[2,"float","left"],["class","mail-action-btn","mat-button","","md-button","",3,"title","click",4,"ngIf"],["mat-button","","md-button","",1,"mail-action-btn",3,"title","click"],[2,"float","right"],["class","mail-action-btn","mat-button","","md-button","","style","color: gray",3,"title",4,"ngIf"],["class","mail-action-btn","mat-button","","style","color: gray","md-button","",3,"title",4,"ngIf"],[1,"compose-mail"],[2,"width","100%"],["class","emailsubject e-mailSubject",4,"ngIf"],[2,"float","right","margin-right","18px","font-size","12px"],[1,"sender-mail"],[2,"font-weight","800","font-size","12px"],["class","recipient-mail",4,"ngIf"],[4,"ngFor","ngForOf"],["class","group-rncp",4,"ngIf"],["class","group-usertype",4,"ngIf"],["class","mail-cc",4,"ngIf"],[1,"message_detail"],[1,"message_view","break-word"],[3,"innerHTML"],[1,"fa","fa-reply"],[1,"fa","fa-reply-all"],[1,"fa","fa-mail-forward"],["mat-button","","md-button","",1,"mail-action-btn",2,"color","gray",3,"title"],[1,"fa","fa-caret-left"],[1,"fa","fa-caret-right"],[1,"emailsubject","e-mailSubject"],[4,"ngIf","ngIfElse"],["subjectTranslateds",""],[1,"recipient-mail"],[3,"title",4,"ngIf"],[3,"title"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[1,"fileInfo"],["mat-button","","type","button"],[1,"fa","fa-file-archive-o"],["mat-button","","type","button",3,"click"],[1,"fa","fa-download"],[1,"group-rncp"],[1,"message_view"],[1,"group-usertype"],[1,"mail-cc"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"table",2),t.\u0275\u0275listener("matSortChange",function(l){return a.sortData(l)}),t.\u0275\u0275elementContainerStart(3,3),t.\u0275\u0275template(4,s4,4,1,"th",4),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(5,5),t.\u0275\u0275template(6,c4,2,3,"th",6),t.\u0275\u0275template(7,g4,6,5,"td",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,8),t.\u0275\u0275template(9,h4,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,9),t.\u0275\u0275template(11,f4,7,6,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,10),t.\u0275\u0275template(13,b4,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,11),t.\u0275\u0275template(15,x4,2,1,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,12),t.\u0275\u0275template(17,v4,2,1,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,13),t.\u0275\u0275template(19,T4,4,4,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,14),t.\u0275\u0275template(21,M4,5,6,"th",15),t.\u0275\u0275template(22,S4,4,8,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(23,17),t.\u0275\u0275template(24,O4,5,6,"th",18),t.\u0275\u0275template(25,P4,4,8,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(26,19),t.\u0275\u0275template(27,w4,5,6,"th",20),t.\u0275\u0275template(28,D4,6,14,"td",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(29,22),t.\u0275\u0275template(30,E4,5,6,"th",23),t.\u0275\u0275template(31,R4,4,3,"td",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(32,24),t.\u0275\u0275template(33,V4,5,6,"th",25),t.\u0275\u0275template(34,L4,2,2,"td",26),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(35,27),t.\u0275\u0275template(36,U4,3,0,"th",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(37,z4,1,0,"tr",29),t.\u0275\u0275template(38,$4,1,0,"tr",29),t.\u0275\u0275template(39,H4,1,0,"tr",29),t.\u0275\u0275template(40,j4,1,1,"tr",30),t.\u0275\u0275template(41,W4,1,1,"tr",31),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(42,Y4,3,3,"div",32),t.\u0275\u0275elementStart(43,"div",33)(44,"mat-paginator",34),t.\u0275\u0275listener("page",function(l){return a.changePage(l)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(45,"div",1),t.\u0275\u0275template(46,Bw,41,31,"div",35),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",a.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(12,Aw)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(13,Nw)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=a.dataSource&&null!=a.dataSource.data&&a.dataSource.data.length||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(14,Rw,a.paginator.length<1||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,Vw,a.paginator.length<=10))("hidePageSize",!0)("pageSizeOptions",t.\u0275\u0275pureFunction0(18,Lw)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.viewMessageData?null:a.viewMessageData._id))},dependencies:[f.mk,f.sg,f.O5,I.lW,st.oG,P.Mq,P.hl,P.nW,k.Hw,S.KE,S.R9,z.Nt,E.NW,D.Ou,V.YE,V.nU,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,G.gM,m.DefaultValueAccessor,m.NgControlStatus,m.FormControlDirective,at.xw,at.yH,H.oO,f.gd,f.rS,f.uU,M.X$],styles:["#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.form-field[_ngcontent-%COMP%]{margin-top:6px}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%]{width:8%}.mat-column-createdAtFilter[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]{width:6rem}.mat-column-createdAtFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-timeTableFilter[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]{width:6rem}.mat-column-timeTableFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-fromFilter[_ngcontent-%COMP%], .mat-column-from[_ngcontent-%COMP%]{width:20%;padding-left:.5rem!important}.mat-column-toFilter[_ngcontent-%COMP%], .mat-column-to[_ngcontent-%COMP%]{width:25%;padding-left:.5rem!important}.mat-column-subjectFilter[_ngcontent-%COMP%], .mat-column-subject[_ngcontent-%COMP%]{width:auto;padding-left:.5rem!important}[_nghost-%COMP%]     .job-desc-table{width:100%!important}[_nghost-%COMP%]     table.mailTable tr td, [_nghost-%COMP%]     table.mailTable tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table.mailTable tr td:nth-child(1), [_nghost-%COMP%]     table.mailTable tr th:nth-child(1){padding-left:0!important;text-align:center!important}[_nghost-%COMP%]     table.mailTable tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table.mailTable tr th{vertical-align:top}[_nghost-%COMP%]     table.mailTable tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table.mailTable tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2), [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2) th, [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.bg-color[_ngcontent-%COMP%]{background-color:#fff}.right-float[_ngcontent-%COMP%]{float:right;margin-left:5px;background-color:gray}.btnReset[_ngcontent-%COMP%]{margin-left:5px;height:45px;background-color:#607d8b}.fontSize[_ngcontent-%COMP%]{font-size:1.25rem}.header-alignment[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:.5rem!important}.icon-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:50%}.mail-type-list-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:5px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{padding:0}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{border-left:8px solid;transition-property:background;transition-duration:.3s;transition-timing-function:linear;cursor:pointer}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-inbox[_ngcontent-%COMP%]{border-left-color:#009846}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-sent[_ngcontent-%COMP%]{border-left-color:#846573}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-important[_ngcontent-%COMP%]{border-left-color:#e51a4b}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-draft[_ngcontent-%COMP%]{border-left-color:#ffed00}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-trash[_ngcontent-%COMP%]{border-left-color:#d9dada}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:15px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%], .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:focus, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:active{background-color:#212121}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:8px;width:35px;height:35px;min-width:initial;background-color:gray;color:#fff;line-height:14px;margin-right:2px;border-radius:2px}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0}.mail-controls[_ngcontent-%COMP%]   .reply-btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}[_nghost-%COMP%]     svg{padding-right:4px;padding-bottom:5px!important}[_nghost-%COMP%]     .mat-icon[svgicon=email-sync] svg{padding-right:0!important;padding-bottom:0!important}.resetBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#607d8b!important}[_nghost-%COMP%]     .resetBtn svg{padding-bottom:3px!important}[_nghost-%COMP%]     .matFormModif .mat-form-field-wrapper{margin-right:14px}.view-message-section[_ngcontent-%COMP%]{background:white;width:100%;color:#000;padding:20px}.view-mailbox-template[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;flex:1 1 100%;box-sizing:border-box;-webkit-box-flex:1;max-width:100%}.view-mailbox-by-side[_ngcontent-%COMP%]{flex:1 1 50%;box-sizing:border-box;-webkit-box-flex:1;max-width:50%}button.mail-action-btn.mat-button[_ngcontent-%COMP%]{min-width:initial;padding:5px;font-size:15px;line-height:20px;margin-right:.33333rem}.compose-mail-action[_ngcontent-%COMP%]{display:inline-block}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;border-bottom:1px solid #ababab}.unreadNotify[_ngcontent-%COMP%]{color:#fff;margin-left:10px;background-color:red;padding:3px 8px;border-radius:50%}[_nghost-%COMP%]  .unread:checked{border-color:#fff!important}[_nghost-%COMP%]  .unread .mat-checkbox-inner-container{background-color:red!important;border-radius:4px}[_nghost-%COMP%]  .mat-checkbox-checked .mat-checkbox-inner-container{background-color:#ffca28!important}[_nghost-%COMP%]  .mat-checkbox-checked .mat-checkbox-frame{border-color:#ffca28!important}.message_detail[_ngcontent-%COMP%]{margin-top:5px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-rncp[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-usertype[_ngcontent-%COMP%]{margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.mail-cc[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.message_view[_ngcontent-%COMP%]{flex:1 1 .000000001px;box-sizing:border-box;-webkit-box-flex:1}tr.mat-row[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.yellow-admtc[_ngcontent-%COMP%]{background-color:#ffd740!important;color:#000!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.break-word[_ngcontent-%COMP%]{width:100%;overflow-wrap:break-word}.top-space[_ngcontent-%COMP%]{margin-top:30px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}  .blue-link-format{cursor:pointer!important;color:#06f!important;text-decoration:underline!important}  .size-school-logo{max-width:170px!important;max-height:150px!important}"]}),n})();function zw(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",46),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Compose")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function $w(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",47),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendMailToGroup())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",48),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Mail to Group")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function Hw(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.sendUrgentMessage())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",50),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Urgent message")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function jw(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.getTrashMAilbox())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",51),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Get new emails")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function Ww(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.onDeleteMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",52),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function Yw(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.mailMoveTo("important"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",53),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Important")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function Gw(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.mailMoveTo("inbox"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",53),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.REMOVE IMPORTANT")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)}}function qw(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,zw,3,4,"button",40),t.\u0275\u0275elementStart(2,"button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.resetFilter())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275element(4,"mat-icon",42),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,$w,3,4,"button",43),t.\u0275\u0275template(8,Hw,3,4,"button",44),t.\u0275\u0275template(9,jw,3,4,"button",44),t.\u0275\u0275template(10,Ww,3,4,"button",44),t.\u0275\u0275template(11,Yw,3,4,"button",44),t.\u0275\u0275template(12,Gw,3,4,"button",44),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.composeActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(3,10,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(6,12,"RESET")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.permissionService.sendGroupMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.urgentMessageActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.downloadMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&"inbox"===e.selectedMailCategory&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.countSelected&&"important"===e.selectedMailCategory)}}function Kw(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",36)(1,"div",37)(2,"div",38),t.\u0275\u0275template(3,qw,13,14,"ng-container",39),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","cc"!==e.selectedMailCategory)}}function Qw(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-checkbox",55),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?l.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&e.isAllSelected())("aria-label",e.checkboxLabel())}}function Xw(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"inbox"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function Zw(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"cc"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function Jw(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",60,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("className",null!=e&&e.is_already_read||"important"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function tD(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",62,61),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?r.selection.toggle(l):null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.showOptions())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function eD(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",63),t.\u0275\u0275element(1,"i",50),t.\u0275\u0275elementEnd())}function nD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",56),t.\u0275\u0275template(1,Xw,2,3,"mat-checkbox",57),t.\u0275\u0275template(2,Zw,2,3,"mat-checkbox",57),t.\u0275\u0275template(3,Jw,2,3,"mat-checkbox",57),t.\u0275\u0275template(4,tD,2,2,"mat-checkbox",58),t.\u0275\u0275template(5,eD,2,0,"span",59),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"===a.selectedMailCategory||"draft"===a.selectedMailCategory||"sent"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1==e.is_urgent_mail)}}function aD(n,o){1&n&&t.\u0275\u0275element(0,"th",54)}function iD(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-form-field",64)(2,"input",65),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",66)(5,"mat-datepicker",null,67),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"Select a date")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.dateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function oD(n,o){1&n&&t.\u0275\u0275element(0,"th",54)}function lD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",69)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.fromFilter)}}function rD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54),t.\u0275\u0275template(1,lD,4,4,"div",68),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!=e.selectedMailCategory)}}function sD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",69)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.toFilter)}}function cD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54),t.\u0275\u0275template(1,sD,4,4,"div",68),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"!=e.selectedMailCategory)}}function dD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",54)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",70),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.subjectFilter)}}function pD(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",71),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.date")))}function mD(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?null==e?null:e.date:null==e?null:e.created_at,"dd/MM/yyyy")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?null==e?null:e.date:null==e?null:e.created_at,"dd/MM/yyyy")," ")}}function _D(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",73),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.time")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.time")))}function uD(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",a.translateTime(t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?e.date:e.created_at,"H:mm"))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",a.translateTime(t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?e.date:e.created_at,"H:mm"))," ")}}function gD(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",74),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.from")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.from")))}function hD(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",75),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)," ")}}function fD(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.to")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.to")))}function bD(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)," ")}}function CD(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate4("matTooltip","",t.\u0275\u0275pipeBind1(1,8,"Mail_All")," ",t.\u0275\u0275pipeBind1(2,10,"USER_TYPES."+(null==e||null==e.group_detail||null==e.group_detail.user_types[0]?null:e.group_detail.user_types[0].name))," ",t.\u0275\u0275pipeBind1(3,12,"Mail_of")," ",null==e||null==e.group_detail||null==e.group_detail.rncp_titles[0]?null:e.group_detail.rncp_titles[0].short_name,""),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(5,14,"Mail_All")," ",t.\u0275\u0275pipeBind1(6,16,"USER_TYPES."+(null==e||null==e.group_detail||null==e.group_detail.user_types[0]?null:e.group_detail.user_types[0].name))," ",t.\u0275\u0275pipeBind1(7,18,"Mail_of")," ",null==e||null==e.group_detail||null==e.group_detail.rncp_titles[0]?null:e.group_detail.rncp_titles[0].short_name," ")}}function xD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,CD,8,20,"span",77),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.group_detail?null:e.group_detail.user_types)&&(null==e||null==e.group_detail?null:e.group_detail.user_types.length)&&(null==e||null==e.group_detail?null:e.group_detail.rncp_titles)&&(null==e||null==e.group_detail?null:e.group_detail.rncp_titles.length))}}function yD(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function vD(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,yD,2,0,"span",39),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function TD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,vD,3,3,"span",79),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e||null==e.recipient_properties[0]?null:e.recipient_properties[0].recipients_email)}}function MD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",56),t.\u0275\u0275template(1,bD,6,14,"span",77),t.\u0275\u0275template(2,xD,2,1,"span",39),t.\u0275\u0275template(3,TD,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.user_type_selection)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients_email?null:e.recipient_properties[0].recipients_email.length)}}function SD(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",80),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.composeMail.subject")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.composeMail.subject")))}function OD(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",81),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),l=i.$implicit,r=i.index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectMessage(l,r))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.subject),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.subject," ")}}function PD(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",82)(1,"div",83),t.\u0275\u0275element(2,"mat-spinner",84),t.\u0275\u0275elementEnd()())}function wD(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function DD(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function ED(n,o){1&n&&t.\u0275\u0275element(0,"tr",85)}function ID(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",86),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function kD(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",87),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function FD(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",88),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No Mail Data")," "))}function BD(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"reply-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",111),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply"))}function AD(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"reply-all"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",112),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply_all"))}function ND(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.OpenMailPopupRequest(i.viewMessageData,"foward-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",113),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.forward"))}function RD(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",50),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"MailBox.URGENT_MESSAGE")," "))}function VD(n,o){1&n&&(t.\u0275\u0275elementStart(0,"button",114),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function LD(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onPreviousMessage(i.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function UD(n,o){1&n&&(t.\u0275\u0275elementStart(0,"button",114),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function zD(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onNextMessage(i.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()}2&n&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function $D(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e.viewMessageData?null:e.viewMessageData.subject)}}function HD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,e.subjectTranslated)," ",e.resWordMessage,"")}}function jD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",117),t.\u0275\u0275template(1,$D,2,1,"b",118),t.\u0275\u0275template(2,HD,3,4,"ng-template",null,119,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.translatedSubject)("ngIfElse",e)}}function WD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,3,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.last_name)," ",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.first_name," ",null!=e.viewMessageData&&null!=e.viewMessageData.sender_property&&null!=e.viewMessageData.sender_property.sender&&e.viewMessageData.sender_property.sender.civility&&"neutral"===(null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(3,5,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)," ")}}function YD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span")(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(3,4,"Mail_All")," ",t.\u0275\u0275pipeBind1(4,6,"USER_TYPES."+e.typeName)," ",t.\u0275\u0275pipeBind1(5,8,"Mail_of")," ",e.titleName," ")}}function GD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function qD(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function KD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,GD,4,8,"span",121),t.\u0275\u0275template(2,qD,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.recpList.length-1)}}function QD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,KD,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function XD(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function ZD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",124),t.\u0275\u0275text(1),t.\u0275\u0275template(2,XD,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function JD(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,ZD,3,3,"span",123),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]?null:e.viewMessageData.recipient_properties[0].recipients_email)}}function tE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,QD,2,1,"span",104),t.\u0275\u0275template(2,JD,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.recpList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]||null==e.viewMessageData.recipient_properties[0].recipients_email?null:e.viewMessageData.recipient_properties[0].recipients_email.length)}}function eE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,YD,6,10,"span",39),t.\u0275\u0275template(5,tE,3,2,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.to")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.viewMessageData&&e.viewMessageData.user_type_selection))}}function nE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function aE(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function iE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,nE,4,8,"span",121),t.\u0275\u0275template(2,aE,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.ccList.length-1)}}function oE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,iE,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function lE(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function rE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",124),t.\u0275\u0275text(1),t.\u0275\u0275template(2,lE,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function sE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,rE,3,3,"span",123),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]?null:e.viewMessageData.recipient_properties[1].recipients_email)}}function cE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,oE,2,1,"span",104),t.\u0275\u0275template(5,sE,2,1,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.composeMail.cc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.ccList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]||null==e.viewMessageData.recipient_properties[1].recipients_email?null:e.viewMessageData.recipient_properties[1].recipients_email.length)}}function dE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," ")}}function pE(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function mE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",122),t.\u0275\u0275template(1,dE,4,8,"span",121),t.\u0275\u0275template(2,pE,2,0,"span",39),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),a=e.$implicit,i=e.index,l=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i<l.bccList.length-1)}}function _E(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,mE,3,3,"span",121),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function uE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",120)(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,_E,2,1,"span",104),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"MailBox.composeMail.bcc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.bccList)}}function gE(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"label",102),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",125)(5,"button",126),t.\u0275\u0275element(6,"i",127),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"label"),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"button",128),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.downloadFile(l))}),t.\u0275\u0275element(10,"i",129),t.\u0275\u0275elementEnd()()()}if(2&n){const e=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"Attachment")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(null==e?null:e.file_name)}}function hE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.short_name,"",0===a?"":","," ")}}function fE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",130)(1,"div",131)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,hE,2,2,"span",104),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"RNCP Titles")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.rncp_titles)}}function bE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,a=o.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.name,"",0===a?"":","," ")}}function CE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",132)(1,"div",131)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,bE,2,2,"span",104),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"UserType")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.user_types)}}function xE(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",133),t.\u0275\u0275element(1,"div",131),t.\u0275\u0275elementEnd())}function yE(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",89)(1,"div",90)(2,"div",91),t.\u0275\u0275template(3,BD,3,3,"button",92),t.\u0275\u0275template(4,AD,3,3,"button",92),t.\u0275\u0275template(5,ND,3,3,"button",92),t.\u0275\u0275elementStart(6,"button",93),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.openDialog(i.viewMessageData))}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275element(8,"i",52),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,RD,4,3,"span",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",94),t.\u0275\u0275template(11,VD,3,3,"button",95),t.\u0275\u0275template(12,LD,3,3,"button",92),t.\u0275\u0275template(13,UD,3,3,"button",96),t.\u0275\u0275template(14,zD,3,3,"button",92),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",97)(16,"div",98),t.\u0275\u0275template(17,jD,4,2,"div",99),t.\u0275\u0275element(18,"hr"),t.\u0275\u0275elementStart(19,"span",100),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"titlecase"),t.\u0275\u0275pipe(22,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",101)(24,"label",102),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,WD,4,7,"span",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(28,eE,6,5,"div",103),t.\u0275\u0275template(29,cE,6,5,"div",103),t.\u0275\u0275template(30,uE,5,4,"div",103),t.\u0275\u0275template(31,gE,11,4,"div",104),t.\u0275\u0275template(32,fE,6,4,"div",105),t.\u0275\u0275template(33,CE,6,4,"div",106),t.\u0275\u0275template(34,xE,2,0,"div",107),t.\u0275\u0275element(35,"hr"),t.\u0275\u0275elementStart(36,"div",108)(37,"div",109),t.\u0275\u0275element(38,"p",110)(39,"br")(40,"br"),t.\u0275\u0275elementEnd()()()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(7,22,"MailBox.emailDetails.delete")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",1==e.viewMessageData.is_urgent_mail),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.checkIsNextBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsNextBtnShow()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.subject),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",null!=e.viewMessageData&&e.viewMessageData.created_at?t.\u0275\u0275pipeBind1(21,24,e.momentlang(null==e.viewMessageData?null:e.viewMessageData.created_at)):""," ",null!=e.viewMessageData&&e.viewMessageData.created_at?e.translateTime(t.\u0275\u0275pipeBind2(22,26,null==e.viewMessageData?null:e.viewMessageData.created_at,"H:mm")):""," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(26,29,"MailBox.from")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.sender_property?null:e.viewMessageData.sender_property.sender),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.recpList?null:e.recpList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.bccList?null:e.bccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData?null:e.viewMessageData.file_attachments),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.rncp_titles?null:e.viewMessageData.group_detail.rncp_titles.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.user_types?null:e.viewMessageData.group_detail.user_types.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("innerHTML",e.getMessage(null==e.viewMessageData?null:e.viewMessageData.message),t.\u0275\u0275sanitizeHtml)}}const vE=function(){return["reset"]},TE=function(){return["loading"]},ME=function(n){return{hide:n}},SE=function(n){return{"hide-pagination-buttons":n}},OE=function(){return[10]};let PE=(()=>{class n{constructor(e,a,i,l,r,s,d,p){this.mailboxService=e,this.userService=a,this.translate=i,this.dialog=l,this.permissions=r,this.certificationRuleService=s,this.rncpTitlesService=d,this.permissionService=p,this.subs=new w.Y,this.inbox=!1,this.cc=!1,this.important=!1,this.draft=!1,this.trash=!0,this.sent=!1,this.IsReplyBtn=!1,this.IsReplyAllBtn=!1,this.IsForwardBtn=!1,this.IsDeleteBtn=!1,this.IsImportantBtn=!1,this.IsMovetoInboxBtn=!1,this.hideResetButton=!1,this.isWaitRecipientGroup=!1,this.isSearching=!1,this.selectedMails=[],this.mailSelected=[],this.checked=[],this.selection=new Tt.Ov(!0,[]),this.dataSource=new b.by([]),this.configCertificatioRule={disableClose:!0},this.config={disableClose:!0,width:"800px"},this.urgentMessageConfig={disableClose:!0,width:"600px"},this.displayedColumns=["select","created_at","timeTable","from","to","subject"],this.filterColumns=["selectFilter","createdAtFilter","timeTableFilter","fromFilter","toFilter","subjectFilter"],this.isReset=!1,this.inboxCount=0,this.ccCount=0,this.importantCount=0,this.dateFilter=new m.UntypedFormControl(""),this.subjectFilter=new m.UntypedFormControl(""),this.fromFilter=new m.UntypedFormControl(""),this.toFilter=new m.UntypedFormControl(""),this.filteredValues={date:"",from:"",to:"",subject:""},this.dataLoaded=!1,this.isWaitingForResponse=!1,this.selectedMailCategory="trash",this.mailsList=[],this.mailList=[],this.getCountOfCC=[],this.recpList=[],this.ccList=[],this.viewBcc=!1,this.bccList=[],this.isOPERATORDir=!1,this.isOPERATORAdmin=!1}ngOnInit(){this.currentUser=this.userService.getLocalStorageUser(),this.isOPERATORAdmin=!!this.permissions.getPermission("operator_admin"),this.isOPERATORDir=!!this.permissions.getPermission("operator_dir"),this.countSelected=!1,this.sortValue={latest_email:"asc"},console.log("_test",this.candidateId),this.getTrashMAilbox(),this.initTrashMail()}ngOnChanges(){this.getTrashMAilbox()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,$.O)(null),(0,et.b)(()=>{this.isReset||this.getTrashMAilbox(),this.dataLoaded=!0})).subscribe()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox())}cleanFilterData(){const e=h.cloneDeep(this.filteredValues);let a="";return Object.keys(e).forEach(i=>{e[i]&&(a+=` ${i}:"${e[i]}"`)}),a}getTrashMAilbox(){const e=this.selectedMailCategory,a={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex},i=this.cleanFilterData();this.candidateId&&(this.isWaitingForResponse=!0,this.subs.sink=this.mailboxService.getNonMainMail(a,this.sortValue,e,i,this.candidateId).subscribe(l=>{this.isReset=!1,this.isWaitingForResponse=!1,l&&l.length?(this.dataSource.data=l,this.dataSource.sort=this.sort,this.mailList=l,this.paginator.length=l[0]?l[0].count_document:0):(this.dataSource.data=[],this.paginator.length=0),this.noData=this.dataSource.connect().pipe((0,W.U)(r=>0===r.length))},l=>{this.dataSource.data=[],this.paginator.length=0,this.noData=this.dataSource.connect().pipe((0,W.U)(r=>0===r.length)),l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}sendMailToGroup(){this.mailToGroupDialogComponent=this.dialog.open(Pt.C,this.config)}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){const e=this.selection.selected.length,a=this.dataSource.data?this.dataSource.data.length:null,i=this.selection.selected;return this.mailSelected=[],i.forEach(l=>{this.mailSelected.push(l._id)}),e===a}initTrashMail(){this.subs.sink=this.dateFilter.valueChanges.subscribe(e=>{y(e).format("MM/DD/YYYY"),this.filteredValues.date=e,this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox()}),this.subs.sink=this.fromFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.fromFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.fromFilter.setValue(""),this.filteredValues.from="",this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox()):(this.filteredValues.from=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox())}}),this.subs.sink=this.toFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.toFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.toFilter.setValue(""),this.filteredValues.to="",this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox()):(this.filteredValues.to=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox())}}),this.subs.sink=this.subjectFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{if(""!==this.subjectFilter.value){const i=/\\/;e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(i)?(this.subjectFilter.setValue(""),this.filteredValues.subject="",this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox()):(this.filteredValues.subject=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox())}}),this.mailCategories=this.mailboxService.getMailCategories()}resetFilter(){this.isReset=!0,this.filteredValues={date:"",from:"",to:"",subject:""},this.sort.direction="",this.sort.active="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=this.sortValue={latest_email:"asc"},this.dataSource.data=[],this.paginator.pageIndex=0,this.dateFilter.setValue(""),this.subjectFilter.setValue(""),this.fromFilter.setValue(""),this.toFilter.setValue(""),this.getTrashMAilbox()}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe(),this.dataSource.data=[]}changePage(e){this.isReset||this.getTrashMAilbox()}onSelectMessage(e,a){this.viewMessageData=e,e.user_type_selection?(this.getRecipientName(e),this.isWaitRecipientGroup=!0):this.isWaitRecipientGroup=!1,this.getCountOfCC=e.recipient_properties,this.recpList=[],this.ccList=[],this.getCountOfCC.forEach(i=>{"a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&this.ccList.push(i)}),this.viewMessageData.$$index=a}onPreviousMessage(e){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index-1;console.log("indeeexprevieus   ",a),this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients.forEach(r=>{"cc"===i.rank&&r.email===this.currentUser.email&&(this.viewBcc=!0)})),this.viewBcc&&"c"===i.rank&&(this.bccList.push(i),console.log("Ada BCC :",i)),i.recipients.forEach(r=>{"c"===i.rank&&r.email===this.currentUser.email&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}onNextMessage(e){if(this.viewMessageData&&this.viewMessageData.$$index+1<this.mailList.length){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index+1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((i,l)=>{null!=i.rank?("a"===i.rank&&this.recpList.push(i),"cc"===i.rank&&(this.ccList.push(i),i.recipients.forEach(r=>{"cc"===i.rank&&r.email===this.currentUser.email&&(this.viewBcc=!0)})),this.viewBcc&&"c"===i.rank&&(this.bccList.push(i),console.log("Ada BCC :",i)),i.recipients.forEach(r=>{"c"===i.rank&&r.email===this.currentUser.email&&this.recpList.push(i)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}}checkIsPreviousBtnShow(){return 0!==this.viewMessageData.$$index}checkIsNextBtnShow(){return this.viewMessageData.$$index!==this.mailList.length-1}OpenMailPopupRequest(e,a){this.config.data={},this.sendMailDialogComponent=this.dialog.open(lt.U,this.config),this.sendMailDialogComponent.componentInstance.tags=[a],this.sendMailDialogComponent.componentInstance.currentMailData=e,"sent"===this.selectedMailCategory&&(this.sendMailDialogComponent.componentInstance.isSenderReq=!1),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(i=>{"updateMailList"===i&&(this.isReset||this.getTrashMAilbox()),this.sendMailDialogComponent=null})}getFileName(e){return e?e.substring(e.lastIndexOf("/")+1):""}downloadFile(e){console.log(e);const a=document.createElement("a");a.target="_blank",a.href=e.path,a.download=e.file_name,a.click(),a.remove()}openDialog(e){let a=3;const r=[];r.push(e._id),c().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:a}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const s=c().getConfirmButton(),d=setInterval(()=>{a-=1,s.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+a+" sec"},1e3);this.timeOutVal=setTimeout(()=>{s.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(d),clearTimeout(this.timeOutVal)},1e3*a)}}).then(s=>{clearTimeout(this.timeOutVal),s.value&&(this.subs.sink=this.mailboxService.deleteMail(r).subscribe(d=>{c().fire({type:"success",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.viewMessageData=[],this.isReset||this.getTrashMAilbox()},d=>{d&&d.message&&(d.message.includes("jwt expired")||d.message.includes("str & salt required")||d.message.includes("Authorization header is missing")||d.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}sendMail(){this.sendMailDialogComponent=this.dialog.open(lt.U,this.config),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(e=>{this.isReset||this.getTrashMAilbox(),this.sendMailDialogComponent=null})}onDeleteMail(){let e=3;c().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:e}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const l=c().getConfirmButton(),r=setInterval(()=>{e-=1,l.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+e+" sec"},1e3);this.timeOutVal=setTimeout(()=>{l.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(r),clearTimeout(this.timeOutVal)},1e3*e)}}).then(l=>{clearTimeout(this.timeOutVal),l.value&&(this.viewMessageData=[],this.subs.sink=this.mailboxService.deleteMultipleMail(this.mailSelected).subscribe(r=>{c().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getTrashMAilbox()},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}mailMoveTo(e){let a={};a={sender_property:{mail_type:e},recipient_properties:{mail_type:e}},this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMail(this.mailSelected,a).subscribe(i=>{this.isReset||this.getTrashMAilbox()},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showOptions(){this.countSelected=this.selection.selected.length>0}receiveEmail(){this.isReset||this.getTrashMAilbox()}sendUrgentMessage(){this.urgentMessageDialogComponent=this.dialog.open(Ft.x,this.urgentMessageConfig)}getMessage(e){return e?((e=e.replaceAll("<table>",'<table class="notif-table full-width" border="1">'))&&e.includes("<a")&&e&&!e.includes("target")&&(e=e.replaceAll("<a",'<a target="blank" class="blue-link-format"')),e):""}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(e=>{e&&e.length&&(this.subs.sink=this.dialog.open(dt.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:e}).afterClosed().subscribe(a=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(i=>{i&&i.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(dt.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:i}))},i=>{i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))},e=>{e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCertificationRule(){const e=this.userService.getLocalStorageUser(),a=e.entities[0].assigned_rncp_title._id,i=e.entities[0].class._id,l=e._id;this.subs.sink=this.rncpTitlesService.getRncpTitleById(a).subscribe(r=>{this.selectedRncpTitleName=r.short_name,this.selectedRncpTitleLongName=r.long_name},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.subs.sink=this.certificationRuleService.getCertificationRuleSentWithStudent(a,i,l).subscribe(r=>{r||this.getUrgentMail()},r=>{r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showCertificationRule(e,a){}getRecipientName(e){console.log("This group recipient : ",e),e.group_detail.rncp_titles&&e.group_detail.rncp_titles.length&&(this.subs.sink=this.mailboxService.getOneTitle(e.group_detail.rncp_titles[0]._id).subscribe(a=>{a&&(this.titleName=a.short_name)},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),e.group_detail.user_types&&e.group_detail.user_types.length&&(this.subs.sink=this.mailboxService.getOneUserTypes(e.group_detail.user_types[0]._id).subscribe(a=>{a&&(this.typeName=a.name)},a=>{a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}momentlang(e){const a=y(e).format("DD/MM/YYYY");if("object"==typeof a){const i=new Date(a.year,a.month,a.date,a.hour,a.minute);return this.datePipe=new f.uU(this.translate.currentLang),this.datePipe.transform(i,"EEE d MMM, y")}{let i=a;if("number"==typeof i&&(i=i.toString()),8===i.length){const s=parseInt(i.substring(0,4)),d=parseInt(i.substring(4,6)),p=parseInt(i.substring(6,8));i=new Date(s,d,p)}this.datePipe=new f.uU(this.translate.currentLang);const l=y(i,"DD/MM/YYYY");return this.datePipe.transform(l,"EEEE d MMMM y")}}translateTime(e){return y(e,"HH:mm").format("H:mm")}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(Bt.e),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(bt.YI),t.\u0275\u0275directiveInject(At._),t.\u0275\u0275directiveInject(vt.r),t.\u0275\u0275directiveInject(ot.$))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-mailbox-trash-tab"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(E.NW,7),t.\u0275\u0275viewQuery(V.YE,7)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.paginator=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.sort=i.first)}},inputs:{candidateId:"candidateId"},features:[t.\u0275\u0275NgOnChangesFeature],decls:47,vars:19,consts:[[1,"view-mailbox-template"],[1,"view-mailbox-by-side"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","asc","matSortDisableClear","",1,"mat-elevation-z8","mailTable",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","6","class","header-alignment",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","selectFilter"],["matColumnDef","createdAtFilter"],["matColumnDef","timeTableFilter"],["matColumnDef","fromFilter"],["matColumnDef","toFilter"],["matColumnDef","subjectFilter"],["matColumnDef","created_at"],["style","padding-left: 24px","mat-header-cell","","mat-sort-header","latest_email",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","timeTable"],["style","padding-left: 24px","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","from"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","to"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","subject"],["mat-header-cell","","mat-sort-header","status","style","padding-right: 0.5rem !important",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","padding-right: 0.5rem !important",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","6","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","hidePageSize","pageSizeOptions","page"],["class","view-message-section",4,"ngIf"],["mat-header-cell","","colspan","6",1,"header-alignment"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex","100","fxFlex.lt-md","100",1,"mail-controls"],[4,"ngIf"],["mat-button","","mat-button-sm","","class","right-float yellow-admtc","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","","matTooltipPosition","above",1,"right-float","resetBtn",3,"matTooltip","disabled","click"],["svgIcon","loop"],["fxLayoutWrap","wrap","mat-button","","mat-button-sm","","class","right-float","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-button","","mat-button-sm","","class","right-float","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float","yellow-admtc",3,"matTooltip","disabled","click"],[1,"fa","fa-pencil"],["fxLayoutWrap","wrap","mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float",3,"matTooltip","disabled","click"],["svgIcon","account-supervisor",2,"width","17px","height","17px","margin","-3px"],["mat-button","","mat-button-sm","","matTooltipPosition","above",1,"right-float",3,"matTooltip","disabled","click"],[1,"fa","fa-bolt"],["svgIcon","email-sync"],[1,"fa","fa-trash"],[1,"fa","fa-hand-paper-o"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"className","checked","aria-label","click","change",4,"ngIf"],[3,"checked","aria-label","click","change",4,"ngIf"],["style","text-align: center; padding-left: 20px",4,"ngIf"],[3,"className","checked","aria-label","click","change"],["checkBox",""],[3,"checked","aria-label","click","change"],[2,"text-align","center","padding-left","20px"],[2,"margin-top","6px"],["matInput","",3,"matDatepicker","formControl","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["class","matFormModif",4,"ngIf"],[1,"matFormModif"],["matInput","",1,"form-field",3,"formControl","placeholder"],["mat-header-cell","","mat-sort-header","latest_email",2,"padding-left","24px",3,"matTooltip"],["mat-cell","",2,"text-align","center",3,"matTooltip","click"],["mat-header-cell","",2,"padding-left","24px",3,"matTooltip"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip"],["mat-cell","",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip"],[3,"matTooltip","click",4,"ngIf"],[3,"matTooltip","click"],[3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-header-cell","","mat-sort-header","status",2,"padding-right","0.5rem !important",3,"matTooltip"],["mat-cell","",2,"padding-right","0.5rem !important",3,"matTooltip","click"],["mat-header-cell","","colspan","6",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"view-message-section"],[1,"compose-mail-action",2,"width","100%"],[2,"float","left"],["class","mail-action-btn","mat-button","","md-button","",3,"title","click",4,"ngIf"],["mat-button","","md-button","",1,"mail-action-btn",3,"title","click"],[2,"float","right"],["class","mail-action-btn","mat-button","","md-button","","style","color: gray",3,"title",4,"ngIf"],["class","mail-action-btn","mat-button","","style","color: gray","md-button","",3,"title",4,"ngIf"],[1,"compose-mail"],[2,"width","100%"],["class","emailsubject e-mailSubject",4,"ngIf"],[2,"float","right","margin-right","18px","font-size","12px"],[1,"sender-mail"],[2,"font-weight","800","font-size","12px"],["class","recipient-mail",4,"ngIf"],[4,"ngFor","ngForOf"],["class","group-rncp",4,"ngIf"],["class","group-usertype",4,"ngIf"],["class","mail-cc",4,"ngIf"],[1,"message_detail"],[1,"message_view","break-word"],[3,"innerHTML"],[1,"fa","fa-reply"],[1,"fa","fa-reply-all"],[1,"fa","fa-mail-forward"],["mat-button","","md-button","",1,"mail-action-btn",2,"color","gray",3,"title"],[1,"fa","fa-caret-left"],[1,"fa","fa-caret-right"],[1,"emailsubject","e-mailSubject"],[4,"ngIf","ngIfElse"],["subjectTranslateds",""],[1,"recipient-mail"],[3,"title",4,"ngIf"],[3,"title"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[1,"fileInfo"],["mat-button","","type","button"],[1,"fa","fa-file-archive-o"],["mat-button","","type","button",3,"click"],[1,"fa","fa-download"],[1,"group-rncp"],[1,"message_view"],[1,"group-usertype"],[1,"mail-cc"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"table",2),t.\u0275\u0275listener("matSortChange",function(l){return a.sortData(l)}),t.\u0275\u0275elementContainerStart(3,3),t.\u0275\u0275template(4,Kw,4,1,"th",4),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(5,5),t.\u0275\u0275template(6,Qw,2,3,"th",6),t.\u0275\u0275template(7,nD,6,5,"td",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,8),t.\u0275\u0275template(9,aD,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,9),t.\u0275\u0275template(11,iD,7,6,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,10),t.\u0275\u0275template(13,oD,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,11),t.\u0275\u0275template(15,rD,2,1,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,12),t.\u0275\u0275template(17,cD,2,1,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,13),t.\u0275\u0275template(19,dD,4,4,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,14),t.\u0275\u0275template(21,pD,5,6,"th",15),t.\u0275\u0275template(22,mD,4,8,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(23,17),t.\u0275\u0275template(24,_D,5,6,"th",18),t.\u0275\u0275template(25,uD,4,8,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(26,19),t.\u0275\u0275template(27,gD,5,6,"th",20),t.\u0275\u0275template(28,hD,6,14,"td",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(29,22),t.\u0275\u0275template(30,fD,5,6,"th",23),t.\u0275\u0275template(31,MD,4,3,"td",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(32,24),t.\u0275\u0275template(33,SD,5,6,"th",25),t.\u0275\u0275template(34,OD,2,2,"td",26),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(35,27),t.\u0275\u0275template(36,PD,3,0,"th",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(37,wD,1,0,"tr",29),t.\u0275\u0275template(38,DD,1,0,"tr",29),t.\u0275\u0275template(39,ED,1,0,"tr",29),t.\u0275\u0275template(40,ID,1,1,"tr",30),t.\u0275\u0275template(41,kD,1,1,"tr",31),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(42,FD,3,3,"div",32),t.\u0275\u0275elementStart(43,"div",33)(44,"mat-paginator",34),t.\u0275\u0275listener("page",function(l){return a.changePage(l)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(45,"div",1),t.\u0275\u0275template(46,yE,41,31,"div",35),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",a.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(12,vE)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(13,TE)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=a.dataSource&&null!=a.dataSource.data&&a.dataSource.data.length||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(14,ME,a.paginator.length<1||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,SE,a.paginator.length<=10))("hidePageSize",!0)("pageSizeOptions",t.\u0275\u0275pureFunction0(18,OE)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.viewMessageData?null:a.viewMessageData._id))},dependencies:[f.mk,f.sg,f.O5,I.lW,st.oG,P.Mq,P.hl,P.nW,k.Hw,S.KE,S.R9,z.Nt,E.NW,D.Ou,V.YE,V.nU,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,G.gM,m.DefaultValueAccessor,m.NgControlStatus,m.FormControlDirective,at.xw,at.yH,H.oO,f.gd,f.rS,f.uU,M.X$],styles:["#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.form-field[_ngcontent-%COMP%]{margin-top:6px}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%]{width:8%}.mat-column-createdAtFilter[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]{width:6rem}.mat-column-createdAtFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-timeTableFilter[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]{width:6rem}.mat-column-timeTableFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-fromFilter[_ngcontent-%COMP%], .mat-column-from[_ngcontent-%COMP%]{width:20%;padding-left:.5rem!important}.mat-column-toFilter[_ngcontent-%COMP%], .mat-column-to[_ngcontent-%COMP%]{width:25%;padding-left:.5rem!important}.mat-column-subjectFilter[_ngcontent-%COMP%], .mat-column-subject[_ngcontent-%COMP%]{width:auto;padding-left:.5rem!important}[_nghost-%COMP%]     .job-desc-table{width:100%!important}[_nghost-%COMP%]     table.mailTable tr td, [_nghost-%COMP%]     table.mailTable tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table.mailTable tr td:nth-child(1), [_nghost-%COMP%]     table.mailTable tr th:nth-child(1){padding-left:0!important;text-align:center!important}[_nghost-%COMP%]     table.mailTable tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table.mailTable tr th{vertical-align:top}[_nghost-%COMP%]     table.mailTable tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table.mailTable tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2), [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2) th, [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.bg-color[_ngcontent-%COMP%]{background-color:#fff}.right-float[_ngcontent-%COMP%]{float:right;margin-left:5px;background-color:gray}.btnReset[_ngcontent-%COMP%]{margin-left:5px;height:45px;background-color:#607d8b}.fontSize[_ngcontent-%COMP%]{font-size:1.25rem}.header-alignment[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:.5rem!important}.icon-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:50%}.mail-type-list-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:5px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{padding:0}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{border-left:8px solid;transition-property:background;transition-duration:.3s;transition-timing-function:linear;cursor:pointer}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-inbox[_ngcontent-%COMP%]{border-left-color:#009846}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-sent[_ngcontent-%COMP%]{border-left-color:#846573}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-important[_ngcontent-%COMP%]{border-left-color:#e51a4b}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-draft[_ngcontent-%COMP%]{border-left-color:#ffed00}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-trash[_ngcontent-%COMP%]{border-left-color:#d9dada}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:15px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%], .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:focus, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:active{background-color:#212121}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:8px;width:35px;height:35px;min-width:initial;background-color:gray;color:#fff;line-height:14px;margin-right:2px;border-radius:2px}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0}.mail-controls[_ngcontent-%COMP%]   .reply-btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}[_nghost-%COMP%]     svg{padding-right:4px;padding-bottom:5px!important}[_nghost-%COMP%]     .mat-icon[svgicon=email-sync] svg{padding-right:0!important;padding-bottom:0!important}.resetBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#607d8b!important}[_nghost-%COMP%]     .resetBtn svg{padding-bottom:3px!important}[_nghost-%COMP%]     .matFormModif .mat-form-field-wrapper{margin-right:14px}.view-message-section[_ngcontent-%COMP%]{background:white;width:100%;color:#000;padding:20px}.view-mailbox-template[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;flex:1 1 100%;box-sizing:border-box;-webkit-box-flex:1;max-width:100%}.view-mailbox-by-side[_ngcontent-%COMP%]{flex:1 1 50%;box-sizing:border-box;-webkit-box-flex:1;max-width:50%}button.mail-action-btn.mat-button[_ngcontent-%COMP%]{min-width:initial;padding:5px;font-size:15px;line-height:20px;margin-right:.33333rem}.compose-mail-action[_ngcontent-%COMP%]{display:inline-block}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;border-bottom:1px solid #ababab}.unreadNotify[_ngcontent-%COMP%]{color:#fff;margin-left:10px;background-color:red;padding:3px 8px;border-radius:50%}[_nghost-%COMP%]  .unread:checked{border-color:#fff!important}[_nghost-%COMP%]  .unread .mat-checkbox-inner-container{background-color:red!important;border-radius:4px}[_nghost-%COMP%]  .mat-checkbox-checked .mat-checkbox-inner-container{background-color:#ffca28!important}[_nghost-%COMP%]  .mat-checkbox-checked .mat-checkbox-frame{border-color:#ffca28!important}.message_detail[_ngcontent-%COMP%]{margin-top:5px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-rncp[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-usertype[_ngcontent-%COMP%]{margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.mail-cc[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.message_view[_ngcontent-%COMP%]{flex:1 1 .000000001px;box-sizing:border-box;-webkit-box-flex:1}tr.mat-row[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.yellow-admtc[_ngcontent-%COMP%]{background-color:#ffd740!important;color:#000!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.break-word[_ngcontent-%COMP%]{width:100%;overflow-wrap:break-word}.top-space[_ngcontent-%COMP%]{margin-top:30px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}  .blue-link-format{cursor:pointer!important;color:#06f!important;text-decoration:underline!important}  .size-school-logo{max-width:170px!important;max-height:150px!important}"]}),n})();function wE(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",10),t.\u0275\u0275element(1,"i",11),t.\u0275\u0275elementStart(2,"h4"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,1,"MailBox.INBOX")))}function DE(n,o){if(1&n&&t.\u0275\u0275element(0,"ms-student-mailbox-inbox-tab",12),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("candidateId",e.userId)("student",e.currentCandidate)}}function EE(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",13),t.\u0275\u0275element(1,"i",11),t.\u0275\u0275elementStart(2,"h4"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,1,"MailBox.CC")))}function IE(n,o){if(1&n&&t.\u0275\u0275element(0,"ms-student-mailbox-cc-tab",14),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("candidateId",e.userId)}}function kE(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",15),t.\u0275\u0275element(1,"i",16),t.\u0275\u0275elementStart(2,"h4"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,1,"MailBox.SENT")))}function FE(n,o){if(1&n&&t.\u0275\u0275element(0,"ms-student-mailbox-sent-tab",14),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("candidateId",e.userId)}}function BE(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",17),t.\u0275\u0275element(1,"i",18),t.\u0275\u0275elementStart(2,"h4"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,1,"MailBox.IMPORTANT")))}function AE(n,o){if(1&n&&t.\u0275\u0275element(0,"ms-student-mailbox-important-tab",14),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("candidateId",e.userId)}}function NE(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275element(1,"i",20),t.\u0275\u0275elementStart(2,"h4"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,1,"MailBox.DRAFT")))}function RE(n,o){if(1&n&&t.\u0275\u0275element(0,"ms-student-mailbox-draft-tab",14),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("candidateId",e.userId)}}function VE(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",21),t.\u0275\u0275element(1,"i",22),t.\u0275\u0275elementStart(2,"h4"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,1,"MailBox.TRASH")))}function LE(n,o){if(1&n&&t.\u0275\u0275element(0,"ms-student-mailbox-trash-tab",14),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("candidateId",e.userId)}}let UE=(()=>{class n{constructor(e,a,i,l){this.coreService=e,this.admissionService=a,this.pageTitleService=i,this.translate=l,this.loadingData=new t.EventEmitter,this.reload=new t.EventEmitter,this.subs=new w.Y,this.selectedIndex=0}ngOnInit(){this.updatePageTitle(),console.log("_id",this.candidateId),setTimeout(()=>{this.coreService.sidenavOpen=!1},1e3),this.candidateId&&this.getOneUserId()}updatePageTitle(){this.pageTitleService.setTitle(this.translate.instant("Student Card Mailbox")),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.pageTitleService.setTitle(this.translate.instant("Student Card Mailbox"))})}ngOnDestroy(){}ngOnChanges(){console.log("_test !"),this.reload.emit(!0),this.candidateId&&this.getOneUserId()}getOneUserId(){this.admissionService.getOneCandidateUserId(this.candidateId).subscribe(e=>{e?.user_id&&(this.userId=e.user_id._id,this.currentCandidate=h.cloneDeep(e))})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(xt.p),t.\u0275\u0275directiveInject(Rt.w),t.\u0275\u0275directiveInject(nt.Z),t.\u0275\u0275directiveInject(M.sK))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-mailbox-tab"]],inputs:{candidateId:"candidateId",userData:"userData"},outputs:{loadingData:"loadingData",reload:"reload"},features:[t.\u0275\u0275NgOnChangesFeature],decls:20,vars:1,consts:[[3,"selectedIndex","selectedIndexChange"],["mailboxTabGroup",""],["label","Inbox"],["mat-tab-label",""],["matTabContent",""],["label","Cc"],["label","Sent"],["label","Important"],["label","Draft"],["label","Trash"],[1,"inbox-tab"],[1,"fa","fa-inbox"],[3,"candidateId","student"],[1,"cc-tab"],[3,"candidateId"],[1,"sent-tab"],[1,"fa","fa-paper-plane"],[1,"important-tab"],[1,"fa","fa-hand-paper-o"],[1,"draft-tab"],[1,"fa","fa-archive"],[1,"trash-tab"],[1,"fa","fa-trash"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"mat-tab-group",0,1),t.\u0275\u0275listener("selectedIndexChange",function(l){return a.selectedIndex=l}),t.\u0275\u0275elementStart(2,"mat-tab",2),t.\u0275\u0275template(3,wE,5,3,"ng-template",3),t.\u0275\u0275template(4,DE,1,2,"ng-template",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-tab",5),t.\u0275\u0275template(6,EE,5,3,"ng-template",3),t.\u0275\u0275template(7,IE,1,1,"ng-template",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"mat-tab",6),t.\u0275\u0275template(9,kE,5,3,"ng-template",3),t.\u0275\u0275template(10,FE,1,1,"ng-template",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"mat-tab",7),t.\u0275\u0275template(12,BE,5,3,"ng-template",3),t.\u0275\u0275template(13,AE,1,1,"ng-template",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"mat-tab",8),t.\u0275\u0275template(15,NE,5,3,"ng-template",3),t.\u0275\u0275template(16,RE,1,1,"ng-template",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"mat-tab",9),t.\u0275\u0275template(18,VE,5,3,"ng-template",3),t.\u0275\u0275template(19,LE,1,1,"ng-template",4),t.\u0275\u0275elementEnd()()),2&e&&t.\u0275\u0275property("selectedIndex",a.selectedIndex)},dependencies:[X.SP,X.uD,X.uX,X.Vc,RT,SS,m3,JP,Uw,PE,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]  .mat-tab-group{margin-top:1rem}[_nghost-%COMP%]  .mat-tab-group .mat-tab-header{font-size:.9em}[_nghost-%COMP%]  .mat-tab-group .mat-tab-label{padding:0!important}[_nghost-%COMP%]  .mat-tab-group .mat-tab-label h4{font-size:13px;margin:0}[_nghost-%COMP%]  .mat-tab-group .mat-tab-label-active{box-shadow:unset;border:unset}[_nghost-%COMP%]  .mat-tab-group .mat-card{margin-top:5%}[_nghost-%COMP%]  .mat-tab-group .fa{margin-right:15px}[_nghost-%COMP%]  .mat-tab-group .inbox-tab{width:150px;height:48px;display:flex;justify-content:center;align-items:center;border-left:8px solid #009846}[_nghost-%COMP%]  .mat-tab-group .cc-tab{width:150px;height:48px;display:flex;justify-content:center;align-items:center;border-left:8px solid white}[_nghost-%COMP%]  .mat-tab-group .sent-tab{width:150px;height:48px;display:flex;justify-content:center;align-items:center;border-left:8px solid #846573}[_nghost-%COMP%]  .mat-tab-group .important-tab{width:150px;height:48px;display:flex;justify-content:center;align-items:center;border-left:8px solid #e51a4b}[_nghost-%COMP%]  .mat-tab-group .draft-tab{width:150px;height:48px;display:flex;justify-content:center;align-items:center;border-left:8px solid #ffed00}[_nghost-%COMP%]  .mat-tab-group .trash-tab{width:150px;height:48px;display:flex;justify-content:center;align-items:center;border-left:8px solid #d9dada}"]}),n})();var zE=C(46416);function $E(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",4),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.addTag())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",5),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",e.isWaitingForResponse)("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Add a tag")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"Add a tag")," ")}}function HE(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",14),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.removeTag(i))}),t.\u0275\u0275text(1," close "),t.\u0275\u0275elementEnd()}}function jE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",9)(1,"div",7)(2,"div",10),t.\u0275\u0275element(3,"i",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",12)(5,"span"),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",10),t.\u0275\u0275template(8,HE,2,0,"mat-icon",13),t.\u0275\u0275elementEnd()()()),2&n){const e=o.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(4),t.\u0275\u0275property("matTooltip",null==e?null:e.name),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.name),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.permission.studentCardTagActionEditPerm())}}function WE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",6)(1,"div",7),t.\u0275\u0275template(2,jE,9,3,"div",8),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.tags)}}function YE(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",15),t.\u0275\u0275element(1,"mat-spinner",16),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}const GE=function(n){return{"spinner-margin":n}};let qE=(()=>{class n{constructor(e,a,i,l,r,s){this.pageTitleService=e,this.translate=a,this.permission=i,this.dialog=l,this.studentsService=r,this.authService=s,this.reload=new t.EventEmitter,this.subs=new w.Y,this.isWaitingForResponse=!1,this.tags=[]}ngOnInit(){this.updatePageTitle(),this.getTags()}ngOnChanges(){this.reload.emit(!0)}updatePageTitle(){this.pageTitleService.setTitle(this.translate.instant("Student Card - Tags")),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.pageTitleService.setTitle(this.translate.instant("Student Card - Tags"))})}getTags(){this.tags=[],this.isWaitingForResponse=!0,this.subs.sink=this.studentsService.getOneCandidateTag(this.candidateId).subscribe(e=>{this.isWaitingForResponse=!1,e&&(this.candidate=(0,h.cloneDeep)(e),this.tags=(0,h.uniqBy)(this.candidate?.tag_ids,"_id"))},e=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(e),c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}addTag(){this.subs.sink=this.dialog.open(zE.e,{width:"600px",panelClass:"no-padding-pop-up",disableClose:!0,autoFocus:!1,data:{candidateId:this.candidateId,tags:this.tags,from:"student-card"}}).afterClosed().subscribe(e=>{e&&this.getTags()})}removeTag(e){const a=e?.name,i=this.candidate?.last_name?.toUpperCase()+" "+this.candidate?.first_name+(this.candidate?.civility?" "+this.translate.instant(this.candidate?.civility):"");c().fire({type:"warning",title:this.translate.instant("student_tags_S1.TITLE"),html:this.translate.instant("student_tags_S1.TEXT",{tagName:a,studentName:i}),confirmButtonText:this.translate.instant("student_tags_S1.BUTTON_1"),cancelButtonText:this.translate.instant("student_tags_S1.BUTTON_2"),allowEscapeKey:!0,showCancelButton:!0,allowOutsideClick:!1,allowEnterKey:!1}).then(l=>{if(l.value){const r=this.tags?.filter(p=>p?._id!==e?._id)?.map(p=>p?._id),s={tag_ids:r?.length?r:null};this.isWaitingForResponse=!0,this.subs.sink=this.studentsService.updateCandidateTag(this.candidateId,s,!0).subscribe(p=>{this.isWaitingForResponse=!1,p&&c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getTags()})},p=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(p),c().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}})}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(nt.Z),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(ot.$),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(Ot.q),t.\u0275\u0275directiveInject(L.e))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-student-tags-tab-detail"]],inputs:{candidateId:"candidateId"},outputs:{reload:"reload"},features:[t.\u0275\u0275NgOnChangesFeature],decls:4,vars:6,consts:[[1,"p-col-12","add-tag",3,"ngClass"],["mat-raised-button","","color","accent",3,"disabled","matTooltip","click",4,"ngIf"],["class","p-col-12",4,"ngIf"],["class","inner-loading-indicator spinner-position",4,"ngIf"],["mat-raised-button","","color","accent",3,"disabled","matTooltip","click"],["svgIcon","bookmark-plus-outline",1,"icon-button"],[1,"p-col-12"],[1,"p-grid"],["class","p-col-3 card-tag",4,"ngFor","ngForOf"],[1,"p-col-3","card-tag"],[1,"p-col-2","no-padding"],[1,"fa","fa-hashtag"],["matTooltipPosition","above",1,"p-col-8","no-padding","tag-name",3,"matTooltip"],["class","close-icon",3,"click",4,"ngIf"],[1,"close-icon",3,"click"],[1,"inner-loading-indicator","spinner-position"],["color","accent",3,"diameter"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,$E,5,7,"button",1),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(2,WE,3,1,"div",2),t.\u0275\u0275template(3,YE,2,1,"div",3)),2&e&&(t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,GE,a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permission.studentCardTagAddTag()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.isWaitingForResponse&&(null==a.tags?null:a.tags.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isWaitingForResponse))},dependencies:[f.mk,f.sg,f.O5,I.lW,k.Hw,D.Ou,G.gM,H.oO,M.X$],styles:[".add-tag[_ngcontent-%COMP%]{text-align:right;margin-bottom:15px}.card-tag[_ngcontent-%COMP%]{border:1px #ffd740;border-radius:5px;color:#000;background-color:#ffd740;margin-right:10px;width:150px!important;margin-bottom:10px}.card-tag[_ngcontent-%COMP%]   .tag-name[_ngcontent-%COMP%]{cursor:default;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card-tag[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:22px;vertical-align:middle}.card-tag[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]:hover{color:red}.icon-button[_ngcontent-%COMP%]{width:22px}.spinner-position[_ngcontent-%COMP%]{overflow:hidden}.spinner-margin[_ngcontent-%COMP%]{margin-bottom:70px}"]}),n})();const KE=["candidateMatGroup"],QE=["admissionStatus"];function XE(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",11),t.\u0275\u0275element(1,"mat-spinner",12),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}function ZE(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"MINOR_STUDENT_MANAGEMENT."+e.statusStudentMinorManagement(e.candidate))," ")}}function JE(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",50),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.updateStatus(l.value))}),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()}if(2&n){const e=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,e.key))}}function tI(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ZE,3,3,"button",45),t.\u0275\u0275elementStart(2,"button",46),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-menu",null,47),t.\u0275\u0275template(7,JE,4,3,"button",48),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","None"!==e.statusStudentMinorManagement(e.candidate)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,3,"deactivated"===(null==e.candidate?null:e.candidate.candidate_admission_status)?"Deactivated":null==e.candidate?null:e.candidate.candidate_admission_status)," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",e.studentStatusList)}}function eI(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",50),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.updateStatus(l.value))}),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()}if(2&n){const e=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,e.key))}}function nI(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",46),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"mat-menu",null,47),t.\u0275\u0275template(6,eI,4,3,"button",48),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,2,null==e.candidate?null:e.candidate.candidate_admission_status)," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",e.listStatusBillValidatedFC)}}function aI(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",50),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.updateStatus(l.value))}),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()}if(2&n){const e=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,e.key))}}function iI(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",46),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"mat-menu",null,47),t.\u0275\u0275template(6,aI,4,3,"button",48),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,2,null==e.candidate?null:e.candidate.candidate_admission_status)," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",e.listStatusInScholarship)}}const oI=function(n){return{"admission-button":n}};function lI(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",51),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.changeStatus(i.candidate))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(3,"svg",52),t.\u0275\u0275element(4,"path",53),t.\u0275\u0275elementEnd()()()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Report Inscription +1")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,oI,"report_inscription"===(null==e.candidate?null:e.candidate.candidate_admission_status)))}}function rI(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",36),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.openWhatsapp(i.candidate))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"mat-icon",39),t.\u0275\u0275text(4," sms "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"button",36),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.callCandidates(i.candidate))}),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementStart(7,"mat-icon",39),t.\u0275\u0275text(8," call "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,2,"SMS")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(6,4,"Call")))}const jt=function(n,o){return{red:n,green:o}};function sI(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16),t.\u0275\u0275element(4,"img",17),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",18)(6,"div",19)(7,"div",20)(8,"div",19)(9,"div",21)(10,"span"),t.\u0275\u0275text(11),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",22)(13,"span"),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275pipe(16,"uppercase"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(17,"div",23),t.\u0275\u0275template(18,tI,8,5,"ng-container",24),t.\u0275\u0275template(19,nI,7,4,"ng-container",24),t.\u0275\u0275template(20,iI,7,4,"ng-container",24),t.\u0275\u0275template(21,lI,5,6,"button",25),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"div",26)(23,"mat-icon",27),t.\u0275\u0275text(24,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(25,"span",28),t.\u0275\u0275text(26),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(28,"div",29)(29,"mat-icon",30),t.\u0275\u0275text(30,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(31,"span",28),t.\u0275\u0275text(32),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(34,"div",31)(35,"div",19)(36,"div",32)(37,"span",28),t.\u0275\u0275text(38),t.\u0275\u0275pipe(39,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(40,"div",33)(41,"span",28),t.\u0275\u0275text(42),t.\u0275\u0275pipe(43,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(44,"div",34)(45,"span",28),t.\u0275\u0275text(46),t.\u0275\u0275pipe(47,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(48,"div",35)(49,"button",36),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.connectAsStudent(i.candidate))}),t.\u0275\u0275pipe(50,"translate"),t.\u0275\u0275element(51,"mat-icon",37),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(52,"button",36),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.sendMail(i.candidate))}),t.\u0275\u0275pipe(53,"translate"),t.\u0275\u0275elementStart(54,"mat-icon",38),t.\u0275\u0275text(55," send "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(56,rI,9,6,"ng-container",24),t.\u0275\u0275elementStart(57,"button",36),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.sendUrgentMail(i.candidate))}),t.\u0275\u0275pipe(58,"translate"),t.\u0275\u0275elementStart(59,"mat-icon",39),t.\u0275\u0275text(60," bolt "),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(61,"div",40)(62,"div",41)(63,"div",42)(64,"span"),t.\u0275\u0275text(65),t.\u0275\u0275pipe(66,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(67,"div",43)(68,"mat-icon",30),t.\u0275\u0275text(69,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(70,"span",28),t.\u0275\u0275text(71),t.\u0275\u0275pipe(72,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(73,"div",44)(74,"mat-icon",27),t.\u0275\u0275text(75,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(76,"span",28),t.\u0275\u0275text(77),t.\u0275\u0275pipe(78,"translate"),t.\u0275\u0275elementEnd()()()()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(4),t.\u0275\u0275property("src",null!=e.candidate&&e.candidate.is_photo_in_s3?e.serverimgPath+(null==e.candidate?null:e.candidate.photo_s3_path):null!=e.candidate&&e.candidate.photo?e.serverimgPath+(null==e.candidate?null:e.candidate.photo):"MR"===(null==e.candidate?null:e.candidate.civility)?e.maleCandidateIcon:"neutral"===(null==e.candidate?null:e.candidate.civility)?e.neutralStudentIcon:e.femaleCandidateIcon,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",null==e.candidate?null:e.candidate.candidate_unique_number," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",null!=e.candidate&&e.candidate.civility&&"neutral"===(null==e.candidate?null:e.candidate.civility)?"":t.\u0275\u0275pipeBind1(15,30,null==e.candidate?null:e.candidate.civility)," ",null==e.candidate?null:e.candidate.first_name," ",t.\u0275\u0275pipeBind1(16,32,null==e.candidate?null:e.candidate.last_name)," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf","in_scholarship"!==(null==e.candidate?null:e.candidate.candidate_admission_status)&&"bill_validated"!==(null==e.candidate?null:e.candidate.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","bill_validated"===(null==e.candidate?null:e.candidate.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","in_scholarship"===(null==e.candidate?null:e.candidate.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.postponeActionInCandidatePerm()&&("registered"===(null==e.candidate?null:e.candidate.candidate_admission_status)||"report_inscription"===(null==e.candidate?null:e.candidate.candidate_admission_status))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(56,jt,0===(null==e.candidate||null==e.candidate.payment_supports?null:e.candidate.payment_supports.length),(null==e.candidate||null==e.candidate.payment_supports?null:e.candidate.payment_supports.length)>0)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(27,34,"Financial Support"),""),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(59,jt,"not_ok"===(null==e.candidate?null:e.candidate.financial_situation)||!(null!=e.candidate&&e.candidate.financial_situation)&&(null==e.candidate||null==e.candidate.billing_id?null:e.candidate.billing_id.amount_late)>=100,"ok"===(null==e.candidate?null:e.candidate.financial_situation)||!(null!=e.candidate&&e.candidate.financial_situation)&&(null==e.candidate||null==e.candidate.billing_id?null:e.candidate.billing_id.amount_late)<100)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(33,36,"Financial Situation")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(39,38,"School Email"),": ",null!=e.candidate&&e.candidate.school_mail?null==e.candidate?null:e.candidate.school_mail:"-"," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(43,40,"CARDDETAIL.Personal Email"),": ",null==e.candidate?null:e.candidate.email," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(47,42,"Phone"),": ",null!=e.candidate&&e.candidate.phone_number_indicative?"+"+(null==e.candidate?null:e.candidate.phone_number_indicative):"","",null==e.candidate?null:e.candidate.telephone," "),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(50,44,"Connect as this User")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(53,46,"Send an email")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",e.callSms),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(58,48,"Urgent Message")),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(66,50,"Program"),": ",null==e.candidate||null==e.candidate.intake_channel?null:e.candidate.intake_channel.program," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(62,jt,!e.personalSituation,e.personalSituation)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(72,52,"Personal Situation"),""),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(65,jt,!e.restrictiveCondition,e.restrictiveCondition)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(78,54,"Restrictive Condition"),"")}}function cI(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h5"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Student")))}function dI(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-student-tab",54),t.\u0275\u0275listener("loadingData",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.loadingData(i))})("reloadData",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.reloadData(i))})("reloadDataDetail",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.reloadDataDetail(i))}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("countryCodeList",e.countryCodeList)("scholarSeasons",e.listProgram)("showFinancement",e.showFinancement)("subTab",e.subTab)}}function pI(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Identity")))}function mI(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-student-identity-tab",55),t.\u0275\u0275listener("reloadData",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.reloadData(i))}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("countryCodeList",e.countryCodeList)("candidateId",e.candidateId)}}function _I(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Commentaries")))}function uI(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-student-commentaries-tab",56),t.\u0275\u0275listener("loadingData",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.loadingData(i))}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("candidateId",e.candidateId)("studentId",e.studentId)("userData",e.userData)}}function gI(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Mailbox")))}function hI(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-student-mailbox-tab",57),t.\u0275\u0275listener("loadingData",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.loadingData(i))})("reload",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.reloadData(i))}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("candidateId",e.candidateId)("userData",e.userData)}}function fI(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Tags")))}function bI(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-student-tags-tab-detail",59),t.\u0275\u0275listener("reload",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.reloadData(i))}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("candidateId",e.candidateId)}}function CI(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-tab",58),t.\u0275\u0275template(1,fI,3,3,"ng-template",5),t.\u0275\u0275template(2,bI,1,1,"ng-template",6),t.\u0275\u0275elementEnd())}let xI=(()=>{class n{constructor(e,a,i,l,r,s,d,p,u,_,O,F,v){this.candidateService=e,this.dialog=a,this.translate=i,this.admissionService=l,this.usersService=r,this.authService=s,this.permissionService=d,this.parseUtcToLocalPipe=p,this.sanitizer=u,this.utilService=_,this.permissions=O,this.userService=F,this.countryService=v,this.serverimgPath=`${St.a.baseApi}/fileuploads/`.replace("/graphql",""),this.candidateId={},this.reload=new t.EventEmitter,this.loading=new t.EventEmitter,this.candidate={},this.callSms=!1,this.subs=new w.Y,this.tabs={"note-tab":"Add a Note","history-tab":"Candidate history","edit-tab":"Modifications","evolution-tab":"Evolution"},this.maleCandidateIcon="../../../../../assets/img/student_icon.png",this.femaleCandidateIcon="../../../../../assets/img/student_icon_fem.png",this.neutralStudentIcon="../../../../../assets/img/student_icon_neutral.png",this.userProfilePic="../../../../../assets/img/user-1.jpg",this.userProfilePic1="../../../../../assets/img/user-3.jpg",this.userProfilePic2="../../../../../assets/img/user-5.jpg",this.greenHeartIcon="../../../../../assets/img/enagement_icon_green.png",this.selectedIndex=0,this.userData=[],this.personalSituation=!1,this.restrictiveCondition=!1,this.studentStatusList=[],this.listStatusAdmitted=[{value:"resigned",key:"Resign"}],this.listStatusResigned=[{value:"admission_in_progress",key:"Admitted"}],this.listStatusAdmittedFC=[{value:"resigned",key:"Resign"},{value:"financement_validated",key:"Financement valided"}],this.listStatusEngaged=[{value:"resigned_after_engaged",key:"Resign after engaged"}],this.listStatusEngagedFC=[{value:"resigned_after_engaged",key:"Resign after engaged"},{value:"financement_validated",key:"Financement valided"}],this.listStatusRegistered=[{value:"resigned_after_registered",key:"Resign after registered"},{value:"report_inscription",key:"Report Inscription +1"},{value:"resignation_missing_prerequisites",key:"resignation_missing_prerequisites"},{value:"resign_after_school_begins",key:"resign_after_school_begins"},{value:"no_show",key:"no_show"}],this.listStatusPostphone=[{value:"registered",key:"Registered"}],this.listStatusResignBegins=[{value:"registered",key:"Registered"}],this.listStatusBillValidatedFC=[{value:"financement_validated",key:"Financement valided"},{value:"resigned",key:"Resign"}],this.listStatusFinancementValidated=[{value:"resigned",key:"Resign"},{value:"report_inscription",key:"Report Inscription +1"},{value:"registered",key:"Registered"}],this.listStatusInScholarship=[{value:"resigned",key:"Resign"}],this.listStatusForResignRegistered=[{value:"registered",key:"Registered"}],this.listStatusForResignEngaged=[{value:"admission_in_progress",key:"Admitted"}],this.isLoading=!0,this.isAdultDummy=!1,this.isEmancipatedDummy=!0,this._studentDomainBaseUrl=_t.N.studentEnvironment,this.listProgram=[],this.isWaitingForResponse=!0,this.countryCodeList=[]}ngOnInit(){this.getAllCountryCodes(),this.getAllUsers(),this.moveToTab(this.tab),this.showFinancement="Student"===this.tab&&"Financement"===this.subTab,this.subs.sink=this.translate.onLangChange.subscribe(()=>{this.sortCountryCode()})}sortCountryCode(){this.countryCodeList=this.countryCodeList.sort((e,a)=>this.utilService.simplifyRegex(this.translate.instant(e?.name))<this.utilService.simplifyRegex(this.translate.instant(a?.name))?-1:this.utilService.simplifyRegex(this.translate.instant(e?.name))>this.utilService.simplifyRegex(this.translate.instant(a?.name))?1:0)}ngAfterViewInit(){this.moveToTab(this.tab)}ngOnChanges(){this.isLoading=!0,this.getOneCandidate(),this.getAllCandidateComment(),this.currentUser=this.authService.getCurrentUser()}getAllCountryCodes(){this.countryCodeList=this.countryService?.getAllCountriesNationality()}get studentDomain(){return`${this._studentDomainBaseUrl}/session/login`}getOneCandidate(){if(this.candidateUniqueNumber){const e={candidate_unique_number_exact:this.candidateUniqueNumber?this.candidateUniqueNumber:"",readmission_status:"all_candidates"};this.isWaitingForResponse=!0,this.studentId="",this.listProgram=[];const a=this.utilService.getCurrentUser();this.subs.sink=this.candidateService.getAllCandidatesTabStudent(e,a?.app_data?.user_type_id?a?.app_data?.user_type_id:[]).subscribe(l=>{this.listProgram=h.cloneDeep(l);let r=h.cloneDeep(l);if(r){let s=r.find(p=>{if(!(p?.scholar_season?.from?.date_utc&&p?.scholar_season?.from?.time_utc&&p?.scholar_season?.to?.date_utc&&p?.scholar_season?.to?.time_utc))return!1;const u=y(),_=this.parseUtcToLocalPipe.transformDateToJavascriptDate(p.scholar_season.from.date_utc,p.scholar_season.from.time_utc),O=this.parseUtcToLocalPipe.transformDateToJavascriptDate(p.scholar_season.to.date_utc,p.scholar_season.to.time_utc);return u.isBetween(_,O)});r=s?"admitted"===s?.candidate_admission_status&&"assignment_table"===s?.readmission_status&&r?.find(u=>"registered"===u?.candidate_admission_status)||s:r[0];const d=!!(r&&r.type_of_formation_id&&r.type_of_formation_id.type_of_formation&&r.type_of_formation_id.type_of_formation&&"classic"!==r.type_of_formation_id.type_of_formation);this.showFinancement=!!r?.type_of_formation_id?.type_of_formation&&"classic"!==r.type_of_formation_id.type_of_formation,this.candidate=h.cloneDeep(r),this.candidateService.setCandidateOneStduent(this.candidate),this.studentId=this.candidate?.student_id?._id,this.candidate&&this.candidate.telephone&&(this.candidate.telephone=this.candidate.telephone),this.candidate&&this.candidate.fixed_phone&&(this.candidate.fixed_phone=this.candidate.fixed_phone),this.studentStatusList=r&&r.candidate_admission_status&&"admission_in_progress"===r.candidate_admission_status||"admitted"===r.candidate_admission_status||"resigned"===r.candidate_admission_status?d?this.listStatusAdmittedFC:r&&r.candidate_admission_status&&"resigned"===r.candidate_admission_status?this.listStatusResigned:this.listStatusAdmitted:r&&r.candidate_admission_status&&"engaged"===r.candidate_admission_status?d?this.listStatusEngagedFC:this.listStatusEngaged:r&&r.candidate_admission_status&&"registered"===r.candidate_admission_status?this.listStatusRegistered:r&&r.candidate_admission_status&&"report_inscription"===r.candidate_admission_status?this.listStatusPostphone:r&&r.candidate_admission_status&&"resign_after_school_begins"===r.candidate_admission_status?this.listStatusResignBegins:r&&r.candidate_admission_status&&"bill_validated"===r.candidate_admission_status?this.listStatusBillValidatedFC:r&&r.candidate_admission_status&&"financement_validated"===r.candidate_admission_status?this.listStatusFinancementValidated:r&&r.candidate_admission_status&&"resigned_after_registered"===r.candidate_admission_status?this.listStatusForResignRegistered:r&&r.candidate_admission_status&&"resignation_missing_prerequisites"===r.candidate_admission_status?[]:r&&r.candidate_admission_status&&"resigned_after_engaged"===r.candidate_admission_status?d?[]:this.listStatusForResignEngaged:[]}this.isWaitingForResponse=!1},l=>{this.studentStatusList=[],this.isWaitingForResponse=!1,l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}ngOnDestroy(){this.subs.unsubscribe()}getAllCandidateComment(){this.isLoading=!0,this.subs.sink=this.candidateService.GetAllCandidateComments({candidate_id:this.candidateId,subject:"",comment_body:"",created_by:"",date_comment_created:"",category:""}).subscribe(a=>{if(!a.length)return this.personalSituation=!1,this.restrictiveCondition=!1,void(this.isLoading=!1);{console.log(a);const l=h.cloneDeep(a).filter(r=>!1===r.is_reply);l&&l.length?(console.log("root comment found",l),this.personalSituation=l[0].is_personal_situation,this.restrictiveCondition=l[0].is_restrictive_conditions):(this.personalSituation=!1,this.restrictiveCondition=!1),this.isLoading=!1}},a=>{this.isLoading=!1,a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getAllUsers(){this.userData=[],this.subs.sink=this.usersService.getAllUserNote().subscribe(e=>{this.userData=e},e=>{this.userData=[],this.isLoading=!1,e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}moveToTab(e){if(e)switch(e){case"Identity":this.selectedIndex=1;break;case"Commentaries":this.selectedIndex=2;break;case"Mailbox":this.selectedIndex=3;break;case"Tags":this.selectedIndex=4;break;default:this.selectedIndex=0}}nextStep(e){console.log("_val",e),e&&this.moveToTab(e)}reloadData(e){e&&(this.candidate=null,this.getOneCandidate(),this.reload.emit(!0))}reloadDataDetail(e){e&&(this.candidate=null,this.getOneCandidate())}loadingData(e){this.loading.emit(e)}sendMail(e){console.log("_send",e),e&&(this.subs.sink=this.dialog.open(Qt.v,{width:"600px",minHeight:"100px",disableClose:!0,data:{candidate_id:{candidate_admission_status:e?.candidate_admission_status,civility:e?.civility,email:e?.email,emailDefault:e?.school_mail,first_name:e?.first_name,last_name:e?.last_name},financial_supports:e?.payment_supports,fromCandidate:!0}}).afterClosed().subscribe(i=>{}))}openWhatsapp(e){const a="https://api.whatsapp.com/send?phone="+e.telephone+"&text=",i=this.translate.instant("whatsapp message",{name:e.first_name,dev:(this.candidate&&this.candidate.civility&&"neutral"!==this.candidate.civility?`${this.translate.instant(this.candidate.civility)} `:"")+`${this.candidate.first_name} ${this.candidate.last_name}`,school:e.school.short_name,campus:e.campus.name,position:e.position?e.position:""});console.log("curernt ",this.candidate),console.log("whatsAppText ",i),window.open(a+i,"_blank")}callCandidates(e){c().fire({type:"info",title:this.translate.instant("CANDIDAT_S3.TITLE"),html:this.translate.instant("CANDIDAT_S3.TEXT",{candidateName:(e&&e.civility&&"neutral"!==e.civility?this.translate.instant(e.civility):"")+" "+e.first_name+" "+e.last_name}),showCancelButton:!0,allowEscapeKey:!0,allowOutsideClick:!1,reverseButtons:!0,confirmButtonText:this.translate.instant("CANDIDAT_S3.BUTTON_1"),cancelButtonText:this.translate.instant("CANDIDAT_S3.BUTTON_2")}).then(a=>{if(a.value){const i=h.cloneDeep(e);i&&i.date_of_birth&&(i.date_of_birth=y(i.date_of_birth).format("DD/MM/YYYY")),delete i._id,delete i.student_mentor_id,delete i.admission_member_id,delete i.count_document,delete i.user_id,delete i.date_added,delete i.announcement_call,delete i.candidate_unique_number,delete i.billing_id,i&&i.campus&&(i.campus=i.campus._id),i&&i.intake_channel&&(i.intake_channel=i.intake_channel._id),i&&i.scholar_season&&(i.scholar_season=i.scholar_season._id),i&&i.level&&(i.level=i.level._id),i&&i.school&&(i.school=i.school._id),i&&i.sector&&(i.sector=i.sector._id),i&&i.speciality&&(i.speciality=i.speciality._id),i&&i.registration_profile&&(i.registration_profile=i.registration_profile._id),i&&i.type_of_formation_id&&(i.type_of_formation_id=i.type_of_formation_id._id),this.subs.sink=this.candidateService.UpdateCandidateCall(e._id,i).subscribe(l=>{console.log("Candidate Updated!",l),c().fire({type:"success",title:this.translate.instant("CANDIDAT_S4.MESSAGE"),html:this.translate.instant("CANDIDAT_S4.TEXT",{candidateName:(e&&e.civility&&"neutral"!==e.civility?this.translate.instant(e.civility):"")+" "+e.first_name+" "+e.last_name}),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S4.BUTTON")}).then(r=>{})},l=>{if("GraphQL error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===l.message||"GraphQL error: Error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===l.message)c().fire({type:"info",title:this.translate.instant("LEGAL_S5.Title"),text:this.translate.instant("LEGAL_S5.Text"),confirmButtonText:this.translate.instant("LEGAL_S5.Button")});else if("GraphQL error: Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"===l.message||l.message.includes("Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"))c().fire({type:"info",title:this.translate.instant("EUROPEAN_COUNTRIES.TITLE"),html:this.translate.instant("EUROPEAN_COUNTRIES.TEXT"),confirmButtonText:this.translate.instant("EUROPEAN_COUNTRIES.BUTTON")});else if(l.message.includes("is invalid. Please enter a valid IBAN."))c().fire({type:"info",title:this.translate.instant("IBAN_S1.Title"),text:this.translate.instant("IBAN_S1.Text"),confirmButtonText:this.translate.instant("IBAN_S1.Button")});else if(l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt")))return void this.authService.handlerSessionExpired();c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}})}updateStatus(e){if("report_inscription"===e||this.candidate&&"report_inscription"===this.candidate.candidate_admission_status)this.changeStatus(this.candidate);else if("admission_in_progress"!==e||!this.candidate||"resigned_after_registered"!==this.candidate.candidate_admission_status&&"resigned_after_engaged"!==this.candidate.candidate_admission_status&&"resignation_missing_prerequisites"!==this.candidate.candidate_admission_status){const a={candidate_admission_status:e},i=this.translate.instant(this.candidate.candidate_admission_status),l=this.translate.instant(e),r=this.candidate.candidate_admission_status;c().fire({title:this.translate.instant("CHANGESTATUS_S1.TITLE"),html:this.translate.instant("CHANGESTATUS_S1.TEXT",{currentStatus:i,newStatus:l}),type:"warning",showCancelButton:!0,cancelButtonText:this.translate.instant("CHANGESTATUS_S1.BUTTON 2"),confirmButtonText:this.translate.instant("CHANGESTATUS_S1.BUTTON 1")}).then(s=>{s.value&&this.dialog.open(zt,{width:"750px",minHeight:"100px",disableClose:!0,data:{currentStatus:i,statusValue:r,newStatus:e,isEdit:!1,currentUser:this.currentUser,candidateId:this.candidate._id,allDataUser:this.userData}}).afterClosed().subscribe(p=>{p&&(this.isLoading=!0,console.log("responDialog",p),"resign_after_school_begins"===e?(a.resign_after_school_begins_at=p.resign_after_school_begins_at,delete p.resign_after_school_begins_at):"no_show"===e&&(a.no_show_at=p.no_show_at,delete p.no_show_at),a.status_changed_at=p.status_changed_at,delete p.status_changed_at,this.subs.sink=this.admissionService.UpdateCandidate(this.candidateId,a,!0).subscribe(_=>{_&&(this.subs.sink=this.candidateService.CreateCandidateComment(p).subscribe(O=>{O&&c().fire({type:"success",title:this.translate.instant("Bravo"),confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1}).then(F=>{F.value&&(this.isLoading=!1,this.reloadData(!0))})},O=>{this.isLoading=!1,O&&O.message&&(O.message.includes("jwt expired")||O.message.includes("str & salt required")||O.message.includes("Authorization header is missing")||O.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:O&&O.message?this.translate.instant(O.message.replaceAll("GraphQL error: ","")):O,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))},_=>{if(this.isLoading=!1,"GraphQL error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===_.message||"GraphQL error: Error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===_.message)c().fire({type:"info",title:this.translate.instant("LEGAL_S5.Title"),text:this.translate.instant("LEGAL_S5.Text"),confirmButtonText:this.translate.instant("LEGAL_S5.Button")});else if("GraphQL error: Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"===_.message||_.message.includes("Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"))c().fire({type:"info",title:this.translate.instant("EUROPEAN_COUNTRIES.TITLE"),html:this.translate.instant("EUROPEAN_COUNTRIES.TEXT"),confirmButtonText:this.translate.instant("EUROPEAN_COUNTRIES.BUTTON")});else if(_.message.includes("is invalid. Please enter a valid IBAN."))c().fire({type:"info",title:this.translate.instant("IBAN_S1.Title"),text:this.translate.instant("IBAN_S1.Text"),confirmButtonText:this.translate.instant("IBAN_S1.Button")});else{if(_&&_.message&&(_.message.includes("jwt expired")||_.message.includes("str & salt required")||_.message.includes("Authorization header is missing")||_.message.includes("salt")))return void this.authService.handlerSessionExpired();c().fire({type:"info",title:this.translate.instant("SORRY"),text:_&&_.message?this.translate.instant(_.message.replaceAll("GraphQL error: ","")):_,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}}))})})}else this.readmittedStatus(e)}readmittedStatus(e){console.log("readmittedStatus",e);const a=this.translate.instant(this.candidate.candidate_admission_status),i=this.translate.instant(e);c().fire({title:this.translate.instant("Are you sure?"),html:this.translate.instant("CHANGESTATUS_S1.TEXT",{currentStatus:a,newStatus:i}),type:"warning",showCancelButton:!0,cancelButtonText:this.translate.instant("CHANGESTATUS_S1.BUTTON 2"),confirmButtonText:this.translate.instant("CHANGESTATUS_S1.BUTTON 1")}).then(l=>{l.value&&this.dialog.open(zt,{width:"750px",minHeight:"100px",disableClose:!0,data:{currentStatus:a,newStatus:e,isEdit:!1,currentUser:this.currentUser,candidateId:this.candidate._id}}).afterClosed().subscribe(s=>{s&&(this.isLoading=!0,this.subs.sink=this.admissionService.TransferStudentResignedAfterRegisteredToAdmitted(this.candidateId).subscribe(d=>{d&&(delete s.status_changed_at,this.subs.sink=this.candidateService.CreateCandidateComment(s).subscribe(p=>{p&&c().fire({type:"success",title:this.translate.instant("Bravo"),confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1}).then(u=>{u.value&&(this.isLoading=!1,this.reloadData(!0))})},p=>{this.isLoading=!1,p&&p.message&&(p.message.includes("jwt expired")||p.message.includes("str & salt required")||p.message.includes("Authorization header is missing")||p.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))},d=>{if(this.isLoading=!1,"GraphQL error: There is term that already paid"===d.message)c().fire({type:"info",title:this.translate.instant("TRANSFER_S5.Title"),text:this.translate.instant("TRANSFER_S5.Text"),confirmButtonText:this.translate.instant("TRANSFER_S5.Button 1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1});else if("GraphQL error: There is term still pending"===d.message)c().fire({type:"info",title:this.translate.instant("PAY_SUM_S3.Title"),text:this.translate.instant("PAY_SUM_S3.Text"),confirmButtonText:this.translate.instant("PAY_SUM_S3.Button"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1});else{if(d&&d.message&&(d.message.includes("jwt expired")||d.message.includes("str & salt required")||d.message.includes("Authorization header is missing")||d.message.includes("salt")))return void this.authService.handlerSessionExpired();c().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}}))})})}sendUrgentMail(e){this.studentUrgentMailDialog=this.dialog.open(ke.K,{disableClose:!0,width:"750px",data:e})}changeStatus(e){const a={candidate_admission_status:"registered"===e.candidate_admission_status?"report_inscription":"registered"},i=e.civility&&"neutral"===e.civility?"":this.translate.instant(e.civility),l=e.last_name,r=e.first_name;let s=4;"registered"===e.candidate_admission_status||"financement_validated"===e.candidate_admission_status?(a.candidate_admission_status="report_inscription",c().fire({title:this.translate.instant("INSCRIPTION_REPORT_S1.TITLE"),html:this.translate.instant("INSCRIPTION_REPORT_S1.TEXT",{candidateName:i+" "+r+" "+l}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("INSCRIPTION_REPORT_S1.BUTTON_1",{timer:s}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const d=c().getConfirmButton(),p=setInterval(()=>{s-=1,d.innerText=this.translate.instant("INSCRIPTION_REPORT_S1.BUTTON_1")+` (${s})`},1e3);this.timeOutVal=setTimeout(()=>{d.innerText=this.translate.instant("INSCRIPTION_REPORT_S1.BUTTON_1"),c().enableConfirmButton(),clearInterval(p),clearTimeout(this.timeOutVal)},1e3*s)}}).then(d=>{clearTimeout(this.timeOutVal),d.value&&this.updateToPostPone(e,a)})):c().fire({title:this.translate.instant("INSCRIPTION_REPORT_S2.TITLE"),html:this.translate.instant("INSCRIPTION_REPORT_S2.TEXT",{candidateName:i+" "+r+" "+l}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("INSCRIPTION_REPORT_S2.BUTTON_1",{timer:s}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const d=c().getConfirmButton(),p=setInterval(()=>{s-=1,d.innerText=this.translate.instant("INSCRIPTION_REPORT_S2.BUTTON_1")+` (${s})`},1e3);this.timeOutVal=setTimeout(()=>{d.innerText=this.translate.instant("INSCRIPTION_REPORT_S2.BUTTON_1"),c().enableConfirmButton(),clearInterval(p),clearTimeout(this.timeOutVal)},1e3*s)}}).then(d=>{clearTimeout(this.timeOutVal),d.value&&this.updateToPostPone(e,a)})}updateToPostPone(e,a){this.isLoading=!0,this.subs.sink=this.candidateService.UpdateCandidateStatus(e._id,a).subscribe(i=>{this.isLoading=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S4.BUTTON")}).then(l=>{this.reloadData(!0)})},i=>{if(this.isLoading=!1,"GraphQL error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===i.message||"GraphQL error: Error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===i.message)c().fire({type:"info",title:this.translate.instant("LEGAL_S5.Title"),text:this.translate.instant("LEGAL_S5.Text"),confirmButtonText:this.translate.instant("LEGAL_S5.Button")});else if("GraphQL error: Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"===i.message||i.message.includes("Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"))c().fire({type:"info",title:this.translate.instant("EUROPEAN_COUNTRIES.TITLE"),html:this.translate.instant("EUROPEAN_COUNTRIES.TEXT"),confirmButtonText:this.translate.instant("EUROPEAN_COUNTRIES.BUTTON")});else if(i.message.includes("is invalid. Please enter a valid IBAN."))c().fire({type:"info",title:this.translate.instant("IBAN_S1.Title"),text:this.translate.instant("IBAN_S1.Text"),confirmButtonText:this.translate.instant("IBAN_S1.Button")});else if(i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt")))return void this.authService.handlerSessionExpired();c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}connectAsStudent(e){this.isLoading=!0;const a=this.utilService.getCurrentUser(),i=e&&e.user_id&&e.user_id._id?e.user_id._id:null;a&&i&&"registered"===e.candidate_admission_status?this.subs.sink=this.authService.loginAsUser(a._id,i).subscribe(l=>{if(this.isLoading=!1,l?.user?.student_id?._id){const r=l.user;c().fire({type:"success",title:this.translate.instant("SUCCESS"),html:this.translate.instant("USER_S7_SUPERUSER.TEXT",{UserCivility:this.translate.instant(e.civility),UserFirstName:e.first_name,UserLastName:e.last_name}),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("UNDERSTOOD")}).then(s=>{("5a067bba1c0217218c75f8ab"===r.entities[0].type._id||r.student_id)&&this.authService.connectAsStudent(l,"Student","connect")})}else c().fire({type:"warning",title:this.translate.instant("Student_Not_Registered.TITLE"),html:this.translate.instant("Student_Not_Registered.TEXT",{civility:"neutral"===e.civility?"":`${this.translate.instant(e.civility)} `,firstname:e.first_name,lastname:e.last_name}),confirmButtonText:this.translate.instant("Student_Not_Registered.BUTTON"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})},l=>{this.isLoading=!1,"GraphQL error: you cannot logged in as this user"===l.message&&c().fire({type:"info",title:this.translate.instant("SWAL_CONNECTAS.TITLE"),html:this.translate.instant("SWAL_CONNECTAS.TEXT"),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("SWAL_CONNECTAS.BUTTON")})}):(this.isLoading=!1,c().fire({type:"warning",title:this.translate.instant("Student_Not_Registered.TITLE"),html:this.translate.instant("Student_Not_Registered.TEXT",{civility:"neutral"===e.civility?"":`${this.translate.instant(e.civility)} `,firstname:e.first_name,lastname:e.last_name}),confirmButtonText:this.translate.instant("Student_Not_Registered.BUTTON"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}))}statusStudentMinorManagement(e){return e?.is_adult&&"registered"===e?.candidate_admission_status?"Adult":e?.is_emancipated_minor&&"registered"===e?.candidate_admission_status?"Minor emancipated":"legal_representative"===e?.personal_information&&"registered"===e?.candidate_admission_status?"Minor":"None"}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(mt.o),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(Rt.w),t.\u0275\u0275directiveInject(Xt.f),t.\u0275\u0275directiveInject(L.e),t.\u0275\u0275directiveInject(ot.$),t.\u0275\u0275directiveInject(U.t),t.\u0275\u0275directiveInject(Be.H7),t.\u0275\u0275directiveInject(rt.t),t.\u0275\u0275directiveInject(bt.YI),t.\u0275\u0275directiveInject(Ae.K),t.\u0275\u0275directiveInject(Ne.T))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-candidate-card-details"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(KE,5),t.\u0275\u0275viewQuery(QE,5)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.candidateMatGroup=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.matMenuTrigger=i.first)}},inputs:{candidateId:"candidateId",tab:"tab",subTab:"subTab",candidateUniqueNumber:"candidateUniqueNumber"},outputs:{reload:"reload",loading:"loading"},features:[t.\u0275\u0275ProvidersFeature([U.t]),t.\u0275\u0275NgOnChangesFeature],decls:20,vars:4,consts:[["class","inner-loading-indicator",4,"ngIf"],["class","student-detail p-grid",4,"ngIf"],[3,"selectedIndex","selectedIndexChange"],["candidateMatGroup",""],["label","Student"],["mat-tab-label",""],["matTabContent",""],["label","Identity"],["label","Commentaries"],["label","Mailbox"],["label","Tags",4,"ngIf"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"],[1,"student-detail","p-grid"],[1,"first-section","p-col-5","no-padding"],[1,"p-grid",2,"align-items","center"],[1,"student-photo","icon","p-col-fixed"],[1,"candidate-photo",2,"cursor","pointer","object-fit","cover",3,"src"],[1,"p-col"],[1,"p-grid"],[1,"p-col-12","no-padding"],[1,"student-number","p-col-5"],[1,"name","p-col-7"],[1,"student-status","p-col-12"],[4,"ngIf"],["mat-icon-button","","class","margin-right-button mr-left",3,"ngClass","matTooltip","click",4,"ngIf"],[1,"financial-support","p-col-12"],["aria-hidden","true",1,"mat-icon-status",3,"ngClass"],[1,"label"],[1,"financial-situation","p-col-12"],["aria-hidden","true",1,"mat-icon-status","icon",3,"ngClass"],[1,"second-section","p-col-4","no-padding"],[1,"school-email","p-col-12"],[1,"student-email","p-col-12"],[1,"phone","p-col-12"],[1,"actions","p-col-12",2,"text-align","center"],["mat-icon-button","",1,"margin-right-button",3,"matTooltip","click"],["mat-icon-button","","svgIcon","incognito",1,"material-icons","icon",2,"font-size","18px"],[1,"material-icons","icon",2,"font-size","18px"],[1,"material-icons","icon"],[1,"third-section","p-col-3"],[1,"p-grid-"],[1,"program","p-col-12"],[1,"personal-situation","p-col-12"],[1,"restrictive-condition","p-col-12"],["class","add-btn status status-minor-student","mat-button","",4,"ngIf"],["mat-button","",1,"add-btn","status"],["admissionStatus","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-button","",1,"add-btn","status","status-minor-student"],["mat-menu-item","",3,"click"],["mat-icon-button","",1,"margin-right-button","mr-left",3,"ngClass","matTooltip","click"],["viewBox","0 0 24 24"],["fill","currentColor","d","M13 7V9H15V17H17V7H13M11 13H9V15H7V13H5V11H7V9H9V11H11V13Z"],[3,"countryCodeList","scholarSeasons","showFinancement","subTab","loadingData","reloadData","reloadDataDetail"],[3,"countryCodeList","candidateId","reloadData"],[3,"candidateId","studentId","userData","loadingData"],[3,"candidateId","userData","loadingData","reload"],["label","Tags"],[3,"candidateId","reload"]],template:function(e,a){1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-card"),t.\u0275\u0275template(2,XE,2,1,"div",0),t.\u0275\u0275template(3,sI,79,68,"div",1),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerStart(4),t.\u0275\u0275elementStart(5,"mat-tab-group",2,3),t.\u0275\u0275listener("selectedIndexChange",function(l){return a.selectedIndex=l}),t.\u0275\u0275elementStart(7,"mat-tab",4),t.\u0275\u0275template(8,cI,3,3,"ng-template",5),t.\u0275\u0275template(9,dI,1,4,"ng-template",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"mat-tab",7),t.\u0275\u0275template(11,pI,3,3,"ng-template",5),t.\u0275\u0275template(12,mI,1,2,"ng-template",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"mat-tab",8),t.\u0275\u0275template(14,_I,3,3,"ng-template",5),t.\u0275\u0275template(15,uI,1,3,"ng-template",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"mat-tab",9),t.\u0275\u0275template(17,gI,3,3,"ng-template",5),t.\u0275\u0275template(18,hI,1,2,"ng-template",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(19,CI,3,0,"mat-tab",10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()()),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.candidate&&!a.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275property("selectedIndex",a.selectedIndex),t.\u0275\u0275advance(14),t.\u0275\u0275property("ngIf",a.permissionService.studentCardTagShowPerm()))},dependencies:[f.mk,f.sg,f.O5,I.lW,ft.a8,k.Hw,ut.VK,ut.OP,D.Ou,X.SP,X.uD,X.uX,X.Vc,G.gM,H.oO,hn,C2,G2,UE,qE,f.gd,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]  .mat-card{border:1px solid #607C8A;min-height:209px}[_nghost-%COMP%]  .mat-tab-group{margin-top:1rem}[_nghost-%COMP%]  .mat-tab-group .mat-tab-header{font-size:.9em}[_nghost-%COMP%]  .mat-tab-group .mat-tab-label h4{font-size:13px}[_nghost-%COMP%]  .mat-tab-group .mat-tab-label-active{box-shadow:unset;border:unset}[_nghost-%COMP%]  .mat-tab-group .mat-card{margin-top:5%}img[_ngcontent-%COMP%]{height:120px}.student-detail[_ngcontent-%COMP%]{font-size:.8rem}.student-detail[_ngcontent-%COMP%]   .student-photo[_ngcontent-%COMP%]{width:120px!important;vertical-align:middle}.student-detail[_ngcontent-%COMP%]   .first-section[_ngcontent-%COMP%], .student-detail[_ngcontent-%COMP%]   .second-section[_ngcontent-%COMP%]{border-right:solid}button.margin-right-button.mat-icon-button[_ngcontent-%COMP%]{background:#607d8b;font-size:10px}.yellow[_ngcontent-%COMP%]{color:#ffd740}.orange[_ngcontent-%COMP%]{color:#f49f36}.blue[_ngcontent-%COMP%]{color:#36ebf4}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.magenta[_ngcontent-%COMP%]{color:#f0f}.black[_ngcontent-%COMP%]{color:#000}.cyan[_ngcontent-%COMP%]{color:#0ff}.green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#adff2f}.red-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#ff4040}.candidate-photo[_ngcontent-%COMP%]{border-radius:50%;min-width:120px;max-width:120px;min-height:120px;max-height:120px}[_nghost-%COMP%]     .add-btn{background:#fdd835;width:11rem;padding:0;line-height:30px!important}[_nghost-%COMP%]     .mat-menu-panel{min-height:unset!important}  .mat-menu-panel{min-height:unset!important}.mat-menu-panel[_ngcontent-%COMP%]{min-height:unset!important}[_nghost-%COMP%]     .mat-menu-content:not(:empty){padding-top:0!important;padding-bottom:0!important}.admission-button[_ngcontent-%COMP%]{background:#4aa744!important}.mr-left[_ngcontent-%COMP%]{margin-left:5px}.mat-icon-status[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:middle;padding-right:0;width:14px}.status[_ngcontent-%COMP%]{font-size:12px;color:#000;font-weight:900;cursor:pointer;width:auto!important;padding-left:10px!important;padding-right:10px!important;margin-bottom:.3rem}.status-minor-student[_ngcontent-%COMP%]{margin-right:.4rem}.status-disabled[_ngcontent-%COMP%]{font-size:12px;color:#26abeb;font-weight:900}"]}),n})();function yI(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",21),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(e.scholar_season)}}function vI(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",21),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(e.short_name)}}function TI(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",21),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",null==e?null:e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(e.name)}}function MI(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-option",21),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("value",null==e?null:e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(e.name)}}function SI(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-candidate-card-details",22),t.\u0275\u0275listener("reload",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.reload(i))})("loading",function(i){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.loadingCommentTab(i))}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("tab",e.tab)("subTab",e.subTab)("candidateId",e.currSelectedCandidateId)("candidateUniqueNumber",e.candidateUniqueNumber)}}function OI(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",23),t.\u0275\u0275element(1,"mat-progress-spinner",24),t.\u0275\u0275elementEnd())}const PI=function(n){return{"toggle-card-list":n}},wI=function(n){return{"hide-paginator":n}},DI=function(n){return{"hide-pagination-buttons":n}},EI=function(){return[10]},FI=[{path:"",component:(()=>{class n{constructor(e,a,i,l,r,s){this.route=e,this.pageTitleService=a,this.translate=i,this.candidatesService=l,this.coreService=r,this.userService=s,this.isWaitingForResponse=!0,this.selectedMentor=null,this.toggleCardList=!1,this.selectedAdmissionMember=null,this.admissionMemberList=[],this.dataCount=0,this.mentorList=[],this.campusList=[],this.schoolsList=[],this.levelList=[],this.listObjective=[],this.levels=[],this.school=[],this.scholars=[],this.scholarSelected=[],this.intakeChannelList=[],this.admissionMemberFilter=new m.UntypedFormControl(""),this.mentorFilter=new m.UntypedFormControl(""),this.scholarFilter=new m.UntypedFormControl(null),this.campusFilter=new m.UntypedFormControl(null),this.schoolFilter=new m.UntypedFormControl(null),this.levelFilter=new m.UntypedFormControl(null),this.candidateFilter=new m.UntypedFormControl(""),this.intakeChannelFilter=new m.UntypedFormControl(""),this.searchByNameFilter=new m.UntypedFormControl(""),this.myInnerHeight=1920,this.currSelectedCandidateId="",this.candidateIdParam="",this.candidateIdFromTable="",this.candidatesList=[],this.tab="",this.subTab="",this.tabs={"note-tab":"Add a Note","history-tab":"Candidate history","edit-tab":"Modifications","evolution-tab":"Evolution"},this.filteredValues={candidate_admission_statuses:["admission_in_progress","report_inscription","engaged","registered","resigned","resigned_after_engaged","resigned_after_registered","bill_validated","financement_validated","mission_card_validated","in_scholarship","resignation_missing_prerequisites","no_show","resign_after_school_begins"],candidate:null,intake_channel:null,student_mentor:null,admission_member:null,scholar_season:null,school_ids:null,campus_ids:null,level_ids:null,readmission_status:"all_candidates"},this.isReset=!1,this.sortValue=null,this.subs=new w.Y,this.maleCandidateIcon="../../../../../assets/img/student_icon.png",this.femaleCandidateIcon="../../../../../assets/img/student_icon_fem.png",this.neutralStudentIcon="../../../../../assets/img/student_icon_neutral.png",this.userProfilePic="../../../../../assets/img/user-1.jpg",this.userProfilePic1="../../../../../assets/img/user-3.jpg",this.userProfilePic2="../../../../../assets/img/user-5.jpg",this.greenHeartIcon="../../../../../assets/img/enagement_icon_green.png",this.selectedCandidateName="",this.isFirstLoad=!0,this.superFilterData={candidate:null,scholar_season:null,school_ids:null,campus_ids:null,level_ids:null}}ngOnInit(){this.currentUser=this.userService.getLocalStorageUser(),this.isPermission=this.userService.getPermission();const e=this.currentUser?.entities?.find(a=>a?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id,this.getDataScholarSeasons(),this.pageTitleService.setTitle(this.translate.instant("Student Card Student")),this.coreService.sidenavOpen=!1,this.initFilter(),this.route.queryParams.subscribe(a=>{this.candidateIdParam=a?.selectedCandidate,this.candidateIdFromTable=a?.selectedCandidate;const i=a.sortValue?JSON.parse(a.sortValue):null;if(i&&"object"==typeof i&&Object.keys(i)?.length){const l={};Object.keys(i).forEach(r=>{"candidate"===r||"full_name"===r?l.full_name=i[r]:"candidate_unique_number"===r?l.candidate_unique_number=i[r]:"type_formation"===r||"type_of_formation"===r?l.type_of_formation=i[r]:("nationality"===r||"email"===r||"intake_channel"===r||"student_number"===r||"initial_intake_channel"===r||"type_of_registration"===r||"current_program"===r||"student_status"===r||"financial_situation"===r||"registration_date"===r||"assignment_sequence"===r||"current_sequence"===r||"type_of_sequence"===r||"student_class"===r)&&(l[r]=i[r])}),this.sortValue=0!==Object.keys(l)?.length?l:null}if(this.candidateIdParam?this.getOneCandidateCard():this.getCandidatesData(),a.candidate_name||a.candidateName){let l;a.candidate_name&&(l=a.candidate_name),a.candidateName&&(l=a.candidateName),this.candidateFilter.patchValue(l),this.selectedCandidateName=l}this.tab=a.tab,this.subTab=a.subTab})}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,$.O)(null),(0,et.b)(()=>{this.isReset||this.getCandidatesData()})).subscribe()}ngOnDestroy(){this.subs.unsubscribe()}getAutomaticHeight(){return this.myInnerHeight=window.innerHeight-231,this.myInnerHeight}getCardHeight(){return this.myInnerHeight=window.innerHeight-263,this.myInnerHeight}initFilter(){this.subs.sink=this.schoolFilter.valueChanges.subscribe(e=>{console.log("statusSearch",e),this.filteredValues.level_ids="",this.filteredValues.campus_ids="",this.filteredValues.school_ids=""===e?"":e,this.superFilterData.school_ids=""===e?"":e,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData()}),this.subs.sink=this.campusFilter.valueChanges.subscribe(e=>{this.filteredValues.level_ids="",this.filteredValues.campus_ids=""===e?"":e,this.superFilterData.campus_ids=""===e?"":e,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData()}),this.subs.sink=this.levelFilter.valueChanges.subscribe(e=>{this.filteredValues.level_ids=""===e?"":e,this.superFilterData.level_ids=""===e?"":e,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData()}),this.subs.sink=this.candidateFilter.valueChanges.pipe((0,A.b)(400)).subscribe(e=>{""!==this.selectedCandidateName?(this.filteredValues.candidate=this.selectedCandidateName,this.superFilterData.candidate=this.selectedCandidateName,setTimeout(()=>{this.getCandidatesData(),this.selectedCandidateName=""},500)):""===e?(this.filteredValues.candidate="",this.superFilterData.candidate="",this.getCandidatesData()):(this.filteredValues.candidate="All"===e?"":e,this.superFilterData.candidate="All"===e?"":e,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData())}),this.subs.sink=this.scholarFilter.valueChanges.subscribe(e=>{this.filteredValues.level_ids="",this.filteredValues.campus_ids="",this.filteredValues.school_ids="",this.filteredValues.scholar_season=""===e?"":e,this.superFilterData.scholar_season=""===e?"":e,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData()})}getOneCandidateCard(){this.isWaitingForResponse=!0,this.subs.sink=this.candidatesService.getOneCandidateCard(this.candidateIdParam).subscribe(e=>{if(e?._id){if(this.candidateIdParam===this.candidateIdFromTable&&(this.backupStudentParam=h.cloneDeep(e)),this.getDataStudent(e),this.isFirstLoad){const a=h.cloneDeep(e);this.candidateUniqueNumber=a?.candidate_unique_number?a?.candidate_unique_number:null,a.studentId=a?.student_id?._id?a?.student_id?._id:null,a.candidateName=a?.first_name?.toLowerCase()+" "+a?.last_name?.toLowerCase(),this.tempDataParam=h.cloneDeep(a)}else this.isFirstLoad=!1;this.isFirstLoad=!1}},e=>{this.isWaitingForResponse=!1})}getDataStudent(e){this.isWaitingForResponse=!0;const a=[],i={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},l=this.cleanFilterDataAllStudents(),r=this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[],s=e?.student_id?._id?e.student_id?._id:null;let d,p;e&&(e.studentId=s,e.candidateName=e?.first_name?.toLowerCase()+" "+e?.last_name?.toLowerCase()),this.candidatesList=[],s?.length&&a.push(this.candidatesService.getAllStudentCardIdentity(i,this.sortValue,l,s)),a.push(this.candidatesService.getAllStudentCard(i,this.sortValue,l,r,null)),this.subs.sink=(0,q.D)(a).subscribe(u=>{if(u&&u.length){let _=0;if(u[_]&&0===_&&s?.length>0?(d=h.cloneDeep(u[_]),_++):!d?.length&&e&&(d=[],e.candidate_id=e,d.push(e)),u[_]&&(1===_||0===_&&!s?.length)){p=h.cloneDeep(u[_]),d?.length&&p.unshift(d[0]);const F=h.cloneDeep(p).map(j=>({...j.candidate_id,studentId:j._id,candidateName:j?.first_name?.toLowerCase()+" "+j?.last_name?.toLowerCase(),count_document:j?.count_document}));if(this.candidatesList=h.cloneDeep(F),this.candidateFilter.value||this.filteredValues?.candidate)this.currSelectedCandidateId=this.candidatesList[0]?._id,this.candidateUniqueNumber=this.candidatesList[0]?.candidate_unique_number;else if(e?._id){this.currSelectedCandidateId=this.candidateIdParam?this.candidateIdParam:this.candidatesList[0]?._id;const j=this.candidatesList.filter(R=>e?.candidate_unique_number===R?.candidate_unique_number);this.candidateUniqueNumber=j[0]?.candidate_unique_number}this.candidatesList=h.uniqBy(this.candidatesList,"_id"),this.candidatesList=h.uniqBy(this.candidatesList,"candidateName"),this.dataCount=this.candidatesList&&this.candidatesList.length>1&&this.candidatesList[1].count_document?1===this.candidatesList.length&&this.candidatesList[0].count_document?this.candidatesList[0].count_document:this.candidatesList[1].count_document:0,this.paginator.length=this.dataCount;const v=F.filter(j=>this.currSelectedCandidateId===j._id),B=F.filter(j=>j.student_mentor_id).map(j=>j.student_mentor_id),x=F.filter(j=>j.admission_member_id).map(j=>j.admission_member_id);this.mentorList=h.uniqBy(B,"_id"),this.admissionMemberList=h.uniqBy(x,"_id"),this.currSelectedCandidate=v[0],_++}this.isWaitingForResponse=!1,this.isReset=!1}else this.candidatesList=[],this.paginator.length=0,this.isWaitingForResponse=!1,this.isReset=!1},u=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(u),c().fire({type:"info",title:this.translate.instant("SORRY"),text:u&&u.message?this.translate.instant(u.message.replaceAll("GraphQL error: ","")):u,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCandidatesData(e){this.isWaitingForResponse=!0;const a={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},i=this.cleanFilterDataAllStudents(),l=this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[],r=e?.student_id?._id?e.student_id?._id:null;e&&(e.studentId=r,e.candidateName=e?.first_name?.toLowerCase()+" "+e?.last_name?.toLowerCase()),this.candidatesList=[],this.subs.sink=this.candidatesService.getAllStudentCard(a,this.sortValue,i,l,r).subscribe(s=>{if(s?.length){const p=h.cloneDeep(s).map(v=>({...v.candidate_id,studentId:v._id,candidateName:v?.first_name?.toLowerCase()+" "+v?.last_name?.toLowerCase(),count_document:v?.count_document}));this.candidatesList=h.cloneDeep(p),(this.candidateFilter.value||this.filteredValues?.candidate)&&(this.currSelectedCandidateId=this.candidatesList[0]?._id,this.candidateUniqueNumber=this.candidatesList[0]?.candidate_unique_number),this.candidatesList=h.uniqBy(this.candidatesList,"_id"),this.candidatesList=h.uniqBy(this.candidatesList,"candidateName"),this.dataCount=this.candidatesList&&this.candidatesList.length>1&&this.candidatesList[1].count_document?1===this.candidatesList.length&&this.candidatesList[0].count_document?this.candidatesList[0].count_document:this.candidatesList[1].count_document:0,this.paginator.length=this.dataCount;const u=p.filter(v=>this.currSelectedCandidateId===v._id),_=p.filter(v=>v.student_mentor_id).map(v=>v.student_mentor_id),O=p.filter(v=>v.admission_member_id).map(v=>v.admission_member_id);this.mentorList=h.uniqBy(_,"_id"),this.admissionMemberList=h.uniqBy(O,"_id");const F=!!Object.keys(this.superFilterData).filter(v=>this.superFilterData[v]).length;if(this.backupStudentParam&&0===this.paginator?.pageIndex&&!F){const v=h.cloneDeep(this.backupStudentParam);v.studentId=v?.student_id?._id?v?.student_id?._id:null,v.candidateName=v?.first_name?.toLowerCase()+" "+v?.last_name?.toLowerCase(),this.backupStudentParam=v,p.unshift(this.backupStudentParam),this.candidatesList=p;const B=p.filter(x=>this.currSelectedCandidateId===x._id);this.currSelectedCandidateId===this.candidateIdParam&&(this.currSelectedCandidate=B[0])}else this.currSelectedCandidate=u[0];this.paginator?.pageIndex>0&&(this.candidatesList=this.candidatesList.filter(v=>v?._id!==this.candidateIdFromTable)),this.candidatesList=h.uniqBy(this.candidatesList,"_id")}else this.candidatesList=[],this.paginator.length=0;this.isReset=!1,this.isWaitingForResponse=!1},s=>{this.isWaitingForResponse=!1,this.candidatesList=[],this.paginator.length=0,this.isReset=!1,s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}cleanFilterDataAllStudents(){const e=h.cloneDeep(this.filteredValues);return Object.keys(e).forEach(a=>{(!e[a]&&!1!==e[a]||Array.isArray(e[a])&&!e[a]?.length)&&delete e[a]}),e}cleanFilterData(){const e=h.cloneDeep(this.filteredValues);let i,l,r,a="";return Object.keys(e).forEach(s=>{(e[s]||!1===e[s])&&("candidate"===s||"nationality"===s||"intake_channel"===s||"admission_member"===s||"student_mentor"===s||"telephone"===s||"email"===s||"registration_profile"===s||"scholar_season"===s||"type_of_formation_name"===s||"candidate_unique_number"===s||"registration_email_due_date"===s?a+=` ${s}:"${e[s]}"`:"candidate_admission_statuses"===s?a+=` ${s}:[${e[s]}]`:"school"===s?(i=e.school.map(d=>'"'+d+'"'),a+=` schools:[${i}]`):"level"===s?(l=e.level.map(d=>'"'+d+'"'),a+=` candidate_levels:[${l}]`):"campus"===s?(r=e.campus.map(d=>'"'+d+'"'),a+=` candidate_campuses:[${r}]`):a+=` ${s}:${e[s]}`)}),"filter: {"+a+"}"}selectMentor(e){const a=this.mentorList.filter(i=>i._id===e);this.selectedMentor=a.length?a[0]:null}setIntakeSelected(e){this.filteredValues.intake_channel&&this.filteredValues.intake_channel!==e&&(this.intakeChannelFilteredList=(0,Y.of)(this.intakeChannelList)),this.filteredValues.intake_channel=e,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData()}selectAdmissionMember(e){console.log(e);const a=this.admissionMemberList.filter(i=>i._id===e);this.selectedAdmissionMember=a.length?a[0]:null}filterAdmissionMember(e){return this.admissionMemberList.filter(a=>RegExp(`^${e}.*`,"ig").test(a.last_name))}filterMentor(e){return this.mentorList.filter(a=>RegExp(`^${e}.*`,"ig").test(a.last_name))}filterCampus(e){return this.campusList.filter(a=>RegExp(`^${e}.*`,"ig").test(a))}filterSchool(e){return this.schoolsList.filter(a=>RegExp(`^${e}.*`,"ig").test(a))}filterIntakeChannel(e){return this.intakeChannelList.filter(a=>RegExp(`^${e}.*`,"ig").test(a))}updatedSelectedCandidate(e){this.currSelectedCandidateId=e?._id,this.candidateIdParam=e?._id;const a=this.candidatesList.filter(l=>e?._id===l._id);this.currSelectedCandidate=a[0];const i=this.candidatesList.filter(l=>e?.candidate_unique_number===l?.candidate_unique_number);this.candidateUniqueNumber=i[0]?.candidate_unique_number}resetCandidateFile(){this.isReset=!0,this.paginator.pageIndex=0,this.school=[],this.levels=[],this.campusList=[],this.filteredValues={candidate_admission_statuses:["admission_in_progress","engaged","registered","resigned","resigned_after_engaged","resigned_after_registered","bill_validated","financement_validated","mission_card_validated","in_scholarship","resignation_missing_prerequisites","no_show","resign_after_school_begins"],candidate:"",intake_channel:"",student_mentor:"",admission_member:"",scholar_season:null,school_ids:null,campus_ids:null,level_ids:null,readmission_status:"all_candidates"},this.candidateFilter.setValue("",{emitEvent:!1}),this.scholarFilter.setValue(null,{emitEvent:!1}),this.schoolFilter.setValue(null,{emitEvent:!1}),this.campusFilter.setValue(null,{emitEvent:!1}),this.levelFilter.setValue(null,{emitEvent:!1}),this.sortValue=null,this.candidateIdParam=this.candidateIdFromTable,this.currSelectedCandidateId?this.getOneCandidateCard():this.getCandidatesData(),this.selectedCandidateName=""}reload(e){e&&this.getOneStudentSelected()}getOneStudentSelected(){this.isWaitingForResponse=!0,this.subs.sink=this.candidatesService.getOneCandidateCard(this.candidateIdFromTable).subscribe(e=>{if(e?._id){if(this.candidateIdParam===this.candidateIdFromTable&&(this.backupStudentParam=h.cloneDeep(e)),this.getDataStudentSelected(e),this.isFirstLoad){const a=h.cloneDeep(e);a.studentId=a?.student_id?._id?a?.student_id?._id:null,a.candidateName=a?.first_name?.toLowerCase()+" "+a?.last_name?.toLowerCase(),this.tempDataParam=h.cloneDeep(a)}else this.isFirstLoad=!1;this.isFirstLoad=!1}},e=>{this.isWaitingForResponse=!1})}getDataStudentSelected(e){this.isWaitingForResponse=!0;const a=[],i={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},l=this.cleanFilterDataAllStudents(),r=this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[],s=e?.student_id?._id?e.student_id?._id:null;let d,p;e&&(e.studentId=s,e.candidateName=e?.first_name?.toLowerCase()+" "+e?.last_name?.toLowerCase()),s?.length&&a.push(this.candidatesService.getAllStudentCardIdentity(i,this.sortValue,l,s)),a.push(this.candidatesService.getAllStudentCard(i,this.sortValue,l,r,null)),this.candidatesList=[],this.subs.sink=(0,q.D)(a).subscribe(u=>{if(console.log("_ini resp",u),u&&u.length){let _=0;if(u[_]&&0===_&&s?.length>0?(d=h.cloneDeep(u[_]),_++):!d?.length&&e&&(d=[],e.candidate_id=e,d.push(e)),u[_]&&(1===_||0===_&&!s?.length)){p=h.cloneDeep(u[_]),d?.length&&p.unshift(d[0]);const v=h.cloneDeep(p).map(B=>({...B.candidate_id,studentId:B._id,candidateName:B?.first_name?.toLowerCase()+" "+B?.last_name?.toLowerCase(),count_document:B?.count_document})).filter(B=>B?._id===this.currSelectedCandidateId);v?.length?this.getCandidatesDataReload(v[0]):0===this.paginator?.pageSize&&this.backupStudentParam?this.getCandidatesDataReload(this.backupStudentParam):this.getCandidatesDataReload()}this.isWaitingForResponse=!1,this.isReset=!1}else this.candidatesList=[],this.paginator.length=0,this.isWaitingForResponse=!1,this.isReset=!1},u=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(u),c().fire({type:"info",title:this.translate.instant("SORRY"),text:u&&u.message?this.translate.instant(u.message.replaceAll("GraphQL error: ","")):u,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCandidatesDataReload(e){this.isWaitingForResponse=!0;const a={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},i=this.cleanFilterDataAllStudents(),l=this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[];e&&(e.studentId=null,e.candidateName=e?.first_name?.toLowerCase()+" "+e?.last_name?.toLowerCase()),this.candidatesList=[],this.subs.sink=this.candidatesService.getAllStudentCard(a,this.sortValue,i,l,null).subscribe(s=>{if(s?.length){const p=h.cloneDeep(s).map(v=>({...v.candidate_id,studentId:v._id,candidateName:v?.first_name?.toLowerCase()+" "+v?.last_name?.toLowerCase(),count_document:v?.count_document}));if(this.candidatesList=h.cloneDeep(p),(this.candidateFilter.value||this.filteredValues?.candidate)&&(this.currSelectedCandidateId=this.candidatesList[0]?._id,this.candidateUniqueNumber=this.candidatesList[0]?.candidate_unique_number),this.candidatesList=h.uniqBy(this.candidatesList,"_id"),this.candidatesList=h.uniqBy(this.candidatesList,"candidateName"),this.dataCount=this.candidatesList&&this.candidatesList.length>1&&this.candidatesList[1].count_document?1===this.candidatesList.length&&this.candidatesList[0].count_document?this.candidatesList[0].count_document:this.candidatesList[1].count_document:0,this.paginator.length=this.dataCount,e){const v=this.candidatesList.find(B=>B?.candidate_unique_number===e?.candidate_unique_number);v?this.candidatesList=this.candidatesList.map(B=>(B?.candidate_unique_number===e?.candidate_unique_number&&(this.currSelectedCandidateId=(B=e)._id,this.candidateUniqueNumber=B?.candidate_unique_number),B)):this.candidatesList.unshift(e),console.log(v)}console.log(this.currSelectedCandidateId),console.log(this.candidatesList);const u=p.filter(v=>this.currSelectedCandidateId===v._id),_=p.filter(v=>v.student_mentor_id).map(v=>v.student_mentor_id),O=p.filter(v=>v.admission_member_id).map(v=>v.admission_member_id);this.mentorList=h.uniqBy(_,"_id"),this.admissionMemberList=h.uniqBy(O,"_id");const F=!!Object.keys(this.superFilterData).filter(v=>this.superFilterData[v]).length;if(this.backupStudentParam&&0===this.paginator?.pageIndex&&!F){const v=h.cloneDeep(this.backupStudentParam);v.studentId=v?.student_id?._id?v?.student_id?._id:null,v.candidateName=v?.first_name?.toLowerCase()+" "+v?.last_name?.toLowerCase(),this.backupStudentParam=v,p.unshift(this.backupStudentParam),this.candidatesList=p;const B=p.filter(x=>this.currSelectedCandidateId===x._id);this.currSelectedCandidateId===this.candidateIdFromTable&&(this.currSelectedCandidate=B[0])}else this.currSelectedCandidate=u[0];this.paginator?.pageIndex>0&&(this.candidatesList=this.candidatesList.filter(v=>v?._id!==this.candidateIdFromTable)),this.candidatesList=h.uniqBy(this.candidatesList,"_id")}else this.candidatesList=[],this.paginator.length=0;this.isReset=!1,this.isWaitingForResponse=!1},s=>{this.isWaitingForResponse=!1,this.candidatesList=[],this.paginator.length=0,this.isReset=!1,s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}loadingCommentTab(e){this.isWaitingForResponse=e}getDataScholarSeasons(){this.subs.sink=this.candidatesService.GetAllScholarSeasonsPublished().subscribe(e=>{e&&e.length&&(this.scholars=e)},e=>{e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDataForList(e){const a=e||"";this.subs.sink=this.candidatesService.GetAllSchoolFilter(a,`filter: { scholar_season_id:"${a}"}`,this.currentUserTypeId).subscribe(l=>{l&&(console.log("Data Import => ",l),this.listObjective=l,this.school=this.listObjective,this.getDataCampus())},l=>{l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.userService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}scholarSelect(){this.school=[],this.levels=[],this.campusList=[],this.schoolFilter.value&&this.schoolFilter.setValue(null),this.campusFilter.value&&this.campusFilter.setValue(null),this.levelFilter.value&&this.levelFilter.setValue(null),this.scholarFilter.value&&0!==this.scholarFilter.value.length?(this.filteredValues.scholar_season=this.scholarFilter.value,this.scholarSelected=this.scholarFilter.value,this.getDataForList(this.scholarFilter.value),this.getCandidatesData()):(this.filteredValues.scholar_season="",this.scholarSelected=[])}getDataCampus(){if(console.log("school selected ",this.schoolFilter.value),this.levels=[],this.campusList=[],this.campusFilter.value&&this.campusFilter.setValue(null),this.levelFilter.value&&this.levelFilter.setValue(null),this.schoolFilter.value){const e=this.schoolFilter.value,a=this.listObjective.filter(i=>e.includes(i._id));a.filter((i,l)=>{i.campuses&&i.campuses.length&&i.campuses.filter((r,s)=>{this.campusList.push(r)})}),console.log("scampusList",a,e,this.listObjective),this.getDataLevel()}else this.campusList=[],this.getDataLevel();this.campusList=h.uniqBy(this.campusList,"name")}getDataLevel(){this.levels=[],this.levelFilter.value&&this.levelFilter.setValue(null);const e=this.campusFilter.value;this.campusFilter.value?this.campusList.filter(i=>e.includes(i?._id)).forEach(i=>{i&&i.levels&&i.levels.length&&i.levels.forEach(l=>{this.levels.push(l)})}):this.levels=[],this.levels?.length&&(this.levels=h.uniqBy(this.levels,"name"),this.levels=this.levels.sort((a,i)=>a.name.localeCompare(i.name)))}getDataByLevel(){this.levels?.length&&(this.levels=h.uniqBy(this.levels,"name"),this.levels=this.levels.sort((e,a)=>e.name.localeCompare(a.name)))}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(tt.gz),t.\u0275\u0275directiveInject(nt.Z),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(mt.o),t.\u0275\u0275directiveInject(xt.p),t.\u0275\u0275directiveInject(L.e))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-candidate-file"]],viewQuery:function(e,a){if(1&e&&t.\u0275\u0275viewQuery(E.NW,7),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.paginator=i.first)}},decls:53,vars:59,consts:[[1,"main-candidate-file"],["fxLayout","row wrap","fxLayoutAlign","start start",1,"header-filter","list-horizontal"],[1,"p-col-fixed","no-padding",2,"width","180px","float","left","padding-right","15px !important"],["appearance","legacy",2,"width","165px"],["panelClass","filterPanel custom-matselect-dropdown",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["multiple","","panelClass","filterPanel custom-matselect-dropdown",3,"formControl","selectionChange"],[2,"width","165px"],["type","text","matInput","",3,"placeholder","formControl"],["mat-raised-button","","color","primary",2,"margin-top","10px","margin-left","10px",3,"matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-raised-button","","color","primary",1,"user-list-toggle",3,"click"],[1,"p-grid",2,"padding-top","10px"],[1,"p-col-4","left-side",3,"ngClass"],[3,"candidatesList","selectedCandidateId","isWaitingForResponse","selectedCandidateChange"],[1,"p-grid","display-block",2,"margin-top","14px !important",3,"ngClass"],[1,"p-col-12","pad-x-none"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],[1,"p-col","right-side",2,"width","40%"],[3,"tab","subTab","candidateId","candidateUniqueNumber","reload","loading",4,"ngIf"],["class","loading-indicator",4,"ngIf"],[3,"value"],[3,"tab","subTab","candidateId","candidateUniqueNumber","reload","loading"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,a){1&e&&(t.\u0275\u0275elementContainerStart(0,0)(1),t.\u0275\u0275elementStart(2,"div",1)(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"mat-select",4),t.\u0275\u0275listener("selectionChange",function(){return a.scholarSelect()}),t.\u0275\u0275template(9,yI,2,2,"mat-option",5),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(10,"div",2)(11,"mat-form-field",3)(12,"mat-label"),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"mat-select",6),t.\u0275\u0275listener("selectionChange",function(){return a.getDataCampus()}),t.\u0275\u0275template(16,vI,2,2,"mat-option",5),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(17,"div",2)(18,"mat-form-field",3)(19,"mat-label"),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"mat-select",6),t.\u0275\u0275listener("selectionChange",function(){return a.getDataLevel()}),t.\u0275\u0275template(23,TI,2,2,"mat-option",5),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(24,"div",2)(25,"mat-form-field",3)(26,"mat-label"),t.\u0275\u0275text(27),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(29,"mat-select",6),t.\u0275\u0275listener("selectionChange",function(){return a.getDataByLevel()}),t.\u0275\u0275template(30,MI,2,2,"mat-option",5),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(31,"mat-form-field",7),t.\u0275\u0275element(32,"input",8),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(34,"button",9),t.\u0275\u0275listener("click",function(){return a.resetCandidateFile()}),t.\u0275\u0275pipe(35,"translate"),t.\u0275\u0275elementStart(36,"mat-icon",10),t.\u0275\u0275text(37,"loop"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(38),t.\u0275\u0275pipe(39,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementStart(40,"button",11),t.\u0275\u0275listener("click",function(){return a.toggleCardList=!a.toggleCardList}),t.\u0275\u0275text(41),t.\u0275\u0275pipe(42,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerStart(43),t.\u0275\u0275elementStart(44,"div",12)(45,"div",13)(46,"ms-candidate-card-list",14),t.\u0275\u0275listener("selectedCandidateChange",function(l){return a.updatedSelectedCandidate(l)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(47,"div",15)(48,"div",16),t.\u0275\u0275element(49,"mat-paginator",17),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(50,"div",18),t.\u0275\u0275template(51,SI,1,4,"ms-candidate-card-details",19),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()(),t.\u0275\u0275template(52,OI,2,0,"div",20)),2&e&&(t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,36,"CARDDETAIL.Scholar Season")),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",a.scholarFilter),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.scholars),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(14,38,"ADMISSION.TABLE_ADMISSION_CHANNEL.School")),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",a.schoolFilter),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.school),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(21,40,"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus")),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",a.campusFilter),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.campusList),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(28,42,"ADMISSION.TABLE_ADMISSION_CHANNEL.Level")),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",a.levelFilter),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.levels),t.\u0275\u0275advance(2),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(33,44,"Student Name"))("formControl",a.candidateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(35,46,"Reset Filter")," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(39,48,"Reset")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(42,50,a.toggleCardList?"Expand":"Hide")," "),t.\u0275\u0275advance(3),t.\u0275\u0275styleProp("height",a.getAutomaticHeight(),"px")("max-height",a.getAutomaticHeight(),"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(52,PI,a.toggleCardList)),t.\u0275\u0275advance(1),t.\u0275\u0275property("candidatesList",a.candidatesList)("selectedCandidateId",a.currSelectedCandidateId)("isWaitingForResponse",a.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(54,wI,a.toggleCardList)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(56,DI,a.dataCount<=6))("length",a.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(58,EI)),t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("height",a.getAutomaticHeight(),"px")("max-height",a.getAutomaticHeight(),"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.currSelectedCandidateId),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isWaitingForResponse))},dependencies:[f.mk,f.sg,f.O5,Q.ey,I.lW,k.Hw,S.KE,S.hX,z.Nt,E.NW,D.Ou,it.gD,G.gM,m.DefaultValueAccessor,m.NgControlStatus,m.FormControlDirective,at.xw,at.Wh,H.oO,Ie,xI,M.X$],styles:["[_nghost-%COMP%]  .list-horizontal{padding:0;flex-wrap:nowrap!important;margin-left:1.5em!important}[_nghost-%COMP%]  .list-horizontal>div{display:inline-block;height:auto;width:10em;min-width:9em;margin-right:10px!important}.devMemberImage[_ngcontent-%COMP%]{margin-right:5px!important}[_nghost-%COMP%]  .mat-list-item{max-width:11rem!important}[_nghost-%COMP%]  .float-right{float:right}.yellow[_ngcontent-%COMP%]{color:#ffd740}.orange[_ngcontent-%COMP%]{color:#f49f36}.blue[_ngcontent-%COMP%]{color:#36ebf4}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.black[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{color:#000}  .filterPanel{margin-top:40px!important}  .custom-matselect-dropdown.mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}.user-list-toggle[_ngcontent-%COMP%]{margin-left:1.5rem}.right-side[_ngcontent-%COMP%]{overflow:auto;margin-top:1.3vh}.left-side[_ngcontent-%COMP%]{width:335px}.hide-paginator[_ngcontent-%COMP%]{display:none}.left-side.toggle-card-list[_ngcontent-%COMP%]{width:0;display:none}"]}),n})(),canActivate:[C(25360).n],data:{}},{path:"**",redirectTo:"",pathMatch:"full"}];let BI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[tt.Bz.forChild(FI),tt.Bz]}),n})();var AI=C(33300),NI=C(58378),RI=C(54059),VI=C(37437);let LI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({providers:[f.uU],imports:[f.ez,Mt.m,Dt.d,AI.rK,BI,NI.FormFillingModule,wt.ii.forRoot(),K.A0,RI.FollowUpContractModule,VI.UserManagementModule]}),n})()},31698:(Oe,Ut,C)=>{C.d(Ut,{m:()=>h});var f=C(13125),Mt=C(24850),wt=C(94650),tt=C(80529),Wt=C(18497),c=C(89383);let h=(()=>{class E{constructor(q,Y,$){this.httpClient=q,this.apollo=Y,this.translate=$}getAllCandidatesHistory(q,Y,$){return this.apollo.watchQuery({query:f.ZP`
          query GetAllCandidateHistories($pagination: PaginationInput, $sort: CandidateHistorySortInput) {
            GetAllCandidateHistories(pagination: $pagination, sorting: $sort, ${$}) {
                  _id
                  date
                  time
                  is_admitted
                  first_name
                  last_name
                  student_type
                  nationality
                  photo
                  intake_channel
                  engagement_level
                  admission_member_id {
                    _id
                    first_name
                    last_name
                    civility
                    email
                    position
                  }
                }
              }
        `,variables:{pagination:q,sort:Y||{}},fetchPolicy:"network-only"}).valueChanges.pipe((0,Mt.U)(et=>et.data.GetAllCandidates))}getCandidatesHistory(q,Y,$){return this.httpClient.get("assets/data/candidates-history.json")}getAllTransactionHistoriesOfCandidate(q,Y){return this.apollo.query({query:f.ZP`
          query GetAllDataForStudenBalanceTable($filter: TransactionHistoryFilterInput) {
            GetAllTransactionHistories(filter: $filter, sorting: { created_at: asc }) {
              _id
              candidate_id {
                _id
                first_name
                last_name
                civility
                intake_channel {
                  _id
                  scholar_season_id {
                    scholar_season
                  }
                  program
                }
                payment
              }
              payment_date
              total_debit
              total_credit
              transaction_date #date column
              transaction_time
              operation_name #operation name column
              from #payer column
              flux #flux column
              nature #nature column
              debit #debit column
              credit #credit column
              balance #solde column
              term_id #FLAG
              term_index
              is_cancelled
              is_chargeback
              is_manual_action
              billing_id {
                _id
                terms {
                  _id
                  term_status #term status column
                  term_pay_date {
                    date #payment date column for term
                    time
                  }
                  term_amount
                  term_pay_amount
                  term_amount_pending
                  term_amount_chargeback
                  term_amount_not_authorised
                  term_source
                }
                deposit_status #term status for deposit
                deposit_pay_date {
                  date #payment date column for deposit
                  time
                }
                is_financial_support
                financial_support_info {
                  _id
                  civility
                  email
                  family_name
                  name
                  relation
                }
              }
              account_document #accounting document column
              balance_date {
                date #balance date column
                time
              }
              export_status #FLAG
              operation_line_visual_status #FLAG
              od_type
              legal_entity_id {
                _id
                legal_entity_name
              }
              initial_legal_entity_id {
                _id
                legal_entity_name
              }
              destination_legal_entity_id {
                _id
                legal_entity_name
              }
              reference
              note
              transaction_id {
                _id
                legal_entity {
                  _id
                  legal_entity_name
                }
                psp_reference
              }
              finance_organization_id {
                _id
                company_branch_id {
                  _id
                  company_name
                }
                organization_id {
                  _id
                  name
                }
                terms {
                  _id
                  term_status
                  term_amount
                  term_pay_date {
                    date #payment date column for term
                    time
                  }
                  term_pay_amount
                }
              }
              term_index_display
            }
          }
        `,variables:{filter:{candidate_id:q,intake_channel:Y}},fetchPolicy:"network-only"}).pipe((0,Mt.U)($=>$.data.GetAllTransactionHistories))}getAllMasterTransactionHistories(q,Y){return this.apollo.query({query:f.ZP`
          query GetAllMasterTableTransaction($filter: MasterTransactionFilterInput) {
            GetAllMasterTableTransaction(filter: $filter, sorting: { created_at: asc }) {
              _id
              legal_entity_id {
                legal_entity_name
              }
              method_of_payment
              date_action {
                date
                time
              }
              payment_date
              payment_time
              operation_name
              candidate_id {
                _id
                last_name
                first_name
                civility
                candidate_unique_number
              }
              initial_legal_entity_id {
                _id
                legal_entity_name
              }
              destination_legal_entity_id {
                _id
                legal_entity_name
              }
              billing_id {
                _id
                terms {
                  _id
                  is_regulation
                  term_status
                  term_pay_date {
                    date #payment date column for term
                    time
                  }
                  term_amount
                  term_pay_amount
                  term_amount_pending
                  term_amount_chargeback
                  term_amount_not_authorised
                  term_source
                }
                deposit_status #term status for deposit
                deposit_pay_date {
                  date #payment date column for deposit
                  time
                }
                is_financial_support
                financial_support_info {
                  _id
                  civility
                  email
                  family_name
                  name
                  relation
                }
              }
              finance_organization_id {
                _id
                organization_id {
                  _id
                  name
                }
                company_branch_id {
                  _id
                  company_name
                }
                terms {
                  _id
                  term_status
                  term_amount
                  term_pay_date {
                    date #payment date column for term
                    time
                  }
                  term_pay_amount
                }
              }
              flux
              nature
              debit
              credit
              balance
              note
              reference
              term_id #FLAG
              term_index
              is_manual_action
              export_status
              date_action {
                date
                time
              }
              accounting_document
              balance_date
              balance_time
              total_credit
              total_debit
              status_line_dp_term
              reference
              note
              od_type
              transaction_id {
                _id
                legal_entity {
                  _id
                  legal_entity_name
                }
                psp_reference
              }
              transaction_type
              manual_billings {
                billing_id {
                  _id
                  is_financial_support
                  financial_support_info {
                    _id
                    civility
                    email
                    family_name
                    name
                    relation
                  }
                  candidate_id {
                    _id
                    last_name
                    first_name
                    civility
                  }
                }
                finance_organization_id {
                  _id
                  organization_id {
                    _id
                    name
                  }
                  company_branch_id {
                    _id
                    company_name
                  }
                }
                amount
              }
              updated_by{
                first_name
                last_name
                civility
              }
            }
          }
        `,fetchPolicy:"network-only",variables:{filter:{candidate_id:q,intake_channel:Y,table_type:"student_balance"}}}).pipe((0,Mt.U)($=>$.data.GetAllMasterTableTransaction))}getInternshipFees(q,Y,$){return this.httpClient.get("assets/data/internship-fees.json")}GetAllFinanceOrganization(q){return this.apollo.watchQuery({query:f.ZP`
          query GetAllFinanceOrganization($filter: FinanceOrganizationFilterInput) {
            GetAllFinanceOrganization(filter: $filter) {
              _id
              organization_id {
                _id
                name
                organization_type
                organization_id
              }
              company_branch_id {
                _id
                company_name
              }
            }
          }
        `,variables:{filter:q},fetchPolicy:"network-only"}).valueChanges.pipe((0,Mt.U)(Y=>Y.data.GetAllFinanceOrganization))}getAllBilling(q){return this.apollo.watchQuery({query:f.ZP`
          query GetAllBillingForFinancialStatus($filter: BillingFilterInput) {
            GetAllBilling(filter: $filter) {
              _id
              candidate_id {
                _id
                civility
                first_name
                last_name
                candidate_admission_status
                payment
                intake_channel {
                  _id
                  scholar_season_id {
                    scholar_season
                  }
                  program
                }
                legal_representative{
                  unique_id
                }
              }
              student_type {
                type_of_information
                type_of_formation
              }
              deposit_pay_date {
                date
                time
              }
              dp_histories {
                deposit_pay_amount
                deposit_status
                is_deposit_completed
                deposit
                date_inserted {
                  date
                  time
                }
              }
              total_amount
              amount_billed
              amount_paid
              remaining_billed
              amount_late
              accumulated_late
              deposit
              deposit_pay_amount
              deposit_status
              is_deposit_completed
              overdue
              overdue_not_paid
              terms {
                _id
                is_regulation
                term_pay_date {
                  date
                  time
                }
                is_locked
                is_term_paid
                term_pay_amount
                term_payment {
                  date
                  time
                }
                term_payment_deferment {
                  date
                  time
                }
                is_partial
                term_amount
                term_status
                term_amount_not_authorised
                term_amount_pending
                term_amount_chargeback
                is_regulation
              }
              is_financial_support
              financial_support_info {
                _id
                civility
                email
                family_name
                name
                relation
              }
            }
          }
        `,variables:{filter:q},fetchPolicy:"network-only"}).valueChanges.pipe((0,Mt.U)(Y=>Y.data.GetAllBilling))}}return E.\u0275fac=function(q){return new(q||E)(wt.\u0275\u0275inject(tt.eN),wt.\u0275\u0275inject(Wt._M),wt.\u0275\u0275inject(c.sK))},E.\u0275prov=wt.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()}}]);