"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[7500],{17500:(q,S,l)=>{l.r(S),l.d(S,{OrganizationDetailModule:()=>gn});var g=l(36895),F=l(37204),I=l(88796),A=l(30160),M=l(93730),E=l(610),s=l(24006),u=l(98739),y=l(22868),O=l(80013),T=l(68745),P=l(35226),m=l.n(P),b=l(17489),t=l(94650),ct=l(67154),x=l(89383),K=l(96334),B=l(25046),L=l(4859),R=l(97392),k=l(59549),N=l(284),V=l(51572),Y=l(10266),tt=l(30277),G=l(24784),et=l(33296),Q=l(73546);function dt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",3)(1,"h4",4),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"ORGANIZATION_EMPTY")))}function pt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-card",8),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(d.selectOrganization(a._id))}),t.\u0275\u0275elementStart(1,"mat-card-subtitle",9)(2,"div",3)(3,"div",10)(4,"div",11)(5,"div",12)(6,"h5",13),t.\u0275\u0275text(7),t.\u0275\u0275elementEnd()()()()()()()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass",n.selectedOrganizationId===e._id?"candidate-select mrgn-all-md":"mrgn-all-md"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",n.selectedOrganizationId===e._id?"candidate-text":"test"),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function mt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",5)(1,"div",6),t.\u0275\u0275template(2,pt,8,3,"mat-card",7),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("height",e.getAutomaticHeight(),"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.organizationList)}}let gt=(()=>{class i{constructor(e){this.coreService=e,this.selectedOrgChange=new t.EventEmitter,this.serverimgPath=`${et.a.baseApi}/fileuploads/`.replace("/graphql",""),this.myInnerHeight=1920,this.isWaitingForResponse=!1}ngOnInit(){this.coreService.sidenavOpen=!1}selectOrganization(e){this.selectedOrganizationId!==e&&(this.selectedOrganizationId=e,this.selectedOrgChange.emit(this.selectedOrganizationId))}getAutomaticHeight(){return this.myInnerHeight=window.innerHeight-322,this.myInnerHeight}getCardHeight(){return this.myInnerHeight=window.innerHeight-403,this.myInnerHeight}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(K.p))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-organization-detail-list"]],inputs:{organizationList:"organizationList",selectedOrganizationId:"selectedOrganizationId"},outputs:{selectedOrgChange:"selectedOrgChange"},decls:4,vars:6,consts:[["class","p-grid",4,"ngIf"],[1,"p-grid",2,"padding-top","10px","overflow","hidden"],["style","width: 100%",4,"ngIf"],[1,"p-grid"],[1,"text-empty"],[2,"width","100%"],["id","style-4",1,"scrollbar",2,"overflow-x","hidden","overflow-y","auto"],["style","cursor: pointer; padding: 4px !important; margin-right: 10 px !important; margin-top: 0px !important",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"cursor","pointer","padding","4px !important","margin-right","10 px !important","margin-top","0px !important",3,"ngClass","click"],[3,"ngClass"],[1,"p-col-12",2,"text-align","center","place-self","center"],[1,"p-grid","no-padding"],[1,"p-col-12","no-padding"],[1,"no-margin",2,"font-size","1em"]],template:function(e,n){1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,dt,4,3,"div",0),t.\u0275\u0275elementStart(2,"div",1),t.\u0275\u0275template(3,mt,3,3,"div",2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===n.organizationList.length),t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("height",n.getAutomaticHeight(),"px")("max-height",n.getAutomaticHeight(),"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.organizationList&&n.organizationList.length))},dependencies:[Q.a8,Q.$j,G.oO,g.mk,g.sg,g.O5,x.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.engagement-side-icon[_ngcontent-%COMP%]{border-radius:50%;position:relative}.engagement-side-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:70%!important;background:white;padding:4px}#style-4[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}#style-4[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;background-color:#555}#style-4[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#909090;border:2px solid #555555}.full-width[_ngcontent-%COMP%]{width:100%}.green-icon[_ngcontent-%COMP%]{color:#9acd32!important}.align-right[_ngcontent-%COMP%]{text-align:right}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.no-margin[_ngcontent-%COMP%]{margin:0}.mat-ink-bar[_ngcontent-%COMP%]{background-color:green}.candidate-select[_ngcontent-%COMP%]{background-color:#fdd835!important}.candidate-text[_ngcontent-%COMP%]{color:#000!important}.spinner-wrapper[_ngcontent-%COMP%]{width:100%;height:320px;display:flex;justify-content:center;align-items:center;top:0;left:0;z-index:998}.left-side[_ngcontent-%COMP%]{padding-left:0;width:420px}.right-side[_ngcontent-%COMP%]{width:auto;position:absolute;right:0;left:425px}.text-empty[_ngcontent-%COMP%]{height:auto;margin:3% auto;font-size:20px;display:block;width:100%;position:relative;text-align:center;vertical-align:middle;color:#e4e7ef}.yellow[_ngcontent-%COMP%]{color:#ffd740}.orange[_ngcontent-%COMP%]{color:#f49f36}.blue[_ngcontent-%COMP%]{color:#36ebf4}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.magenta[_ngcontent-%COMP%]{color:#f0f}.black[_ngcontent-%COMP%]{color:#000}.cyan[_ngcontent-%COMP%]{color:#0ff}img[_ngcontent-%COMP%]{height:30px;max-width:100%;vertical-align:middle;width:30px}"]}),i})();var ht=l(15439),nt=l(10830),it=l(62416),ut=l(79710),D=l(65938),ft=l(29545),_t=l(54982),H=l(52688),ot=l(63030),j=l(37084),U=l(3848),at=l(49671),Ct=l(50777),bt=l(58840),rt=l(44758),X=l(3238),W=l(47957),Ot=l(84385);function Mt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",37),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.updateUser())}),t.\u0275\u0275elementStart(1,"mat-icon",38),t.\u0275\u0275text(2,"save"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,1,"CARDDETAIL.Save")," "))}function xt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",39),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,e))}}function Pt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function vt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function yt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function wt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",7)(1,"div",9)(2,"div",7)(3,"div",10)(4,"mat-form-field"),t.\u0275\u0275element(5,"input",40),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275template(7,yt,3,3,"mat-error",13),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(8,"div",9)(9,"div",7)(10,"div",10)(11,"mat-form-field"),t.\u0275\u0275element(12,"input",41),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()()()()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(6,3,"ID")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==e.identityForm?null:e.identityForm.get("organization_id").hasError("required"))&&((null==e.identityForm?null:e.identityForm.get("organization_id").dirty)||(null==e.identityForm?null:e.identityForm.get("organization_id").touched))),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(13,5,"Region"))}}function Et(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",39),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function It(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",39),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function Tt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",39),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function St(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",39),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function kt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",42),t.\u0275\u0275element(1,"mat-progress-spinner",43),t.\u0275\u0275elementEnd())}let Dt=(()=>{class i{constructor(e,n,o,a,d,_,C,f,c){this.fb=e,this.router=n,this.rncpTitleService=o,this.translate=a,this.schoolService=d,this.permissionService=_,this.dateAdapter=C,this.formFillingService=f,this.coreService=c,this.reloadData=new t.EventEmitter,this.subs=new T.Y,this.typeList=["OPCO","CPF","Transition Pro","P\xf4le Emploi","R\xe9gion"],this.isWaitingForResponse=!1,this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.myInnerHeight=1920}ngOnInit(){this.subs.sink=this.schoolService.getCountry().subscribe(e=>{this.countries=e.map(n=>n?.name)}),this.dateAdapter.setLocale(this.translate.currentLang),this.today=new Date,this.initForm(),console.log("_can",this.orgId)}ngOnChanges(){this.initForm(),this.getOneOrganization()}getOneOrganization(){this.isWaitingForResponse=!0,this.subs.sink=this.formFillingService.getOneOrganizationForCardList(this.orgId).subscribe(e=>{this.isWaitingForResponse=!1,this.identityForm.patchValue(e)},e=>{this.isWaitingForResponse=!1,console.log(e),m().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getAutomaticHeight(){return"/my-file"===this.router.url||this.router.url.includes("previous-course")?(this.myInnerHeight=window.innerHeight-193,this.myInnerHeight):(this.myInnerHeight=window.innerHeight-369,this.myInnerHeight)}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}resetData(){this.countries=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[]}initForm(){this.identityForm=this.fb.group({organization_type:["",[s.Validators.required]],name:["",[s.Validators.required]],organization_id:[""],pole_emploi_region:[""],region:[""],address:[null],postal_code:[null],country:[null],city:[null],department:[null]})}getPostcodeData(){const e=this.identityForm.get("country").value,n=this.identityForm.get("postal_code").value;n&&e&&n.length>3&&"france"===e.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(n,e).subscribe(o=>{o&&o.length&&(this.setAddressDropdown(o),this.identityForm.get("city").setValue(this.cities[0]),this.identityForm.get("department").setValue(this.departments[0]),this.identityForm.get("region").setValue(this.regions[0]))},o=>{m().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}setAddressDropdown(e){const n=[],o=[],a=[];e&&e.length&&(e.forEach(d=>{n.push(d.city),o.push(d.department),a.push(d.province)}),this.cities=b.uniq(n),this.departments=b.uniq(o),this.regions=b.uniq(a),this.filteredCities=this.cities,this.filteredDepartments=this.departments,this.filteredRegions=this.regions)}filterCountry(){if(!this.identityForm.get("country").value)return;const e=this.identityForm.get("country").value.toLowerCase().trim();this.filteredCountry=this.countries.filter(n=>n&&n.toLowerCase().trim().includes(e))}filterCity(){if(this.cities&&this.cities.length&&this.identityForm.get("city").value){const e=this.identityForm.get("city").value.toLowerCase().trim();this.filteredCities=this.cities.filter(n=>n&&n.toLowerCase().trim().includes(e))}}filterDepartment(){if(this.departments&&this.departments.length&&this.identityForm.get("department").value){const e=this.identityForm.get("department").value.toLowerCase().trim();this.filteredDepartments=this.departments.filter(n=>n&&n.toLowerCase().trim().includes(e))}}filterRegion(){if(this.regions&&this.regions.length&&this.identityForm.get("region").value){const e=this.identityForm.get("region").value.toLowerCase().trim();this.filteredRegions=this.regions.filter(n=>n&&n.toLowerCase().trim().includes(e))}}createPayload(){return b.cloneDeep(this.identityForm.value)}updateUser(){var e=this;return(0,at.Z)(function*(){if(!(yield e.checkFormValidity()))return;e.isWaitingForResponse=!0;const n=e.createPayload();e.subs.sink=e.formFillingService.updateOrganization(e.orgId,n).subscribe(o=>{o&&m().fire({type:"success",title:e.translate.instant("Bravo!"),confirmButtonText:e.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{e.getOneOrganization(),e.isWaitingForResponse=!1,e.formFillingService.triggerRefresh(!0),e.reloadData.emit(!0)})},o=>{m().fire({type:"info",title:e.translate.instant("SORRY"),text:o&&o.message?e.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:e.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})})()}checkFormValidity(){var e=this;return(0,at.Z)(function*(){return!e.identityForm.invalid||(yield m().fire({type:"warning",title:e.translate.instant("FormSave_S1.TITLE"),html:e.translate.instant("FormSave_S1.TEXT"),confirmButtonText:e.translate.instant("FormSave_S1.BUTTON")}),e.markAllFieldsAsTouched(e.identityForm),!1)})()}markAllFieldsAsTouched(e){Object.keys(e.controls).forEach(n=>{const o=e.get(n);if(o instanceof s.UntypedFormControl)o.markAsTouched({onlySelf:!0});else if(o instanceof s.UntypedFormGroup)this.markAllFieldsAsTouched(o);else if(o instanceof s.UntypedFormArray)for(const a of o.controls)a.markAllAsTouched()})}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(s.UntypedFormBuilder),t.\u0275\u0275directiveInject(E.F0),t.\u0275\u0275directiveInject(Ct.r),t.\u0275\u0275directiveInject(x.sK),t.\u0275\u0275directiveInject(bt.E),t.\u0275\u0275directiveInject(rt.$),t.\u0275\u0275directiveInject(X._A),t.\u0275\u0275directiveInject(B.d),t.\u0275\u0275directiveInject(K.p))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-organization-detail-form"]],inputs:{orgId:"orgId"},outputs:{reloadData:"reloadData"},features:[t.\u0275\u0275NgOnChangesFeature],decls:85,vars:39,consts:[[1,"p-grid",3,"formGroup"],[1,"p-col-12",2,"padding-left","0px","padding-right","0px"],[1,"p-grid",2,"margin-top","0.5rem"],[1,"p-col-12",2,"text-align","right","padding-right","0px"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],[1,"fieldset-class"],[1,"overlow-auto",2,"margin-top","0 !important"],[1,"p-grid"],[1,"p-col"],[1,"p-col-6","no-padding"],[1,"p-col","no-padding-y","pad-right-15"],["formControlName","organization_type","required","",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","name","type","text","required","",3,"placeholder"],["class","p-grid",4,"ngIf"],[1,"p-grid",2,"padding-top","10px"],[1,"p-col-12","mb-1rem","border-white",2,"padding-bottom","15px","margin-left","7px","margin-right","7px !important","width","98%"],[1,"p-col-12","no-padding",2,"padding-top","10px"],[1,"p-grid","flex-hidden-mr-1"],[1,"p-col","no-padding"],["color","accent",1,"full-width"],["matInput","","type","text","formControlName","address",3,"placeholder"],[1,"p-col-12","no-padding"],[1,"p-col-4","no-padding"],["color","accent"],["matInput","","type","text","formControlName","postal_code","maxlength","5",3,"placeholder","keyup"],["type","text","matInput","","formControlName","country",3,"placeholder","matAutocomplete","keyup"],[3,"optionSelected"],["autoCountry","matAutocomplete"],["type","text","matInput","","formControlName","city",3,"placeholder","matAutocomplete","keyup"],["autoCity","matAutocomplete"],["type","text","matInput","","formControlName","department",3,"placeholder","matAutocomplete","keyup"],["autoDepartment","matAutocomplete"],["type","text","matInput","","formControlName","region",3,"placeholder","matAutocomplete","keyup"],["autoRegion","matAutocomplete"],["class","loading-indicator",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[1,"mat-icon-default"],[3,"value"],["matInput","","formControlName","organization_id","type","text","required","",3,"placeholder"],["matInput","","formControlName","pole_emploi_region","type","text",3,"placeholder"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275template(4,Mt,5,3,"button",4),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"fieldset",5)(6,"mat-card",6)(7,"div",7)(8,"div",8)(9,"div",7)(10,"div",9)(11,"div",7)(12,"div",10)(13,"mat-form-field")(14,"mat-select",11),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275template(16,xt,3,4,"mat-option",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(17,Pt,3,3,"mat-error",13),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(18,"div",9)(19,"div",7)(20,"div",10)(21,"mat-form-field"),t.\u0275\u0275element(22,"input",14),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275template(24,vt,3,3,"mat-error",13),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(25,wt,14,7,"div",15),t.\u0275\u0275elementStart(26,"div",16)(27,"div",17),t.\u0275\u0275elementContainerStart(28),t.\u0275\u0275elementStart(29,"div",7)(30,"div",18)(31,"div",19)(32,"div",20)(33,"mat-form-field",21),t.\u0275\u0275element(34,"input",22),t.\u0275\u0275pipe(35,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(36,"div",7)(37,"div",23)(38,"div",7)(39,"div",24)(40,"div",19)(41,"div",20)(42,"mat-form-field",25)(43,"input",26),t.\u0275\u0275listener("keyup",function(){return n.getPostcodeData()}),t.\u0275\u0275pipe(44,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(45,"div",24)(46,"div",19)(47,"div",20)(48,"mat-form-field",25)(49,"input",27),t.\u0275\u0275listener("keyup",function(){return n.filterCountry()}),t.\u0275\u0275pipe(50,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(51,"mat-autocomplete",28,29),t.\u0275\u0275listener("optionSelected",function(){return n.getPostcodeData()}),t.\u0275\u0275template(53,Et,2,2,"mat-option",12),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275elementStart(54,"div",7)(55,"div",23)(56,"div",7)(57,"div",24)(58,"div",19)(59,"div",20)(60,"mat-form-field",21)(61,"input",30),t.\u0275\u0275listener("keyup",function(){return n.filterCity()}),t.\u0275\u0275pipe(62,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(63,"mat-autocomplete",null,31),t.\u0275\u0275template(65,It,2,2,"mat-option",12),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(66,"div",24)(67,"div",19)(68,"div",20)(69,"mat-form-field",21)(70,"input",32),t.\u0275\u0275listener("keyup",function(){return n.filterDepartment()}),t.\u0275\u0275pipe(71,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(72,"mat-autocomplete",null,33),t.\u0275\u0275template(74,Tt,2,2,"mat-option",12),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(75,"div",24)(76,"div",19)(77,"div",20)(78,"mat-form-field",21)(79,"input",34),t.\u0275\u0275listener("keyup",function(){return n.filterRegion()}),t.\u0275\u0275pipe(80,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(81,"mat-autocomplete",null,35),t.\u0275\u0275template(83,St,2,2,"mat-option",12),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275template(84,kt,2,0,"div",36)),2&e){const o=t.\u0275\u0275reference(52),a=t.\u0275\u0275reference(64),d=t.\u0275\u0275reference(73),_=t.\u0275\u0275reference(82);t.\u0275\u0275property("formGroup",n.identityForm),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",n.permissionService.editOrganization()),t.\u0275\u0275advance(10),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(15,23,"Type of Organization")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.typeList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.identityForm?null:n.identityForm.get("organization_type").hasError("required"))&&((null==n.identityForm?null:n.identityForm.get("organization_type").dirty)||(null==n.identityForm?null:n.identityForm.get("organization_type").touched))),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(23,25,"Organization Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==n.identityForm?null:n.identityForm.get("name").hasError("required"))&&((null==n.identityForm?null:n.identityForm.get("name").dirty)||(null==n.identityForm?null:n.identityForm.get("name").touched))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","P\xf4le Emploi"===(null==n.identityForm?null:n.identityForm.get("organization_type").value)),t.\u0275\u0275advance(9),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(35,27,"CARDDETAIL.Address")),t.\u0275\u0275advance(9),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(44,29,"CARDDETAIL.Zip Code")),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(50,31,"CARDDETAIL.Country")),t.\u0275\u0275property("matAutocomplete",o),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",n.filteredCountry),t.\u0275\u0275advance(8),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(62,33,"CARDDETAIL.City")),t.\u0275\u0275property("matAutocomplete",a),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",n.filteredCities),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(71,35,"CARDDETAIL.Department")),t.\u0275\u0275property("matAutocomplete",d),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",n.filteredDepartments),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(80,37,"CARDDETAIL.Region")),t.\u0275\u0275property("matAutocomplete",_),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",n.filteredRegions),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse)}},dependencies:[W.XC,W.ZL,X.ey,L.lW,Q.a8,R.Hw,k.TO,k.KE,N.Nt,V.Ou,Ot.gD,s.DefaultValueAccessor,s.NgControlStatus,s.NgControlStatusGroup,s.RequiredValidator,s.MaxLengthValidator,s.FormGroupDirective,s.FormControlName,g.sg,g.O5,x.X$],styles:[".border-white[_ngcontent-%COMP%]{border:1px solid white}.center-label[_ngcontent-%COMP%]{align-self:center}.no-padding[_ngcontent-%COMP%]{padding:0}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}label[_ngcontent-%COMP%]{font-size:12px!important}.imgContainer[_ngcontent-%COMP%]{position:relative;height:10rem;width:auto;cursor:pointer;overflow:hidden}.pad-left-5[_ngcontent-%COMP%]{padding-left:5px!important}.pad-right-15[_ngcontent-%COMP%]{padding-right:15px!important}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;height:100%;width:100%;opacity:0;transition:.5s ease;background-color:#2f2f2f}.student-details-img[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.imgContainer[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.text[_ngcontent-%COMP%]{color:#fff;font-size:20px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.spinner-wrapper[_ngcontent-%COMP%]{width:100%;height:320px;display:flex;justify-content:center;align-items:center;top:0;left:0;z-index:998}.fieldset-class[_ngcontent-%COMP%]{padding:0;border:0px}.overlow-auto[_ngcontent-%COMP%]{overflow:auto}.file-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:20vw;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-left:1rem;direction:rtl;text-align:left}.upload-cv-button-container[_ngcontent-%COMP%]{display:flex}.upload-cv-button-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.5em}[_nghost-%COMP%]     body .app-dark .mat-form-field-appearance-legacy .mat-form-field-label{color:#fff!important}[_nghost-%COMP%]     .mat-input-element:disabled{color:#fff!important}[_nghost-%COMP%]     mat-input-element{color:#fff!important}"]}),i})();var Z=l(96308),v=l(53626),zt=l(24850),Ft=l(95017),lt=l(81259),At=l(9749),z=l(29521),Bt=l(91013),Lt=l(80484),st=l(73555),$=l(77331);const Rt=["languagesInput"],Nt=["recipientCc"],Vt=["recipientBcc"],Ht=["auto"],jt=["myInput"];function Ut(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",27),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.sendMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"send"),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"MailBox.SEND"))}function Wt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-icon",28),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"send"),t.\u0275\u0275elementEnd()),2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"MailBox.SEND"))}function $t(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-icon",31),t.\u0275\u0275text(1,"cancel"),t.\u0275\u0275elementEnd())}function Kt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-chip",29),t.\u0275\u0275listener("removed",function(){const a=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.removeTo(a))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,$t,2,0,"mat-icon",30),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("selectable",n.selectable)("removable",n.removable),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.removable)}}function Yt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",32),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function Gt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-icon",31),t.\u0275\u0275text(1,"cancel"),t.\u0275\u0275elementEnd())}function Qt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-chip",29),t.\u0275\u0275listener("removed",function(){const a=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(d.removeCc(a))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Gt,2,0,"mat-icon",30),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("selectable",n.selectable)("removable",n.removable),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.removable)}}function Xt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",37),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.resetValueCc())}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function Zt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-form-field",12)(1,"mat-chip-list",null,33),t.\u0275\u0275template(3,Qt,3,4,"mat-chip",14),t.\u0275\u0275elementStart(4,"input",34,35),t.\u0275\u0275listener("matChipInputTokenEnd",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.addCc(o))}),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"mat-autocomplete",17,18),t.\u0275\u0275listener("optionSelected",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setSelectedEmailCc(o))}),t.\u0275\u0275template(9,Xt,2,2,"mat-option",36),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(2),n=t.\u0275\u0275reference(8),o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",o.selectedEmailCc),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder"," ",t.\u0275\u0275pipeBind1(6,8,"MailBox.composeMail.cc"),""),t.\u0275\u0275property("matAutocomplete",n)("matChipInputFor",e)("matChipInputSeparatorKeyCodes",o.separatorKeysCodesCc)("matChipInputAddOnBlur",o.addOnBlurCc),t.\u0275\u0275advance(3),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",o.emailAddressesListCc)}}function Jt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-icon",31),t.\u0275\u0275text(1,"cancel"),t.\u0275\u0275elementEnd())}function qt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-chip",29),t.\u0275\u0275listener("removed",function(){const a=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(d.removeBcc(a))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Jt,2,0,"mat-icon",30),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("selectable",n.selectable)("removable",n.removable),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.removable)}}function te(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",32),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function ee(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-form-field",12)(1,"mat-chip-list",null,38),t.\u0275\u0275template(3,qt,3,4,"mat-chip",14),t.\u0275\u0275elementStart(4,"input",39,40),t.\u0275\u0275listener("matChipInputTokenEnd",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.addBcc(o))}),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"mat-autocomplete",17,18),t.\u0275\u0275listener("optionSelected",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setSelectedEmailBcc(o))}),t.\u0275\u0275template(9,te,2,2,"mat-option",19),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(2),n=t.\u0275\u0275reference(8),o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",o.selectedEmailBcc),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder"," ",t.\u0275\u0275pipeBind1(6,8,"MailBox.composeMail.bcc"),""),t.\u0275\u0275property("matAutocomplete",n)("matChipInputFor",e)("matChipInputSeparatorKeyCodes",o.separatorKeysCodesBcc)("matChipInputAddOnBlur",o.addOnBlurBcc),t.\u0275\u0275advance(3),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",o.emailAddressesListBcc)}}function ne(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ie(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",41)(1,"button",42)(2,"mat-icon"),t.\u0275\u0275text(3,"insert_drive_file"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"label"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",43),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.removeAttachment(a))}),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8," close "),t.\u0275\u0275elementEnd()()()}if(2&i){const e=r.$implicit;t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(e.name)}}function oe(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",44),t.\u0275\u0275element(1,"mat-progress-spinner",45),t.\u0275\u0275elementEnd())}var w=(()=>{return(i=w||(w={})).LABEL="LABEL",i.VALUE="VALUE",i.OBJECT="OBJECT",w;var i})();let ae=(()=>{class i{constructor(e,n,o,a,d,_,C,f){this.data=e,this.translate=n,this.userService=o,this.mailboxService=a,this.fileUploadService=d,this.dialogref=_,this.fb=C,this.authService=f,this.subs=new T.Y,this.Editor=At,this.showCC=!1,this.showBCC=!1,this.config={},this.selectedEmailTo=[],this.selectedEmailCc=[],this.selectedEmailBcc=[],this.selectedRecepientsList=[],this.ccselectedRecepientsList=[],this.bccselectedRecepientsList=[],this.recpList=[],this.recpListCc=[],this.recpListBcc=[],this.listIntakeChannel=[{value:"20-21 EFANEW 1",name:"20-21 EFANEW 1"},{value:"20-21 EFANEW 2",name:"20-21 EFANEW 2"},{value:"20-21 EFANEW 3",name:"20-21 EFANEW 3"},{value:"20-21 EFANEW 4",name:"20-21 EFANEW 4"},{value:"20-21 EFANEW 5",name:"20-21 EFANEW 5"}],this.emailAddressesListTo=[],this.emailAddressesListCc=[],this.emailAddressesListBcc=[],this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.addOnBlurCc=!0,this.addOnBlurBcc=!0,this.showCCInput=!1,this.showBCCInput=!1,this.allowOther=!1,this.returnType=w.LABEL,this.optionSelected=new t.EventEmitter,this.separatorKeysCodes=[z.K5,z.OC],this.separatorKeysCodesCc=[z.K5,z.OC],this.separatorKeysCodesBcc=[z.K5,z.OC],this.attachmnetsPaths=[],this.isGroupEmail=!1,this.isWaitingForResponse=!1,this.sendEmailForm=this.fb.group({to:["",s.Validators.required],cc:["",s.Validators.required],bcc:["",s.Validators.required],subject:["",s.Validators.required],message:["",s.Validators.required]})}ngOnInit(){this.isPermission=this.userService.getPermission(),this.currentUser=this.userService.getLocalStorageUser(),this.getRecipientsData(),this.getDataStudent()}removeAttachment(e){this.attachmnetsPaths.splice(this.attachmnetsPaths.indexOf(e),1)}getDataStudent(){this.data&&this.data.length&&this.data.forEach(n=>{if(n){const o=n.school_mail?n.school_mail:n.email;this.preSelectedEmail=("neutral"!==n.civility?this.translate.instant(n.civility):"")+" "+n.first_name+" "+n.last_name.toUpperCase()+" <"+o+">",this.selectedEmailTo.push(("neutral"!==n.civility?this.translate.instant(n.civility):"")+" "+n.first_name+" "+n.last_name.toUpperCase()+" <"+o+">"),this.emailAddressesListTo.push(...this.preSelectedEmail),this.validateEmail(o)&&this.selectedRecepientsList.push(o),this.recpList.push(o)}}),this.sendEmailForm.get("to").setValue(null),this.sendEmailForm.get("subject").setValue(""),this.getEmailMessage()}getEmailMessage(){let e="";this.data&&this.data.length&&(e+=this.translate.instant("Hello")+" ",this.data.forEach((d,_)=>{e+=("neutral"!==d.civility?this.translate.instant(d.civility):"")+" "+d.first_name+" "+d.last_name,e+=_!==this.data.length-1?", ":"."}));let n="";n+="<p></p><p></p><p></p><p></p>",n+=("neutral"!==this.currentUser.civility?this.translate.instant(this.currentUser.civility):"")+" "+this.currentUser.first_name+" "+this.currentUser.last_name;const o=this.currentUser.entities.filter(d=>d.type.name===this.isPermission[0]),a=b.uniqBy(o,"school.short_name");n+=this.currentUser?.position?",<br>"+this.currentUser?.position:"",n+=a&&a.length&&a[0].school&&a[0].school.short_name?",<br>"+a[0].school.short_name:"",this.sendEmailForm.get("message").setValue(e+n)}validateEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}setSelectedEmail(e,n){n.setValue(e)}closeDialog(){m().fire({title:this.translate.instant("MailBox.composeMail.DRAFT.TITLE"),html:this.translate.instant("MailBox.composeMail.DRAFT.TEXT"),type:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("MailBox.composeMail.DRAFT.CONFIRMBTN"),cancelButtonText:this.translate.instant("MailBox.composeMail.DRAFT.DECBTN")}).then(e=>{e.value&&(this.saveDraft(),this.dialogref.close()),e.dismiss&&this.dialogref.close()})}saveDraft(){const e=this.sendEmailForm.value;if(""!==e.subject||""!==e.message&&void 0!==e.message){const n=[];this.mailData={};const o=this.recpList,a=this.recpListCc,d=this.recpListBcc;this.currentUser=this.userService.getLocalStorageUser();const _={sender:this.currentUser.email,is_read:!1,mail_type:"draft"};if(o){const c=o.toString().split(",");for(let p=0;p<c.length;p++)c[p]=c[p].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(c[p])&&n.push({recipients:[c[p]],rank:"a",is_read:!1,mail_type:"draft"})}if(a){const c=a.toString().split(",");for(let p=0;p<c.length;p++)c[p]=c[p].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(c[p])&&n.push({recipients:[c[p]],rank:"cc",is_read:!1,mail_type:"draft"})}if(d){const c=d.toString().split(",");for(let p=0;p<c.length;p++)c[p]=c[p].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(c[p])&&n.push({recipients:[c[p]],rank:"c",is_read:!1,mail_type:"draft"})}const C=[],f=[];this.attachmnetsPaths.forEach(c=>{const p={file_name:c&&c.file_name?c.file_name:c.name,path:c.path};f.push(c.name),C.push(p)}),this.mailData.sender_property=_,this.mailData.recipient_properties=n,this.mailData.subject=e.subject,this.mailData.message=e.message,this.mailData.is_sent=!1,this.mailData.status="active",this.mailData.is_urgent_mail=!1,this.mailData.attachments=f,this.mailData.file_attachments=C,this.mailData.tags=["draft"],this.isGroupEmail&&(this.mailData.is_group_parent=this.isGroupEmail,this.mailData.user_type_selection=e.user_type_selection,this.mailData.group_detail=this.computeGroupDetails()),this.subs.sink=this.mailboxService.createMail(this.mailData).subscribe(c=>{m().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DRAFTMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK"),allowOutsideClick:!1})},c=>{this.authService.postErrorLog(c),c&&c.message&&c.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:c&&c.message?this.translate.instant(c.message.replaceAll("GraphQL error: ","")):c,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}sendMail(){this.isWaitingForResponse=!0;const e=this.sendEmailForm.value;if(""!==e.subject||""!==e.message&&void 0!==e.message){const n=[];this.mailData={};const o=this.recpList,a=this.recpListCc,d=this.recpListBcc;this.currentUser=this.userService.getLocalStorageUser();const _={sender:this.currentUser.email,is_read:!1,mail_type:"sent"};if(o){const c=o.toString().split(",");for(let p=0;p<c.length;p++)c[p]=c[p].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(c[p])&&n.push({recipients:[c[p]],rank:"a",is_read:!1,mail_type:"inbox"})}if(a){let c=[];a.forEach(h=>{this.selectedEmailCc.forEach(J=>{J.includes(h)&&c.push(h)})});const p=c.toString().split(",");for(let h=0;h<p.length;h++)p[h]=p[h].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(p[h])&&n.push({recipients:[p[h]],rank:"cc",is_read:!1,mail_type:"inbox"})}if(d){let c=[];d.forEach(h=>{this.selectedEmailBcc.forEach(J=>{J.includes(h)&&c.push(h)})});const p=c.toString().split(",");for(let h=0;h<p.length;h++)p[h]=p[h].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(p[h])&&n.push({recipients:[p[h]],rank:"c",is_read:!1,mail_type:"inbox"})}const C=[],f=[];this.attachmnetsPaths.forEach(c=>{const p={file_name:c&&c.file_name?c.file_name:c.name,path:c.path};f.push(c.name),C.push(p)}),this.mailData.sender_property=_,this.mailData.recipient_properties=n,this.mailData.subject=e.subject,this.mailData.message=e.message,this.mailData.is_sent=!0,this.mailData.status="active",this.mailData.attachments=f,this.mailData.file_attachments=C,this.mailData.tags=["sent"],this.isGroupEmail&&(this.mailData.is_group_parent=this.isGroupEmail,this.mailData.user_type_selection=e.user_type_selection,this.mailData.group_detail=this.computeGroupDetails()),this.subs.sink=this.mailboxService.createMail(this.mailData).subscribe(c=>{this.isWaitingForResponse=!1,this.dialogref.close(!0),m().fire({allowOutsideClick:!1,title:this.translate.instant("MailBox.composeMail.MESSAGES.TITLE"),text:this.translate.instant("MailBox.composeMail.MESSAGES.TEXT"),allowEscapeKey:!0,type:"success",confirmButtonText:this.translate.instant("MailBox.composeMail.MESSAGES.CONFIRMBTN")})},c=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(c),c&&c.message&&c.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:c&&c.message?this.translate.instant(c.message.replaceAll("GraphQL error: ","")):c,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}setSelectedEmailTo(e){const n=e.option.value,o=n.split(" ");let a="";o.forEach(h=>{a=h});const _=a.replace("<","").replace(">","");this.validateEmail(_)&&(this.selectedEmailTo.push(n),this.selectedRecepientsList.push(n));const C=n.split(" ");let f="";C.forEach(h=>{f=h});const p=f.replace("<","").replace(">","");this.recpList.push(p),this.languagesInput.nativeElement.value="",this.sendEmailForm.get("to").setValue(null),this.emitSelectedLanguagesTo()}setSelectedEmailCc(e){const n=e.option.value,o=n.split(" ");let a="";o.forEach(h=>{a=h});const _=a.replace("<","").replace(">","");this.validateEmail(_)&&(this.selectedEmailCc.push(n),this.selectedRecepientsList.push(n));const C=n.split(" ");let f="";C.forEach(h=>{f=h});const p=f.replace("<","").replace(">","");this.recpListCc.push(p),this.recipientCc.nativeElement.value="",this.sendEmailForm.get("cc").patchValue("",{emitEvent:!0}),this.sendEmailForm.get("cc").setValue("")}setSelectedEmailBcc(e){const n=e.option.value,o=n.split(" ");let a="";o.forEach(h=>{a=h});const _=a.replace("<","").replace(">","");this.validateEmail(_)&&(this.selectedEmailBcc.push(n),this.selectedRecepientsList.push(n));const C=n.split(" ");let f="";C.forEach(h=>{f=h});const p=f.replace("<","").replace(">","");this.recpListBcc.push(p),this.sendEmailForm.get("bcc").setValue(null),this.sendEmailForm.get("bcc").setValue(""),this.recipientBcc.nativeElement.value=""}emitSelectedLanguagesTo(){this.optionSelected.emit(this.returnType===w.OBJECT?this.selectedEmailTo:this.selectedEmailTo.map(this.returnType===w.VALUE?e=>e.value:e=>e.label))}emitSelectedLanguagesCc(){this.optionSelected.emit(this.returnType===w.OBJECT?this.selectedEmailCc:this.selectedEmailCc.map(this.returnType===w.VALUE?e=>e.value:e=>e.label))}emitSelectedLanguagesBcc(){this.optionSelected.emit(this.returnType===w.OBJECT?this.selectedEmailBcc:this.selectedEmailBcc.map(this.returnType===w.VALUE?e=>e.value:e=>e.label))}removeTo(e){const n=this.selectedEmailTo.findIndex(a=>a===e),o=this.selectedRecepientsList.findIndex(a=>a===e);n>=0&&this.selectedEmailTo.splice(n,1),o>=0&&this.selectedRecepientsList.splice(o,1),this.emitSelectedLanguagesTo()}removeCc(e){const n=this.selectedEmailCc.findIndex(a=>a===e),o=this.selectedRecepientsList.findIndex(a=>a===e);n>=0&&this.selectedEmailCc.splice(n,1),o>=0&&this.selectedRecepientsList.splice(o,1),this.emitSelectedLanguagesCc()}removeBcc(e){const n=this.selectedEmailBcc.findIndex(a=>a===e),o=this.selectedRecepientsList.findIndex(a=>a===e);n>=0&&this.selectedEmailBcc.splice(n,1),o>=0&&this.selectedRecepientsList.splice(o,1),this.emitSelectedLanguagesBcc()}addTo(e){if(!this.matAutocomplete.isOpen){const n=e.chipInput.inputElement,o=e.value,a=o.split(" ");let d="";a.forEach(f=>{d=f});const C=d.replace("<","").replace(">","");this.validateEmail(C)&&(o||"").trim()&&this.allowOther&&this.selectedEmailTo.push({label:o.trim(),value:o.trim()}),n&&(n.value=""),this.sendEmailForm.get("to").setValue(null),this.sendEmailForm.get("to").setValue("")}this.emitSelectedLanguagesTo()}addCc(e){if(!this.matAutocomplete.isOpen){const n=e.chipInput.inputElement,o=e.value,a=o.split(" ");let d="";a.forEach(f=>{d=f});const C=d.replace("<","").replace(">","");this.validateEmail(C)&&(o||"").trim()&&this.allowOther&&this.selectedEmailCc.push({label:o.trim(),value:o.trim()}),n&&(n.value=""),this.sendEmailForm.get("cc").setValue(null),this.sendEmailForm.get("cc").setValue("")}this.emitSelectedLanguagesCc()}addBcc(e){if(!this.matAutocomplete.isOpen){const n=e.chipInput.inputElement,o=e.value,a=o.split(" ");let d="";a.forEach(f=>{d=f});const C=d.replace("<","").replace(">","");this.validateEmail(C)&&(o||"").trim()&&this.allowOther&&this.selectedEmailBcc.push({label:o.trim(),value:o.trim()}),n&&(n.value=""),this.sendEmailForm.get("bcc").setValue(null),this.sendEmailForm.get("bcc").setValue("")}this.emitSelectedLanguagesBcc()}resetValueTo(){this.sendEmailForm.get("to").patchValue("",{emitEvent:!0})}resetValueCc(){this.sendEmailForm.get("cc").patchValue("",{emitEvent:!0})}resetValueBcc(){this.sendEmailForm.get("bcc").patchValue("",{emitEvent:!0})}computeGroupDetails(){const e=this.sendEmailForm.get("rncp_titles").value.map(o=>o.id);let n=[];return this.sendEmailForm.get("user_type_selection").value&&(n=this.sendEmailForm.get("user_types").value.map(o=>o.id)),{rncp_titles:e,user_types:n}}handleInputChange(e){const n=e.target.files[0];n&&(this.subs.sink=this.fileUploadService.singleUpload(n).subscribe(o=>{o?this.attachmnetsPaths.push({path:o.file_url,name:o.file_name}):m().fire({type:"info",title:this.translate.instant("SORRY"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("OK")})},o=>{this.authService.postErrorLog(o),o&&o.message&&o.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.resetFileState()}resetFileState(){this.currentFile.nativeElement.value=""}getRecipientsData(){this.subs.sink=this.sendEmailForm.get("to").valueChanges.pipe((0,O.b)(800)).subscribe(e=>{this.emailAddressesListTo=[],e&&(this.subs.sink=this.mailboxService.getRecipientDataUsingName(e.toString()).subscribe(n=>{n&&n.length&&n.filter(a=>!this.selectedRecepientsList.includes(("neutral"!==a.civility?this.translate.instant(a.civility):"")+" "+a.first_name+" "+a.last_name+" <"+a.email+">")).concat(this.selectedRecepientsList.filter(a=>!this.selectedRecepientsList.includes(("neutral"!==a.civility?a.civility:"")+" "+a.first_name+" "+a.last_name+" <"+a.email+">"))).forEach(a=>{void 0!==a.email&&this.emailAddressesListTo.push(("neutral"!==a.civility?this.translate.instant(a.civility):"")+" "+a.first_name+" "+a.last_name+" <"+a.email+">")})},n=>{this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}),this.subs.sink=this.sendEmailForm.get("cc").valueChanges.pipe((0,O.b)(800)).subscribe(e=>{this.isWaitingForResponse=!0,this.emailAddressesListCc=[],e&&e.length?this.subs.sink=this.mailboxService.getRecipientDataUsingName(e.toString()).subscribe(n=>{n&&(this.isWaitingForResponse=!1,n.filter(a=>!this.selectedRecepientsList.includes(("neutral"!==a.civility?this.translate.instant(a.civility):"")+" "+a.first_name+" "+a.last_name+" <"+a.email+">")).concat(this.selectedRecepientsList.filter(a=>!this.selectedRecepientsList.includes(("neutral"!==a.civility?a.civility:"")+" "+a.first_name+" "+a.last_name+" <"+a.email+">"))).forEach(a=>{void 0!==a.email&&this.emailAddressesListCc.push(("neutral"!==a.civility?this.translate.instant(a.civility):"")+" "+a.first_name+" "+a.last_name+" <"+a.email+">")}))},n=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.isWaitingForResponse=!1}),this.subs.sink=this.sendEmailForm.get("bcc").valueChanges.pipe((0,O.b)(800)).subscribe(e=>{this.isWaitingForResponse=!0,this.emailAddressesListBcc=[],e&&e.length?this.subs.sink=this.mailboxService.getRecipientDataUsingName(e.toString()).subscribe(n=>{n&&(this.isWaitingForResponse=!1,n.filter(a=>!this.selectedRecepientsList.includes(("neutral"!==a.civility?this.translate.instant(a.civility):"")+" "+a.first_name+" "+a.last_name+" <"+a.email+">")).concat(this.selectedRecepientsList.filter(a=>!this.selectedRecepientsList.includes(("neutral"!==a.civility?a.civility:"")+" "+a.first_name+" "+a.last_name+" <"+a.email+">"))).forEach(a=>{void 0!==a.email&&this.emailAddressesListBcc.push(("neutral"!==a.civility?this.translate.instant(a.civility):"")+" "+a.first_name+" "+a.last_name+" <"+a.email+">")}))},n=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.isWaitingForResponse=!1})}getCurrentUser(){this.currentUser=this.userService.getLocalStorageUser()}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(D.WI),t.\u0275\u0275directiveInject(x.sK),t.\u0275\u0275directiveInject(H.e),t.\u0275\u0275directiveInject(Bt.e),t.\u0275\u0275directiveInject(Lt.J),t.\u0275\u0275directiveInject(D.so),t.\u0275\u0275directiveInject(s.UntypedFormBuilder),t.\u0275\u0275directiveInject(H.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-mail-internship-dialog"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(Rt,5),t.\u0275\u0275viewQuery(Nt,5),t.\u0275\u0275viewQuery(Vt,5),t.\u0275\u0275viewQuery(Ht,5),t.\u0275\u0275viewQuery(jt,5)),2&e){let o;t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.languagesInput=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.recipientCc=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.recipientBcc=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.matAutocomplete=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.currentFile=o.first)}},inputs:{allowOther:"allowOther",returnType:"returnType"},outputs:{optionSelected:"optionSelected"},decls:46,vars:35,consts:[[3,"formGroup"],[1,"fontColor"],["mat-dialog-title","","cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle",""],["svgIcon","pencil",1,"icon-style"],[1,"alignment"],[1,"icon-style",3,"matTooltip","click"],[1,"icon-style",3,"click"],[1,"icon-style",3,"matTooltip"],["type","file","name","file","multiple","","accept",".jpeg,.png,.rar,.zip,.doc,.docx,.ppt,.pdf,.xls",2,"display","none",3,"change"],["myInput",""],["class","vertical-align-mid cursorStyle",3,"matTooltip","click",4,"ngIf"],["style","color: rgb(170, 168, 168)","class","vertical-align-mid cursorStyle",3,"matTooltip",4,"ngIf"],[1,"chip-list"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","email","formControlName","to",3,"placeholder","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["languagesInput",""],[3,"panelWidth","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["class","chip-list",4,"ngIf"],["matInput","","formControlName","subject",3,"placeholder"],[4,"ngIf"],[1,"file-section","p-col-12"],["class","fileInfo",4,"ngFor","ngForOf"],["formControlName","message",3,"editor","config","ready"],["class","loading-indicator",4,"ngIf"],[1,"vertical-align-mid","cursorStyle",3,"matTooltip","click"],[1,"vertical-align-mid","cursorStyle",2,"color","rgb(170, 168, 168)",3,"matTooltip"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],["chipListCc",""],["formControlName","cc",3,"placeholder","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["recipientCc",""],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["chipListBcc",""],["formControlName","bcc",3,"placeholder","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["recipientBcc",""],[1,"fileInfo"],["mat-icon-button","","type","button"],["mat-icon-button","","type","button",3,"click"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"form",0)(1,"div",1)(2,"h1",2),t.\u0275\u0275element(3,"mat-icon",3),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementStart(6,"div",4)(7,"mat-icon",5),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275text(9,"close"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"label")(11,"a",6),t.\u0275\u0275listener("click",function(){return n.showCC=!n.showCC}),t.\u0275\u0275text(12,"CC"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(13,"label")(14,"a",6),t.\u0275\u0275listener("click",function(){return n.showBCC=!n.showBCC}),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(17,"label")(18,"mat-icon",7),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275text(20,"attachment"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"input",8,9),t.\u0275\u0275listener("change",function(a){return n.handleInputChange(a)}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(23,Ut,3,3,"mat-icon",10),t.\u0275\u0275template(24,Wt,3,3,"mat-icon",11),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(25,"mat-dialog-content")(26,"mat-form-field",12)(27,"mat-chip-list",null,13),t.\u0275\u0275template(29,Kt,3,4,"mat-chip",14),t.\u0275\u0275elementStart(30,"input",15,16),t.\u0275\u0275listener("matChipInputTokenEnd",function(a){return n.addTo(a)}),t.\u0275\u0275pipe(32,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(33,"mat-autocomplete",17,18),t.\u0275\u0275listener("optionSelected",function(a){return n.setSelectedEmailTo(a)}),t.\u0275\u0275template(35,Yt,2,2,"mat-option",19),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(36,Zt,10,10,"mat-form-field",20),t.\u0275\u0275template(37,ee,10,10,"mat-form-field",20),t.\u0275\u0275elementStart(38,"mat-form-field"),t.\u0275\u0275element(39,"input",21),t.\u0275\u0275pipe(40,"translate"),t.\u0275\u0275template(41,ne,3,3,"mat-error",22),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(42,"div",23),t.\u0275\u0275template(43,ie,9,1,"div",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(44,"ckeditor",25),t.\u0275\u0275listener("ready",function(a){return n.onReady(a)}),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(45,oe,2,0,"div",26)),2&e){const o=t.\u0275\u0275reference(28),a=t.\u0275\u0275reference(34);t.\u0275\u0275property("formGroup",n.sendEmailForm),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,23,"MailBox.composeMail.title")," "),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(8,25,"CLOSE")),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(16,27,"MailBox.composeMail.bcc")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(19,29,"MailBox.ATTACH_FILE")),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",n.sendEmailForm.get("subject").value&&n.selectedEmailTo.length&&!n.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(n.sendEmailForm.get("subject").value&&n.selectedEmailTo.length&&!n.isWaitingForResponse)),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngForOf",n.selectedEmailTo),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder"," ",t.\u0275\u0275pipeBind1(32,31,"MailBox.composeMail.to"),""),t.\u0275\u0275property("matAutocomplete",a)("matChipInputFor",o)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes)("matChipInputAddOnBlur",n.addOnBlur),t.\u0275\u0275advance(3),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.emailAddressesListTo),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.showCC||n.showCCInput),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.showBCC||n.showBCCInput),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(40,33,"MailBox.subject")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.sendEmailForm.get("subject").hasError("required")&&(n.sendEmailForm.get("subject").dirty||n.sendEmailForm.get("subject").touched)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.attachmnetsPaths),t.\u0275\u0275advance(1),t.\u0275\u0275property("editor",n.Editor)("config",n.config),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse)}},dependencies:[st.Zt,st.Bh,W.XC,W.ZL,X.ey,L.lW,$.qn,$.HS,$.oH,$.qH,D.uh,D.xY,R.Hw,k.TO,k.KE,N.Nt,V.Ou,Y.gM,s.\u0275NgNoValidate,s.DefaultValueAccessor,s.NgControlStatus,s.NgControlStatusGroup,s.FormGroupDirective,s.FormControlName,g.sg,g.O5,F.u,x.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}[_nghost-%COMP%]     .mat-dialog-content{max-height:520px;height:auto}[_nghost-%COMP%]     .ck-editor__editable_inline{height:45vh}.alignment[_ngcontent-%COMP%]{float:right}.cursorStyle[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.chip-list[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}"]}),i})();var re=l(87746),le=l(12334),se=l(84075),ce=l(56709);function de(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",34),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.addContact())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",35),t.\u0275\u0275text(3,"plus"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Add User Type")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,4,"Add Contact")," "))}function pe(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",28)(1,"div",29)(2,"div",30),t.\u0275\u0275template(3,de,6,6,"button",31),t.\u0275\u0275elementStart(4,"button",32),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.resetTable())}),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275element(6,"mat-icon",33),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",e.permission.addContactInOrganization()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(5,3,"Reset Filter")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,5,"RESET")," ")}}function me(i,r){1&i&&t.\u0275\u0275element(0,"th",36)}function ge(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",36)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",37),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.nameFilter)}}function he(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",36)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",37),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.emailFilter)}}function ue(i,r){1&i&&t.\u0275\u0275element(0,"th",36)}function fe(i,r){1&i&&t.\u0275\u0275element(0,"th",36)}function _e(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",36)(1,"mat-checkbox",38),t.\u0275\u0275listener("change",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o?a.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.showOptions("all"))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function Ce(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",39)(1,"mat-checkbox",40),t.\u0275\u0275listener("click",function(o){return o.stopPropagation()})("change",function(o){const d=t.\u0275\u0275restoreView(e).$implicit,_=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o?_.selection.toggle(d):null)})("change",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.showOptions("one"))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(e))("aria-label",n.checkboxLabel(e))}}function be(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",41),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Name")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Name")))}function Oe(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",e.last_name," ",e.first_name," ",t.\u0275\u0275pipeBind1(2,3,e.civility)," ")}}function Me(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.last_name," ",e.first_name," ")}}function xe(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275template(1,Oe,3,5,"ng-container",43),t.\u0275\u0275template(2,Me,2,2,"ng-container",43),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip","neutral"==(null==e?null:e.civility)?(null==e?null:e.last_name)+" "+(null==e?null:e.first_name):(null==e?null:e.last_name)+" "+(null==e?null:e.first_name)+" "+n.translate.instant(null==e?null:e.civility)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","neutral"!==e.civility),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","neutral"===e.civility)}}function Pe(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",44),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"email")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"email")))}function ve(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.email),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.email," ")}}function ye(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",44),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Telephone")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Telephone")))}function we(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate2("matTooltip","",null!=e&&e.phone_number_indicative?"+"+(null==e?null:e.phone_number_indicative):"","",e.telephone,""),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",null!=e&&e.phone_number_indicative?"+"+(null==e?null:e.phone_number_indicative):"","",e.telephone," ")}}function Ee(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",44),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function Ie(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",46),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.editContact(o))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Edit")),t.\u0275\u0275property("disabled",!n.validateActionButtonEdit(e))}}function Te(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",46),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.deleteContact(o._id))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("disabled",!n.validateActionButtonDelete(e))}}function Se(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",39),t.\u0275\u0275template(1,Ie,4,4,"button",45),t.\u0275\u0275elementStart(2,"button",46),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.sendMail(a))}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-icon"),t.\u0275\u0275text(5,"send"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(6,Te,4,4,"button",45),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.editContactInOrganization()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(3,4,"Send Email")),t.\u0275\u0275property("disabled",!n.validateActionButtonEmail(e)),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",(n.isOperator||!n.isOperator&&"operator"!==e.entity_name)&&n.dataCount&&n.dataCount>1&&n.permission.deleteContactInOrganization())}}function ke(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",47)(1,"div",48),t.\u0275\u0275element(2,"mat-spinner",49),t.\u0275\u0275elementEnd()())}function De(i,r){1&i&&t.\u0275\u0275element(0,"tr",50)}function ze(i,r){1&i&&t.\u0275\u0275element(0,"tr",50)}function Fe(i,r){1&i&&t.\u0275\u0275element(0,"tr",50)}function Ae(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",51),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function Be(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",52),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function Le(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",53),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")," "))}const Re=function(){return["reset"]},Ne=function(){return["loading"]},Ve=function(i){return{hide:i}},He=function(i){return{"hide-pagination-buttons":i}},je=function(){return[10]};let Ue=(()=>{class i{constructor(e,n,o,a,d,_,C,f,c){this.translate=e,this.dialog=n,this.userService=o,this.userMgtService=a,this.authService=d,this.formFillingService=_,this.permission=C,this.countryService=f,this.utilService=c,this.dataSource=new v.by([]),this.selection=new Ft.Ov(!0,[]),this.isReset=!1,this.dataLoaded=!1,this.displayedColumns=["select","name","email","phone","action"],this.filterColumns=["selectFilter","nameFilter","emailFilter","phoneFilter","actionFilter"],this.filteredValues={name:null,email:null},this.nameFilter=new s.UntypedFormControl(""),this.emailFilter=new s.UntypedFormControl(""),this.isWaitingForResponse=!1,this.isLoading=!1,this.dataCount=0,this.isCheckedAll=!1,this.intackChannelCount=0,this.subs=new T.Y,this.types=[],this.schools=[],this.campuses=[],this.levels=[],this.isWasSelectAll=!1,this.disabledExport=!0,this.countryCodeList=[]}ngOnInit(){this.initFilter(),this.checkIsOperator(),this.getAllContact(),this.getAllCountryCodes(),this.subs.sink=this.translate.onLangChange.subscribe(()=>{this.sortCountryCode()})}sortCountryCode(){this.countryCodeList=this.countryCodeList.sort((e,n)=>this.utilService.simplifyRegex(this.translate.instant(e?.name))<this.utilService.simplifyRegex(this.translate.instant(n?.name))?-1:this.utilService.simplifyRegex(this.translate.instant(e?.name))>this.utilService.simplifyRegex(this.translate.instant(n?.name))?1:0)}ngOnChanges(){this.resetTable(),this.getAllContact()}ngOnDestroy(){this.subs.unsubscribe()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,y.b)(()=>{this.isReset||this.getAllContact(),this.dataLoaded=!0})).subscribe()}getAllCountryCodes(){this.countryCodeList=this.countryService?.getAllCountriesNationality()}checkIsOperator(){this.isOperator=this.authService.getCurrentUser().entities.some(e=>e.entity_name&&"operator"===e.entity_name)}getAllContact(){this.isWaitingForResponse=!0,this.subs.sink=this.formFillingService.getAllContacts(this.orgId,this.filteredValues,this.sortValue,null,null).subscribe(e=>{e?(console.log(e),this.dataSource.data=e,this.dataSource.paginator=this.paginator,this.dataCount=e.length):(this.dataSource.data=[],this.dataSource.paginator=this.paginator,this.dataCount=0),this.isWaitingForResponse=!1,this.noData=this.dataSource.connect().pipe((0,zt.U)(n=>0===n.length))},e=>{this.isWaitingForResponse=!1,this.dataSource.data=[],this.dataSource.paginator=this.paginator,m().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}initFilter(){this.subs.sink=this.nameFilter.valueChanges.pipe((0,O.b)(400)).subscribe(e=>{e.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,.\/]/)||e.match(/\\/)?(this.nameFilter.setValue(""),this.filteredValues.name="",this.paginator.pageIndex=0,this.getAllContact()):(this.filteredValues.name=e,this.paginator.pageIndex=0,this.getAllContact())}),this.subs.sink=this.emailFilter.valueChanges.pipe((0,O.b)(400)).subscribe(e=>{e.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,.\/]/)||e.match(/\\/)?(this.emailFilter.setValue(""),this.filteredValues.email="",this.paginator.pageIndex=0,this.getAllContact()):(this.filteredValues.email=e,this.paginator.pageIndex=0,this.getAllContact())})}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.paginator.pageIndex=0,this.getAllContact()}resetTable(){this.isReset=!0,this.selection.clear(),this.isCheckedAll=!1,this.paginator.pageIndex=0,this.orgSelected=[],this.filteredValues={name:"",email:""},this.sort.direction="",this.sort.active="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=null,this.nameFilter.patchValue(null,{emitEvent:!1}),this.emailFilter.patchValue(null,{emitEvent:!1}),this.getAllContact()}addContact(){this.subs.sink=this.dialog.open(lt.O,{minWidth:"600px",disableClose:!0,data:{orgId:this.orgId,countryCodeList:this.countryCodeList}}).afterClosed().subscribe(e=>{e&&this.getAllContact()})}editContact(e){this.subs.sink=this.dialog.open(lt.O,{minWidth:"600px",disableClose:!0,data:{orgId:this.orgId,data:e,countryCodeList:this.countryCodeList}}).afterClosed().subscribe(n=>{n&&this.getAllContact()})}cleanFilterData(){const e=b.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(o=>{(e[o]||!1===e[o])&&(n+=` ${o}:"${e[o]}"`)}),"filter: {"+n+"}"}deleteContact(e){m().fire({type:"warning",title:this.translate.instant("Warning"),text:this.translate.instant("Are you sure you want to delete this contact"),showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL")}).then(n=>{clearTimeout(this.timeOutVal),n.value&&this.removeContact(e)})}temporarilyDisableConfirmButton(e){const n=m().getConfirmButton();n.setAttribute("disabled","");const o=setInterval(()=>{e-=1,n.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+e+" sec"},1e3);this.timeOutVal=setTimeout(()=>{n.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),n.removeAttribute("disabled"),clearInterval(o),clearTimeout(this.timeOutVal)},1e3*e)}removeContact(e){this.isWaitingForResponse=!0,console.log(e),this.subs.sink=this.formFillingService.deleteContact(e).subscribe(n=>{this.isWaitingForResponse=!1,n&&m().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getAllContact()})},n=>{this.isWaitingForResponse=!1,this.swalError(n)})}swalError(e){this.isWaitingForResponse=!1,console.log("[Response BE][Error] : ",e),"GraphQL error: This admission user type already have student admitted to this user!"===e.message?m().fire({type:"info",title:this.translate.instant("User_S3.TITLE"),text:this.translate.instant("User_S3.TEXT"),confirmButtonText:this.translate.instant("User_S3.BUTTON")}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:"OK"})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?(this.selection.clear(),this.isCheckedAll=!1):(this.isCheckedAll=!0,this.dataSource.data.forEach(e=>this.selection.select(e)))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}sendMail(e){e&&(""===e.email?m().fire({type:"info",title:this.translate.instant("Org_S3.TITLE"),text:this.translate.instant("Org_S3.TEXT"),confirmButtonText:this.translate.instant("Org_S3.BUTTON")}):this.subs.sink=this.dialog.open(ae,{disableClose:!0,width:"750px",data:[{civility:e.civility,email:e.email,first_name:e.first_name,last_name:e.last_name}]}).afterClosed().subscribe(o=>{}))}validateActionButtonEmail(e){let n=!0;return this.orgSelected&&this.orgSelected.length>0&&(n=!1),n}validateActionButtonDelete(e){let n=!0;return this.orgSelected&&this.orgSelected.length>0&&(n=!1),n}validateActionButtonEdit(e){let n=!0;return this.orgSelected&&this.orgSelected.length>0&&(n=!1),n}showOptions(e){const n=this.selection.selected.length;"all"===e&&(this.isWasSelectAll=!0),n>0?this.disabledExport=!1:(this.disabledExport=!0,this.isWasSelectAll=!1),console.log("showOptions",this.isWasSelectAll,e),this.orgSelected=[],this.selectType=e,this.selection.selected.forEach(a=>{this.orgSelected.push(a)})}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(x.sK),t.\u0275\u0275directiveInject(D.uw),t.\u0275\u0275directiveInject(re.K),t.\u0275\u0275directiveInject(ot.x),t.\u0275\u0275directiveInject(H.e),t.\u0275\u0275directiveInject(B.d),t.\u0275\u0275directiveInject(rt.$),t.\u0275\u0275directiveInject(le.T),t.\u0275\u0275directiveInject(se.t))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-organization-detail-contact"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(u.NW,7),t.\u0275\u0275viewQuery(Z.YE,7)),2&e){let o;t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.paginator=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.sort=o.first)}},inputs:{orgId:"orgId"},features:[t.\u0275\u0275NgOnChangesFeature],decls:42,vars:23,consts:[[1,"top-space"],[1,"horizontal"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","8","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","selectFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","nameFilter"],["matColumnDef","emailFilter"],["matColumnDef","phoneFilter"],["matColumnDef","actionFilter"],["matColumnDef","select"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","name","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","email"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","phone"],["matColumnDef","action"],["matColumnDef","loading"],["mat-header-cell","","colspan","8","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["mat-header-cell","","colspan","8",1,"action-header-column","text-right"],[1,"p-grid"],[1,"p-col-12","text-right"],["mat-raised-button","","color","accent",3,"matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-raised-button","","color","accent",3,"matTooltip","click"],["svgIcon","plus",1,"mat-icon-svgIcon"],["mat-header-cell",""],["matInput","",1,"form-field",3,"formControl","placeholder"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-sort-header","name","mat-header-cell","",3,"matTooltip"],["mat-cell","",3,"matTooltip"],[4,"ngIf"],["mat-header-cell","",3,"matTooltip"],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","disabled","click"],["mat-header-cell","","colspan","8",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"table",2),t.\u0275\u0275listener("matSortChange",function(a){return n.sortData(a)}),t.\u0275\u0275elementContainerStart(3,3),t.\u0275\u0275template(4,pe,9,7,"th",4),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(5,5),t.\u0275\u0275template(6,me,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(7,7),t.\u0275\u0275template(8,ge,4,4,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(9,8),t.\u0275\u0275template(10,he,4,4,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(11,9),t.\u0275\u0275template(12,ue,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(13,10),t.\u0275\u0275template(14,fe,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(15,11),t.\u0275\u0275template(16,_e,2,3,"th",6),t.\u0275\u0275template(17,Ce,2,2,"td",12),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,13),t.\u0275\u0275template(19,be,5,6,"th",14),t.\u0275\u0275template(20,xe,3,3,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(21,16),t.\u0275\u0275template(22,Pe,5,6,"th",17),t.\u0275\u0275template(23,ve,2,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,18),t.\u0275\u0275template(25,ye,5,6,"th",17),t.\u0275\u0275template(26,we,2,4,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(27,19),t.\u0275\u0275template(28,Ee,5,6,"th",17),t.\u0275\u0275template(29,Se,7,6,"td",12),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(30,20),t.\u0275\u0275template(31,ke,3,0,"th",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(32,De,1,0,"tr",22),t.\u0275\u0275template(33,ze,1,0,"tr",22),t.\u0275\u0275template(34,Fe,1,0,"tr",22),t.\u0275\u0275template(35,Ae,1,1,"tr",23),t.\u0275\u0275template(36,Be,1,1,"tr",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(37,Le,3,3,"div",25),t.\u0275\u0275pipe(38,"async"),t.\u0275\u0275elementStart(39,"div",26),t.\u0275\u0275pipe(40,"async"),t.\u0275\u0275element(41,"mat-paginator",27),t.\u0275\u0275elementEnd()()()),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(30),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(16,Re)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(17,Ne)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(38,12,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,Ve,t.\u0275\u0275pipeBind1(40,14,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(20,He,n.dataCount<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(22,je)))},dependencies:[L.lW,ce.oG,R.Hw,k.KE,N.Nt,u.NW,V.Ou,Z.YE,Z.nU,v.BZ,v.fO,v.as,v.w1,v.Dz,v.nj,v.ge,v.ev,v.XQ,v.Gk,Y.gM,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlDirective,G.oO,g.mk,g.O5,x.X$,g.Ov],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.pad-top-miss[_ngcontent-%COMP%]{padding-top:1.8px!important}.form-field[_ngcontent-%COMP%]{margin-top:.5px}.tag-container[_ngcontent-%COMP%]{white-space:normal;text-align:left!important;line-height:2.3;overflow-wrap:break-word}.green[_ngcontent-%COMP%]{color:#adff2f}.horizontal[_ngcontent-%COMP%]{overflow-x:hidden;background:#424242}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454;padding-left:.3rem!important;padding-right:.3rem!important}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){text-align:center;width:3%}[_nghost-%COMP%]     table tr td:nth-child(2) -shadowcsshost   table tr td:nth-child(3) -shadowcsshost   table tr td:nth-child(4), [_nghost-%COMP%]     table tr td:nth-child(2) -shadowcsshost   table tr td:nth-child(3) -shadowcsshost   table tr th:nth-child(4), [_nghost-%COMP%]     table tr td:nth-child(2) -shadowcsshost   table tr th:nth-child(3) -shadowcsshost   table tr td:nth-child(4), [_nghost-%COMP%]     table tr td:nth-child(2) -shadowcsshost   table tr th:nth-child(3) -shadowcsshost   table tr th:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(2) -shadowcsshost   table tr td:nth-child(3) -shadowcsshost   table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(2) -shadowcsshost   table tr td:nth-child(3) -shadowcsshost   table tr th:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(2) -shadowcsshost   table tr th:nth-child(3) -shadowcsshost   table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(2) -shadowcsshost   table tr th:nth-child(3) -shadowcsshost   table tr th:nth-child(4){width:30%}[_nghost-%COMP%]     table tr td:nth-child(2) -shadowcsshost   table tr td:nth-child(3) -shadowcsshost   table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr td:nth-child(2) -shadowcsshost   table tr td:nth-child(3) -shadowcsshost   table tr th:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr td:nth-child(2) -shadowcsshost   table tr th:nth-child(3) -shadowcsshost   table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr td:nth-child(2) -shadowcsshost   table tr th:nth-child(3) -shadowcsshost   table tr th:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) -shadowcsshost   table tr td:nth-child(3) -shadowcsshost   table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) -shadowcsshost   table tr td:nth-child(3) -shadowcsshost   table tr th:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) -shadowcsshost   table tr th:nth-child(3) -shadowcsshost   table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) -shadowcsshost   table tr th:nth-child(3) -shadowcsshost   table tr th:nth-child(4) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){min-width:225px;max-width:225px!important;width:225px;padding-right:0!important;text-align:center!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;color:#000;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top;text-align:center}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}[_nghost-%COMP%]     table .userpopup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:52em;max-width:100%;padding:1.25em;border:none;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem}.red[_ngcontent-%COMP%]{color:#ff4040}.person-image[_ngcontent-%COMP%]{display:inline-block;margin-right:0;height:18px;width:18px;vertical-align:baseline}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.school-backdrop[_ngcontent-%COMP%] + .cdk-overlay-pane[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:visible}.mat-column-select[_ngcontent-%COMP%]{overflow:initial}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.pc-section[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:5px;display:inline-block}.cr-section[_ngcontent-%COMP%]{width:50%;text-align:left;display:inline-block}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}[_nghost-%COMP%]  .ng-select .ng-select-container{color:#000;color:#fff;background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.top-filter[_ngcontent-%COMP%]{margin-top:15px;padding-bottom:30px}"]}),i})();function We(i,r){1&i&&(t.\u0275\u0275elementStart(0,"h5"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Details")))}function $e(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-organization-detail-form",6),t.\u0275\u0275listener("reloadData",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.passData(o))}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("orgId",e.orgId)}}function Ke(i,r){1&i&&(t.\u0275\u0275elementStart(0,"h5"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Contacts")))}function Ye(i,r){if(1&i&&t.\u0275\u0275element(0,"ms-organization-detail-contact",7),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("orgId",e.orgId)}}let Ge=(()=>{class i{constructor(){this.selectedIndex=0,this.reloadData=new t.EventEmitter}ngOnInit(){}passData(e){this.reloadData.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-organization-detail-tab"]],inputs:{orgId:"orgId"},outputs:{reloadData:"reloadData"},decls:8,vars:1,consts:[[3,"selectedIndex","selectedIndexChange"],["candidateMatGroup",""],["label","user_type"],["mat-tab-label",""],["matTabContent",""],["label","indentity"],[3,"orgId","reloadData"],[3,"orgId"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"mat-tab-group",0,1),t.\u0275\u0275listener("selectedIndexChange",function(a){return n.selectedIndex=a}),t.\u0275\u0275elementStart(2,"mat-tab",2),t.\u0275\u0275template(3,We,3,3,"ng-template",3),t.\u0275\u0275template(4,$e,1,1,"ng-template",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-tab",5),t.\u0275\u0275template(6,Ke,3,3,"ng-template",3),t.\u0275\u0275template(7,Ye,1,1,"ng-template",4),t.\u0275\u0275elementEnd()()),2&e&&t.\u0275\u0275property("selectedIndex",n.selectedIndex)},dependencies:[U.SP,U.uD,U.uX,U.Vc,Dt,Ue,x.X$]}),i})();const Qe=["candidateMatGroup"],Xe=["admissionStatus"];function Ze(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",14)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",null==e.organization?null:e.organization.name," ")}}function Je(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",14)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"Type of Organization")," : "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",null==e.organization?null:e.organization.organization_type," ")}}function qe(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",17)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"Added the")," : "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",e.translateGraduationDate(null==e.organization?null:e.organization.date_added)," ")}}function tn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",17)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"Last modification")," : "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",e.translateGraduationDate(null==e.organization?null:e.organization.date_updated)," ")}}function en(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",8)(1,"div",9)(2,"div",10),t.\u0275\u0275template(3,Ze,3,1,"div",11),t.\u0275\u0275template(4,Je,6,4,"div",11),t.\u0275\u0275template(5,qe,6,4,"div",12),t.\u0275\u0275template(6,tn,6,4,"div",12),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",13)(8,"div",10)(9,"div",14)(10,"span"),t.\u0275\u0275text(11),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",15)(13,"span"),t.\u0275\u0275text(14),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",15)(16,"span"),t.\u0275\u0275text(17),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(18,"div",15),t.\u0275\u0275elementStart(19,"div",16)(20,"span"),t.\u0275\u0275text(21),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(22,"div",16)(23,"span"),t.\u0275\u0275text(24),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(25,"div",16)(26,"span"),t.\u0275\u0275text(27),t.\u0275\u0275elementEnd()()()()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.organization?null:e.organization.name),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.organization?null:e.organization.organization_type),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.organization?null:e.organization.date_added),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.organization?null:e.organization.date_updated),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",null==e.organization?null:e.organization.address," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",null==e.organization?null:e.organization.postal_code," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",null==e.organization?null:e.organization.country," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",null==e.organization?null:e.organization.city," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",null==e.organization?null:e.organization.department," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",null==e.organization?null:e.organization.region," ")}}let nn=(()=>{class i{constructor(e,n,o,a,d,_,C,f,c,p){this.candidateService=e,this.dialog=n,this.translate=o,this.admissionService=a,this.userService=d,this.authService=_,this.userMgtService=C,this.formFillingService=f,this.parseStringDatePipe=c,this.parseUTCtoLocal=p,this.serverimgPath=`${et.a.baseApi}/fileuploads/`.replace("/graphql",""),this.reload=new t.EventEmitter,this.loading=new t.EventEmitter,this.organization={},this.isWaitingForResponse=!0,this.subs=new T.Y,this.tabs={"note-tab":"Add a Note","history-tab":"Candidate history","edit-tab":"Modifications","evolution-tab":"Evolution"},this.maleCandidateIcon="../../../../../assets/img/student_icon.png",this.femaleCandidateIcon="../../../../../assets/img/student_icon_fem.png",this.neutralStudentIcon="../../../../../assets/img/student_icon_neutral.png",this.userProfilePic="../../../../../assets/img/user-1.jpg",this.userProfilePic1="../../../../../assets/img/user-3.jpg",this.userProfilePic2="../../../../../assets/img/user-5.jpg",this.greenHeartIcon="../../../../../assets/img/enagement_icon_green.png",this.selectedIndex=0,this.userData=[],this.personalSituation=!1,this.restrictiveCondition=!1,this.studentStatusList=[],this.listStatusAdmitted=[{value:"resign",key:"Resign"}],this.listStatusEngaged=[{value:"resigned_after_engaged",key:"Resign after engaged"}],this.listStatusRegistered=[{value:"resigned_after_registered",key:"Resign after registered"}]}ngOnInit(){this.moveToTab(this.tab),this.setupRefreshListener(),this.datePipe=new g.uU(this.translate.currentLang),this.subs.sink=this.translate.onLangChange.subscribe(()=>{this.datePipe=new g.uU(this.translate.currentLang)})}ngAfterViewInit(){this.moveToTab(this.tab)}ngOnChanges(){this.isWaitingForResponse=!0,console.log(this.orgId),this.getOneUser(),this.currentUser=this.authService.getCurrentUser()}setupRefreshListener(){this.subs.sink=this.formFillingService.refresh.subscribe(e=>{e&&this.getOneUser()})}getOneUser(){this.isWaitingForResponse=!0,this.subs.sink=this.formFillingService.getOneOrganizationForCardList(this.orgId).subscribe(e=>{this.isWaitingForResponse=!1,e&&(this.organization=e)},e=>{this.isWaitingForResponse=!1,m().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}ngOnDestroy(){this.subs.unsubscribe()}moveToTab(e){if(e)switch(e){case"Identity":this.selectedIndex=2;break;case"Contact":this.selectedIndex=3;break;default:this.selectedIndex=0}}nextStep(e){console.log("_val",e),e&&this.moveToTab(e)}reloadData(e){e&&(this.getOneUser(),this.reload.emit(!0))}loadingData(e){this.loading.emit(e)}translateGraduationDate(e){if(e){const n=ht(e).format("MM/DD/YYYY");return this.datePipe.transform(n,"dd MMM y")}return""}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(ut.o),t.\u0275\u0275directiveInject(D.uw),t.\u0275\u0275directiveInject(x.sK),t.\u0275\u0275directiveInject(ft.w),t.\u0275\u0275directiveInject(_t.f),t.\u0275\u0275directiveInject(H.e),t.\u0275\u0275directiveInject(ot.x),t.\u0275\u0275directiveInject(B.d),t.\u0275\u0275directiveInject(nt.n),t.\u0275\u0275directiveInject(it.t))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-organization-detail-card"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(Qe,5),t.\u0275\u0275viewQuery(Xe,5)),2&e){let o;t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.candidateMatGroup=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.matMenuTrigger=o.first)}},inputs:{orgId:"orgId",tab:"tab"},outputs:{reload:"reload",loading:"loading"},features:[t.\u0275\u0275ProvidersFeature([it.t,nt.n]),t.\u0275\u0275NgOnChangesFeature],decls:13,vars:6,consts:[[1,"example-headers-align","user-summary"],["accordion",""],[1,"panel-spacing",3,"expanded"],[1,"background-primary","panel-header"],[2,"color","white","align-self","center","margin","0px"],[1,"pane-divider"],["class","student-detail p-grid",4,"ngIf"],[3,"orgId"],[1,"student-detail","p-grid"],[1,"right-border","p-col-6","no-padding"],[1,"p-grid",2,"align-items","flex-start"],["class","phone p-col-12",4,"ngIf"],["class","school-email p-col-12",4,"ngIf"],[1,"p-col-6","no-padding"],[1,"phone","p-col-12"],[1,"phone","p-col-4"],[1,"school-email","p-col-4"],[1,"school-email","p-col-12"]],template:function(e,n){1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-accordion",0,1)(3,"mat-expansion-panel",2)(4,"mat-expansion-panel-header",3)(5,"mat-panel-title")(6,"h4",4),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(9,"div",5),t.\u0275\u0275template(10,en,28,10,"div",6),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerStart(11),t.\u0275\u0275element(12,"ms-organization-detail-tab",7),t.\u0275\u0275elementContainerEnd()()),2&e&&(t.\u0275\u0275advance(3),t.\u0275\u0275property("expanded",n.orgId),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,4,"The Organization")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.organization),t.\u0275\u0275advance(2),t.\u0275\u0275property("orgId",n.orgId))},dependencies:[j.pp,j.ib,j.yz,j.yK,g.O5,Ge,x.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]  .mat-card{border:1px solid #607C8A}[_nghost-%COMP%]  .mat-tab-group{margin-top:1rem}[_nghost-%COMP%]  .mat-tab-group .mat-tab-header{font-size:.9em}[_nghost-%COMP%]  .mat-tab-group .mat-tab-label h4{font-size:13px}[_nghost-%COMP%]  .mat-tab-group .mat-tab-label-active{box-shadow:unset;border:unset}[_nghost-%COMP%]  .mat-tab-group .mat-card{margin-top:5%}img[_ngcontent-%COMP%]{height:130px}.user-summary[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0 5px 10px}.student-detail[_ngcontent-%COMP%]{font-size:.8rem;margin-top:7px!important}.student-detail[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:.5em}.student-detail[_ngcontent-%COMP%]   .student-photo[_ngcontent-%COMP%]{width:130px!important;vertical-align:middle}.student-detail[_ngcontent-%COMP%]   .right-border[_ngcontent-%COMP%]{border-right:solid;margin-top:5px}.student-detail[_ngcontent-%COMP%]   .identity[_ngcontent-%COMP%]{font-size:15px}.student-detail[_ngcontent-%COMP%]   .contact-information[_ngcontent-%COMP%]{padding-left:1em!important;height:95px}.student-detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:top;margin-left:1em}.download-cv[_ngcontent-%COMP%]{cursor:pointer;margin-top:23px}.download-cv[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding:0}.download-cv[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .download-cv[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{transition:all .5s}.download-cv[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%], .download-cv[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%]{color:gray}.yellow[_ngcontent-%COMP%]{color:#ffd740}.orange[_ngcontent-%COMP%]{color:#f49f36}.blue[_ngcontent-%COMP%]{color:#36ebf4}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.magenta[_ngcontent-%COMP%]{color:#f0f}.black[_ngcontent-%COMP%]{color:#000}.cyan[_ngcontent-%COMP%]{color:#0ff}.green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#adff2f}.red-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#ff4040}.candidate-photo[_ngcontent-%COMP%]{width:100%}.mat-icon-status[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:middle;padding-right:0;width:14px}.status[_ngcontent-%COMP%]{font-size:12px;color:#26abeb;font-weight:900;cursor:pointer}.status[_ngcontent-%COMP%]:hover{text-decoration:underline}.status-disabled[_ngcontent-%COMP%]{font-size:12px;color:#26abeb;font-weight:900}.actions[_ngcontent-%COMP%]{padding-left:14px!important;display:flex;position:relative;top:30px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em}.mr-left[_ngcontent-%COMP%]{margin-left:40px!important}.mr-right[_ngcontent-%COMP%]{margin-right:7px!important}.panel-divider[_ngcontent-%COMP%]{border-top:1px solid white;padding-top:0;padding-bottom:4px}.panel-header[_ngcontent-%COMP%]{color:#fff;font-size:16px;height:30px!important}.text-user[_ngcontent-%COMP%]{padding-left:13px!important}.text-user[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:table}.text-user[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:table-row}.text-user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:table-cell;padding-right:15px}.text-user[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{display:table-cell;padding-left:15px}display-none[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]  .mat-expansion-panel-body{height:170px}"]}),i})();function on(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",21),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function an(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"ms-organization-detail-card",22),t.\u0275\u0275listener("reload",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.reload(o))})("loading",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.loadingCommentTab(o))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("tab",e.tab)("orgId",e.currSelectedOrgId)}}function rn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",23),t.\u0275\u0275element(1,"mat-progress-spinner",24),t.\u0275\u0275elementEnd())}const ln=function(i){return{"toggle-card-list":i}},sn=function(i){return{"hide-paginator":i}},cn=function(i){return{"hide-pagination-buttons":i}},dn=function(){return[8]},pn=[{path:"",component:(()=>{class i{constructor(e,n,o,a,d){this.route=e,this.pageTitleService=n,this.translate=o,this.coreService=a,this.formFillingService=d,this.isWaitingForResponse=!0,this.toggleCardList=!1,this.dataCount=0,this.organizationType=["OPCO","CPF","Transition Pro","P\xf4le Emploi","R\xe9gion"],this.nameFilter=new s.UntypedFormControl(null),this.organizationTypeFilter=new s.UntypedFormControl(null),this.myInnerHeight=1920,this.currSelectedOrgId="",this.organizationList=[],this.tab="",this.filteredValues={organization_type:null,organization_name:null},this.isFirstLoad=!0,this.isReset=!1,this.sortValue=null,this.subs=new T.Y}ngOnInit(){this.paginator.pageIndex=0,this.setupRefreshListener(),this.route.queryParams.subscribe(e=>{this.sortValue=e.sortValue||null,this.tab=e.tab,e.organization?this.getOneOrganization(e.organization):this.getAllOrganizations(),this.updatePageTitle(),this.initFilter(),this.coreService.sidenavOpen=!1})}setupRefreshListener(){this.subs.sink=this.formFillingService.refresh.subscribe(e=>{e&&this.getAllOrganizations()})}updatePageTitle(){this.pageTitleService.setTitle(this.translate.instant("Organization Detail")),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.pageTitleService.setTitle(this.translate.instant("Organization Detail"))})}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,y.b)(()=>{this.isFirstLoad||this.getAllOrganizations()})).subscribe()}ngOnDestroy(){this.subs.unsubscribe()}getAutomaticHeight(){return this.myInnerHeight=window.innerHeight-240,this.myInnerHeight}getCardHeight(){return this.myInnerHeight=window.innerHeight-250,this.myInnerHeight}initFilter(){this.subs.sink=this.organizationTypeFilter.valueChanges.subscribe(e=>{this.filteredValues.organization_type=""===e?"":e,this.paginator.pageIndex=0,this.isReset||this.getAllOrganizations()}),this.subs.sink=this.nameFilter.valueChanges.pipe((0,O.b)(400)).subscribe(e=>{this.filteredValues.organization_name=""===e?"":e,this.paginator.pageIndex=0,this.isReset||this.getAllOrganizations()})}getOneOrganization(e){this.isWaitingForResponse=!0,this.subs.sink=this.formFillingService.getOneOrganizationForCardList(e).subscribe(n=>{this.isWaitingForResponse=!1,this.organizationList.unshift(n),this.getAllOrganizations(!0)},n=>{console.log(n),this.isWaitingForResponse=!1})}getAllOrganizations(e=!1){this.isWaitingForResponse=!0,this.subs.sink=this.formFillingService.getAllOrganizations(this.filteredValues,{limit:8,page:this.paginator.pageIndex?this.paginator.pageIndex:0},null).subscribe(a=>{a&&a.length?(e?(this.organizationList.push(a),this.organizationList=[].concat(...this.organizationList),this.organizationList=b.uniqBy([...this.organizationList],"_id")):this.organizationList=a,this.organizationList=this.organizationList.filter(d=>d.name),this.currSelectedOrgId||(this.currSelectedOrg=this.organizationList[0],this.currSelectedOrgId=this.currSelectedOrg._id||null),this.paginator.length=a[0].count_document,this.dataCount=a&&a.length>0&&a[0].count_document?a[0].count_document:0):(this.organizationList=[],this.paginator.length=0,this.dataCount=0),this.isFirstLoad=!1,this.isReset=!1,this.isWaitingForResponse=!1},a=>{this.isWaitingForResponse=!1,this.organizationList=[],this.paginator.length=0,this.dataCount=0,this.isReset=!1,m().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getStringFormatOfFilteredValue(){let e="";return e+=this.filteredValues.organization_type?`organization_type: "${this.filteredValues.organization_type}"`:"",e+=this.filteredValues.organization_name?`name: "${this.filteredValues.organization_name}"`:"",e}cleanFilterData(){const e=b.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(o=>{(e[o]||!1===e[o])&&(n+=` ${o}:${e[o]}`)}),"filter: {"+n+"}"}updatedSelectedOrg(e){this.currSelectedOrgId=null,this.currSelectedOrgId=e;const n=this.organizationList.filter(o=>e===o._id);this.currSelectedOrg=n[0]}reload(e){e&&this.getAllOrganizations()}loadingCommentTab(e){this.isWaitingForResponse=e}heandleReset(){this.isReset=!0,this.paginator.pageIndex=0,this.filteredValues={organization_type:null,organization_name:null},this.organizationTypeFilter.setValue(null,{emitEvent:!1}),this.nameFilter.setValue(null,{emitEvent:!1}),this.sortValue=null,this.getAllOrganizations()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(E.gz),t.\u0275\u0275directiveInject(ct.Z),t.\u0275\u0275directiveInject(x.sK),t.\u0275\u0275directiveInject(K.p),t.\u0275\u0275directiveInject(B.d))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-organization-detail"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(u.NW,7),2&e){let o;t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.paginator=o.first)}},decls:34,vars:47,consts:[[1,"main-candidate-file"],[2,"position","sticky","top","8px"],["fxLayout","row wrap","fxLayoutAlign","start start",1,"header-filter","list-horizontal"],[1,"mrgn-btn",2,"padding-top","3px","width","200px","margin-right","15px",3,"multiple","placeholder","formControl"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"search-field"],[1,"full-width"],["matInput","",3,"formControl","placeholder"],["mat-raised-button","","color","primary",2,"margin-top","10px","margin-left","10px",3,"matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-raised-button","","color","primary",1,"user-list-toggle",3,"click"],[1,"p-grid",2,"padding-top","10px"],[1,"p-col-4","left-side",3,"ngClass"],[3,"organizationList","selectedOrganizationId","selectedOrgChange"],[1,"p-grid","display-block",2,"margin-top","14px !important","z-index","2","position","relative",3,"ngClass"],[1,"p-col-12","pad-x-none"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],[1,"p-col","right-side"],[4,"ngIf"],["class","loading-indicator",4,"ngIf"],[3,"value"],[3,"tab","orgId","reload","loading"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementContainerStart(0,0)(1),t.\u0275\u0275elementStart(2,"div",1)(3,"div",2)(4,"ng-select",3),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementStart(6,"ng-option",4),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,on,2,2,"ng-option",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",6)(11,"mat-form-field",7),t.\u0275\u0275element(12,"input",8),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(14,"button",9),t.\u0275\u0275listener("click",function(){return n.heandleReset()}),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementStart(16,"mat-icon",10),t.\u0275\u0275text(17,"loop"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"div")(21,"button",11),t.\u0275\u0275listener("click",function(){return n.toggleCardList=!n.toggleCardList}),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24),t.\u0275\u0275elementStart(25,"div",12)(26,"div",13)(27,"ms-organization-detail-list",14),t.\u0275\u0275listener("selectedOrgChange",function(a){return n.updatedSelectedOrg(a)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(28,"div",15)(29,"div",16),t.\u0275\u0275element(30,"mat-paginator",17),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(31,"div",18),t.\u0275\u0275template(32,an,2,2,"ng-container",19),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()(),t.\u0275\u0275template(33,rn,2,0,"div",20)),2&e&&(t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(5,28,"Type of Organization")),t.\u0275\u0275property("multiple",!1)("formControl",n.organizationTypeFilter),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,30,"All")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.organizationType),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(13,32,"Organization Name")),t.\u0275\u0275property("formControl",n.nameFilter),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(15,34,"Reset Filter")," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(19,36,"Reset")," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(23,38,n.toggleCardList?"Expand":"Hide")," "),t.\u0275\u0275advance(3),t.\u0275\u0275styleProp("height",n.getAutomaticHeight(),"px")("max-height",n.getAutomaticHeight(),"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(40,ln,n.toggleCardList)),t.\u0275\u0275advance(1),t.\u0275\u0275property("organizationList",n.organizationList)("selectedOrganizationId",n.currSelectedOrgId),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(42,sn,n.toggleCardList)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(44,cn,n.dataCount<=8))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(46,dn)),t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("height",n.getAutomaticHeight(),"px")("max-height",n.getAutomaticHeight(),"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.currSelectedOrgId&&n.currSelectedOrg),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[L.lW,R.Hw,k.KE,N.Nt,u.NW,V.Ou,Y.gM,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlDirective,tt.xw,tt.Wh,G.oO,g.mk,g.sg,g.O5,I.w9,I.jq,gt,nn,x.X$],styles:["[_nghost-%COMP%]  .list-horizontal{padding:0;flex-wrap:nowrap!important;margin-left:1.5em!important}[_nghost-%COMP%]  .list-horizontal>div{display:inline-block;height:auto;width:10em;min-width:9em;margin-right:10px!important}.devMemberImage[_ngcontent-%COMP%]{margin-right:5px!important}[_nghost-%COMP%]  .mat-list-item{max-width:11rem!important}[_nghost-%COMP%]  .float-right{float:right}.yellow[_ngcontent-%COMP%]{color:#ffd740}.orange[_ngcontent-%COMP%]{color:#f49f36}.blue[_ngcontent-%COMP%]{color:#36ebf4}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.black[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.2em}[_nghost-%COMP%]  .mat-form-field-label-wrapper{top:-1em}.user-list-toggle[_ngcontent-%COMP%]{margin-top:1.5rem;margin-left:1.5rem}.right-side[_ngcontent-%COMP%]{overflow:auto;margin-top:1.3vh}.left-side[_ngcontent-%COMP%]{width:335px}.hide-paginator[_ngcontent-%COMP%]{display:none}.left-side.toggle-card-list[_ngcontent-%COMP%]{width:0}"]}),i})()}];let mn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[E.Bz.forChild(pn),E.Bz]}),i})(),gn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({providers:[g.uU],imports:[M.m,F.d,g.ez,mn,I.A0,A.ii.forRoot()]}),i})()},62416:(q,S,l)=>{l.d(S,{t:()=>A});var g=l(15439),I=l(94650);let A=(()=>{class M{transform(s,u){return s?g(s,"HH:mm").subtract(-g().utcOffset(),"m").format("HH:mm"):""}transformAMPM(s,u){return s?g(s,"HH:mm").subtract(-g().utcOffset(),"m").format("HH:mm"):""}transformDate(s,u){if(s&&u)return g(s+u,"DD/MM/YYYYHH:mm").subtract(-g().utcOffset(),"m").format("DD/MM/YYYY")}transformDateInDateFormat(s,u){if(s&&u)return g(s+u,"DD/MM/YYYYHH:mm").subtract(-g().utcOffset(),"m")}fixDateFormat(s){if(s&&s.includes("-")){const u=s.split("-");s=`${u[2]}/${u[1]}/${u[0]}`}return s}fixDateFormatUtc(s){if(s&&s.includes("-")){const u=s.split("-");s=`${u[2].split("T")[0]}/${u[1]}/${u[0]}`}return s}fixTimeFormat(s){return s&&!s.includes(":")&&(s="00:00"),s}transformDateToJavascriptDate(s,u){if(s=this.fixDateFormat(s),u=this.fixTimeFormat(u),s&&u)return g(s+u,"DD/MM/YYYYHH:mm").subtract(-g().utcOffset(),"m").toDate()}transformDateToStringFormat(s,u){if(s&&u)return g(s+u,"DD/MM/YYYYHH:mm").subtract(-g().utcOffset(),"m").format("MMM DD, YYYY")}}return M.\u0275fac=function(s){return new(s||M)},M.\u0275pipe=I.\u0275\u0275definePipe({name:"parseUtcToLocal",type:M,pure:!0}),M})()},12334:(q,S,l)=>{l.d(S,{T:()=>y});var g=l(24850),F=l(591),I=l(13125),A=l(68745),M=l(94650),E=l(18497),s=l(84075),u=l(89383);let y=(()=>{class O{constructor(P,m,b){this.apollo=P,this.utilService=m,this.translate=b,this.subs=new A.Y,this.isAllCountryAlreadyPopulated=new F.X(!1),this.isAllCountryAlreadyPopulated$=this.isAllCountryAlreadyPopulated.asObservable()}getAllCountriesNationality(){let P=[];return this.isAllCountryAlreadyPopulated.next(!1),this.subs.sink=this.getAllCountries().subscribe(m=>{m?.length&&(m?.map(b=>{P.push({name:b?.country_id?.country,flagIcon:b?.nationality_id?.nationality_en,dialCode:b?.country_id?.phone_number_indicative})}),P.sort((b,t)=>this.utilService.simplifyRegex(this.translate.instant(b?.name))<this.utilService.simplifyRegex(this.translate.instant(t?.name))?-1:this.utilService.simplifyRegex(this.translate.instant(b?.name))>this.utilService.simplifyRegex(this.translate.instant(t?.name))?1:0),this.isAllCountryAlreadyPopulated.next(!0))}),P}getAllCountries(){return this.apollo.query({query:I.ZP`
          query GetAllVisaPermits {
            GetAllVisaPermits {
              country_id {
                country
                phone_number_indicative
              }
              nationality_id {
                nationality_en
              }
            }
          }
        `,fetchPolicy:"network-only"}).pipe((0,g.U)(P=>P.data.GetAllVisaPermits))}ngOnDestroy(){this.subs.unsubscribe()}}return O.\u0275fac=function(P){return new(P||O)(M.\u0275\u0275inject(E._M),M.\u0275\u0275inject(s.t),M.\u0275\u0275inject(u.sK))},O.\u0275prov=M.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()}}]);