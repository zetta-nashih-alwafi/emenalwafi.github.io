"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[2047],{75223:(L,T,c)=>{c.d(T,{r:()=>K});var n=c(94650),x=c(89383),v=c(36895),S=c(97392);function t(m,h){1&m&&(n.\u0275\u0275elementStart(0,"span",12),n.\u0275\u0275text(1," , "),n.\u0275\u0275elementEnd())}function d(m,h){if(1&m&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275template(3,t,2,0,"span",11),n.\u0275\u0275elementContainerEnd()),2&m){const r=h.$implicit,C=h.last;n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,2,r)," "),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",!C)}}function s(m,h){if(1&m){const r=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"mat-icon",13),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(r);const b=n.\u0275\u0275nextContext(3),M=b.$implicit,O=b.index,P=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(P.removeFilter(M,O))}),n.\u0275\u0275text(1,"close"),n.\u0275\u0275elementEnd()}}function p(m,h){if(1&m&&(n.\u0275\u0275elementStart(0,"span",9),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275template(3,d,4,4,"ng-container",7),n.\u0275\u0275template(4,s,2,0,"mat-icon",10),n.\u0275\u0275elementEnd()),2&m){const r=n.\u0275\u0275nextContext(2).$implicit,C=n.\u0275\u0275nextContext(3);n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1("",n.\u0275\u0275pipeBind1(2,3,null==r?null:r.column)," : "),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",null==r?null:r.key),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!(C.isReadmission&&"scholar_season"===(null==r?null:r.name)))}}function f(m,h){if(1&m){const r=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"mat-icon",13),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(r);const b=n.\u0275\u0275nextContext(3),M=b.$implicit,O=b.index,P=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(P.removeFilter(M,O))}),n.\u0275\u0275text(1,"close"),n.\u0275\u0275elementEnd()}}function u(m,h){if(1&m&&(n.\u0275\u0275elementStart(0,"span",9),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275template(4,f,2,0,"mat-icon",10),n.\u0275\u0275elementEnd()),2&m){const r=n.\u0275\u0275nextContext(2).$implicit,C=n.\u0275\u0275nextContext(3);n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate2("",n.\u0275\u0275pipeBind1(2,3,null==r?null:r.column)," : ",n.\u0275\u0275pipeBind1(3,5,null==r?null:r.key)," "),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngIf",!(C.isReadmission&&"scholar_season"===(null==r?null:r.name)))}}function F(m,h){if(1&m&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,p,5,5,"span",8),n.\u0275\u0275template(2,u,5,7,"span",8),n.\u0275\u0275elementContainerEnd()),2&m){const r=n.\u0275\u0275nextContext().$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==r?null:r.isMultiple),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!(null!=r&&r.isMultiple))}}function H(m,h){if(1&m&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,F,3,2,"ng-container",1),n.\u0275\u0275elementContainerEnd()),2&m){const r=h.$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","super_filter"===(null==r?null:r.type))}}function _(m,h){if(1&m&&(n.\u0275\u0275elementStart(0,"div",4)(1,"span",5),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"span"),n.\u0275\u0275text(5,":"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"span",6),n.\u0275\u0275template(7,H,2,1,"ng-container",7),n.\u0275\u0275elementEnd()()),2&m){const r=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275property("ngClass","en"===r.translate.currentLang?"filter-type":"filter-type-fr"),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1("",n.\u0275\u0275pipeBind1(3,3,"Super Filter")," "),n.\u0275\u0275advance(5),n.\u0275\u0275property("ngForOf",r.filterBreadcrumbData)}}function y(m,h){1&m&&(n.\u0275\u0275elementStart(0,"span",12),n.\u0275\u0275text(1," , "),n.\u0275\u0275elementEnd())}function N(m,h){if(1&m&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275template(3,y,2,0,"span",11),n.\u0275\u0275elementContainerEnd()),2&m){const r=h.$implicit,C=h.last,b=n.\u0275\u0275nextContext(3).$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",null!=b&&b.noTranslate?r:n.\u0275\u0275pipeBind1(2,2,r)," "),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",!C)}}function $(m,h){if(1&m){const r=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"span",9),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275template(4,N,4,4,"ng-container",7),n.\u0275\u0275elementStart(5,"mat-icon",13),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(r);const b=n.\u0275\u0275nextContext(2),M=b.$implicit,O=b.index,P=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(P.removeFilter(M,O))}),n.\u0275\u0275text(6,"close"),n.\u0275\u0275elementEnd()()}if(2&m){const r=n.\u0275\u0275nextContext(2).$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1("",null!=r&&r.stepColumnName?n.\u0275\u0275pipeBind1(2,2,null==r?null:r.stepColumnName)+" "+(null==r?null:r.column):n.\u0275\u0275pipeBind1(3,4,null==r?null:r.column)," : "),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngForOf",null==r?null:r.key)}}function B(m,h){if(1&m){const r=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"span",9),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275pipe(4,"translate"),n.\u0275\u0275elementStart(5,"mat-icon",13),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(r);const b=n.\u0275\u0275nextContext(2),M=b.$implicit,O=b.index,P=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(P.removeFilter(M,O))}),n.\u0275\u0275text(6,"close"),n.\u0275\u0275elementEnd()()}if(2&m){const r=n.\u0275\u0275nextContext(2).$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate2("",null!=r&&r.stepColumnName?n.\u0275\u0275pipeBind1(2,2,null==r?null:r.stepColumnName)+" "+(null==r?null:r.column):n.\u0275\u0275pipeBind1(3,4,null==r?null:r.column)," : ",!0===(null==r?null:r.noTranslate)?null==r?null:r.key:n.\u0275\u0275pipeBind1(4,6,null==r?null:r.key)," ")}}function w(m,h){if(1&m&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,$,7,6,"span",8),n.\u0275\u0275template(2,B,7,8,"span",8),n.\u0275\u0275elementContainerEnd()),2&m){const r=n.\u0275\u0275nextContext().$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==r?null:r.isMultiple),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!(null!=r&&r.isMultiple))}}function k(m,h){if(1&m&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,w,3,2,"ng-container",1),n.\u0275\u0275elementContainerEnd()),2&m){const r=h.$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","table_filter"===(null==r?null:r.type))}}function I(m,h){if(1&m&&(n.\u0275\u0275elementStart(0,"div",14)(1,"span",5),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"span"),n.\u0275\u0275text(5,":"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"span",6),n.\u0275\u0275template(7,k,2,1,"ng-container",7),n.\u0275\u0275elementEnd()()),2&m){const r=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275property("ngClass","en"===r.translate.currentLang?"filter-type":"filter-type-fr"),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1("",n.\u0275\u0275pipeBind1(3,3,"Table Filter")," "),n.\u0275\u0275advance(5),n.\u0275\u0275property("ngForOf",r.filterBreadcrumbData)}}function A(m,h){if(1&m){const r=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275elementStart(1,"span",9),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementStart(4,"mat-icon",13),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(r);const b=n.\u0275\u0275nextContext(),M=b.$implicit,O=b.index,P=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(P.removeFilter(M,O))}),n.\u0275\u0275text(5,"close"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementContainerEnd()}if(2&m){const r=n.\u0275\u0275nextContext().$implicit;n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate1("",n.\u0275\u0275pipeBind1(3,1,null==r?null:r.key)," ")}}function j(m,h){if(1&m&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,A,6,3,"ng-container",1),n.\u0275\u0275elementContainerEnd()),2&m){const r=h.$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","action_filter"===(null==r?null:r.type))}}function U(m,h){if(1&m&&(n.\u0275\u0275elementStart(0,"div",14)(1,"span",5),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"span"),n.\u0275\u0275text(5,":"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"span",6),n.\u0275\u0275template(7,j,2,1,"ng-container",7),n.\u0275\u0275elementEnd()()),2&m){const r=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275property("ngClass","en"===r.translate.currentLang?"filter-type":"filter-type-fr"),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1("",n.\u0275\u0275pipeBind1(3,3,"Action Filter")," "),n.\u0275\u0275advance(5),n.\u0275\u0275property("ngForOf",r.filterBreadcrumbData)}}function z(m,h){if(1&m&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,_,8,5,"div",2),n.\u0275\u0275template(2,I,8,5,"div",3),n.\u0275\u0275template(3,U,8,5,"div",3),n.\u0275\u0275elementContainerEnd()),2&m){const r=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",r.filterDataExist("super_filter")),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",r.filterDataExist("table_filter")),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",r.filterDataExist("action_filter"))}}let K=(()=>{class m{constructor(r){this.translate=r,this.removeFilterTrigger=new n.EventEmitter}ngOnInit(){}filterDataExist(r){return!!this.filterBreadcrumbData.find(b=>b?.type===r)}removeFilter(r,C){this.filterBreadcrumbData.splice(C,1),this.removeFilterTrigger.emit(r)}}return m.\u0275fac=function(r){return new(r||m)(n.\u0275\u0275directiveInject(x.sK))},m.\u0275cmp=n.\u0275\u0275defineComponent({type:m,selectors:[["ms-filter-breadcrumb"]],inputs:{filterBreadcrumbData:"filterBreadcrumbData",isReadmission:"isReadmission"},outputs:{removeFilterTrigger:"removeFilterTrigger"},decls:2,vars:1,consts:[[1,"filter-breadcrumb"],[4,"ngIf"],["class","filter-breadcrumb-container mt-10",4,"ngIf"],["class","filter-breadcrumb-container",4,"ngIf"],[1,"filter-breadcrumb-container","mt-10"],[3,"ngClass"],[1,"breadcrumb-value"],[4,"ngFor","ngForOf"],["class","breadcrumb-filter",4,"ngIf"],[1,"breadcrumb-filter"],["class","icon-remove",3,"click",4,"ngIf"],["class","comma",4,"ngIf"],[1,"comma"],[1,"icon-remove",3,"click"],[1,"filter-breadcrumb-container"]],template:function(r,C){1&r&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275template(1,z,4,3,"ng-container",1),n.\u0275\u0275elementEnd()),2&r&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==C.filterBreadcrumbData?null:C.filterBreadcrumbData.length))},dependencies:[v.mk,v.sg,v.O5,S.Hw,x.X$],styles:[".filter-breadcrumb[_ngcontent-%COMP%]{padding:1rem}.filter-breadcrumb-container[_ngcontent-%COMP%]{display:flex;align-items:baseline}.filter-breadcrumb-container[_ngcontent-%COMP%] ~ .filter-breadcrumb-container[_ngcontent-%COMP%]{margin-top:1rem}.breadcrumb-value[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:0 1rem;gap:4px}.filter-type[_ngcontent-%COMP%]{width:100px}.filter-type-fr[_ngcontent-%COMP%]{width:150px}.breadcrumb-filter[_ngcontent-%COMP%]{background-color:#ffd740;color:#000;padding:.25rem .5rem;border-radius:.375rem;font-size:.75rem;display:flex;flex-wrap:wrap;align-items:center}.comma[_ngcontent-%COMP%]{margin-right:4px}.icon-remove[_ngcontent-%COMP%]{vertical-align:middle;margin-left:.25rem;font-size:inherit;cursor:pointer}"]}),m})()},22437:(L,T,c)=>{c.d(T,{q:()=>x});var n=c(94650);let x=(()=>{class v{constructor(){this.filterSingle=(t,d,s,p,f="")=>null==d?"":f+t?.find(u=>u[s]===d)?.[p],this.filterSingleBoolean=(t,d,s,p,f="")=>null==d?"":f+t?.find(u=>"boolean"==typeof u[s]?JSON.stringify(u[s])===d:"string"==typeof u[s]?u[s]===d:void 0)?.[p],this.filterMultiple=(t,d,s,p,f="")=>d?.length?null===s&&null===p?t.filter(u=>d?.includes(u)).map(u=>f+u):t.filter(u=>d?.includes(u[s]))?.map(u=>f+u[p]):[],this.isValueObject=t=>"object"==typeof t&&!Array.isArray(t)&&null!==t,this.getNestedObjectValue=(t,d)=>{for(const s in t){if(s===d)return t[d];if(this.isValueObject(t[d]))return this.getNestedObjectValue(t[s],d)}},this.getKey=t=>{if(null===t?.filterValue)return null;const d=null===t?.name?t?.filterValue:"boolean"==typeof t?.filterValue?.[t?.name]?String(t?.filterValue?.[t.name]):t.filterValue?.[t.name],s=t.isMultiple,p=t.isSelectionInput,f=t?.fixedValues,u=t?.translationPrefix??"";if(null==d)return null;if(!p&&this.isValueObject(d)&&t?.nestedKey)return u+this.getNestedObjectValue(d,t.nestedKey);if(!p)return u+d;let F;if(f)if(Array.isArray(d))F=f?.filter(_=>d?.includes(_));else if("string"==typeof d||"boolean"==typeof d)return F=f?.find(_=>d===_),F;const H=s?this.filterMultiple(t.filterList,d,t.savedValue,t.displayKey,t.translationPrefix):"boolean"==typeof t?.filterValue?.[t?.name]||"false"===t?.filterValue?.[t?.name]||"true"===t?.filterValue?.[t?.name]?this.filterSingleBoolean(t.filterList,d,t.savedValue,t.displayKey,t.translationPrefix):this.filterSingle(t.filterList,d,t.savedValue,t.displayKey,t.translationPrefix);return s&&F?H.concat(...f):H}}filterBreadcrumb(t,d){const{type:s,column:p}=t,f=d.findIndex(u=>u?.type===s&&u?.column===p);-1!==f?(d[f]=t,!(Array.isArray(d[f]?.value)?d[f]?.value?.length:d[f]?.value)&&!(Array.isArray(d[f]?.key)?d[f]?.key?.length:d[f]?.key)&&d.splice(f,1)):(-1===f&&Array.isArray(t?.value)?t?.value?.length:t?.value)&&d.push(t)}removeFilterBreadcrumb(t,d,s,p,f=!1){"super_filter"===t.type&&d?d[t.name]=null:"table_filter"===t.type&&s?s[t.name]=null:"action_filter"===t.type&&p&&(p[t.name]=null),t?.filterRef?.patchValue(t?.resetValue??null,{emitEvent:f})}filterBreadcrumbFormat(t,d){const s=[...d];for(const p of t){const f=null===p.name?p?.filterValue:"boolean"==typeof p?.filterValue?.[p.name]?String(p?.filterValue?.[p.name]):p?.filterValue?.[p.name],u={type:p.type,name:p.name,column:p.column,filterList:p?.filterList,value:f||null,isMultiple:p.isMultiple,filterRef:p.filterRef,resetValue:p.resetValue,noTranslate:p?.noTranslate,stepColumnName:p?.stepColumnName,key:this.getKey(p)};this.filterBreadcrumb(u,s)}return s}}return v.\u0275fac=function(t){return new(t||v)},v.\u0275prov=n.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},12047:(L,T,c)=>{c.r(T),c.d(T,{HistoryModule:()=>_e});var n=c(88796),x=c(36895),v=c(93730),S=c(610),t=c(94650),d=c(67154),s=c(3848),p=c(98739),f=c(96308),u=c(53626),F=c(17489),H=c(68745),_=c(24006),y=c(15439),N=c(1059),$=c(22868),B=c(24850),w=c(80013),k=c(65938),I=c(89383),A=c(4859),j=c(97392);function U(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",6),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onPreviousMessage(a.viewMessageData))}),t.\u0275\u0275elementStart(1,"mat-icon"),t.\u0275\u0275text(2,"arrow_left"),t.\u0275\u0275elementEnd()()}}function z(i,l){1&i&&(t.\u0275\u0275elementStart(0,"button",12)(1,"mat-icon"),t.\u0275\u0275text(2,"arrow_left"),t.\u0275\u0275elementEnd()())}function K(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",6),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onNextMessage(a.viewMessageData))}),t.\u0275\u0275elementStart(1,"mat-icon"),t.\u0275\u0275text(2,"arrow_right"),t.\u0275\u0275elementEnd()()}}function m(i,l){1&i&&(t.\u0275\u0275elementStart(0,"button",12)(1,"mat-icon"),t.\u0275\u0275text(2,"arrow_right"),t.\u0275\u0275elementEnd()())}let h=(()=>{class i{constructor(e,o,a,g){this.translate=e,this.dialog=o,this.dialogref=a,this.parentData=g,this.mailDialogConfig={disableClose:!0,width:"720px",height:"530px"}}ngOnInit(){this.viewMessageData=this.parentData.viewMessageData,this.allHistory=this.parentData.allHistory,"TrombinoscopePDF_N1"!==this.viewMessageData?.notification_reference&&(this.viewMessageData.notification_message=this.viewMessageData.notification_message.replace(/(<a.*?\a>)/gi,""));for(let e=0;e<this.allHistory.length;e++)this.allHistory[e]._id===this.viewMessageData._id&&(this.currentSelectedIndexView=e)}getTranslatedDate(e){if("object"==typeof e){const o=new Date(e.year,e.month,e.date,e.hour,e.minute);return this.datePipe=new x.uU(this.translate.currentLang),this.datePipe.transform(o,"EEE d MMM, y")}{let o=e;if("number"==typeof o&&(o=o.toString()),8===o.length){const g=parseInt(o.substring(0,4)),D=parseInt(o.substring(4,6)),E=parseInt(o.substring(6,8));o=new Date(g,D,E)}this.datePipe=new x.uU(this.translate.currentLang);const a=y(o,"DD/MM/YYYY").format("MM/DD/YYYY");return this.datePipe.transform(a,"EEE d MMM, y")}}onPreviousMessage(e){if(this.viewMessageData&&0!==this.currentSelectedIndexView){this.currentSelectedIndexView=this.currentSelectedIndexView-1,this.viewMessageData=this.allHistory[this.currentSelectedIndexView];const o=new RegExp('<a ([^]+)>[^"]+a>',"g");"TrombinoscopePDF_N1"!==this.viewMessageData?.notification_reference&&(this.viewMessageData.notification_message=this.viewMessageData.notification_message.replace(o,""))}}onNextMessage(e){if(this.viewMessageData&&this.currentSelectedIndexView+1<this.allHistory.length){this.currentSelectedIndexView=this.currentSelectedIndexView+1,this.viewMessageData=this.allHistory[this.currentSelectedIndexView];const o=new RegExp('<a ([^]+)>[^"]+a>',"g");"TrombinoscopePDF_N1"!==this.viewMessageData?.notification_reference&&(this.viewMessageData.notification_message=this.viewMessageData.notification_message.replace(o,""))}}checkIsPreviousBtnShow(){return 0!==this.currentSelectedIndexView}checkIsNextBtnShow(){return this.currentSelectedIndexView!==this.allHistory.length-1}closeDialog(){this.dialogref.close()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(I.sK),t.\u0275\u0275directiveInject(k.uw),t.\u0275\u0275directiveInject(k.so),t.\u0275\u0275directiveInject(k.WI))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-view-history"]],decls:19,vars:7,consts:[[1,"header-div"],["svgIcon","pencil",1,"icon-style","history-dialog-icon"],[1,"header-text","history-dialog-title"],[1,"header-icon","history-dialog-action-btn"],["mat-icon-button","","type","button",3,"click",4,"ngIf"],["mat-icon-button","","type","button","style","color: gray",4,"ngIf"],["mat-icon-button","","type","button",3,"click"],[1,"pad-x-md","pad-t-md"],[1,"p-grid"],[1,"p-col-12","pad-y-none","justify-content-end"],[1,"p-col-12","pad-y-none"],[1,"body-section",3,"innerHTML"],["mat-icon-button","","type","button",2,"color","gray"]],template:function(e,o){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"mat-icon",1),t.\u0275\u0275elementStart(2,"b",2),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",3),t.\u0275\u0275template(5,U,3,0,"button",4),t.\u0275\u0275template(6,z,3,0,"button",5),t.\u0275\u0275template(7,K,3,0,"button",4),t.\u0275\u0275template(8,m,3,0,"button",5),t.\u0275\u0275elementStart(9,"button",6),t.\u0275\u0275listener("click",function(){return o.closeDialog()}),t.\u0275\u0275elementStart(10,"mat-icon"),t.\u0275\u0275text(11,"close"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275element(12,"hr"),t.\u0275\u0275elementStart(13,"div",7)(14,"div",8)(15,"div",9),t.\u0275\u0275text(16),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"div",10),t.\u0275\u0275element(18,"p",11),t.\u0275\u0275elementEnd()()()),2&e&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",null==o.viewMessageData?null:o.viewMessageData.notification_subject," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",o.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!o.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.checkIsNextBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!o.checkIsNextBtnShow()),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(o.getTranslatedDate(null==o.viewMessageData||null==o.viewMessageData.sent_date?null:o.viewMessageData.sent_date.date_utc)),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("innerHTML",o.viewMessageData.notification_message,t.\u0275\u0275sanitizeHtml))},dependencies:[x.O5,A.lW,j.Hw],styles:[".history-dialog-title[_ngcontent-%COMP%]{max-width:80%}.history-dialog-icon[_ngcontent-%COMP%]{display:flex;align-self:flex-start;padding-top:3px}.history-dialog-action-btn[_ngcontent-%COMP%]{display:flex;align-self:flex-start}.history-dialog-date[_ngcontent-%COMP%]{text-align:right}.body-section[_ngcontent-%COMP%]{overflow-y:scroll;max-height:450px;padding:18px;background-color:#fff;color:#000}"]}),i})();var r=c(21086),C=c(18206),b=c(10830),M=c(83515),O=c(62416),P=c(35226),R=c.n(P),q=c(24742),G=c(13125),tt=c(80529),et=c(18497);class V{constructor(l,e){this.httpClient=l,this.apollo=e}getNotificationHistories(l,e,o){return this.apollo.query({query:G.ZP`
      query GetAllNotificationHistories(
        $page: PaginationInput, 
        $sort: NotificationHistorySorting,
        $sent_date: String,
        $sent_time: String,
        $notif_ref: String,
        $notif_sub: String,
        $program_ids: [ID],
        $from_user: String,
        $to_user: String,
        $notification_history_date: NotifHistoryDate,
        $offset: Int
        ) {
        GetAllNotificationHistories(
          pagination: $page,
          sorting: $sort,
          sent_date: $sent_date,
          sent_time: $sent_time,
          notif_ref: $notif_ref,
          notif_sub: $notif_sub,
          program_ids: $program_ids,
          from_user: $from_user,
          to_user: $to_user,
          notification_history_date: $notification_history_date,
          offset: $offset
        ) {
          count_document
          _id
          sent_date {
            date_utc
            time_utc
          }
          notification_reference
          notification_subject
          notification_message
          program {
            _id
            program
          }
          from {
            last_name
            first_name
            civility
          }
          to {
            last_name
            first_name
            civility
          }
          subject {
            subject_name
          }
          test {
            name
          }
          recipient_email
          recipient_civility
          recipient_first_name
          recipient_last_name
        }
      }
      `,variables:{page:l,sort:e||{},sent_date:o.sent_date?o.sent_date:null,sent_time:o.sent_time?o.sent_time:null,notif_ref:o.notif_ref?o.notif_ref:null,notif_sub:o.notif_sub?o.notif_sub:null,program_ids:o.program_ids?o.program_ids:null,from_user:o.from_user?o.from_user:null,to_user:o.to_user?o.to_user:null,notification_history_date:o.notification_history_date,offset:o.offset},fetchPolicy:"network-only"}).pipe((0,B.U)(a=>a.data.GetAllNotificationHistories))}GetNotificationReferences(){return this.apollo.query({query:G.ZP`
      query GetNotificationReferences{
        GetNotificationReferences
      }
      `,fetchPolicy:"network-only"}).pipe((0,B.U)(l=>l.data.GetNotificationReferences))}getHistory(){return this.httpClient.get("assets/data/history.json")}}V.\u0275fac=function(l){return new(l||V)(t.\u0275\u0275inject(tt.eN),t.\u0275\u0275inject(et._M))},V.\u0275prov=t.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),function(i,l,e,o){var D,a=arguments.length,g=a<3?l:null===o?o=Object.getOwnPropertyDescriptor(l,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(i,l,e,o);else for(var E=i.length-1;E>=0;E--)(D=i[E])&&(g=(a<3?D(g):a>3?D(l,e,g):D(l,e))||g);a>3&&g&&Object.defineProperty(l,e,g)}([(0,q.q)()],V.prototype,"getHistory",null);var it=c(91013),ot=c(71122),Q=c(3238),at=c(84075),rt=c(52688),lt=c(44758),st=c(22437),J=c(47957),ct=c(56709),W=c(99602),X=c(59549),pt=c(284),mt=c(51572),dt=c(10266),ft=c(24784),ut=c(75223),Y=c(33300);function gt(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",48),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.filterDateRange("today"))}),t.\u0275\u0275elementStart(1,"mat-icon",49),t.\u0275\u0275text(2,"search"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("color","today"===(null==e.filteredValues?null:e.filteredValues.notification_history_date)?"accent":"primary"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,2,"Today")," ")}}function ht(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",48),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.filterDateRange("yesterday"))}),t.\u0275\u0275elementStart(1,"mat-icon",49),t.\u0275\u0275text(2,"search"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("color","yesterday"===(null==e.filteredValues?null:e.filteredValues.notification_history_date)?"accent":"primary"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,2,"Yesterday")," ")}}function _t(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",50),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.resetAllFilter())}),t.\u0275\u0275element(1,"mat-icon",51),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"RESET")," "))}function bt(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",38)(1,"mat-form-field",39)(2,"input",40),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(a.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",41)(5,"mat-datepicker",null,42),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"mat-form-field",39)(8,"input",43),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275reference(12);return t.\u0275\u0275resetView(a.open())}),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(10,"mat-datepicker-toggle",44)(11,"mat-datepicker",null,45),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(13,gt,5,4,"button",46),t.\u0275\u0275template(14,ht,5,4,"button",46),t.\u0275\u0275template(15,_t,4,3,"button",47),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275reference(6),o=t.\u0275\u0275reference(12),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,14,"FROM_HISTORY")),t.\u0275\u0275property("formControl",a.fromDateFilter)("matDatepicker",e),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(9,16,"TO_HISTORY")),t.\u0275\u0275property("disabled",!a.fromDateFilter.value)("min",a.fromDateFilter.value)("formControl",a.toDateFilter)("matDatepicker",o),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",o)("disabled",!a.fromDateFilter.value),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","latest"==a.type&&(null==a.permission?null:a.permission.filterTodayHistoryNotificationPerm())),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","latest"==a.type&&(null==a.permission?null:a.permission.filterYesterdayHistoryNotificationPerm())),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a.permission?null:a.permission.resetHistoryNotificationPerm())}}function Ct(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",52)(1,"mat-form-field",53)(2,"input",40),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(a.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",41)(5,"mat-datepicker",null,54),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(6),o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"MailBox.DATE")),t.\u0275\u0275property("formControl",o.dateFilter)("matDatepicker",e),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function xt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"th",52)(1,"mat-form-field",53),t.\u0275\u0275element(2,"input",55),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"ngx-material-timepicker-toggle",56),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(5,"svg",57),t.\u0275\u0275element(6,"path",58),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275namespaceHTML(),t.\u0275\u0275element(7,"ngx-material-timepicker",null,59),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275reference(8),o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,5,"Time")),t.\u0275\u0275property("ngxTimepicker",e)("format",24)("formControl",o.timeFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function yt(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",65),t.\u0275\u0275listener("click",function(){const g=t.\u0275\u0275restoreView(e).$implicit,D=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(D.filterNotifArray(g))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&i){const e=l.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function vt(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",52)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",60),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-autocomplete",61,62)(6,"mat-option",63),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterNotifArray("All"))}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(10,yt,2,3,"mat-option",64),t.\u0275\u0275pipe(11,"async"),t.\u0275\u0275elementEnd()()()}if(2&i){const e=t.\u0275\u0275reference(5),o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,7,"search")),t.\u0275\u0275property("formControl",o.notifRefFilter)("matAutocomplete",e),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("value",t.\u0275\u0275pipeBind1(7,9,"All")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,11,"All")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(11,13,o.filteredRefArray))}}function Mt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"th",66)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",67),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.notifSubjectFilter)}}function Ot(i,l){if(1&i&&(t.\u0275\u0275element(0,"input",71),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&i){const e=l.item,o=l.item$;t.\u0275\u0275propertyInterpolate1("id","item-",l.index,""),t.\u0275\u0275property("ngModel",o.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,null==e?null:e.program)," ")}}function Pt(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",73),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const g=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(g.selectAllData(a,"program"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("program"))("indeterminate",e.isSomeDropdownSelected("program")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function Tt(i,l){1&i&&t.\u0275\u0275template(0,Pt,3,5,"ng-template",72)}function St(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",66)(1,"ng-select",68),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterProgram())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Ot,3,5,"ng-template",69),t.\u0275\u0275template(5,Tt,1,0,null,70),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.programList)("appendTo","body")("multiple",!0)("formControl",e.programFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.programList?null:e.programList.length)}}function Dt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"th",66)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",67),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.fromFilter)}}function wt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"th",52)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",67),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.toFilter)}}function Ft(i,l){1&i&&t.\u0275\u0275element(0,"th",52)}function It(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",74),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",75),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.DATE")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.DATE")))}function Vt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",76),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",o.translateDate(null==e?null:e.sent_date)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",o.translateDate(null==e?null:e.sent_date)," ")}}function Et(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",74),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",77),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Time")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Time")))}function Ht(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",76),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",o.translateTime(null==e?null:e.sent_date)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",o.translateTime(null==e?null:e.sent_date)," ")}}function Bt(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",78),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",79),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Notif. Ref")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Notif. Ref")))}function kt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",80),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",e.notification_reference),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(e.notification_reference)}}function Rt(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",78),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",81),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Notif. Subject")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Notif. Subject")))}function Yt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",80),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",e.notification_subject),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.notification_subject," ")}}function Lt(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",78),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",82),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Program")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Program")))}function Nt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",80),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e||null==e.program?null:e.program.program),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.program?null:e.program.program," ")}}function At(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",78),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",83),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"FROM_HISTORY")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"FROM_HISTORY")))}function jt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",80),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e.from?null:e.from.last_name)," ",null==e.from?null:e.from.first_name," ",t.\u0275\u0275pipeBind1(2,8,null==e.from?null:e.from.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e.from?null:e.from.last_name)," ",null==e.from?null:e.from.first_name," ",null!=e&&null!=e.from&&e.from.civility&&"neutral"===(null==e||null==e.from?null:e.from.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.from?null:e.from.civility)," ")}}function $t(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",78),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",84),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"TO_HISTORY")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"TO_HISTORY")))}function Ut(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span")(1,"span",87),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"uppercase"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=l.$implicit,o=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",a.getToUserTooltip(o.to)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(3,4,null==e?null:e.last_name)," ",null==e?null:e.first_name," ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(4,6,null==e?null:e.civility)," ")}}function zt(i,l){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ut,5,8,"span",86),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.to)}}function Kt(i,l){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",87),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"uppercase"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(2,6,null==e?null:e.recipient_last_name)," ",null==e?null:e.recipient_first_name,"\n            ",null!=e&&e.recipient_civility&&"neutral"===(null==e?null:e.recipient_civility)?"":t.\u0275\u0275pipeBind1(3,8,null==e?null:e.recipient_civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(5,10,null==e?null:e.recipient_last_name)," ",null==e?null:e.recipient_first_name," ",null!=e&&e.recipient_civility&&"neutral"===(null==e?null:e.recipient_civility)?"":t.\u0275\u0275pipeBind1(6,12,null==e?null:e.recipient_civility)," ")}}function Wt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",85),t.\u0275\u0275template(1,zt,2,1,"ng-container",70),t.\u0275\u0275template(2,Kt,7,14,"ng-container",70),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.to?null:e.to.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&null!=e.to&&e.to.length))}}function Gt(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",88),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function Qt(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",90),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,g=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(g.viewHistory(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"remove_red_eye"),t.\u0275\u0275elementEnd()()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"View"))}function Jt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",85),t.\u0275\u0275template(1,Qt,4,3,"button",89),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.permission?null:e.permission.viewNotificationHistoryNotificationPerm())}}function Xt(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",91)(1,"div",92),t.\u0275\u0275element(2,"mat-spinner",93),t.\u0275\u0275elementEnd()())}function Zt(i,l){1&i&&t.\u0275\u0275element(0,"tr",94)}function qt(i,l){1&i&&t.\u0275\u0275element(0,"tr",94)}function te(i,l){1&i&&t.\u0275\u0275element(0,"tr",94)}function ee(i,l){if(1&i&&t.\u0275\u0275element(0,"tr",95),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function ne(i,l){if(1&i&&t.\u0275\u0275element(0,"tr",96),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}const Z=function(i){return{hide:i}};function ie(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"div",97),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,Z,e.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"NO_NOTIFICATION_HISTORY")," ")}}const oe=function(){return["reset"]},ae=function(){return["loading"]},re=function(i){return{"hide-pagination-buttons":i}},le=function(){return[10]};let se=(()=>{class i{constructor(e,o,a,g,D,E,be,Ce,xe,ye,ve,Me,Oe,Pe){this.historyService=e,this.datepipe=o,this.translate=a,this.dialog=g,this.mailboxService=D,this.parseStringDatePipe=E,this.parseLocalToUTCPipe=be,this.teacherContractService=Ce,this.parseUTCToLocalPipe=xe,this.dateAdapter=ye,this.utilService=ve,this.userService=Me,this.permission=Oe,this.filterBreadCrumbService=Pe,this.subs=new H.Y,this.dataSource=new u.by([]),this.displayedColumns=["sentDate","sentTime","notificationReference","notificationSubject","program","from","to","action"],this.filterColumns=["dateFilter","timeFilter","notifRefFilter","notifSubjectFilter","programFilter","fromFilter","toFilter","actionFilter"],this.notifRefArray=[],this.notifSubjectArray=[],this.programArray=[],this.programList=[],this.dateFilter=new _.UntypedFormControl(""),this.timeFilter=new _.UntypedFormControl(""),this.fromDateFilter=new _.UntypedFormControl(""),this.toDateFilter=new _.UntypedFormControl(""),this.notifRefFilter=new _.UntypedFormControl("All"),this.notifSubjectFilter=new _.UntypedFormControl(""),this.programFilter=new _.UntypedFormControl(null),this.fromFilter=new _.UntypedFormControl(""),this.toFilter=new _.UntypedFormControl(""),this.notificationHistoryDate=new _.UntypedFormControl(""),this.offsetFilter=new _.UntypedFormControl(""),this.filteredValues={sent_date:"",sent_time:"",from_date:"",to_date:"",notif_ref:"",notif_sub:"",program_id:"",program_ids:null,from_user:"",to_user:"",subject_name:"",test_name:"",notification_history_date:""},this.sortValue=null,this.historyList=[],this.isReset=!1,this.dataLoaded=!1,this.isWaitingForResponse=!1,this.filterBreadcrumbData=[],this.tempDataFilter={program:null},this.filteredValuesAll={program_ids:"All"},this.config={disableClose:!0,width:"800px"}}ngOnInit(){this.sortValue=null,this.dateAdapter.setLocale(this.translate.currentLang),this.notifRefFilter.setValue(this.translate.instant("All"),{emitEvent:!1}),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.dateAdapter.setLocale(this.translate.currentLang),("All"===this.notifRefFilter.value||"Tous"===this.notifRefFilter.value)&&this.notifRefFilter.setValue(this.translate.instant("All"),{emitEvent:!1})}),"latest"===this.type?this.filteredValues.notification_history_date="last_7_days":"archived"===this.type&&(this.filteredValues.notification_history_date="after_7_days"),this.getNotificationhistories(),this.initFilter(),this.getProgramsDropdownData(),this.getNotifRefDropdownData(),this.getUrgentMail(),this.filterProgram()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,N.O)(null),(0,$.b)(()=>{this.isReset||this.getNotificationhistories(),this.dataLoaded=!0})).subscribe()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getNotificationhistories())}getToUserTooltip(e){let o="";return e&&e.length&&e.forEach((a,g)=>{a&&(o+=`\n          ${a.last_name?a.last_name.toUpperCase():""}\n          ${a.first_name}\n          ${a.civility&&"neutral"!==a.civility?this.translate.instant(a.civility):""}`,o=g<e.length-1?o+",":o+"")}),o}getNotificationhistories(){this.isWaitingForResponse=!0;const e={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},o=this.cleanFilterData();this.subs.sink=this.historyService.getNotificationHistories(e,this.sortValue,o).subscribe(a=>{this.isWaitingForResponse=!1,this.historyList=a,this.dataSource.data=a,this.historyCount=a&&a.length?a[0].count_document:0,this.noData=this.dataSource.connect().pipe((0,B.U)(g=>!g||g&&0===g.length)),setTimeout(()=>this.isReset=!1,400),this.filterBreadcrumbData=[],this.filterBreadcrumbFormat(),this.isWaitingForResponse=!1},a=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(a),a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():R().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}cleanFilterData(){this.filteredValues.offset=y().utcOffset();const e=F.cloneDeep(this.filteredValues);for(const[o,a]of Object.entries(e))a||delete e[o];return e}initFilter(){this.subs.sink=this.dateFilter.valueChanges.pipe((0,w.b)(700)).subscribe(e=>{if(e){const o=y(e).format("DD/MM/YYYY");this.filteredValues.sent_date=this.parseLocalToUTCPipe.transformDateTime(o,"00:00"),this.filteredValues.offset=y().utcOffset()}this.paginator.pageIndex=0,this.isReset||this.getNotificationhistories()}),this.subs.sink=this.timeFilter.valueChanges.pipe((0,w.b)(700)).subscribe(e=>{const o=this.parseLocalToUTCPipe.transform(e);this.filteredValues.sent_time=o,this.filteredValues.offset=y().utcOffset(),this.paginator.pageIndex=0,this.isReset||this.getNotificationhistories()}),this.subs.sink=this.fromDateFilter.valueChanges.pipe((0,w.b)(700)).subscribe(e=>{if(e){const o=y(e).format("DD/MM/YYYY");this.filteredValues.from_date=this.parseLocalToUTCPipe.transformDateTime(o,"00:00"),this.filteredValues.offset=y().utcOffset()}this.paginator.pageIndex=0,this.isReset||this.getNotificationhistories()}),this.subs.sink=this.toDateFilter.valueChanges.pipe((0,w.b)(700)).subscribe(e=>{if(e){const o=y(e).format("DD/MM/YYYY");this.filteredValues.to_date=this.parseLocalToUTCPipe.transformDateTime(o,"00:00"),this.filteredValues.offset=y().utcOffset()}this.paginator.pageIndex=0,this.isReset||this.getNotificationhistories()}),this.subs.sink=this.notifSubjectFilter.valueChanges.pipe((0,w.b)(700)).subscribe(e=>{this.filteredValues.notif_sub=e,this.paginator.pageIndex=0,this.isReset||this.getNotificationhistories()}),this.subs.sink=this.fromFilter.valueChanges.pipe((0,w.b)(700)).subscribe(e=>{this.filteredValues.from_user=e,this.paginator.pageIndex=0,this.isReset||this.getNotificationhistories()}),this.subs.sink=this.toFilter.valueChanges.pipe((0,w.b)(700)).subscribe(e=>{this.filteredValues.to_user=e,this.paginator.pageIndex=0,this.isReset||this.getNotificationhistories()})}filterProgram(){if(JSON.stringify(this.tempDataFilter.program)!==JSON.stringify(this.programFilter.value))if(this.programFilter.value?.length)this.filteredValues.program_ids=this.programFilter.value,this.tempDataFilter.program=this.programFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getNotificationhistories());else{if(!this.tempDataFilter.program?.length||this.programFilter.value?.length)return;this.filteredValues.program_ids=this.programFilter.value,this.tempDataFilter.program=null,this.isReset||(this.paginator.pageIndex=0,this.getNotificationhistories())}}filterNotifArray(e){this.filteredValues.notif_ref="All"!==e?e:null,this.paginator.pageIndex=0,this.isReset||this.getNotificationhistories()}getProgramsDropdownData(){this.subs.sink=this.teacherContractService.GetAllProgramsDropdown().subscribe(e=>{this.programArray=e,this.filteredProgramArray=(0,r.of)(this.programArray),this.programList=this.programArray,this.subs.sink=this.programFilter.valueChanges.subscribe(o=>{if("string"==typeof o){const a=this.programArray.filter(g=>this.utilService.simplifyRegex(g.program).includes(this.utilService.simplifyRegex(o)));this.filteredProgramArray=(0,r.of)(a)}})},e=>{this.userService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():R().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getNotifRefDropdownData(){this.subs.sink=this.historyService.GetNotificationReferences().subscribe(e=>{this.notifRefArray=e,this.notifRefArray=this.notifRefArray.sort((o,a)=>this.utilService.simplifyRegex(o)<this.utilService.simplifyRegex(a)?-1:this.utilService.simplifyRegex(o)>this.utilService.simplifyRegex(a)?1:0),this.getFilterNotifRef()},e=>{this.userService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():R().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getFilterNotifRef(){this.filteredRefArray=this.notifRefFilter.valueChanges.pipe((0,N.O)(""),(0,B.U)(e=>this.notifRefArray.filter(o=>!(e&&!["All","Tous"].includes(e))||o.toLowerCase().includes(e.toLowerCase()))))}translateDate(e){if(e&&e.date_utc&&e.time_utc){const o=this.parseUTCToLocalPipe.transformDate(e.date_utc,e.time_utc),a="Invalid date"!==o?y(o,"DD/MM/YYYY").format("DD/MM/YYYY"):"";return""!==o?y(a,"DD/MM/YYYY").format("DD/MM/YYYY"):""}return""}translateTime(e){return this.parseUTCToLocalPipe.transform(e.time_utc)?this.parseUTCToLocalPipe.transform(e.time_utc):this.parseUTCToLocalPipe.transform("15:59")}resetAllFilter(){this.resetFilterObject(),this.isReset=!0,this.paginator.pageIndex=0,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=null,this.dateFilter.setValue("",{emitEvent:!1}),this.timeFilter.setValue("",{emitEvent:!1}),this.fromDateFilter.setValue("",{emitEvent:!1}),this.toDateFilter.setValue("",{emitEvent:!1}),this.notifRefFilter.setValue(this.translate.instant("All"),{emitEvent:!1}),this.notifSubjectFilter.setValue("",{emitEvent:!1}),this.programFilter.setValue(null,{emitEvent:!1}),this.fromFilter.setValue("",{emitEvent:!1}),this.toFilter.setValue("",{emitEvent:!1}),"latest"===this.type?this.filteredValues.notification_history_date="last_7_days":"archived"===this.type&&(this.filteredValues.notification_history_date="after_7_days"),this.filterBreadcrumbData=[],this.getNotificationhistories(),this.getFilterNotifRef(),this.filteredProgramArray=(0,r.of)(this.programArray)}todayDetails(){this.resetFilterObject(),this.isReset=!0,this.paginator.pageIndex=0,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=null,this.dateFilter.setValue("",{emitEvent:!1}),this.timeFilter.setValue("",{emitEvent:!1}),this.fromDateFilter.setValue("",{emitEvent:!1}),this.toDateFilter.setValue("",{emitEvent:!1}),this.notifRefFilter.setValue(this.translate.instant("All"),{emitEvent:!1}),this.notifSubjectFilter.setValue("",{emitEvent:!1}),this.programFilter.setValue(null,{emitEvent:!1}),this.fromFilter.setValue("",{emitEvent:!1}),this.toFilter.setValue("",{emitEvent:!1});const e=y().format("DD/MM/YYYY");this.filteredValues.sent_date=this.parseLocalToUTCPipe.transformDateTime(e,"00:00"),this.getNotificationhistories(),this.getFilterNotifRef()}filterDateRange(e){this.resetFilterObject(),this.isReset=!0,this.paginator.pageIndex=0,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=null,this.dateFilter.setValue("",{emitEvent:!1}),this.timeFilter.setValue("",{emitEvent:!1}),this.fromDateFilter.setValue("",{emitEvent:!1}),this.toDateFilter.setValue("",{emitEvent:!1}),this.notifRefFilter.setValue(this.translate.instant("All"),{emitEvent:!1}),this.notifSubjectFilter.setValue("",{emitEvent:!1}),this.programFilter.setValue(null,{emitEvent:!1}),this.fromFilter.setValue("",{emitEvent:!1}),this.toFilter.setValue("",{emitEvent:!1}),this.notificationHistoryDate.setValue("",{emitEvent:!1}),this.offsetFilter.setValue(""),"today"===e?this.filteredValues.notification_history_date="today":"yesterday"===e?this.filteredValues.notification_history_date="yesterday":"last_7_days"===e?this.filteredValues.notification_history_date="last_7_days":"last_30_days"===e&&(this.filteredValues.notification_history_date="last_30_days"),this.getNotificationhistories(),this.getFilterNotifRef()}resetFilterObject(){this.filteredValues={sent_date:"",sent_time:"",from_date:"",to_date:"",notif_ref:"",notif_sub:"",program_id:"",program_ids:null,from_user:"",to_user:"",subject_name:"",test_name:"",notification_history_date:""},"offset"in this.filteredValues&&delete this.filteredValues.offset}viewHistory(e){this.dialog.open(h,{disableClose:!0,width:"768px",minHeight:"435px",panelClass:"certification-rule-pop-up",data:{viewMessageData:e,allHistory:this.historyList}}).afterClosed().subscribe(o=>this.dialogRefViewHistory=null)}sendForwardMessage(e){}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(e=>{e&&e.length&&(this.subs.sink=this.dialog.open(C.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:e}).afterClosed().subscribe(o=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(a=>{a&&a.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(C.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:a}))},a=>{this.userService.postErrorLog(a),a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():R().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))},e=>{this.userService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():R().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getTodayTime(e){return this.parseLocalToUTCPipe.transform(e)}filterBreadcrumbFormat(){const e={from_date:null,to_date:null,sent_date:null};this.fromDateFilter?.value&&this.filteredValues?.from_date&&(e.from_date=y(this.fromDateFilter.value).format("DD/MM/YYYY")),this.toDateFilter?.value&&this.filteredValues?.to_date&&(e.to_date=y(this.toDateFilter.value).format("DD/MM/YYYY")),this.dateFilter?.value&&this.filteredValues?.sent_date&&(e.sent_date=y(this.dateFilter.value).format("DD/MM/YYYY"));const o={...this.filteredValues,from_date:e?.from_date?e.from_date:this.filteredValues?.from_date,to_date:e?.to_date?e.to_date:this.filteredValues?.to_date,sent_date:e?.sent_date?e.sent_date:this.filteredValues?.sent_date,sent_time:this.timeFilter?.value&&this.filteredValues?.sent_time?this.timeFilter?.value:this.filteredValues?.sent_time},a=[{type:"super_filter",name:"from_date",column:"FROM_HISTORY",isMultiple:!1,filterValue:o,filterList:null,filterRef:this.fromDateFilter,isSelectionInput:!1,displayKey:null,savedValue:null},{type:"super_filter",name:"to_date",column:"TO_HISTORY",isMultiple:!1,filterValue:o,filterList:null,filterRef:this.toDateFilter,isSelectionInput:!1,displayKey:null,savedValue:null},{type:"table_filter",name:"sent_date",column:"MailBox.DATE",isMultiple:!1,filterValue:o,filterList:null,filterRef:this.dateFilter,isSelectionInput:!1,displayKey:null,savedValue:null},{type:"table_filter",name:"sent_time",column:"Time",isMultiple:!1,filterValue:o,filterList:null,filterRef:this.timeFilter,isSelectionInput:!1,displayKey:null,savedValue:null},{type:"table_filter",name:"notif_ref",column:"Notif. Ref",isMultiple:!1,filterValue:this.filteredValues,filterList:this.notifRefArray,filterRef:this.notifRefFilter,isSelectionInput:!1,displayKey:null,savedValue:null,noTranslate:!0},{type:"table_filter",name:"notif_sub",column:"Notif. Subject",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.notifSubjectFilter,isSelectionInput:!1,displayKey:null,savedValue:null,noTranslate:!0},{type:"table_filter",name:"program_ids",column:"Program",isMultiple:this.programFilter?.value?.length!==this.programList.length,filterValue:this.programFilter?.value?.length===this.programList.length?this.filteredValuesAll:this.filteredValues,filterList:this.programFilter?.value?.length===this.programList.length?null:this.programList,filterRef:this.programFilter,isSelectionInput:this.programFilter?.value?.length!==this.programList.length,displayKey:this.programFilter?.value?.length===this.programList.length?null:"program",savedValue:this.programFilter?.value?.length===this.programList.length?null:"_id"},{type:"table_filter",name:"from_user",column:"FROM_HISTORY",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.fromFilter,isSelectionInput:!1,displayKey:null,savedValue:null,noTranslate:!0},{type:"table_filter",name:"to_user",column:"TO_HISTORY",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.toFilter,isSelectionInput:!1,displayKey:null,savedValue:null,noTranslate:!0}];"latest"===this.type&&"last_7_days"!==this.filteredValues.notification_history_date&&a.push({type:"action_filter",name:"notification_history_date",column:null,isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:null,isSelectionInput:!1,displayKey:null,savedValue:null}),this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat(a,this.filterBreadcrumbData),console.log("cek data",this.filterBreadcrumbData)}removeFilterBreadcrumb(e){e&&("latest"===this.type?"action_filter"===e.type?this.filteredValues.notification_history_date="last_7_days":this.filterBreadCrumbService.removeFilterBreadcrumb(e,this.filteredValues,this.filteredValues,this.filteredValues):"archived"===this.type&&this.filterBreadCrumbService.removeFilterBreadcrumb(e,this.filteredValues,this.filteredValues),this.getNotificationhistories())}ngOnDestroy(){this.subs.unsubscribe()}isAllDropdownSelected(e){if("program"===e){const o=this.programFilter.value;return o&&0!==o.length&&o.length===this.programList.length}}isSomeDropdownSelected(e){if("program"===e){const o=this.programFilter.value;return o&&0!==o.length&&o.length!==this.programList.length}}selectAllData(e,o){if("program"===o)if(e.checked){const a=this.programList.map(g=>g._id);this.programFilter.patchValue(a,{emitEvent:!1})}else this.programFilter.patchValue(null,{emitEvent:!1})}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(V),t.\u0275\u0275directiveInject(x.uU),t.\u0275\u0275directiveInject(I.sK),t.\u0275\u0275directiveInject(k.uw),t.\u0275\u0275directiveInject(it.e),t.\u0275\u0275directiveInject(b.n),t.\u0275\u0275directiveInject(M.w),t.\u0275\u0275directiveInject(ot.I),t.\u0275\u0275directiveInject(O.t),t.\u0275\u0275directiveInject(Q._A),t.\u0275\u0275directiveInject(at.t),t.\u0275\u0275directiveInject(rt.e),t.\u0275\u0275directiveInject(lt.$),t.\u0275\u0275directiveInject(st.q))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-history"]],viewQuery:function(e,o){if(1&e&&(t.\u0275\u0275viewQuery(p.NW,7),t.\u0275\u0275viewQuery(f.YE,7)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(o.paginator=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(o.sort=a.first)}},inputs:{type:"type"},features:[t.\u0275\u0275ProvidersFeature([b.n,M.w,O.t])],decls:58,vars:24,consts:[[1,"top-space"],[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"horizontal"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","11","class","action-header-column",4,"matHeaderCellDef"],["matColumnDef","dateFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","timeFilter"],["matColumnDef","notifRefFilter"],["matColumnDef","notifSubjectFilter"],["mat-header-cell","","style","padding-left: 10px !important; padding-right: 10px !important",4,"matHeaderCellDef"],["matColumnDef","programFilter"],["matColumnDef","fromFilter"],["matColumnDef","toFilter"],["matColumnDef","actionFilter"],["matColumnDef","sentDate"],["mat-header-cell","","matTooltipPosition","above","style","padding-left: 0.5rem",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","padding-left: 0.5rem",3,"matTooltip",4,"matCellDef"],["matColumnDef","sentTime"],["matColumnDef","notificationReference"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","notificationSubject"],["matColumnDef","program"],["matColumnDef","from"],["matColumnDef","to"],["mat-cell","",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","matTooltipPosition","above","style","padding-right: 0.5rem",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","11","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",3,"ngClass",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["mat-header-cell","","colspan","11",1,"action-header-column"],[1,"top-date-picker"],["matInput","","readonly","",3,"formControl","matDatepicker","placeholder","click"],["matSuffix","",2,"margin-right","5px",3,"for"],["fromPicker",""],["matInput","","readonly","",3,"disabled","min","formControl","matDatepicker","placeholder","click"],["matSuffix","",2,"margin-right","5px",3,"for","disabled"],["toPicker",""],["mat-raised-button","",3,"color","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","",3,"color","click"],[1,"mat-icon-default"],["mat-raised-button","","color","primary",3,"click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell",""],[1,"example-full-width",2,"margin-top","5px"],["picker",""],["matInput","","readonly","",3,"ngxTimepicker","format","placeholder","formControl"],["matSuffix","",1,"btn-time",3,"for"],["viewBox","0 0 30 30","width","30px","height","30px","ngxMaterialTimepickerToggleIcon","",2,"transform","scale(0.85)"],["fill","#ffffff","d","M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z M16,16H7.995 C7.445,16,7,15.555,7,15.005v-0.011C7,14.445,7.445,14,7.995,14H14V5.995C14,5.445,14.445,5,14.995,5h0.011 C15.555,5,16,5.445,16,5.995V16z"],["time_utc",""],["matInput","",1,"form-field",3,"placeholder","formControl","matAutocomplete"],[3,"panelWidth"],["autoNotifRef","matAutocomplete"],[3,"value","click"],[3,"value","matTooltip","click",4,"ngFor","ngForOf"],[3,"value","matTooltip","click"],["mat-header-cell","",2,"padding-left","10px !important","padding-right","10px !important"],["matInput","",1,"form-field",3,"formControl","placeholder"],["bindValue","_id","bindLabel","program",1,"programInput","custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["ng-option-tmp",""],[4,"ngIf"],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],["mat-header-cell","","matTooltipPosition","above",2,"padding-left","0.5rem",3,"matTooltip"],["mat-sort-header","sent_date"],["mat-cell","",2,"padding-left","0.5rem",3,"matTooltip"],["mat-sort-header","sent_time"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-sort-header","notif_ref"],["mat-cell","",3,"matTooltip"],["mat-sort-header","notif_sub"],["mat-sort-header","program"],["mat-sort-header","from"],["mat-sort-header","to"],["mat-cell",""],[4,"ngFor","ngForOf"],[3,"matTooltip"],["mat-header-cell","","matTooltipPosition","above",2,"padding-right","0.5rem",3,"matTooltip"],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","click"],["mat-header-cell","","colspan","11",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records",3,"ngClass"]],template:function(e,o){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"ms-filter-breadcrumb",1),t.\u0275\u0275listener("removeFilterTrigger",function(g){return o.removeFilterBreadcrumb(g)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"div",2)(3,"table",3),t.\u0275\u0275listener("matSortChange",function(g){return o.sortData(g)}),t.\u0275\u0275elementContainerStart(4,4),t.\u0275\u0275template(5,bt,16,18,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(6,6),t.\u0275\u0275template(7,Ct,7,6,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,8),t.\u0275\u0275template(9,xt,9,7,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,9),t.\u0275\u0275template(11,vt,12,15,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,10),t.\u0275\u0275template(13,Mt,4,4,"th",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,12),t.\u0275\u0275template(15,St,6,13,"th",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,13),t.\u0275\u0275template(17,Dt,4,4,"th",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,14),t.\u0275\u0275template(19,wt,4,4,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,15),t.\u0275\u0275template(21,Ft,1,0,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,16),t.\u0275\u0275template(23,It,5,6,"th",17),t.\u0275\u0275template(24,Vt,2,2,"td",18),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(25,19),t.\u0275\u0275template(26,Et,5,6,"th",17),t.\u0275\u0275template(27,Ht,2,2,"td",18),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(28,20),t.\u0275\u0275template(29,Bt,5,6,"th",21),t.\u0275\u0275template(30,kt,2,2,"td",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(31,23),t.\u0275\u0275template(32,Rt,5,6,"th",21),t.\u0275\u0275template(33,Yt,2,2,"td",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(34,24),t.\u0275\u0275template(35,Lt,5,6,"th",21),t.\u0275\u0275template(36,Nt,2,2,"td",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(37,25),t.\u0275\u0275template(38,At,5,6,"th",21),t.\u0275\u0275template(39,jt,6,14,"td",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(40,26),t.\u0275\u0275template(41,$t,5,6,"th",21),t.\u0275\u0275template(42,Wt,3,2,"td",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(43,28),t.\u0275\u0275template(44,Gt,5,6,"th",29),t.\u0275\u0275template(45,Jt,2,1,"td",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(46,30),t.\u0275\u0275template(47,Xt,3,0,"th",31),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(48,Zt,1,0,"tr",32),t.\u0275\u0275template(49,qt,1,0,"tr",32),t.\u0275\u0275template(50,te,1,0,"tr",32),t.\u0275\u0275template(51,ee,1,1,"tr",33),t.\u0275\u0275template(52,ne,1,1,"tr",34),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(53,ie,3,6,"div",35),t.\u0275\u0275pipe(54,"async"),t.\u0275\u0275elementStart(55,"div",36),t.\u0275\u0275pipe(56,"async"),t.\u0275\u0275element(57,"mat-paginator",37),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("filterBreadcrumbData",o.filterBreadcrumbData),t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",o.dataSource),t.\u0275\u0275advance(45),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(17,oe)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",o.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",o.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(18,ae)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",o.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(54,13,o.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(19,Z,t.\u0275\u0275pipeBind1(56,15,o.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(21,re,o.historyCount<=10))("length",o.historyCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(23,le)))},dependencies:[x.mk,x.sg,x.O5,J.XC,J.ZL,Q.ey,A.lW,ct.oG,W.Mq,W.hl,W.nW,j.Hw,X.KE,X.R9,pt.Nt,p.NW,mt.Ou,f.YE,f.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,dt.gM,_.DefaultValueAccessor,_.CheckboxControlValueAccessor,_.NgControlStatus,_.NgModel,_.FormControlDirective,ft.oO,ut.r,Y.ro,Y.u_,Y.I2,Y.lJ,n.w9,n.ir,n.Cm,x.Ov,x.gd,I.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{margin-top:6px}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}[_nghost-%COMP%]     table{overflow:hidden}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:7%}[_nghost-%COMP%]     table tr td:nth-child(1) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(1) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:7%;text-align:center;padding-left:0!important}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:8%}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:92%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:30%}[_nghost-%COMP%]     table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(4) .mat-form-field{width:100%}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:15%}[_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){width:15%}[_nghost-%COMP%]     table tr td:nth-child(6) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(6) .mat-form-field{width:100%}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){width:12%;margin-right:6x}[_nghost-%COMP%]     table tr td:nth-child(7) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(7) .mat-form-field{width:93%}[_nghost-%COMP%]     table tr td:nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){width:120px;padding-right:0!important;text-align:center!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}[_nghost-%COMP%]     table .userpopup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:52em;max-width:100%;padding:1.25em;border:none;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;text-align:right!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.btn-time[_ngcontent-%COMP%]{position:relative;top:8px;right:-5px}[_nghost-%COMP%]     button.ngx-material-timepicker-toggle{border-radius:0!important;padding:0!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.top-date-picker[_ngcontent-%COMP%]{width:120px!important;margin-right:1rem!important;margin-top:5px!important}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgb(241,241,241)!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select{margin-top:6px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:13px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container{width:12px;height:12px;margin-left:7px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background{background-color:transparent}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-checkmark .mat-checkbox-checkmark-path{stroke:#000!important}  .all-input.mat-checkbox-indeterminate .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-mixedmark{background-color:#000!important}  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{top:11px;padding-bottom:5px;padding-left:3px}.float-label[_ngcontent-%COMP%]{font-size:.82rem;color:#ffffff78;font-weight:600;position:absolute;top:-3px}  .filterPanel{margin-top:15px!important}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}.programInput[_ngcontent-%COMP%]{max-width:300px;min-width:150px}']}),i})();function ce(i,l){1&i&&(t.\u0275\u0275elementStart(0,"h5"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Latest")))}function pe(i,l){1&i&&t.\u0275\u0275element(0,"ms-history",2),2&i&&t.\u0275\u0275property("type","latest")}function me(i,l){1&i&&(t.\u0275\u0275elementStart(0,"h5"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Archived")))}function de(i,l){1&i&&t.\u0275\u0275element(0,"ms-history",2),2&i&&t.\u0275\u0275property("type","archived")}const ge=[{path:"",component:(()=>{class i{constructor(e){this.pageTitleService=e,this.hideArchive=!0}ngOnInit(){this.pageTitleService.setTitle("List of notifications")}ngOnDestroy(){this.pageTitleService.setTitle(null)}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(d.Z))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-history-parent-tab"]],decls:8,vars:0,consts:[["mat-tab-label",""],["matTabContent",""],[3,"type"]],template:function(e,o){1&e&&(t.\u0275\u0275elementStart(0,"div")(1,"mat-tab-group")(2,"mat-tab"),t.\u0275\u0275template(3,ce,3,3,"ng-template",0),t.\u0275\u0275template(4,pe,1,1,"ng-template",1),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-tab"),t.\u0275\u0275template(6,me,3,3,"ng-template",0),t.\u0275\u0275template(7,de,1,1,"ng-template",1),t.\u0275\u0275elementEnd()()())},dependencies:[s.SP,s.uD,s.uX,s.Vc,se,I.X$]}),i})(),canActivate:[c(25360).n],data:{permission:"history.notifications.show_perm"}},{path:"**",redirectTo:"",pathMatch:"full"}];let he=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[S.Bz.forChild(ge),S.Bz]}),i})(),_e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({providers:[x.uU],imports:[x.ez,v.m,he,I.aw,Y.rK,n.A0]}),i})()},83515:(L,T,c)=>{c.d(T,{w:()=>S});var n=c(15439),v=c(94650);let S=(()=>{class t{transform(s,p){return s?n(s,"HH:mm").add(-n().utcOffset(),"m").format("HH:mm"):""}transformDate(s,p){return s?n(s+p,"DD/MM/YYYYHH:mm").add(-n().utcOffset(),"m").format("DD/MM/YYYY"):""}transformDateTime(s,p){return s?n(s+p,"DD/MM/YYYYHH:mm").add(-n().utcOffset(),"m").format("DD/MM/YYYYHH:mm"):""}transformJavascriptDate(s){if(s){const p=n(s).format("DD/MM/YYYY"),f=n(s).format("HH:mm"),u=n(p+f,"DD/MM/YYYYHH:mm").add(-n().utcOffset(),"m");return{date:u.format("DD/MM/YYYY"),time:u.format("HH:mm")}}return""}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275pipe=v.\u0275\u0275definePipe({name:"parseLocalToUtc",type:t,pure:!0}),t})()},62416:(L,T,c)=>{c.d(T,{t:()=>S});var n=c(15439),v=c(94650);let S=(()=>{class t{transform(s,p){return s?n(s,"HH:mm").subtract(-n().utcOffset(),"m").format("HH:mm"):""}transformAMPM(s,p){return s?n(s,"HH:mm").subtract(-n().utcOffset(),"m").format("HH:mm"):""}transformDate(s,p){if(s&&p)return n(s+p,"DD/MM/YYYYHH:mm").subtract(-n().utcOffset(),"m").format("DD/MM/YYYY")}transformDateInDateFormat(s,p){if(s&&p)return n(s+p,"DD/MM/YYYYHH:mm").subtract(-n().utcOffset(),"m")}fixDateFormat(s){if(s&&s.includes("-")){const p=s.split("-");s=`${p[2]}/${p[1]}/${p[0]}`}return s}fixDateFormatUtc(s){if(s&&s.includes("-")){const p=s.split("-");s=`${p[2].split("T")[0]}/${p[1]}/${p[0]}`}return s}fixTimeFormat(s){return s&&!s.includes(":")&&(s="00:00"),s}transformDateToJavascriptDate(s,p){if(s=this.fixDateFormat(s),p=this.fixTimeFormat(p),s&&p)return n(s+p,"DD/MM/YYYYHH:mm").subtract(-n().utcOffset(),"m").toDate()}transformDateToStringFormat(s,p){if(s&&p)return n(s+p,"DD/MM/YYYYHH:mm").subtract(-n().utcOffset(),"m").format("MMM DD, YYYY")}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275pipe=v.\u0275\u0275definePipe({name:"parseUtcToLocal",type:t,pure:!0}),t})()}}]);