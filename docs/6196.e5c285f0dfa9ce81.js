"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[6196],{56196:(K,x,r)=>{r.r(x),r.d(x,{NewsModule:()=>ie});var c=r(36895),v=r(610),O=r(1059),M=r(22868),u=r(68745),w=r(98739),l=r(17489),p=r(15439),_=r(62416),t=r(94650),f=r(89383),j=r(18497),P=r(47063),B=r(67154),S=r(51572),y=r(24784),R=r(92340),g=r(24006),H=r(35226),m=r.n(H),W=r(11481),A=r(84075),F=r(4859),D=r(97392),E=r(10266);const $=["commentInput"];function Q(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",25)(1,"div",26)(2,"span",27),t.\u0275\u0275element(3,"img",28),t.\u0275\u0275elementStart(4,"span",29),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"uppercase"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"span",30),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"span",30),t.\u0275\u0275text(10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(11,"span",31),t.\u0275\u0275elementEnd()()),2&o){const e=a.$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275property("src",e.userPhotoPath,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,5,null==e||null==e.created_by?null:e.created_by.last_name)+" "+(null==e||null==e.created_by?null:e.created_by.first_name),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(null==e?null:e.createdDate),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.createdTime),t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",null==e?null:e.comment,t.\u0275\u0275sanitizeHtml)}}const X=function(o){return{"tw-text-yellow-500":o}},G=function(o){return{"hide-pagination-buttons":o}};let J=(()=>{class o{constructor(e,n,i,s,d){this.sanitizer=e,this.newsService=n,this.translate=i,this.parseUTCToLocalPipe=s,this.utilityService=d,this.subs=new u.Y,this.isLoading=!1,this.isLoadingDiscussion=!1,this.isWaitingForResponse=!1,this.newsDiscussion=new g.FormControl("",g.Validators.required)}ngOnChanges(e){this.getDataFromGraph()}ngOnInit(){this.currentUser=this.utilityService.getCurrentUser(),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.dataOneNews&&(this.dataOneNews.published_date.date=this.getTranslatedDate(this.dataOneNews?.published_date?.date)),this.newsDiscussData&&this.newsDiscussData.map(n=>(n.createdDate=this.getTranslatedDate(n?.created_at),n?.createdDate))})}ngAfterViewInit(){this.subs.sink=this.paginator?.page.pipe((0,O.O)(null),(0,M.b)(()=>{(this._id||this.dataOneNews._id)&&this.getAllNewsDiscussion()})).subscribe(),this.commentInput.nativeElement.focus()}sanitizeHtml(e){return this.sanitizer.bypassSecurityTrustHtml(e)}getDataFromGraph(){this.isWaitingForResponse=!0,this.subs.sink=this.newsService.getOneNews(this._id).subscribe(e=>{if(this.isLoading=!1,this.isWaitingForResponse=!1,this.dataOneNews=l.cloneDeep(e),e){this.dataOneNews.published_date.date=this.parseUTCToLocalPipe.transformDate(this.dataOneNews?.published_date?.date,this.dataOneNews?.published_date?.time);const i=p(this.dataOneNews?.published_date?.date,"DD/MM/YYYY").format("MMMM, DD YYYY");this.dataOneNews.published_date.time=this.parseUTCToLocalPipe.transform(this.dataOneNews?.published_date?.time),this.dataOneNews.published_date.date=this.getTranslatedDate(i)}else this.isWaitingForResponse=!1;this.newsDiscussion.patchValue(""),this.dataOneNews?._id&&this.getAllNewsDiscussion()})}getTranslatedDate(e){return e?(this.datePipe=new c.uU(this.translate.currentLang),this.datePipe&&this.datePipe.locale?this.datePipe?.transform(e,"MMMM, d y"):""):""}getAllNewsDiscussion(){const e={news_id:this.dataOneNews?._id};void 0!==e?.news_id&&(this.subs.sink=this.newsService.getAllNewsDiscussion({limit:this.paginator?.pageSize?this.paginator.pageSize:10,page:this.paginator?.pageIndex?this.paginator.pageIndex:0},e).subscribe(i=>{i&&(this.isLoading=!1,this.newsDiscussData=i,this.discussDataCount=i[0]?.count_document||0,this.newsDiscussData.forEach(s=>{s.userPhotoPath=s?.created_by?.profile_picture?R.N.apiUrl.replace("/graphql","/fileuploads/")+s?.created_by?.profile_picture:"MR"==s?.created_by?.civility?"/assets/img/student_icon.png":"/assets/img/student_icon_fem.png";const d=s?.created_at,h=p(d),k=h.format("DD/MM/YYYY"),C=h.format("HH:mm"),ae=this.parseUTCToLocalPipe.transformDateToStringFormat(k,C);console.log(C);const Y=p(ae),se=Y.format("MMMM, DD YYYY");console.log(Y),s.createdDate=this.getTranslatedDate(se),s.createdTime=C}))}))}sendDiscussion(e){this.isLoadingDiscussion=!0;const n={comment:e||this.newsDiscussion.value,created_by:this.currentUser._id,news_id:this.dataOneNews?._id};""!==this.newsDiscussion.value.trim()?this.subs.sink=this.newsService.createNewsDiscussion(n).subscribe(i=>{i&&(this.getAllNewsDiscussion(),this.newsDiscussion.reset()),this.isLoadingDiscussion=!1,this.newsDiscussion.enable()},i=>{m().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}),this.isLoadingDiscussion=!1,this.newsDiscussion.enable()}):(this.isLoadingDiscussion=!1,this.newsDiscussion.enable())}get userPhotoPath(){return this.currentUser?.profile_picture?R.N.apiUrl.replace("/graphql","/fileuploads/")+this.currentUser.profile_picture:"MR"===this.currentUser.civility?"/assets/img/student_icon.png":"/assets/img/student_icon_fem.png"}likeDiscuss(){const e=this.dataOneNews?.is_current_user_like_the_news,n=this.dataOneNews?._id;this.isLoading=!0,this.subs.sink=e?this.newsService.unLikeNews(n).subscribe(i=>{this.getDataFromGraph()}):this.newsService.likeNews(n).subscribe(i=>{this.getDataFromGraph()})}scrollToCommentInput(){this.commentInput.nativeElement.focus()}onKeyPress(e){const n=e.target;if(this.newsDiscussion.valid&&""!==this.newsDiscussion.value&&("Enter"!==e.key||!e.ctrlKey||!e.shiftKey))if("Enter"!==e.key||e.ctrlKey||e.shiftKey)"\n"===e.key&&e.ctrlKey&&(n.value+="\n");else if(""!==this.newsDiscussion.value.trim()){this.isLoadingDiscussion=!0,this.newsDiscussion.disable();let i=n.value.replace(/\n/g,"<br>");console.log(i),this.sendDiscussion(i),n.value="",n.style.height="auto",this.isLoadingDiscussion=!1}n.style.height="0",n.style.height=n.scrollHeight+"px"}ngOnDestroy(){this.subs.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(W.H7),t.\u0275\u0275directiveInject(P.Y),t.\u0275\u0275directiveInject(f.sK),t.\u0275\u0275directiveInject(_.t),t.\u0275\u0275directiveInject(A.t))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ms-all-news-detail"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(w.NW,7),t.\u0275\u0275viewQuery($,5)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.paginator=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.commentInput=i.first)}},inputs:{_id:"_id"},features:[t.\u0275\u0275ProvidersFeature([_.t]),t.\u0275\u0275NgOnChangesFeature],decls:56,vars:40,consts:[[1,"detail-container"],[1,"header"],[1,"news-title","w-full","text-center"],[1,"news-date"],[1,"news-content"],[1,"content",3,"innerHTML"],[1,"tw-w-full","tw-flex","tw-gap-x-5","tw-mt-5"],[1,"tw-flex","tw-justify-between","tw-items-center","tw-bg-[#424242]","tw-px-5","tw-py-4","tw-rounded-lg","tw-gap-4"],[1,"tw-flex","tw-items-center","tw-gap-1",3,"ngClass"],["mat-raised-button","",1,"!tw-bg-[#717171]","!tw-font-bold",3,"disabled","click"],[1,"tw-flex","tw-justify-between","tw-items-center","tw-px-5","tw-py-4","tw-bg-[#424242]","tw-rounded-lg","tw-gap-4"],[1,"tw-flex","tw-items-center","tw-gap-1"],["mat-raised-button","",1,"!tw-bg-[#717171]","!tw-font-bold",3,"click"],[1,"tw-w-full","tw-bg-[#424242]","tw-px-5","tw-py-4","tw-rounded-lg","tw-my-5"],[1,"tw-overflow-auto","tw-max-h-80","tw-mb-5"],["class","tw-w-full",4,"ngFor","ngForOf"],["showFirstLastButtons","",1,"paginator",3,"ngClass","length","hidePageSize","pageSize"],[1,"tw-w-full","tw-mt-6"],[1,"tw-w-full","tw-rounded-lg","tw-px-5","tw-py-4","tw-bg-[#363636]"],[1,"tw-flex","tw-justify-between","tw-items-center","tw-rounded-xl","tw-px-2","tw-bg-[#424242]"],[1,"tw-flex","tw-items-center","tw-w-full","tw-gap-1","tw-min-h-10px","tw-max-h-[200px]"],["alt","user_profile",1,"tw-size-8","tw-object-cover","tw-rounded-full",3,"src"],["rows","1",1,"tw-resize-none","tw-p-2","tw-flex-grow","tw-text-app-tertiary","tw-text-base","tw-bg-transparent","focus:tw-outline-none","tw-min-h-10px","tw-mb-[2px]","tw-max-h-[200px]",3,"placeholder","formControl","keypress"],["commentInput",""],[1,"tw-h-10","tw-flex","tw-items-center","tw-justify-center","disabled:tw-opacity-50",3,"disabled","matTooltip","click"],[1,"tw-w-full"],[1,"tw-w-full","tw-rounded-lg","tw-px-5","tw-py-4","tw-bg-[#363636]","tw-mb-4"],[1,"tw-flex","tw-flex-1","tw-items-center","tw-justify-items-center","tw-gap-2","tw-mb-2"],["alt","user_profile",1,"tw-size-10","tw-object-cover","tw-rounded-full",3,"src"],[1,"tw-font-bold"],[1,""],[1,"tw-w-full",3,"innerHTML"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div")(1,"div",0)(2,"div",1)(3,"h1",2),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",3)(6,"p"),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementStart(9,"span"),t.\u0275\u0275text(10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"span"),t.\u0275\u0275text(12),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(13,"p"),t.\u0275\u0275text(14),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"p"),t.\u0275\u0275text(16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(17,"div",4),t.\u0275\u0275element(18,"div",5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(19,"div",6)(20,"div",7)(21,"span",8)(22,"mat-icon"),t.\u0275\u0275text(23,"thumb_up"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(24),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(25,"button",9),t.\u0275\u0275listener("click",function(){return n.likeDiscuss()}),t.\u0275\u0275text(26),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(28,"div",10)(29,"span",11)(30,"mat-icon"),t.\u0275\u0275text(31,"mode_comment"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(32),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(33,"button",12),t.\u0275\u0275listener("click",function(){return n.scrollToCommentInput()}),t.\u0275\u0275text(34),t.\u0275\u0275pipe(35,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(36,"div",13)(37,"h3"),t.\u0275\u0275text(38),t.\u0275\u0275pipe(39,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(40,"div",14),t.\u0275\u0275template(41,Q,12,7,"div",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(42,"div"),t.\u0275\u0275element(43,"mat-paginator",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(44,"div",17)(45,"div",18)(46,"div",19)(47,"div",20),t.\u0275\u0275element(48,"img",21),t.\u0275\u0275elementStart(49,"textarea",22,23),t.\u0275\u0275listener("keypress",function(s){return n.onKeyPress(s)}),t.\u0275\u0275pipe(51,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(52,"button",24),t.\u0275\u0275listener("click",function(){return n.sendDiscussion()}),t.\u0275\u0275pipe(53,"translate"),t.\u0275\u0275elementStart(54,"mat-icon"),t.\u0275\u0275text(55,"send"),t.\u0275\u0275elementEnd()()()()()()()()),2&e&&(t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(null==n.dataOneNews?null:n.dataOneNews.title),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(8,24,"NEWS.created by")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",null==n.dataOneNews||null==n.dataOneNews.created_by?null:n.dataOneNews.created_by.last_name,""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==n.dataOneNews||null==n.dataOneNews.created_by?null:n.dataOneNews.created_by.first_name,""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==n.dataOneNews||null==n.dataOneNews.published_date?null:n.dataOneNews.published_date.date),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==n.dataOneNews||null==n.dataOneNews.published_date?null:n.dataOneNews.published_date.time),t.\u0275\u0275advance(2),t.\u0275\u0275property("innerHTML",n.sanitizeHtml(null==n.dataOneNews?null:n.dataOneNews.description),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(36,X,null==n.dataOneNews?null:n.dataOneNews.is_current_user_like_the_news)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",null==n.dataOneNews?null:n.dataOneNews.total_like," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",n.isLoading),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(27,26,"ERP_076.Like")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",n.discussDataCount," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(35,28,"ERP_076.Discuss")," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(39,30,"ERP_076.Discussion")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",n.newsDiscussData),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(38,G,n.discussDataCount<=10))("length",n.discussDataCount)("hidePageSize",!0)("pageSize",10),t.\u0275\u0275advance(5),t.\u0275\u0275property("src",n.userPhotoPath,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(51,32,"ERP_076.Add Comment")),t.\u0275\u0275property("formControl",n.newsDiscussion),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(53,34,"ERP_076.Send")),t.\u0275\u0275property("disabled",n.isLoadingDiscussion||!n.newsDiscussion.valid))},dependencies:[c.mk,c.sg,F.lW,D.Hw,w.NW,E.gM,g.DefaultValueAccessor,g.NgControlStatus,g.FormControlDirective,y.oO,c.gd,f.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.detail-container[_ngcontent-%COMP%]{width:100%}.news-date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:unset!important}.news-date[_ngcontent-%COMP%]{margin-bottom:1.25rem!important}.hide-pagination-buttons[_ngcontent-%COMP%]   .hide-pagination-buttons[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.paginator[_ngcontent-%COMP%]{border-radius:5px!important;min-width:20rem;background-color:inherit!important;display:unset!important}.news-time[_ngcontent-%COMP%]{margin-bottom:1.25rem}[_nghost-%COMP%]     .mat-paginator-icon{width:22px!important}[_nghost-%COMP%]     .mat-paginator-container{min-height:unset!important;justify-content:center!important;display:unset!important}[_nghost-%COMP%]     .mat-paginator-range-actions{justify-content:right}[_nghost-%COMP%]     .mat-paginator-range-label{margin:0 24px 0 0!important}[_nghost-%COMP%]     .mat-icon-button{width:22px!important}.hide[_ngcontent-%COMP%]{display:none!important}[_nghost-%COMP%]     .news-content ol, [_nghost-%COMP%]     .news-content ul, [_nghost-%COMP%]     .news-content menu{list-style:none;margin:0;padding:0 1rem}"]}),o})();function Z(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"p",12),t.\u0275\u0275listener("click",function(){const s=t.\u0275\u0275restoreView(e).index,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.onNewsClick(s))}),t.\u0275\u0275text(1),t.\u0275\u0275elementStart(2,"span"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()}if(2&o){const e=a.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("active",n._id===e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null==e||null==e.published_date?null:e.published_date.date," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e||null==e.published_date?null:e.published_date.time)}}function q(o,a){if(1&o&&t.\u0275\u0275element(0,"ms-all-news-detail",13),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("_id",e._id)}}function tt(o,a){1&o&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",14),t.\u0275\u0275element(2,"mat-spinner",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function et(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div",16),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NEWS.no news"),"\n"))}const nt=function(o){return{hide:o}},ot=function(o){return{"hide-pagination-buttons":o}};let it=(()=>{class o{constructor(e,n,i,s,d,h){this.translate=e,this.apollo=n,this.newsService=i,this.route=s,this.pageTitleService=d,this.parseUTCToLocalPipe=h,this.subs=new u.Y,this.dataCount=0,this.selectedIndex=0,this.isFrance=!1,this.isWaitingForResponse=!1}ngOnInit(){this.pageTitleService.setTitle("All News"),this.isFrance="en"!==this.currentLang,this.getDataFromGraph(),this.subs.sink=this.route.queryParams.subscribe(e=>{this._idParams=e.id,this._idParams&&(this._id=this._idParams)}),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.checkLang(),this.isFrance="en"!==this.currentLang,this.dataAllNews&&this.dataAllNews.forEach(n=>{n.published_date.date=this.getTranslatedDate(n?.published_date?.date)})})}get currentLang(){return this.translate.currentLang.toLowerCase()}checkLang(){this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.isFrance="fr"===e?.lang})}ngAfterViewInit(){this.subs.sink=this.paginator?.page.pipe((0,O.O)(null),(0,M.b)(()=>{this.currentId=this._id,this.getDataFromGraph()})).subscribe()}getDataFromGraph(){const e={limit:this.paginator?.pageSize?this.paginator.pageSize:10,page:this.paginator?.pageIndex?this.paginator.pageIndex:0},n={is_published:!0};n.offset=p().utcOffset(),this.isWaitingForResponse=!0,this.subs.sink=this.newsService.getAllNews(e,n,{published_date:"desc"}).subscribe(s=>{if(this.isWaitingForResponse=!1,this.dataAllNews=l.cloneDeep(s),this._id=this.currentId?this.currentId:this._idParams?this._idParams:s[0]?._id,this.dataCount=s[0]?.count_document,s&&(this.dataAllNews.forEach(d=>{d.published_date.date=this.parseUTCToLocalPipe.transformDate(d?.published_date?.date,d?.published_date?.time),d.published_date.date=p(d.published_date.date,"DD/MM/YYYY").format("MMM DD, YYYY"),d.published_date.time=this.parseUTCToLocalPipe.transform(d?.published_date?.time),d.published_date.date=this.getTranslatedDate(d?.published_date?.date)}),this._idParams)){const d=this.dataAllNews.findIndex(h=>h._id===this._idParams);this.selectedIndex=d}})}onNewsClick(e){this._id=this.dataAllNews[e]._id,this.selectedIndex=e}getTranslatedDate(e){return e?(this.datePipe=new c.uU(this.translate?.currentLang),this.datePipe&&this.datePipe.locale?this.isFrance?this.datePipe?.transform(e,"MMM d y"):this.datePipe?.transform(e,"MMM, d y"):""):""}ngOnDestroy(){this.subs.unsubscribe(),this.pageTitleService.setTitle(null)}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(f.sK),t.\u0275\u0275directiveInject(j._M),t.\u0275\u0275directiveInject(P.Y),t.\u0275\u0275directiveInject(v.gz),t.\u0275\u0275directiveInject(B.Z),t.\u0275\u0275directiveInject(_.t))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ms-all-news"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(w.NW,7),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.paginator=i.first)}},features:[t.\u0275\u0275ProvidersFeature([_.t])],decls:16,vars:20,consts:[[1,"news-container","p-grid"],[1,"news-list","p-col-fixed"],[1,"header"],[1,"content"],[1,"content-wrapper"],["class","card-list-news cursor-pointer",3,"active","click",4,"ngFor","ngForOf"],[1,"paginator-container",3,"ngClass"],["showFirstLastButtons","",1,"paginator",3,"ngClass","length","hidePageSize","pageSize"],[1,"news-detail","tw-pt-4","p-col"],[3,"_id",4,"ngIf"],[4,"ngIf"],["class","no-records tw-w-full tw-h-full tw-flex tw-justify-center tw-items-center tw-text-2xl",4,"ngIf"],[1,"card-list-news","cursor-pointer",3,"click"],[3,"_id"],[1,"center-spinner","inner-loading-indicator","tw-w-full","tw-h-full","tw-flex","tw-justify-center","tw-items-center"],["color","accent"],[1,"no-records","tw-w-full","tw-h-full","tw-flex","tw-justify-center","tw-items-center","tw-text-2xl"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",3)(7,"div",4),t.\u0275\u0275template(8,Z,4,4,"p",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",6),t.\u0275\u0275pipe(10,"async"),t.\u0275\u0275element(11,"mat-paginator",7),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",8),t.\u0275\u0275template(13,q,1,1,"ms-all-news-detail",9),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(14,tt,3,0,"ng-container",10),t.\u0275\u0275template(15,et,3,3,"div",11)),2&e&&(t.\u0275\u0275classProp("hide",!(null!=n.dataAllNews&&n.dataAllNews.length)),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,12,"NEWS.List of News")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",n.dataAllNews),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,nt,t.\u0275\u0275pipeBind1(10,14,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,ot,n.dataAllNews<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",10),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n._id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=n.dataAllNews&&n.dataAllNews.length||n.isWaitingForResponse)))},dependencies:[c.mk,c.sg,c.O5,w.NW,S.Ou,y.oO,J,c.Ov,f.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.card-list-news[_ngcontent-%COMP%]{padding:5px;background-color:#6f6f6f62;width:-moz-fit-content;width:fit-content;border-radius:5px;margin-bottom:16px;padding:.2rem .8rem;text-align:center}.content-wrapper[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{padding-left:.6rem}.active[_ngcontent-%COMP%]{color:#fdd835!important;background-color:#fdd83542}.news-list[_ngcontent-%COMP%]{width:205px!important}.news-detail[_ngcontent-%COMP%]{height:90vh;overflow:auto;padding:0 1rem}.paginator-container[_ngcontent-%COMP%]{max-width:19rem;padding:unset!important}.hide-pagination-buttons[_ngcontent-%COMP%]   .hide-pagination-buttons[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.paginator[_ngcontent-%COMP%]{border-radius:5px!important;min-width:20rem;background-color:inherit!important;display:unset!important}[_nghost-%COMP%]     .mat-paginator-icon{width:22px!important}[_nghost-%COMP%]     .mat-paginator-container{min-height:unset!important;justify-content:center!important;display:unset!important;margin-left:5px}[_nghost-%COMP%]     .mat-paginator-range-label{margin:0!important}[_nghost-%COMP%]     .mat-icon-button{width:22px!important}.hide[_ngcontent-%COMP%]{display:none!important}"]}),o})();var I=r(96308),b=r(53626),at=r(24850),L=r(80013),st=r(3238),N=r(59549),U=r(284),rt=r(84385),z=r(90455);function lt(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",26)(1,"div",27)(2,"span",28),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",29)(6,"button",30),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.addNews())}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementStart(8,"mat-icon",31),t.\u0275\u0275text(9,"add_circle"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"button",32),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.resetFilter())}),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275element(14,"mat-icon",33),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,7,"ERP_076.List of News")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(7,9,"ERP_076.Add News")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(11,11,"ERP_076.Add News")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(13,13,"RESET")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(16,15,"RESET")," ")}}function dt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"th",34)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",35),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.newsTitleFilter)}}function ct(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"th",34)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",35),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.createdByFilter)}}function pt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"mat-option",38),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o){const e=a.$implicit;t.\u0275\u0275property("value",e.is_published),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,e.statusKey))}}function gt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"th",34)(1,"mat-form-field",36)(2,"mat-select",37)(3,"mat-option",38),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,pt,3,4,"mat-option",39),t.\u0275\u0275elementEnd()()()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",e.statusFilter)("disableOptionCentering",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("value","All"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,5,"ERP_076.All")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.statusList)}}function mt(o,a){1&o&&t.\u0275\u0275element(0,"th",34)}function ht(o,a){1&o&&(t.\u0275\u0275elementStart(0,"th",40),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",41),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&o&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ERP_076.News Title")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"ERP_076.News Title")))}function ut(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),s=i.$implicit,d=i.index,h=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(h.editNews(s,d))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&o){const e=a.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.title),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.title," ")}}function bt(o,a){1&o&&(t.\u0275\u0275elementStart(0,"th",40),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",43),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&o&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ERP_076.Created by")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"ERP_076.Created by")))}function _t(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),s=i.$implicit,d=i.index,h=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(h.editNews(s,d))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"uppercase"),t.\u0275\u0275elementEnd()}if(2&o){const e=a.$implicit;t.\u0275\u0275propertyInterpolate2("matTooltip","",t.\u0275\u0275pipeBind1(1,3,null==e||null==e.created_by?null:e.created_by.last_name)," ",null==e||null==e.created_by?null:e.created_by.first_name,""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,null==e||null==e.created_by?null:e.created_by.last_name)+" "+(null==e||null==e.created_by?null:e.created_by.first_name)," ")}}function ft(o,a){1&o&&(t.\u0275\u0275elementStart(0,"th",44),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",45),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&o&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Status")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Status")))}const wt=function(o,a){return{"tw-text-green-700":o,"tw-text-red-700":a}};function Ct(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",46),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e),s=i.$implicit,d=i.index,h=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(h.editNews(s,d))}),t.\u0275\u0275elementStart(1,"mat-icon",47),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3," lens "),t.\u0275\u0275elementEnd()()}if(2&o){const e=a.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(2,2,e.is_published?"FORM_BUILDER.Published":"FORM_BUILDER.Not Published"))("ngClass",t.\u0275\u0275pureFunction2(4,wt,!0===(null==e?null:e.is_published),!1===(null==e?null:e.is_published)||null==(null==e?null:e.is_published)))}}function Ot(o,a){1&o&&(t.\u0275\u0275elementStart(0,"th",40),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&o&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"GROUPOFSCHOOL.Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"GROUPOFSCHOOL.Action")))}function Mt(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-slide-toggle",51),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext().$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.publishNews(i,s))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementEnd()}if(2&o){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("checked",null==e?null:e.is_published)("matTooltip",t.\u0275\u0275pipeBind1(1,2,null!=e&&e.is_published?"FORM_BUILDER.Published":"FORM_BUILDER.Not Published"))}}function Pt(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",52),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.deleteNews(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}2&o&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Delete"))}function xt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"td",48),t.\u0275\u0275template(1,Mt,2,4,"mat-slide-toggle",49),t.\u0275\u0275template(2,Pt,4,3,"button",50),t.\u0275\u0275elementEnd()),2&o){const e=a.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e._id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e._id)}}function vt(o,a){1&o&&(t.\u0275\u0275elementStart(0,"th",53)(1,"div",54),t.\u0275\u0275element(2,"mat-spinner",55),t.\u0275\u0275elementEnd()())}function yt(o,a){1&o&&t.\u0275\u0275element(0,"tr",56)}function Nt(o,a){1&o&&t.\u0275\u0275element(0,"tr",56)}function Tt(o,a){1&o&&t.\u0275\u0275element(0,"tr",56)}function kt(o,a){if(1&o&&t.\u0275\u0275element(0,"tr",57),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function St(o,a){if(1&o&&t.\u0275\u0275element(0,"tr",58),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function Ft(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div",59),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")," "))}const Dt=function(){return["reset"]},Et=function(){return["loading"]},It=function(o){return{hide:o}},Bt=function(o){return{"hide-pagination-buttons":o}};let Rt=(()=>{class o{constructor(e,n){this._newsService=e,this._translate=n,this.addNewNews=new t.EventEmitter,this.editNewsId=new t.EventEmitter,this.dataSource=new b.by([]),this.isWaitingForResponse=!1,this.subs=new u.Y,this.sortValue=null,this.filteredValues={title:null,created_by:null,is_published:null},this.displayedColumns=["newsTitle","createdBy","status","action"],this.filterColumns=["newsTitleFilter","createdByFilter","statusFilter","actionFilter"],this.dataLoaded=!1,this.statusList=[{is_published:!0,statusKey:"FORM_BUILDER.Published"},{is_published:!1,statusKey:"FORM_BUILDER.Not Published"}],this.newsTitleFilter=new g.UntypedFormControl(null),this.createdByFilter=new g.UntypedFormControl(null),this.statusFilter=new g.UntypedFormControl("All"),this.isPublishedForm=new g.UntypedFormControl(null),this.isReset=!1,this.openAddNews=!1,this.isFormSame=!0}ngOnInit(){this.getAllNews(),this.initFilter(),this.subs.sink=this._newsService.userNewsDataConfig$.subscribe(e=>{this.resetFilter(),this.openAddNews=!1}),this.subs.sink=this._newsService.userNewsConfig$.subscribe(e=>{if(this.openAddNews)this.tableData[0]={_id:e?._id,title:e?.title,description:"",created_by:{first_name:"",last_name:"",civility:""},is_published:e?.is_published?e?.is_published:null},this.dataSource.data=this.tableData;else if(this.tableData&&this.tableData?.length&&!this.isFormSame){const n=this.tableData.findIndex(i=>i?._id===e?._id);(n>0||0===n)&&(this.tableData[n].title=e?.title)}}),this.subs.sink=this._newsService.comparisonForm$.subscribe(e=>{this.isFormSame=e})}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,O.O)(null),(0,M.b)(()=>{this.getAllNews(),this.dataLoaded=!0})).subscribe()}getAllNews(e){const n={limit:this.paginator?.pageSize?this.paginator.pageSize:10,page:this.paginator?.pageIndex?this.paginator.pageIndex:0};this.isWaitingForResponse=!0,this.subs.sink=this._newsService.getAllNews(n,this.filteredValues,this.sortValue).subscribe(i=>{this.tableData=l.cloneDeep(i),this.dataSource.data=this.tableData,this.dataCount=this.tableData[0]?.count_document,this.isWaitingForResponse=!1,this.isReset=!1,this.noData=this.dataSource.connect().pipe((0,at.U)(s=>0===s.length)),"reset"===e&&!this._newsService.getCurrentIdSubject()&&this.addNews(e)})}addNews(e){if(this.openAddNews)this._newsService.getCurrentFormStatus()||m().fire({type:"warning",title:this._translate.instant("News_S5.TITLE"),html:this._translate.instant("News_S5.TEXT"),confirmButtonText:this._translate.instant("News_S5.BUTTON 1"),cancelButtonText:this._translate.instant("News_S5.BUTTON 2"),showCancelButton:!0,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,footer:'<span class="tw-w-full tw-text-end">News_S5</span>'}).then(i=>{i.value?(this.getAllNews(),this._newsService.triggerFormReset(!0)):this._newsService.triggerFormReset(!1)});else{if("reset"===e){const n=this._newsService.userNewsConfigSubject.value;this.newNewsItem={_id:"",title:n?.title,description:n?.description,created_by:{first_name:"",last_name:"",civility:""},is_published:null}}else this.newNewsItem={_id:"",title:"",description:"",created_by:{first_name:"",last_name:"",civility:""},is_published:null};null===this.tableData[0]?._id?this.tableData[0]?.title||this.tableData[0]?.description?(this.tableData.shift(),this.dataCount=this.tableData[0]?.count_document):this._newsService.userNewsConfig$.subscribe(n=>{n&&this.tableData.unshift(this.newNewsItem),this.dataCount=this.tableData[1]?.count_document,this.dataSource.data=this.tableData}):(this.tableData.unshift(this.newNewsItem),this.dataCount=this.tableData[1]?.count_document+1,this.dataSource.data=this.tableData),this.openAddNews=!0}e?e&&"reset"===e&&this._newsService.setComparisonForm(!0):this._newsService.updateNewsId(""),this.addNewNews.emit(this.openAddNews)}initFilter(){this.subs.sink=this.newsTitleFilter.valueChanges.pipe((0,L.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.newsTitleFilter.setValue(""),this.filteredValues.title="",this.paginator.pageIndex=0,this.isReset||this.getAllNews()):(this.filteredValues.title=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset?""===e&&(this.newsTitleFilter.setValue(""),this.filteredValues.title="",this.paginator.pageIndex=0,this.isReset||this.getAllNews()):this.getAllNews())}),this.subs.sink=this.createdByFilter.valueChanges.pipe((0,L.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.createdByFilter.setValue(""),this.filteredValues.created_by="",this.paginator.pageIndex=0,this.isReset||this.getAllNews()):(this.filteredValues.created_by=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset?""===e&&(this.newsTitleFilter.setValue(""),this.filteredValues.created_by="",this.paginator.pageIndex=0,this.isReset||this.getAllNews()):this.getAllNews())}),this.subs.sink=this.statusFilter.valueChanges.subscribe(e=>{this.filteredValues.is_published="All"===e?null:e,this.paginator.pageIndex=0,this.isReset||this.getAllNews()})}sortData(e){this.sortValue=e.active&&e.direction?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getAllNews())}resetFilter(){this.isReset=!0,this.statusFilter.patchValue("All",{emitEvent:!1}),this.createdByFilter.patchValue("",{emitEvent:!1}),this.newsTitleFilter.patchValue("",{emitEvent:!1}),this.paginator.pageIndex=0,this.sort.sort({id:"",start:"",disableClear:!1}),this.sort.direction="",this.sort.active="",this.sortValue={},this.filteredValues={title:null,created_by:null,is_published:null},this.openAddNews=!1,this.getAllNews("reset")}publishNews(e,n){n&&!n.is_published?m().fire({type:"warning",title:this._translate.instant("News_S1.TITLE"),html:this._translate.instant("News_S1.TEXT"),confirmButtonText:this._translate.instant("News_S1.BUTTON 1"),cancelButtonText:this._translate.instant("News_S1.BUTTON 2"),showCancelButton:!0,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,footer:'<span class="tw-w-full tw-text-end">News_S1</span>'}).then(i=>{i.value?this.publishNewsCallAPI(n?._id):e&&e?.source&&(e.source.checked=n?.is_published)}):m().fire({type:"warning",title:this._translate.instant("News_S3.TITLE"),html:this._translate.instant("News_S3.TEXT"),confirmButtonText:this._translate.instant("News_S3.BUTTON 1"),cancelButtonText:this._translate.instant("News_S3.BUTTON 2"),showCancelButton:!0,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,footer:'<span class="tw-w-full tw-text-end">News_S3</span>'}).then(i=>{i.value?this.unPublishNewsCallAPI(n?._id):e&&e?.source&&(e.source.checked=n?.is_published)})}publishNewsCallAPI(e){const n=e;this.subs.sink=this._newsService.publishNews(e).subscribe(i=>{m().fire({type:"success",title:this._translate.instant("Bravo"),confirmButtonText:this._translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1,footer:'<span class="tw-w-full tw-text-end">Bravo_S1</span>'}).then(s=>{this._newsService.getCurrentIdSubject()===n&&this._newsService.updateNewsId(e),this.getAllNews()})})}unPublishNewsCallAPI(e){const n=e;this.subs.sink=this._newsService.unPublishNews(e).subscribe(i=>{m().fire({type:"success",title:this._translate.instant("Bravo"),confirmButtonText:this._translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1,footer:'<span class="tw-w-full tw-text-end">Bravo_S1</span>'}).then(s=>{this._newsService.getCurrentIdSubject()===n&&this._newsService.updateNewsId(e),this.getAllNews()})})}editNews(e,n){this.addNewNews.emit(!0),this.openAddNews?n>0&&(this.isFormSame?(this.tableData.shift(),this.dataSource.data=this.tableData,this.openAddNews=!1,this.dataCount=this.tableData[0]?.count_document,this._newsService.updateNewsId(e?._id),this._newsService.setComparisonForm(!0)):m().fire({type:"warning",title:this._translate.instant("News_S5.TITLE"),html:this._translate.instant("News_S5.TEXT"),confirmButtonText:this._translate.instant("News_S5.BUTTON 1"),cancelButtonText:this._translate.instant("News_S5.BUTTON 2"),showCancelButton:!0,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,footer:'<span class="tw-w-full tw-text-end">News_S5</span>'}).then(i=>{i.value?(this._newsService.triggerFormReset(!0),this._newsService.setComparisonForm(!0)):(this.tableData.shift(),this.dataSource.data=this.tableData,this.openAddNews=!1,this.dataCount=this.tableData[0]?.count_document,this._newsService.updateNewsId(e?._id),this._newsService.setComparisonForm(!0))})):this.isFormSame?(this._newsService.updateNewsId(e._id),this._newsService.setComparisonForm(!0)):m().fire({type:"warning",title:this._translate.instant("News_S5.TITLE"),html:this._translate.instant("News_S5.TEXT"),confirmButtonText:this._translate.instant("News_S5.BUTTON 1"),cancelButtonText:this._translate.instant("News_S5.BUTTON 2"),showCancelButton:!0,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,footer:'<span class="tw-w-full tw-text-end">News_S5</span>'}).then(i=>{if(i.value){let s=!0;this.getAllNews(),this._newsService.triggerFormReset(s),this._newsService.setComparisonForm(!0)}else this._newsService.updateNewsId(e._id),this.getAllNews(),this._newsService.setComparisonForm(!0)})}deleteNews(e){e.is_published?m().fire({type:"warning",title:this._translate.instant("News_S2.TITLE"),html:this._translate.instant("News_S2.TEXT"),confirmButtonText:this._translate.instant("News_S2.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,footer:'<span class="tw-w-full tw-text-end">News_S2</span>'}):m().fire({type:"warning",title:this._translate.instant("News_S4.TITLE"),html:this._translate.instant("News_S4.TEXT"),confirmButtonText:this._translate.instant("News_S4.BUTTON 1"),cancelButtonText:this._translate.instant("News_S4.BUTTON 2"),showCancelButton:!0,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,footer:'<span class="tw-w-full tw-text-end">News_S4</span>'}).then(n=>{if(n.value){const i=e;this.subs.sink=this._newsService.deleteNews(e._id).subscribe(s=>{m().fire({type:"success",title:this._translate.instant("Bravo"),confirmButtonText:this._translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1,footer:'<span class="tw-w-full tw-text-end">Bravo_S1</span>'}).then(d=>{this._newsService.getCurrentIdSubject()===i._id&&(this._newsService.updateNewsId(""),this.addNewNews.emit(!1)),this.getAllNews()})})}})}ngOnDestroy(){this.subs.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(P.Y),t.\u0275\u0275directiveInject(f.sK))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ms-manage-news-table"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(w.NW,7),t.\u0275\u0275viewQuery(I.YE,7)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.paginator=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.sort=i.first)}},inputs:{tableData:"tableData"},outputs:{addNewNews:"addNewNews",editNewsId:"editNewsId"},decls:36,vars:22,consts:[[1,"tw-w-full"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","100%","class","action-header-column text-right !tw-py-2 !tw-px-0",4,"matHeaderCellDef"],["matColumnDef","newsTitleFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","createdByFilter"],["matColumnDef","statusFilter"],["matColumnDef","actionFilter"],["matColumnDef","newsTitle"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","class","tw-cursor-pointer",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","createdBy"],["matColumnDef","status"],["mat-header-cell","","style","text-align: center",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","class","tw-cursor-pointer",3,"click",4,"matCellDef"],["matColumnDef","action"],["mat-cell","","class","tw-space-x-5",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",1,"paginator",3,"ngClass","length","hidePageSize","pageSize"],["mat-header-cell","","colspan","100%",1,"action-header-column","text-right","!tw-py-2","!tw-px-0"],[1,"tw-flex","tw-items-center","tw-justify-between","tw-pl-1"],[1,"tw-w-auto","tw-text-start","tw-text-lg","tw-font-semibold"],[1,"tw-w-3/4","no-padding","text-right"],["mat-raised-button","","color","accent",3,"disabled","matTooltip","click"],[1,"mat-icon-default"],["mat-raised-button","","color","primary",3,"matTooltip","disabled","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell",""],["matInput","",1,"form-field",3,"placeholder","formControl"],["appearance","legacy"],["panelClass","custom-matselect-dropdown news-table-status",3,"formControl","disableOptionCentering"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["mat-header-cell","",3,"matTooltip"],["mat-sort-header","title"],["mat-cell","",1,"tw-cursor-pointer",3,"matTooltip","click"],["mat-sort-header","created_by"],["mat-header-cell","",2,"text-align","center",3,"matTooltip"],["mat-sort-header","is_published"],["mat-cell","",1,"tw-cursor-pointer",3,"click"],[3,"matTooltip","ngClass"],["mat-cell","",1,"tw-space-x-5"],["color","accent",3,"checked","matTooltip","change",4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["color","accent",3,"checked","matTooltip","change"],["mat-icon-button","","matTooltipPosition","above",3,"matTooltip","click"],["mat-header-cell","","colspan","100%",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"table",1),t.\u0275\u0275listener("matSortChange",function(s){return n.sortData(s)}),t.\u0275\u0275elementContainerStart(2,2),t.\u0275\u0275template(3,lt,17,17,"th",3),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(4,4),t.\u0275\u0275template(5,dt,4,4,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(6,6),t.\u0275\u0275template(7,ct,4,4,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,7),t.\u0275\u0275template(9,gt,7,7,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,8),t.\u0275\u0275template(11,mt,1,0,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,9),t.\u0275\u0275template(13,ht,5,6,"th",10),t.\u0275\u0275template(14,ut,2,2,"td",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(15,12),t.\u0275\u0275template(16,bt,5,6,"th",10),t.\u0275\u0275template(17,_t,4,7,"td",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,13),t.\u0275\u0275template(19,ft,5,6,"th",14),t.\u0275\u0275template(20,Ct,4,7,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(21,16),t.\u0275\u0275template(22,Ot,5,6,"th",10),t.\u0275\u0275template(23,xt,3,2,"td",17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,18),t.\u0275\u0275template(25,vt,3,0,"th",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(26,yt,1,0,"tr",20),t.\u0275\u0275template(27,Nt,1,0,"tr",20),t.\u0275\u0275template(28,Tt,1,0,"tr",20),t.\u0275\u0275template(29,kt,1,1,"tr",21),t.\u0275\u0275template(30,St,1,1,"tr",22),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(31,Ft,3,3,"div",23),t.\u0275\u0275pipe(32,"async"),t.\u0275\u0275elementStart(33,"div",24),t.\u0275\u0275pipe(34,"async"),t.\u0275\u0275element(35,"mat-paginator",25),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(25),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(16,Dt)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(17,Et)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(32,12,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,It,t.\u0275\u0275pipeBind1(34,14,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(20,Bt,n.tableData<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",10))},dependencies:[c.mk,c.sg,c.O5,st.ey,F.lW,D.Hw,N.KE,U.Nt,w.NW,S.Ou,rt.gD,z.Rr,I.YE,I.nU,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,E.gM,g.DefaultValueAccessor,g.NgControlStatus,g.FormControlDirective,y.oO,c.Ov,c.gd,f.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:auto;padding-left:.5rem;padding-right:.5rem}[_nghost-%COMP%]     table tr td:nth-child(1) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(1) .mat-form-field{width:98%}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:20%;padding-left:.5rem;padding-right:.5rem}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:10%;padding-left:.5rem;padding-right:.5rem;text-align:center}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:130px;text-align:center;padding-right:0}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top;text-align:center}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}  .news-table-status{margin-top:33px!important}"]}),o})();var At=r(9749),Lt=r(52688),T=r(73546),V=r(37204);const Ut=["editor"];function zt(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div",18),t.\u0275\u0275element(1,"mat-spinner",19),t.\u0275\u0275elementEnd())}function Vt(o,a){1&o&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ERP_076.Modify News")," "))}function Yt(o,a){1&o&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"translate")),2&o&&t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(1,1,"ERP_076.News")," ")}function Kt(o,a){if(1&o&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Vt,3,3,"ng-container",4),t.\u0275\u0275template(2,Yt,2,3,"ng-template",null,20,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),2&o){const e=t.\u0275\u0275reference(3),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.isPublished)("ngIfElse",e)}}function jt(o,a){1&o&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"translate")),2&o&&t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(1,1,"ERP_076.Create News")," ")}function Ht(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",21),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.saveNewsButton())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",22),t.\u0275\u0275text(3,"save"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"ERP_076.Save")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,5,"ERP_076.Save")," ")}}function Wt(o,a){1&o&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ERP_076.Max Length")," "))}function $t(o,a){1&o&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Qt(o,a){1&o&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}const Xt=function(o){return{"error-border":o}},Gt=function(o){return{"tw-text-red":o}};let Jt=(()=>{class o{constructor(e,n,i,s,d){this._translate=e,this.fb=n,this._newsService=i,this._utilityService=s,this.authService=d,this.Editor=At,this.config={placeholder:"Description de l'actualit\xe9...",toolbar:["heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","|","numberedList","bulletedList","todoList","|","indent","outdent","|","link","blockQuote","imageUpload","insertTable","horizontalLine","pageBreak","|","undo","redo"],link:{addTargetToExternalLinks:!0},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"]},image:{toolbar:[{name:"imageStyle:pictures",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"],defaultItem:"imageStyle:block"},{name:"imageStyle:icons",items:["imageStyle:alignLeft","imageStyle:alignRight"],defaultItem:"imageStyle:alignLeft"}]}},this.onSaveNews=new t.EventEmitter,this.subs=new u.Y,this.isPublished=!1,this.isWaitingForResponse=!1}ngOnInit(){this.currentUser=this.authService.getLocalStorageUser(),this.initForm(),this.subs.sink=this.newsForm.valueChanges.subscribe(e=>{this._newsService.updateUserNewsConfig(e),this.comparison()}),this.subs.sink=this._newsService.resetForm$.subscribe(e=>{this.enableForm(),e?this.saveNews():(this.newsForm.reset(),this.newsForm.markAsUntouched(),this.isPublished=!1)}),this._newsService.newsId$.subscribe(e=>{""!==e?this.getOneNews(e):(this.firstData={_id:null,title:null,description:null},this.enableForm(),this.newsForm.reset(),this.newsForm.markAsUntouched(),this.isPublished=!1)})}initForm(){this.newsForm=this.fb.group({_id:[null],title:["",[g.Validators.required,g.Validators.maxLength(300)]],description:["",g.Validators.required]})}disableForm(){this.newsForm.get("_id").disable(),this.newsForm.get("title").disable()}enableForm(){this.newsForm.get("_id").enable(),this.newsForm.get("title").enable()}getOneNews(e){this.isWaitingForResponse=!0,this.subs.sink=this._newsService.getOneNews(e).subscribe(n=>{this.isWaitingForResponse=!1;const i={_id:n?._id,title:n?.title,description:n?.description};this.createdBy=n?.created_by,this.isPublished=n?.is_published,this.isPublished?(this.editor?.editorInstance&&(this.editor.editorInstance.isReadOnly=!0),this.disableForm()):(this.editor?.editorInstance&&(this.editor.editorInstance.isReadOnly=!1),this.enableForm()),this.firstData=l.cloneDeep(i),this.newsForm.patchValue(i)})}saveNewsButton(){this.saveNews()}saveNews(e){this.isWaitingForResponse=!0;const n=this._utilityService.getCurrentUser();if(this.newsForm.valid)if(this.newsForm.get("_id").value){const{_id:i,...s}=this.newsForm.value;s.created_by=this.createdBy._id;const d=this.newsForm.get("_id").value;this.subs.sink=this._newsService.updateNews(d,s).subscribe(h=>{m().fire({type:"success",title:this._translate.instant("Bravo"),confirmButtonText:this._translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1,footer:'<span class="tw-w-full tw-text-end">Bravo_S1</span>'}).then(()=>{const k={_id:h?._id,title:h?.title,description:h?.description};if(this.newsForm.patchValue(k),this._newsService.updateUserNewsDataConfig(k),this._newsService.setComparisonForm(!0),this.isWaitingForResponse=!1,e){const C=this.newsForm.get("_id").value;C&&(this.publishNewsCallAPI(C),this.disableForm())}})})}else{const{_id:i,...s}=this.newsForm.value;s.created_by=n._id,this.subs.sink=this._newsService.createNews(s).subscribe(d=>{m().fire({type:"success",title:this._translate.instant("Bravo"),confirmButtonText:this._translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1,footer:'<span class="tw-w-full tw-text-end">Bravo_S1</span>'}).then(()=>{this.newsForm.patchValue({_id:d?._id,title:d?.title,description:d?.description,created_by:{_id:this.currentUser._id}}),this._newsService.updateUserNewsDataConfig(d),this._newsService.updateNewsId(d?._id),this._newsService.setComparisonForm(!0),this.isWaitingForResponse=!1,e&&d&&d?._id&&(this.publishNewsCallAPI(d?._id),this.disableForm())})})}else this.newsForm.get("title").hasError("maxlength")?m().fire({type:"warning",title:this._translate.instant("News_S6.TITLE"),html:this._translate.instant("News_S6.TEXT"),confirmButtonText:this._translate.instant("News_S6.BUTTON 1"),footer:'<span class="tw-w-full tw-text-end">News_S6</span>',allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"warning",title:this._translate.instant("FormSave_S1.TITLE"),html:this._translate.instant("FormSave_S1.TEXT"),confirmButtonText:this._translate.instant("FormSave_S1.BUTTON"),footer:'<span class="tw-w-full tw-text-end">FormSave_S1</span>',allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}),this.isWaitingForResponse=!1,this.newsForm.markAllAsTouched()}onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}publishNews(e){this.newsForm.get("title").hasError("maxlength")?(m().fire({type:"warning",title:this._translate.instant("News_S6.TITLE"),html:this._translate.instant("News_S6.TEXT"),confirmButtonText:this._translate.instant("News_S6.BUTTON 1"),footer:'<span class="tw-w-full tw-text-end">News_S6</span>',allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}),e&&e?.source&&(e.source.checked=!1)):this.newsForm.invalid?(m().fire({type:"warning",title:this._translate.instant("FormSave_S1.TITLE"),html:this._translate.instant("FormSave_S1.TEXT"),confirmButtonText:this._translate.instant("FormSave_S1.BUTTON"),footer:'<span class="tw-w-full tw-text-end">FormSave_S1</span>',allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}),this.newsForm.markAllAsTouched(),e&&e?.source&&(e.source.checked=!1)):this.isPublished?m().fire({type:"warning",title:this._translate.instant("News_S3.TITLE"),html:this._translate.instant("News_S3.TEXT"),confirmButtonText:this._translate.instant("News_S3.BUTTON 1"),cancelButtonText:this._translate.instant("News_S3.BUTTON 2"),showCancelButton:!0,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,footer:'<span class="tw-w-full tw-text-end">News_S3</span>'}).then(n=>{if(n.value){const i=this.newsForm.get("_id").value;i&&(this._newsService.updateUserNewsDataConfig(n),this.unPublishNewsCallAPI(i))}else e&&e?.source&&(e.source.checked=this.isPublished)}):m().fire({type:"warning",title:this._translate.instant("News_S1.TITLE"),html:this._translate.instant("News_S1.TEXT"),confirmButtonText:this._translate.instant("News_S1.BUTTON 1"),cancelButtonText:this._translate.instant("News_S1.BUTTON 2"),showCancelButton:!0,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,footer:'<span class="tw-w-full tw-text-end">News_S1</span>'}).then(n=>{n.value?this.saveNews(!0):e&&e?.source&&(e.source.checked=this.isPublished)})}publishNewsCallAPI(e){this.subs.sink=this._newsService.publishNews(e).subscribe(n=>{this._newsService.updateUserNewsDataConfig([]),this._newsService.setComparisonForm(!0),n&&n?._id&&this._newsService.updateNewsId(n?._id)})}unPublishNewsCallAPI(e){this.subs.sink=this._newsService.unPublishNews(e).subscribe(n=>{this._newsService.updateUserNewsDataConfig([]),this._newsService.setComparisonForm(!0),m().fire({type:"success",title:this._translate.instant("Bravo"),confirmButtonText:this._translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1,footer:'<span class="tw-w-full tw-text-end">Bravo_S1</span>'}).then(()=>{n&&n?._id&&this._newsService.updateNewsId(n?._id)})})}comparison(){if(JSON.stringify(this.firstData)===JSON.stringify(this.newsForm.getRawValue()))return this._newsService.setComparisonForm(!0),!0;this._newsService.setComparisonForm(!1)}ngOnDestroy(){this.subs.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(f.sK),t.\u0275\u0275directiveInject(g.FormBuilder),t.\u0275\u0275directiveInject(P.Y),t.\u0275\u0275directiveInject(A.t),t.\u0275\u0275directiveInject(Lt.e))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ms-manage-news-form"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(Ut,5),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.editor=i.first)}},inputs:{selectedData:"selectedData"},outputs:{onSaveNews:"onSaveNews"},decls:31,vars:29,consts:[[1,"flex-container"],["class","spinner-container",4,"ngIf"],[1,"content-container"],[1,"tw-w-full","tw-flex","tw-items-center","tw-justify-between","tw-pr-5","tw-pt-5"],[4,"ngIf","ngIfElse"],["createNewsTitle",""],[1,"tw-flex","tw-items-center","tw-gap-x-5"],[1,"tw-flex","tw-items-center","tw-gap-3"],[3,"disabled","checked","change"],["mat-raised-button","","color","accent",3,"disabled","matTooltip","click",4,"ngIf"],[1,"tw-px-5","tw-pb-5"],[3,"formGroup"],["matInput","","formControlName","title"],[4,"ngIf"],[1,"ckeditor",3,"ngClass"],[3,"ngClass"],["formControlName","description",3,"editor","config","ready"],["editor",""],[1,"spinner-container"],["color","accent"],["notPublished",""],["mat-raised-button","","color","accent",3,"disabled","matTooltip","click"],[1,"mat-icon-default"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"mat-card",0),t.\u0275\u0275template(1,zt,2,0,"div",1),t.\u0275\u0275elementContainerStart(2,2),t.\u0275\u0275elementStart(3,"mat-card-header",3)(4,"mat-card-title"),t.\u0275\u0275template(5,Kt,4,2,"ng-container",4),t.\u0275\u0275template(6,jt,2,3,"ng-template",null,5,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",6)(9,"div",7)(10,"mat-slide-toggle",8),t.\u0275\u0275listener("change",function(s){return n.publishNews(s)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"span"),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(14,Ht,6,7,"button",9),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"mat-card-content",10)(16,"form",11)(17,"mat-form-field")(18,"mat-label"),t.\u0275\u0275text(19),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(21,"input",12),t.\u0275\u0275template(22,Wt,3,3,"mat-error",13),t.\u0275\u0275template(23,$t,3,3,"mat-error",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(24,"div",14)(25,"mat-label",15),t.\u0275\u0275text(26),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(28,"ckeditor",16,17),t.\u0275\u0275listener("ready",function(s){return n.onReady(s)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(30,Qt,3,3,"mat-error",13),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),2&e){const i=t.\u0275\u0275reference(7);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null!==(null==n.newsForm?null:n.newsForm.get("_id").value))("ngIfElse",i),t.\u0275\u0275advance(5),t.\u0275\u0275property("disabled",n.isWaitingForResponse)("checked",n.isPublished),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("publish",n.isPublished),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(13,19,n.isPublished?"FORM_BUILDER.Published":"FORM_BUILDER.Not Published")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.isPublished),t.\u0275\u0275advance(2),t.\u0275\u0275property("formGroup",n.newsForm),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(20,21,"ERP_076.News Title")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==n.newsForm?null:n.newsForm.get("title").hasError("maxlength")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.newsForm?null:n.newsForm.get("title").hasError("required")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(25,Xt,(null==n.newsForm?null:n.newsForm.get("description").hasError("required"))&&(null==n.newsForm?null:n.newsForm.get("description").touched))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(27,Gt,(null==n.newsForm?null:n.newsForm.get("description").hasError("required"))&&(null==n.newsForm?null:n.newsForm.get("description").touched))),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(27,23,"ERP_076.Description"),"* "),t.\u0275\u0275advance(2),t.\u0275\u0275property("editor",n.Editor)("config",n.config),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==n.newsForm?null:n.newsForm.get("description").hasError("required"))&&(null==n.newsForm?null:n.newsForm.get("description").touched))}},dependencies:[c.mk,c.O5,F.lW,T.a8,T.dk,T.dn,T.n5,D.Hw,N.TO,N.KE,N.hX,U.Nt,S.Ou,z.Rr,E.gM,g.\u0275NgNoValidate,g.DefaultValueAccessor,g.NgControlStatus,g.NgControlStatusGroup,g.FormGroupDirective,g.FormControlName,y.oO,V.u,f.X$],styles:["[_nghost-%COMP%]  .ckeditor .ck-content{min-height:10rem!important;background:rgba(114,114,114,0)!important;color:#fff!important;max-height:30rem}[_nghost-%COMP%]  .ckeditor .ck-content ol, [_nghost-%COMP%]  .ckeditor .ck-content ul, [_nghost-%COMP%]  .ckeditor .ck-content menu{list-style:none;margin:0;padding:0 2rem}[_nghost-%COMP%]  .ckeditor .ck-editor__editable_inline{border:1px solid #b8b8b8}[_nghost-%COMP%]  .ckeditor.error-border .ck-editor__editable_inline{border:1px solid red}.publish[_ngcontent-%COMP%]{color:#f9e25e}.spinner-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:3}.content-container[_ngcontent-%COMP%]{z-index:2}"]}),o})();function Zt(o,a){1&o&&t.\u0275\u0275element(0,"ms-manage-news-form")}const ee=[{path:"all-news",component:it},{path:"manage-news",component:(()=>{class o{constructor(e,n,i){this.pageTitleService=e,this.translate=n,this._newsService=i,this.isNewNews=!1,this.isAbleToLeave=!0,this.subs=new u.Y}ngOnInit(){this.pageTitleService.setTitle("Manage News"),this.subs.sink=this._newsService.comparisonForm$.subscribe(e=>{this.isAbleToLeave=e})}onResetForm(e){this.resetForm=e}onAddNews(e){this.isNewNews=e}canDeactivate(){let e;return e=!1,this.isAbleToLeave||(e=!0),!e||new Promise((n,i)=>{m().fire({type:"warning",title:this.translate.instant("TMTC_S01.TITLE"),text:this.translate.instant("TMTC_S01.TEXT"),confirmButtonText:this.translate.instant("TMTC_S01.BUTTON_1"),showCancelButton:!0,cancelButtonText:this.translate.instant("TMTC_S01.BUTTON_2"),allowEscapeKey:!1,allowOutsideClick:!1}).then(s=>{s.value?n(!1):(this._newsService.setComparisonForm(!0),n(!0))})})}ngOnDestroy(){this.pageTitleService.setTitle(null)}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(B.Z),t.\u0275\u0275directiveInject(f.sK),t.\u0275\u0275directiveInject(P.Y))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ms-manage-news"]],decls:6,vars:1,consts:[[1,"p-grid"],[1,"p-col-5"],[3,"addNewNews","resetForm"],["manageNewsTable",""],[1,"p-col-7"],[4,"ngIf"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"ms-manage-news-table",2,3),t.\u0275\u0275listener("addNewNews",function(s){return n.onAddNews(s)})("resetForm",function(s){return n.onResetForm(s)}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"div",4),t.\u0275\u0275template(5,Zt,1,0,"ms-manage-news-form",5),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",n.isNewNews))},dependencies:[c.O5,Rt,Jt]}),o})(),canDeactivate:[r(36224).g]},{path:"**",redirectTo:"",pathMatch:"full"}];let ne=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=t.\u0275\u0275defineInjector({imports:[v.Bz.forChild(ee),v.Bz]}),o})();var oe=r(93730);let ie=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=t.\u0275\u0275defineInjector({imports:[c.ez,ne,oe.m,V.d]}),o})()},62416:(K,x,r)=>{r.d(x,{t:()=>M});var c=r(15439),O=r(94650);let M=(()=>{class u{transform(l,p){return l?c(l,"HH:mm").subtract(-c().utcOffset(),"m").format("HH:mm"):""}transformAMPM(l,p){return l?c(l,"HH:mm").subtract(-c().utcOffset(),"m").format("HH:mm"):""}transformDate(l,p){if(l&&p)return c(l+p,"DD/MM/YYYYHH:mm").subtract(-c().utcOffset(),"m").format("DD/MM/YYYY")}transformDateInDateFormat(l,p){if(l&&p)return c(l+p,"DD/MM/YYYYHH:mm").subtract(-c().utcOffset(),"m")}fixDateFormat(l){if(l&&l.includes("-")){const p=l.split("-");l=`${p[2]}/${p[1]}/${p[0]}`}return l}fixDateFormatUtc(l){if(l&&l.includes("-")){const p=l.split("-");l=`${p[2].split("T")[0]}/${p[1]}/${p[0]}`}return l}fixTimeFormat(l){return l&&!l.includes(":")&&(l="00:00"),l}transformDateToJavascriptDate(l,p){if(l=this.fixDateFormat(l),p=this.fixTimeFormat(p),l&&p)return c(l+p,"DD/MM/YYYYHH:mm").subtract(-c().utcOffset(),"m").toDate()}transformDateToStringFormat(l,p){if(l&&p)return c(l+p,"DD/MM/YYYYHH:mm").subtract(-c().utcOffset(),"m").format("MMM DD, YYYY")}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275pipe=O.\u0275\u0275definePipe({name:"parseUtcToLocal",type:u,pure:!0}),u})()}}]);