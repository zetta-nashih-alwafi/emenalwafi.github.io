"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[5786,4318],{34318:($,B,p)=>{function D(_){return _&&_.value&&"string"==typeof _.value&&!_.value.replace(/\s/g,"").length&&_.setValue(""),null}function h(_){const s=_&&_.value&&"string"==typeof _.value&&!_.value.replace(/\s/g,"").length;return s&&_.setValue(""),s?{whitespace:!0}:null}p.d(B,{I8:()=>D,Zx:()=>h})},83515:($,B,p)=>{p.d(B,{w:()=>R});var C=p(15439),D=p(94650);let R=(()=>{class b{transform(h,_){return h?C(h,"HH:mm").add(-C().utcOffset(),"m").format("HH:mm"):""}transformDate(h,_){return h?C(h+_,"DD/MM/YYYYHH:mm").add(-C().utcOffset(),"m").format("DD/MM/YYYY"):""}transformDateTime(h,_){return h?C(h+_,"DD/MM/YYYYHH:mm").add(-C().utcOffset(),"m").format("DD/MM/YYYYHH:mm"):""}transformJavascriptDate(h){if(h){const _=C(h).format("DD/MM/YYYY"),s=C(h).format("HH:mm"),E=C(_+s,"DD/MM/YYYYHH:mm").add(-C().utcOffset(),"m");return{date:E.format("DD/MM/YYYY"),time:E.format("HH:mm")}}return""}}return b.\u0275fac=function(h){return new(h||b)},b.\u0275pipe=D.\u0275\u0275definePipe({name:"parseLocalToUtc",type:b,pure:!0}),b})()},62416:($,B,p)=>{p.d(B,{t:()=>R});var C=p(15439),D=p(94650);let R=(()=>{class b{transform(h,_){return h?C(h,"HH:mm").subtract(-C().utcOffset(),"m").format("HH:mm"):""}transformAMPM(h,_){return h?C(h,"HH:mm").subtract(-C().utcOffset(),"m").format("HH:mm"):""}transformDate(h,_){if(h&&_)return C(h+_,"DD/MM/YYYYHH:mm").subtract(-C().utcOffset(),"m").format("DD/MM/YYYY")}transformDateInDateFormat(h,_){if(h&&_)return C(h+_,"DD/MM/YYYYHH:mm").subtract(-C().utcOffset(),"m")}fixDateFormat(h){if(h&&h.includes("-")){const _=h.split("-");h=`${_[2]}/${_[1]}/${_[0]}`}return h}fixDateFormatUtc(h){if(h&&h.includes("-")){const _=h.split("-");h=`${_[2].split("T")[0]}/${_[1]}/${_[0]}`}return h}fixTimeFormat(h){return h&&!h.includes(":")&&(h="00:00"),h}transformDateToJavascriptDate(h,_){if(h=this.fixDateFormat(h),_=this.fixTimeFormat(_),h&&_)return C(h+_,"DD/MM/YYYYHH:mm").subtract(-C().utcOffset(),"m").toDate()}transformDateToStringFormat(h,_){if(h&&_)return C(h+_,"DD/MM/YYYYHH:mm").subtract(-C().utcOffset(),"m").format("MMM DD, YYYY")}}return b.\u0275fac=function(h){return new(h||b)},b.\u0275pipe=D.\u0275\u0275definePipe({name:"parseUtcToLocal",type:b,pure:!0}),b})()},12334:($,B,p)=>{p.d(B,{T:()=>s});var C=p(24850),I=p(591),D=p(13125),R=p(68745),b=p(94650),y=p(18497),h=p(84075),_=p(89383);let s=(()=>{class E{constructor(F,V,L){this.apollo=F,this.utilService=V,this.translate=L,this.subs=new R.Y,this.isAllCountryAlreadyPopulated=new I.X(!1),this.isAllCountryAlreadyPopulated$=this.isAllCountryAlreadyPopulated.asObservable()}getAllCountriesNationality(){let F=[];return this.isAllCountryAlreadyPopulated.next(!1),this.subs.sink=this.getAllCountries().subscribe(V=>{V?.length&&(V?.map(L=>{F.push({name:L?.country_id?.country,flagIcon:L?.nationality_id?.nationality_en,dialCode:L?.country_id?.phone_number_indicative})}),F.sort((L,Y)=>this.utilService.simplifyRegex(this.translate.instant(L?.name))<this.utilService.simplifyRegex(this.translate.instant(Y?.name))?-1:this.utilService.simplifyRegex(this.translate.instant(L?.name))>this.utilService.simplifyRegex(this.translate.instant(Y?.name))?1:0),this.isAllCountryAlreadyPopulated.next(!0))}),F}getAllCountries(){return this.apollo.query({query:D.ZP`
          query GetAllVisaPermits {
            GetAllVisaPermits {
              country_id {
                country
                phone_number_indicative
              }
              nationality_id {
                nationality_en
              }
            }
          }
        `,fetchPolicy:"network-only"}).pipe((0,C.U)(F=>F.data.GetAllVisaPermits))}ngOnDestroy(){this.subs.unsubscribe()}}return E.\u0275fac=function(F){return new(F||E)(b.\u0275\u0275inject(y._M),b.\u0275\u0275inject(h.t),b.\u0275\u0275inject(_.sK))},E.\u0275prov=b.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},26698:($,B,p)=>{p.d(B,{V:()=>X});var C=p(35226),I=p.n(C),D=p(65938),R=p(68745),b=p(24006),y=p(92340),h=p(15439),s=p(94650),E=p(89383),w=p(84075),F=p(80484),V=p(36746),L=p(69725),Y=p(80529),nt=p(52688),at=p(36895),N=p(73555),S=p(4859),ct=p(97392),u=p(59549),t=p(51572),z=p(10266),it=p(88796);const W=["fileUploadDoc"];function q(P,k){1&P&&(s.\u0275\u0275elementStart(0,"ng-option",14),s.\u0275\u0275text(1),s.\u0275\u0275pipe(2,"translate"),s.\u0275\u0275elementEnd()),2&P&&(s.\u0275\u0275property("value","Invoice"),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",s.\u0275\u0275pipeBind1(2,2,"INVOICE")," "))}function pt(P,k){if(1&P&&(s.\u0275\u0275elementStart(0,"ng-option",14),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&P){const f=k.$implicit;s.\u0275\u0275property("value",null==f?null:f.document_builder_name),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",null==f?null:f.document_builder_name," ")}}function Q(P,k){1&P&&(s.\u0275\u0275elementStart(0,"mat-error"),s.\u0275\u0275text(1),s.\u0275\u0275pipe(2,"translate"),s.\u0275\u0275elementEnd()),2&P&&(s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ot(P,k){1&P&&(s.\u0275\u0275elementStart(0,"div",15),s.\u0275\u0275element(1,"mat-progress-spinner",16),s.\u0275\u0275elementEnd())}let X=(()=>{class P{constructor(f,O,M,x,A,U,et,K,j,dt){this.dialogRef=f,this.parentData=O,this.fb=M,this.translate=x,this.utilService=A,this.fileUploadService=U,this.acadKitService=et,this.studentsService=K,this.httpClient=j,this.authService=dt,this.isWaitingForResponse=!1,this.isInvoiceDisplay=!0,this.subs=new R.Y,this.fileTypesControl=new b.FormControl(""),this.fileTypes=[],this.selectedFileType="",this.selectedMaxSize=0,this.listDataDropdown=[]}ngOnInit(){console.log(this.parentData),this.initUploadDocForm(),this.getDataDropdown()}getDataDropdown(){this.listDataDropdown=[],this.isWaitingForResponse=!0,this.subs.sink=this.studentsService.getAllDocumentsPublished().subscribe(f=>{this.isWaitingForResponse=!1,this.listDataDropdown=f&&f.length?f:[]},f=>{this.authService.postErrorLog(f),this.isWaitingForResponse=!1,console.log("err",f),this.authService.postErrorLog(f),f&&f.message&&f.message.includes("Network error: Http failure response for")?I().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):I().fire({type:"info",title:this.translate.instant("SORRY"),text:f&&f.message?this.translate.instant(f.message.replaceAll("GraphQL error: ","")):f,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}initUploadDocForm(){this.uploadDocForm=this.fb.group({document_id:["",b.Validators.required],document_builder_name:["",b.Validators.required],s3_file_name:[""]})}getDataDocument(f){const O=this.listDataDropdown?.findIndex(x=>x?.document_builder_name===f),M=this.listDataDropdown[O]?._id;M&&(this.uploadDocForm.get("document_id").setValue(M),this.parentData&&!this.parentData.is_multiple&&(this.isWaitingForResponse=!0,this.subs.sink=this.studentsService.GenerateDocumentBuilderPDFForStudent(this.parentData._id,M).subscribe(x=>{this.isWaitingForResponse=!1,x?(this.uploadDocForm.get("s3_file_name").setValue(x),this.selectedFile=x):(this.uploadDocForm.get("s3_file_name").setValue(null),this.selectedFile=null)},x=>{this.authService.postErrorLog(x),this.isWaitingForResponse=!1,console.log("err",x),this.authService.postErrorLog(x),x&&x.message&&x.message.includes("Network error: Http failure response for")?I().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):I().fire({type:"info",title:this.translate.instant("SORRY"),text:x&&x.message?this.translate.instant(x.message.replaceAll("GraphQL error: ","")):x,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})))}closeDialog(){this.dialogRef.close()}checkFormValidity(){return!!this.uploadDocForm.invalid&&(I().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON"),onOpen:f=>{f.setAttribute("data-cy","swal-formsave-s1")}}),this.uploadDocForm.markAllAsTouched(),!0)}submit(){if(this.checkFormValidity())return;let f;if(console.log("Data Payload",this.uploadDocForm.value),this.uploadDocForm.get("document_builder_name").value===this.translate.instant("INVOICE"))f=this.uploadDocForm.value,f.document_builder_name="Invoice",f.invoice_name=this.documentInvoiceName;else{const O=this.uploadDocForm.get("s3_file_name").value;f={path:`${y.N.apiUrl}/fileuploads/${O}`.replace("/graphql",""),file_name:this.uploadDocForm.get("document_builder_name").value},this.parentData&&this.parentData.is_multiple&&(f=this.uploadDocForm.value)}this.dialogRef.close(f)}selectDocument(f){f&&"Invoice"===f?this.getInvoiceData():f&&"Invoice"!==f&&this.getDataDocument(f)}getInvoiceData(){this.isWaitingForResponse=!0;const f=h(new Date,"DD/MM/YYYY").format("DDMMYYYY"),O=h(new Date).format("HH:mm");if(this.parentData.candidate_data&&this.parentData.candidate_data.length){const M=y.N.apiUrl.replace("/graphql","");this.httpClient.get(`${M}/downloadStudentInvoice/${this.parentData?.candidate_data[0]?.candidate?.candidate_id?._id||this.parentData?.candidate_data[0]?.candidate?._id||this.parentData?.candidate_data[0]?._id||null}/${this.translate.currentLang}/${this.parentData?.candidate_data[0]?.intake_channel?.scholar_season_id?._id||this.parentData?.candidate_data[0]?.candidate?.intake_channel?.scholar_season_id?._id||null}/${this.parentData?.candidate_data[0]?.intake_channel?._id||this.parentData?.candidate_data[0]?.candidate?.intake_channel?._id||null}?date=${f}&time=${O}`,{responseType:"text"}).subscribe(K=>{if(console.log("invoice",K),K){this.isWaitingForResponse=!1;const j=this.translate.instant("INVOICE");this.uploadDocForm.get("document_id").setValue(j),this.uploadDocForm.get("document_builder_name").setValue(this.translate.instant("INVOICE")),this.documentInvoiceName=K}else{const j=this.translate.instant("INVOICE");this.uploadDocForm.get("document_id").setValue(j),this.uploadDocForm.get("document_builder_name").setValue(this.translate.instant("INVOICE")),this.documentInvoiceName=j,this.isWaitingForResponse=!1}},K=>{const j=this.translate.instant("INVOICE");this.uploadDocForm.get("document_id").setValue(j),this.uploadDocForm.get("document_builder_name").setValue(this.translate.instant("INVOICE")),this.documentInvoiceName=j,this.isWaitingForResponse=!1})}else if(this.parentData&&this.parentData._id){const x=`${y.N.apiUrl.replace("/graphql","")}/downloadStudentInvoice/${this.parentData._id}/${this.translate.currentLang}`;this.httpClient.get(x,{responseType:"text"}).subscribe(A=>{if(A)this.isWaitingForResponse=!1,this.uploadDocForm.get("document_id").setValue(A),this.uploadDocForm.get("document_builder_name").setValue(this.translate.instant("INVOICE")),this.documentInvoiceName=A;else{const U=this.translate.instant("INVOICE");this.uploadDocForm.get("document_id").setValue(U),this.uploadDocForm.get("document_builder_name").setValue(this.translate.instant("INVOICE")),this.documentInvoiceName=U,this.isWaitingForResponse=!1}},A=>{const U=this.translate.instant("INVOICE");this.uploadDocForm.get("document_id").setValue(U),this.uploadDocForm.get("document_builder_name").setValue(this.translate.instant("INVOICE")),this.documentInvoiceName=U,this.isWaitingForResponse=!1})}else this.isWaitingForResponse=!1}ngOnDestroy(){this.subs.unsubscribe()}}return P.\u0275fac=function(f){return new(f||P)(s.\u0275\u0275directiveInject(D.so),s.\u0275\u0275directiveInject(D.WI),s.\u0275\u0275directiveInject(b.FormBuilder),s.\u0275\u0275directiveInject(E.sK),s.\u0275\u0275directiveInject(w.t),s.\u0275\u0275directiveInject(F.J),s.\u0275\u0275directiveInject(V.P),s.\u0275\u0275directiveInject(L.P),s.\u0275\u0275directiveInject(Y.eN),s.\u0275\u0275directiveInject(nt.e))},P.\u0275cmp=s.\u0275\u0275defineComponent({type:P,selectors:[["ms-add-document-builder-dialog"]],viewQuery:function(f,O){if(1&f&&s.\u0275\u0275viewQuery(W,5),2&f){let M;s.\u0275\u0275queryRefresh(M=s.\u0275\u0275loadQuery())&&(O.fileUploaderDoc=M.first)}},decls:27,vars:28,consts:[["mat-dialog-title","","cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",2,"border-bottom","1px solid #000000"],["data-c","button-close-dialog",1,"icon-style",2,"vertical-align","middle","float","right",3,"matTooltip","click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",3,"formGroup"],[1,"p-grid"],[1,"p-col-5","pt-16"],[1,"p-col-7"],["formControlName","document_builder_name",1,"custom-ngselect-content",3,"clearable","appendTo","placeholder","notFoundText","change"],[3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end"],["mat-button","","mat-raised-button","","color","warn","data-cy","button-cancel",3,"click"],["mat-button","","mat-raised-button","","color","primary","data-cy","button-validate",1,"mr-0",3,"click"],["class","loading-indicator",4,"ngIf"],[3,"value"],[1,"loading-indicator"],["mode","indeterminate","color","accent","data-cy","dialog-spinner"]],template:function(f,O){1&f&&(s.\u0275\u0275elementStart(0,"h1",0),s.\u0275\u0275text(1),s.\u0275\u0275pipe(2,"translate"),s.\u0275\u0275elementStart(3,"mat-icon",1),s.\u0275\u0275listener("click",function(){return O.closeDialog()}),s.\u0275\u0275pipe(4,"translate"),s.\u0275\u0275text(5,"close"),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(6,"div",2)(7,"div",3)(8,"div",4)(9,"label"),s.\u0275\u0275text(10),s.\u0275\u0275pipe(11,"translate"),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(12,"div",5)(13,"ng-select",6),s.\u0275\u0275listener("change",function(x){return O.selectDocument(x)}),s.\u0275\u0275pipe(14,"translate"),s.\u0275\u0275pipe(15,"translate"),s.\u0275\u0275template(16,q,3,4,"ng-option",7),s.\u0275\u0275template(17,pt,2,2,"ng-option",8),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(18,Q,3,3,"mat-error",9),s.\u0275\u0275elementEnd()()(),s.\u0275\u0275elementStart(19,"div",10)(20,"button",11),s.\u0275\u0275listener("click",function(){return O.closeDialog()}),s.\u0275\u0275text(21),s.\u0275\u0275pipe(22,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(23,"button",12),s.\u0275\u0275listener("click",function(){return O.submit()}),s.\u0275\u0275text(24),s.\u0275\u0275pipe(25,"translate"),s.\u0275\u0275elementEnd()(),s.\u0275\u0275template(26,ot,2,0,"div",13)),2&f&&(s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",s.\u0275\u0275pipeBind1(2,14,"Add document")," "),s.\u0275\u0275advance(2),s.\u0275\u0275propertyInterpolate("matTooltip",s.\u0275\u0275pipeBind1(4,16,"CLOSE")),s.\u0275\u0275advance(3),s.\u0275\u0275property("formGroup",O.uploadDocForm),s.\u0275\u0275advance(4),s.\u0275\u0275textInterpolate1("",s.\u0275\u0275pipeBind1(11,18,"Please select a document"),": *"),s.\u0275\u0275advance(3),s.\u0275\u0275propertyInterpolate("placeholder",s.\u0275\u0275pipeBind1(14,20,"Please select a document")),s.\u0275\u0275propertyInterpolate("notFoundText",s.\u0275\u0275pipeBind1(15,22,"NOT RECORD FOUND")),s.\u0275\u0275property("clearable",!0)("appendTo","body"),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngIf",(null==O.parentData?null:O.parentData.is_multiple)&&O.isInvoiceDisplay),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngForOf",O.listDataDropdown),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",O.uploadDocForm.get("document_builder_name").errors),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate1(" ",s.\u0275\u0275pipeBind1(22,24,"CANCEL")," "),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate1(" ",s.\u0275\u0275pipeBind1(25,26,"Validate")," "),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngIf",O.isWaitingForResponse))},dependencies:[at.sg,at.O5,N.Zt,N.Bh,S.lW,D.uh,D.xY,D.H8,ct.Hw,u.TO,t.Ou,z.gM,b.NgControlStatus,b.NgControlStatusGroup,b.FormGroupDirective,b.FormControlName,it.w9,it.jq,E.X$],styles:[".pt-16[_ngcontent-%COMP%]{padding-top:16px!important}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#000;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}"]}),P})()},3576:($,B,p)=>{p.r(B),p.d(B,{TeacherContractModule:()=>oo});var C=p(36895),I=p(610),D=p(49671),R=p(98739),b=p(96308),y=p(53626),h=p(95017),_=p(68745),s=p(24006),E=p(33296),w=p(80013),F=p(1059),V=p(22868),L=p(17865),Y=p(72986),nt=p(24850),at=p(92741),N=p(65938),S=p(17489),ct=p(35226),u=p.n(ct),t=p(94650),z=p(71122),it=p(73173),W=p(89383),q=p(84075),pt=p(36746),Q=p(52688),ot=p(73555),X=p(47957),P=p(3238),k=p(4859),f=p(97392),O=p(284),M=p(51572),x=p(24784),A=p(88796);function U(a,r){1&a&&(t.\u0275\u0275elementStart(0,"p",16),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function et(a,r){1&a&&(t.\u0275\u0275elementStart(0,"div",23),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"CONTRACT_MANAGEMENT.teacher"),"* "))}function K(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",24),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",e.invalid?"red":""),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"USER_TYPES."+n.getNameOfUserType(e,"validator")),"* ")}}function j(a,r){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",25),t.\u0275\u0275element(2,"input",26),t.\u0275\u0275pipe(3,"uppercase"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&a){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate3("value","",t.\u0275\u0275pipeBind1(3,5,null==e.data||null==e.data.process?null:e.data.process.last_name)," ",null==e.data||null==e.data.process?null:e.data.process.first_name," ",null!=e.data&&null!=e.data.process&&e.data.process.civility&&"neutral"===(null==e.data||null==e.data.process?null:e.data.process.civility)?"":t.\u0275\u0275pipeBind1(4,7,null==e.data||null==e.data.process?null:e.data.process.civility),""),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(5,9,"search")),t.\u0275\u0275property("disabled",!0)}}function dt(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"input",31),t.\u0275\u0275listener("keyup",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2),l=o.index,d=o.$implicit,c=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(c.filterValidatorUser(i.target.value,l,d.value.validator))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementEnd()}if(2&a){t.\u0275\u0275nextContext();const e=t.\u0275\u0275reference(4);t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(1,2,"search")),t.\u0275\u0275property("matAutocomplete",e)}}function St(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-option",32),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e?null:e.last_name)," ",null==e?null:e.first_name," ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e?null:e.civility)," ")}}function Ot(a,r){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",25),t.\u0275\u0275template(2,dt,2,4,"input",27),t.\u0275\u0275elementStart(3,"mat-autocomplete",28,29),t.\u0275\u0275template(5,St,4,8,"mat-option",30),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()),2&a){const e=t.\u0275\u0275nextContext(),n=e.$implicit,i=e.index,o=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.value.validator),t.\u0275\u0275advance(1),t.\u0275\u0275property("displayWith",o.displayFullName.bind(o))("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",o.validatorUserList[i])}}function Et(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",20),t.\u0275\u0275template(1,et,3,3,"div",21),t.\u0275\u0275template(2,K,3,4,"div",22),t.\u0275\u0275template(3,j,6,11,"ng-container",11),t.\u0275\u0275template(4,Ot,6,4,"ng-container",11),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit,n=r.index,i=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("formGroupName",n),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==i.dataSelected||null==i.dataSelected.steps[n]?null:i.dataSelected.steps[n].is_user_who_receive_the_form_as_validator),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.value?null:e.value.validator)&&!(null!=i.dataSelected&&null!=i.dataSelected.steps[n]&&i.dataSelected.steps[n].is_user_who_receive_the_form_as_validator)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==i.dataSelected||null==i.dataSelected.steps[n]?null:i.dataSelected.steps[n].is_user_who_receive_the_form_as_validator),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.value?null:e.value.validator)&&!(null!=i.dataSelected&&null!=i.dataSelected.steps[n]&&i.dataSelected.steps[n].is_user_who_receive_the_form_as_validator))}}function Ft(a,r){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",17)(2,"h4",18),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,Et,5,5,"div",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&a){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"SENDING_CONTRACT_DIALOG.assign user for step validatory")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.validatorArr?null:e.validatorArr.controls)}}function It(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",36),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext().index,d=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(d.selectedUser(l,o))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&a){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e?null:e.last_name)," ",null==e?null:e.first_name," ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e?null:e.civility)," ")}}const Mt=function(a){return{red:a}},Pt=function(a){return{"invalid-user-id":a}};function At(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",20)(1,"div",24),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",25)(5,"input",34),t.\u0275\u0275listener("keyup",function(i){const o=t.\u0275\u0275restoreView(e),l=o.index,d=o.$implicit,c=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(c.filterSignatoryUser(i.target.value,l,d.value.user_type_id))}),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"mat-autocomplete",28,29),t.\u0275\u0275template(9,It,4,8,"mat-option",35),t.\u0275\u0275elementEnd()()()}if(2&a){const e=r.$implicit,n=r.index,i=t.\u0275\u0275reference(8),o=t.\u0275\u0275nextContext(3);let l,d,c,m,g,T;t.\u0275\u0275property("formGroupName",n),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(14,Mt,(null==(l=o.getSignatoryArray())||null==(d=l.at(n))||null==(c=d.get("user_id"))?null:c.invalid)&&((null==(l=o.getSignatoryArray())||null==(d=l.at(n))||null==(c=d.get("user_id"))?null:c.touched)||(null==(l=o.getSignatoryArray())||null==(d=l.at(n))||null==(c=d.get("user_id"))?null:c.dirty)))),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,10,"USER_TYPES."+o.getNameOfUserType(e,"signatory")),"* "),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(6,12,"search")),t.\u0275\u0275property("readonly",o.listSignatoryAuto.includes(null==e||null==e.value?null:e.value.user_type_id))("matAutocomplete",i)("ngClass",t.\u0275\u0275pureFunction1(16,Pt,(null==(m=o.getSignatoryArray())||null==(g=m.at(n))||null==(T=g.get("user_id"))?null:T.invalid)&&((null==(m=o.getSignatoryArray())||null==(g=m.at(n))||null==(T=g.get("user_id"))?null:T.touched)||(null==(m=o.getSignatoryArray())||null==(g=m.at(n))||null==(T=g.get("user_id"))?null:T.dirty)))),t.\u0275\u0275advance(2),t.\u0275\u0275property("displayWith",o.displayFullName.bind(o))("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",o.signatoryUserList[n])}}function Dt(a,r){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",33)(2,"h4",18),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div"),t.\u0275\u0275template(6,At,10,18,"div",19),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()),2&a){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"SENDING_CONTRACT_DIALOG.assign user for signatory")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",null==e.signatoryArr?null:e.signatoryArr.controls)}}function wt(a,r){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ft,6,4,"ng-container",11),t.\u0275\u0275template(2,Dt,7,4,"ng-container",11),t.\u0275\u0275elementContainerEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.validatorArr||null==e.validatorArr.controls?null:e.validatorArr.controls.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.templateForm?null:e.templateForm.get("pre_contract_template_id").value)&&(null==e.signatoryArr||null==e.signatoryArr.controls?null:e.signatoryArr.controls.length))}}function Nt(a,r){1&a&&(t.\u0275\u0275elementStart(0,"div",37),t.\u0275\u0275element(1,"mat-progress-spinner",38),t.\u0275\u0275elementEnd())}let lt=(()=>{class a{constructor(e,n,i,o,l,d,c,m,g){this.data=e,this.fb=n,this.dialogRef=i,this.contractService=o,this.formBuilderService=l,this.translate=d,this.utilService=c,this.academicService=m,this.authService=g,this.subs=new _.Y,this.isAllEmpty=!0,this.templates=[],this.userTypeList=[],this.signatoryUserList=[],this.validatorUserList=[],this.isWaitingForResponse=!1,this.isValid=!0,this.dataValidator=[],this.listSignatoryAuto=["61dd3ccff647127fd6bf65d7"]}ngOnInit(){if(console.log("data yang di pass",this.data),this.initForm(),this.getPreContractDropdown(),this.getAllUserType(),this.getContractManager(),this.data&&"single"===this.data.type&&this.data.process)this.templateForm.get("_id").patchValue([this.data.process._id]);else if("multiple"===this.data.type&&this.data.selectAll){if(this.templateForm.get("is_select_all").patchValue(this.data.selectAll),this.data.selection&&this.data.selection.length){const e=this.data.selection.filter(n=>{if(n.steps&&n.steps.length)return n});this.isAllEmpty=!0,e&&e.length&&(this.isAllEmpty=!1)}}else if("multiple"===this.data.type&&!this.data.selectAll&&this.data.selection&&this.data.selection.length){const e=[];if(this.data.selection.forEach(n=>{e.push(n._id)}),this.data.selection&&this.data.selection.length){const n=this.data.selection.filter(i=>{if(i.steps&&i.steps.length)return i});this.isAllEmpty=!0,n&&n.length&&(this.isAllEmpty=!1)}this.templateForm.get("_id").patchValue(e)}console.log("this.data",this.data,this.isAllEmpty)}getContractManager(){this.data&&this.data.process&&this.data.process.contract_manager&&(this.subs.sink=this.contractService.getOneUser(this.data.process.contract_manager._id).subscribe(e=>{this.contractManager=e},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}initForm(){this.templateForm=this.fb.group({_id:[null],pre_contract_template_id:[null,[s.Validators.required]],is_select_all:[!1],step_validator_input:this.fb.array([]),contract_validator_signatory_status_input:this.fb.array([])})}initValidatorsForm(){return this.fb.group({user_validator:[null,[s.Validators.required]],validator:[null],pre_contract_template_step_id:[null]})}pushValidator(){this.getValidatorArray().push(this.initValidatorsForm())}getValidatorArray(){return this.templateForm.get("step_validator_input")}get validatorArr(){return this.templateForm.get("step_validator_input")}initSignatoryForm(){return this.fb.group({user_type_id:[null],user_id:[null,[s.Validators.required]],is_already_sign:[!1]})}pushSignatory(){this.getSignatoryArray().push(this.initSignatoryForm())}get signatoryArr(){return this.templateForm.get("contract_validator_signatory_status_input")}getSignatoryArray(){return this.templateForm.get("contract_validator_signatory_status_input")}getPreContractDropdown(){this.isWaitingForResponse=!0,this.subs.sink=this.formBuilderService.getAllFormBuildersTeacher({status:!0,template_type:"teacher_contract",hide_form:!1}).subscribe(n=>{this.isWaitingForResponse=!1,console.log(n),n&&n.length&&(this.templates=n.filter(i=>!0===i.is_published))},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,n&&n.message&&n.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getAllUserType(){this.isWaitingForResponse=!0,this.subs.sink=this.academicService.getAllUserTypes().subscribe(e=>{this.isWaitingForResponse=!1,e&&(this.userTypeList=e)},e=>{this.authService.postErrorLog(e),this.isWaitingForResponse=!1,e&&e.message&&e.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getFilterSignatoryUser(e,n,i){"61dd3ccff647127fd6bf65d7"===e?this.selectedUser(n,{_id:this.data?.process?.user_id?._id,civility:this.data?.process?.civility,first_name:this.data?.process?.first_name,last_name:this.data?.process?.last_name}):(this.isWaitingForResponse=!0,this.subs.sink=this.contractService.GetAllUsers(e,i).subscribe(o=>{if(this.isWaitingForResponse=!1,o&&o.length){const l=o?.map(c=>(c.last_name=c?.last_name?.toLowerCase()?.trim(),c)),d=S.sortBy(l,"last_name");this.signatoryUserList[n]=d}},o=>{this.authService.postErrorLog(o),this.isWaitingForResponse=!1,o&&o.message&&o.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}selectedUser(e,n){this.getSignatoryArray().at(e).get("user_id").patchValue(n)}getFilterValidatorUser(e,n,i){this.isWaitingForResponse=!0,this.subs.sink=this.contractService.GetAllUsers(e,i).subscribe(o=>{if(this.isWaitingForResponse=!1,o&&o.length){const l=o?.map(c=>(c.last_name=c?.last_name?.toLowerCase()?.trim(),c)),d=S.sortBy(l,"last_name");this.validatorUserList[n]=d}},o=>{this.authService.postErrorLog(o),this.isWaitingForResponse=!1,o&&o.message&&o.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}filterValidatorUser(e,n,i){if(console.log(e.length>2,0===e.length),e.length>2||0===e.length){const o=this.utilService.simpleDiacriticSensitiveRegex(e.toLowerCase());this.getFilterValidatorUser(i,n,o)}}filterSignatoryUser(e,n,i){if(console.log(e.length>2,0===e.length),e.length>2||0===e.length){const o=this.utilService.simpleDiacriticSensitiveRegex(e.toLowerCase());this.getFilterSignatoryUser(i,n,o)}}getNameOfUserType(e,n){let i;const o=e.value;return this.userTypeList&&this.userTypeList.length&&(o&&"validator"===n?i=this.userTypeList.find(l=>l._id===o.validator):o&&"signatory"===n&&(i=this.userTypeList.find(l=>l._id===o.user_type_id))),i?i.name:""}checkFormValidity(){return!!this.templateForm.invalid&&(this.isWaitingForResponse=!1,u().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.templateForm.markAllAsTouched(),!0)}triggerSwal(){return this.isWaitingForResponse=!1,u().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.templateForm.markAllAsTouched(),this.isValid=!1,null}onSubmit(){if(this.isWaitingForResponse=!0,this.checkFormValidity())return;const e=this.templateForm.value;let n=null;"multiple"===this.data.type&&this.data.selectAll&&(n=this.data.filter);const i=e.contract_validator_signatory_status_input.map(c=>({user_type_id:c.user_type_id,user_id:c&&c.user_id&&c.user_id._id?c.user_id._id:this.triggerSwal(),is_already_sign:!1})),o=e.step_validator_input.map(c=>({pre_contract_template_step_id:c.pre_contract_template_step_id,user_validator:c&&c.user_validator&&c.user_validator._id?c.user_validator._id:this.triggerSwal(),validator:c.validator}));if(console.log(e),this.checkFormValidity())return void(this.isWaitingForResponse=!1);if(!this.isValid)return this.isWaitingForResponse=!1,void(this.isValid=!0);let l,d;this.data.process?(d=this.data.process.civility&&"neutral"!==this.data.process.civility?this.translate.instant(this.data.process.civility):"",l=d+" "+this.data.process.first_name+" "+this.data.process.last_name):l=this.data.selection.map(c=>(c.civility&&"neutral"!==c.civility?this.translate.instant(c.civility):"")+" "+c.first_name+" "+c.last_name).join(),console.log("payload",e,l),u().fire({type:"warning",title:this.translate.instant("InterCont_S8.Title",{user:l}),html:this.translate.instant("InterCont_S8.Text",{user:l}),confirmButtonText:this.translate.instant("InterCont_S8.Button1"),cancelButtonText:this.translate.instant("InterCont_S8.Button2"),allowEnterKey:!1,allowOutsideClick:!1,showCancelButton:!0,allowEscapeKey:!1}).then(c=>{c.value?this.subs.sink=this.contractService.sendContractProcessWithAssign(e._id,e.pre_contract_template_id,e.is_select_all,n,o,i).subscribe(m=>{this.isWaitingForResponse=!1,console.log(m),this.isAllEmpty?u().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(this.templateForm.value)}):u().fire({title:this.translate.instant("SendForm_S1.TITLE"),html:this.translate.instant("SendForm_S1.TEXT"),confirmButtonText:this.translate.instant("SendForm_S1.BUTTON_1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(this.templateForm.value)})},m=>{this.authService.postErrorLog(m),this.isWaitingForResponse=!1,m&&m.message&&m.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:m&&m.message?this.translate.instant(m.message.replaceAll("GraphQL error: ","")):m,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.isWaitingForResponse=!1})}selectedTemplate(e){this.dataSelected=e,this.dataSelected.steps=e.steps.filter(g=>g.validator||g.is_user_who_receive_the_form_as_validator||"step_with_signing_process"===g.step_type),console.log("dataSelected",this.dataSelected,e);const n=this.templateForm.get("step_validator_input").value,i=this.templateForm.get("contract_validator_signatory_status_input").value;if(n&&n.length)for(let g=n.length-1;g>=0;g--)this.validatorArr.removeAt(g);if(i&&i.length)for(let g=i.length-1;g>=0;g--)this.signatoryArr.removeAt(g);const o=e&&e.steps&&e.steps.length?e.steps:[],l=o.filter(g=>g&&g.step_type&&"step_with_signing_process"===g.step_type);let d=[];l.forEach(g=>{if(g&&g.contract_signatory&&g.contract_signatory.length){const T=g.contract_signatory.map(v=>({user_id:null,user_type_id:v._id,is_already_sign:!1}));d=d.concat(T)}d=S.uniqBy(d,"user_type_id")}),d.forEach(g=>{this.pushSignatory()}),this.templateForm.get("contract_validator_signatory_status_input").patchValue(d);let c=0;this.templateForm.get("contract_validator_signatory_status_input").value.forEach(g=>{this.signatoryUserList[c]=this.getFilterSignatoryUser(g.user_type_id,c),"6209f2dc74890f0ecad16670"===g.user_type_id&&this.contractManager&&this.getSignatoryArray().controls[c].get("user_id").setValue(this.contractManager),c++});const m=o.filter(g=>g&&g.validator||g.is_user_who_receive_the_form_as_validator);if(m&&m.length){m.forEach(v=>{(v.validator||v.is_user_who_receive_the_form_as_validator)&&this.pushValidator()});let g=m.map(v=>({user_validator:v.is_user_who_receive_the_form_as_validator?this.data.process._id:null,validator:v&&v.validator?v.validator._id:null,pre_contract_template_step_id:v._id}));g=g.filter(v=>v.user_validator||v.validator),this.templateForm.get("step_validator_input").patchValue(g),console.log("step validator",g,e,this.validatorArr.value);let T=0;this.templateForm.get("step_validator_input").value.forEach(v=>{console.log(v),this.validatorUserList[T]=this.getFilterValidatorUser(v.validator,T),"6209f2dc74890f0ecad16670"===v.validator&&this.contractManager&&this.getValidatorArray().controls[T].get("user_validator").setValue(this.contractManager),T++})}}displayFullName(e){if(console.log(e),e){const n=e.civility&&"neutral"!==e.civility&&e.civility?this.translate?this.translate.instant(e.civility):e.civility:"";return e.last_name.toUpperCase()+" "+e.first_name+" "+n}return null}closeDialog(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.\u0275\u0275directiveInject(N.WI),t.\u0275\u0275directiveInject(s.UntypedFormBuilder),t.\u0275\u0275directiveInject(N.so),t.\u0275\u0275directiveInject(z.I),t.\u0275\u0275directiveInject(it.c),t.\u0275\u0275directiveInject(W.sK),t.\u0275\u0275directiveInject(q.t),t.\u0275\u0275directiveInject(pt.P),t.\u0275\u0275directiveInject(Q.e))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["ms-sending-pre-contract-form-dialog"]],decls:27,vars:25,consts:[[1,"header-div-wrapper"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header-div",2,"padding","10px 1rem !important"],["fontIcon","pending_actions",1,"dialog-header-icon",2,"margin-bottom","5px"],[1,"header-text"],["mat-icon-button","","type","button",1,"header-icon",3,"click"],[3,"formGroup"],[1,"p-grid"],[1,"p-col-12"],[1,"float-label","label-legal"],["bindLabel","form_builder_name","bindValue","_id","formControlName","pre_contract_template_id",1,"custom-style-ngselect",3,"items","appendTo","placeholder","clearable","change"],["style","color: #f44336; font-size: 75%; margin: 0",4,"ngIf"],[4,"ngIf"],["align","end"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"disabled","click"],["class","loading-indicator",4,"ngIf"],[2,"color","#f44336","font-size","75%","margin","0"],["formArrayName","step_validator_input",1,"assign-border"],[1,"section-title"],["class","p-grid",3,"formGroupName",4,"ngFor","ngForOf"],[1,"p-grid",3,"formGroupName"],["class","p-col-4 section-field-title",4,"ngIf"],["class","p-col-4 section-field-title",3,"ngClass",4,"ngIf"],[1,"p-col-4","section-field-title"],[1,"p-col-4","section-field-title",3,"ngClass"],[1,"p-col-8"],["matInput","","type","text",1,"custom-input",3,"value","disabled","placeholder"],["matInput","","type","text","class","custom-input","formControlName","user_validator",3,"placeholder","matAutocomplete","keyup",4,"ngIf"],[3,"displayWith","panelWidth"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","user_validator",1,"custom-input",3,"placeholder","matAutocomplete","keyup"],[3,"value"],["formArrayName","contract_validator_signatory_status_input",1,"assign-border"],["matInput","","type","text","formControlName","user_id",1,"custom-input",3,"placeholder","readonly","matAutocomplete","ngClass","keyup"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275element(2,"mat-icon",2),t.\u0275\u0275elementStart(3,"h2",3),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",4),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"close"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(9,"mat-dialog-content",5)(10,"div",6)(11,"div",7)(12,"label",8),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"ng-select",9),t.\u0275\u0275listener("change",function(o){return n.selectedTemplate(o)}),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(17,U,3,3,"p",10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(18,wt,3,2,"ng-container",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(19,"mat-dialog-actions",12)(20,"button",13),t.\u0275\u0275text(21),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(23,"button",14),t.\u0275\u0275listener("click",function(){return n.onSubmit()}),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(26,Nt,2,0,"div",15)),2&e&&(t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,15,"SENDING_CONTRACT_DIALOG.Sending Pre Contract Form")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("formGroup",n.templateForm),t.\u0275\u0275advance(3),t.\u0275\u0275styleProp("display",n.templateForm.get("pre_contract_template_id").value?"block":"none"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(14,17,"SENDING_CONTRACT_DIALOG.Select a Template Form"),"* "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(16,19,"SENDING_CONTRACT_DIALOG.Select a Template Form")),t.\u0275\u0275property("items",n.templates)("appendTo","body")("clearable",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.templateForm.get("pre_contract_template_id").hasError("required")&&n.templateForm.get("pre_contract_template_id").touched),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.templateForm?null:n.templateForm.get("pre_contract_template_id").value),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(22,21,"CANCEL")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(25,23,"SUBMIT")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[C.mk,C.sg,C.O5,ot.Zt,ot.Bh,X.XC,X.ZL,P.ey,k.lW,N.ZT,N.xY,N.H8,f.Hw,O.Nt,M.Ou,s.DefaultValueAccessor,s.NgControlStatus,s.NgControlStatusGroup,s.FormGroupDirective,s.FormControlName,s.FormGroupName,s.FormArrayName,x.oO,A.w9,C.gd,W.X$],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:2rem}.mat-dialog-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:center}.header-div[_ngcontent-%COMP%]   .dialog-header-icon[_ngcontent-%COMP%]{font-size:35px}.mat-dialog-content[_ngcontent-%COMP%]{margin:0!important;padding:1rem!important;min-height:170px!important}.mat-dialog-actions[_ngcontent-%COMP%]{padding:0 1rem!important}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:4px!important}[_nghost-%COMP%]  .ng-select .ng-select-container.ng-has-value{max-width:unset!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:4px!important}.assign-border[_ngcontent-%COMP%]{border:2px solid #fdd835;padding:5px;margin:5px}.section-field-title[_ngcontent-%COMP%]{align-self:center}.section-title[_ngcontent-%COMP%]{padding-left:10px}.custom-input[_ngcontent-%COMP%]{border-bottom:1px solid rgb(241,241,241)!important}.red[_ngcontent-%COMP%]{color:#f44336}.mat-icon[_ngcontent-%COMP%]{max-width:none;max-height:none}[_nghost-%COMP%]  .custom-style-ngselect.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{white-space:normal!important}.float-label[_ngcontent-%COMP%]{font-size:.82rem;color:#000;font-weight:600}.label-legal[_ngcontent-%COMP%]{margin-bottom:-10px}.invalid-user-id[_ngcontent-%COMP%]{border-bottom:1px solid red!important}"]}),a})();var ut=p(92340),_t=p(15439),Bt=p(54298),rt=p(62416),Rt=p(80484),Vt=p(73546),H=p(59549);const kt=["fileUploadDoc"];function Lt(a,r){1&a&&(t.\u0275\u0275elementStart(0,"h1",17),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Additional Document")," "))}function Ut(a,r){1&a&&(t.\u0275\u0275elementStart(0,"h1",18),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Additional Document")))}function jt(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",23)(1,"button",24),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.uploadSubmitFlyer())}),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"file_upload"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",13),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.removeFile())}),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"delete"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd()()}2&a&&(t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(5,2,"ACAD_KIT.DOC.Add this File")," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(10,4,"ACAD_KIT.DOC.Remove")," "))}function Wt(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",19)(1,"div",7)(2,"mat-card")(3,"div",20)(4,"mat-icon",21),t.\u0275\u0275text(5,"insert_drive_file"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,jt,11,6,"div",22),t.\u0275\u0275elementEnd()()()),2&a){const e=t.\u0275\u0275nextContext();let n;t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",null==e.uploadDocForm||null==(n=e.uploadDocForm.get("s3_file_name"))?null:n.value," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.selectedFile)}}function Kt(a,r){1&a&&(t.\u0275\u0275elementStart(0,"div",25),t.\u0275\u0275element(1,"mat-spinner",26),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}function Ht(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",27),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.submitFlyer())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",!(null!=e.uploadDocForm&&e.uploadDocForm.valid)||e.comparison()),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"ACAD_KIT.DOC.Submit")," ")}}function Gt(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",27),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.openUploadWindow())}),t.\u0275\u0275elementStart(1,"mat-icon"),t.\u0275\u0275text(2,"add"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",!(null!=e.uploadDocForm&&e.uploadDocForm.valid)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,2,"ACAD_KIT.DOC.File")," ")}}let Yt=(()=>{class a{constructor(e,n,i,o,l,d,c,m){this.dialogRef=e,this.parentData=n,this.fb=i,this.translate=o,this.utilService=l,this.fileUploadService=d,this.contractService=c,this.authService=m,this.isWaitingForResponse=!1,this.subs=new _.Y,this.fileTypesControl=new s.UntypedFormControl(""),this.fileTypes=[],this.selectedFileType="",this.selectedMaxSize=0}ngOnInit(){this.initUploadDocForm(),this.parentData&&this.parentData&&this.parentData.additional_documents&&this.parentData.additional_documents.length&&this.uploadDocForm.patchValue({name:this.parentData.additional_documents[0].name,s3_file_name:this.parentData.additional_documents[0].s3_file_name}),this.firstForm=S.cloneDeep(this.uploadDocForm.value)}initUploadDocForm(){this.uploadDocForm=this.fb.group({name:["",s.Validators.required],s3_file_name:[""]})}closeDialog(){this.dialogRef.close()}openUploadWindow(){this.fileUploaderDoc.nativeElement.click(),this.selectedMaxSize=0}addFile(e){const o=this.utilService.getFileExtension(e.target.files[0].name).toLocaleLowerCase();["pdf"].includes(o)?this.utilService.countFileSize(e.target.files[0],this.selectedMaxSize)?(this.selectedFile=e.target.files[0],this.uploadDocForm.get("s3_file_name").setValue(this.selectedFile.name)):u().fire({type:"warning",title:this.translate.instant("UPLOAD_RESTRICT_TO_FILESIZE_File.TITLE"),html:this.translate.instant("UPLOAD_RESTRICT_TO_FILESIZE_File.TEXT",{size:this.selectedMaxSize}),confirmButtonText:this.translate.instant("UPLOAD_RESTRICT_TO_FILESIZE_File.BUTTON"),allowOutsideClick:!1}):u().fire({type:"info",title:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TITLE"),text:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TEXT",{file_exts:".pdf"}),allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})}removeFile(){this.selectedFile=null,this.fileUploaderDoc.nativeElement.value=null,this.uploadDocForm.get("s3_file_name").setValue(""),this.parentData&&this.parentData&&this.parentData.additional_documents&&this.parentData.additional_documents.length&&this.uploadDocForm.get("s3_file_name").setValue(this.parentData.additional_documents[0].s3_file_name)}uploadSubmitFlyer(){this.isWaitingForResponse=!0,this.subs.sink=this.fileUploadService.singleUpload(this.selectedFile).subscribe(e=>{this.isWaitingForResponse=!1,e?(this.uploadDocForm.get("s3_file_name").setValue(e.s3_file_name),this.submitFlyer()):u().fire({type:"info",title:this.translate.instant("SORRY"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("ok")})},e=>{this.authService.postErrorLog(e),this.isWaitingForResponse=!1,e&&e.message&&e.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}submitFlyer(){this.isWaitingForResponse=!0,this.contractService.updateContractProcess(this.parentData._id,{additional_documents:[this.uploadDocForm.value]}).subscribe(n=>{this.isWaitingForResponse=!1,n&&this.dialogRef.close(this.uploadDocForm.value)},n=>{this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")&&u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})})}isUploadedNewFile(){return this.selectedFile||!this.uploadDocForm.get("s3_file_name").value}isUploadedFileExist(){let e=!1;return(this.selectedFile||this.uploadDocForm.get("s3_file_name").value)&&(e=!0),e}comparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.uploadDocForm.value)||!!this.isUploadedNewFile()}ngOnDestroy(){this.subs.unsubscribe()}}return a.\u0275fac=function(e){return new(e||a)(t.\u0275\u0275directiveInject(N.so),t.\u0275\u0275directiveInject(N.WI),t.\u0275\u0275directiveInject(s.UntypedFormBuilder),t.\u0275\u0275directiveInject(W.sK),t.\u0275\u0275directiveInject(q.t),t.\u0275\u0275directiveInject(Rt.J),t.\u0275\u0275directiveInject(z.I),t.\u0275\u0275directiveInject(Q.e))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(kt,5),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.fileUploaderDoc=i.first)}},decls:27,vars:13,consts:[[1,"p-grid","p-0","dialog-border",2,"margin-bottom","20px"],[1,"p-col"],["mat-dialog-title","","style","margin-bottom: 0 !important",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",3,"formGroup"],[1,"p-grid"],[1,"p-col-12"],[1,"full-width"],["matInput","","formControlName","name",2,"font-size","14px !important"],["class","p-gird",4,"ngIf"],["class","loading-indicator",4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-button","","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["type","file","accept",".pdf",1,"hidden",3,"change"],["fileUploadDoc",""],["mat-dialog-title","",2,"margin-bottom","0 !important"],["mat-dialog-title",""],[1,"p-gird"],[1,"uploaded-file-wrapper"],[1,"icon"],["class","uploaded-file-wrapper mt-1rem",4,"ngIf"],[1,"uploaded-file-wrapper","mt-1rem"],["mat-button","","mat-raised-button","","color","primary",3,"click"],[1,"loading-indicator"],["color","accent",3,"diameter"],["mat-button","","mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275elementContainerStart(2),t.\u0275\u0275template(3,Lt,3,3,"h1",2),t.\u0275\u0275template(4,Ut,3,3,"h1",3),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",1)(6,"button",4),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"close"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(9,"div",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(16,"input",9),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(17,Wt,8,2,"div",10),t.\u0275\u0275template(18,Kt,2,1,"div",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(19,"div",12)(20,"button",13),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275text(21),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(23,Ht,3,4,"button",14),t.\u0275\u0275template(24,Gt,5,4,"button",14),t.\u0275\u0275elementStart(25,"input",15,16),t.\u0275\u0275listener("change",function(o){return n.addFile(o)}),t.\u0275\u0275elementEnd()()),2&e){let i,o,l;t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!(null!=n.uploadDocForm&&null!=(i=n.uploadDocForm.get("s3_file_name"))&&i.value)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.uploadDocForm||null==(o=n.uploadDocForm.get("s3_file_name"))?null:o.value),t.\u0275\u0275advance(5),t.\u0275\u0275property("formGroup",n.uploadDocForm),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(15,9,"ACAD_KIT.DOC.Name of File")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==n.uploadDocForm||null==(l=n.uploadDocForm.get("s3_file_name"))?null:l.value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(22,11,"CANCEL")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.parentData),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.selectedFile)}},dependencies:[C.O5,k.lW,Vt.a8,N.uh,N.xY,N.H8,f.Hw,H.KE,H.hX,O.Nt,M.Ou,s.DefaultValueAccessor,s.NgControlStatus,s.NgControlStatusGroup,s.FormGroupDirective,s.FormControlName,W.X$],styles:[".dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black}"]}),a})();var $t=p(25046),zt=p(96334),qt=p(84130),Qt=p(44758),Xt=p(22437),ht=p(67154),Zt=p(56709),Z=p(99602),mt=p(28255),gt=p(10266),Jt=p(75223);const te=["matTable"];function ee(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"span",70),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(2,2,"Selected Data")," : ",e.isCheckedAll?e.dataCount-(null==e.dataUnselectUser?null:e.dataUnselectUser.length):null==e.dataSelected?null:e.dataSelected.length,"")}}function ne(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",71),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.templateForImport())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&a&&(t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(1,2,"CONTRACT_MANAGEMENT.Template for Import")," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"CONTRACT_MANAGEMENT.Template for Import")," "))}function ae(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",72),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.csvTypeSelectionUpload())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&a&&(t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(1,2,"CONTRACT_MANAGEMENT.Import Contract")," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"CONTRACT_MANAGEMENT.Import Contract")," "))}function ie(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",73),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onReset())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",74),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Reset")),t.\u0275\u0275property("disabled",e.isLoading),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"Reset")," ")}}function oe(a,r){1&a&&t.\u0275\u0275element(0,"th",75)}function le(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"th",76)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",77),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.teacherFilter)}}function re(a,r){if(1&a&&(t.\u0275\u0275element(0,"input",81),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&a){const e=r.item,n=r.item$;t.\u0275\u0275propertyInterpolate1("id","item-",r.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"ERP_009_TEACHER_CONTRACT.TYPE_OF_CONTRACT."+(null==e?null:e.value))," ")}}function se(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",83),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllData(i,"typeOfContract"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("typeOfContract"))("indeterminate",e.isSomeDropdownSelected("typeOfContract")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function ce(a,r){1&a&&t.\u0275\u0275template(0,se,3,5,"ng-template",82)}function pe(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",78)(1,"ng-select",79),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.selectedMultipleFilter("typeOfContract"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,re,3,5,"ng-template",80),t.\u0275\u0275template(5,ce,1,0,null,31),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.typeOfConracts)("appendTo","body")("multiple",!0)("formControl",e.contractTypeFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.typeOfConracts?null:e.typeOfConracts.length)}}function de(a,r){if(1&a&&(t.\u0275\u0275element(0,"input",81),t.\u0275\u0275text(1)),2&a){const e=r.item,n=r.item$;t.\u0275\u0275propertyInterpolate1("id","item-",r.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function me(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",83),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllData(i,"numberIntervention"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("numberIntervention"))("indeterminate",e.isSomeDropdownSelected("numberIntervention")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function ue(a,r){1&a&&t.\u0275\u0275template(0,me,3,5,"ng-template",82)}function _e(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",76)(1,"ng-select",84),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.selectedMultipleFilter("numberIntervention"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,de,2,3,"ng-template",80),t.\u0275\u0275template(5,ue,1,0,null,31),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.numberIntervention)("appendTo","body")("multiple",!0)("formControl",e.numberInterventionFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.numberIntervention?null:e.numberIntervention.length)}}function he(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"th",76)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",77),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.emailFilter)}}function ge(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"th",76)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",77),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.phoneFilter)}}function fe(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"ng-option",89),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275property("value",null==e?null:e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.program," ")}}function Ce(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"th",85)(1,"ng-select",86),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"ng-option",87),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,fe,2,2,"ng-option",88),t.\u0275\u0275elementEnd()()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!0),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,7,"Filter")),t.\u0275\u0275property("appendTo","body")("formControl",e.programFilter)("clearable",!1),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,9,"All")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.programs)}}function ve(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"ng-option",89),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"ERP_009_TEACHER_CONTRACT.INTERVETION_TYPE."+e)," ")}}function be(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"th",85)(1,"ng-select",90),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"ng-option",87),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,ve,3,4,"ng-option",88),t.\u0275\u0275elementEnd()()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!0),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,7,"Filter")),t.\u0275\u0275property("appendTo","body")("formControl",e.interventionFilter)("clearable",!1),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,9,"All")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.interventions)}}function Te(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"ng-option",89),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275property("value",null==e?null:e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.full_name," ")}}function xe(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"th",85)(1,"ng-select",90),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"ng-option",87),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,Te,2,2,"ng-option",88),t.\u0275\u0275elementEnd()()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!0),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,7,"Filter")),t.\u0275\u0275property("appendTo","body")("formControl",e.subjectFilter)("clearable",!1),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,9,"All")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.subjects)}}function ye(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",76)(1,"mat-form-field",91)(2,"input",92),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(5);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"mat-datepicker-toggle",93)(4,"mat-datepicker",null,94),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275reference(5),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",n.startDateFilter)("matDatepicker",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("for",e)}}function Se(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",76)(1,"mat-form-field",91)(2,"input",92),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275reference(5);return t.\u0275\u0275resetView(i.open())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"mat-datepicker-toggle",93)(4,"mat-datepicker",null,95),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275reference(5),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",n.endDateFilter)("matDatepicker",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("for",e)}}function Oe(a,r){1&a&&t.\u0275\u0275element(0,"th",76)}function Ee(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-form-field"),t.\u0275\u0275element(1,"input",77),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,2,"search")),t.\u0275\u0275property("formControl",e.contractManagerFilter)}}function Fe(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275template(1,Ee,3,4,"mat-form-field",31),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.isFilterManagerReady)}}function Ie(a,r){if(1&a&&(t.\u0275\u0275element(0,"input",81),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&a){const e=r.item,n=r.item$;t.\u0275\u0275propertyInterpolate1("id","item-",r.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"CONTRACT_MANAGEMENT.Step_Statuses."+(null==e?null:e.value))," ")}}function Me(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",83),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3).index,l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.selectAllData(i,"steps",o))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext(3).index,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",n.isAllDropdownSelected("steps",e))("indeterminate",n.isSomeDropdownSelected("steps",e)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function Pe(a,r){1&a&&t.\u0275\u0275template(0,Me,3,5,"ng-template",82)}function Ae(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",99)(1,"ng-select",100),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.stepFiltered())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Ie,3,5,"ng-template",80),t.\u0275\u0275template(5,Pe,1,0,null,31),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext().index,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("formControl",n.steps.controls[e])("items",n.stepStatusList)("appendTo","body")("multiple",!0)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==n.stepStatusList?null:n.stepStatusList.length)}}function De(a,r){1&a&&(t.\u0275\u0275elementContainerStart(0,97),t.\u0275\u0275template(1,Ae,6,13,"th",98),t.\u0275\u0275elementContainerEnd()),2&a&&t.\u0275\u0275propertyInterpolate1("matColumnDef","S",r.index+1,"_filter")}function we(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,De,2,1,"ng-container",96),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.stepColumns)}}function Ne(a,r){if(1&a&&(t.\u0275\u0275element(0,"input",81),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&a){const e=r.item,n=r.item$;t.\u0275\u0275propertyInterpolate1("id","item-",r.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"CONTRACT_MANAGEMENT.Step_Statuses."+(null==e?null:e.value))," ")}}function Be(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",83),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3).index,l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.selectAllData(i,"optionalSteps",o))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext(3).index,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",n.isAllDropdownSelected("optionalSteps",e))("indeterminate",n.isSomeDropdownSelected("optionalSteps",e)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function Re(a,r){1&a&&t.\u0275\u0275template(0,Be,3,5,"ng-template",82)}function Ve(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",99)(1,"ng-select",100),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.stepFiltered())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Ne,3,5,"ng-template",80),t.\u0275\u0275template(5,Re,1,0,null,31),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext().index,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("formControl",n.optionalSteps.controls[e])("items",n.stepStatusList)("appendTo","body")("multiple",!0)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==n.stepStatusList?null:n.stepStatusList.length)}}function ke(a,r){1&a&&(t.\u0275\u0275elementContainerStart(0,97),t.\u0275\u0275template(1,Ve,6,13,"th",98),t.\u0275\u0275elementContainerEnd()),2&a&&t.\u0275\u0275propertyInterpolate1("matColumnDef","O",r.index+1,"_filter")}function Le(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,ke,2,1,"ng-container",96),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.optionalStepColumns)}}function Ue(a,r){if(1&a&&(t.\u0275\u0275element(0,"input",81),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&a){const e=r.item,n=r.item$;t.\u0275\u0275propertyInterpolate1("id","item-",r.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"CONTRACT_MANAGEMENT.Statuses."+(null==e?null:e.value))," ")}}function je(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",83),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllData(i,"status"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("status"))("indeterminate",e.isSomeDropdownSelected("status")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function We(a,r){1&a&&t.\u0275\u0275template(0,je,3,5,"ng-template",82)}function Ke(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",101)(1,"ng-select",102),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.selectedMultipleFilter("status"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Ue,3,5,"ng-template",80),t.\u0275\u0275template(5,We,1,0,null,31),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.statusList)("appendTo","body")("multiple",!0)("formControl",e.statusFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.statusList?null:e.statusList.length)}}function He(a,r){1&a&&t.\u0275\u0275element(0,"th",76)}function Ge(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",103)(1,"mat-checkbox",104),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?o.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.showOptions("all",""))}),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&((null==e.dataUnselectUser?null:e.dataUnselectUser.length)>0||!e.isAllSelected()))("aria-label",e.checkboxLabel())}}function Ye(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",105)(1,"mat-checkbox",106),t.\u0275\u0275listener("click",function(i){return i.stopPropagation()})("change",function(i){const l=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i?d.selection.toggle(l._id):null)})("change",function(){const o=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.showOptions("one",o))}),t.\u0275\u0275elementEnd()()}if(2&a){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(null==e?null:e._id)||n.isCheckedAll&&!n.dataUnselectUser.includes(null==e?null:e._id))("aria-label",n.checkboxLabel(e))}}function $e(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",107),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",108),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT_MANAGEMENT.teacher")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"CONTRACT_MANAGEMENT.teacher")))}function ze(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",109),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e?null:e.last_name)," ",null==e?null:e.first_name,"\n        ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e?null:e.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e?null:e.last_name)," ",null==e?null:e.first_name," ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e?null:e.civility)," ")}}function qe(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",107),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",110),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT_MANAGEMENT.contract_type")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"CONTRACT_MANAGEMENT.contract_type")))}function Qe(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",109),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.contract_type)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,null==e?null:e.contract_type)," ")}}function Xe(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",111),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Number of intervention")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Number of intervention")))}function Ze(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",109),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e||null==e.interventions?null:e.interventions.length),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.interventions?null:e.interventions.length," ")}}function Je(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",107),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",112),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT_MANAGEMENT.email")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"CONTRACT_MANAGEMENT.email")))}function tn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",109),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.email),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.email," ")}}function en(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",107),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",113),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT_MANAGEMENT.phone")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"CONTRACT_MANAGEMENT.phone")))}function nn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",109),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.portable_phone),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.portable_phone," ")}}function an(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",114),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",115),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"CONTRACT_MANAGEMENT.program")),t.\u0275\u0275property("hidden",!0),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,5,"CONTRACT_MANAGEMENT.program")))}function on(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",116),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e||null==e.program?null:e.program.program),t.\u0275\u0275property("hidden",!0),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.program?null:e.program.program," ")}}function ln(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",114),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",117),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"CONTRACT_MANAGEMENT.intervention")),t.\u0275\u0275property("hidden",!0),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,5,"CONTRACT_MANAGEMENT.intervention")))}function rn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",116),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"ERP_009_TEACHER_CONTRACT.INTERVETION_TYPE."+(null==e?null:e.type_of_intervention))),t.\u0275\u0275property("hidden",!0),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"ERP_009_TEACHER_CONTRACT.INTERVETION_TYPE."+(null==e?null:e.type_of_intervention))," ")}}function sn(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",114),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"CONTRACT_MANAGEMENT.subject")),t.\u0275\u0275property("hidden",!0),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,5,"CONTRACT_MANAGEMENT.subject")))}function cn(a,r){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",119),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&a){const e=r.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.full_name)}}function pn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",116),t.\u0275\u0275template(1,cn,3,1,"ng-container",118),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!0)("matTooltip",n.renderTooltipEntity(null==e?null:e.subject)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.subject)}}function dn(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",107),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",120),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT_MANAGEMENT.start")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"CONTRACT_MANAGEMENT.start")))}function mn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",109),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",n.translateDate(null==e?null:e.start_date,null==e?null:e.start_time)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.translateDate(null==e?null:e.start_date,null==e?null:e.start_time)," ")}}function un(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",107),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",121),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT_MANAGEMENT.end")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"CONTRACT_MANAGEMENT.end")))}function _n(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",109),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",n.translateDate(null==e?null:e.end_date,null==e?null:e.end_time)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.translateDate(null==e?null:e.end_date,null==e?null:e.end_time)," ")}}function hn(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",107),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Intervention")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Intervention")))}function gn(a,r){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",119),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&a){const e=r.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(3,3,null==e?null:e.type_intervention)," ",null!=e&&null!=e.subject_id&&e.subject_id.short_name?null!=e&&e.type_intervention?" - "+(null==e||null==e.subject_id?null:e.subject_id.short_name):null==e||null==e.subject_id?null:e.subject_id.short_name:""," ",null!=e&&null!=e.program&&e.program.program?null!=e&&e.type_intervention&&null!=e&&null!=e.subject_id&&e.subject_id.short_name?" - "+(null==e||null==e.program?null:e.program.program):null==e||null==e.program?null:e.program.program:""," ")}}function fn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",109),t.\u0275\u0275template(1,gn,4,5,"ng-container",118),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.renderTooltipIntervenant(null==e?null:e.interventions)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.interventions)}}function Cn(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",123),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Contract Manager")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Contract Manager")))}function vn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",109),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.contract_manager?null:e.contract_manager.last_name)," ",null==e||null==e.contract_manager?null:e.contract_manager.first_name,"\n        ",null!=e&&null!=e.contract_manager&&e.contract_manager.civility&&"neutral"===(null==e||null==e.contract_manager?null:e.contract_manager.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.contract_manager?null:e.contract_manager.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.contract_manager?null:e.contract_manager.last_name)," ",null==e||null==e.contract_manager?null:e.contract_manager.first_name," ",null!=e&&null!=e.contract_manager&&e.contract_manager.civility&&"neutral"===(null==e||null==e.contract_manager?null:e.contract_manager.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.contract_manager?null:e.contract_manager.civility)," ")}}function bn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"th",107),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()),2&a){const e=t.\u0275\u0275nextContext().index;t.\u0275\u0275propertyInterpolate2("matTooltip","",t.\u0275\u0275pipeBind1(1,3,"TEST.STEP")," ",e+1,""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("S",e+1,"")}}const ft=function(a,r,e,n){return{black:a,green:r,orange:e,yellow:n}};function Tn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-icon",128),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext(2).index,n=t.\u0275\u0275nextContext().index,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate2("matTooltip","",null==i.dataWithFilteredSteps[e]||null==i.dataWithFilteredSteps[e].steps[n]?null:i.dataWithFilteredSteps[e].steps[n].step_title,": ",t.\u0275\u0275pipeBind1(1,3,"CONTRACT_MANAGEMENT.Step_Statuses."+(null==i.dataWithFilteredSteps[e]||null==i.dataWithFilteredSteps[e].steps[n]?null:i.dataWithFilteredSteps[e].steps[n].step_status)),""),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction4(5,ft,"not_started"===(null==i.dataWithFilteredSteps[e]||null==i.dataWithFilteredSteps[e].steps[n]?null:i.dataWithFilteredSteps[e].steps[n].step_status),"accept"===(null==i.dataWithFilteredSteps[e]||null==i.dataWithFilteredSteps[e].steps[n]?null:i.dataWithFilteredSteps[e].steps[n].step_status),"need_validation"===(null==i.dataWithFilteredSteps[e]||null==i.dataWithFilteredSteps[e].steps[n]?null:i.dataWithFilteredSteps[e].steps[n].step_status)||"revision_completed"===(null==i.dataWithFilteredSteps[e]||null==i.dataWithFilteredSteps[e].steps[n]?null:i.dataWithFilteredSteps[e].steps[n].step_status),"ask_for_revision"===(null==i.dataWithFilteredSteps[e]||null==i.dataWithFilteredSteps[e].steps[n]?null:i.dataWithFilteredSteps[e].steps[n].step_status)))}}function xn(a,r){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Tn,3,10,"mat-icon",127),t.\u0275\u0275elementContainerEnd()),2&a){const e=t.\u0275\u0275nextContext().index,n=t.\u0275\u0275nextContext().index,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","pending"!==(null==i.dataWithFilteredSteps[e]||null==i.dataWithFilteredSteps[e].steps[n]?null:i.dataWithFilteredSteps[e].steps[n].step_status))}}function yn(a,r){1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",129),t.\u0275\u0275text(2,"x"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Sn(a,r){if(1&a&&t.\u0275\u0275template(0,yn,3,0,"ng-container",31),2&a){const e=t.\u0275\u0275nextContext().index,n=t.\u0275\u0275nextContext().index,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",!(null!=i.dataWithFilteredSteps[e]&&null!=i.dataWithFilteredSteps[e].steps[n]&&i.dataWithFilteredSteps[e].steps[n].step_status))}}function On(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",105),t.\u0275\u0275template(1,xn,2,1,"ng-container",125),t.\u0275\u0275template(2,Sn,1,1,"ng-template",null,126,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&a){const e=r.index,n=t.\u0275\u0275reference(3),i=t.\u0275\u0275nextContext().index,o=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==o.dataWithFilteredSteps[e]||null==o.dataWithFilteredSteps[e].steps[i]?null:o.dataWithFilteredSteps[e].steps[i].step_status)("ngIfElse",n)}}function En(a,r){1&a&&(t.\u0275\u0275elementContainerStart(0,97),t.\u0275\u0275template(1,bn,4,5,"th",39),t.\u0275\u0275template(2,On,4,2,"td",37),t.\u0275\u0275elementContainerEnd()),2&a&&t.\u0275\u0275property("matColumnDef",r.$implicit)}function Fn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",124),t.\u0275\u0275template(1,En,3,1,"ng-container",96),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.stepColumns)}}function In(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"th",107)(1,"h5"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&a){const e=t.\u0275\u0275nextContext().index;t.\u0275\u0275propertyInterpolate1("matTooltip","O ",e+1,""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("O",e+1,"")}}function Mn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-icon",128),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext(2).index,n=t.\u0275\u0275nextContext().index,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate2("matTooltip","",null==i.dataWithFilteredOptionalSteps[e]||null==i.dataWithFilteredOptionalSteps[e].steps[n]?null:i.dataWithFilteredOptionalSteps[e].steps[n].step_title,": ",t.\u0275\u0275pipeBind1(1,3,"CONTRACT_MANAGEMENT.Step_Statuses."+(null==i.dataWithFilteredOptionalSteps[e]||null==i.dataWithFilteredOptionalSteps[e].steps[n]?null:i.dataWithFilteredOptionalSteps[e].steps[n].step_status)),""),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction4(5,ft,"not_started"===(null==i.dataWithFilteredOptionalSteps[e]||null==i.dataWithFilteredOptionalSteps[e].steps[n]?null:i.dataWithFilteredOptionalSteps[e].steps[n].step_status),"accept"===(null==i.dataWithFilteredOptionalSteps[e]||null==i.dataWithFilteredOptionalSteps[e].steps[n]?null:i.dataWithFilteredOptionalSteps[e].steps[n].step_status),"need_validation"===(null==i.dataWithFilteredOptionalSteps[e]||null==i.dataWithFilteredOptionalSteps[e].steps[n]?null:i.dataWithFilteredOptionalSteps[e].steps[n].step_status)||"revision_completed"===(null==i.dataWithFilteredOptionalSteps[e]||null==i.dataWithFilteredOptionalSteps[e].steps[n]?null:i.dataWithFilteredOptionalSteps[e].steps[n].step_status),"ask_for_revision"===(null==i.dataWithFilteredOptionalSteps[e]||null==i.dataWithFilteredOptionalSteps[e].steps[n]?null:i.dataWithFilteredOptionalSteps[e].steps[n].step_status)))}}function Pn(a,r){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Mn,3,10,"mat-icon",127),t.\u0275\u0275elementContainerEnd()),2&a){const e=t.\u0275\u0275nextContext().index,n=t.\u0275\u0275nextContext().index,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","pending"!==(null==i.dataWithFilteredOptionalSteps[e]||null==i.dataWithFilteredOptionalSteps[e].steps[n]?null:i.dataWithFilteredOptionalSteps[e].steps[n].step_status))}}function An(a,r){1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",129),t.\u0275\u0275text(2,"x"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Dn(a,r){if(1&a&&t.\u0275\u0275template(0,An,3,0,"ng-container",31),2&a){const e=t.\u0275\u0275nextContext().index,n=t.\u0275\u0275nextContext().index,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",!(null!=i.dataWithFilteredOptionalSteps[e]&&null!=i.dataWithFilteredOptionalSteps[e].steps[n]&&i.dataWithFilteredOptionalSteps[e].steps[n].step_status))}}function wn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",105),t.\u0275\u0275template(1,Pn,2,1,"ng-container",125),t.\u0275\u0275template(2,Dn,1,1,"ng-template",null,126,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&a){const e=r.index,n=t.\u0275\u0275reference(3),i=t.\u0275\u0275nextContext().index,o=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==o.dataWithFilteredOptionalSteps[e]||null==o.dataWithFilteredOptionalSteps[e].steps[i]?null:o.dataWithFilteredOptionalSteps[e].steps[i].step_status)("ngIfElse",n)}}function Nn(a,r){1&a&&(t.\u0275\u0275elementContainerStart(0,97),t.\u0275\u0275template(1,In,3,2,"th",39),t.\u0275\u0275template(2,wn,4,2,"td",37),t.\u0275\u0275elementContainerEnd()),2&a&&t.\u0275\u0275property("matColumnDef",r.$implicit)}function Bn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",124),t.\u0275\u0275template(1,Nn,3,1,"ng-container",96),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.optionalStepColumns)}}function Rn(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",107),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5")(3,"mat-icon"),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(4,"svg",130),t.\u0275\u0275element(5,"path",131),t.\u0275\u0275elementEnd()()()()),2&a&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"CONTRACT_MANAGEMENT.Contract Process Status"))}const Vn=function(a,r,e,n,i){return{black:a,yellow:r,red:e,green:n,orange:i}};function kn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-icon",128),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT_MANAGEMENT.Statuses."+(null==e?null:e.contract_status)))("ngClass",t.\u0275\u0275pureFunction5(4,Vn,"not_published"===(null==e?null:e.contract_status),"ask_for_revision"===(null==e?null:e.contract_status),"reject_and_stop"===(null==e?null:e.contract_process_status)||"reject_and_stop"===(null==e?null:e.contract_status),"submitted"===(null==e?null:e.contract_status)||"signed"===(null==e?null:e.contract_status),"in_progress_of_signing"===(null==e?null:e.contract_status)))}}function Ln(a,r){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,kn,3,10,"mat-icon",127),t.\u0275\u0275elementContainerEnd()),2&a){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.contract_status)}}function Un(a,r){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-icon",132),t.\u0275\u0275text(2," lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&a){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",n.getTextForSigningProgressStatus(null==e?null:e.contract_validator_signatory_status))}}function jn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",105),t.\u0275\u0275template(1,Ln,2,1,"ng-container",31),t.\u0275\u0275template(2,Un,3,1,"ng-container",31),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","signing_process"!==(null==e?null:e.contract_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","signing_process"===(null==e?null:e.contract_status))}}function Wn(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",107),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function Kn(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",137),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onSendingPreContract("single",i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"forward_to_inbox"),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Send the Form")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function Hn(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",137),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onGoToForm(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",138),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Go to Form")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function Gn(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",137),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.openNewTab("/teacher-contract/contract-process",null==i?null:i._id))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Edit Contract Info")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function Yn(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",139),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.sendReminder(null==i?null:i._id))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"notifications"),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ERP_009_TEACHER_CONTRACT.Send Reminder")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function $n(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",139),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onSendMail(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"email"),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Send Email")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function zn(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",140),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onUploadDocument(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"file_upload"),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Additional Document")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function qn(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",139),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onDeleteProcess(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Remove the Contract")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function Qn(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",139),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.getTemplatePDF(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"description"),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CONTRACT_MANAGEMENT.View contract")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function Xn(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"td",133),t.\u0275\u0275template(1,Kn,4,4,"button",134),t.\u0275\u0275template(2,Hn,3,4,"button",134),t.\u0275\u0275template(3,Gn,4,4,"button",134),t.\u0275\u0275template(4,Yn,4,4,"button",135),t.\u0275\u0275template(5,$n,4,4,"button",135),t.\u0275\u0275template(6,zn,4,4,"button",136),t.\u0275\u0275template(7,qn,4,4,"button",135),t.\u0275\u0275template(8,Qn,4,4,"button",135),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.contract_status)&&!(null!=e&&null!=e.steps&&e.steps.length)&&(null==e||null==e.interventions?null:e.interventions.length)>0&&n.permission.sendTheFormContractManagementPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.steps?null:e.steps.length)&&n.permission.goToFormContractManagementPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.form_builder_id)&&n.permission.editContractManagementPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.steps?null:e.steps.length)&&"signed"!==(null==e?null:e.contract_status)&&n.permission.sendReminderContractManagementPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.sendEmailContractManagementPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","signed"!==(null==e?null:e.contract_status)&&n.permission.additionalDocumentContractManagementPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","signed"!==(null==e?null:e.contract_status)&&n.permission.removeContractManagementPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","signed"===(null==e?null:e.contract_status))}}function Zn(a,r){1&a&&(t.\u0275\u0275elementStart(0,"th",141)(1,"div",142),t.\u0275\u0275element(2,"mat-spinner",143),t.\u0275\u0275elementEnd()())}function Jn(a,r){1&a&&t.\u0275\u0275element(0,"tr",144)}function ta(a,r){1&a&&t.\u0275\u0275element(0,"tr",144)}function ea(a,r){if(1&a&&t.\u0275\u0275element(0,"tr",145),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isLoading)}}function na(a,r){if(1&a&&t.\u0275\u0275element(0,"tr",146),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isLoading)}}const Ct=function(a){return{hide:a}};function aa(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",147),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,Ct,e.isLoading)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"NOT RECORD FOUND")," ")}}function ia(a,r){1&a&&(t.\u0275\u0275elementStart(0,"div",148),t.\u0275\u0275element(1,"mat-progress-spinner",149),t.\u0275\u0275elementEnd())}const oa=function(){return["loading"]},la=function(a){return{"hide-pagination-buttons":a}},ra=function(){return[10]};let sa=(()=>{class a{constructor(e,n,i,o,l,d,c,m,g,T,v,J,G,tt,lo){this.router=e,this.dialog=n,this.translate=i,this.authService=o,this.contractService=l,this.formFillingService=d,this.utilService=c,this.ngZone=m,this.coreService=g,this.parseUTCtoLocal=T,this.permissionNgx=v,this.permission=J,this.route=G,this.filterBreadCrumbService=tt,this.pageTitleService=lo,this.displayedColumns=["select","teacher","contract_type","numberOfIntervention","email","phone","start","end","intervenant","contractManager","contract_process_status","action"],this.filterColumns=["selectFilter","teacherFilter","contractTypeFilter","numberOfInterventionFilter","emailFilter","phoneFilter","startFilter","endFilter","intervenantFilter","contractManagerFilter","contract_process_status_filter","actionFilter"],this.originColumns=this.displayedColumns,this.originFilter=this.filterColumns,this.dataSource=new y.by([]),this.selection=new h.Ov(!0,[]),this.isCheckedAll=!1,this.disabledExport=!0,this.isAllEmpty=!0,this.dataCount=0,this.userSelected=[],this.userSelectedId=[],this.isWasSelectAll=!1,this.isFilterManagerReady=!0,this.subs=new _.Y,this.isLoading=!1,this.stepColumns=[],this.allDataForCustom=[],this.allDataForExport=[],this.filteredValues={teacher:null,intervention_number:null,contract_type:null,email:null,phone:null,program:null,intervention:null,subject:null,start_date:null,end_date:null,contract_manager:null,contract_status:null,steps:null,template_type:"teacher_contract",contract_types:null,intervention_numbers:null,contract_statuses:null},this.filteredValuesAll={contract_types:"All",intervention_numbers:"All",contract_statuses:"All",0:"All",1:"All",2:"All",3:"All",4:"All",5:"All",6:"All",7:"All",8:"All",9:"All",10:"All",11:"All"},this.subjects=[],this.programs=[],this.typeOfConracts=[],this.numberIntervention=[1,2,3,4,5,6,7],this.interventions=["Face to Face","Face to Face 2","Face to Face 3","Face to Face 4","Jury","Coaching","Conference"],this.stepStatusList=[{value:"ask_for_revision",display:"Revision requested"},{value:"accept",display:"Validate"},{value:"not_started",display:"Not Started"},{value:"need_validation",display:"Need Validation"},{value:"empty",display:"Empty"}],this.statusList=[],this.isReset=!1,this.serverimgPath=`${E.a.baseApi}/fileuploads/`.replace("/graphql",""),this.sortValue=null,this.totalSteps=0,this.teacherFilter=new s.UntypedFormControl(null),this.contractTypeFilter=new s.UntypedFormControl(null),this.numberInterventionFilter=new s.UntypedFormControl(null),this.emailFilter=new s.UntypedFormControl(null),this.phoneFilter=new s.UntypedFormControl(null),this.startDateFilter=new s.UntypedFormControl(null),this.endDateFilter=new s.UntypedFormControl(null),this.programFilter=new s.UntypedFormControl(null),this.interventionFilter=new s.UntypedFormControl(null),this.subjectFilter=new s.UntypedFormControl(null),this.cpFilter=new s.UntypedFormControl(null),this.statusFilter=new s.UntypedFormControl(null),this.contractManagerFilter=new s.UntypedFormControl(null),this.isTopWaitingForResponse=!1,this.steps=new s.UntypedFormArray([]),this.allStudentForCheckbox=[],this.dataSelected=[],this.pageSelected=[],this.dataUnselectUser=[],this.buttonClicked="",this.allContractForSendForm=[],this.filterBreadcrumbData=[],this.stepColumnsBreadCrumb=[],this.optionColumnsBreadCrumb=[],this.isMultipleFilter=!1,this.prevTotalStepMandatory=0}ngOnInit(){this.coreService.sidenavOpen=!1,this.currentUser=this.authService.getLocalStorageUser(),this.isPermission=this.authService.getPermission();const e=this.currentUser?.entities?.find(i=>i?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id;const n=this.route.snapshot.queryParamMap.get("teacher");n&&(this.filteredValues.teacher=n,this.teacherFilter.patchValue(n,{emitEvent:!1})),this.multipleFilterDropdown(),this.getSubjectDropdown(),this.getProgramDropdown(),this.initFilter(),this.stepStatusList=this.stepStatusList.sort((i,o)=>this.translate.instant("CONTRACT_MANAGEMENT.Step_Statuses."+i.value).localeCompare(this.translate.instant("CONTRACT_MANAGEMENT.Step_Statuses."+o.value))),this.subs.sink=this.translate.onLangChange.subscribe(i=>{this.multipleFilterDropdown(),this.stepStatusList=this.stepStatusList.sort((o,l)=>this.translate.instant("CONTRACT_MANAGEMENT.Step_Statuses."+o.value).localeCompare(this.translate.instant("CONTRACT_MANAGEMENT.Step_Statuses."+l.value)))}),this.pageTitleService.setTitle("NAV.TEACHER_CONTRACT.CONTRACT_MANAGEMENT")}multipleFilterDropdown(){this.typeOfConracts=[{value:"cddu",label:this.translate.instant("ERP_009_TEACHER_CONTRACT.TYPE_OF_CONTRACT.cddu")},{value:"convention",label:this.translate.instant("ERP_009_TEACHER_CONTRACT.TYPE_OF_CONTRACT.convention")}],this.statusList=[{value:"not_published",display:"Not Published",label:this.translate.instant("CONTRACT_MANAGEMENT.Statuses.not_published")},{value:"not_sent",display:"Not sent",label:this.translate.instant("CONTRACT_MANAGEMENT.Statuses.not_sent")},{display:"In progress of signing",value:"in_progress_of_signing",label:this.translate.instant("CONTRACT_MANAGEMENT.Statuses.in_progress_of_signing")},{value:"signed",display:"Signed",label:this.translate.instant("CONTRACT_MANAGEMENT.Statuses.signed")},{value:"reject_and_stop",display:"Reject and Stop",label:this.translate.instant("CONTRACT_MANAGEMENT.Statuses.reject_and_stop")}],this.stepStatusList=this.stepStatusList.map(e=>({...e,label:this.translate.instant("CONTRACT_MANAGEMENT.Step_Statuses."+e?.value)}))}initFilter(){this.subs.sink=this.teacherFilter.valueChanges.pipe((0,w.b)(500)).subscribe(e=>{this.filteredValues.teacher=this.utilService.simpleDiacriticSensitiveRegex(e),this.paginator.pageIndex=0,this.getAllContractProcess("teacherFilter")}),this.subs.sink=this.contractTypeFilter.valueChanges.subscribe(e=>{this.isMultipleFilter=!0}),this.subs.sink=this.numberInterventionFilter.valueChanges.subscribe(e=>{this.isMultipleFilter=!0}),this.subs.sink=this.emailFilter.valueChanges.pipe((0,w.b)(500)).subscribe(e=>{this.filteredValues.email=this.utilService.simpleDiacriticSensitiveRegex(e),this.paginator.pageIndex=0,this.getAllContractProcess("emailfilter")}),this.subs.sink=this.phoneFilter.valueChanges.pipe((0,w.b)(500)).subscribe(e=>{this.filteredValues.phone=e.toString(),this.paginator.pageIndex=0,this.getAllContractProcess("phonefilter")}),this.subs.sink=this.programFilter.valueChanges.subscribe(e=>{this.filteredValues.program=e,this.paginator.pageIndex=0,this.getAllContractProcess("programfilter")}),this.subs.sink=this.interventionFilter.valueChanges.subscribe(e=>{this.filteredValues.intervention=e,this.paginator.pageIndex=0,this.getAllContractProcess("interventionfilter")}),this.subs.sink=this.subjectFilter.valueChanges.subscribe(e=>{this.filteredValues.subject=e,this.paginator.pageIndex=0,this.getAllContractProcess("subject")}),this.subs.sink=this.startDateFilter.valueChanges.pipe((0,w.b)(400)).subscribe(e=>{if(e){const n=_t(e).format("DD/MM/YYYY");this.filteredValues.start_date=n,this.paginator.pageIndex=0,this.getAllContractProcess("startDateFilter")}}),this.subs.sink=this.endDateFilter.valueChanges.pipe((0,w.b)(400)).subscribe(e=>{if(e){const n=_t(e).format("DD/MM/YYYY");this.filteredValues.end_date=n,this.paginator.pageIndex=0,this.getAllContractProcess("endDateFilter")}}),this.subs.sink=this.contractManagerFilter.valueChanges.pipe((0,w.b)(500)).subscribe(e=>{this.filteredValues.contract_manager=this.utilService.simpleDiacriticSensitiveRegex(e),this.paginator.pageIndex=0,this.getAllContractProcess("contractManagerFilter")}),this.subs.sink=this.statusFilter.valueChanges.subscribe(e=>{this.isMultipleFilter=!0})}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,console.log("sort",e,this.sortValue,this.dataLoaded,this.isReset),this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getAllContractProcess("sort"))}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,F.O)(null),(0,V.b)(()=>{this.isReset||this.getAllContractProcess("viewinit"),this.dataLoaded=!0})).subscribe(),this.subs.sink=this.ngZone.onMicrotaskEmpty.pipe((0,L.j)(50),(0,Y.q)(3)).subscribe(e=>{this.table.updateStickyColumnStyles()})}getAllContractProcess(e){this.isLoading=!0,this.stepColumns=[],this.optionalStepColumns=[],this.totalSteps=0,this.totalOptionalSteps=0,this.dataWithFilteredSteps=[],this.dataWithFilteredOptionalSteps=[],this.displayedColumns=[],this.filterColumns=[],this.setDisplayedColumns(),this.setFilterColumns();const n={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0};this.isFilterManagerReady||delete this.filteredValues.contract_manager;const i=this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[],o=this.cleanFilterData();console.log("cek filter data",o),this.subs.sink=this.contractService.getAllFormContractManageProcesses(n,o,this.sortValue,i).subscribe(l=>{l?(console.log(l),this.isReset=!1,this.isLoading=!1,this.dataSource.data=l,this.dataCount=l&&l[0]&&l[0].count_document?l[0].count_document:0,this.noData=this.dataSource.connect().pipe((0,nt.U)(d=>0===d.length)),this.addStepsValue(l),this.filterBreadcrumbData=[],this.filterBreadcrumbFormat()):(this.dataSource.data=[],this.isReset=!1,this.isLoading=!1)},l=>{this.dataSource.data=[],this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(l),l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.authService.handlerSessionExpired():this.handleError(l)})}cleanFilterData(){const e=S.cloneDeep(this.filteredValues);return Object.keys(e).forEach(n=>{!e[n]&&!1!==e[n]&&delete e[n]}),e}setDisplayedColumns(){this.displayedColumns=["select","teacher","contract_type","numberOfIntervention","email","phone","start","end","intervenant","contractManager","contract_process_status","action"]}setFilterColumns(){this.filterColumns=["selectFilter","teacherFilter","contractTypeFilter","numberOfInterventionFilter","emailFilter","phoneFilter","startFilter","endFilter","intervenantFilter","contractManagerFilter","contract_process_status_filter","actionFilter"]}addStepsValue(e){this.steps=new s.UntypedFormArray([]),this.optionalSteps=new s.UntypedFormArray([]);const n=[],i=[];let o,l;if(this.totalSteps=0,this.totalOptionalSteps=0,e&&e.length>0){const d=e.map(m=>({...m,steps:m&&m?.steps&&m?.steps?.length?m?.steps.filter(g=>!g?.is_only_visible_based_on_condition):[]}));this.dataWithFilteredSteps=d,console.log("data untouched",e),console.log("datawithfilteredSteps:",this.dataWithFilteredSteps),o=Math.max.apply(Math,d.map(m=>m&&m.steps&&m.steps.length?m.steps.length:0));const c=e.map(m=>({...m,steps:m&&m?.steps&&m?.steps?.length?m?.steps.filter(g=>g?.is_only_visible_based_on_condition):[]}));this.dataWithFilteredOptionalSteps=c,l=Math.max.apply(Math,c.map(m=>m&&m.steps&&m.steps.length?m.steps.length:0))}if(console.log("maxStepData",o),o&&0!==o?this.totalSteps=o:!o&&0===o&&(this.totalSteps=0),console.log("maxOptionalStepData",l),l&&0!==l?this.totalOptionalSteps=l:!l&&0===l&&(this.totalOptionalSteps=0),console.log("_max",o,l),console.log(this.totalSteps,this.totalOptionalSteps),o>0){let d=0;for(;d<this.totalSteps;d++)this.displayedColumns.splice(-2,0,`S${d+1}`),this.filterColumns.splice(-2,0,`S${d+1}_filter`),n.push(`S${d+1}`),this.steps.push(new s.UntypedFormControl(null));this.steps&&this.steps.controls.length&&this.filteredValues.steps&&this.filteredValues.steps.length>0&&this.filteredValues.steps.forEach(c=>{"mandatory"===c.step_type_selected&&this.steps.controls[c.step].setValue(c?.statuses)})}if(l>0){let d=0;for(;d<this.totalOptionalSteps;d++)this.displayedColumns.splice(-2,0,`O${d+1}`),this.filterColumns.splice(-2,0,`O${d+1}_filter`),i.push(`O${d+1}`),this.optionalSteps.push(new s.UntypedFormControl(null));this.optionalSteps&&this.optionalSteps.controls.length&&this.filteredValues.steps&&this.filteredValues.steps.length>0&&this.filteredValues.steps.forEach(c=>{"option"===c.step_type_selected&&this.optionalSteps.controls[c.step-this.totalSteps-(this.prevTotalStepMandatory-this.totalSteps<0?0:this.prevTotalStepMandatory-this.totalSteps)].setValue(c.statuses)})}this.displayedColumns=S.uniqBy(this.displayedColumns),this.filterColumns=S.uniqBy(this.filterColumns),console.log("_dis",this.displayedColumns),console.log("_fil",this.filterColumns),this.stepColumns=n,this.optionalStepColumns=i,console.log("stepColumns",this.stepColumns),console.log("optionalStepColumns",this.optionalStepColumns)}getSubjectDropdown(){this.subs.sink=this.contractService.getAllSubjectsDropdown().subscribe(e=>{e&&e.length&&(this.subjects=e)},e=>{this.isLoading=!1,this.authService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():e&&e.message&&e.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):this.handleError(e)})}getProgramDropdown(){this.subs.sink=this.contractService.GetAllProgramsDropdown().subscribe(e=>{e&&e.length&&(this.programs=e)},e=>{this.isLoading=!1,this.authService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():e&&e.message&&e.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):this.handleError(e)})}isAllSelected(){return!!this.isCheckedAll||this.selection.selected.length===this.dataSource.data.length}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}onReset(){this.resetFilter(),this.getAllContractProcess("Reset")}resetFilter(){this.userSelected=[],this.userSelectedId=[],this.isCheckedAll=!1,this.isReset=!0,this.isMultipleFilter=!1,this.selection.clear(),this.dataSelected=[],this.dataUnselectUser=[],this.allContractForSendForm=[],this.paginator.pageIndex=0,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.filteredValues={teacher:null,intervention_number:null,contract_type:null,email:null,phone:null,program:null,intervention:null,subject:null,start_date:null,end_date:null,contract_manager:null,contract_status:null,steps:null,template_type:"teacher_contract",contract_types:null,intervention_numbers:null,contract_statuses:null},this.teacherFilter.setValue(null,{emitEvent:!1}),this.contractTypeFilter.setValue(null,{emitEvent:!1}),this.numberInterventionFilter.setValue(null,{emitEvent:!1}),this.emailFilter.setValue(null,{emitEvent:!1}),this.phoneFilter.setValue(null,{emitEvent:!1}),this.startDateFilter.setValue(null,{emitEvent:!1}),this.endDateFilter.setValue(null,{emitEvent:!1}),this.programFilter.setValue(null,{emitEvent:!1}),this.interventionFilter.setValue(null,{emitEvent:!1}),this.subjectFilter.setValue(null,{emitEvent:!1}),this.cpFilter.setValue(null,{emitEvent:!1}),this.statusFilter.setValue(null,{emitEvent:!1}),this.contractManagerFilter.setValue(null,{emitEvent:!1}),this.filterBreadcrumbData=[]}csvTypeSelectionUpload(){const e={",":this.translate.instant("IMPORT_DECISION_S1.COMMA"),";":this.translate.instant("IMPORT_DECISION_S1.SEMICOLON"),tab:this.translate.instant("IMPORT_DECISION_S1.TAB")};u().fire({type:"question",title:this.translate.instant("IMPORT_DECISION_S1.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translate.instant("IMPORT_DECISION_S1.CANCEL"),confirmButtonText:this.translate.instant("IMPORT_DECISION_S1.OK"),input:"radio",inputOptions:e,inputValue:";",inputValidator:n=>new Promise((i,o)=>{n?(i(""),u().enableConfirmButton()):(u().disableConfirmButton(),o(this.translate.instant("IMPORT_DECISION_S1.INVALID")))}),onOpen:function(){u().disableConfirmButton(),u().getContent().addEventListener("click",function(o){u().enableConfirmButton()}),";"===u().getInput().getAttribute("value")&&u().enableConfirmButton()}}).then(n=>{n.value&&this.openImportDialog(n.value)})}openImportDialog(e){let n=null;switch(e){case",":n="comma";break;case";":n="semicollon";break;case"tab":n="tab";break;default:n=null}this.dialog.open(at.q,{width:"500px",minHeight:"200px",panelClass:"certification-rule-pop-up",disableClose:!0,data:{delimeter:n,type:"contract"}}).afterClosed().subscribe(i=>{i&&(this.isLoading=!1,this.getAllContractProcess("add"))})}getDataAllForCheckbox(e){const n={limit:300,page:e};this.isLoading=!0,this.subs.sink=this.contractService.getAllFormContractManageProcesses(n,this.filteredValues,this.sortValue,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(o=>{o&&o.length?(this.allStudentForCheckbox.push(...o),this.getDataAllForCheckbox(e+1)):(console.log("getDataAllForCheckbox",this.selection,this.isCheckedAll),this.isLoading=!1,this.isCheckedAll?(this.allStudentForCheckbox&&this.allStudentForCheckbox.length&&this.allStudentForCheckbox.forEach(l=>{this.selection.select(l._id),this.dataSelected.push(l)}),this.pageSelected.push(this.paginator.pageIndex)):this.pageSelected=[])},o=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(o),o&&o.message&&o.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("OK")})})}masterToggle(){this.isAllSelected()?(this.selection.clear(),this.dataSelected=[],this.dataUnselectUser=[],this.allContractForSendForm=[],this.isCheckedAll=!1):(this.selection.clear(),this.dataSelected=[],this.dataUnselectUser=[],this.allContractForSendForm=[],this.isCheckedAll=!0,this.dataSource.data.forEach(e=>{this.dataUnselectUser.includes(e._id)||this.selection.select(e._id)}))}showOptions(e,n){if(this.isCheckedAll){if(n)if(this.dataUnselectUser.includes(n._id)){const o=this.dataUnselectUser.findIndex(l=>l===n._id);this.dataUnselectUser.splice(o,1),this.selection.select(n._id)}else this.dataUnselectUser.push(n._id),this.selection.deselect(n._id)}else if(n)if(this.dataSelected&&this.dataSelected.length){const o=this.dataSelected.filter(l=>l._id===n._id);if(o&&o.length<1)this.dataSelected.push(n);else{const l=this.dataSelected.findIndex(d=>d._id===n._id);this.dataSelected.splice(l,1)}}else this.dataSelected.push(n);const i=this.selection.selected.length;"all"===e&&(this.isWasSelectAll=!0),i>0?this.disabledExport=!1:(this.disabledExport=!0,this.isWasSelectAll=!1),console.log("showOptions",this.isWasSelectAll,e),this.userSelected=[],this.userSelectedId=[],this.selectType=e}checkTeacherStep(e,n){let i=[];if("multiple"===e?i=this.dataSelected:"single"===e&&i.push(n),i&&i.length){const o=i.filter(l=>{if(l.steps&&l.steps.length)return l});return!(o&&o.length)}}onSendingPreContract(e,n){console.log("onSendingPreContract",this.isWasSelectAll,e,this.selectType),console.log("DATA SELECTED",this.dataSelected),"multiple"===e&&this.dataSelected.length<1&&!this.isCheckedAll?u().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Teacher")}),confirmButtonText:this.translate.instant("Followup_S8.Button")}):this.checkTeacherStep(e,n)?this.subs.sink=this.dialog.open(lt,{width:"800px",panelClass:"certification-rule-pop-up",disableClose:!0,data:{type:e,process:n,selection:this.dataSelected,selectAll:this.isAllSelected(),filter:this.filteredValues}}).afterClosed().subscribe(i=>{i&&(console.log(i),this.isLoading=!1,this.getAllContractProcess("send"),this.selection.clear(),this.dataSelected=[],this.userSelected=[],this.userSelectedId=[])}):u().fire({type:"info",title:this.translate.instant("SendForm_S2.Title"),html:this.translate.instant("SendForm_S2.Text"),confirmButtonText:this.translate.instant("SendForm_S2.Button")})}getAllDataWithCustomData(e,n){this.isLoading=!0,0===e&&(this.allDataForCustom=[]),this.subs.sink=this.contractService.getAllFormContractManageProcesses({limit:500,page:e},this.filteredValues,this.sortValue,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(l=>{if(l&&l.length)this.allDataForCustom.push(...l),this.getAllDataWithCustomData(e+1,n);else{this.isLoading=!1;const c=this.dataSource.data.map(g=>g._id).filter(g=>!this.userSelectedId.includes(g)),m=this.allDataForCustom.filter(g=>!c.includes(g._id));"form"===n&&this.sendFormToAllTeacher(m)}},l=>{this.authService.postErrorLog(l),l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.authService.handlerSessionExpired():l&&l.message&&l.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getAllDataData(e,n){this.isLoading=!0,this.subs.sink=this.contractService.getAllFormContractManageProcesses({limit:500,page:e},this.filteredValues,this.sortValue,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(l=>{l&&l.length?(this.allDataForExport.push(...l),this.getAllDataData(e+1,n)):(this.isLoading=!1,"form"===n&&this.sendFormToAllTeacher(this.allDataForExport))},l=>{this.authService.postErrorLog(l),l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.authService.handlerSessionExpired():l&&l.message&&l.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}sendFormToAllTeacher(e){if(e&&e.length){const n=e.filter(i=>{if(i.steps&&i.steps.length)return i});this.isAllEmpty=!0,n&&n.length&&(this.isAllEmpty=!1)}this.selection.selected.length<1?u().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Teacher")}),confirmButtonText:this.translate.instant("Followup_S8.Button")}):this.subs.sink=this.dialog.open(lt,{width:"800px",panelClass:"certification-rule-pop-up",disableClose:!0,data:{type:"multiple",process:null,selection:e,selectAll:this.isAllSelected(),filter:this.filteredValues}}).afterClosed().subscribe(n=>{n&&(console.log(n),this.isLoading=!1,this.getAllContractProcess("send"))})}renderTooltipEntity(e){let n="",i=0;if(e&&e.length)for(const o of e)i++,i>1?o&&o.full_name&&(n+=", ",n+=o.full_name):o&&o.full_name&&(n+=o.full_name);return n}templateForImport(){const e={",":this.translate.instant("IMPORT_TEMPLATE_S1.COMMA"),";":this.translate.instant("IMPORT_TEMPLATE_S1.SEMICOLON"),tab:this.translate.instant("IMPORT_TEMPLATE_S1.TAB")};u().fire({type:"question",title:this.translate.instant("IMPORT_TEMPLATE_S1.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translate.instant("IMPORT_TEMPLATE_S1.CANCEL"),confirmButtonText:this.translate.instant("IMPORT_TEMPLATE_S1.OK"),input:"radio",inputValue:";",inputOptions:e}).then(n=>{console.log(n),n&&n.value&&this.downloadCSVTemplate(n.value)})}downloadCSVTemplate(e){let n=ut.N.apiUrl;n=n.replace("graphql","");const i=document.createElement("a");let d="downloadContractProcessTemplateCSV";d=d+"/"+e+"/"+this.translate.currentLang.toLowerCase(),i.href=n+d+"",i.target="_blank",i.download="Template Import CSV",document.body.appendChild(i),i.click(),document.body.removeChild(i)}onGoToForm(e){const n=this.authService.getCurrentUser().entities[0].type._id,i=this.router.createUrlTree(["/form-fill"],{queryParams:{formId:e._id,userId:this.authService.getCurrentUser()._id,formType:"teacher_contract",userTypeId:n}});window.open(i.toString(),"_blank")}onWhatsappContact(e){if(e){const n="https://api.whatsapp.com/send?phone="+e.portable_phone+"&text=",i=this.translate.instant("whatsapp message contract",{first_name:e.first_name,last_name:e.last_name,civility:e.civility});console.log("whatsAppText ",i),window.open(n+i,"_blank")}}onSendMail(e){e.student_id={civility:e.civility,first_name:e.first_name,last_name:e.last_name,email:e.email},this.dialog.open(Bt.U,{disableClose:!0,width:"750px",panelClass:"unset-padding",data:e})}onUploadDocument(e){this.subs.sink=this.dialog.open(Yt,{width:"600px",minHeight:"100px",disableClose:!0,data:e}).afterClosed().subscribe(n=>{n&&this.getAllContractProcess("upload")})}sendReminder(e){this.isTopWaitingForResponse=!0,this.subs.sink=this.contractService.SendEmailContractProcess(e,this.translate.currentLang).subscribe(n=>{this.isTopWaitingForResponse=!1,n&&u().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1})},n=>{this.authService.postErrorLog(n),n&&n.message&&(n.message.includes("jwt expired")||n.message.includes("str & salt required")||n.message.includes("Authorization header is missing")||n.message.includes("salt"))?this.authService.handlerSessionExpired():n&&n.message&&n.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}onDeleteProcess(e){var n=this;let i=5;u().fire({title:this.translate.instant("DELETE_ITEM_TEMPLATE.TITLE"),html:this.translate.instant("CONFIRMDELETE",{value:e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:""}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("THUMBSUP.SWEET_ALERT.CONFIRM",{timer:i}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{u().disableConfirmButton();const o=u().getConfirmButton(),l=setInterval(()=>{i-=1,o.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${i})`},1e3);this.timeOutVal=setTimeout(()=>{o.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),u().enableConfirmButton(),clearInterval(l),clearTimeout(this.timeOutVal)},1e3*i)}}).then(o=>{clearTimeout(this.timeOutVal),o.value&&(this.subs.sink=this.contractService.deleteContractProcess(e._id).subscribe(function(){var l=(0,D.Z)(function*(d){d&&(n.isLoading=!1,yield u().fire({type:"success",title:n.translate.instant("Bravo!"),confirmButtonText:n.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}),n.getAllContractProcess("delete"))});return function(d){return l.apply(this,arguments)}}(),l=>{this.authService.postErrorLog(l),l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.authService.handlerSessionExpired():l&&l.message&&l.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}translateDate(e,n){if(e&&n)return this.parseUTCtoLocal.transformDate(e,n)}handleError(e){u().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("OK")})}stepFiltered(){const e=this.optionalSteps.value.map(l=>({statuses:l,step_type_selected:"option"})),n=this.steps.value.map(l=>({statuses:l,step_type_selected:"mandatory"}));this.prevTotalStepMandatory=n?.length;let i=[...n,...e];i=i.map((l,d)=>{if(l?.statuses?.length)return{step:d,...l}}).filter(l=>l),this.paginator.pageIndex=0,JSON.stringify(i?.length?i:null)!==JSON.stringify(this.filteredValues.steps)&&(i.length>0?(this.filteredValues.steps=i,console.log("after clone",this.filteredValues.steps),this.getAllContractProcess("steps filter")):(this.filteredValues.steps=null,this.getAllContractProcess("steps filter")))}checkRowSelect(){let e=!1;return this.userSelected.length>0&&(e=!0),e}getTemplatePDF(e){this.isTopWaitingForResponse=!0;const i=e.steps.find(o=>"step_with_signing_process"===o.step_type);this.subs.sink=this.formFillingService.generateFormBuilderContractTemplatePDF(i.form_builder_step._id,!1,this.translate.currentLang,i._id).subscribe(o=>{if(console.log(o),this.isTopWaitingForResponse=!1,o&&(console.log("getPDF>>",o),o)){const l=document.createElement("a");l.setAttribute("type","hidden"),l.href=`${ut.N.apiUrl}/fileuploads/${o}`.replace("/graphql",""),l.target="_blank",l.click(),l.remove()}},o=>{this.isTopWaitingForResponse=!1,this.authService.postErrorLog(o),o&&o.message&&(o.message.includes("jwt expired")||o.message.includes("str & salt required")||o.message.includes("Authorization header is missing")||o.message.includes("salt"))?this.authService.handlerSessionExpired():o&&o.message&&o.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}renderTooltipIntervenant(e){let n="",i=0;if(null!==e)for(const o of e)if(o){i++,i>1&&(n+=", ");const l=o.program&&o.program.program?o.type_intervention&&o.subject_id&&o.subject_id.short_name?" - "+o.program.program:o.program.program:"",d=o.subject_id&&o.subject_id.short_name?o.type_intervention?" - "+o.subject_id.short_name:o.subject_id.short_name:"";n+=(o.type_intervention?this.translate.instant(o.type_intervention):"")+d+l}return n}openNewTab(e,n){if(n){const o=this.router.createUrlTree(["teacher-contract/contract-process"],{queryParams:{contractId:n,fromContractManagement:"true"}});window.open(o.toString(),"_blank")}else window.open(e,"_blank")}getTextForSigningProgressStatus(e){const n=this.translate.instant("in_progress_of_signing"),i=[],o=e&&e.length?e.find(l=>l&&!l.is_already_sign):null;if(o&&o.user_id){const l=o.user_id;l.civility&&"neutral"!==l.civility&&i.push(this.translate.instant(l.civility)),l.last_name&&i.push(String(l.last_name).toLocaleUpperCase()),l.first_name&&i.push(String(l.first_name))}return i.length?`${n} - ${i.join(" ")}`:n}ngOnDestroy(){this.subs.unsubscribe(),this.pageTitleService.setTitle(null)}getAllContractForSendForm(e,n){if(console.log("unselect",this.dataUnselectUser),"sendForm"===this.buttonClicked)if(this.isCheckedAll){0===e&&(this.allContractForSendForm=[],this.dataSelected=[]);const i={limit:500,page:e};this.isLoading=!0;const o=this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[],l=this.cleanFilterData();this.contractService.getDataContractForSendForm(i,l,this.sortValue,o).subscribe(d=>{if(d&&d.length){const c=S.cloneDeep(d);this.allContractForSendForm=S.concat(this.allContractForSendForm,c),this.getAllContractForSendForm(e+1,n)}else this.isLoading=!1,this.isCheckedAll&&this.allContractForSendForm&&this.allContractForSendForm.length&&(this.dataSelected=this.allContractForSendForm.filter(c=>!this.dataUnselectUser.includes(c._id)),this.dataSelected=S.uniqBy(this.dataSelected,"_id"),console.log("getDataContractForSendForm",this.dataSelected),this.dataSelected&&this.dataSelected.length&&this.onSendingPreContract("multiple"))},d=>{this.isReset=!1,this.isLoading=!1,u().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:this.translate.instant("OK")})})}else this.onSendingPreContract("multiple")}controllerButton(e){"sendForm"===e?setTimeout(()=>{this.getAllContractForSendForm(0,"sendForm")},500):this.resetFilter()}checkFilteredSteps(e){return this.filteredValues.steps.findIndex(i=>i.step===e&&"mandatory"===i?.step_type_selected)}checkFilteredOptionalSteps(e){return this.filteredValues.steps.findIndex(i=>i.step===e&&"option"===i?.step_type_selected)}filterBreadcrumbFormat(){const e=[];this.stepColumnsBreadCrumb=this.stepColumns?.length?this.stepColumns:[],this.stepColumnsBreadCrumb?.length&&this.stepColumnsBreadCrumb.forEach((o,l)=>{const d={type:"table_filter",stepColumnName:"TEST.STEP",name:this.steps?.controls[l]?.value?.length&&this.steps?.controls[l]?.value?.length!==this.stepStatusList?.length?"statuses":l.toString(),column:l+1,isMultiple:this.steps?.controls[l]?.value?.length!==this.stepStatusList?.length,filterValue:this.steps?.controls[l]?.value?.length===this.stepStatusList?.length?this.filteredValuesAll:this.filteredValues?.steps?.length&&-1!==this.checkFilteredSteps(l)?this.filteredValues?.steps[this.checkFilteredSteps(l)]:null,filterList:this.steps?.controls[l]?.value?.length===this.stepStatusList?.length?null:this.stepStatusList,filterRef:this.steps?.controls[l],displayKey:this.steps?.controls[l]?.value?.length===this.stepStatusList?.length?null:"value",savedValue:this.steps?.controls[l]?.value?.length===this.stepStatusList?.length?null:"value",isSelectionInput:this.steps?.controls[l]?.value?.length!==this.stepStatusList?.length,resetValue:null,translationPrefix:this.steps?.controls[l]?.value?.length!==this.stepStatusList?.length?"CONTRACT_MANAGEMENT.Step_Statuses.":null};e.push(d)});const n=[];this.optionColumnsBreadCrumb=this.optionalStepColumns?.length?this.optionalStepColumns:[],this.optionColumnsBreadCrumb?.length&&this.optionColumnsBreadCrumb.forEach((o,l)=>{const d={type:"table_filter",name:this.optionalSteps?.controls[l]?.value?.length&&this.optionalSteps?.controls[l]?.value?.length!==this.stepStatusList?.length?"statuses":l.toString(),column:`O${l+1}`,isMultiple:this.optionalSteps?.controls[l]?.value?.length!==this.stepStatusList?.length,filterValue:this.optionalSteps?.controls[l]?.value?.length===this.stepStatusList?.length?this.filteredValuesAll:this.filteredValues?.steps?.length&&-1!==this.checkFilteredSteps(l)?this.filteredValues?.steps[this.checkFilteredSteps(l)]:null,filterList:this.optionalSteps?.controls[l]?.value?.length===this.stepStatusList?.length?null:this.stepStatusList,filterRef:this.optionalSteps?.controls[l],displayKey:this.optionalSteps?.controls[l]?.value?.length===this.stepStatusList?.length?null:"value",savedValue:this.optionalSteps?.controls[l]?.value?.length===this.stepStatusList?.length?null:"value",isSelectionInput:this.optionalSteps?.controls[l]?.value?.length!==this.stepStatusList?.length,resetValue:null,translationPrefix:this.optionalSteps?.controls[l]?.value?.length!==this.stepStatusList?.length?"CONTRACT_MANAGEMENT.Step_Statuses.":null};n.push(d)});const i=[...e,...n,{type:"table_filter",name:"teacher",column:"CONTRACT_MANAGEMENT.teacher",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.teacherFilter,isSelectionInput:!1,displayKey:null,savedValue:null,noTranslate:!0},{type:"table_filter",name:"contract_types",column:"CONTRACT_MANAGEMENT.contract_type",isMultiple:this.contractTypeFilter?.value?.length!==this.typeOfConracts?.length,filterValue:this.contractTypeFilter?.value?.length===this.typeOfConracts?.length?this.filteredValuesAll:this.filteredValues,filterList:this.contractTypeFilter?.value?.length===this.typeOfConracts?.length?null:this.typeOfConracts,filterRef:this.contractTypeFilter,displayKey:this.contractTypeFilter?.value?.length===this.typeOfConracts?.length?null:"value",savedValue:this.contractTypeFilter?.value?.length===this.typeOfConracts?.length?null:"value",isSelectionInput:this.contractTypeFilter?.value?.length!==this.typeOfConracts?.length,translationPrefix:this.contractTypeFilter?.value?.length!==this.typeOfConracts?.length?"ERP_009_TEACHER_CONTRACT.TYPE_OF_CONTRACT.":null},{type:"table_filter",name:"intervention_numbers",column:"Number of intervention",isMultiple:this.numberInterventionFilter?.value?.length!==this.numberIntervention?.length,filterValue:this.numberInterventionFilter?.value?.length===this.numberIntervention?.length?this.filteredValuesAll:this.filteredValues,filterList:this.numberInterventionFilter?.value?.length===this.numberIntervention?.length?null:this.numberIntervention,filterRef:this.numberInterventionFilter,displayKey:null,savedValue:null,isSelectionInput:this.numberInterventionFilter?.value?.length!==this.numberIntervention?.length},{type:"table_filter",name:"email",column:"CONTRACT_MANAGEMENT.email",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.emailFilter,isSelectionInput:!1,displayKey:null,savedValue:null,noTranslate:!0},{type:"table_filter",name:"phone",column:"CONTRACT_MANAGEMENT.phone",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.phoneFilter,isSelectionInput:!1,displayKey:null,savedValue:null,noTranslate:!0},{type:"table_filter",name:"start_date",column:"CONTRACT_MANAGEMENT.start",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.startDateFilter,isSelectionInput:!1,displayKey:null,savedValue:null},{type:"table_filter",name:"end_date",column:"CONTRACT_MANAGEMENT.end",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.endDateFilter,isSelectionInput:!1,displayKey:null,savedValue:null},{type:"table_filter",name:"contract_manager",column:"Contract Manager",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.contractManagerFilter,isSelectionInput:!1,displayKey:null,savedValue:null,noTranslate:!0},{type:"table_filter",name:"contract_statuses",column:"CONTRACT_MANAGEMENT.Contract Process Status",isMultiple:this.statusFilter?.value?.length!==this.statusList?.length,filterValue:this.statusFilter?.value?.length===this.statusList?.length?this.filteredValuesAll:this.filteredValues,filterList:this.statusFilter?.value?.length===this.statusList?.length?null:this.statusList,filterRef:this.statusFilter,displayKey:this.statusFilter?.value?.length===this.statusList?.length?null:"value",savedValue:this.statusFilter?.value?.length===this.statusList?.length?null:"value",isSelectionInput:this.statusFilter?.value?.length!==this.statusList?.length,translationPrefix:this.statusFilter?.value?.length!==this.statusList?.length?"CONTRACT_MANAGEMENT.Statuses.":null}];this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat(i,this.filterBreadcrumbData),console.log("cek filter data breadcrumb",this.filterBreadcrumbData)}removeFilterBreadcrumb(e){if(e){if("statuses"===e?.name&&"number"==typeof e?.column&&this.filteredValues?.steps?.length){const n=this.checkFilteredSteps(e?.column-1);this.filterBreadCrumbService.removeFilterBreadcrumb(e,null,null),this.filteredValues?.steps?.splice(n,1)}else if("statuses"===e?.name&&"string"==typeof e?.column&&this.filteredValues?.steps?.length){const n=e?.column?.slice(1),i=this.checkFilteredOptionalSteps(Number(n)-1);this.filterBreadCrumbService.removeFilterBreadcrumb(e,null,null),this.filteredValues?.steps?.splice(i,1)}else this.filterBreadCrumbService.removeFilterBreadcrumb(e,null,this.filteredValues);this.getAllContractProcess()}}isAllDropdownSelected(e,n){if("typeOfContract"===e){const i=this.contractTypeFilter.value;return i&&0!==i.length&&i.length===this.typeOfConracts.length}if("numberIntervention"===e){const i=this.numberInterventionFilter.value;return i&&0!==i.length&&i.length===this.numberIntervention.length}if("status"===e){const i=this.statusFilter.value;return i&&0!==i.length&&i.length===this.statusList.length}if("steps"===e){const i=this.steps.controls[n].value;return i&&0!==i.length&&i.length===this.stepStatusList.length}if("optionalSteps"===e){const i=this.optionalSteps.controls[n].value;return i&&0!==i.length&&i.length===this.stepStatusList.length}}isSomeDropdownSelected(e,n){if("typeOfContract"===e){const i=this.contractTypeFilter.value;return i&&0!==i.length&&i.length!==this.typeOfConracts.length}if("numberIntervention"===e){const i=this.numberInterventionFilter.value;return i&&0!==i.length&&i.length!==this.numberIntervention.length}if("status"===e){const i=this.statusFilter.value;return i&&0!==i.length&&i.length!==this.statusList.length}if("steps"===e){const i=this.steps.controls[n].value;return i&&0!==i.length&&i.length!==this.stepStatusList.length}if("optionalSteps"===e){const i=this.optionalSteps.controls[n].value;return i&&0!==i.length&&i.length!==this.stepStatusList.length}}selectAllData(e,n,i){if("typeOfContract"===n)if(e.checked){const o=this.typeOfConracts.map(l=>l?.value);this.contractTypeFilter.patchValue(o)}else this.contractTypeFilter.patchValue(null);else if("numberIntervention"===n)if(e.checked){const o=this.numberIntervention.map(l=>l);this.numberInterventionFilter.patchValue(o)}else this.numberInterventionFilter.patchValue(null);else if("status"===n)if(e.checked){const o=this.statusList.map(l=>l?.value);this.statusFilter.patchValue(o)}else this.statusFilter.patchValue(null);else if("steps"===n)if(e.checked){const o=this.stepStatusList.map(l=>l.value);this.steps.controls[i].patchValue(o)}else this.steps.controls[i].patchValue(null);else if("optionalSteps"===n)if(e.checked){const o=this.stepStatusList.map(l=>l.value);this.optionalSteps.controls[i].patchValue(o)}else this.optionalSteps.controls[i].patchValue(null)}selectedMultipleFilter(e){if(this.isMultipleFilter){this.isMultipleFilter=!1;const n="typeOfContract"===e?this.contractTypeFilter.value:"numberIntervention"===e?this.numberInterventionFilter.value:"status"===e?this.statusFilter.value:null;if("typeOfContract"===e){const i=n?.length?n.map(o=>this.utilService.simpleDiacriticSensitiveRegex(o.toLowerCase())):null;this.filteredValues.contract_types=i?.length?i:null}else"numberIntervention"===e?this.filteredValues.intervention_numbers=n?.length?n:null:"status"===e&&(this.filteredValues.contract_statuses=n?.length?n:null);this.paginator.pageIndex=0,this.getAllContractProcess("contractTypeFilter")}}}return a.\u0275fac=function(e){return new(e||a)(t.\u0275\u0275directiveInject(I.F0),t.\u0275\u0275directiveInject(N.uw),t.\u0275\u0275directiveInject(W.sK),t.\u0275\u0275directiveInject(Q.e),t.\u0275\u0275directiveInject(z.I),t.\u0275\u0275directiveInject($t.d),t.\u0275\u0275directiveInject(q.t),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(zt.p),t.\u0275\u0275directiveInject(rt.t),t.\u0275\u0275directiveInject(qt.YI),t.\u0275\u0275directiveInject(Qt.$),t.\u0275\u0275directiveInject(I.gz),t.\u0275\u0275directiveInject(Xt.q),t.\u0275\u0275directiveInject(ht.Z))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["ms-contract-management-table"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(R.NW,7),t.\u0275\u0275viewQuery(b.YE,7),t.\u0275\u0275viewQuery(te,5)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.paginator=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.sort=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.table=i.first)}},features:[t.\u0275\u0275ProvidersFeature([rt.t])],decls:112,vars:39,consts:[[1,"top-space"],[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"horizontal","header-button","header-action"],[1,"text-right",2,"display","inline-block","float","right"],[1,"text-right","text-count"],["style","font-family: 'firaSans' !important",4,"ngIf"],["mat-raised-button","","color","accent",2,"padding","0px 7px !important",3,"matTooltip","disabled","matMenuTriggerFor"],["action","matMenu"],["mat-menu-item","","class","border-button",3,"matTooltip","click",4,"ngIf"],["mat-menu-item","",3,"matTooltip","click",4,"ngIf"],["style","padding: 0px 7px !important","color","primary","mat-raised-button","",3,"matTooltip","disabled","click",4,"ngIf"],[1,"horizontal","mat-elevation-z8","follow-up-table"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matTable",""],["matColumnDef","selectFilter","sticky","",1,"mat-column-select"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","teacherFilter","sticky",""],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["matColumnDef","contractTypeFilter","sticky",""],["mat-header-cell","","class","text-center custom-filter-table","style","vertical-align: unset !important",4,"matHeaderCellDef"],["matColumnDef","numberOfInterventionFilter","sticky",""],["matColumnDef","emailFilter","sticky",""],["matColumnDef","phoneFilter","sticky",""],["matColumnDef","programFilter","sticky",""],["mat-header-cell","","class","text-center",3,"hidden",4,"matHeaderCellDef"],["matColumnDef","interventionFilter"],["matColumnDef","subjectFilter"],["matColumnDef","startFilter"],["matColumnDef","endFilter"],["matColumnDef","intervenantFilter"],["matColumnDef","contractManagerFilter"],[4,"ngIf"],["matColumnDef","contract_process_status_filter","stickyEnd",""],["mat-header-cell","","class","text-center","style","vertical-align: unset; padding-top: 5px !important",4,"matHeaderCellDef"],["matColumnDef","actionFilter","stickyEnd",""],["matColumnDef","select","sticky","",1,"mat-column-select"],["mat-header-cell","","class","text-center no-border",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","teacher","sticky",""],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","contract_type","sticky",""],["matColumnDef","numberOfIntervention","sticky",""],["mat-sort-header","intervention_number","mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","email","sticky",""],["matColumnDef","phone","sticky",""],["matColumnDef","program","sticky",""],["mat-header-cell","","matTooltipPosition","above",3,"hidden","matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"hidden","matTooltip",4,"matCellDef"],["matColumnDef","intervention"],["matColumnDef","subject"],["matColumnDef","start"],["matColumnDef","end"],["matColumnDef","intervenant"],["matColumnDef","contractManager"],["mat-header-cell","","matTooltipPosition","above","style","text-align: center !important",3,"matTooltip",4,"matHeaderCellDef"],["class","scroll-eval",4,"ngIf"],["matColumnDef","contract_process_status","stickyEnd",""],["matColumnDef","action","stickyEnd",""],["mat-cell","","class","action-buttons",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","23","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",3,"ngClass",4,"ngIf"],[1,"horizontal",2,"margin-bottom","40px"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["class","loading-indicator",4,"ngIf"],[2,"font-family","'firaSans' !important"],["mat-menu-item","",1,"border-button",3,"matTooltip","click"],["mat-menu-item","",3,"matTooltip","click"],["color","primary","mat-raised-button","",2,"padding","0px 7px !important",3,"matTooltip","disabled","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell",""],["mat-header-cell","",1,"text-center"],["matInput","",1,"form-field",3,"placeholder","formControl"],["mat-header-cell","",1,"text-center","custom-filter-table",2,"vertical-align","unset !important"],["bindValue","value","bindLabel","label",1,"custom-dropdownpanel-contract",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["ng-option-tmp",""],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],[1,"custom-dropdownpanel-contract",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["mat-header-cell","",1,"text-center",3,"hidden"],[1,"program-dropdown","auto-grow",3,"appendTo","placeholder","formControl","clearable"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"auto-grow","program-dropdown",3,"appendTo","placeholder","formControl","clearable"],[1,"example-full-width"],["matInput","","readonly","","placeholder","Date",3,"formControl","matDatepicker","click"],["matSuffix","",2,"margin-right","5px",3,"for"],["startDatePicker",""],["endDatePicker",""],[3,"matColumnDef",4,"ngFor","ngForOf"],[3,"matColumnDef"],["mat-header-cell","","class","text-center custom-panel-dropdown","style","vertical-align: unset; padding-top: 5px !important",4,"matHeaderCellDef"],["mat-header-cell","",1,"text-center","custom-panel-dropdown",2,"vertical-align","unset","padding-top","5px !important"],["bindLabel","label","bindValue","value",1,"custom-dropdownpanel-contract",3,"formControl","items","appendTo","multiple","notFoundText","placeholder","clearable","closeOnSelect","close"],["mat-header-cell","",1,"text-center",2,"vertical-align","unset","padding-top","5px !important"],["bindLabel","label","bindValue","value",1,"custom-dropdownpanel-contract",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["mat-header-cell","",1,"text-center","no-border"],[2,"padding-top","0.5rem",3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-sort-header","teacher"],["mat-cell","",3,"matTooltip"],["mat-sort-header","contract_type"],["mat-sort-header","intervention_number","mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-sort-header","email"],["mat-sort-header","phone"],["mat-header-cell","","matTooltipPosition","above",3,"hidden","matTooltip"],["mat-sort-header","program"],["mat-cell","",3,"hidden","matTooltip"],["mat-sort-header","intervention"],[4,"ngFor","ngForOf"],[1,"tags"],["mat-sort-header","start_date"],["mat-sort-header","end_date"],["mat-header-cell","","matTooltipPosition","above",2,"text-align","center !important",3,"matTooltip"],["mat-sort-header","contract_manager"],[1,"scroll-eval"],[4,"ngIf","ngIfElse"],["otherCondition",""],["class","mat-icon-status","aria-hidden","true",3,"matTooltip","ngClass",4,"ngIf"],["aria-hidden","true",1,"mat-icon-status",3,"matTooltip","ngClass"],[2,"color","#b7b7b7"],["viewBox","0 0 24 24",2,"width","24px","height","24px"],["fill","currentColor","d","M9.75 20.85C11.53 20.15 11.14 18.22 10.24 17C9.35 15.75 8.12 14.89 6.88 14.06C6 13.5 5.19 12.8 4.54 12C4.26 11.67 3.69 11.06 4.27 10.94C4.86 10.82 5.88 11.4 6.4 11.62C7.31 12 8.21 12.44 9.05 12.96L10.06 11.26C8.5 10.23 6.5 9.32 4.64 9.05C3.58 8.89 2.46 9.11 2.1 10.26C1.78 11.25 2.29 12.25 2.87 13.03C4.24 14.86 6.37 15.74 7.96 17.32C8.3 17.65 8.71 18.04 8.91 18.5C9.12 18.94 9.07 18.97 8.6 18.97C7.36 18.97 5.81 18 4.8 17.36L3.79 19.06C5.32 20 7.88 21.47 9.75 20.85M20.84 5.25C21.06 5.03 21.06 4.67 20.84 4.46L19.54 3.16C19.33 2.95 18.97 2.95 18.76 3.16L17.74 4.18L19.82 6.26M11 10.92V13H13.08L19.23 6.85L17.15 4.77L11 10.92Z"],["aria-hidden","true",1,"orange","mat-icon-status",3,"matTooltip"],["mat-cell","",1,"action-buttons"],["mat-icon-button","","class","margin-right-button",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","","class","margin-right-button",3,"matTooltip","disabled","click",4,"ngIf"],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"margin-right-button",3,"disabled","matTooltip","click"],["svgIcon","eye"],["mat-icon-button","",1,"margin-right-button",3,"matTooltip","disabled","click"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"disabled","matTooltip","click"],["mat-header-cell","","colspan","23",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records",3,"ngClass"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"ms-filter-breadcrumb",1),t.\u0275\u0275listener("removeFilterTrigger",function(o){return n.removeFilterBreadcrumb(o)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4),t.\u0275\u0275template(5,ee,3,4,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementStart(10,"mat-icon"),t.\u0275\u0275text(11,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"mat-menu",null,7),t.\u0275\u0275template(14,ne,4,6,"button",8),t.\u0275\u0275template(15,ae,4,6,"button",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(16,ie,5,7,"button",10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(17,"div",11)(18,"table",12,13),t.\u0275\u0275listener("matSortChange",function(o){return n.sortData(o)}),t.\u0275\u0275elementContainerStart(20,14),t.\u0275\u0275template(21,oe,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,16),t.\u0275\u0275template(23,le,4,4,"th",17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,18),t.\u0275\u0275template(25,pe,6,13,"th",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(26,20),t.\u0275\u0275template(27,_e,6,13,"th",17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(28,21),t.\u0275\u0275template(29,he,4,4,"th",17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(30,22),t.\u0275\u0275template(31,ge,4,4,"th",17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(32,23),t.\u0275\u0275template(33,Ce,7,11,"th",24),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(34,25),t.\u0275\u0275template(35,be,7,11,"th",24),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(36,26),t.\u0275\u0275template(37,xe,7,11,"th",24),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(38,27),t.\u0275\u0275template(39,ye,6,3,"th",17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(40,28),t.\u0275\u0275template(41,Se,6,3,"th",17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(42,29),t.\u0275\u0275template(43,Oe,1,0,"th",17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(44,30),t.\u0275\u0275template(45,Fe,2,1,"th",17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(46,we,2,1,"div",31),t.\u0275\u0275template(47,Le,2,1,"div",31),t.\u0275\u0275elementContainerStart(48,32),t.\u0275\u0275template(49,Ke,6,13,"th",33),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(50,34),t.\u0275\u0275template(51,He,1,0,"th",17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(52,35),t.\u0275\u0275template(53,Ge,2,3,"th",36),t.\u0275\u0275template(54,Ye,2,2,"td",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(55,38),t.\u0275\u0275template(56,$e,5,6,"th",39),t.\u0275\u0275template(57,ze,6,14,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(58,41),t.\u0275\u0275template(59,qe,5,6,"th",39),t.\u0275\u0275template(60,Qe,4,6,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(61,42),t.\u0275\u0275template(62,Xe,5,6,"th",43),t.\u0275\u0275template(63,Ze,2,2,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(64,44),t.\u0275\u0275template(65,Je,5,6,"th",39),t.\u0275\u0275template(66,tn,2,2,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(67,45),t.\u0275\u0275template(68,en,5,6,"th",39),t.\u0275\u0275template(69,nn,2,2,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(70,46),t.\u0275\u0275template(71,an,5,7,"th",47),t.\u0275\u0275template(72,on,2,3,"td",48),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(73,49),t.\u0275\u0275template(74,ln,5,7,"th",47),t.\u0275\u0275template(75,rn,4,7,"td",48),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(76,50),t.\u0275\u0275template(77,sn,5,7,"th",47),t.\u0275\u0275template(78,pn,2,3,"td",48),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(79,51),t.\u0275\u0275template(80,dn,5,6,"th",39),t.\u0275\u0275template(81,mn,2,2,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(82,52),t.\u0275\u0275template(83,un,5,6,"th",39),t.\u0275\u0275template(84,_n,2,2,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(85,53),t.\u0275\u0275template(86,hn,5,6,"th",39),t.\u0275\u0275template(87,fn,2,2,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(88,54),t.\u0275\u0275template(89,Cn,5,6,"th",55),t.\u0275\u0275template(90,vn,6,14,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(91,Fn,2,1,"div",56),t.\u0275\u0275template(92,Bn,2,1,"div",56),t.\u0275\u0275elementContainerStart(93,57),t.\u0275\u0275template(94,Rn,6,3,"th",39),t.\u0275\u0275template(95,jn,3,2,"td",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(96,58),t.\u0275\u0275template(97,Wn,5,6,"th",39),t.\u0275\u0275template(98,Xn,9,8,"td",59),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(99,60),t.\u0275\u0275template(100,Zn,3,0,"th",61),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(101,Jn,1,0,"tr",62),t.\u0275\u0275template(102,ta,1,0,"tr",62),t.\u0275\u0275template(103,ea,1,1,"tr",63),t.\u0275\u0275template(104,na,1,1,"tr",64),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(105,aa,3,6,"div",65),t.\u0275\u0275pipe(106,"async"),t.\u0275\u0275elementStart(107,"div",66)(108,"div",67),t.\u0275\u0275pipe(109,"async"),t.\u0275\u0275element(110,"mat-paginator",68),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(111,ia,2,0,"div",69)),2&e){const i=t.\u0275\u0275reference(13);t.\u0275\u0275advance(1),t.\u0275\u0275property("filterBreadcrumbData",n.filterBreadcrumbData),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",(null==n.dataSelected?null:n.dataSelected.length)||n.isCheckedAll&&n.dataCount),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(7,25,"Action")," "),t.\u0275\u0275property("disabled",n.isLoading)("matMenuTriggerFor",i),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,27,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",n.permission.templateForImportContractManagementPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.importContractManagementPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.resetContractManagementPerm()),t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(28),t.\u0275\u0275property("ngIf",n.stepColumns&&n.stepColumns.length&&(null==n.steps?null:n.steps.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.optionalStepColumns&&n.optionalStepColumns.length&&(null==n.optionalSteps?null:n.optionalSteps.length)),t.\u0275\u0275advance(44),t.\u0275\u0275property("ngIf",n.stepColumns&&(null==n.stepColumns?null:n.stepColumns.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.optionalStepColumns&&(null==n.optionalStepColumns?null:n.optionalStepColumns.length)),t.\u0275\u0275advance(9),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(33,oa)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(106,29,n.noData)),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(34,Ct,t.\u0275\u0275pipeBind1(109,31,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(36,la,n.dataCount<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(38,ra)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isTopWaitingForResponse)}},dependencies:[C.mk,C.sg,C.O5,k.lW,Zt.oG,Z.Mq,Z.hl,Z.nW,f.Hw,H.KE,H.R9,O.Nt,mt.VK,mt.OP,mt.p6,R.NW,M.Ou,b.YE,b.nU,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.ge,y.ev,y.XQ,y.Gk,gt.gM,s.DefaultValueAccessor,s.CheckboxControlValueAccessor,s.NgControlStatus,s.NgModel,s.FormControlDirective,x.oO,Jt.r,A.w9,A.jq,A.ir,A.Cm,C.Ov,C.gd,W.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}@font-face{font-family:firaSans;src:url(FiraSansExtraCondensed-Regular.4f3f4d10e46c8043.woff)}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.pad-top-miss[_ngcontent-%COMP%]{padding-top:1.8px!important}.form-field[_ngcontent-%COMP%]{margin-top:.5px}.horizontal[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden}.text-count[_ngcontent-%COMP%]{display:inline-block;float:left;padding-top:4px;font-family:firaSans!important;font-size:16px!important;color:#fff!important;position:absolute;left:22px}.tag-container[_ngcontent-%COMP%]{white-space:normal;text-align:left!important;line-height:2.3;overflow-wrap:break-word}.green[_ngcontent-%COMP%], .greenSubmitted[_ngcontent-%COMP%]{color:#adff2f}.no-border[_ngcontent-%COMP%]{border-bottom:none}.no-background[_ngcontent-%COMP%]{background:transparent}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%], .mat-column-teacher[_ngcontent-%COMP%], .mat-column-teacherFilter[_ngcontent-%COMP%], .mat-column-email[_ngcontent-%COMP%], .mat-column-emailFilter[_ngcontent-%COMP%], .mat-column-phone[_ngcontent-%COMP%], .mat-column-phoneFilter[_ngcontent-%COMP%], .mat-column-program[_ngcontent-%COMP%], .mat-column-programFilter[_ngcontent-%COMP%], .mat-column-contract_type[_ngcontent-%COMP%], .mat-column-contractTypeFilter[_ngcontent-%COMP%], .mat-column-contractManager[_ngcontent-%COMP%], .mat-column-contractManagerFilter[_ngcontent-%COMP%]{text-align:center;z-index:999!important;box-shadow:1px 1px #545454}[_nghost-%COMP%]     table .mat-column-numberOfInterventionFilter .ng-select{margin-top:9px}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{text-align:left;padding-left:10px;margin:0!important;padding:4px!important}[_nghost-%COMP%]     table tr td .mat-form-field, [_nghost-%COMP%]     table tr th .mat-form-field{max-width:90%;width:90%}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){min-width:40px;max-width:40px;width:40px;padding:0;margin:0;text-align:center;vertical-align:middle;box-shadow:inset 1px 0 1px #545454}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){min-width:180px;width:10%;text-align:left;padding-left:.5rem!important;padding-right:.5rem!important;vertical-align:middle;box-shadow:inset 1px 0 1px #545454}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:95%;padding-top:6px!important}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){min-width:150px;max-width:150px;width:8%;padding-left:.5rem!important;padding-right:.5rem!important;vertical-align:middle;box-shadow:inset 1px 0 1px #545454}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){min-width:100px;max-width:100px;width:5%;text-align:center;padding-left:.5rem!important;padding-right:.5rem!important;box-shadow:inset 1px 0 1px #545454}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){min-width:170px;width:8%;text-align:left;vertical-align:middle;padding-left:.5rem!important;padding-right:.5rem!important;box-shadow:inset 1px 0 1px #545454}[_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{width:95%;padding-top:6px!important}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){min-width:140px;width:8%;text-align:left;vertical-align:middle;box-shadow:inset 1px 0 1px #545454;border-right:1px solid #545454;padding-left:.5rem!important;padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(6) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(6) .mat-form-field{width:95%;padding-top:6px!important}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){min-width:100px;width:8%;vertical-align:middle;border-left:none;box-shadow:inset 1px 0 1px #545454;padding-left:.5rem!important;padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(7) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(7) .mat-form-field{width:95%;padding-top:6px!important}[_nghost-%COMP%]     table tr td:nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){min-width:100px;width:8%;vertical-align:middle;box-shadow:inset 1px 0 1px #545454;padding-left:.5rem!important;padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(8) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(8) .mat-form-field{width:95%;padding-top:6px!important}[_nghost-%COMP%]     table tr td:nth-child(9), [_nghost-%COMP%]     table tr th:nth-child(9){min-width:250px;width:15%;padding-left:10px!important;padding-right:5px!important;vertical-align:middle;box-shadow:inset 1px 0 1px #545454}[_nghost-%COMP%]     table tr td:nth-child(10), [_nghost-%COMP%]     table tr th:nth-child(10){min-width:170px!important;padding-left:10px!important;width:10%;text-align:left!important;vertical-align:middle;box-shadow:inset 1px 0 1px #545454}[_nghost-%COMP%]     table tr td:nth-child(10) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(10) .mat-form-field{width:95%;padding-top:6px!important}[_nghost-%COMP%]     table tr td:nth-child(n+10), [_nghost-%COMP%]     table tr th:nth-child(n+10){width:50px;min-width:95px;max-width:95px;text-align:center;padding:0;vertical-align:middle;box-shadow:inset 1px 0 1px #545454;padding-left:.5rem!important;padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:nth-last-child(2), [_nghost-%COMP%]     table tr th:nth-last-child(2){min-width:95px;max-width:95px;padding-left:.5rem!important;padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:last-child, [_nghost-%COMP%]     table tr th:last-child{text-align:center;padding:0;width:200px;min-width:240px;vertical-align:middle;box-shadow:1px 0 1px #545454;border-left:1px solid #545454}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr td .mat-icon-status{font-size:14px;text-align:center;vertical-align:middle;padding-right:0}[_nghost-%COMP%]     table tr th{vertical-align:top;text-align:center!important;font-family:firaSans!important;background-clip:padding-box;padding:0;margin:0}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(1), [_nghost-%COMP%]     table thead tr:nth-child(2){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(1) th, [_nghost-%COMP%]     table thead tr:nth-child(2) th{color:#fff}.orange[_ngcontent-%COMP%]{color:orange}.person-image[_ngcontent-%COMP%]{display:inline-block;margin-right:0;height:18px;width:18px;vertical-align:baseline}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.school-backdrop[_ngcontent-%COMP%] + .cdk-overlay-pane[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:visible}.mat-column-select[_ngcontent-%COMP%]{overflow:initial}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.pc-section[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:5px;display:inline-block}.cr-section[_ngcontent-%COMP%]{width:50%;text-align:left;display:inline-block}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgba(255,255,255,.7)!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}.custom-filter-table[_ngcontent-%COMP%]     .ng-select{width:90%!important;padding:2px!important;margin:10px 0 0 5px!important}.custom-filter-table-student-type[_ngcontent-%COMP%]     .ng-select{width:85%!important;padding:2px!important;margin:1px 0 0 5px!important}.custom-filter-table-student-status[_ngcontent-%COMP%]     .ng-select{width:85%!important;padding:2px!important;margin:1px 0!important}.custom-filter-table-profile-rate[_ngcontent-%COMP%]     .ng-select{width:85%!important;padding:2px!important;margin:1px 0 0 5px!important}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container{width:12px;height:12px;margin-left:7px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background{background-color:transparent}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-checkmark .mat-checkbox-checkmark-path{stroke:#000!important}  .all-input.mat-checkbox-indeterminate .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-mixedmark{background-color:#000!important}.float-label[_ngcontent-%COMP%]{font-size:.82rem;color:#ffffff78;font-weight:600;position:absolute;top:-3px}  .filterPanel{margin-top:25px!important}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:0!important;top:auto!important;padding-bottom:0!important}.text-count[_ngcontent-%COMP%]{display:inline-block;float:left;padding-top:4px!important;padding:0 10px}.top-filter[_ngcontent-%COMP%]{margin-top:15px;padding-bottom:30px}  .no-padding .mat-dialog-container{padding:0!important}  .unset-padding .mat-dialog-container{padding:24px!important}.black[_ngcontent-%COMP%]{color:#000}.green[_ngcontent-%COMP%]{color:#adff2f}.orange[_ngcontent-%COMP%]{color:#f49f36}.yellow[_ngcontent-%COMP%]{color:#ffd740}.greensubmitted[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:purple}.magenta[_ngcontent-%COMP%]{color:#f0f}.cyan[_ngcontent-%COMP%]{color:#0ff}.greenyellow[_ngcontent-%COMP%]{color:#adff2f}.green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#adff2f}.red-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#ff4040}.black-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#000}.cyan-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#0ff}.magenta-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#f0f}.white[_ngcontent-%COMP%]{color:#fff}.red[_ngcontent-%COMP%]{color:#ff4040}.header-action[_ngcontent-%COMP%]{font-family:firaSans!important;height:50px;padding:8px;background:#424242}.follow-up-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:unset!important}.hours[_ngcontent-%COMP%]{font-size:2rem}.mat-column-hours[_ngcontent-%COMP%], .mat-column-start[_ngcontent-%COMP%], .mat-column-end[_ngcontent-%COMP%]{text-align:center}.mat-column-teacher[_ngcontent-%COMP%], .mat-column-email[_ngcontent-%COMP%], .mat-column-phone[_ngcontent-%COMP%], .mat-column-program[_ngcontent-%COMP%], .mat-column-intervention[_ngcontent-%COMP%], .mat-column-subject[_ngcontent-%COMP%]{padding-left:.9rem!important}.icon-menu[_ngcontent-%COMP%]{margin-top:-5px;margin-right:0!important;width:20px!important;font-size:20px}.icon-menu-add[_ngcontent-%COMP%]{font-size:22px!important;margin-left:-2px!important;margin-top:-4px;margin-right:0!important;width:21px!important}.border-button[_ngcontent-%COMP%]{border-bottom:1px solid #dadada}  .ng-dropdown-panel.custom-dropdownpanel-contract{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-dropdownpanel-contract .ng-dropdown-panel-items .ng-option{white-space:normal!important}  .ng-dropdown-panel.custom-dropdownpanel-contract .ng-dropdown-panel-items{max-height:220px!important}  .ng-dropdown-panel.custom-dropdownpanel-contract .ng-dropdown-header{margin-left:0!important;border-bottom:1px solid #ccc!important}  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{z-index:1!important}']}),a})();var vt=p(83515),ca=p(62395),pa=p(8929),bt=p(61221),st=p(21086),da=p(21406),ma=p(27221),ua=p(94442),_a=p(12334),Tt=p(71948),ha=p(84385),ga=p(30277);const fa=["legalSelect"];function Ca(a,r){1&a&&(t.\u0275\u0275elementStart(0,"label",59),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Civility")," * "))}const va=function(a){return{color:a}};function ba(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"label",60),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(4,va,e.contractForm.get("civility").hasError("required")&&e.contractForm.get("civility").touched?"red":"white")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"Civility")," * ")}}function Ta(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function xa(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ya(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Sa(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Invalid email format")," "))}function Oa(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ea(a,r){1&a&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"*"),t.\u0275\u0275elementEnd())}function Fa(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"span",63),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext().item;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("+",null==e?null:e.dialCode,"")}}function Ia(a,r){if(1&a&&(t.\u0275\u0275element(0,"img",61),t.\u0275\u0275template(1,Fa,2,1,"span",62)),2&a){const e=r.item,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("src",n.flagsIconPath+(null==e?null:e.flagIcon)+".svg",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.flagIcon)}}function Ma(a,r){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"img",65),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementContainerEnd()),2&a){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("src",n.flagsIconPath+(null==e?null:e.flagIcon)+".svg",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,3,null==e?null:e.name)," +",null==e?null:e.dialCode," ")}}function Pa(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"ng-option",64),t.\u0275\u0275template(1,Ma,4,5,"ng-container",15),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.name)}}function Aa(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"must contain number only")))}function Da(a,r){1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function wa(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-error",66),t.\u0275\u0275template(1,Da,3,3,"ng-container",15),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.phoneNumberControl.hasError("required")||e.dialCodeControl.hasError("required"))}}function Na(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-option",64),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"ERP_009_TEACHER_CONTRACT.TYPE_OF_CONTRACT."+e))}}function Ba(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ra(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Va(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ka(a,r){1&a&&(t.\u0275\u0275elementStart(0,"label"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Legal entity")))}function La(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-form-field"),t.\u0275\u0275element(1,"input",67),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("value",e.getDataLegal())}}function Ua(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ng-select",68),t.\u0275\u0275listener("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();let o;return t.\u0275\u0275resetView(i.typeChange(null==i.contractForm||null==(o=i.contractForm.get("contract_type"))?null:o.value))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(1,4,"Legal Entity")," *"),t.\u0275\u0275property("items",e.legalEntities)("hideSelected",!0)("appendTo","body")}}function ja(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error",69),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Wa(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-option",64),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("value",null==e?null:e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3("",t.\u0275\u0275pipeBind1(2,4,null==e?null:e.last_name)," ",null==e?null:e.first_name," ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e?null:e.civility)," ")}}function Ka(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ha(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-option",64),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("value",null==e?null:e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e?null:e.signalement_email)}}function Ga(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ya(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function $a(a,r){1&a&&(t.\u0275\u0275elementStart(0,"label"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Scholar Season")))}function za(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-form-field"),t.\u0275\u0275element(1,"input",67),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("value",e.getDataScholar())}}function qa(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ng-select",70),t.\u0275\u0275listener("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.filterProgram())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(1,4,"CARDDETAIL.Scholar Season")," *"),t.\u0275\u0275property("items",e.scholars)("hideSelected",!0)("appendTo","body")}}function Qa(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error",69),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Xa(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"ng-option",64),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,4,null==e?null:e.last_name)," ",null==e?null:e.first_name," ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e?null:e.civility)," ")}}function Za(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error",71),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ja(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",72),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.selectCampus(null==o?null:o._id))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&a){const e=r.$implicit;t.\u0275\u0275property("value",null==e?null:e.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function ti(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ei(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ni(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ai(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",89),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().index,o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.removeIntervention(i))}),t.\u0275\u0275elementStart(1,"mat-icon"),t.\u0275\u0275text(2,"remove"),t.\u0275\u0275elementEnd()()}}function ii(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-option",64),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"CONTRACT_PROCESS_FORM."+e.name))}}function oi(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function li(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-form-field"),t.\u0275\u0275element(1,"input",90),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext().index,n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(2,2,"CONTRACT_PROCESS_FORM.Program")," *"),t.\u0275\u0275property("value",n.getDataPrograms(e))}}function ri(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ng-select",91),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(o.getSubjectFromProgram(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(1,4,"CONTRACT_PROCESS_FORM.Program")," *"),t.\u0275\u0275property("items",e.programs)("hideSelected",!0)("appendTo","body")}}function si(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error",69),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ci(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-form-field"),t.\u0275\u0275element(1,"input",90),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext().index,n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(2,2,"CONTRACT_PROCESS_FORM.Subject")," *"),t.\u0275\u0275property("value",n.getDataSubjects(e))}}function pi(a,r){if(1&a&&(t.\u0275\u0275element(0,"ng-select",92),t.\u0275\u0275pipe(1,"translate")),2&a){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(1,4,"CONTRACT_PROCESS_FORM.Subject")," *"),t.\u0275\u0275property("items",e.subjects)("hideSelected",!0)("appendTo","body")}}function di(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error",69),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function mi(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ui(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"must contain number only")))}function _i(a,r){1&a&&t.\u0275\u0275element(0,"mat-icon",93)}function hi(a,r){1&a&&t.\u0275\u0275element(0,"mat-icon",94)}function gi(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function fi(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"must contain number only")))}function Ci(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7)(1,"div",78)(2,"div",7)(3,"div",79),t.\u0275\u0275template(4,ai,3,0,"button",80),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",7)(6,"div",2)(7,"mat-form-field")(8,"mat-select",81),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275template(10,ii,3,4,"mat-option",25),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(11,oi,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",7)(13,"div",82),t.\u0275\u0275template(14,li,3,4,"mat-form-field",15),t.\u0275\u0275template(15,ri,2,6,"ng-select",83),t.\u0275\u0275template(16,si,3,3,"mat-error",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"div",82),t.\u0275\u0275template(18,ci,3,4,"mat-form-field",15),t.\u0275\u0275template(19,pi,2,6,"ng-select",84),t.\u0275\u0275template(20,di,3,3,"mat-error",39),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(21,"div",7)(22,"div",2)(23,"mat-form-field")(24,"input",85),t.\u0275\u0275listener("wheel",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.onWheel(i))})("keypress",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.decimalFilter(i))})("keyup",function(i){const l=t.\u0275\u0275restoreView(e).index,d=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(d.getTotalHoursValue(i.target.value,l))}),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(26,mi,3,3,"mat-error",15),t.\u0275\u0275template(27,ui,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(28,"div",2)(29,"mat-form-field")(30,"input",86),t.\u0275\u0275listener("wheel",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.onWheel(i))})("keypress",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.decimalFilter(i))})("keyup",function(i){const l=t.\u0275\u0275restoreView(e).index,d=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(d.getTotalHoursValue(i.target.value,l))}),t.\u0275\u0275pipe(31,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(32,_i,1,0,"mat-icon",87),t.\u0275\u0275template(33,hi,1,0,"mat-icon",88),t.\u0275\u0275template(34,gi,3,3,"mat-error",15),t.\u0275\u0275template(35,fi,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()()()()}if(2&a){const e=r.index,n=t.\u0275\u0275nextContext(3);let i,o,l,d,c,m,g;t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroupName",e),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",0!=e&&n.newContract),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate2("placeholder","",t.\u0275\u0275pipeBind1(9,22,"ADD_CONTRACT_DIALOG.Type of Intervention")," ",e+1,"*"),t.\u0275\u0275property("disableOptionCentering",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.interventionType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("type_intervention").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==(i=n.interventionsArray().controls[e].get("program"))?null:i.disable)&&!n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(o=n.interventionsArray())||null==o.controls[e]||null==(l=o.controls[e].get("program"))?null:l.hasError("required"))&&(null==(o=n.interventionsArray())||null==o.controls[e]||null==(l=o.controls[e].get("program"))?null:l.invalid)&&(null==(o=n.interventionsArray())||null==o.controls[e]||null==(l=o.controls[e].get("program"))?null:l.touched)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==(d=n.interventionsArray().controls[e].get("subject_id"))?null:d.disable)&&!n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(c=n.interventionsArray())||null==c.controls[e]||null==(m=c.controls[e].get("subject_id"))?null:m.hasError("required"))&&(null==(c=n.interventionsArray())||null==c.controls[e]||null==(m=c.controls[e].get("subject_id"))?null:m.invalid)&&(null==(c=n.interventionsArray())||null==c.controls[e]||null==(m=c.controls[e].get("subject_id"))?null:m.touched)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(25,24,"ADD_CONTRACT_DIALOG.Total Hours")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("total_hours").hasError("required")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("total_hours").hasError("pattern")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(31,26,"ADD_CONTRACT_DIALOG.Hourly Rate")),t.\u0275\u0275property("readonly",n.fromFollowUp),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==(g=n.interventionsArray().controls[e].get("hourly_rate"))?null:g.disable)&&!n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("hourly_rate").hasError("required")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("hourly_rate").hasError("pattern"))}}function vi(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",76),t.\u0275\u0275template(1,Ci,36,28,"div",77),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.interventionsArray().controls)}}function bi(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",89),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().index,o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.removeIntervention(i))}),t.\u0275\u0275elementStart(1,"mat-icon"),t.\u0275\u0275text(2,"remove"),t.\u0275\u0275elementEnd()()}}function Ti(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-option",64),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"CONTRACT_PROCESS_FORM."+e.name))}}function xi(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function yi(a,r){1&a&&(t.\u0275\u0275elementStart(0,"label"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"CONTRACT_PROCESS_FORM.Program")))}function Si(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-form-field"),t.\u0275\u0275element(1,"input",67),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext().index,n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("value",n.getDataPrograms(e))}}function Oi(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ng-select",91),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext().index,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.programSelected(i,o))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(1,4,"CONTRACT_PROCESS_FORM.Program")," *"),t.\u0275\u0275property("items",e.programs)("hideSelected",!0)("appendTo","body")}}function Ei(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error",69),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Fi(a,r){1&a&&(t.\u0275\u0275elementStart(0,"label"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"CONTRACT_PROCESS_FORM.Subject")))}function Ii(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-form-field"),t.\u0275\u0275element(1,"input",67),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext().index,n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("value",n.getDataSubjects(e))}}function Mi(a,r){if(1&a&&(t.\u0275\u0275element(0,"ng-select",92),t.\u0275\u0275pipe(1,"translate")),2&a){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(1,4,"CONTRACT_PROCESS_FORM.Subject")," *"),t.\u0275\u0275property("items",e.subjects)("hideSelected",!0)("appendTo","body")}}function Pi(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error",69),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ai(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Di(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"must contain number only")))}function wi(a,r){1&a&&t.\u0275\u0275element(0,"mat-icon",93)}function Ni(a,r){1&a&&t.\u0275\u0275element(0,"mat-icon",94)}function Bi(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ri(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"must contain number only")))}function Vi(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ki(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Li(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ui(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ji(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Wi(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ki(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Hi(a,r){1&a&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Gi(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7)(1,"div",78)(2,"div",7)(3,"div",79),t.\u0275\u0275template(4,bi,3,0,"button",80),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",7)(6,"div",2)(7,"mat-form-field")(8,"mat-select",81),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275template(10,Ti,3,4,"mat-option",25),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(11,xi,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",7)(13,"div",95),t.\u0275\u0275template(14,yi,3,3,"label",15),t.\u0275\u0275template(15,Si,2,1,"mat-form-field",15),t.\u0275\u0275template(16,Oi,2,6,"ng-select",83),t.\u0275\u0275template(17,Ei,3,3,"mat-error",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"div",96),t.\u0275\u0275template(19,Fi,3,3,"label",15),t.\u0275\u0275template(20,Ii,2,1,"mat-form-field",15),t.\u0275\u0275template(21,Mi,2,6,"ng-select",84),t.\u0275\u0275template(22,Pi,3,3,"mat-error",39),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",7)(24,"div",2)(25,"mat-form-field")(26,"input",97),t.\u0275\u0275listener("wheel",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.onWheel(i))})("keyup",function(i){const l=t.\u0275\u0275restoreView(e).index,d=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(d.getTotalHoursValue(i.target.value,l))})("keypress",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.decimalFilter(i))}),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(28,Ai,3,3,"mat-error",15),t.\u0275\u0275template(29,Di,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(30,"div",2)(31,"mat-form-field")(32,"input",98),t.\u0275\u0275listener("wheel",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.onWheel(i))})("keyup",function(i){const l=t.\u0275\u0275restoreView(e).index,d=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(d.getHourlyRateValue(i.target.value,l))})("keypress",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.decimalFilter(i))}),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(34,wi,1,0,"mat-icon",87),t.\u0275\u0275template(35,Ni,1,0,"mat-icon",88),t.\u0275\u0275template(36,Bi,3,3,"mat-error",15),t.\u0275\u0275template(37,Ri,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(38,"div",7)(39,"div",2)(40,"mat-form-field"),t.\u0275\u0275element(41,"input",99),t.\u0275\u0275pipe(42,"translate"),t.\u0275\u0275template(43,Vi,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(44,"div",2)(45,"mat-form-field"),t.\u0275\u0275element(46,"input",100),t.\u0275\u0275pipe(47,"translate"),t.\u0275\u0275template(48,ki,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(49,"div",7)(50,"div",2)(51,"mat-form-field"),t.\u0275\u0275element(52,"input",101),t.\u0275\u0275pipe(53,"translate"),t.\u0275\u0275template(54,Li,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(55,"div",7)(56,"div",2)(57,"mat-form-field"),t.\u0275\u0275element(58,"input",102),t.\u0275\u0275pipe(59,"translate"),t.\u0275\u0275template(60,Ui,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(61,"div",2)(62,"mat-form-field"),t.\u0275\u0275element(63,"input",103),t.\u0275\u0275pipe(64,"translate"),t.\u0275\u0275template(65,ji,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(66,"div",7)(67,"div",2)(68,"mat-form-field"),t.\u0275\u0275element(69,"input",104),t.\u0275\u0275pipe(70,"translate"),t.\u0275\u0275template(71,Wi,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(72,"div",2)(73,"mat-form-field"),t.\u0275\u0275element(74,"input",105),t.\u0275\u0275pipe(75,"translate"),t.\u0275\u0275template(76,Ki,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(77,"div",7)(78,"div",2)(79,"mat-form-field"),t.\u0275\u0275element(80,"input",106),t.\u0275\u0275pipe(81,"translate"),t.\u0275\u0275template(82,Hi,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()()()()}if(2&a){const e=r.index,n=t.\u0275\u0275nextContext(3);let i,o,l,d,c,m,g,T,v;t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroupName",e),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",0!=e&&n.newContract),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate2("placeholder","",t.\u0275\u0275pipeBind1(9,40,"ADD_CONTRACT_DIALOG.Type of Intervention")," ",e+1,"*"),t.\u0275\u0275property("disableOptionCentering",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.interventionType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("type_intervention").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==(i=n.interventionsArray())||null==i.controls[e]?null:i.controls[e].get("program").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(o=n.interventionsArray().controls[e].get("program"))?null:o.disable)&&!n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(l=n.interventionsArray())||null==l.controls[e]||null==(d=l.controls[e].get("program"))?null:d.hasError("required"))&&(null==(l=n.interventionsArray())||null==l.controls[e]||null==(d=l.controls[e].get("program"))?null:d.invalid)&&(null==(l=n.interventionsArray())||null==l.controls[e]||null==(d=l.controls[e].get("program"))?null:d.touched)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==(c=n.interventionsArray())||null==c.controls[e]?null:c.controls[e].get("subject_id").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(m=n.interventionsArray().controls[e].get("subject_id"))?null:m.disable)&&!n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(g=n.interventionsArray())||null==g.controls[e]||null==(T=g.controls[e].get("subject_id"))?null:T.hasError("required"))&&(null==(g=n.interventionsArray())||null==g.controls[e]||null==(T=g.controls[e].get("subject_id"))?null:T.invalid)&&(null==(g=n.interventionsArray())||null==g.controls[e]||null==(T=g.controls[e].get("subject_id"))?null:T.touched)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(27,42,"ADD_CONTRACT_DIALOG.Total Hours")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("total_hours").hasError("required")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("total_hours").hasError("pattern")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(33,44,"ADD_CONTRACT_DIALOG.Hourly Rate")),t.\u0275\u0275property("readonly",n.fromFollowUp),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==(v=n.interventionsArray().controls[e].get("hourly_rate"))?null:v.disable)&&!n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("hourly_rate").hasError("required")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("hourly_rate").hasError("pattern")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(42,46,"Paid leave allowance rate")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("paid_leave_allowance_rate").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(47,48,"Rate excluding paid leave allowance")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("rate_excluding_paid_leave_allowance").hasError("required")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(53,50,"Compensation paid vocation")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("compensation_paid_vacation").hasError("required")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(59,52,"Total period (week)")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("total_period").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(64,54,"Trial period (Days)")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("trial_period").hasError("required")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(70,56,"Induced hours coefficient")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("induced_hours_coefficient").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(75,58,"Volume hour induced")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("volume_hours_induced").hasError("required")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(81,60,"Total hours + Volume hour induced")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.interventionsArray().controls[e].get("total_hours_volume_hours_induced").hasError("required"))}}function Yi(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",76),t.\u0275\u0275template(1,Gi,83,62,"div",77),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.interventionsArray().controls)}}function $i(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",109),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(i.addIntervention())}),t.\u0275\u0275elementStart(1,"mat-icon",110),t.\u0275\u0275text(2,"add"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}2&a&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,1,"Add type of intervention")," "))}function zi(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",3),t.\u0275\u0275template(1,$i,5,3,"button",108),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.fromFollowUp)}}function qi(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275template(1,zi,2,1,"div",107),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e._id)}}function Qi(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",73),t.\u0275\u0275template(1,vi,2,1,"div",74),t.\u0275\u0275template(2,Yi,2,1,"div",74),t.\u0275\u0275template(3,qi,2,1,"div",75),t.\u0275\u0275element(4,"br")(5,"br"),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","convention"==e.t),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cddu"==e.t),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.interventionsArray().controls?null:e.interventionsArray().controls.length)<=5)}}function Xi(a,r){1&a&&(t.\u0275\u0275elementStart(0,"div",111),t.\u0275\u0275element(1,"mat-progress-spinner",112),t.\u0275\u0275elementEnd())}const Zi=function(){return["/teacher-management/follow-up"]},Ji=function(){return["/teacher-contract"]};let xt=(()=>{class a{constructor(e,n,i,o,l,d,c,m,g,T,v,J,G){this.dialog=e,this.fb=n,this.translate=i,this.contractService=o,this.route=l,this.router=d,this.parseToLocal=c,this.parseToUTC=m,this.pageTitleService=g,this.userService=T,this.financeService=v,this.utilService=J,this.countryService=G,this.subs=new _.Y,this.flagsIconPath="../../../../../assets/icons/flags-nationality/",this.dialCodeControl=new s.UntypedFormControl(null),this.phoneNumberControl=new s.UntypedFormControl(null),this.interventionType=[{value:"face_to_face",name:"Face to Face"},{value:"face_to_face_2",name:"Face to Face 2"},{value:"face_to_face_3",name:"Face to Face 3"},{value:"face_to_face_4",name:"Face to Face 4"},{value:"jury",name:"Jury"},{value:"coaching",name:"Coaching"},{value:"conference",name:"Conference"},{value:"correction_of_files",name:"Correction of Files"},{value:"correction_of_copies",name:"Correction of Copies"},{value:"making_subjects",name:"Making Subjects"}],this.contract_type=["cddu","convention"],this.contract_manage=[],this.legal_representative=[],this.inputLegalRepresent$=new pa.xQ,this.email_sign=[],this.subjects=[],this.programs=[],this.originPrograms=[],this.legalEntities=[],this.scholars=[],this.isSentForm=!1,this.t="",this._id="",this.data=!1,this.isReadOnly=!1,this.isWaitingForResponse=!1,this.isWaitingForProgramResponse=!1,this.isLoadingFilter=!1,this.fromFollowUp=!1,this.newContract=!1,this.teacherSubjectIdfromEdit=[],this.campusList=[],this.campusDropdown=[],this.filterCampus=new s.UntypedFormControl(null)}ngOnInit(){this.getAllCountryCodes(),this.currentUser=this.userService.getLocalStorageUser(),this.isPermission=this.userService.getPermission();const e=this.currentUser?.entities?.find(i=>i?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id;let n=this.translate.instant("CONTRACT_MANAGEMENT.Contract Process");this.pageTitleService.setTitle(n),this.subs.sink=this.translate.onLangChange.subscribe(i=>{n=this.translate.instant("CONTRACT_MANAGEMENT.Contract Process"),this.pageTitleService.setTitle(n),this.sortCountryCode()}),this.today=new Date,this.initForm(),this.getDropdownCampus(),null!=this.route.snapshot.paramMap.get("id")||"true"===this.route.snapshot.queryParamMap.get("fromContractManagement")?(this._id="true"===this.route.snapshot.queryParamMap.get("fromContractManagement")?this.route?.snapshot?.queryParamMap?.get("contractId"):this.route.snapshot.paramMap.get("id"),this.getContractProcess(this._id)):"true"===this.route.snapshot.queryParamMap.get("fromFollowup")?(this.fromFollowUp=!0,this.generateTeacherContractProcess()):this.newContract=!0}sortCountryCode(){this.countryCodeList=this.countryCodeList.sort((e,n)=>this.utilService.simplifyRegex(this.translate.instant(e?.name))<this.utilService.simplifyRegex(this.translate.instant(n?.name))?-1:this.utilService.simplifyRegex(this.translate.instant(e?.name))>this.utilService.simplifyRegex(this.translate.instant(n?.name))?1:0)}getAllCountryCodes(){this.countryCodeList=this.countryService?.getAllCountriesNationality()}selectionDialCode(e){this.contractForm?.get("phone_number_indicative")?.reset(),this.contractForm?.get("phone_number_indicative")?.patchValue(e?.dialCode)}onWheel(e){e?.preventDefault()}getDropdownCampus(){this.isWaitingForResponse=!0,this.subs.sink=this.contractService.getAllCampuses(this.currentUserTypeId).subscribe(e=>{e&&(this.campusList=S.cloneDeep(e),this.campusDropdown=e.sort((n,i)=>n.name.localeCompare(i.name))),this.isWaitingForResponse=!1},e=>{this.isWaitingForResponse=!1})}filterDropdown(){if(this.filterCampus.value){const e=this.filterCampus.value.toLowerCase();this.campusDropdown=this.campusList.filter(n=>n.name.toLowerCase().includes(e))}else this.campusDropdown=S.cloneDeep(this.campusList);this.contractForm.get("campus_id").patchValue(null)}selectCampus(e){e?this.contractForm.get("campus_id").patchValue(e):(this.contractForm.get("campus_id").patchValue(null),this.filterCampus.patchValue(null))}generateTeacherContractProcess(){const e=JSON.parse(localStorage.getItem("teacherSubjectIds"));console.log("subjectIds",e),e?(this.isWaitingForResponse=!0,this.subs.sink=this.contractService.generateTeacherContractProcess(e).subscribe(n=>{n&&(console.log("resp generate",n),this.isWaitingForResponse=!1,this.data=!0,this.dataContractProcess=S.cloneDeep(n),this.populateFormFolUp(S.cloneDeep(n)))},n=>{this.isWaitingForResponse=!1,u().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})):this.router.navigate(["teacher-management/follow-up"])}populateFormFolUp(e){e.contract_manager&&e.contract_manager._id&&(e.contract_manager=e.contract_manager._id),e.scholar_season&&e.scholar_season._id&&(e.scholar_season=e.scholar_season._id),e.legal_entity&&e.legal_entity._id&&(e.legal_entity=e.legal_entity._id);let n="",i="",o="",l="";if(e?.interventions&&e?.interventions.length){e.interventions[0].program_sequence_id&&e.interventions[0].program_sequence_id.start_date&&e.interventions[0].program_sequence_id.start_date.date?(n=e.interventions[0].program_sequence_id.start_date.date,o=e.interventions[0].program_sequence_id.start_date.time):e.interventions[0].sequence_id&&e.interventions[0].sequence_id.start_date&&e.interventions[0].sequence_id.start_date.date&&(n=e.interventions[0].sequence_id.start_date.date,o=e.interventions[0].sequence_id.start_date.time);const c=e.interventions.length-1;e.interventions[c].program_sequence_id&&e.interventions[c].program_sequence_id.end_date&&e.interventions[c].program_sequence_id.end_date.date?(i=e.interventions[c].program_sequence_id.end_date.date,l=e.interventions[c].program_sequence_id.end_date.time):e.interventions[c].sequence_id&&e.interventions[c].sequence_id.end_date&&e.interventions[c].sequence_id.end_date.date&&(i=e.interventions[c].sequence_id.end_date.date,l=e.interventions[c].sequence_id.end_date.time)}if(e.campus_id&&e.campus_id._id&&(e.campus_id=e.campus_id._id,this.filterCampus.setValue(e.campus_id.name)),e.level_name&&(e.level_name=e.level_name),e.echelon&&(e.echelon=e.echelon),this.t=e.contract_type,"convention"===this.t?e.interventions&&e.interventions.length&&(e.interventions=e.interventions.map(c=>{const m={type_intervention:c.type_intervention,program:c?.program?._id,subject_id:c?.program_subject_id?._id?c?.program_subject_id?._id:c?.course_subject_id?._id,hourly_rate:c.hourly_rate?c?.hourly_rate:0,total_hours:c?.total_hours?c?.total_hours:0};return this.getDataManualSubjectDropdown(),this.interventionsArray().push(this.newIntervention()),m})):e.interventions&&e.interventions.length&&(e.interventions=e.interventions.map(c=>{const m={type_intervention:c.type_intervention,program:c?.program?._id,subject_id:c?.program_subject_id?._id?c?.program_subject_id?._id:c?.course_subject_id?._id,hourly_rate:c?.hourly_rate?c?.hourly_rate:0,total_hours:c?.total_hours?c?.total_hours:0,paid_leave_allowance_rate:c?.paid_leave_allowance_rate?c?.paid_leave_allowance_rate:0,induced_hours_coefficient:c?.induced_hours_coefficient?c?.induced_hours_coefficient:0};return this.getDataManualSubjectDropdown(),this.interventionsArray().push(this.newIntervention()),m})),this.contractForm.patchValue(e),this.contractForm.get("start_date").patchValue(this.parseToLocal.transformDateToJavascriptDate(n,o)),this.contractForm.get("end_date").patchValue(this.parseToLocal.transformDateToJavascriptDate(i,l)),this.subs.sink=this.countryService.isAllCountryAlreadyPopulated$.subscribe(c=>{if(c&&e?.phone_number_indicative){const m=this.countryCodeList?.findIndex(T=>T?.dialCode===e?.phone_number_indicative);this.dialCodeControl?.patchValue(this.countryCodeList[m]?this.countryCodeList[m]:null)}}),e?.portable_phone&&this.phoneNumberControl?.patchValue(e?.portable_phone),"convention"!==this.t){const c=this.interventionsArray().controls;c&&c.length&&this.interventionsArray().controls.forEach((m,g)=>{const T=m.get("hourly_rate").value,v=m.get("total_hours").value;this.getHourlyRateValue(T,g),this.getTotalHoursValue(v,g)})}this.setTotalAmount(),this.initialForm=this.contractForm.getRawValue(),this.contractForm.get("civility").disable(),this.contractForm.get("first_name").disable(),this.contractForm.get("last_name").disable(),this.contractForm.get("email").disable(),this.contractForm.get("portable_phone").disable(),this.contractForm.get("phone_number_indicative").disable(),this.dialCodeControl.disable(),this.phoneNumberControl.disable(),this.contractForm.get("legal_entity").disable(),this.contractForm.get("scholar_season").disable(),this.contractForm.get("contract_type").disable(),this.contractForm.get("total_amount").disable();const d=this.interventionsArray().controls;d&&d.length&&this.interventionsArray().controls.forEach((c,m)=>{this.interventionsArray().at(m).get("type_intervention").disable(),this.interventionsArray().at(m).get("program").disable(),this.interventionsArray().at(m).get("subject_id").disable(),this.interventionsArray().at(m).get("hourly_rate").disable(),this.interventionsArray().at(m).get("total_hours").disable(),"cddu"===this.t&&(this.interventionsArray().at(m).get("trial_period").disable(),this.interventionsArray().at(m).get("paid_leave_allowance_rate").disable(),this.interventionsArray().at(m).get("rate_excluding_paid_leave_allowance").disable(),this.interventionsArray().at(m).get("compensation_paid_vacation").disable(),this.interventionsArray().at(m).get("total_period").disable(),this.interventionsArray().at(m).get("induced_hours_coefficient").disable(),this.interventionsArray().at(m).get("volume_hours_induced").disable(),this.interventionsArray().at(m).get("total_hours_volume_hours_induced").disable())}),console.log("final form",this.contractForm.getRawValue())}getContractProcess(e){this.isWaitingForResponse=!0,this.subs.sink=this.contractService.getContractProcessForm(e).subscribe(n=>{this.isWaitingForResponse=!1,this.data=!0,this.dataContractProcess=S.cloneDeep(n),this.dataContractProcess={...this.dataContractProcess,user_id:{_id:this.dataContractProcess?.teacher_subject_id?.length?this.dataContractProcess?.teacher_subject_id[0]?.teacher_id?._id:null}},delete this.dataContractProcess?.teacher_subject_id?.teacher_id,n.teacher_subject_id&&n.teacher_subject_id.length?(n.teacher_subject_id.forEach(i=>{this.teacherSubjectIdfromEdit.push(i._id)}),console.log("this.teacherSubjectIdfromEdit",this.teacherSubjectIdfromEdit)):this.teacherSubjectIdfromEdit=[],this.populateForm(S.cloneDeep(n)),this.setTotalAmount(),n&&n.form_builder_id&&n.form_builder_id._id&&(this.contractForm.disable(),this.filterCampus.disable())},n=>{this.isWaitingForResponse=!1,n&&n.message&&n.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}populateForm(e,n){if(e&&e.start_date&&e.start_time&&(e.start_date=this.parseToLocal.transformDateToJavascriptDate(e.start_date,e.start_time)),e&&e.end_date&&e.end_time&&(e.end_date=this.parseToLocal.transformDateToJavascriptDate(e.end_date,e.end_time)),e.contract_manager&&e.contract_manager._id&&(e.contract_manager=e.contract_manager._id),e.legal_entity&&e.legal_entity._id&&(e.legal_entity=e.legal_entity._id),e.school&&e.school._id&&(e.school=e.school._id),e.scholar_season&&e.scholar_season._id&&(e.scholar_season=e.scholar_season._id),e.schools_id&&e.schools_id.length&&(e.schools_id=e.schools_id.map(i=>i._id)),e.teacher_subject_id&&e.teacher_subject_id.length&&(e.teacher_subject_id[0]&&e.teacher_subject_id[0].legal_representative&&e.teacher_subject_id[0].legal_representative._id&&(e.legal_representative=e.teacher_subject_id[0].legal_representative._id,this.getLegalRepresentativeDropdown(e.teacher_subject_id[0].legal_representative.last_name+" "+e.teacher_subject_id[0].legal_representative.first_name)),e.teacher_subject_id[0]&&e.teacher_subject_id[0].campus_id&&e.teacher_subject_id[0].campus_id._id&&(e.campus_id=e.teacher_subject_id[0].campus_id._id,this.filterCampus.setValue(e.teacher_subject_id[0].campus_id.name)),e.teacher_subject_id[0]&&e.teacher_subject_id[0].level_name&&(e.level_name=e.teacher_subject_id[0].level_name),e.teacher_subject_id[0]&&e.teacher_subject_id[0].echelon&&(e.echelon=e.teacher_subject_id[0].echelon)),this.t=e.contract_type,e&&e.interventions.length)for(let i=0;i<e.interventions.length;i++)n||this.addIntervention(),e.interventions[i].program_subject_id&&e.interventions[i].program_subject_id._id?e.interventions[i].subject_id=e.interventions[i].program_subject_id._id:e.interventions[i].subject_id&&e.interventions[i].subject_id._id&&(e.interventions[i].subject_id=e.interventions[i].subject_id._id),e.interventions[i].program&&e.interventions[i].program._id&&(e.interventions[i].program=e.interventions[i].program._id),this.getDataManualSubjectDropdown();this.isReadOnly=!0,this.contractForm.patchValue(e),this.contractForm.disable(),this.filterCampus.disable(),this.initialForm=this.contractForm.getRawValue()}typeChange(e){e&&(this.interventionsArray().clear(),0===this.interventionsArray().length&&(this.t=e,this.addIntervention(),this.contractForm.get("total_amount").setValue(0)))}initForm(){this.contractForm=this.fb.group({civility:[null,s.Validators.required],first_name:[null,s.Validators.required],last_name:[null,s.Validators.required],email:[null,[s.Validators.required,ca.dN.email]],portable_phone:[null],phone_number_indicative:[null],contract_type:[null,s.Validators.required],start_date:[null,s.Validators.required],end_date:[null,s.Validators.required],contract_manager:[null,s.Validators.required],school:[null],schools_id:[null,s.Validators.required],total_amount:[null,s.Validators.required],legal_entity:[null,s.Validators.required],scholar_season:[null,s.Validators.required],legal_representative:[null,s.Validators.required],interventions:this.fb.array([]),campus_id:[null,s.Validators.required],level_name:[null,s.Validators.required],echelon:[null,s.Validators.required]}),this.getDataScholarSeasons(),this.getProgramDropdown(),this.getLegalDropdown(),this.getSignalementEmailDropdown(),this.getContractManagerDropdown(),this.getLegalRepresentativeDropdown(),this.contractForm.controls.end_date.valueChanges.subscribe(e=>{const n=S.cloneDeep(this.contractForm.controls.start_date.value),i=S.cloneDeep(e);let o=0;n&&i&&(o=Math.floor((Date.UTC(i.getFullYear(),i.getMonth(),i.getDate())-Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()))/864e5));let l=o/7;const d=Math.round(10*(l-Math.floor(l)));0===d||(l=d<5?Math.floor(l)+.5:Math.floor(l)+1);let c=l;l>14&&(c=14),this.totalPeriod=l,this.trialPeriod=c;for(let m=0;m<this.interventionsArray().length;m++)this.interventionsArray().controls[m].get("total_period")&&this.interventionsArray().controls[m].get("trial_period")&&(this.interventionsArray().controls[m].get("total_period").setValue(this.totalPeriod),this.interventionsArray().controls[m].get("trial_period").setValue(this.trialPeriod))}),this.initialForm=this.contractForm.getRawValue()}interventionsArray(){return this.contractForm.get("interventions")}newIntervention(){return this.fb.group("convention"===this.t?{type_intervention:[null,s.Validators.required],program:[null,s.Validators.required],subject_id:[null,s.Validators.required],total_hours:[null,[s.Validators.required,s.Validators.pattern("^(?:\\d*(?:[.,]\\d{1,2})?|[.,]\\d{1,2})$")]],hourly_rate:[null,[s.Validators.required,s.Validators.pattern("^(?:\\d*(?:[.,]\\d{1,2})?|[.,]\\d{1,2})$")]]}:{type_intervention:[null,s.Validators.required],program:[null,s.Validators.required],subject_id:[null,s.Validators.required],total_hours:[null,[s.Validators.required,s.Validators.pattern("^(?:\\d*(?:[.,]\\d{1,2})?|[.,]\\d{1,2})$")]],hourly_rate:[null,[s.Validators.required,s.Validators.pattern("^(?:\\d*(?:[.,]\\d{1,2})?|[.,]\\d{1,2})$")]],paid_leave_allowance_rate:[null,s.Validators.required],rate_excluding_paid_leave_allowance:[null,s.Validators.required],compensation_paid_vacation:[null,s.Validators.required],total_period:[null,s.Validators.required],trial_period:[null,s.Validators.required],induced_hours_coefficient:[null,s.Validators.required],volume_hours_induced:[null,s.Validators.required],total_hours_volume_hours_induced:[null,s.Validators.required]})}addIntervention(){this.interventionsArray().push(this.newIntervention());for(let e=0;e<this.interventionsArray().length;e++)this.interventionsArray().controls[e].get("total_period")&&this.interventionsArray().controls[e].get("trial_period")&&(this.interventionsArray().controls[e].get("total_period").setValue(this.totalPeriod),this.interventionsArray().controls[e].get("trial_period").setValue(this.trialPeriod))}removeIntervention(e){this.interventionsArray().removeAt(e),this.setTotalAmount()}getSubjectFromProgram(e){console.log("program selected 2",e),e&&e._id&&this.getSubjectDropdown(e._id)}programSelected(e,n){console.log("program selected",e),e?(this.isWaitingForProgramResponse=!0,this.subs.sink=this.contractService.GetProgramSelected(e._id).subscribe(i=>{if(this.isWaitingForProgramResponse=!1,i&&i.paid_leave_allowance_rate?this.interventionsArray().controls[n].get("paid_leave_allowance_rate").setValue(i.paid_leave_allowance_rate):this.interventionsArray().controls[n].get("paid_leave_allowance_rate").setValue(0),i&&i.induced_hours_coefficient?this.interventionsArray().controls[n].get("induced_hours_coefficient").setValue(i.induced_hours_coefficient):this.interventionsArray().controls[n].get("induced_hours_coefficient").setValue(0),i&&i.paid_leave_allowance_rate){const o=this.interventionsArray().controls[n].get("hourly_rate").value;this.getHourlyRateValue(o,n)}else this.interventionsArray().controls[n].get("hourly_rate").setValue(0),this.interventionsArray().controls[n].get("rate_excluding_paid_leave_allowance").setValue(0),this.interventionsArray().controls[n].get("compensation_paid_vacation").setValue(0);if(i&&i.induced_hours_coefficient){const o=this.interventionsArray().controls[n].get("total_hours").value;this.getTotalHoursValue(o,n)}else this.interventionsArray().controls[n].get("total_hours").setValue(0),this.interventionsArray().controls[n].get("volume_hours_induced").setValue(0),this.interventionsArray().controls[n].get("total_hours_volume_hours_induced").setValue(0);i&&i._id&&this.getSubjectDropdown(i._id)},i=>{this.isWaitingForProgramResponse=!1,i&&i.message&&i.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})):(this.interventionsArray().controls[n].get("paid_leave_allowance_rate").setValue(0),this.interventionsArray().controls[n].get("induced_hours_coefficient").setValue(0),this.interventionsArray().controls[n].get("rate_excluding_paid_leave_allowance").setValue(0),this.interventionsArray().controls[n].get("volume_hours_induced").setValue(0))}getHourlyRateValue(e,n){if("cddu"===this.t){let o=e/this.interventionsArray().controls[n].get("paid_leave_allowance_rate").value,l=e-o;const d=o&&o.toFixed(2)?o.toFixed(2):"0",c=l&&l.toFixed(2)?l.toFixed(2):"0";o=d?parseFloat(d):0,l=c?parseFloat(c):0,this.interventionsArray().controls[n].get("rate_excluding_paid_leave_allowance").setValue(isFinite(o)?o:null),this.interventionsArray().controls[n].get("compensation_paid_vacation").setValue(isFinite(l)?l:null)}this.setTotalAmount()}getTotalHoursValue(e,n){if("cddu"===this.t){let o=e*this.interventionsArray().controls[n].get("induced_hours_coefficient").value,l=+e+o;const d=o&&o.toFixed(2)?o.toFixed(2):"0",c=l&&l.toFixed(2)?l.toFixed(2):"0";o=d?parseFloat(d):0,l=c?parseFloat(c):0,this.interventionsArray().controls[n].get("volume_hours_induced").setValue(o),this.interventionsArray().controls[n].get("total_hours_volume_hours_induced").setValue(l)}this.setTotalAmount()}setTotalAmount(){const e=S.cloneDeep(this.interventionsArray().value);let n=0;e&&e.length&&e.forEach(i=>{i.total_hours&&i.hourly_rate&&(n+=i.total_hours*i.hourly_rate)}),n&&this.contractForm.get("total_amount").setValue(n.toFixed(2)),this.initialForm=this.contractForm.getRawValue()}getSubjectDropdown(e){this.isWaitingForResponse=!0;const n={program_id:e||null};this.subjects=[],this.subs.sink=this.contractService.getAllProgramSubjects(n).subscribe(i=>{this.isWaitingForResponse=!1,i&&i.length&&(this.subjects.push(...i),this.subjects=S.sortBy(this.subjects,"name"))},i=>{this.isWaitingForResponse=!1,i&&i.message&&i.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDataManualSubjectDropdown(){this.isWaitingForResponse=!0,this.subs.sink=this.contractService.getAllProgramSubjectDropdown().subscribe(e=>{this.isWaitingForResponse=!1,e&&e.length&&(this.subjects.push(...e),this.subjects=S.sortBy(this.subjects,"name"))},e=>{this.isWaitingForResponse=!1,e&&e.message&&e.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"error",title:"Error",text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}filterProgram(){const e=this.contractForm.get("scholar_season").value;e?(this.programs=this.originPrograms.filter(i=>i.scholar_season_id._id===e),this.programs=this.programs.map(i=>({program:i.scholar_season_id.scholar_season+" - "+i.program,_id:i._id}))):(this.programs=this.originPrograms,this.programs=this.programs.map(i=>({program:i.scholar_season_id.scholar_season+" - "+i.program,_id:i._id})));const n=this.contractForm.get("contract_type").value?this.contractForm.get("contract_type").value:"";this.typeChange(n)}getProgramDropdown(){this.isWaitingForResponse=!0,this.subs.sink=this.contractService.GetAllProgramsDropdown().subscribe(e=>{this.isWaitingForResponse=!1,e&&e.length&&(this.programs=e.sort((n,i)=>n.program.localeCompare(i.program)),this.originPrograms=e.sort((n,i)=>n.program.localeCompare(i.program)),this.programs=this.programs.map(n=>({program:n.scholar_season_id.scholar_season+" - "+n.program,_id:n._id})),console.log(this.programs))},e=>{this.isWaitingForResponse=!1,e&&e.message&&e.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getLegalDropdown(){this.isWaitingForResponse=!0,this.subs.sink=this.contractService.GetAllLegalDropdown().subscribe(e=>{this.isWaitingForResponse=!1,e&&e.length&&(this.legalEntities=e.sort((n,i)=>n.legal_entity_name.localeCompare(i.legal_entity_name)),console.log(this.legalEntities))},e=>{this.isWaitingForResponse=!1,e&&e.message&&e.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getSignalementEmailDropdown(){this.isWaitingForResponse=!0,this.subs.sink=this.contractService.getAllSignalementEmailDropdown(this.currentUserTypeId).subscribe(e=>{this.isWaitingForResponse=!1,e&&e.length&&(this.email_sign=e.filter(n=>n.signalement_email))},e=>{this.isWaitingForResponse=!1,e&&e.message&&e.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getContractManagerDropdown(){this.isWaitingForResponse=!0,this.subs.sink=this.contractService.getAllContractManagerDropdown().subscribe(e=>{if(this.isWaitingForResponse=!1,e&&e.length){const n=S.cloneDeep(e);this.contract_manage=S.sortBy(n,"last_name")}},e=>{this.isWaitingForResponse=!1,e&&e.message&&e.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getLegalRepresentativeDropdown(e){this.isWaitingForResponse=!0,this.subs.sink=this.contractService.getAllLegalRepresentativeDropdown(e||"").subscribe(n=>{if(this.isWaitingForResponse=!1,n&&n.length){const i=S.cloneDeep(n);this.legal_representative=S.sortBy(i,"last_name"),this.initTypeAhead()}},n=>{this.isWaitingForResponse=!1,n&&n.message&&n.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}initTypeAhead(){this.filteredLegalRepresentative=(0,bt.z)((0,st.of)([]),this.inputLegalRepresent$.pipe((0,F.O)(""),(0,w.b)(500),(0,da.b)(e=>e?(this.isLoadingFilter=!0,(0,bt.z)((0,st.of)([]),this.contractService.getAllLegalRepresentativeDropdown(e).pipe((0,Y.q)(1),(0,V.b)(()=>{this.isLoadingFilter=!1}),(0,ma.K)(n=>(this.isLoadingFilter=!1,(0,st.of)([])))))):(0,st.of)(this.legal_representative)),(0,nt.U)(e=>(console.log("dropdown",e),e))))}getDataScholarSeasons(){this.subs.sink=this.financeService.GetAllScholarSeasonsPublished().subscribe(e=>{e&&e.length&&(this.scholars=e,this.scholars=this.scholars.sort((n,i)=>n.scholar_season>i.scholar_season?1:i.scholar_season>n.scholar_season?-1:0))},e=>{e&&e.message&&e.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}onSave(){if(console.log("form",this.contractForm.value),this.contractForm.invalid||this.filterCampus.invalid)this.contractForm.markAllAsTouched(),u().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),html:this.translate.instant("Invalid_Form_Warning.TEXT"),confirmButtonText:this.translate.instant("Invalid_Form_Warning.BUTTON")});else{const e=JSON.parse(localStorage.getItem("teacherSubjectIds")),n={...this.contractForm.getRawValue(),start_date:this.contractForm.value.start_date?this.parseToUTC.transformDate(this.contractForm.value.start_date.toLocaleDateString("en-GB"),"15:59"):"",start_time:"15:59",end_date:this.contractForm.value.end_date?this.parseToUTC.transformDate(this.contractForm.value.end_date.toLocaleDateString("en-GB"),"15:59"):"",end_time:"15:59",total_amount:parseFloat(this.contractForm.getRawValue().total_amount),teacher_subject_id:e||""};this.fromFollowUp?n.teacher_subject_id=e:this.teacherSubjectIdfromEdit.length?n.teacher_subject_id=this.teacherSubjectIdfromEdit:delete n.teacher_subject_id,n&&n.interventions&&n.interventions.length&&(n.interventions=n.interventions.map(i=>({program:i.program,subject_id:i.subject_id,type_intervention:i.type_intervention,hourly_rate:parseFloat(i.hourly_rate),total_hours:parseFloat(i.total_hours),paid_leave_allowance_rate:i.paid_leave_allowance_rate?parseFloat(i.paid_leave_allowance_rate):null,rate_excluding_paid_leave_allowance:i.rate_excluding_paid_leave_allowance?parseFloat(i.rate_excluding_paid_leave_allowance):null,compensation_paid_vacation:i.compensation_paid_vacation?parseFloat(i.compensation_paid_vacation):null,total_period:i.total_period?parseFloat(i.total_period):null,trial_period:i.trial_period?parseFloat(i.trial_period):null,induced_hours_coefficient:i.induced_hours_coefficient?parseFloat(i.induced_hours_coefficient):null,volume_hours_induced:i.volume_hours_induced?parseFloat(i.volume_hours_induced):null,total_hours_volume_hours_induced:i.total_hours_volume_hours_induced?parseFloat(i.total_hours_volume_hours_induced):null}))),n.user_id=this.dataContractProcess?.user_id?._id,console.log("Payload",n),console.log("contract form after formation",this.contractForm.value),this._id?this.updateContract(n):this.createNewContract(n)}}updateContract(e){this.isWaitingForResponse=!0,this.subs.sink=this.contractService.updateContractProcess(this._id,e).subscribe(n=>{this.isWaitingForResponse=!1,n&&(this.initialForm=this.contractForm.getRawValue(),u().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.router.navigate(["teacher-contract/contract-management"])}))},n=>{this.isWaitingForResponse=!1,n&&n.message&&n.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}createNewContract(e){this.isWaitingForResponse=!0,this.subs.sink=this.contractService.createContractProcess(e).subscribe(n=>{this.isWaitingForResponse=!1,console.log("contract form after new creation",this.contractForm.value),n&&(this.initialForm=this.contractForm.getRawValue(),u().fire({type:"success",title:this.translate.instant("InterCont_S7.Title"),html:this.translate.instant("InterCont_S7.Text"),confirmButtonText:this.translate.instant("InterCont_S7.Button"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.router.navigate(["teacher-contract/contract-management"])}))},n=>{this.isWaitingForResponse=!1,n&&n.message&&n.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}decimalFilter(e){let i=e.target.value+String.fromCharCode(e.charCode);/^-?\d*[.,]?\d{0,2}$/.test(i)||e.preventDefault()}onSendingPreContract(){this.contractForm.markAllAsTouched();const e=JSON.parse(localStorage.getItem("teacherSubjectIds")),n={...this.contractForm.getRawValue(),start_date:this.contractForm.value.start_date?this.parseToUTC.transformDate(this.contractForm.value.start_date.toLocaleDateString("en-GB"),"15:59"):"",start_time:"15:59",end_date:this.contractForm.value.end_date?this.parseToUTC.transformDate(this.contractForm.value.end_date.toLocaleDateString("en-GB"),"15:59"):"",end_time:"15:59",total_amount:parseFloat(this.contractForm.getRawValue().total_amount),teacher_subject_id:e||""};this.fromFollowUp?n.teacher_subject_id=e:this.teacherSubjectIdfromEdit.length?n.teacher_subject_id=this.teacherSubjectIdfromEdit:delete n.teacher_subject_id,n&&n.interventions&&n.interventions.length&&(n.interventions=n.interventions.map(i=>({program:i.program,subject_id:i.subject_id,type_intervention:i.type_intervention,hourly_rate:parseFloat(i.hourly_rate),total_hours:parseFloat(i.total_hours),paid_leave_allowance_rate:null!==i.paid_leave_allowance_rate?isFinite(i.paid_leave_allowance_rate)?parseFloat(i.paid_leave_allowance_rate):0:null,rate_excluding_paid_leave_allowance:null!==i.rate_excluding_paid_leave_allowance?isFinite(i.rate_excluding_paid_leave_allowance)?parseFloat(i.rate_excluding_paid_leave_allowance):0:null,compensation_paid_vacation:null!==i.compensation_paid_vacation?isFinite(i.compensation_paid_vacation)?parseFloat(i.compensation_paid_vacation):0:null,total_period:null!==i.total_period?isFinite(i.total_period)?parseFloat(i.total_period):0:null,trial_period:null!==i.trial_period?isFinite(i.trial_period)?parseFloat(i.trial_period):0:null,induced_hours_coefficient:null!==i.induced_hours_coefficient?isFinite(i.induced_hours_coefficient)?parseFloat(i.induced_hours_coefficient):0:null,volume_hours_induced:null!==i.volume_hours_induced?isFinite(i.volume_hours_induced)?parseFloat(i.volume_hours_induced):0:null,total_hours_volume_hours_induced:null!==i.total_hours_volume_hours_induced?isFinite(i.total_hours_volume_hours_induced)?parseFloat(i.total_hours_volume_hours_induced):0:null}))),n.user_id=this.dataContractProcess?.user_id?._id,this._id&&this.dataContractProcess&&this.dataContractProcess._id&&!this.contractForm.invalid?(this.isWaitingForProgramResponse=!0,this.subs.sink=this.contractService.updateContractProcess(this._id,n).subscribe(i=>{this.isWaitingForProgramResponse=!1,this.subs.sink=this.dialog.open(lt,{width:"800px",panelClass:"certification-rule-pop-up",disableClose:!0,data:{type:"single",process:this.dataContractProcess,selection:[this.dataContractProcess],selectAll:!1,filter:null}}).afterClosed().subscribe(o=>{o&&this.router.navigate(["teacher-contract/contract-management"])})},i=>{this.isWaitingForResponse=!1,i&&i.message&&i.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})):this._id||this.contractForm.invalid?u().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),html:this.translate.instant("Invalid_Form_Warning.TEXT"),confirmButtonText:this.translate.instant("Invalid_Form_Warning.BUTTON")}):(this.isWaitingForProgramResponse=!0,this.subs.sink=this.contractService.createContractProcessAndSend(n).subscribe(i=>{this.isWaitingForProgramResponse=!1,this.isSentForm=!0,this.subs.sink=this.dialog.open(lt,{width:"800px",panelClass:"certification-rule-pop-up",disableClose:!0,data:{type:"single",process:{...i,user_id:{_id:this.dataContractProcess?.user_id?._id}},selection:[i],selectAll:!1,filter:null}}).afterClosed().subscribe(o=>{o?this.router.navigate(["teacher-contract/contract-management"]):(this.isSentForm=!1,this.isWaitingForResponse=!0,this.subs.sink=this.contractService.deleteContractProcess(i._id).subscribe(l=>{this.isWaitingForResponse=!1},l=>{this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})},i=>{this.isWaitingForResponse=!1,i&&i.message&&i.message.includes("Network error: Http failure response for")?u().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):u().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}isFormUnchanged(){return!(JSON.stringify(this.initialForm)!==JSON.stringify(this.contractForm.getRawValue())&&!this.isSentForm)}canDeactivate(){return!!this.isFormUnchanged()||new Promise((e,n)=>{u().fire({type:"warning",title:this.translate.instant("TMTC_S01.TITLE"),text:this.translate.instant("TMTC_S01.TEXT"),confirmButtonText:this.translate.instant("TMTC_S01.BUTTON_1"),showCancelButton:!0,cancelButtonText:this.translate.instant("TMTC_S01.BUTTON_2"),allowEscapeKey:!1,allowOutsideClick:!1}).then(i=>{e(!i.value)})})}getDataLegal(){let e;if(this.legalEntities&&this.legalEntities.length){const n=this.legalEntities.find(i=>i._id===this.contractForm.get("legal_entity").value);e=n&&n.legal_entity_name?n.legal_entity_name:""}return e}getDataScholar(){let e;if(this.scholars&&this.scholars.length){const n=this.scholars.find(i=>i._id===this.contractForm.get("scholar_season").value);e=n&&n.scholar_season?n.scholar_season:""}return e}getDataPrograms(e){let n;if(this.programs&&this.programs.length){const i=this.programs.find(o=>o._id===this.interventionsArray().controls[e].get("program").value);n=i&&i.program?i.program:""}return n}getDataSubjects(e){let n;if(this.subjects&&this.subjects.length){const i=this.subjects.find(o=>o._id===this.interventionsArray().controls[e].get("subject_id").value);n=i&&i.name?i.name:""}return n}getDataUserLegalRepresentative(){let e="";if(this.legal_representative&&this.legal_representative.length){const n=this.contractForm.get("legal_representative").value,i=this.legal_representative.find(o=>o._id===n);if(i){const o="neutral"===i.civility?"":" "+this.translate.instant(i.civility);e=i.last_name.toUpperCase()+" "+i.first_name+o}}return e}ngOnDestroy(){this.subs.unsubscribe(),localStorage.removeItem("teacherSubjectIds")}}return a.\u0275fac=function(e){return new(e||a)(t.\u0275\u0275directiveInject(N.uw),t.\u0275\u0275directiveInject(s.UntypedFormBuilder),t.\u0275\u0275directiveInject(W.sK),t.\u0275\u0275directiveInject(z.I),t.\u0275\u0275directiveInject(I.gz),t.\u0275\u0275directiveInject(I.F0),t.\u0275\u0275directiveInject(rt.t),t.\u0275\u0275directiveInject(vt.w),t.\u0275\u0275directiveInject(ht.Z),t.\u0275\u0275directiveInject(Q.e),t.\u0275\u0275directiveInject(ua.N),t.\u0275\u0275directiveInject(q.t),t.\u0275\u0275directiveInject(_a.T))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["ms-contract-process-form"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(fa,5),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.legalSelect=i.first)}},features:[t.\u0275\u0275ProvidersFeature([rt.t,vt.w])],decls:153,vars:150,consts:[[3,"formGroup"],[1,"p-grid","header-form"],[1,"p-col-6"],["align","end",1,"p-col-6"],["mat-raised-button","","color","warn","type","button",3,"routerLink","matTooltip"],["mat-raised-button","","color","accent","type","submit",3,"matTooltip","disabled","click"],["mat-raised-button","","color","accent",2,"padding","0px 7px !important",3,"matTooltip","click"],[1,"p-grid"],["class","read","style","margin-right: 1em",4,"ngIf"],["style","margin-right: 1em",3,"ngStyle",4,"ngIf"],["fxFlex","65"],["value","MR","formControlName","civility"],["value","MR",2,"padding-right","1rem"],["value","MRS",2,"padding-right","1rem"],["value","neutral"],[4,"ngIf"],[1,"p-col-3"],["matInput","","formControlName","first_name",3,"placeholder"],["matInput","","formControlName","last_name",3,"placeholder"],["matInput","","formControlName","email",3,"placeholder"],[1,"phone-number","p-col-12","no-padding-y","p-grid",2,"position","relative"],[1,"label-for-phone"],[1,"phone-number","p-col-4"],["bindLabel","name",1,"custom-dropdownpanel-dialcode","custom-panel-right",3,"formControl","clearable","required","appendTo","change"],["ng-label-tmp",""],[3,"value",4,"ngFor","ngForOf"],[1,"phone-number","p-col-8"],["matInput","","type","text","pattern","^[0-9]+$","maxlength","13",3,"formControl","required"],["class","invalid-feedback",4,"ngIf"],[2,"padding-top","6px"],["formControlName","contract_type","panelClass","filterPanel",3,"placeholder","disableOptionCentering","selectionChange"],[1,"example-full-width",2,"margin-top","5px"],["readonly","","matInput","","formControlName","start_date",3,"matDatepicker","placeholder","click"],["matSuffix","",2,"margin-right","5px",3,"for"],["startDatePicker",""],["readonly","","matInput","","formControlName","end_date",3,"matDatepicker","placeholder","min","disabled","click"],["endDatePicker",""],[1,"p-col-3","legal-entity",2,"margin-bottom","10px","margin-top","8px"],["aria-required","true","class","mrgn-btn custom-style-ngselect","bindLabel","legal_entity_name","bindValue","_id","clearAllText","Clear","formControlName","legal_entity",3,"items","hideSelected","appendTo","placeholder","change",4,"ngIf"],["class","err",4,"ngIf"],["formControlName","contract_manager","panelClass","filterPanel",3,"placeholder","disableOptionCentering"],["formControlName","schools_id","panelClass","filterPanel","multiple","",3,"placeholder","disableOptionCentering"],["matInput","","formControlName","total_amount","readonly","",1,"read",3,"placeholder"],[1,"p-col-3","scholar-season",2,"margin-bottom","10px","margin-top","4px"],["aria-required","true","class","mrgn-btn custom-style-ngselect","bindLabel","scholar_season","bindValue","_id","clearAllText","Clear","formControlName","scholar_season",3,"items","hideSelected","appendTo","placeholder","change",4,"ngIf"],[1,"p-col-3",2,"padding-bottom","20px"],[1,"float-label","label-legal"],["aria-required","true","clearAllText","Clear","formControlName","legal_representative",1,"mrgn-btn","custom-style-ngselect",3,"hideSelected","appendTo","loading","loadingText","placeholder","typeahead","clearable","notFoundText"],["legalSelect",""],["style","font-size: 12px",4,"ngIf"],[1,"p-col-3","padding-field"],["matInput","","required","",3,"matAutocomplete","placeholder","formControl","disabled","keyup"],[3,"panelWidth"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["matInput","","required","","formControlName","level_name",3,"placeholder"],["matInput","","required","","formControlName","echelon",3,"placeholder"],["style","margin-top: 10px",4,"ngIf"],["class","loading-indicator",4,"ngIf"],[1,"read",2,"margin-right","1em"],[2,"margin-right","1em",3,"ngStyle"],[1,"flag-icon-trigger",3,"src"],["class","ml-4",4,"ngIf"],[1,"ml-4"],[3,"value"],[1,"flag-icon",3,"src"],[1,"invalid-feedback"],["matInput","","disabled","",3,"value"],["aria-required","true","bindLabel","legal_entity_name","bindValue","_id","clearAllText","Clear","formControlName","legal_entity",1,"mrgn-btn","custom-style-ngselect",3,"items","hideSelected","appendTo","placeholder","change"],[1,"err"],["aria-required","true","bindLabel","scholar_season","bindValue","_id","clearAllText","Clear","formControlName","scholar_season",1,"mrgn-btn","custom-style-ngselect",3,"items","hideSelected","appendTo","placeholder","change"],[2,"font-size","12px"],[3,"value","click"],[2,"margin-top","10px"],["formArrayName","interventions",4,"ngIf"],["class","p-grid",4,"ngIf"],["formArrayName","interventions"],["class","p-grid",4,"ngFor","ngForOf"],[1,"p-col-6","yellow-border","card-row",3,"formGroupName"],["align","end",1,"p-col-12"],["mat-mini-fab","","type","button","color","warn",3,"click",4,"ngIf"],["formControlName","type_intervention","panelClass","filterPanel",3,"placeholder","disableOptionCentering"],[1,"p-col-6",2,"margin-bottom","10px"],["aria-required","true","class","mrgn-btn custom-style-ngselect","bindLabel","program","bindValue","_id","clearAllText","Clear","formControlName","program",3,"items","hideSelected","appendTo","placeholder","change",4,"ngIf"],["aria-required","true","class","mrgn-btn custom-style-ngselect","bindLabel","name","bindValue","_id","clearAllText","Clear","formControlName","subject_id",3,"items","hideSelected","appendTo","placeholder",4,"ngIf"],["matInput","","type","number","formControlName","total_hours",3,"placeholder","wheel","keypress","keyup"],["matInput","","type","number","formControlName","hourly_rate",3,"placeholder","readonly","wheel","keypress","keyup"],["matSuffix","","svgIcon","currency-eur","class","read",4,"ngIf"],["matSuffix","","svgIcon","currency-eur",4,"ngIf"],["mat-mini-fab","","type","button","color","warn",3,"click"],["matInput","","disabled","",3,"placeholder","value"],["aria-required","true","bindLabel","program","bindValue","_id","clearAllText","Clear","formControlName","program",1,"mrgn-btn","custom-style-ngselect",3,"items","hideSelected","appendTo","placeholder","change"],["aria-required","true","bindLabel","name","bindValue","_id","clearAllText","Clear","formControlName","subject_id",1,"mrgn-btn","custom-style-ngselect",3,"items","hideSelected","appendTo","placeholder"],["matSuffix","","svgIcon","currency-eur",1,"read"],["matSuffix","","svgIcon","currency-eur"],[1,"p-col-6","program",2,"margin-bottom","10px"],[1,"p-col-6","subject",2,"margin-bottom","10px"],["matInput","","formControlName","total_hours","type","number",3,"placeholder","wheel","keyup","keypress"],["matInput","","formControlName","hourly_rate","type","number",3,"placeholder","readonly","wheel","keyup","keypress"],["matInput","","formControlName","paid_leave_allowance_rate","readonly","",1,"read",3,"placeholder"],["matInput","","formControlName","rate_excluding_paid_leave_allowance","readonly","",1,"read",3,"placeholder"],["matInput","","formControlName","compensation_paid_vacation","readonly","",1,"read",3,"placeholder"],["matInput","","formControlName","total_period","readonly","",1,"read",3,"placeholder"],["matInput","","formControlName","trial_period","readonly","",3,"placeholder"],["matInput","","formControlName","induced_hours_coefficient","readonly","",1,"read",3,"placeholder"],["matInput","","formControlName","volume_hours_induced","readonly","",1,"read",3,"placeholder"],["matInput","","formControlName","total_hours_volume_hours_induced","readonly","",1,"read",3,"placeholder"],["class","p-col-6","align","end",4,"ngIf"],["mat-button","","type","button",3,"click",4,"ngIf"],["mat-button","","type","button",3,"click"],[1,"add-icon"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){if(1&e){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",0)(1,"div",1)(2,"div",2),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",3)(6,"button",4),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"button",5),t.\u0275\u0275listener("click",function(){return n.onSave()}),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"button",6),t.\u0275\u0275listener("click",function(){return n.onSendingPreContract()}),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementStart(16,"mat-icon"),t.\u0275\u0275text(17,"forward_to_inbox"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(20,"div",7)(21,"div",2),t.\u0275\u0275template(22,Ca,3,3,"label",8),t.\u0275\u0275template(23,ba,3,6,"label",9),t.\u0275\u0275elementStart(24,"div",10)(25,"mat-radio-group",11)(26,"mat-radio-button",12),t.\u0275\u0275text(27),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(29,"mat-radio-button",13),t.\u0275\u0275text(30),t.\u0275\u0275pipe(31,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(32,"mat-radio-button",14),t.\u0275\u0275text(33),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(35,Ta,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(36,"div",7)(37,"div",16)(38,"mat-form-field"),t.\u0275\u0275element(39,"input",17),t.\u0275\u0275pipe(40,"translate"),t.\u0275\u0275template(41,xa,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(42,"div",16)(43,"mat-form-field"),t.\u0275\u0275element(44,"input",18),t.\u0275\u0275pipe(45,"translate"),t.\u0275\u0275template(46,ya,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(47,"div",16)(48,"mat-form-field"),t.\u0275\u0275element(49,"input",19),t.\u0275\u0275pipe(50,"translate"),t.\u0275\u0275template(51,Sa,3,3,"mat-error",15),t.\u0275\u0275template(52,Oa,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(53,"div",16)(54,"div",7)(55,"div",20)(56,"mat-label",21),t.\u0275\u0275text(57),t.\u0275\u0275pipe(58,"translate"),t.\u0275\u0275template(59,Ea,2,0,"span",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(60,"div",22)(61,"ng-select",23),t.\u0275\u0275listener("change",function(l){return n.selectionDialCode(l)}),t.\u0275\u0275template(62,Ia,2,2,"ng-template",24),t.\u0275\u0275template(63,Pa,2,2,"ng-option",25),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(64,"div",26)(65,"mat-form-field"),t.\u0275\u0275element(66,"input",27),t.\u0275\u0275template(67,Aa,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(68,wa,2,1,"mat-error",28),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(69,"div",7)(70,"div",16)(71,"mat-form-field",29)(72,"mat-select",30),t.\u0275\u0275listener("selectionChange",function(l){return n.typeChange(l.value)}),t.\u0275\u0275pipe(73,"translate"),t.\u0275\u0275template(74,Na,3,4,"mat-option",25),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(75,Ba,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(76,"div",16)(77,"mat-form-field",31)(78,"input",32),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const l=t.\u0275\u0275reference(82);return t.\u0275\u0275resetView(l.open())}),t.\u0275\u0275pipe(79,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(80,"mat-datepicker-toggle",33)(81,"mat-datepicker",null,34),t.\u0275\u0275template(83,Ra,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(84,"div",16)(85,"mat-form-field",31)(86,"input",35),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const l=t.\u0275\u0275reference(90);return t.\u0275\u0275resetView(l.open())}),t.\u0275\u0275pipe(87,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(88,"mat-datepicker-toggle",33)(89,"mat-datepicker",null,36),t.\u0275\u0275template(91,Va,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(92,"div",37),t.\u0275\u0275template(93,ka,3,3,"label",15),t.\u0275\u0275template(94,La,2,1,"mat-form-field",15),t.\u0275\u0275template(95,Ua,2,6,"ng-select",38),t.\u0275\u0275template(96,ja,3,3,"mat-error",39),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(97,"div",7)(98,"div",16)(99,"mat-form-field")(100,"mat-select",40),t.\u0275\u0275pipe(101,"translate"),t.\u0275\u0275template(102,Wa,4,8,"mat-option",25),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(103,Ka,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(104,"div",16)(105,"mat-form-field")(106,"mat-select",41),t.\u0275\u0275pipe(107,"translate"),t.\u0275\u0275template(108,Ha,2,2,"mat-option",25),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(109,Ga,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(110,"div",16)(111,"mat-form-field"),t.\u0275\u0275element(112,"input",42),t.\u0275\u0275pipe(113,"translate"),t.\u0275\u0275template(114,Ya,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(115,"div",43),t.\u0275\u0275template(116,$a,3,3,"label",15),t.\u0275\u0275template(117,za,2,1,"mat-form-field",15),t.\u0275\u0275template(118,qa,2,6,"ng-select",44),t.\u0275\u0275template(119,Qa,3,3,"mat-error",39),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(120,"div",7)(121,"div",45)(122,"label",46),t.\u0275\u0275text(123),t.\u0275\u0275pipe(124,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(125,"ng-select",47,48),t.\u0275\u0275pipe(127,"translate"),t.\u0275\u0275pipe(128,"translate"),t.\u0275\u0275pipe(129,"translate"),t.\u0275\u0275template(130,Xa,4,8,"ng-option",25),t.\u0275\u0275pipe(131,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(132,Za,3,3,"mat-error",49),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(133,"div",50)(134,"mat-form-field")(135,"input",51),t.\u0275\u0275listener("keyup",function(){return n.filterDropdown()}),t.\u0275\u0275pipe(136,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(137,"mat-autocomplete",52,53),t.\u0275\u0275template(139,Ja,2,2,"mat-option",54),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(140,ti,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(141,"div",50)(142,"mat-form-field"),t.\u0275\u0275element(143,"input",55),t.\u0275\u0275pipe(144,"translate"),t.\u0275\u0275template(145,ei,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(146,"div",50)(147,"mat-form-field"),t.\u0275\u0275element(148,"input",56),t.\u0275\u0275pipe(149,"translate"),t.\u0275\u0275template(150,ni,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(151,Qi,6,3,"div",57),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(152,Xi,2,0,"div",58)}if(2&e){const i=t.\u0275\u0275reference(82),o=t.\u0275\u0275reference(90),l=t.\u0275\u0275reference(138);let d,c,m,g,T,v,J,G,tt;t.\u0275\u0275property("formGroup",n.contractForm),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,92,"CONTRACT_MANAGEMENT.Contract Process")," "),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(7,94,"CANCEL")),t.\u0275\u0275property("routerLink",n.fromFollowUp?t.\u0275\u0275pureFunction0(148,Zi):t.\u0275\u0275pureFunction0(149,Ji)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,96,"CANCEL")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(11,98,"SAVE")),t.\u0275\u0275property("disabled",!n.dataContractProcess&&!n.newContract&&n.contractForm.invalid||n.contractForm.invalid&&n.newContract||n.dataContractProcess&&!n.newContract&&n.contractForm.invalid),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(13,100,"SAVE")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(15,102,"CONTRACT_MANAGEMENT.Send the Form")," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(19,104,"CONTRACT_MANAGEMENT.Send the Form")," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",n.contractForm.get("civility").disable&&!n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.newContract),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(28,106,"Mr")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(31,108,"Mrs")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(34,110,"Neutral")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.contractForm.get("civility").hasError("required")&&n.contractForm.get("civility").touched),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(40,112,"First Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.contractForm.get("first_name").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(45,114,"Last Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.contractForm.get("last_name").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(50,116,"e-mail")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.contractForm.get("email").hasError("email")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.contractForm.get("email").hasError("required")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(58,118,"ADD_CONTRACT_DIALOG.Phone Number")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.contractForm.get("portable_phone").value||n.contractForm.get("phone_number_indicative").value),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",n.dialCodeControl)("clearable",!1)("required",null==n.phoneNumberControl?null:n.phoneNumberControl.value)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.countryCodeList),t.\u0275\u0275advance(3),t.\u0275\u0275property("formControl",n.phoneNumberControl)("required",null==n.dialCodeControl?null:n.dialCodeControl.value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.contractForm.get("portable_phone").hasError("pattern")||n.phoneNumberControl.hasError("pattern")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.phoneNumberControl.errors&&(n.phoneNumberControl.dirty||n.phoneNumberControl.touched)||n.dialCodeControl.errors&&(n.dialCodeControl.dirty||n.dialCodeControl.touched)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(73,120,"ADD_CONTRACT_DIALOG.Type of Contract")),t.\u0275\u0275property("disableOptionCentering",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.contract_type),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.contractForm.get("contract_type").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(79,122,"ADD_CONTRACT_DIALOG.Start Date")),t.\u0275\u0275property("matDatepicker",i),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",i),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.contractForm.get("start_date").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(87,124,"End Date")),t.\u0275\u0275property("matDatepicker",o)("min",n.contractForm.get("start_date").value)("disabled",!n.contractForm.get("start_date").value||n.isReadOnly),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",o),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.contractForm.get("end_date").hasError("required")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==(d=n.contractForm.get("legal_entity"))?null:d.value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(c=n.contractForm.get("legal_entity"))?null:c.disable)&&!n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(m=n.contractForm.get("legal_entity"))?null:m.hasError("required"))&&(null==(m=n.contractForm.get("legal_entity"))?null:m.invalid)&&(null==(m=n.contractForm.get("legal_entity"))?null:m.touched)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(101,126,"Contract manager")),t.\u0275\u0275property("disableOptionCentering",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.contract_manage),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.contractForm.get("contract_manager").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(107,128,"Signalement Email")),t.\u0275\u0275property("disableOptionCentering",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.email_sign),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.contractForm.get("schools_id").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(113,130,"CONTRACT_PROCESS_FORM.Total Amount")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.contractForm.get("total_amount").hasError("required")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==(g=n.contractForm.get("scholar_season"))?null:g.value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(T=n.contractForm.get("scholar_season"))?null:T.disable)&&!n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.newContract),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.contractForm||null==(v=n.contractForm.get("scholar_season"))?null:v.hasError("required"))&&(null==n.contractForm||null==(v=n.contractForm.get("scholar_season"))?null:v.invalid)&&(null==n.contractForm||null==(v=n.contractForm.get("scholar_season"))?null:v.touched)),t.\u0275\u0275advance(3),t.\u0275\u0275styleProp("display",n.contractForm.get("legal_representative").value?"block":"none"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(124,132,"Legal Representative"),"* "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("loadingText",t.\u0275\u0275pipeBind1(127,134,"Loading")),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(128,136,"Legal Representative"),"*"),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(129,138,"NOT RECORD FOUND")),t.\u0275\u0275property("hideSelected",!0)("appendTo","body")("loading",n.isLoadingFilter)("typeahead",n.inputLegalRepresent$)("clearable",!1),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(131,140,n.filteredLegalRepresentative)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.contractForm.get("legal_representative").hasError("required")&&n.contractForm.get("legal_representative").touched),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(136,142,"Campus")),t.\u0275\u0275property("matAutocomplete",l)("formControl",n.filterCampus)("disabled",null==(J=n.contractForm.get("campus_id"))?null:J.disable),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.campusDropdown),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.filterCampus?null:n.filterCampus.hasError("required"))&&(null==n.filterCampus?null:n.filterCampus.touched)),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(144,144,"Level")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==n.contractForm||null==(G=n.contractForm.get("level_name"))?null:G.hasError("required"))&&(null==n.contractForm||null==(G=n.contractForm.get("level_name"))?null:G.touched)),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(149,146,"Echelon")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==n.contractForm||null==(tt=n.contractForm.get("echelon"))?null:tt.hasError("required"))&&(null==n.contractForm||null==(tt=n.contractForm.get("echelon"))?null:tt.touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",""!=n.t),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse||n.isWaitingForProgramResponse)}},dependencies:[C.sg,C.O5,C.PC,I.rH,X.XC,X.ZL,P.ey,k.lW,Z.Mq,Z.hl,Z.nW,f.Hw,H.TO,H.KE,H.hX,H.R9,O.Nt,M.Ou,Tt.VQ,Tt.U0,ha.gD,gt.gM,s.\u0275NgNoValidate,s.DefaultValueAccessor,s.NumberValueAccessor,s.NgControlStatus,s.NgControlStatusGroup,s.RequiredValidator,s.MaxLengthValidator,s.PatternValidator,s.FormControlDirective,s.FormGroupDirective,s.FormControlName,s.FormGroupName,s.FormArrayName,ga.yH,x.Zl,A.w9,A.jq,A.mR,C.Ov,C.gd,W.X$],styles:[".card-row[_ngcontent-%COMP%]{margin-bottom:8px!important;padding:15px}.mat-button[_ngcontent-%COMP%]{margin-bottom:20px}.add-icon[_ngcontent-%COMP%]{color:#fff;background-color:#adff2f;border-radius:50%;margin-right:10px;font-size:20px;width:20px;height:20px}.header-form[_ngcontent-%COMP%]{border-bottom:1px solid #4c4c4c;margin-bottom:15px;padding-bottom:15px}.p-col-3[_ngcontent-%COMP%], .p-col-6[_ngcontent-%COMP%]{padding-bottom:0!important;padding-top:0!important}.read[_ngcontent-%COMP%]{color:#8a8a8a!important}[_nghost-%COMP%]  .ng-select{margin-top:0}.legal-entity[_ngcontent-%COMP%], .scholar-season[_ngcontent-%COMP%], .subject[_ngcontent-%COMP%], .program[_ngcontent-%COMP%]{position:relative}.legal-entity[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .scholar-season[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .subject[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .program[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:-8px;font-size:11px;color:#8a8a8a!important;padding:0;margin:0}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#0000!important;color:#fff!important;border-radius:0!important;border:1px solid rgba(0,0,0,0)!important;border-bottom:1px solid rgba(255,255,255,.6784313725)!important;min-height:36px;padding:0!important;align-items:center}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:90%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}.err[_ngcontent-%COMP%]{font-size:12px;padding-top:4px}[_nghost-%COMP%]     .mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick, [_nghost-%COMP%]     .mat-form-field.mat-form-field-invalid .mat-form-field-label, .mat-error[_ngcontent-%COMP%]{color:#ff5722!important}[_nghost-%COMP%]     .mat-radio-group.ng-invalid.ng-touched .mat-radio-outer-circle{border-color:#f44336!important}[_nghost-%COMP%]     .mat-radio-group.ng-invalid.ng-touched .mat-radio-label-content{color:#f44336;font-size:12px;padding-top:4px}[_nghost-%COMP%]  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#ff5722!important}[_nghost-%COMP%]  .ng-select.ng-select-invalid .ng-placeholder{color:#ff5722!important}[_nghost-%COMP%]  .ng-select.ng-invalid .ng-select-container .ng-value-container .ng-placeholder{color:#ff5722!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container .ng-arrow-wrapper .ng-arrow{border-color:#ff5722 transparent transparent!important}[_nghost-%COMP%]  .ng-select .ng-select-container.ng-has-value{max-width:initial;overflow-x:initial}[_nghost-%COMP%]  .ng-select.ng-select-disabled .ng-arrow-wrapper{display:none}[_nghost-%COMP%]  .ng-select.ng-select-disabled .ng-value-container{color:#8a8a8a}[_nghost-%COMP%]  .mat-form-field .mat-select.mat-select-disabled .mat-select-arrow{color:transparent}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-untouched .ng-select-container{border-bottom-color:#fff!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-untouched .ng-placeholder{color:#ffffff80}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-untouched .ng-select-container .ng-value-container .ng-placeholder{color:#ffffff80!important}[_nghost-%COMP%]  .ng-select.ng-select-disabled .ng-select-container{border-bottom:1px dotted rgba(255,255,255,.6784313725)!important}.float-label[_ngcontent-%COMP%]{font-size:.82rem;color:#ffffff78;font-weight:600}[_nghost-%COMP%]  .padding-field .mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.2em!important}.ng-select[_ngcontent-%COMP%]{margin-top:3px}.label-legal[_ngcontent-%COMP%]{position:absolute;font-size:10px}[_nghost-%COMP%]  .mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}[_nghost-%COMP%]  .custom-style-ngselect.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{white-space:normal!important}  .filterPanel{margin-top:25px!important}.flag-icon[_ngcontent-%COMP%]{vertical-align:text-top;margin-right:12px;height:14px;width:20px;display:inline-block}.flag-icon-trigger[_ngcontent-%COMP%]{vertical-align:text-top;margin-right:2px;height:16px;width:16px;display:inline-block}.border-button[_ngcontent-%COMP%]{border-bottom:1px solid #dadada}.phone-number.p-col-4[_ngcontent-%COMP%], .phone-number.p-col-8[_ngcontent-%COMP%], .phone-number.p-col-12[_ngcontent-%COMP%]{padding:0!important}.invalid-feedback[_ngcontent-%COMP%]{position:absolute;bottom:-4px;font-size:12px!important}.phone-number.p-col-4[_ngcontent-%COMP%]{padding-right:0!important}.phone-number.p-col-8[_ngcontent-%COMP%]{padding-left:12px!important}.label-for-phone[_ngcontent-%COMP%]{filter:blur(.4px);position:absolute;font-size:11px;color:#aaa;bottom:46px}.ml-4[_ngcontent-%COMP%]{margin-left:4px}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgba(241,241,241,.8)!important;box-shadow:unset;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .ng-select{margin-bottom:16px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important;margin-top:6px!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important;margin-top:8px!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}  .ng-dropdown-panel.custom-dropdownpanel-dialcode{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-panel-right{left:auto!important;right:0!important;margin-right:24px}"]}),a})();var yt=p(36224);const to=[{path:"",pathMatch:"full",redirectTo:"contract-management"},{path:"contract-management",pathMatch:"full",component:sa},{path:"contract-process",pathMatch:"full",children:[{path:"",pathMatch:"full",component:xt,canDeactivate:[yt.g]},{path:":id",pathMatch:"full",component:xt,canDeactivate:[yt.g]}]}];let eo=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=t.\u0275\u0275defineInjector({imports:[I.Bz.forChild(to),I.Bz]}),a})();var no=p(93730),ao=p(37204),io=p(30160);let oo=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=t.\u0275\u0275defineInjector({imports:[C.ez,eo,no.m,ao.d,A.A0,io.ii.forRoot()]}),a})()},17865:($,B,p)=>{p.d(B,{j:()=>I});var C=p(43489);function I(y,h=null){return function(s){return s.lift(new D(y,h))}}class D{constructor(h,_){this.bufferSize=h,this.startBufferEvery=_,this.subscriberClass=_&&h!==_?b:R}call(h,_){return _.subscribe(new this.subscriberClass(h,this.bufferSize,this.startBufferEvery))}}class R extends C.L{constructor(h,_){super(h),this.bufferSize=_,this.buffer=[]}_next(h){const _=this.buffer;_.push(h),_.length==this.bufferSize&&(this.destination.next(_),this.buffer=[])}_complete(){const h=this.buffer;h.length>0&&this.destination.next(h),super._complete()}}class b extends C.L{constructor(h,_,s){super(h),this.bufferSize=_,this.startBufferEvery=s,this.buffers=[],this.count=0}_next(h){const{bufferSize:_,startBufferEvery:s,buffers:E,count:w}=this;this.count++,w%s==0&&E.push([]);for(let F=E.length;F--;){const V=E[F];V.push(h),V.length===_&&(E.splice(F,1),this.destination.next(V))}}_complete(){const{buffers:h,destination:_}=this;for(;h.length>0;){let s=h.shift();s.length>0&&_.next(s)}super._complete()}}}}]);