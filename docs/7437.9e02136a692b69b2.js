"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[7437],{71156:(It,ht,u)=>{u.d(ht,{K:()=>Bt});var r=u(94650),W=u(65938),f=u(9749),k=u(24006),B=u(29521),F=u(35226),R=u.n(F),c=u(80013),p=u(68745),t=u(89383),J=u(52688),M=u(91013),ft=u(80484),gt=u(47957),st=u(3238),j=u(4859),L=u(77331),K=u(97392),V=u(59549),nt=u(284),H=u(51572),ot=u(10266),Y=u(36895),D=u(37204);const Ct=["languagesInput"],$=["recipientCc"],ut=["recipientBcc"],q=["auto"],I=["myInput"];function ct(y,T){if(1&y){const d=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"mat-icon",27),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(d);const b=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(b.sendMail())}),r.\u0275\u0275pipe(1,"translate"),r.\u0275\u0275text(2,"send"),r.\u0275\u0275elementEnd()}2&y&&r.\u0275\u0275propertyInterpolate("matTooltip",r.\u0275\u0275pipeBind1(1,1,"MailBox.SEND"))}function dt(y,T){1&y&&(r.\u0275\u0275elementStart(0,"mat-icon",28),r.\u0275\u0275pipe(1,"translate"),r.\u0275\u0275text(2,"send"),r.\u0275\u0275elementEnd()),2&y&&r.\u0275\u0275propertyInterpolate("matTooltip",r.\u0275\u0275pipeBind1(1,1,"MailBox.SEND"))}function Z(y,T){1&y&&(r.\u0275\u0275elementStart(0,"mat-icon",31),r.\u0275\u0275text(1,"cancel"),r.\u0275\u0275elementEnd())}function pt(y,T){if(1&y){const d=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"mat-chip",29),r.\u0275\u0275listener("removed",function(){const _=r.\u0275\u0275restoreView(d).$implicit,E=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(E.removeTo(_))}),r.\u0275\u0275text(1),r.\u0275\u0275template(2,Z,2,0,"mat-icon",30),r.\u0275\u0275elementEnd()}if(2&y){const d=T.$implicit,g=r.\u0275\u0275nextContext();r.\u0275\u0275property("selectable",g.selectable)("removable",g.removable),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",d," "),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",g.removable)}}function Ot(y,T){if(1&y&&(r.\u0275\u0275elementStart(0,"mat-option",32),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&y){const d=T.$implicit;r.\u0275\u0275property("value",d),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",d," ")}}function bt(y,T){1&y&&(r.\u0275\u0275elementStart(0,"mat-icon",31),r.\u0275\u0275text(1,"cancel"),r.\u0275\u0275elementEnd())}function S(y,T){if(1&y){const d=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"mat-chip",29),r.\u0275\u0275listener("removed",function(){const _=r.\u0275\u0275restoreView(d).$implicit,E=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(E.removeCc(_))}),r.\u0275\u0275text(1),r.\u0275\u0275template(2,bt,2,0,"mat-icon",30),r.\u0275\u0275elementEnd()}if(2&y){const d=T.$implicit,g=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("selectable",g.selectable)("removable",g.removable),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",d," "),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",g.removable)}}function xt(y,T){if(1&y){const d=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"mat-option",37),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(d);const b=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(b.resetValueCc())}),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()}if(2&y){const d=T.$implicit;r.\u0275\u0275property("value",d),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",d," ")}}function _t(y,T){if(1&y){const d=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"mat-form-field",12)(1,"mat-chip-list",null,33),r.\u0275\u0275template(3,S,3,4,"mat-chip",14),r.\u0275\u0275elementStart(4,"input",34,35),r.\u0275\u0275listener("matChipInputTokenEnd",function(b){r.\u0275\u0275restoreView(d);const _=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(_.addCc(b))}),r.\u0275\u0275pipe(6,"translate"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(7,"mat-autocomplete",17,18),r.\u0275\u0275listener("optionSelected",function(b){r.\u0275\u0275restoreView(d);const _=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(_.setSelectedEmailCc(b))}),r.\u0275\u0275template(9,xt,2,2,"mat-option",36),r.\u0275\u0275elementEnd()()}if(2&y){const d=r.\u0275\u0275reference(2),g=r.\u0275\u0275reference(8),b=r.\u0275\u0275nextContext();r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",b.selectedEmailCc),r.\u0275\u0275advance(1),r.\u0275\u0275propertyInterpolate1("placeholder"," ",r.\u0275\u0275pipeBind1(6,7,"MailBox.composeMail.cc"),""),r.\u0275\u0275property("matAutocomplete",g)("matChipInputFor",d)("matChipInputSeparatorKeyCodes",b.separatorKeysCodesCc)("matChipInputAddOnBlur",b.addOnBlurCc),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngForOf",b.emailAddressesListCc)}}function wt(y,T){1&y&&(r.\u0275\u0275elementStart(0,"mat-icon",31),r.\u0275\u0275text(1,"cancel"),r.\u0275\u0275elementEnd())}function it(y,T){if(1&y){const d=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"mat-chip",29),r.\u0275\u0275listener("removed",function(){const _=r.\u0275\u0275restoreView(d).$implicit,E=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(E.removeBcc(_))}),r.\u0275\u0275text(1),r.\u0275\u0275template(2,wt,2,0,"mat-icon",30),r.\u0275\u0275elementEnd()}if(2&y){const d=T.$implicit,g=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("selectable",g.selectable)("removable",g.removable),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",d," "),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",g.removable)}}function St(y,T){if(1&y&&(r.\u0275\u0275elementStart(0,"mat-option",32),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&y){const d=T.$implicit;r.\u0275\u0275property("value",d),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",d," ")}}function kt(y,T){if(1&y){const d=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"mat-form-field",12)(1,"mat-chip-list",null,38),r.\u0275\u0275template(3,it,3,4,"mat-chip",14),r.\u0275\u0275elementStart(4,"input",39,40),r.\u0275\u0275listener("matChipInputTokenEnd",function(b){r.\u0275\u0275restoreView(d);const _=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(_.addBcc(b))}),r.\u0275\u0275pipe(6,"translate"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(7,"mat-autocomplete",17,18),r.\u0275\u0275listener("optionSelected",function(b){r.\u0275\u0275restoreView(d);const _=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(_.setSelectedEmailBcc(b))}),r.\u0275\u0275template(9,St,2,2,"mat-option",19),r.\u0275\u0275elementEnd()()}if(2&y){const d=r.\u0275\u0275reference(2),g=r.\u0275\u0275reference(8),b=r.\u0275\u0275nextContext();r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",b.selectedEmailBcc),r.\u0275\u0275advance(1),r.\u0275\u0275propertyInterpolate1("placeholder"," ",r.\u0275\u0275pipeBind1(6,7,"MailBox.composeMail.bcc"),""),r.\u0275\u0275property("matAutocomplete",g)("matChipInputFor",d)("matChipInputSeparatorKeyCodes",b.separatorKeysCodesBcc)("matChipInputAddOnBlur",b.addOnBlurBcc),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngForOf",b.emailAddressesListBcc)}}function Ft(y,T){1&y&&(r.\u0275\u0275elementStart(0,"mat-error"),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"translate"),r.\u0275\u0275elementEnd()),2&y&&(r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ut(y,T){if(1&y){const d=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",41)(1,"button",42)(2,"mat-icon"),r.\u0275\u0275text(3,"insert_drive_file"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(4,"label"),r.\u0275\u0275text(5),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(6,"button",43),r.\u0275\u0275listener("click",function(){const _=r.\u0275\u0275restoreView(d).$implicit,E=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(E.removeAttachment(_))}),r.\u0275\u0275elementStart(7,"mat-icon"),r.\u0275\u0275text(8," close "),r.\u0275\u0275elementEnd()()()}if(2&y){const d=T.$implicit;r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(d.name)}}function At(y,T){1&y&&(r.\u0275\u0275elementStart(0,"div",44),r.\u0275\u0275element(1,"mat-progress-spinner",45),r.\u0275\u0275elementEnd())}var lt=(()=>{return(y=lt||(lt={})).LABEL="LABEL",y.VALUE="VALUE",y.OBJECT="OBJECT",lt;var y})();let Bt=(()=>{class y{constructor(d,g,b,_,E,Q,N){this.data=d,this.translate=g,this.userService=b,this.mailboxService=_,this.fileUploadService=E,this.dialogref=Q,this.fb=N,this.subs=new p.Y,this.Editor=f,this.showCC=!1,this.showBCC=!1,this.config={},this.selectedEmailTo=[],this.selectedEmailCc=[],this.selectedEmailBcc=[],this.selectedRecepientsList=[],this.ccselectedRecepientsList=[],this.bccselectedRecepientsList=[],this.recpList=[],this.recpListCc=[],this.recpListBcc=[],this.listIntakeChannel=[{value:"20-21 EFANEW 1",name:"20-21 EFANEW 1"},{value:"20-21 EFANEW 2",name:"20-21 EFANEW 2"},{value:"20-21 EFANEW 3",name:"20-21 EFANEW 3"},{value:"20-21 EFANEW 4",name:"20-21 EFANEW 4"},{value:"20-21 EFANEW 5",name:"20-21 EFANEW 5"}],this.emailAddressesListTo=[],this.emailAddressesListCc=[],this.emailAddressesListBcc=[],this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.addOnBlurCc=!0,this.addOnBlurBcc=!0,this.showCCInput=!1,this.showBCCInput=!1,this.allowOther=!1,this.returnType=lt.LABEL,this.optionSelected=new r.EventEmitter,this.separatorKeysCodes=[B.K5,B.OC],this.separatorKeysCodesCc=[B.K5,B.OC],this.separatorKeysCodesBcc=[B.K5,B.OC],this.attachmnetsPaths=[],this.isGroupEmail=!1,this.isWaitingForResponse=!1,this.sendEmailForm=this.fb.group({to:["",k.Validators.required],cc:["",k.Validators.required],bcc:["",k.Validators.required],subject:["",k.Validators.required],message:["",k.Validators.required]})}ngOnInit(){this.isPermission=this.userService.getPermission(),this.currentUser=this.userService.getLocalStorageUser(),this.getRecipientsData(),this.getDataStudent()}removeAttachment(d){this.attachmnetsPaths.splice(this.attachmnetsPaths.indexOf(d),1)}getDataStudent(){this.preSelectedEmail=(this.data&&this.data.civility&&"neutral"!==this.data.civility?this.translate.instant(this.data.civility)+" ":"")+this.data.first_name+" "+this.data.last_name+" <"+this.data.email+">",this.selectedEmailTo.push((this.data&&this.data.civility&&"neutral"!==this.data.civility?this.translate.instant(this.data.civility)+" ":"")+" "+this.data.first_name+" "+this.data.last_name+" <"+this.data.email+">"),this.emailAddressesListTo.push(this.preSelectedEmail),this.validateEmail(this.data.email)&&this.selectedRecepientsList.push(this.data.email),this.recpList.push(this.data.email),this.sendEmailForm.get("to").setValue(null);let d="";d+=(this.data.school?this.data.school.short_name:"")+" "+(this.data.campus?this.data.campus.name:"")+" "+(this.data.level?this.data.level.name:"")+" "+(this.data.speciality?this.data.speciality.name:"")+" ",this.sendEmailForm.get("subject").setValue(d),this.getEmailMessage()}getEmailMessage(){let d="";d=d+(this.data&&this.data.civility&&"neutral"!==this.data.civility?this.translate.instant(this.data.civility)+" ":"")+this.data.first_name+" "+this.data.last_name+", ",d+="<p></p><p></p><p></p>",this.data.admission_member_id&&(d+=(this.data&&this.data.admission_member_id&&this.data.admission_member_id.civility&&"neutral"!==this.data.admission_member_id.civility?this.translate.instant(this.data.admission_member_id.civility)+" ":"")+this.data.admission_member_id.first_name+" "+this.data.admission_member_id.last_name+"<br>",d+=this.data.admission_member_id&&this.data.admission_member_id.position?this.translate.instant(this.data.admission_member_id.position)+"<br>":""),d+=this.translate.instant("Admission Department for")+" "+(this.data.school?this.data.school.short_name:"")+" "+(this.data.campus?this.data.campus.name:"")+" "+(this.data.level?this.data.level.name:"")+" "+(this.data.scholar_season?this.data.scholar_season.scholar_season:"")+" "+(this.data.speciality?this.data.speciality.name:"")+"<br>",this.sendEmailForm.get("message").setValue(d)}validateEmail(d){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(d)}onReady(d){d.ui.getEditableElement().parentElement.insertBefore(d.ui.view.toolbar.element,d.ui.getEditableElement())}setSelectedEmail(d,g){g.setValue(d)}closeDialog(){R().fire({title:this.translate.instant("MailBox.composeMail.DRAFT.TITLE"),html:this.translate.instant("MailBox.composeMail.DRAFT.TEXT"),type:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("MailBox.composeMail.DRAFT.CONFIRMBTN"),cancelButtonText:this.translate.instant("MailBox.composeMail.DRAFT.DECBTN")}).then(d=>{d.value?(this.saveDraft(),this.dialogref.close()):this.dialogref.close()})}saveDraft(){const d=this.sendEmailForm.value;if(""!==d.subject||""!==d.message&&void 0!==d.message){const g=[];this.mailData={};const b=this.recpList,_=this.recpListCc,E=this.recpListBcc;this.currentUser=this.userService.getLocalStorageUser();const Q={sender:this.currentUser.email,is_read:!1,mail_type:"draft"};if(b){const x=b.toString().split(",");for(let v=0;v<x.length;v++)x[v]=x[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(x[v])&&g.push({recipients:[x[v]],rank:"a",is_read:!1,mail_type:"draft"})}if(_){const x=_.toString().split(",");for(let v=0;v<x.length;v++)x[v]=x[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(x[v])&&g.push({recipients:[x[v]],rank:"cc",is_read:!1,mail_type:"draft"})}if(E){const x=E.toString().split(",");for(let v=0;v<x.length;v++)x[v]=x[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(x[v])&&g.push({recipients:[x[v]],rank:"c",is_read:!1,mail_type:"draft"})}const N=[],U=[];this.attachmnetsPaths.forEach(x=>{const v={file_name:x.name,path:x.path};U.push(x.name),N.push(v)}),this.mailData.sender_property=Q,this.mailData.recipient_properties=g,this.mailData.subject=d.subject,this.mailData.message=d.message,this.mailData.is_sent=!1,this.mailData.status="active",this.mailData.is_urgent_mail=!1,this.mailData.attachments=U,this.mailData.file_attachments=N,this.mailData.tags=["draft"],this.isGroupEmail&&(this.mailData.is_group_parent=this.isGroupEmail,this.mailData.user_type_selection=d.user_type_selection,this.mailData.group_detail=this.computeGroupDetails()),this.subs.sink=this.mailboxService.createMail(this.mailData).subscribe(x=>{R().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DRAFTMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK"),allowOutsideClick:!1})},x=>{this.userService.postErrorLog(x),R().fire({type:"info",title:this.translate.instant("SORRY"),text:x&&x.message?this.translate.instant(x.message.replaceAll("GraphQL error: ","")):x,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}sendMail(){this.isWaitingForResponse=!0;const d=this.sendEmailForm.value;if(""!==d.subject||""!==d.message&&void 0!==d.message){const g=[];this.mailData={};const b=this.recpList,_=this.recpListCc,E=this.recpListBcc;this.currentUser=this.userService.getLocalStorageUser();const Q={sender:this.currentUser.email,is_read:!1,mail_type:"sent"};if(b){const x=b.toString().split(",");for(let v=0;v<x.length;v++)x[v]=x[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(x[v])&&g.push({recipients:[x[v]],rank:"a",is_read:!1,mail_type:"inbox"})}if(_){const x=_.toString().split(",");for(let v=0;v<x.length;v++)x[v]=x[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(x[v])&&g.push({recipients:[x[v]],rank:"cc",is_read:!1,mail_type:"inbox"})}if(E){const x=E.toString().split(",");for(let v=0;v<x.length;v++)x[v]=x[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(x[v])&&g.push({recipients:[x[v]],rank:"c",is_read:!1,mail_type:"inbox"})}const N=[],U=[];this.attachmnetsPaths.forEach(x=>{const v={file_name:x.name,path:x.path};U.push(x.name),N.push(v)}),this.mailData.sender_property=Q,this.mailData.recipient_properties=g,this.mailData.subject=d.subject,this.mailData.message=d.message,this.mailData.is_sent=!0,this.mailData.status="active",this.mailData.is_urgent_mail=!0,this.mailData.attachments=U,this.mailData.file_attachments=N,this.mailData.tags=["sent"],this.isGroupEmail&&(this.mailData.is_group_parent=this.isGroupEmail,this.mailData.user_type_selection=d.user_type_selection,this.mailData.group_detail=this.computeGroupDetails()),this.subs.sink=this.mailboxService.createMail(this.mailData).subscribe(x=>{this.isWaitingForResponse=!1,this.dialogref.close(),R().fire({allowOutsideClick:!1,title:this.translate.instant("MailBox.composeMail.MESSAGES.TITLE"),text:this.translate.instant("MailBox.composeMail.MESSAGES.TEXT"),allowEscapeKey:!0,type:"success",confirmButtonText:this.translate.instant("MailBox.composeMail.MESSAGES.CONFIRMBTN")})},x=>{this.userService.postErrorLog(x),this.isWaitingForResponse=!1,R().fire({type:"warning",title:this.translate.instant("Sorry"),text:x&&x.message?this.translate.instant(x.message.replaceAll("GraphQL error: ","")):x,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}setSelectedEmailTo(d){const g=d.option.value,b=g.split(" ");let _="";b.forEach(at=>{_=at});const Q=_.replace("<","").replace(">","");this.validateEmail(Q)&&(this.selectedEmailTo.push(g),this.selectedRecepientsList.push(g));const N=g.split(" ");let U="";N.forEach(at=>{U=at});const v=U.replace("<","").replace(">","");this.recpList.push(v),this.languagesInput.nativeElement.value="",this.sendEmailForm.get("to").setValue(null),this.emitSelectedLanguagesTo()}setSelectedEmailCc(d){const g=d.option.value,b=g.split(" ");let _="";b.forEach(at=>{_=at});const Q=_.replace("<","").replace(">","");this.validateEmail(Q)&&(this.selectedEmailCc.push(g),this.selectedRecepientsList.push(g));const N=g.split(" ");let U="";N.forEach(at=>{U=at});const v=U.replace("<","").replace(">","");this.recpListCc.push(v),this.recipientCc.nativeElement.value="",this.sendEmailForm.get("cc").patchValue("",{emitEvent:!0}),this.sendEmailForm.get("cc").setValue("")}setSelectedEmailBcc(d){const g=d.option.value,b=g.split(" ");let _="";b.forEach(at=>{_=at});const Q=_.replace("<","").replace(">","");this.validateEmail(Q)&&(this.selectedEmailBcc.push(g),this.selectedRecepientsList.push(g));const N=g.split(" ");let U="";N.forEach(at=>{U=at});const v=U.replace("<","").replace(">","");this.recpListBcc.push(v),this.sendEmailForm.get("bcc").setValue(null),this.sendEmailForm.get("bcc").setValue(""),this.recipientBcc.nativeElement.value=""}emitSelectedLanguagesTo(){this.optionSelected.emit(this.returnType===lt.OBJECT?this.selectedEmailTo:this.selectedEmailTo.map(this.returnType===lt.VALUE?d=>d.value:d=>d.label))}emitSelectedLanguagesCc(){this.optionSelected.emit(this.returnType===lt.OBJECT?this.selectedEmailCc:this.selectedEmailCc.map(this.returnType===lt.VALUE?d=>d.value:d=>d.label))}emitSelectedLanguagesBcc(){this.optionSelected.emit(this.returnType===lt.OBJECT?this.selectedEmailBcc:this.selectedEmailBcc.map(this.returnType===lt.VALUE?d=>d.value:d=>d.label))}removeTo(d){const g=this.selectedEmailTo.findIndex(_=>_===d),b=this.selectedRecepientsList.findIndex(_=>_===d);g>=0&&this.selectedEmailTo.splice(g,1),b>=0&&this.selectedRecepientsList.splice(b,1),this.emitSelectedLanguagesTo()}removeCc(d){const g=this.selectedEmailCc.findIndex(_=>_===d),b=this.selectedRecepientsList.findIndex(_=>_===d);g>=0&&this.selectedEmailCc.splice(g,1),b>=0&&this.selectedRecepientsList.splice(b,1),this.emitSelectedLanguagesCc()}removeBcc(d){const g=this.selectedEmailBcc.findIndex(_=>_===d),b=this.selectedRecepientsList.findIndex(_=>_===d);g>=0&&this.selectedEmailBcc.splice(g,1),b>=0&&this.selectedRecepientsList.splice(b,1),this.emitSelectedLanguagesBcc()}addTo(d){if(!this.matAutocomplete.isOpen){const g=d.chipInput.inputElement,b=d.value,_=b.split(" ");let E="";_.forEach(U=>{E=U});const N=E.replace("<","").replace(">","");this.validateEmail(N)&&(b||"").trim()&&this.allowOther&&this.selectedEmailTo.push({label:b.trim(),value:b.trim()}),g&&(g.value=""),this.sendEmailForm.get("to").setValue(null),this.sendEmailForm.get("to").setValue("")}this.emitSelectedLanguagesTo()}addCc(d){if(!this.matAutocomplete.isOpen){const g=d.chipInput.inputElement,b=d.value,_=b.split(" ");let E="";_.forEach(U=>{E=U});const N=E.replace("<","").replace(">","");this.validateEmail(N)&&(b||"").trim()&&this.allowOther&&this.selectedEmailCc.push({label:b.trim(),value:b.trim()}),g&&(g.value=""),this.sendEmailForm.get("cc").setValue(null),this.sendEmailForm.get("cc").setValue("")}this.emitSelectedLanguagesCc()}addBcc(d){if(!this.matAutocomplete.isOpen){const g=d.chipInput.inputElement,b=d.value,_=b.split(" ");let E="";_.forEach(U=>{E=U});const N=E.replace("<","").replace(">","");this.validateEmail(N)&&(b||"").trim()&&this.allowOther&&this.selectedEmailBcc.push({label:b.trim(),value:b.trim()}),g&&(g.value=""),this.sendEmailForm.get("bcc").setValue(null),this.sendEmailForm.get("bcc").setValue("")}this.emitSelectedLanguagesBcc()}resetValueTo(){this.sendEmailForm.get("to").patchValue("",{emitEvent:!0})}resetValueCc(){this.sendEmailForm.get("cc").patchValue("",{emitEvent:!0})}resetValueBcc(){this.sendEmailForm.get("bcc").patchValue("",{emitEvent:!0})}computeGroupDetails(){const d=this.sendEmailForm.get("rncp_titles").value.map(b=>b.id);let g=[];return this.sendEmailForm.get("user_type_selection").value&&(g=this.sendEmailForm.get("user_types").value.map(b=>b.id)),{rncp_titles:d,user_types:g}}handleInputChange(d){const g=d.target.files[0];g&&(this.subs.sink=this.fileUploadService.singleUpload(g).subscribe(b=>{b?this.attachmnetsPaths.push({path:b.file_url,name:b.file_name}):R().fire({type:"info",title:this.translate.instant("SORRY"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("OK")})},b=>{this.userService.postErrorLog(b),R().fire({type:"info",title:this.translate.instant("SORRY"),text:b&&b.message?this.translate.instant(b.message.replaceAll("GraphQL error: ","")):b,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.resetFileState()}resetFileState(){this.currentFile.nativeElement.value=""}getRecipientsData(){this.subs.sink=this.sendEmailForm.get("to").valueChanges.pipe((0,c.b)(800)).subscribe(d=>{this.emailAddressesListTo=[],d&&d.length&&(this.subs.sink=this.mailboxService.getRecipientDataUsingName(d.toString()).subscribe(g=>{g&&g.length&&g.filter(_=>!this.selectedRecepientsList.includes((_&&_.civility&&"neutral"!==_.civility?this.translate.instant(_.civility)+" ":"")+_.first_name+" "+_.last_name+" <"+_.email+">")).concat(this.selectedRecepientsList.filter(_=>!this.selectedRecepientsList.includes((_&&_.civility&&"neutral"!==_.civility?this.translate.instant(_.civility)+" ":"")+_.first_name+" "+_.last_name+" <"+_.email+">"))).forEach(_=>{void 0!==_.email&&this.emailAddressesListTo.push((_&&_.civility&&"neutral"!==_.civility?this.translate.instant(_.civility)+" ":"")+_.first_name+" "+_.last_name+" <"+_.email+">")})},g=>{this.userService.postErrorLog(g),R().fire({type:"info",title:this.translate.instant("SORRY"),text:g&&g.message?this.translate.instant(g.message.replaceAll("GraphQL error: ","")):g,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}),this.subs.sink=this.sendEmailForm.get("cc").valueChanges.pipe((0,c.b)(800)).subscribe(d=>{this.emailAddressesListCc=[],d&&d.length&&(this.subs.sink=this.mailboxService.getRecipientDataUsingName(d.toString()).subscribe(g=>{g&&g.length&&g.filter(_=>!this.selectedRecepientsList.includes((_&&_.civility&&"neutral"!==_.civility?this.translate.instant(_.civility)+" ":"")+_.first_name+" "+_.last_name+" <"+_.email+">")).concat(this.selectedRecepientsList.filter(_=>!this.selectedRecepientsList.includes((_&&_.civility&&"neutral"!==_.civility?this.translate.instant(_.civility)+" ":"")+_.first_name+" "+_.last_name+" <"+_.email+">"))).forEach(_=>{void 0!==_.email&&this.emailAddressesListCc.push((_&&_.civility&&"neutral"!==_.civility?this.translate.instant(_.civility)+" ":"")+_.first_name+" "+_.last_name+" <"+_.email+">")})},g=>{this.userService.postErrorLog(g),R().fire({type:"info",title:this.translate.instant("SORRY"),text:g&&g.message?this.translate.instant(g.message.replaceAll("GraphQL error: ","")):g,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}),this.subs.sink=this.sendEmailForm.get("bcc").valueChanges.pipe((0,c.b)(800)).subscribe(d=>{this.emailAddressesListBcc=[],d&&d.length&&(this.subs.sink=this.mailboxService.getRecipientDataUsingName(d.toString()).subscribe(g=>{g&&g.length&&g.filter(_=>!this.selectedRecepientsList.includes((_&&_.civility&&"neutral"!==_.civility?this.translate.instant(_.civility)+" ":"")+_.first_name+" "+_.last_name+" <"+_.email+">")).concat(this.selectedRecepientsList.filter(_=>!this.selectedRecepientsList.includes((_&&_.civility&&"neutral"!==_.civility?this.translate.instant(_.civility)+" ":"")+_.first_name+" "+_.last_name+" <"+_.email+">"))).forEach(_=>{void 0!==_.email&&this.emailAddressesListBcc.push((_&&_.civility&&"neutral"!==_.civility?this.translate.instant(_.civility)+" ":"")+_.first_name+" "+_.last_name+" <"+_.email+">")})},g=>{this.userService.postErrorLog(g),R().fire({type:"info",title:this.translate.instant("SORRY"),text:g&&g.message?this.translate.instant(g.message.replaceAll("GraphQL error: ","")):g,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}getCurrentUser(){this.currentUser=this.userService.getLocalStorageUser()}ngOnDestroy(){this.subs.unsubscribe()}}return y.\u0275fac=function(d){return new(d||y)(r.\u0275\u0275directiveInject(W.WI),r.\u0275\u0275directiveInject(t.sK),r.\u0275\u0275directiveInject(J.e),r.\u0275\u0275directiveInject(M.e),r.\u0275\u0275directiveInject(ft.J),r.\u0275\u0275directiveInject(W.so),r.\u0275\u0275directiveInject(k.UntypedFormBuilder))},y.\u0275cmp=r.\u0275\u0275defineComponent({type:y,selectors:[["ng-component"]],viewQuery:function(d,g){if(1&d&&(r.\u0275\u0275viewQuery(Ct,5),r.\u0275\u0275viewQuery($,5),r.\u0275\u0275viewQuery(ut,5),r.\u0275\u0275viewQuery(q,5),r.\u0275\u0275viewQuery(I,5)),2&d){let b;r.\u0275\u0275queryRefresh(b=r.\u0275\u0275loadQuery())&&(g.languagesInput=b.first),r.\u0275\u0275queryRefresh(b=r.\u0275\u0275loadQuery())&&(g.recipientCc=b.first),r.\u0275\u0275queryRefresh(b=r.\u0275\u0275loadQuery())&&(g.recipientBcc=b.first),r.\u0275\u0275queryRefresh(b=r.\u0275\u0275loadQuery())&&(g.matAutocomplete=b.first),r.\u0275\u0275queryRefresh(b=r.\u0275\u0275loadQuery())&&(g.currentFile=b.first)}},inputs:{allowOther:"allowOther",returnType:"returnType"},outputs:{optionSelected:"optionSelected"},decls:46,vars:34,consts:[[3,"formGroup"],[1,"fontColor"],["mat-dialog-title",""],["svgIcon","pencil",1,"icon-style"],[1,"alignment"],[1,"icon-style",3,"matTooltip","click"],[1,"icon-style",3,"click"],[1,"icon-style",3,"matTooltip"],["type","file","name","file","multiple","","accept",".jpeg,.png,.rar,.zip,.doc,.docx,.ppt,.pdf,.xls",2,"display","none",3,"change"],["myInput",""],["class","vertical-align-mid cursorStyle",3,"matTooltip","click",4,"ngIf"],["style","color: rgb(170, 168, 168)","class","vertical-align-mid cursorStyle",3,"matTooltip",4,"ngIf"],[1,"chip-list"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","email","formControlName","to",3,"placeholder","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["languagesInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["class","chip-list",4,"ngIf"],["matInput","","formControlName","subject",3,"placeholder"],[4,"ngIf"],[1,"file-section","p-col-12"],["class","fileInfo",4,"ngFor","ngForOf"],["formControlName","message",3,"editor","config","ready"],["class","loading-indicator",4,"ngIf"],[1,"vertical-align-mid","cursorStyle",3,"matTooltip","click"],[1,"vertical-align-mid","cursorStyle",2,"color","rgb(170, 168, 168)",3,"matTooltip"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],["chipListCc",""],["formControlName","cc",3,"placeholder","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["recipientCc",""],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["chipListBcc",""],["formControlName","bcc",3,"placeholder","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["recipientBcc",""],[1,"fileInfo"],["mat-icon-button","","type","button"],["mat-icon-button","","type","button",3,"click"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(d,g){if(1&d&&(r.\u0275\u0275elementStart(0,"form",0)(1,"div",1)(2,"h1",2),r.\u0275\u0275element(3,"mat-icon",3),r.\u0275\u0275text(4),r.\u0275\u0275pipe(5,"translate"),r.\u0275\u0275elementStart(6,"div",4)(7,"mat-icon",5),r.\u0275\u0275listener("click",function(){return g.closeDialog()}),r.\u0275\u0275pipe(8,"translate"),r.\u0275\u0275text(9,"close"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(10,"label")(11,"a",6),r.\u0275\u0275listener("click",function(){return g.showCC=!g.showCC}),r.\u0275\u0275text(12,"CC"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(13,"label")(14,"a",6),r.\u0275\u0275listener("click",function(){return g.showBCC=!g.showBCC}),r.\u0275\u0275text(15),r.\u0275\u0275pipe(16,"translate"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(17,"label")(18,"mat-icon",7),r.\u0275\u0275pipe(19,"translate"),r.\u0275\u0275text(20,"attachment"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(21,"input",8,9),r.\u0275\u0275listener("change",function(_){return g.handleInputChange(_)}),r.\u0275\u0275elementEnd()(),r.\u0275\u0275template(23,ct,3,3,"mat-icon",10),r.\u0275\u0275template(24,dt,3,3,"mat-icon",11),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(25,"mat-dialog-content")(26,"mat-form-field",12)(27,"mat-chip-list",null,13),r.\u0275\u0275template(29,pt,3,4,"mat-chip",14),r.\u0275\u0275elementStart(30,"input",15,16),r.\u0275\u0275listener("matChipInputTokenEnd",function(_){return g.addTo(_)}),r.\u0275\u0275pipe(32,"translate"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(33,"mat-autocomplete",17,18),r.\u0275\u0275listener("optionSelected",function(_){return g.setSelectedEmailTo(_)}),r.\u0275\u0275template(35,Ot,2,2,"mat-option",19),r.\u0275\u0275elementEnd()(),r.\u0275\u0275template(36,_t,10,9,"mat-form-field",20),r.\u0275\u0275template(37,kt,10,9,"mat-form-field",20),r.\u0275\u0275elementStart(38,"mat-form-field"),r.\u0275\u0275element(39,"input",21),r.\u0275\u0275pipe(40,"translate"),r.\u0275\u0275template(41,Ft,3,3,"mat-error",22),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(42,"div",23),r.\u0275\u0275template(43,Ut,9,1,"div",24),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(44,"ckeditor",25),r.\u0275\u0275listener("ready",function(_){return g.onReady(_)}),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275template(45,At,2,0,"div",26)),2&d){const b=r.\u0275\u0275reference(28),_=r.\u0275\u0275reference(34);r.\u0275\u0275property("formGroup",g.sendEmailForm),r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(5,22,"MailBox.composeMail.title")," "),r.\u0275\u0275advance(3),r.\u0275\u0275propertyInterpolate("matTooltip",r.\u0275\u0275pipeBind1(8,24,"CLOSE")),r.\u0275\u0275advance(8),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(16,26,"MailBox.composeMail.bcc")),r.\u0275\u0275advance(3),r.\u0275\u0275propertyInterpolate("matTooltip",r.\u0275\u0275pipeBind1(19,28,"MailBox.ATTACH_FILE")),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngIf",g.sendEmailForm.get("subject").value&&g.selectedEmailTo.length&&!g.isWaitingForResponse),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!(g.sendEmailForm.get("subject").value&&g.selectedEmailTo.length&&!g.isWaitingForResponse)),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngForOf",g.selectedEmailTo),r.\u0275\u0275advance(1),r.\u0275\u0275propertyInterpolate1("placeholder"," ",r.\u0275\u0275pipeBind1(32,30,"MailBox.composeMail.to"),""),r.\u0275\u0275property("matAutocomplete",_)("matChipInputFor",b)("matChipInputSeparatorKeyCodes",g.separatorKeysCodes)("matChipInputAddOnBlur",g.addOnBlur),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngForOf",g.emailAddressesListTo),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",g.showCC||g.showCCInput),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",g.showBCC||g.showBCCInput),r.\u0275\u0275advance(2),r.\u0275\u0275propertyInterpolate("placeholder",r.\u0275\u0275pipeBind1(40,32,"MailBox.subject")),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",g.sendEmailForm.get("subject").hasError("required")&&(g.sendEmailForm.get("subject").dirty||g.sendEmailForm.get("subject").touched)),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",g.attachmnetsPaths),r.\u0275\u0275advance(1),r.\u0275\u0275property("editor",g.Editor)("config",g.config),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",g.isWaitingForResponse)}},dependencies:[gt.XC,gt.ZL,st.ey,j.lW,L.qn,L.HS,L.oH,L.qH,W.uh,W.xY,K.Hw,V.TO,V.KE,nt.Nt,H.Ou,ot.gM,k.\u0275NgNoValidate,k.DefaultValueAccessor,k.NgControlStatus,k.NgControlStatusGroup,k.FormGroupDirective,k.FormControlName,Y.sg,Y.O5,D.u,t.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}[_nghost-%COMP%]     .mat-dialog-content{max-height:520px;height:auto}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:-moz-fit-content;min-height:fit-content;max-height:40vh}.alignment[_ngcontent-%COMP%]{float:right}.cursorStyle[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.chip-list[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}"]}),y})()},62425:(It,ht,u)=>{u.d(ht,{L:()=>Ct});var r=u(24006),W=u(65938),f=u(83515),A=u(68745),k=u(35226),B=u.n(k),F=u(15439),c=u(10830),p=u(94650),t=u(89383),J=u(84075),M=u(52688),ft=u(58800),gt=u(54982),st=u(36895),j=u(73555),L=u(4859),K=u(99602),V=u(97392),nt=u(59549),H=u(284),ot=u(51572);function Y($,ut){1&$&&(p.\u0275\u0275elementStart(0,"mat-error",15),p.\u0275\u0275text(1),p.\u0275\u0275pipe(2,"translate"),p.\u0275\u0275elementEnd()),2&$&&(p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function D($,ut){1&$&&(p.\u0275\u0275elementStart(0,"div",16),p.\u0275\u0275element(1,"mat-progress-spinner",17),p.\u0275\u0275elementEnd())}let Ct=(()=>{class ${constructor(q,I,ct,dt,Z,pt,Ot,bt,S){this.dialogRef=q,this.translate=I,this.utilService=ct,this.authService=dt,this.teacherManagementServive=Z,this.usersService=pt,this.parentData=Ot,this.parseLocalToUtc=bt,this.parseStringDatePipe=S,this.subs=new A.Y,this.isWaitingForResponse=!1,this.today=new Date,this.dateOfValidityCtrl=new r.UntypedFormControl(null,r.Validators.required)}ngOnInit(){if(this.parentData?.dateValidation){const q=this.parseStringDatePipe.transformStringToDate(this.parentData?.dateValidation);this.dateOfValidityCtrl.patchValue(q)}}validateDate(){if(this.dateOfValidityCtrl?.invalid)this.isWaitingForResponse=!1,B().fire({type:"info",title:this.translate.instant("Please fill all the required fields !"),html:this.translate.instant("To be able to submit the form please fill in all the required fields."),confirmButtonText:this.translate.instant("I understand"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dateOfValidityCtrl.markAllAsTouched()});else{const q=this.createPayload();this.isWaitingForResponse=!0,this.subs.sink=this.teacherManagementServive.updateAcadDoc(this.parentData?._id,q).subscribe(I=>{this.isWaitingForResponse=!1,I&&B().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(I)})},I=>{this.authService.postErrorLog(I),this.isWaitingForResponse=!1,B().fire({type:"info",title:this.translate.instant("SORRY"),text:I&&I.message?this.translate.instant(I.message.replaceAll("GraphQL error: ","")):I,allowOutsideClick:!1})})}}createPayload(){const q=this.dateOfValidityCtrl.value?F(this.dateOfValidityCtrl.value).format("DD/MM/YYYY"):null;let I;return q&&"Invalid date"!==q&&(I=this.parseLocalToUtc.transformDate(q,"15:59")),{date_of_expired:{date:I,time:"15:59"}}}closeDialog(){this.dialogRef.close()}ngOnDestroy(){this.subs.unsubscribe()}}return $.\u0275fac=function(q){return new(q||$)(p.\u0275\u0275directiveInject(W.so),p.\u0275\u0275directiveInject(t.sK),p.\u0275\u0275directiveInject(J.t),p.\u0275\u0275directiveInject(M.e),p.\u0275\u0275directiveInject(ft.D),p.\u0275\u0275directiveInject(gt.f),p.\u0275\u0275directiveInject(W.WI),p.\u0275\u0275directiveInject(f.w),p.\u0275\u0275directiveInject(c.n))},$.\u0275cmp=p.\u0275\u0275defineComponent({type:$,selectors:[["ms-add-validity-date-dialog"]],features:[p.\u0275\u0275ProvidersFeature([f.w,c.n])],decls:28,vars:18,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header-div"],[1,"header-text"],["mat-icon-button","","type","button",1,"header-icon",3,"click"],[1,"header-form"],[1,"content-height"],[1,"p-grid"],[1,"p-col-12"],["matInput","","readonly","",1,"form-field",3,"formControl","placeholder","min","matDatepicker","click"],["matSuffix","",3,"for"],["dateOfValidityPick",""],["class","invalid-field",4,"ngIf"],["align","right"],["mat-raised-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary","type","button",3,"click"],["class","loading-indicator",4,"ngIf"],[1,"invalid-field"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(q,I){if(1&q){const ct=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"div",0)(1,"h3",1),p.\u0275\u0275text(2),p.\u0275\u0275pipe(3,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(4,"button",2),p.\u0275\u0275listener("click",function(){return I.closeDialog()}),p.\u0275\u0275elementStart(5,"mat-icon"),p.\u0275\u0275text(6,"close"),p.\u0275\u0275elementEnd()()(),p.\u0275\u0275element(7,"hr"),p.\u0275\u0275elementStart(8,"div",3)(9,"div")(10,"mat-dialog-content",4)(11,"div",5)(12,"div",6)(13,"mat-form-field")(14,"input",7),p.\u0275\u0275listener("click",function(){p.\u0275\u0275restoreView(ct);const Z=p.\u0275\u0275reference(18);return p.\u0275\u0275resetView(Z.open())}),p.\u0275\u0275pipe(15,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(16,"mat-datepicker-toggle",8)(17,"mat-datepicker",null,9),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(19,Y,3,3,"mat-error",10),p.\u0275\u0275elementEnd()()(),p.\u0275\u0275elementStart(20,"mat-dialog-actions",11)(21,"button",12),p.\u0275\u0275listener("click",function(){return I.closeDialog()}),p.\u0275\u0275text(22),p.\u0275\u0275pipe(23,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(24,"button",13),p.\u0275\u0275listener("click",function(){return I.validateDate()}),p.\u0275\u0275text(25),p.\u0275\u0275pipe(26,"translate"),p.\u0275\u0275elementEnd()()()(),p.\u0275\u0275template(27,D,2,0,"div",14)}if(2&q){const ct=p.\u0275\u0275reference(18);p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(3,10,"ADD_VALIDATE_DATE_DIALOG.TITLE")," "),p.\u0275\u0275advance(12),p.\u0275\u0275propertyInterpolate("placeholder",p.\u0275\u0275pipeBind1(15,12,"SELECTDATE")),p.\u0275\u0275property("formControl",I.dateOfValidityCtrl)("min",I.today)("matDatepicker",ct),p.\u0275\u0275advance(2),p.\u0275\u0275property("for",ct),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngIf",I.dateOfValidityCtrl.hasError("required")&&(I.dateOfValidityCtrl.dirty||I.dateOfValidityCtrl.touched)),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(23,14,"Cancel")," "),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(26,16,"Validate")," "),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngIf",I.isWaitingForResponse)}},dependencies:[st.O5,j.Zt,j.Bh,L.lW,K.Mq,K.hl,K.nW,W.xY,W.H8,V.Hw,nt.TO,nt.KE,nt.R9,H.Nt,ot.Ou,r.DefaultValueAccessor,r.NgControlStatus,r.FormControlDirective,t.X$],styles:["[_nghost-%COMP%]  .header-text{margin-left:8px}[_nghost-%COMP%]  .mat-radio-button{margin-top:8px}.header-form[_ngcontent-%COMP%]{padding:16px;color:#000}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:4px!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:4px!important}.footer-form[_ngcontent-%COMP%]{padding:0 18px 18px}.no-margin[_ngcontent-%COMP%]{margin:0!important}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.float-left[_ngcontent-%COMP%]{float:left}[_nghost-%COMP%]     .mat-dialog-content{margin:0!important;padding:0!important;min-height:140px}[_nghost-%COMP%]     .mat-dialog-actions{min-height:unset}.invalid-field[_ngcontent-%COMP%]{color:red;font-size:14px}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}"]}),$})()},37437:(It,ht,u)=>{u.r(ht),u.d(ht,{UserManagementModule:()=>Rs});var r=u(36895),W=u(610),f=u(24006),A=u(98739),k=u(22868),B=u(80013),F=u(68745),R=u(35226),c=u.n(R),p=u(17489),t=u(94650),J=u(67154),M=u(89383),ft=u(96334),gt=u(54982),st=u(63030),j=u(52688),L=u(4859),K=u(97392),V=u(59549),nt=u(284),H=u(51572),ot=u(10266),Y=u(24784),D=u(88796),Ct=u(33296),$=u(73546);function ut(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"div",3)(1,"h4",4),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.isTeacherList?t.\u0275\u0275pipeBind1(3,1,"No teachers found"):t.\u0275\u0275pipeBind1(4,3,"User not Found"))}}function q(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-card",8),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.selectUser(l._id))}),t.\u0275\u0275elementStart(1,"mat-card-subtitle",9)(2,"div",3)(3,"div",10)(4,"span"),t.\u0275\u0275element(5,"img",11),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",12)(7,"div",13)(8,"div",14)(9,"h5",15),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275pipe(12,"uppercase"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"p"),t.\u0275\u0275text(14),t.\u0275\u0275elementEnd()()()()()()()}if(2&i){const e=o.$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass",n.selectedUserId===e._id?"candidate-select mrgn-all-md":"mrgn-all-md"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",n.selectedUserId===e._id?"candidate-text":"test"),t.\u0275\u0275advance(4),t.\u0275\u0275property("src",e.profile_picture?n.serverimgPath+e.profile_picture:"MR"===e.civility?n.maleCandidateIcon:"neutral"===(null==e?null:e.civility)?n.neutralStudentIcon:n.femaleCandidateIcon,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate3(" ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(11,7,null==e?null:e.civility)," ",null==e?null:e.first_name," ",t.\u0275\u0275pipeBind1(12,9,null==e?null:e.last_name)," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(null==e?null:e.position)}}function I(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"div",5)(1,"div",6),t.\u0275\u0275template(2,q,15,11,"mat-card",7),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("max-height",e.getAutomaticHeight(),"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.userList)}}let ct=(()=>{class i{constructor(e){this.coreService=e,this.selectedUserChange=new t.EventEmitter,this.maleCandidateIcon="../../../../../assets/img/student_icon.png",this.femaleCandidateIcon="../../../../../assets/img/student_icon_fem.png",this.neutralStudentIcon="../../../../../assets/img/student_icon_neutral.png",this.userProfilePic="../../../../../assets/img/user-1.jpg",this.userProfilePic1="../../../../../assets/img/user-3.jpg",this.userProfilePic2="../../../../../assets/img/user-5.jpg",this.greenHandShakeIcon="../../../../../assets/img/hand-shake-green.png",this.redHandShakeIcon="../../../../../assets/img/hand-shake-red.png",this.blackHandShakeIcon="../../../../../assets/img/hand-shake-black.png",this.orangeHandShakeIcon="../../../../../assets/img/hand-shake-orange.png",this.greyHandShakeIcon="../../../../../assets/img/hand-shake-grey.png",this.serverimgPath=`${Ct.a.baseApi}/fileuploads/`.replace("/graphql",""),this.myInnerHeight=1920,this.isWaitingForResponse=!1,this.selectUser=n=>{this.selectedUserId!==n&&(this.selectedUserId=n,this.selectedUserChange.emit(this.selectedUserId))}}ngOnInit(){this.coreService.sidenavOpen=!1}getAutomaticHeight(){return this.myInnerHeight=window.innerHeight-251,this.myInnerHeight-32}getCardHeight(){return this.myInnerHeight=window.innerHeight-263,this.myInnerHeight-32}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(ft.p))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-user-cards"]],inputs:{userList:"userList",isTeacherList:"isTeacherList",selectedUserId:"selectedUserId"},outputs:{selectedUserChange:"selectedUserChange"},decls:4,vars:6,consts:[["class","p-grid",4,"ngIf"],[1,"p-grid",2,"padding-top","10px","overflow","hidden"],["style","width: 100%",4,"ngIf"],[1,"p-grid"],[1,"text-empty"],[2,"width","100%"],["id","style-4",1,"scrollbar",2,"overflow-x","hidden","overflow-y","auto"],["style","cursor: pointer; padding: 4px !important; margin-right: 10 px !important; margin-top: 0px !important",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"cursor","pointer","padding","4px !important","margin-right","10 px !important","margin-top","0px !important",3,"ngClass","click"],[3,"ngClass"],[1,"p-col-2",2,"align-self","center"],[1,"",2,"border-radius","50%","width","40px","cursor","pointer","object-fit","cover",3,"src"],[1,"p-col-10",2,"text-align","center","place-self","center"],[1,"p-grid","no-padding"],[1,"p-col-12","no-padding"],[1,"no-margin",2,"padding-top","0.5rem","font-size","1em"]],template:function(e,n){1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ut,5,5,"div",0),t.\u0275\u0275elementStart(2,"div",1),t.\u0275\u0275template(3,I,3,3,"div",2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===n.userList.length),t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("height",n.getAutomaticHeight(),"px")("max-height",n.getAutomaticHeight(),"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.userList&&n.userList.length))},dependencies:[r.mk,r.sg,r.O5,$.a8,$.$j,Y.oO,r.gd,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.engagement-side-icon[_ngcontent-%COMP%]{border-radius:50%;position:relative}.engagement-side-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:70%!important;background:white;padding:4px}#style-4[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}#style-4[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;background-color:#555}#style-4[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#909090;border:2px solid #555555}.full-width[_ngcontent-%COMP%]{width:100%}.green-icon[_ngcontent-%COMP%]{color:#9acd32!important}.align-right[_ngcontent-%COMP%]{text-align:right}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.no-margin[_ngcontent-%COMP%]{margin:0}.mat-ink-bar[_ngcontent-%COMP%]{background-color:green}.candidate-select[_ngcontent-%COMP%]{background-color:#fdd835!important}.candidate-text[_ngcontent-%COMP%]{color:#000!important}.spinner-wrapper[_ngcontent-%COMP%]{width:100%;height:320px;display:flex;justify-content:center;align-items:center;top:0;left:0;z-index:998}.left-side[_ngcontent-%COMP%]{padding-left:0;width:420px}.right-side[_ngcontent-%COMP%]{width:auto;position:absolute;right:0;left:425px}.text-empty[_ngcontent-%COMP%]{height:auto;margin:3% auto;font-size:20px;display:block;width:100%;position:relative;text-align:center;vertical-align:middle;color:#e4e7ef}.yellow[_ngcontent-%COMP%]{color:#ffd740}.orange[_ngcontent-%COMP%]{color:#f49f36}.blue[_ngcontent-%COMP%]{color:#36ebf4}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.magenta[_ngcontent-%COMP%]{color:#f0f}.black[_ngcontent-%COMP%]{color:#000}.cyan[_ngcontent-%COMP%]{color:#0ff}img[_ngcontent-%COMP%]{height:30px;max-width:100%;vertical-align:middle;width:30px}"]}),i})();var dt=u(71156),Z=u(15439),pt=u(92340),Ot=u(49456),bt=u(79710),S=u(65938),xt=u(87746),_t=u(84075),wt=u(84130),it=u(3848),St=u(50777),kt=u(12334),Ft=u(7451),Ut=u(30228),At=u(23670),lt=u(27404),Bt=u(39002),y=u(97301),T=u(96308),d=u(53626),g=u(24850),b=u(95017),_=u(73555);function E(i,o){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",14),t.\u0275\u0275element(2,"mat-spinner",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Q(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",21),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"USER_TYPES."+(null==e?null:e.name))," ")}}function N(i,o){1&i&&(t.\u0275\u0275elementStart(0,"p",22),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function U(i,o){1&i&&(t.\u0275\u0275elementStart(0,"p",22),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function x(i,o){1&i&&(t.\u0275\u0275elementStart(0,"p",22),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function v(i,o){1&i&&(t.\u0275\u0275elementStart(0,"p",22),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function at(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",23)(2,"ng-select",24),t.\u0275\u0275listener("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.getDataCampus())})("remove",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.handleRemoveSchool())})("clear",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.clearCampus())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,U,3,3,"p",20),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",23)(6,"ng-select",25),t.\u0275\u0275listener("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.getDataLevel())})("remove",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.handleRemoveCampus())})("clear",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.clearLevel())}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,x,3,3,"p",20),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",26)(10,"ng-select",27),t.\u0275\u0275listener("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.getDataByLevel())}),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,v,3,3,"p",20),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(3,18,"School"),"*"),t.\u0275\u0275property("items",e.schoolList)("multiple",!1)("hideSelected",!0)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.addNewUserTypeForm.get("school").hasError("required")&&e.addNewUserTypeForm.get("school").touched),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(7,20,"Campus"),"*"),t.\u0275\u0275property("items",e.campusList)("multiple",!0)("hideSelected",!0)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.addNewUserTypeForm.get("campus").hasError("required")&&e.addNewUserTypeForm.get("campus").touched),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(11,22,"Level"),"*"),t.\u0275\u0275property("items",e.levelList)("multiple",!0)("hideSelected",!0)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.addNewUserTypeForm.get("level").hasError("required")&&e.addNewUserTypeForm.get("level").touched)}}function Gt(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",16)(2,"div",17)(3,"ng-select",18),t.\u0275\u0275listener("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setUserType())}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275template(5,Q,3,4,"ng-option",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,N,3,3,"p",20),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,at,13,24,"ng-container",10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroup",e.addNewUserTypeForm),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",e.isOperatorSelected?"p-col-12":"p-col-4"),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(4,7,"User Type"),"*"),t.\u0275\u0275property("multiple",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.userTypeList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.addNewUserTypeForm.get("type").hasError("required")&&e.addNewUserTypeForm.get("type").touched),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.isOperatorSelected)}}let Xt=(()=>{class i{constructor(e,n,a,l,s,h){this.parentData=e,this.fb=n,this.dialogRef=a,this.userMgtService=l,this.translate=s,this.authService=h,this.subs=new F.Y,this.userTypeFinance=["5fe98eeadb866c403defdc6b","6009066808ed8724f5a54836","617f64ec5a48fe222851880e","617f64ec5a48fe222851880f"],this.isFinanceUser=!1,this.isWaitingForResponse=!1,this.userTypeList=[],this.campusList=[],this.schoolList=[],this.levelList=[],this.realCampusList=[],this.listObjective=[],this.isOperatorSelected=!1}ngOnInit(){this.currentUser=this.authService.getLocalStorageUser(),this.isPermission=this.authService.getPermission();const e=this.currentUser?.entities?.find(n=>n?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id,this.userTypeFinance.includes(this.currentUserTypeId)&&(this.isFinanceUser=!0),this.checkIsOperator(),this.getDataDropdown(),this.initForm()}initForm(){this.addNewUserTypeForm=this.fb.group({type:[null,f.Validators.required],entity_name:[null,f.Validators.required],school:[null,f.Validators.required],campus:[null,f.Validators.required],level:[null,f.Validators.required]})}checkIsOperator(){this.isOperator=this.authService.getCurrentUser().entities.some(e=>e.entity_name&&"operator"===e.entity_name)}getDataDropdown(){this.getDropdownUserTypes(),this.getDropdownSchool()}getDropdownUserTypes(){const e=["academic","finance","admission","company_relation","operator","alumni"];this.isOperator||e.splice(e.indexOf("operator"),1),this.subs.sink=this.userMgtService.getAllUserTypeDropdown(e).subscribe(n=>{const a=p.cloneDeep(n);this.userTypeList=a.filter(this.isFinanceUser?l=>"Candidate"!==l.name&&"Teacher"!==l.name:l=>"Candidate"!==l.name&&"Teacher"!==l.name&&"finance"!==l.entity)},n=>{this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDropdownSchool(){this.isWaitingForResponse=!0,this.subs.sink=this.userMgtService.getAllSchoolDropdown(this.currentUserTypeId).subscribe(e=>{this.isWaitingForResponse=!1,e&&(this.schoolList=e)},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDataCampus(){const e=this.addNewUserTypeForm.get("school").value,n=this.schoolList.find(a=>a._id===e);if(e&&(this.addNewUserTypeForm.get("campus").patchValue(null),this.addNewUserTypeForm.get("level").patchValue(null)),n&&n.campuses){const a=n.campuses.filter(l=>l.levels&&l.levels.length);this.campusList=[],this.campusList.push({_id:"all",name:this.translate.instant("ALL")}),this.campusList.push(...a)}else this.campusList=[],this.addNewUserTypeForm.get("campus").patchValue(null)}getDataLevel(){if(this.addNewUserTypeForm.get("campus").value&&this.addNewUserTypeForm.get("campus").value.length){const e=this.addNewUserTypeForm.get("campus").value;e&&this.addNewUserTypeForm.get("level").patchValue(null);let n=[];e&&e.includes("all")?(n=this.campusList.filter(a=>a&&"all"!==a._id),this.addNewUserTypeForm.get("campus").patchValue(this.campusList.filter(a=>a&&"all"!==a._id).map(a=>a._id))):n=this.campusList.filter(a=>a&&this.addNewUserTypeForm.get("campus").value.includes(a._id)),this.levelList=this.sortNameAlphabetically(p.uniqBy(this.flattenArray(n.map(a=>a.levels)),"_id"),"name"),this.levelList.unshift({_id:"all",name:this.translate.instant("ALL")})}else this.levelList=[],this.addNewUserTypeForm.get("level").patchValue(null)}getDataByLevel(){if(this.addNewUserTypeForm.get("level").value&&this.addNewUserTypeForm.get("level").value.length){const e=this.addNewUserTypeForm.get("level").value;let n=[];e&&e.includes("all")&&(n=this.levelList.filter(a=>a&&"all"!==a._id),this.addNewUserTypeForm.get("level").patchValue(this.levelList.filter(a=>a&&"all"!==a._id).map(a=>a._id)))}}setUserType(){if(this.addNewUserTypeForm.get("type").value){const e=this.userTypeList.find(n=>n._id===this.addNewUserTypeForm.get("type").value);this.addNewUserTypeForm.get("entity_name").patchValue(e.entity),this.isOperatorSelected="operator"===e.entity}else this.isOperatorSelected=!1}handleRemoveSchool(){this.addNewUserTypeForm.get("campus").patchValue(null),this.addNewUserTypeForm.get("level").patchValue(null)}handleRemoveCampus(){this.addNewUserTypeForm.get("level").patchValue(null)}clearCampus(){this.addNewUserTypeForm.get("campus").patchValue(null)}clearLevel(){this.addNewUserTypeForm.get("level").patchValue(null)}flattenArray(e){return e.reduce((n,a)=>n.concat(a),[])}sortNameAlphabetically(e,n){return e.sort((a,l)=>a[n]>l[n]?1:l[n]>a[n]?-1:0)}createPayload(){const e={entities:[p.cloneDeep(this.cleanObject({...this.addNewUserTypeForm.value}))]};return e.entities&&e.entities.length&&e.entities.forEach(n=>{let a=null,l=null,s=null;if(n.school&&(a=n.school,delete n.school),n.campus&&(l=n.campus,delete n.campus),n.level&&(s=n.level,delete n.level),a&&l&&s){let h=[];l&&l.length&&l.forEach(m=>{s&&s.length&&s.forEach(C=>{h.push({school:a,campus:m,level:C})})}),n.programs=h}else n.programs=[]}),e}cleanObject(e){for(const[n,a]of Object.entries(e))null===a&&delete e[n];return e}checkValidation(){if("operator"!==this.addNewUserTypeForm.get("entity_name").value){const n=this.addNewUserTypeForm.get("school").value,a=this.addNewUserTypeForm.get("campus").value,l=this.addNewUserTypeForm.get("level").value;return!!(n&&a&&a.length&&l&&l.length)}return!0}checkFormValidity(){return"operator"!==this.addNewUserTypeForm.get("entity_name").value?(this.addNewUserTypeForm.get("school").setValidators(f.Validators.required),this.addNewUserTypeForm.get("campus").setValidators(f.Validators.required),this.addNewUserTypeForm.get("level").setValidators(f.Validators.required),this.addNewUserTypeForm.get("school").updateValueAndValidity(),this.addNewUserTypeForm.get("campus").updateValueAndValidity(),this.addNewUserTypeForm.get("level").updateValueAndValidity()):(this.addNewUserTypeForm.get("school").clearValidators(),this.addNewUserTypeForm.get("campus").clearValidators(),this.addNewUserTypeForm.get("level").clearValidators(),this.addNewUserTypeForm.get("school").updateValueAndValidity(),this.addNewUserTypeForm.get("campus").updateValueAndValidity(),this.addNewUserTypeForm.get("level").updateValueAndValidity()),!(!this.addNewUserTypeForm.invalid&&this.checkValidation()||(c().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),html:this.translate.instant("Invalid_Form_Warning.TEXT"),confirmButtonText:this.translate.instant("Invalid_Form_Warning.BUTTON")}),this.addNewUserTypeForm.markAllAsTouched(),0))}submit(){if(this.checkFormValidity())return;const e=this.createPayload();this.isWaitingForResponse=!0,this.subs.sink=this.userMgtService.updateUserEntities(this.parentData.userId,e,this.currentUserTypeId).subscribe(n=>{this.isWaitingForResponse=!1,n&&c().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(n)})},n=>{this.authService.postErrorLog(n),this.showSwalError(n)})}showSwalError(e){this.isWaitingForResponse=!1,e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}closeDialog(){this.dialogRef.close()}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(S.WI),t.\u0275\u0275directiveInject(f.UntypedFormBuilder),t.\u0275\u0275directiveInject(S.so),t.\u0275\u0275directiveInject(st.x),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(j.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-add-user-usertype-dialog"]],decls:24,vars:13,consts:[[1,"dialogTitleWrapper","header-dialog"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"p-grid"],[1,"p-col-1","no-padding"],[1,"mat-icon-default"],[1,"p-col-10","no-padding"],[1,"dialogTitle"],[1,"p-col-1"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",2,"overflow","hidden !important"],[4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end",2,"margin","0 24px 15px 0"],["mat-button","","mat-raised-button","","color","warn",3,"disabled","click"],["mat-button","","mat-raised-button","","color","primary",1,"mr-0",3,"disabled","click"],[1,"center-spinner"],["color","accent"],[1,"p-grid",3,"formGroup"],[1,"pad-y-none",3,"ngClass"],["appendTo","body","formControlName","type",1,"mrgn-btn","custom-ngselect-content",3,"multiple","placeholder","change"],[3,"value",4,"ngFor","ngForOf"],["style","color: #f44336; font-size: 75%",4,"ngIf"],[3,"value"],[2,"color","#f44336","font-size","75%"],[1,"p-col-3","pad-y-none"],["bindLabel","short_name","bindValue","_id","clearAllText","Clear","formControlName","school",1,"mrgn-btn","custom-ngselect-content",3,"items","multiple","hideSelected","appendTo","placeholder","change","remove","clear"],["bindLabel","name","bindValue","_id","clearAllText","Clear","formControlName","campus",1,"mrgn-btn","custom-ngselect-content",3,"items","multiple","hideSelected","appendTo","placeholder","change","remove","clear"],[1,"p-col-2","pad-y-none"],["bindLabel","name","bindValue","_id","clearAllText","Clear","formControlName","level",1,"mrgn-btn","custom-ngselect-content",3,"items","multiple","hideSelected","appendTo","placeholder","change"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5,"add"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",5)(7,"h3",6),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",7)(11,"button",8),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275elementStart(12,"mat-icon"),t.\u0275\u0275text(13,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(14,"div",9),t.\u0275\u0275template(15,E,3,0,"ng-container",10),t.\u0275\u0275template(16,Gt,8,9,"ng-container",10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"div",11)(18,"button",12),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275text(19),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"button",13),t.\u0275\u0275listener("click",function(){return n.submit()}),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,7,"Add User Type")),t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",n.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(20,9,"CANCEL")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(23,11,"JURY_ORGANIZATION.ABSENT_JUSTIFY.Submit")," "))},dependencies:[r.mk,r.sg,r.O5,_.Zt,_.Bh,L.lW,S.xY,S.H8,K.Hw,H.Ou,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Y.oO,D.w9,D.jq,M.X$],styles:[".dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black}.no-padding[_ngcontent-%COMP%]{padding:0}.float-right[_ngcontent-%COMP%]{float:right}.mt-15[_ngcontent-%COMP%]{margin-top:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 24px}.mat-dialog-content[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:15px}.w-30[_ngcontent-%COMP%]{width:30px}.w-65[_ngcontent-%COMP%]{width:65px}.mt-5px[_ngcontent-%COMP%]{margin-top:5px}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#000;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#000;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}  .ng-dropdown-panel.ng-select-bottom{width:auto!important}.mat-icon-default[_ngcontent-%COMP%]{font-size:30px!important;margin-top:0!important;width:auto!important;padding-right:5px}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container .ng-value-container .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:#e6f2ff!important;margin-right:3px}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%], [_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value, [_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon, [_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-label{color:#000!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon.left{display:inline-block!important}[_nghost-%COMP%]  .ng-select .ng-arrow-wrapper{position:relative!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap!important}  .custom-ngselect-content .ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}  .custom-ngselect-content .ng-dropdown-panel-items .ng-option{white-space:break-spaces!important}  .custom-ngselect-content.ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}"]}),i})();var Mt=u(56709);function Jt(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",30)(1,"div",31)(2,"div",32)(3,"button",33),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onRemoveMultipleEntity())}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"button",33),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.addUserType())}),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementStart(9,"mat-icon",34),t.\u0275\u0275text(10,"plus"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"button",35),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.resetTable())}),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275element(15,"mat-icon",36),t.\u0275\u0275text(16),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd()()()()}2&i&&(t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,6,"Remove Usertype")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,8,"Remove Usertype")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(8,10,"Add User Type")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(12,12,"User Type")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(14,14,"Reset Filter")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(17,16,"RESET")," "))}function Zt(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",41),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("value",null==e?null:e.name)("disabled",null==e?null:e.disabled),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"USER_TYPES."+(null==e?null:e.name))," ")}}function te(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"th",37)(1,"ng-select",38),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"ng-option",39),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,Zt,3,5,"ng-option",40),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,6,"search")),t.\u0275\u0275property("appendTo","body")("formControl",e.userTypeFilter)("appendTo","body"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,8,"AllS")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.types)}}function ee(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",44),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("value",null==e?null:e.short_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.short_name," ")}}function ne(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"th",37)(1,"ng-select",42),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"ng-option",39),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,ee,2,2,"ng-option",43),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,6,"search")),t.\u0275\u0275property("appendTo","body")("items",e.schools)("formControl",e.schoolFilter),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,8,"AllS")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.schools)}}function ie(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",44),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("value",null==e?null:e.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function ae(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"th",37)(1,"ng-select",45),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"ng-option",39),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,ie,2,2,"ng-option",43),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,6,"search")),t.\u0275\u0275property("appendTo","body")("items",e.campuses)("formControl",e.campusFilter),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,8,"AllS")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.campuses)}}function oe(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",44),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("value",null==e?null:e.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function le(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"th",37)(1,"ng-select",45),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"ng-option",39),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,oe,2,2,"ng-option",43),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,6,"search")),t.\u0275\u0275property("appendTo","body")("items",e.levels)("formControl",e.levelFilter),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,8,"AllS")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.levels)}}function re(i,o){1&i&&t.\u0275\u0275element(0,"th",37)}function se(i,o){1&i&&t.\u0275\u0275element(0,"th",46)}function ce(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",46)(1,"mat-checkbox",47),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?l.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.showOptions("all"))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function de(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",48)(1,"mat-checkbox",49),t.\u0275\u0275listener("click",function(a){return a.stopPropagation()})("change",function(a){const s=t.\u0275\u0275restoreView(e).$implicit,h=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?h.selection.toggle(s):null)})("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.showOptions("one"))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=o.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(e))("aria-label",n.checkboxLabel(e))}}function pe(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",50),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",51),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"User Type")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"User Type")))}function me(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",52),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"USER_TYPES."+(null==e||null==e.type?null:e.type.name))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"USER_TYPES."+(null==e||null==e.type?null:e.type.name))," ")}}function he(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",50),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",53),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"School")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"School")))}function ge(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",52),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("matTooltip",null==e||null==e.school?null:e.school.short_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ","operator"===(null==e?null:e.entity_name)?t.\u0275\u0275pipeBind1(2,2,"All"):null==e||null==e.school?null:e.school.short_name," ")}}function ue(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",50),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",54),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Campus")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Campus")))}function _e(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",52),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("matTooltip",null==e||null==e.campus?null:e.campus.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ","operator"===(null==e?null:e.entity_name)?t.\u0275\u0275pipeBind1(2,2,"All"):null==e||null==e.campus?null:e.campus.name," ")}}function fe(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",50),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",55),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Level")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Level")))}function Ce(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",52),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("matTooltip",null==e||null==e.level?null:e.level.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ","operator"===(null==e?null:e.entity_name)?t.\u0275\u0275pipeBind1(2,2,"All"):null==e||null==e.level?null:e.level.name," ")}}function be(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",50),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function Oe(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",58),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onRemoveEntity(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"close"),t.\u0275\u0275elementEnd()()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Delete"))}function xe(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",56),t.\u0275\u0275template(1,Oe,4,3,"button",57),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(n.isOperator||!n.isOperator&&"operator"!==e.entity_name)&&n.dataCount&&n.dataCount>1)}}function ye(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",59)(1,"div",60),t.\u0275\u0275element(2,"mat-spinner",61),t.\u0275\u0275elementEnd()())}function ve(i,o){1&i&&t.\u0275\u0275element(0,"tr",62)}function Te(i,o){1&i&&t.\u0275\u0275element(0,"tr",62)}function Me(i,o){1&i&&t.\u0275\u0275element(0,"tr",62)}function Pe(i,o){if(1&i&&t.\u0275\u0275element(0,"tr",63),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function we(i,o){if(1&i&&t.\u0275\u0275element(0,"tr",64),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function Se(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",65),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"User Has No User Type Yet")," "))}const Ee=function(){return["reset"]},De=function(){return["loading"]},Ie=function(i){return{hide:i}},ke=function(i){return{"hide-pagination-buttons":i}},Fe=function(){return[10]};let Ue=(()=>{class i{constructor(e,n,a,l,s){this.translate=e,this.dialog=n,this.userService=a,this.userMgtService=l,this.authService=s,this.selection=new b.Ov(!0,[]),this.dataSource=new d.by([]),this.disabledExport=!0,this.isCheckedAll=!1,this.isReset=!1,this.dataLoaded=!1,this.displayedColumns=["select","user_type","school","campus","level","action"],this.filterColumns=["selectFilter","user_type_filter","schoolFilter","campusFilter","levelFilter","actionFilter"],this.filteredValues={school:null,type:null,campus:null,level:null},this.userTypeFilter=new f.UntypedFormControl("All"),this.schoolFilter=new f.UntypedFormControl("All"),this.campusFilter=new f.UntypedFormControl("All"),this.levelFilter=new f.UntypedFormControl("All"),this.isWaitingForResponse=!1,this.isLoading=!1,this.dataCount=0,this.intackChannelCount=0,this.subs=new F.Y,this.types=[],this.schools=[],this.campuses=[],this.levels=[],this.entities=[],this.dummyUser={_id:"619bbb817a26c8320c200033",email:"c.barbolat@yopmail.com",entities:[{entity_name:"admission",type:{_id:"617f64ec5a48fe2228518811",name:"Admission Member"},programs:[{school:{_id:"6166e899fd74d459cd965dc3",short_name:"CREAD"},campus:{_id:"6166e899fd74d459cd965db3",name:"Lyon"},level:{_id:"6166e899fd74d459cd965da2",name:"1"}},{school:{_id:"6166e899fd74d459cd965dc3",short_name:"CREAD"},campus:{_id:"6166e899fd74d459cd965db3",name:"Lyon"},level:{_id:"6166e899fd74d459cd965da3",name:"2"}},{school:{_id:"6166e899fd74d459cd965dc3",short_name:"CREAD"},campus:{_id:"6166e899fd74d459cd965db3",name:"Lyon"},level:{_id:"6166e899fd74d459cd965da4",name:"3"}},{school:{_id:"6166e899fd74d459cd965dc3",short_name:"CREAD"},campus:{_id:"6166e899fd74d459cd965db3",name:"Lyon"},level:{_id:"6166e899fd74d459cd965da5",name:"4"}},{school:{_id:"6166e899fd74d459cd965dc3",short_name:"CREAD"},campus:{_id:"6166e899fd74d459cd965db3",name:"Lyon"},level:{_id:"6166e899fd74d459cd965da6",name:"5"}}]}]}}ngOnInit(){const e=this.authService.getLocalStorageUser(),n=this.authService.getPermission(),a=e?.entities?.find(l=>l?.type?.name===n[0]);this.currentUserTypeId=a?.type?._id,this.initFilter(),this.checkIsOperator()}ngOnChanges(){this.resetTable(),this.fetchUserDetail(),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.fetchUserDetail()})}ngOnDestroy(){this.subs.unsubscribe()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,k.b)(()=>{this.dataLoaded=!0})).subscribe()}checkIsOperator(){this.isOperator=this.authService.getCurrentUser().entities.some(e=>e.entity_name&&"operator"===e.entity_name)}mappingData(e){const n=[];return e&&e.entities&&e.entities.length&&e.entities.forEach(a=>{a.programs&&a.programs.length?a.programs.forEach(l=>{n.push({...a,school:l.school,campus:l.campus,level:l.level})}):a&&"operator"===a.entity_name&&n.push({...a,school:null,campus:null,level:null})}),e.entities=n,e}fetchUserDetail(){this.isWaitingForResponse=!0,this.cleanFilterData(),this.subs.sink=this.userService.getUserEntitiesForTable(this.userId).subscribe(a=>{if(a&&a.entities&&a.entities.length){this.isWaitingForResponse=!1;const l=p.cloneDeep(a),s=this.mappingData(l);this.initFilter(),this.dataSource.paginator=this.paginator,this.originalEntityList=p.cloneDeep(s.entities),this.originalUserDetail=p.cloneDeep(a),this.dataSource.data=p.cloneDeep(s.entities),this.dataCount=this.dataSource.filteredData.length,this.dataSource.sort=this.sort,this.setDropdowns(s.entities),this.entities=[...s.entities]}else this.isWaitingForResponse=!1,this.dataSource.data=[],this.paginator.length=0,this.dataCount=0,this.emptyFilterList();this.noData=this.dataSource.connect().pipe((0,g.U)(l=>0===l.length)),this.isReset=!1,this.isWaitingForResponse=!1},a=>{this.authService.postErrorLog(a),this.isWaitingForResponse=!1,this.dataSource.data=[],this.paginator.length=0,this.dataCount=0,this.noData=this.dataSource.connect().pipe((0,g.U)(l=>0===l.length)),this.isReset=!1,this.emptyFilterList(),a&&a.message&&a.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}setDropdowns(e){this.types=p.uniqBy(e.filter(n=>n&&n.type&&n.type.name).map(n=>({...n.type,name:n.type.name})),"name"),this.schools=p.uniqBy(e.map(n=>n.school).filter(n=>n),"short_name"),this.schools&&0===this.schools.length&&(this.schools=[{_id:"",short_name:this.translate.instant("No items found"),disabled:!0}]),this.campuses=p.uniqBy(e.map(n=>n.campus).filter(n=>n),"name"),this.campuses&&0===this.campuses.length&&(this.campuses=[{_id:"",name:this.translate.instant("No items found"),disabled:!0}]),this.levels=p.uniqBy(e.map(n=>n.level).filter(n=>n),"name"),this.levels&&0===this.levels.length&&(this.levels=[{_id:"",name:this.translate.instant("No items found"),disabled:!0}])}emptyFilterList(){this.types=[{_id:"",name:"No items found",disabled:!0}],this.schools=[{_id:"",short_name:this.translate.instant("No items found"),disabled:!0}],this.campuses=[{_id:"",name:this.translate.instant("No items found"),disabled:!0}],this.levels=[{_id:"",name:this.translate.instant("No items found"),disabled:!0}]}initFilter(){this.subs.sink=this.userTypeFilter.valueChanges.subscribe(e=>{this.filteredValues.type=e&&"All"!==e?e:null,this.dataSource.filter=JSON.stringify(this.filteredValues),this.clearSelection()}),this.subs.sink=this.schoolFilter.valueChanges.subscribe(e=>{this.filteredValues.school=e&&"All"!==e?e:null,this.dataSource.filter=JSON.stringify(this.filteredValues),this.setCampusesDropdown(e&&"All"!==e?e:null),this.clearSelection()}),this.subs.sink=this.campusFilter.valueChanges.subscribe(e=>{this.filteredValues.campus=e&&"All"!==e?e:null,this.dataSource.filter=JSON.stringify(this.filteredValues),this.clearSelection()}),this.subs.sink=this.levelFilter.valueChanges.subscribe(e=>{this.filteredValues.level=e&&"All"!==e?e:null,this.dataSource.filter=JSON.stringify(this.filteredValues),this.clearSelection()}),this.dataSource.filterPredicate=this.customFilterPredicate(),this.dataSource.sortingDataAccessor=this.customSortingBehavior()}setCampusesDropdown(e){if(e){const n=[];this.entities.forEach(a=>{a.school&&a.school.short_name===e&&n.push(a.campus)}),this.campuses=p.uniqBy(n,"name")}else this.setDropdowns(this.entities)}customFilterPredicate(){return(e,n)=>{const a=JSON.parse(n);return!(a.type&&(!e.type||a.type!==e.type.name)||a.school&&(!e.school||a.school!==e.school.short_name)||a.campus&&(!e.campus||a.campus!==e.campus.name)||a.level&&(!e.level||a.level!==e.level.name))}}customSortingBehavior(){return this.dataSource.sortingDataAccessor=(e,n)=>{switch(n){case"user_type":return e.type?e.type.name:null;case"school":return e.school?e.school.short_name:null;case"campus":return e.campus?e.campus.name:null;case"level":return e.level?e.level.name:null;default:return e[n]}}}clearSelection(){this.userSelected=[],this.userSelectedId=[],this.selection.clear(),this.isCheckedAll=!1}resetTable(){this.selection.clear(),this.userSelected=[],this.isCheckedAll=!1,this.isReset=!0,this.paginator.pageIndex=0,this.filteredValues={school:"",type:"",campus:"",level:""},this.sort.direction="",this.sort.active="",this.userTypeFilter.patchValue("All",{emitEvent:!1}),this.schoolFilter.patchValue("All",{emitEvent:!1}),this.campusFilter.patchValue("All",{emitEvent:!1}),this.levelFilter.patchValue("All",{emitEvent:!1}),this.setCampusesDropdown(""),this.dataSource.filter=JSON.stringify(this.filteredValues)}addUserType(){this.subs.sink=this.dialog.open(Xt,{panelClass:"certification-rule-pop-up",minWidth:"400px",disableClose:!0,autoFocus:!1,data:{userId:this.userId}}).afterClosed().subscribe(e=>{e&&this.fetchUserDetail()})}cleanFilterData(){const e=p.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(a=>{(e[a]||!1===e[a])&&(n+=` ${a}:"${e[a]}"`)}),"filter: {"+n+"}"}onRemoveEntity(e){c().fire({type:"warning",title:this.translate.instant("Warning"),text:this.translate.instant("Are you sure you want to delete this user type"),showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL")}).then(n=>{clearTimeout(this.timeOutVal),n.value&&this.updateUserEntities(e)})}onRemoveMultipleEntity(){!this.userSelected||this.userSelected.length<1?c().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("User Type")}),confirmButtonText:this.translate.instant("Followup_S8.Button")}):1!==this.originalEntityList.length?c().fire({type:"warning",title:this.translate.instant("Warning"),text:this.translate.instant("Are you sure you want to delete this user type"),showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL")}).then(e=>{clearTimeout(this.timeOutVal),e.value&&this.updateUserMultipleEntities(this.userSelected)}):c().fire({type:"info",title:this.translate.instant("Followup_12.Title"),html:this.translate.instant("Followup_12.Text"),confirmButtonText:this.translate.instant("Followup_12.Button")})}temporarilyDisableConfirmButton(e){const n=c().getConfirmButton();n.setAttribute("disabled","");const a=setInterval(()=>{e-=1,n.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+e+" sec"},1e3);this.timeOutVal=setTimeout(()=>{n.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),n.removeAttribute("disabled"),clearInterval(a),clearTimeout(this.timeOutVal)},1e3*e)}createPayload(e){const n=this.originalUserDetail.entities.find(m=>m.entity_name===e.entity_name),a=this.originalUserDetail.entities.findIndex(m=>m.entity_name===e.entity_name);let l=[],s=p.cloneDeep(this.originalUserDetail.entities);const h=s;return n&&n.programs&&n.programs.length?(l=n.programs.filter(m=>m&&e&&!(JSON.stringify(m.school)===JSON.stringify(e.school)&&JSON.stringify(m.level)===JSON.stringify(e.level)&&JSON.stringify(m.campus)===JSON.stringify(e.campus))),this.originalUserDetail.entities[a].programs=l,s=this.originalUserDetail.entities,s&&s.length&&s.forEach((m,C)=>{h[C]=m,h[C].campus=m&&m.campus&&m.campus._id?m.campus._id:null,h[C].level=m&&m.level&&m.level._id?m.level._id:null,h[C].school=m&&m.school&&m.school._id?m.school._id:null,h[C].type=m&&m.type&&m.type._id?m.type._id:null,m&&m.programs&&m.programs.length?m.programs.forEach((O,P)=>{h[C].programs[P].campus=O&&O.campus&&O.campus._id?O.campus._id:null,h[C].programs[P].level=O&&O.level&&O.level._id?O.level._id:null,h[C].programs[P].school=O&&O.school&&O.school._id?O.school._id:null}):s[C].programs=[]})):(s.splice(a,1),s&&s.length&&s.forEach((m,C)=>{h[C]=m,h[C].campus=m&&m.campus&&m.campus._id?m.campus._id:null,h[C].level=m&&m.level&&m.level._id?m.level._id:null,h[C].school=m&&m.school&&m.school._id?m.school._id:null,h[C].type=m&&m.type&&m.type._id?m.type._id:null,m&&m.programs&&m.programs.length?m.programs.forEach((O,P)=>{h[C].programs[P].campus=O&&O.campus&&O.campus._id?O.campus._id:null,h[C].programs[P].level=O&&O.level&&O.level._id?O.level._id:null,h[C].programs[P].school=O&&O.school&&O.school._id?O.school._id:null}):s[C].programs=[]})),h}createPayloadMultiple(e){const n=p.cloneDeep(this.dataSource.data);e&&e.length&&e.forEach(h=>{const m=n.findIndex(C=>JSON.stringify(C)===JSON.stringify(h));n.splice(m,1)});const l=n.map(h=>{for(const[m,C]of Object.entries(h))C&&"object"==typeof C&&C.hasOwnProperty("_id")&&(h[m]=C._id);return h});return p.chain(l).groupBy("type").map((h,m)=>({entity_name:h&&h.length&&h[0]?h[0].entity_name:null,type:m,programs:h.map(C=>({campus:C&&C.campus?C&&C.campus:null,school:C&&C.school?C&&C.school:null,level:C&&C.level?C&&C.level:null}))})).value()}updateUserEntities(e){const a={entities:this.createPayload(e),email:this.originalUserDetail.email};this.isWaitingForResponse=!0,this.subs.sink=this.userMgtService.updateUserAfterDeleteEntity(this.userId,a,this.currentUserTypeId).subscribe(l=>{this.isWaitingForResponse=!1,l&&c().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.fetchUserDetail()})},l=>{this.authService.postErrorLog(l),this.isWaitingForResponse=!1,this.swalError(l)})}updateUserMultipleEntities(e){if(e.length>=this.dataSource.data.length)return void c().fire({type:"info",title:this.translate.instant("Followup_12.Title"),html:this.translate.instant("Followup_12.Text"),confirmButtonText:this.translate.instant("Followup_12.Button")});const a={entities:this.createPayloadMultiple(e),email:this.originalUserDetail.email};this.isWaitingForResponse=!0,this.subs.sink=this.userMgtService.updateUserAfterDeleteEntity(this.userId,a,this.currentUserTypeId).subscribe(l=>{this.isWaitingForResponse=!1,l&&c().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.selection.clear(),this.userSelected=[],this.isCheckedAll=!1,this.fetchUserDetail()})},l=>{this.authService.postErrorLog(l),this.isWaitingForResponse=!1,this.swalError(l)})}swalError(e){this.isWaitingForResponse=!1,"GraphQL error: This admission user type already have student admitted to this user!"===e.message?c().fire({type:"info",title:this.translate.instant("User_S3.TITLE"),text:this.translate.instant("User_S3.TEXT"),confirmButtonText:this.translate.instant("User_S3.BUTTON")}):e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:"OK"})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}masterToggle(){this.isAllSelected()||this.isCheckedAll?(this.selection.clear(),this.isCheckedAll=!1):(this.isCheckedAll=!0,this.dataSource.data.forEach(e=>this.selection.select(e)))}showOptions(e){this.disabledExport=!(this.selection.selected.length>0),this.userSelected=[],this.userSelectedId=[],this.selectType=e,(this.selection.selected.length>=this.dataCount?this.dataSource.filteredData:this.selection.selected).forEach(l=>{this.userSelected.push(l)})}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(S.uw),t.\u0275\u0275directiveInject(xt.K),t.\u0275\u0275directiveInject(st.x),t.\u0275\u0275directiveInject(j.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-user-details-usertype-tab"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(A.NW,7),t.\u0275\u0275viewQuery(T.YE,7)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.sort=a.first)}},inputs:{userId:"userId"},features:[t.\u0275\u0275NgOnChangesFeature],decls:46,vars:23,consts:[[1,"top-space"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","reset"],["mat-header-cell","","colspan","8","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","user_type_filter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","schoolFilter"],["matColumnDef","campusFilter"],["matColumnDef","levelFilter"],["matColumnDef","actionFilter"],["matColumnDef","selectFilter"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","user_type"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","school"],["matColumnDef","campus"],["matColumnDef","level"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","8","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["mat-header-cell","","colspan","8",1,"action-header-column","text-right"],[1,"p-grid"],[1,"p-col-12","text-right"],["mat-raised-button","","color","accent",3,"matTooltip","click"],["svgIcon","plus",1,"mat-icon-svgIcon"],["mat-raised-button","","color","primary",3,"matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell",""],["dropdownPosition","bottom",1,"mrgn-btn","custom-ngselect-content",2,"width","80%",3,"appendTo","placeholder","formControl"],["value","All"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],["dropdownPosition","bottom","bindLabel","short_name","bindValue","short_name",1,"mrgn-btn","custom-ngselect-content",2,"width","80%",3,"appendTo","items","placeholder","formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["dropdownPosition","bottom","bindLabel","name","bindValue","name",1,"mrgn-btn","custom-ngselect-content",2,"width","80%",3,"appendTo","items","placeholder","formControl"],["mat-header-cell","",1,"text-center"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"text-center"],[3,"checked","aria-label","click","change"],["mat-header-cell","",3,"matTooltip"],["mat-sort-header","user_type"],["mat-cell","",3,"matTooltip"],["mat-sort-header","school"],["mat-sort-header","campus"],["mat-sort-header","level"],["mat-cell",""],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","click"],["mat-header-cell","","colspan","8",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"table",1),t.\u0275\u0275elementContainerStart(2,2),t.\u0275\u0275template(3,Jt,18,18,"th",3),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(4,4),t.\u0275\u0275template(5,te,7,10,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(6,6),t.\u0275\u0275template(7,ne,7,10,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,7),t.\u0275\u0275template(9,ae,7,10,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,8),t.\u0275\u0275template(11,le,7,10,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,9),t.\u0275\u0275template(13,re,1,0,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,10),t.\u0275\u0275template(15,se,1,0,"th",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,12),t.\u0275\u0275template(17,ce,2,3,"th",11),t.\u0275\u0275template(18,de,2,2,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(19,14),t.\u0275\u0275template(20,pe,5,6,"th",15),t.\u0275\u0275template(21,me,4,6,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,17),t.\u0275\u0275template(23,he,5,6,"th",15),t.\u0275\u0275template(24,ge,3,4,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(25,18),t.\u0275\u0275template(26,ue,5,6,"th",15),t.\u0275\u0275template(27,_e,3,4,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(28,19),t.\u0275\u0275template(29,fe,5,6,"th",15),t.\u0275\u0275template(30,Ce,3,4,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(31,20),t.\u0275\u0275template(32,be,5,6,"th",15),t.\u0275\u0275template(33,xe,2,1,"td",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(34,22),t.\u0275\u0275template(35,ye,3,0,"th",23),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(36,ve,1,0,"tr",24),t.\u0275\u0275template(37,Te,1,0,"tr",24),t.\u0275\u0275template(38,Me,1,0,"tr",24),t.\u0275\u0275template(39,Pe,1,1,"tr",25),t.\u0275\u0275template(40,we,1,1,"tr",26),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(41,Se,3,3,"div",27),t.\u0275\u0275pipe(42,"async"),t.\u0275\u0275elementStart(43,"div",28),t.\u0275\u0275pipe(44,"async"),t.\u0275\u0275element(45,"mat-paginator",29),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(16,Ee)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(17,De)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(42,12,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,Ie,t.\u0275\u0275pipeBind1(44,14,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(20,ke,n.dataCount<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(22,Fe)))},dependencies:[r.mk,r.sg,r.O5,L.lW,Mt.oG,K.Hw,A.NW,H.Ou,T.YE,T.nU,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,ot.gM,f.NgControlStatus,f.FormControlDirective,Y.oO,D.w9,D.jq,r.Ov,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.pad-top-miss[_ngcontent-%COMP%]{padding-top:1.8px!important}.form-field[_ngcontent-%COMP%]{margin-top:.5px}.tag-container[_ngcontent-%COMP%]{white-space:normal;text-align:left!important;line-height:2.3;overflow-wrap:break-word}.green[_ngcontent-%COMP%]{color:#adff2f}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454;padding-left:1em}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:auto;font-size:14px;font-weight:400!important;min-width:10px;margin:0!important;padding-left:0!important}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:auto;font-size:14px;font-weight:400!important;min-width:135px}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:auto;font-size:14px;font-weight:400!important}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:auto;font-size:14px;font-weight:400!important}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:auto;font-size:14px;font-weight:400!important}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){width:120px;max-width:120px;text-align:center!important;font-size:14px;font-weight:400!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121;text-align:center!important}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}[_nghost-%COMP%]     table td.mat-cell:last-of-type{padding-right:0!important}.red[_ngcontent-%COMP%]{color:#ff4040}.person-image[_ngcontent-%COMP%]{display:inline-block;margin-right:0;height:18px;width:18px;vertical-align:baseline}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.school-backdrop[_ngcontent-%COMP%] + .cdk-overlay-pane[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:visible}.mat-column-select[_ngcontent-%COMP%]{overflow:initial}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.pc-section[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:5px;display:inline-block}.cr-section[_ngcontent-%COMP%]{width:50%;text-align:left;display:inline-block}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}[_nghost-%COMP%]  .ng-select .ng-select-container{color:#000;color:#fff;background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.top-filter[_ngcontent-%COMP%]{margin-top:15px;padding-bottom:30px}  .custom-ngselect-content .ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}  .custom-ngselect-content .ng-dropdown-panel-items .ng-option{white-space:break-spaces!important}  .custom-ngselect-content.ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}"]}),i})();var Lt=u(49671),Ae=u(72986),Be=u(62395),Vt=u(68516),Wt=u(80484),jt=u(58840),Nt=u(44758),Rt=u(3238),Ne=u(29545),Re=u(65592),Et=u(47957),Kt=u(71948),Le=u(90455);const Ve=["signatureUpload"],We=["userphoto"],je=["fileUpload"];function Ke(i,o){if(1&i&&t.\u0275\u0275element(0,"img",61),2&i){const e=t.\u0275\u0275nextContext();let n;t.\u0275\u0275property("src",e.is_photo_in_s3?e.serverimgPath+e.photo_s3_path:e.photo?e.serverimgPath+e.photo:"MR"===(null==e.identityForm||null==(n=e.identityForm.get("civility"))?null:n.value)?e.maleStudentIcon:"neutral"===e.identityForm.get("civility").value?e.neutralStudentIcon:e.femaleStudentIcon,t.\u0275\u0275sanitizeUrl)}}function ze(i,o){if(1&i&&t.\u0275\u0275element(0,"img",62),2&i){const e=t.\u0275\u0275nextContext();let n;t.\u0275\u0275property("src","MR"===(null==e.identityForm||null==(n=e.identityForm.get("civility"))?null:n.value)?e.maleStudentIcon:"neutral"===e.identityForm.get("civility").value?e.neutralStudentIcon:e.femaleStudentIcon,t.\u0275\u0275sanitizeUrl)}}function He(i,o){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-radio-button",63),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"Neutral")))}function $e(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function qe(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ye(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Qe(i,o){1&i&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Invalid email format")," "))}function Ge(i,o){1&i&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Xe(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"span",66),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().item;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("+",null==e?null:e.dialCode,"")}}function Je(i,o){if(1&i&&(t.\u0275\u0275element(0,"img",64),t.\u0275\u0275template(1,Xe,2,1,"span",65)),2&i){const e=o.item,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("src",n.flagsIconPath+(null==e?null:e.flagIcon)+".svg",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.flagIcon)}}function Ze(i,o){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"img",68),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("src",n.flagsIconPath+(null==e?null:e.flagIcon)+".svg",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,3,null==e?null:e.name)," +",null==e?null:e.dialCode," ")}}function tn(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",67),t.\u0275\u0275template(1,Ze,4,5,"ng-container",25),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.name)}}function en(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Phone number is not valid")," "))}function nn(i,o){1&i&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function an(i,o){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"mat-progress-spinner",69),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",25))}function on(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",70)(1,"div",71)(2,"span"),t.\u0275\u0275text(3,"CV : "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",72),t.\u0275\u0275element(5,"mat-icon",73),t.\u0275\u0275elementStart(6,"span",74),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();let l,s;return t.\u0275\u0275resetView(a.openUploadFile(null==a.identityForm||null==(l=a.identityForm.get("curriculum_vitae"))||null==(s=l.get("s3_path"))?null:s.value))}),t.\u0275\u0275text(7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"mat-icon",75),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.removeCvFile())}),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275nextContext();let n,a;t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(null==e.identityForm||null==(n=e.identityForm.get("curriculum_vitae"))||null==(a=n.get("s3_path"))?null:a.value)}}function ln(i,o){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"mat-progress-spinner",69),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",25))}function rn(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",70)(1,"div",76)(2,"span"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"button",77),t.\u0275\u0275element(6,"mat-icon",73),t.\u0275\u0275elementStart(7,"span",74),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();let l,s;return t.\u0275\u0275resetView(a.openUploadFile(null==a.identityForm||null==(l=a.identityForm.get("signature"))||null==(s=l.get("s3_path"))?null:s.value))}),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"mat-icon",75),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.removeSignatureFile())}),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275nextContext();let n,a;t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(4,2,"Signature")," : "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(null==e.identityForm||null==(n=e.identityForm.get("signature"))||null==(a=n.get("s3_path"))?null:a.value)}}const sn=function(i){return{color:i}};function cn(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-slide-toggle",100),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.checkMainAddress(a))}),t.\u0275\u0275elementStart(1,"span",101),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2).$implicit;let n;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(4,sn,null!=e&&null!=(n=e.get("is_main_address"))&&n.value?"#ffe77a":"white")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"CARDDETAIL.MAIN_ADDRESS"))}}function dn(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",8)(1,"div",97),t.\u0275\u0275template(2,cn,4,6,"mat-slide-toggle",98),t.\u0275\u0275elementStart(3,"button",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().index,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.removeAddressForm(a))}),t.\u0275\u0275elementStart(4,"mat-icon"),t.\u0275\u0275text(5,"remove"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext();let a;t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.isMainAddressSelected||(null==e||null==(a=e.get("is_main_address"))?null:a.value))}}function pn(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",67),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function mn(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",67),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function hn(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",67),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function gn(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",67),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function un(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",78),t.\u0275\u0275template(1,dn,6,1,"div",79),t.\u0275\u0275elementContainerStart(2),t.\u0275\u0275elementStart(3,"div",8)(4,"div",80)(5,"div",81)(6,"div",82)(7,"mat-form-field",83),t.\u0275\u0275element(8,"input",84),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(10,"div",8)(11,"div",18)(12,"div",8)(13,"div",26)(14,"div",81)(15,"div",82)(16,"mat-form-field",85)(17,"input",86),t.\u0275\u0275listener("keyup",function(){const l=t.\u0275\u0275restoreView(e).index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.getPostcodeData(l))}),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(19,"div",26)(20,"div",81)(21,"div",82)(22,"mat-form-field",85)(23,"input",87),t.\u0275\u0275listener("keyup",function(){const l=t.\u0275\u0275restoreView(e).index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.filterCountry(l))}),t.\u0275\u0275pipe(24,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(25,"mat-autocomplete",88,89),t.\u0275\u0275listener("optionSelected",function(){const l=t.\u0275\u0275restoreView(e).index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.getPostcodeData(l))}),t.\u0275\u0275template(27,pn,2,2,"mat-option",40),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275elementStart(28,"div",8)(29,"div",18)(30,"div",8)(31,"div",26)(32,"div",81)(33,"div",82)(34,"mat-form-field",83)(35,"input",90),t.\u0275\u0275listener("keyup",function(){const l=t.\u0275\u0275restoreView(e).index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.filterCity(l))}),t.\u0275\u0275pipe(36,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(37,"mat-autocomplete",91,92),t.\u0275\u0275template(39,mn,2,2,"mat-option",40),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(40,"div",26)(41,"div",81)(42,"div",82)(43,"mat-form-field",83)(44,"input",93),t.\u0275\u0275listener("keyup",function(){const l=t.\u0275\u0275restoreView(e).index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.filterDepartment(l))}),t.\u0275\u0275pipe(45,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(46,"mat-autocomplete",91,94),t.\u0275\u0275template(48,hn,2,2,"mat-option",40),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(49,"div",26)(50,"div",81)(51,"div",82)(52,"mat-form-field",83)(53,"input",95),t.\u0275\u0275listener("keyup",function(){const l=t.\u0275\u0275restoreView(e).index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.filterRegion(l))}),t.\u0275\u0275pipe(54,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(55,"mat-autocomplete",91,96),t.\u0275\u0275template(57,gn,2,2,"mat-option",40),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()}if(2&i){const e=o.index,n=t.\u0275\u0275reference(26),a=t.\u0275\u0275reference(38),l=t.\u0275\u0275reference(47),s=t.\u0275\u0275reference(56),h=t.\u0275\u0275nextContext();t.\u0275\u0275property("formGroupName",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==h.user_addresses?null:h.user_addresses.length)>1),t.\u0275\u0275advance(7),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(9,20,"CARDDETAIL.Address")),t.\u0275\u0275advance(9),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(18,22,"CARDDETAIL.Zip Code")),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(24,24,"CARDDETAIL.Country")),t.\u0275\u0275property("matAutocomplete",n),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",h.filteredCountry[e]),t.\u0275\u0275advance(8),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(36,26,"CARDDETAIL.City")),t.\u0275\u0275property("matAutocomplete",a),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",h.filteredCities[0]),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(45,28,"CARDDETAIL.Department")),t.\u0275\u0275property("matAutocomplete",l),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",h.filteredDepartments[0]),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(54,30,"CARDDETAIL.Region")),t.\u0275\u0275property("matAutocomplete",s),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",h.filteredRegions[0])}}function _n(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",102),t.\u0275\u0275element(1,"mat-progress-spinner",103),t.\u0275\u0275elementEnd())}let fn=(()=>{class i{constructor(e,n,a,l,s,h,m,C,O,P,w,G,z,tt,rt,et,X){this.fb=e,this.router=n,this.studentService=a,this.rncpTitleService=l,this.fileUploadService=s,this.translate=h,this.schoolService=m,this.permissionService=C,this.dateAdapter=O,this.admissionService=P,this.pageTitleService=w,this.userService=G,this.utilService=z,this.userMgtService=tt,this.coreService=rt,this.imageCompress=et,this.authService=X,this.reloadData=new t.EventEmitter,this.subs=new F.Y,this.flagsIconPath="../../../../../assets/icons/flags-nationality/",this.countryCodeList=[],this.dialCodeControl=new f.UntypedFormControl(null),this.nationalitiesList=[],this.nationalList=[],this.serverimgPath=`${Ct.a.baseApi}/fileuploads/`.replace("/graphql",""),this.isWaitingForResponse=!1,this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.myInnerHeight=1920,this.maleStudentIcon="../../../../../assets/img/student_icon.png",this.femaleStudentIcon="../../../../../assets/img/student_icon_fem.png",this.neutralStudentIcon="../../../../../assets/img/student_icon_neutral.png",this.isFileUploading=!1,this.isFileUploadingImage=!1,this.isMainAddressSelected=!1,this.formatImage=".png, .PNG, .jpg, .JPG, .jpeg, .JPEG",this.dummyFileNameSignature="Signature.png",this.disableButtonVerify=!0,this.disableButtonSave=!1,this.emailDomainList=["brassart.fr","efap.com","icart.fr","efj.fr","cread.fr","ecole-mopa.fr","esec.edu","groupe-edh.com","zetta-edh.com","mbadmb.com","intervenantedh-ext.com","3wa.fr","mode-estah.com","esec.fr","3wacademy.fr"]}ngOnInit(){const e=this.authService.getLocalStorageUser(),n=this.authService.getPermission(),a=e?.entities?.find(l=>l?.type?.name===n[0]);this.currentUserTypeId=a?.type?._id,this.subs.sink=this.schoolService.getCountry().subscribe(l=>{this.countries=l.map(s=>s?.name)}),this.dateAdapter.setLocale(this.translate.currentLang),this.today=new Date,this.initForm(),this.initEmail()}ngOnChanges(){this.dialCodeControl?.reset(),this.initForm(),this.getOneUser(),this.initEmail(),this.subs.sink=this.studentService.getAllNationalities().pipe((0,Ae.q)(1)).subscribe(e=>{this.nationalitiesList=e})}selectionDialCode(e){this.identityForm?.get("phone_number_indicative")?.reset(),this.identityForm?.get("phone_number_indicative")?.patchValue(e?.dialCode)}getOneUser(){this.isWaitingForResponse=!0,this.subs.sink=this.userService.getOneUserDataForIdentityForm(this.userId).subscribe(e=>{if(this.isWaitingForResponse=!1,this.userEntities=p.cloneDeep(e?.entities),e&&e.user_addresses&&e.user_addresses.length)for(const a of e.user_addresses)this.user_addresses.length<e.user_addresses.length&&this.addAddress(),a.is_main_address&&(this.isMainAddressSelected=!0);else this.addAddress();e.profile_picture?(this.photo=e.profile_picture,this.photo_s3_path=e.profile_picture,this.is_photo_in_s3=!0):(this.photo="",this.photo_s3_path="",this.is_photo_in_s3=!1);const n=e;if(this.identityForm.patchValue(n),n?.phone_number_indicative){const a=this.countryCodeList?.findIndex(l=>l?.dialCode===n?.phone_number_indicative);a>=0&&this.dialCodeControl?.patchValue(this.countryCodeList[a])}this.initialStepForm=this.identityForm.getRawValue(),this.initValueChanges(),this.firstForm=this.identityForm.value,this.currentEmail=n.email},e=>{this.authService.postErrorLog(e),this.isWaitingForResponse=!1,e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getAutomaticHeight(){return"/my-file"===this.router.url||this.router.url.includes("previous-course")?(this.myInnerHeight=window.innerHeight-193,this.myInnerHeight):(this.myInnerHeight=window.innerHeight-369,this.myInnerHeight)}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}resetData(){this.countries=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.nationalitiesList=[]}initForm(){this.identityForm=this.fb.group({civility:[null,f.Validators.required],first_name:[null,f.Validators.required],last_name:[null,f.Validators.required],office_phone:[null,[f.Validators.maxLength(15)]],portable_phone:[null,[f.Validators.maxLength(15),f.Validators.pattern("[- ()0-9]+")]],phone_number_indicative:[null],email:[null,[f.Validators.required,Be.dN.email]],position:[null,[f.Validators.required]],profile_picture:[null],compressed_photo:[null],user_addresses:this.fb.array([]),curriculum_vitae:this.fb.group({s3_path:[""],file_path:[""],name:[""]}),signature:this.fb.group({s3_path:[""],name:[""]})}),this.initialStepForm=this.identityForm.getRawValue()}initUserAddressFormGroup(){return this.fb.group({address:[null],postal_code:[null],country:[null],city:[null],department:[null],region:[null],is_main_address:[null]})}get user_addresses(){return this.identityForm.get("user_addresses")}addAddress(){this.user_addresses.push(this.initUserAddressFormGroup())}initValueChanges(){this.identityForm.valueChanges.subscribe(()=>{this.isFormChanged()})}isFormChanged(){const e=JSON.stringify(this.initialStepForm),n=JSON.stringify(this.identityForm.getRawValue());return this.rncpTitleService.childrenFormValidationStatus=!1,e===n?(this.rncpTitleService.childrenFormValidationStatus=!0,!0):(this.rncpTitleService.childrenFormValidationStatus=!1,!1)}getPostcodeData(e){const n=this.user_addresses.at(e);if(!n)return;const a=n.get("country").value,l=n.get("postal_code").value;l&&a&&l.length>3&&"france"===a.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(l,a).subscribe(s=>{s&&s.length&&(this.setAddressDropdown(s,e),n.get("city").setValue(this.cities[e][0]),n.get("department").setValue(this.departments[e][0]),n.get("region").setValue(this.regions[e][0]))},s=>{this.authService.postErrorLog(s),s&&s.message&&s.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}setAddressDropdown(e,n){const a=[],l=[],s=[];e&&e.length&&(e.forEach(h=>{a.push(h.city),l.push(h.department),s.push(h.province)}),this.cities[n]=p.uniq(a),this.departments[n]=p.uniq(l),this.regions[n]=p.uniq(s),this.filteredCities[n]=this.cities[n],this.filteredDepartments[n]=this.departments[n],this.filteredRegions[n]=this.regions[n])}filterCountry(e){if(!this.user_addresses.at(e).get("country").value)return;const n=this.user_addresses.at(e).get("country").value.toLowerCase().trim();this.filteredCountry[e]=this.countries.filter(a=>a&&a.toLowerCase().trim().includes(n))}filterCity(e){if(this.cities[e]&&this.cities[e].length&&this.user_addresses.at(e).get("city").value){const n=this.user_addresses.at(e).get("city").value.toLowerCase().trim();this.filteredCities[e]=this.cities[e].filter(a=>a&&a.toLowerCase().trim().includes(n))}}filterDepartment(e){if(this.departments[e]&&this.departments[e].length&&this.user_addresses.at(e).get("department").value){const n=this.user_addresses.at(e).get("department").value.toLowerCase().trim();this.filteredDepartments[e]=this.departments[e].filter(a=>a&&a.toLowerCase().trim().includes(n))}}filterRegion(e){if(this.regions[e]&&this.regions[e].length&&this.user_addresses.at(e).get("region").value){const n=this.user_addresses.at(e).get("region").value.toLowerCase().trim();this.filteredRegions[e]=this.regions[e].filter(a=>a&&a.toLowerCase().trim().includes(n))}}openUploadWindow(){this.uploadInput.nativeElement.click()}handleFileInputChange(e){const n=["pdf","doc","docx","ppt","pptx","xls"];if(e.target.files.length>0){const a=e.target.files[0],l=this.utilService.getFileExtension(a.name).toLocaleLowerCase();n.includes(l)?(this.isFileUploading=!0,this.subs.sink=this.fileUploadService.singleUpload(a).subscribe(s=>{this.isFileUploading=!1,s&&(this.identityForm.get("curriculum_vitae").get("s3_path").setValue(s.s3_file_name),this.identityForm.get("curriculum_vitae").get("file_path").setValue(s.file_url))},s=>{this.authService.postErrorLog(s),this.isFileUploading=!1,s&&s.message&&s.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:"Error !",confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(h=>{})})):c().fire({type:"info",title:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TITLE"),text:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TEXT",{file_exts:".jpg, .jpeg, .png, .pdf"}),allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})}}handleFileInputChangeSignature(e){const n=["png","PNG","jpg","JPG","jpeg","JPEG"];if(e.target.files.length>0){const a=e.target.files[0],l=this.utilService.getFileExtension(a.name).toLocaleLowerCase();n.includes(l)?(this.isFileUploadingImage=!0,this.subs.sink=this.fileUploadService.singleUpload(a).subscribe(s=>{this.isFileUploadingImage=!1,s&&(this.identityForm.get("signature").get("s3_path").setValue(s.s3_file_name),this.identityForm.get("signature").get("name").setValue(s.s3_file_name))},s=>{this.isFileUploadingImage=!1,s&&s.message&&s.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:"Error !",confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(h=>{console.log("[BE Message] Error is : ",s)})})):c().fire({type:"info",title:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TITLE"),text:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TEXT",{file_exts:this.formatImage}),allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})}this.resetFileStateSignatory()}removeCvFile(){this.identityForm.get("curriculum_vitae").get("s3_path").setValue(null)}removeSignatureFile(){this.identityForm?.get("signature")?.get("name").setValue(null),this.identityForm?.get("signature")?.get("s3_path").setValue(null)}handleInputChange(e){const n=e.target.files[0];this.photo="",this.photo_s3_path="",this.is_photo_in_s3=!1,n&&(this.subs.sink=this.fileUploadService.singleUpload(n).subscribe(a=>{a&&(this.photo=a.file_name,this.photo_s3_path=a.s3_file_name,this.is_photo_in_s3=!0,this.identityForm.get("profile_picture").setValue(a.s3_file_name))},a=>{this.authService.postErrorLog(a),a&&a.message&&a.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:"Error !",confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(l=>{})})),this.resetFileState()}resetFileState(){this.uploadInput.nativeElement.value=""}getNationalitySelected(e){this.nationalitySelected=e.nationality_en.toLowerCase()}displayNationality(e){if(this.translate&&e){const n=this.translate.instant("NATIONALITY."+e);return n.includes("NATIONALITY")?e:n}return e}createPayload(){return p.cloneDeep(this.identityForm.value)}openUploadFile(e){window.open(this.serverimgPath+e,"_blank")}updateUser(){var e=this;return(0,Lt.Z)(function*(){if(!(yield e.checkFormValidity()))return;e.isWaitingForResponse=!0;const n=e.createPayload();e.subs.sink=e.userService.updateUser(e.userId,n,e.currentUserTypeId).subscribe(a=>{a&&(e.rncpTitleService.childrenFormValidationStatus=!0,e.initialStepForm=e.identityForm.getRawValue(),c().fire({type:"success",title:e.translate.instant("Bravo!"),confirmButtonText:e.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{e.getOneUser(),e.isWaitingForResponse=!1,e.userMgtService.triggerRefresh(!0),e.reloadData.emit(!0)}))},a=>{if(e.authService.postErrorLog(a),e.isWaitingForResponse=!1,a&&a.message&&a.message.includes("Network error: Http failure response for"))c().fire({type:"warning",title:e.translate.instant("BAD_CONNECTION.Title"),html:e.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:e.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1});else{if(a&&a.message&&a.message.includes("Invalid Email"))return void c().fire({type:"info",title:e.translate.instant("SWAL_VALIDITY_EMAIL.TITLE"),html:e.translate.instant("SWAL_VALIDITY_EMAIL.TEXT",{emailDomainList:e.emailDomainList.map(l=>`<li>${l}</li>`).join("")}),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,confirmButtonText:e.translate.instant("SWAL_VALIDITY_EMAIL.BUTTON")}).then(()=>{e.disableButtonSave=!0});c().fire({type:"info",title:e.translate.instant("SORRY"),text:a&&a.message?e.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:e.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}})})()}checkFormValidity(){var e=this;return(0,Lt.Z)(function*(){return!e.identityForm.invalid||(yield c().fire({type:"warning",title:e.translate.instant("Invalid_Form_Warning.TITLE"),html:e.translate.instant("Invalid_Form_Warning.TEXT"),confirmButtonText:e.translate.instant("Invalid_Form_Warning.BUTTON")}),e.markAllFieldsAsTouched(e.identityForm),!1)})()}markAllFieldsAsTouched(e){Object.keys(e.controls).forEach(n=>{const a=e.get(n);if(a instanceof f.UntypedFormControl)a.markAsTouched({onlySelf:!0});else if(a instanceof f.UntypedFormGroup)this.markAllFieldsAsTouched(a);else if(a instanceof f.UntypedFormArray)for(const l of a.controls)l.markAllAsTouched()})}addAddressForm(){this.addAddress(),this.filteredCountry.push(this.countries),this.cities.push([]),this.regions.push([]),this.departments.push([])}removeAddressForm(e){let n=3;c().fire({title:this.translate.instant("DASHBOARD_DELETE.deletedTitle"),html:this.translate.instant("DELETE_STUDENT_ADDRESS"),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("THUMBSUP.SWEET_ALERT.CONFIRM",{timer:n}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{const a=c().getConfirmButton();a.setAttribute("disabled",""),this.intVal=setInterval(()=>{n-=1,a.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${n})`},1e3),this.timeOutVal=setTimeout(()=>{a.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),a.removeAttribute("disabled"),clearInterval(this.intVal),clearTimeout(this.timeOutVal)},1e3*n)}}).then(a=>{clearTimeout(this.timeOutVal),a.value&&(this.user_addresses.removeAt(e),c().fire({type:"success",title:this.translate.instant("EVENT_S1.TITLE"),html:this.translate.instant("Address Successfully Deleted"),confirmButtonText:this.translate.instant("EVENT_S1.BUTTON")}))})}checkMainAddress(e){this.isMainAddressSelected=!(!e||!e.checked)}resetFileStateSignatory(){this.signatureUpload.nativeElement.value=null}checkComparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.identityForm.getRawValue())}selectFile(e){const n=["jpg","jpeg","png"];if(this.imageBeforeCompressed=e.target.files[0],this.imageBeforeCompressed){const a=this.utilService.getFileExtension(this.imageBeforeCompressed.name).toLocaleLowerCase();if(n.includes(a))if(this.imageBeforeCompressed.size>5e6)c().fire({type:"info",title:this.translate.instant("UPLOAD_IMAGE.TITLE"),text:this.translate.instant("UPLOAD_IMAGE.TEXT"),confirmButtonText:this.translate.instant("UPLOAD_IMAGE.BUTTON")});else{this.isWaitingForResponse=!0;const l=this.imageBeforeCompressed?.name,s=this.imageBeforeCompressed?.size,h=new FileReader;h.onload=m=>{this.compressFile(m.target.result,l,s)},h.readAsDataURL(this.imageBeforeCompressed)}else c().fire({type:"info",title:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TITLE"),text:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TEXT",{file_exts:".jpg, .jpeg, .png"}),allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})}}compressFile(e,n,a){let s;const h=n.substring(0,n.lastIndexOf("."))+"-Compressed"+n.substring(n.lastIndexOf("."));a>3e6&&a<=5e6?s=20:a>=1e6&&a<=3e6?s=30:a<1e6&&(s=40),s&&this.imageCompress.compressFile(e,-1,s,50).then(m=>{fetch(m).then(C=>C.blob()).then(C=>{this.imageAfterCompressed=new File([C],h,{type:"image/png"}),this.uploadFile(this.imageAfterCompressed,this.imageBeforeCompressed)})})}uploadFile(e,n){this.photo="",this.photo_s3_path="",this.is_photo_in_s3=!1,e&&(this.subs.sink=this.fileUploadService.singleUpload(e).subscribe(a=>{a&&(console.log("Image compressed upload success"),this.identityForm.get("compressed_photo").setValue(a.s3_file_name))},a=>{a&&a.message&&a.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:"Error !",confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(l=>{console.log("[BE Message] Error is : ",a)})})),n&&(this.subs.sink=this.fileUploadService.singleUpload(n).subscribe(a=>{this.isWaitingForResponse=!1,a&&(this.photo=a.file_name,this.photo_s3_path=a.s3_file_name,this.is_photo_in_s3=!0,this.identityForm.get("profile_picture").setValue(a.s3_file_name))},a=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(l=>{console.log("[BE Message] Error is : ",a)})})),this.resetFileState()}initEmail(){this.identityForm?.get("email")?.valueChanges?.pipe((0,B.b)(400)).subscribe(e=>{e!==this.currentEmail?(this.disableButtonVerify=!1,this.disableButtonSave=!0):(this.disableButtonVerify=!0,this.disableButtonSave=!1)})}verifyEmail(){this.isWaitingForResponse=!0;let e=!1;this.userEntities?.length&&(e=this.userEntities?.some(a=>"Teacher"===a?.type?.name));let n=!0;e&&(n=!1),this.subs.sink=this.userService?.verifyEmail(this.identityForm?.get("email")?.value,n).subscribe(a=>{this.isWaitingForResponse=!1,!a?._id&&!a?.incorrect_email&&c().fire({type:"success",title:this.translate.instant("Bravo"),confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(()=>{this.disableButtonSave=!1}),a?._id||!a?.incorrect_email?a?._id&&(this.disableButtonSave=!0,c().fire({type:"warning",title:this.translate.instant("SWAL_USER_EXIST.TITLE"),text:this.translate.instant("SWAL_USER_EXIST.TEXT"),confirmButtonText:this.translate.instant("SWAL_USER_EXIST.BUTTON_1"),showCancelButton:!0,cancelButtonText:this.translate.instant("SWAL_USER_EXIST.BUTTON_2"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(l=>{l.value?this.router.navigate(["/users/user-list"],{queryParams:{user:a._id}}):this.disableButtonSave=!0})):c().fire({type:"info",title:this.translate.instant("SWAL_VALIDITY_EMAIL.TITLE"),html:this.translate.instant("SWAL_VALIDITY_EMAIL.TEXT",{emailDomainList:this.emailDomainList.map(l=>`<li>${l}</li>`).join("")}),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,confirmButtonText:this.translate.instant("SWAL_VALIDITY_EMAIL.BUTTON")}).then(()=>{this.disableButtonSave=!0})},a=>{if(this.disableButtonSave=!0,this.authService.postErrorLog(a),a&&a.message&&a.message.includes("Network error: Http failure response for"))c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1});else if(this.disableButtonSave=!0,a.message?.includes("GraphQL error: This Email Already Used As Student")){const l=a.message.replaceAll("GraphQL error: This Email Already Used As Student","");let s;l?.includes("MRS")?s=l.replace(/\sMRS\s/gi,`${this.translate.instant("CARDDETAIL.MRS")} `):l?.includes("MR")&&(s=l.replace(/\sMR\s/gi,`${this.translate.instant("CARDDETAIL.MR")} `)),c().fire({type:"warning",title:this.translate.instant("Checkavailability_S2.TITLE"),text:this.translate.instant("Checkavailability_S2.TEXT",{student:s}),footer:'<span style="margin-left: auto">Checkavailability_S2</span>',confirmButtonText:this.translate.instant("Checkavailability_S2.BTN"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(()=>{})}else c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1})})}checkEmailAvailbility(){this.isWaitingForResponse=!0,this.subs.sink=this.admissionService?.checkEmailAvailbility(this.identityForm?.get("email")?.value,this.userId).subscribe(e=>{this.isWaitingForResponse=!1,e&&this.verifyEmail()},e=>{this.isWaitingForResponse=!1,e&&c().fire({type:"warning",title:this.translate.instant("SWAL_USER_EXIST_DUMMY.TITLE"),text:this.translate.instant("SWAL_USER_EXIST_DUMMY.TEXT"),confirmButtonText:this.translate.instant("SWAL_USER_EXIST_DUMMY.BUTTON"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(()=>{this.disableButtonSave=!0})})}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(f.UntypedFormBuilder),t.\u0275\u0275directiveInject(W.F0),t.\u0275\u0275directiveInject(Vt.q),t.\u0275\u0275directiveInject(St.r),t.\u0275\u0275directiveInject(Wt.J),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(jt.E),t.\u0275\u0275directiveInject(Nt.$),t.\u0275\u0275directiveInject(Rt._A),t.\u0275\u0275directiveInject(Ne.w),t.\u0275\u0275directiveInject(J.Z),t.\u0275\u0275directiveInject(xt.K),t.\u0275\u0275directiveInject(_t.t),t.\u0275\u0275directiveInject(st.x),t.\u0275\u0275directiveInject(ft.p),t.\u0275\u0275directiveInject(Re.r),t.\u0275\u0275directiveInject(j.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-user-details-identity-tab"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(Ve,5),t.\u0275\u0275viewQuery(We,5),t.\u0275\u0275viewQuery(je,5)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.signatureUpload=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.uploadInput=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.uploadFileInput=a.first)}},inputs:{userId:"userId",countryCodeList:"countryCodeList"},outputs:{reloadData:"reloadData"},features:[t.\u0275\u0275NgOnChangesFeature],decls:144,vars:71,consts:[[1,"p-grid",3,"formGroup"],[1,"p-col-12",2,"padding-left","0px","padding-right","0px"],[1,"p-grid",2,"margin-top","0.5rem"],[1,"p-col-12",2,"text-align","right","padding-right","0px"],["mat-raised-button","","color","accent",3,"disabled","click"],[1,"mat-icon-default"],[1,"fieldset-class"],[1,"overlow-auto",2,"margin-top","0 !important"],[1,"p-grid"],[1,"p-col-fixed",2,"width","150px"],[1,"imgContainer"],["style","cursor: pointer; object-fit: cover","class","student-details-img",3,"src",4,"ngIf"],["class","student-details-img",3,"src",4,"ngIf"],["type","file","name","file","accept","image/png, image/jpeg, image/jpg",2,"display","none",3,"change"],["userphoto",""],[1,"overlay",3,"click"],[1,"text"],[1,"p-col"],[1,"p-col-12","no-padding"],[1,"p-grid",2,"margin-bottom","10px"],[1,"p-col-fixed","center-label","no-padding-y",2,"width","80px"],[1,"p-col-7","no-padding-y"],["formControlName","civility",2,"font-size","12px"],["value","MR",2,"margin-right","1rem"],["value","MRS"],[4,"ngIf"],[1,"p-col-4","no-padding"],[1,"p-col","no-padding-y","pad-right-15"],["matInput","","required","","formControlName","first_name","type","text"],["matInput","","required","","formControlName","last_name","type","text"],[1,"p-col-4","no-padding","pad-left-5"],[1,"p-col","no-padding-y"],["matInput","","required","","formControlName","email","type","email"],[1,"check-email"],["matInput","","formControlName","office_phone","type","tel","maxlength","15"],[1,"phone-number","p-col-12","no-padding-y","p-grid",2,"position","relative"],[1,"label-for-phone"],[1,"phone-number","p-col-4"],["bindLabel","name",1,"custom-dropdownpanel-dialcode",3,"formControl","clearable","appendTo","change"],["ng-label-tmp",""],[3,"value",4,"ngFor","ngForOf"],[1,"phone-number","p-col-8"],["matInput","","formControlName","portable_phone","type","text"],["matInput","","formControlName","position"],[1,"p-grid",2,"padding","0.5em","display","flex"],[1,"upload-cv-container"],[1,"upload-cv-button-container"],["type","file","name","file","accept",".pdf",2,"display","none",3,"change"],["cvUpload",""],["class","file-name-included",4,"ngIf"],[1,"upload-signature-container"],[1,"upload-signature-button-container"],["mat-raised-button","","color","accent",2,"margin-right","1rem",3,"disabled","click"],["svgIcon","plus",1,"mat-icon-svgIcon"],["type","file","name","file",2,"display","none",3,"accept","change"],["signatureUpload",""],["formArrayName","user_addresses",1,"p-grid",2,"padding-top","10px"],["class","p-col-12 mb-1rem border-white","style","padding-bottom: 15px; margin-left: 7px; margin-right: 7px !important; width: 98%",3,"formGroupName",4,"ngFor","ngForOf"],[1,"p-col-12","no-padding",2,"text-align","right","font-size","12px"],["mat-icon-button","","color","success",1,"small-icon",3,"click"],["class","loading-indicator",4,"ngIf"],[1,"student-details-img",2,"cursor","pointer","object-fit","cover",3,"src"],[1,"student-details-img",3,"src"],["value","neutral",2,"margin-left","8px"],[1,"flag-icon-trigger",3,"src"],["class","ml-4",4,"ngIf"],[1,"ml-4"],[3,"value"],[1,"flag-icon",3,"src"],["mode","indeterminate","color","accent",3,"diameter"],[1,"file-name-included"],[1,"cv"],[1,"cv-file"],["svgIcon","file",1,"mat-icon-svgIcon"],[1,"name-file",3,"click"],["svgIcon","close",1,"mat-icon-svgIcon","closeIcon",3,"click"],[1,"signature"],[1,"signature-file"],[1,"p-col-12","mb-1rem","border-white",2,"padding-bottom","15px","margin-left","7px","margin-right","7px !important","width","98%",3,"formGroupName"],["class","p-grid",4,"ngIf"],[1,"p-col-12","no-padding",2,"padding-top","10px"],[1,"p-grid","flex-hidden-mr-1"],[1,"p-col","no-padding"],["color","accent",1,"full-width"],["matInput","","type","text","formControlName","address",3,"placeholder"],["color","accent"],["matInput","","type","text","formControlName","postal_code","maxlength","5",3,"placeholder","keyup"],["type","text","matInput","","formControlName","country",3,"placeholder","matAutocomplete","keyup"],[3,"panelWidth","optionSelected"],["autoCountry","matAutocomplete"],["type","text","matInput","","formControlName","city",3,"placeholder","matAutocomplete","keyup"],[3,"panelWidth"],["autoCity","matAutocomplete"],["type","text","matInput","","formControlName","department",3,"placeholder","matAutocomplete","keyup"],["autoDepartment","matAutocomplete"],["type","text","matInput","","formControlName","region",3,"placeholder","matAutocomplete","keyup"],["autoRegion","matAutocomplete"],[1,"p-col-12","text-right","no-padding"],["formControlName","is_main_address","style","margin-right: 1rem",3,"change",4,"ngIf"],["mat-icon-button","","color","red",1,"small-icon",3,"click"],["formControlName","is_main_address",2,"margin-right","1rem",3,"change"],[2,"font-size","12px",3,"ngStyle"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){if(1&e){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),t.\u0275\u0275listener("click",function(){return n.updateUser()}),t.\u0275\u0275elementStart(5,"mat-icon",5),t.\u0275\u0275text(6,"save"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(9,"fieldset",6)(10,"mat-card",7)(11,"div",8)(12,"div",9)(13,"div",10),t.\u0275\u0275template(14,Ke,1,1,"img",11),t.\u0275\u0275template(15,ze,1,1,"img",12),t.\u0275\u0275elementStart(16,"input",13,14),t.\u0275\u0275listener("change",function(s){return n.selectFile(s)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"div",15),t.\u0275\u0275listener("click",function(){return n.openUploadWindow()}),t.\u0275\u0275elementStart(19,"div",16),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(22,"div",17)(23,"div",8)(24,"div",18)(25,"div",19)(26,"div",20)(27,"label"),t.\u0275\u0275text(28),t.\u0275\u0275pipe(29,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(30,"div",21)(31,"mat-radio-group",22)(32,"mat-radio-button",23),t.\u0275\u0275text(33),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(35,"mat-radio-button",24),t.\u0275\u0275text(36),t.\u0275\u0275pipe(37,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(38,He,4,3,"ng-container",25),t.\u0275\u0275template(39,$e,3,3,"mat-error",25),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(40,"div",8)(41,"div",26)(42,"div",8)(43,"div",27)(44,"mat-form-field")(45,"mat-label"),t.\u0275\u0275text(46),t.\u0275\u0275pipe(47,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(48,"input",28),t.\u0275\u0275template(49,qe,3,3,"mat-error",25),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(50,"div",26)(51,"div",8)(52,"div",27)(53,"mat-form-field")(54,"mat-label"),t.\u0275\u0275text(55),t.\u0275\u0275pipe(56,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(57,"input",29),t.\u0275\u0275template(58,Ye,3,3,"mat-error",25),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(59,"div",30)(60,"div",8)(61,"div",31)(62,"mat-form-field")(63,"mat-label"),t.\u0275\u0275text(64),t.\u0275\u0275pipe(65,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(66,"input",32),t.\u0275\u0275elementStart(67,"mat-error"),t.\u0275\u0275template(68,Qe,3,3,"p",25),t.\u0275\u0275template(69,Ge,3,3,"p",25),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(70,"div",33)(71,"button",4),t.\u0275\u0275listener("click",function(){return n.checkEmailAvailbility()}),t.\u0275\u0275text(72),t.\u0275\u0275pipe(73,"translate"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(74,"div",8)(75,"div",30)(76,"div",8)(77,"div",31)(78,"mat-form-field")(79,"mat-label"),t.\u0275\u0275text(80),t.\u0275\u0275pipe(81,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(82,"input",34),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(83,"div",30)(84,"div",8)(85,"div",35)(86,"mat-label",36),t.\u0275\u0275text(87),t.\u0275\u0275pipe(88,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(89,"div",37)(90,"ng-select",38),t.\u0275\u0275listener("change",function(s){return n.selectionDialCode(s)}),t.\u0275\u0275template(91,Je,2,2,"ng-template",39),t.\u0275\u0275template(92,tn,2,2,"ng-option",40),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(93,"div",41)(94,"mat-form-field"),t.\u0275\u0275element(95,"input",42),t.\u0275\u0275template(96,en,3,3,"mat-error",25),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(97,"div",30)(98,"div",8)(99,"div",31)(100,"mat-form-field")(101,"mat-label"),t.\u0275\u0275text(102),t.\u0275\u0275pipe(103,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(104,"input",43),t.\u0275\u0275elementStart(105,"mat-error"),t.\u0275\u0275template(106,nn,3,3,"p",25),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(107,"div",44)(108,"div",45)(109,"div",46)(110,"div"),t.\u0275\u0275template(111,an,2,1,"span",25),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(112,"div")(113,"button",4),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(a);const s=t.\u0275\u0275reference(119);return t.\u0275\u0275resetView(s.click())}),t.\u0275\u0275elementStart(114,"mat-icon",5),t.\u0275\u0275text(115,"file_upload"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(116),t.\u0275\u0275pipe(117,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(118,"input",47,48),t.\u0275\u0275listener("change",function(s){return n.handleFileInputChange(s)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(120,on,9,1,"div",49),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(121,"div",50)(122,"div",51)(123,"div"),t.\u0275\u0275template(124,ln,2,1,"span",25),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(125,"div")(126,"button",52),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(a);const s=t.\u0275\u0275reference(132);return t.\u0275\u0275resetView(s.click())}),t.\u0275\u0275elementStart(127,"mat-icon",53),t.\u0275\u0275text(128,"plus"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(129),t.\u0275\u0275pipe(130,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(131,"input",54,55),t.\u0275\u0275listener("change",function(s){return n.handleFileInputChangeSignature(s)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(133,rn,10,4,"div",49),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(134,"div",56),t.\u0275\u0275template(135,un,58,32,"div",57),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(136,"div",8)(137,"div",58),t.\u0275\u0275text(138),t.\u0275\u0275pipe(139,"translate"),t.\u0275\u0275elementStart(140,"button",59),t.\u0275\u0275listener("click",function(){return n.addAddressForm()}),t.\u0275\u0275elementStart(141,"mat-icon"),t.\u0275\u0275text(142,"add"),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275template(143,_n,2,0,"div",60)}if(2&e){let a,l,s,h,m;t.\u0275\u0275property("formGroup",n.identityForm),t.\u0275\u0275advance(4),t.\u0275\u0275property("disabled",n.disableButtonSave),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,41,"CARDDETAIL.Save")," "),t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",n.is_photo_in_s3),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.is_photo_in_s3),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(21,43,"DOCUMENT.IMAGE")),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(29,45,"CARDDETAIL.Civility"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(34,47,"CARDDETAIL.MR")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(37,49,"CARDDETAIL.MRS")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==n.coreService?null:n.coreService.neutralCivility),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.identityForm||null==(a=n.identityForm.get("civility"))?null:a.hasError("required"))&&((null==n.identityForm||null==(a=n.identityForm.get("civility"))?null:a.dirty)||(null==n.identityForm||null==(a=n.identityForm.get("civility"))?null:a.touched))),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(47,51,"CARDDETAIL.First Name")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==n.identityForm?null:n.identityForm.get("first_name").hasError("required"))&&((null==n.identityForm?null:n.identityForm.get("first_name").dirty)||(null==n.identityForm?null:n.identityForm.get("first_name").touched))),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(56,53,"CARDDETAIL.Last Name")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==n.identityForm?null:n.identityForm.get("last_name").hasError("required"))&&((null==n.identityForm?null:n.identityForm.get("last_name").dirty)||(null==n.identityForm?null:n.identityForm.get("last_name").touched))),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(65,55,"CARDDETAIL.Personal Email")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",(null==n.identityForm?null:n.identityForm.get("email").hasError("email"))&&((null==n.identityForm?null:n.identityForm.get("email").touched)||(null==n.identityForm?null:n.identityForm.get("email").dirty))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.identityForm?null:n.identityForm.get("email").hasError("required"))&&((null==n.identityForm?null:n.identityForm.get("email").dirty)||(null==n.identityForm?null:n.identityForm.get("email").touched))),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",n.identityForm.get("email").invalid||n.disableButtonVerify),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(73,57,"COMPANY.Check Email Availability")," "),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(81,59,"Office Phone")),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(88,61,"CARDDETAIL.Phone")),t.\u0275\u0275advance(3),t.\u0275\u0275property("formControl",n.dialCodeControl)("clearable",!1)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.countryCodeList),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",n.identityForm.get("portable_phone").hasError("pattern")&&(n.identityForm.get("portable_phone").touched||n.identityForm.get("portable_phone").dirty)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(103,63,"Position")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",(null==n.identityForm?null:n.identityForm.get("position").hasError("required"))&&((null==n.identityForm?null:n.identityForm.get("position").dirty)||(null==n.identityForm?null:n.identityForm.get("position").touched))),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",n.isFileUploading),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(117,65,"Upload CV")," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==n.identityForm||null==(l=n.identityForm.get("curriculum_vitae"))||null==(s=l.get("s3_path"))?null:s.value),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",n.isFileUploadingImage),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(130,67,"Add Signature")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("accept",n.formatImage),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==n.identityForm||null==(h=n.identityForm.get("signature"))||null==(m=h.get("s3_path"))?null:m.value),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.user_addresses.controls),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(139,69,"CARDDETAIL.Add more address")," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",n.isWaitingForResponse)}},dependencies:[r.sg,r.O5,r.PC,Et.XC,Et.ZL,Rt.ey,L.lW,$.a8,K.Hw,V.TO,V.KE,V.hX,nt.Nt,H.Ou,Kt.VQ,Kt.U0,Le.Rr,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.MaxLengthValidator,f.FormControlDirective,f.FormGroupDirective,f.FormControlName,f.FormGroupName,f.FormArrayName,Y.Zl,D.w9,D.jq,D.mR,M.X$],styles:[".border-white[_ngcontent-%COMP%]{border:1px solid white}.center-label[_ngcontent-%COMP%]{align-self:center}.no-padding[_ngcontent-%COMP%]{padding:0}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}label[_ngcontent-%COMP%]{font-size:12px!important}.imgContainer[_ngcontent-%COMP%]{position:relative;height:10rem;width:auto;cursor:pointer;overflow:hidden}.pad-left-5[_ngcontent-%COMP%]{padding-left:5px!important}.pad-right-15[_ngcontent-%COMP%]{padding-right:15px!important}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;height:100%;width:100%;opacity:0;transition:.5s ease;background-color:#2f2f2f}.closeIcon[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}.name-file[_ngcontent-%COMP%]:hover{cursor:pointer;color:#ff0}.student-details-img[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.imgContainer[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.text[_ngcontent-%COMP%]{color:#fff;font-size:20px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.spinner-wrapper[_ngcontent-%COMP%]{width:100%;height:320px;display:flex;justify-content:center;align-items:center;top:0;left:0;z-index:998}.fieldset-class[_ngcontent-%COMP%]{padding:0;border:0px}.overlow-auto[_ngcontent-%COMP%]{overflow:auto}.file-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:20vw;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-left:1rem;direction:rtl;text-align:left}.upload-cv-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:.5rem}.upload-cv-container[_ngcontent-%COMP%]   .upload-cv-button-container[_ngcontent-%COMP%]{display:flex;gap:.5rem}.upload-cv-container[_ngcontent-%COMP%]   .file-name-included[_ngcontent-%COMP%]   .cv[_ngcontent-%COMP%]{display:flex}.upload-cv-container[_ngcontent-%COMP%]   .file-name-included[_ngcontent-%COMP%]   .cv[_ngcontent-%COMP%]   .cv-file[_ngcontent-%COMP%]{color:#000!important;background-color:#fff!important;margin-left:.3rem;display:flex}.upload-cv-container[_ngcontent-%COMP%]   .file-name-included[_ngcontent-%COMP%]   .cv[_ngcontent-%COMP%]   .cv-file[_ngcontent-%COMP%]   .name-file[_ngcontent-%COMP%]{max-width:20vw;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;direction:rtl;text-align:left;background-color:#fff;color:#000;padding:0 .7rem}.upload-signature-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:1rem}.upload-signature-container[_ngcontent-%COMP%]   .upload-signature-button-container[_ngcontent-%COMP%]{display:flex;gap:.5rem}.upload-signature-container[_ngcontent-%COMP%]   .file-name-included[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]{display:flex}.upload-signature-container[_ngcontent-%COMP%]   .file-name-included[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]   .signature-file[_ngcontent-%COMP%]{color:#000!important;background-color:#fff!important;margin-left:.3rem;display:flex}.upload-signature-container[_ngcontent-%COMP%]   .file-name-included[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]   .signature-file[_ngcontent-%COMP%]   .name-file[_ngcontent-%COMP%]{max-width:20vw;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;direction:rtl;text-align:left;background-color:#fff;color:#000;padding:0 .5rem}[_nghost-%COMP%]     body .app-dark .mat-form-field-appearance-legacy .mat-form-field-label{color:#fff!important}[_nghost-%COMP%]     .mat-input-element:disabled{color:#fff!important}[_nghost-%COMP%]     mat-input-element{color:#fff!important}[_nghost-%COMP%]     .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#ff5722!important}.check-email[_ngcontent-%COMP%]{margin:5px 0}.flag-icon[_ngcontent-%COMP%]{vertical-align:text-top;margin-right:12px;height:14px;width:20px;display:inline-block}.flag-icon-trigger[_ngcontent-%COMP%]{vertical-align:text-top;margin-right:2px;height:16px;width:16px;display:inline-block}.border-button[_ngcontent-%COMP%]{border-bottom:1px solid #dadada}.phone-number.p-col-4[_ngcontent-%COMP%], .phone-number.p-col-8[_ngcontent-%COMP%], .phone-number.p-col-12[_ngcontent-%COMP%]{padding:0!important}.phone-number.p-col-4[_ngcontent-%COMP%]{padding-right:0!important}.phone-number.p-col-8[_ngcontent-%COMP%]{padding-left:12px!important}.label-for-phone[_ngcontent-%COMP%]{filter:blur(.4px);position:absolute;font-size:13px;bottom:42px!important;color:#aaa;font-weight:700}.ml-4[_ngcontent-%COMP%]{margin-left:4px}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgb(200,200,200)!important;box-shadow:unset;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important;margin-top:6px!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important;margin-top:8px!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}  .ng-dropdown-panel.custom-dropdownpanel-dialcode{width:-moz-fit-content!important;width:fit-content!important}"]}),i})();var zt=u(36746);const Cn=["fileUploadDoc"];function bn(i,o){1&i&&(t.\u0275\u0275elementStart(0,"h1",18),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Add document")," "))}function On(i,o){1&i&&(t.\u0275\u0275elementStart(0,"h1",19),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Add document")))}function xn(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function yn(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",24)(1,"button",25),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.uploadSubmitFlyer())}),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"file_upload"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",14),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.removeFile())}),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"delete"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd()()}2&i&&(t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(5,2,"ACAD_KIT.DOC.Add this File")," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(10,4,"ACAD_KIT.DOC.Remove")," "))}function vn(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"div",20)(1,"div",7)(2,"mat-card")(3,"div",21)(4,"mat-icon",22),t.\u0275\u0275text(5,"insert_drive_file"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,yn,11,6,"div",23),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275nextContext();let n;t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",null==e.uploadDocForm||null==(n=e.uploadDocForm.get("s3_file_name"))?null:n.value," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.selectedFile||e.uploadDocForm.get("s3_file_name").value)}}function Tn(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",26),t.\u0275\u0275element(1,"mat-spinner",27),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}function Mn(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",28),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.openUploadWindow())}),t.\u0275\u0275elementStart(1,"mat-icon"),t.\u0275\u0275text(2,"add"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",!(null!=e.uploadDocForm&&e.uploadDocForm.valid)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,2,"ACAD_KIT.DOC.File")," ")}}let Ht=(()=>{class i{constructor(e,n,a,l,s,h,m,C){this.dialogRef=e,this.parentData=n,this.fb=a,this.translate=l,this.utilService=s,this.fileUploadService=h,this.acadKitService=m,this.authService=C,this.isWaitingForResponse=!1,this.subs=new F.Y,this.fileTypesControl=new f.FormControl(""),this.fileTypes=[],this.selectedFileType="",this.selectedMaxSize=0}ngOnInit(){this.initUploadDocForm(),this.parentData&&"edit"===this.parentData.type&&this.parentData.data&&this.uploadDocForm.patchValue({name:this.parentData.data.document_name?this.parentData.data.document_name:"",s3_file_name:this.parentData.data.s3_file_name?this.parentData.data.s3_file_name:null}),this.firstForm=p.cloneDeep(this.uploadDocForm.value)}initUploadDocForm(){this.uploadDocForm=this.fb.group({name:["",f.Validators.required],s3_file_name:[""]})}closeDialog(){this.dialogRef.close()}openUploadWindow(){this.fileUploaderDoc.nativeElement.click(),this.selectedMaxSize=0}addFile(e){const l=this.utilService.getFileExtension(e.target.files[0].name).toLocaleLowerCase();["pdf"].includes(l)?this.utilService.countFileSize(e.target.files[0],this.selectedMaxSize)?(this.selectedFile=e.target.files[0],this.uploadDocForm.get("s3_file_name").setValue(this.selectedFile.name)):c().fire({type:"warning",title:this.translate.instant("UPLOAD_RESTRICT_TO_FILESIZE_File.TITLE"),html:this.translate.instant("UPLOAD_RESTRICT_TO_FILESIZE_File.TEXT",{size:this.selectedMaxSize}),confirmButtonText:this.translate.instant("UPLOAD_RESTRICT_TO_FILESIZE_File.BUTTON"),allowOutsideClick:!1}):c().fire({type:"info",title:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TITLE"),text:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TEXT",{file_exts:".pdf"}),allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})}removeFile(){this.selectedFile=null,this.fileUploaderDoc.nativeElement.value=null,this.uploadDocForm.get("s3_file_name").setValue("")}uploadSubmitFlyer(){"edit"!==this.parentData.type||this.fileUploaderDoc.nativeElement.value?(this.isWaitingForResponse=!0,this.subs.sink=this.fileUploadService.singleUpload(this.selectedFile).subscribe(e=>{this.isWaitingForResponse=!1,e?(this.uploadDocForm.get("s3_file_name").setValue(e.s3_file_name),this.submitFlyer()):c().fire({type:"info",title:this.translate.instant("SORRY"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("ok")})},e=>{this.authService.postErrorLog(e),this.isWaitingForResponse=!1,e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})):this.submitFlyer()}submitFlyer(){this.isWaitingForResponse=!0;const e={document_name:this.uploadDocForm.get("name").value,type_of_document:"manual_document",s3_file_name:this.uploadDocForm.get("s3_file_name").value,uploaded_for_other_user:this.parentData.teacher_id};this.subs.sink=this.parentData&&"edit"===this.parentData.type&&this.parentData.data&&this.parentData.data._id?this.acadKitService.updateAcadDoc(this.parentData.data._id,e).subscribe(n=>{this.isWaitingForResponse=!1,n&&this.dialogRef.close(this.uploadDocForm.value)},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.acadKitService.createAcadDoc(e).subscribe(n=>{this.isWaitingForResponse=!1,n&&this.dialogRef.close(this.uploadDocForm.value)},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}isUploadedNewFile(){return this.selectedFile||!this.uploadDocForm.get("s3_file_name").value}isUploadedFileExist(){let e=!1;return(this.selectedFile||this.uploadDocForm.get("s3_file_name").value)&&(e=!0),e}comparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.uploadDocForm.value)||!!this.isUploadedNewFile()}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(S.so),t.\u0275\u0275directiveInject(S.WI),t.\u0275\u0275directiveInject(f.FormBuilder),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(_t.t),t.\u0275\u0275directiveInject(Wt.J),t.\u0275\u0275directiveInject(zt.P),t.\u0275\u0275directiveInject(j.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-add-teacher-manual-document-dialog"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(Cn,5),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.fileUploaderDoc=a.first)}},decls:27,vars:13,consts:[[1,"p-grid","p-0","dialog-border",2,"margin-bottom","20px"],[1,"p-col"],["mat-dialog-title","","style","margin-bottom: 0 !important",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",3,"formGroup"],[1,"p-grid"],[1,"p-col-12"],["hideRequiredMarker","",1,"full-width"],["matInput","","formControlName","name",2,"font-size","14px !important"],[4,"ngIf"],["class","p-gird",4,"ngIf"],["class","loading-indicator",4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-button","","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["type","file","accept",".pdf",1,"hidden",3,"change"],["fileUploadDoc",""],["mat-dialog-title","",2,"margin-bottom","0 !important"],["mat-dialog-title",""],[1,"p-gird"],[1,"uploaded-file-wrapper"],[1,"icon"],["class","uploaded-file-wrapper mt-1rem",4,"ngIf"],[1,"uploaded-file-wrapper","mt-1rem"],["mat-button","","mat-raised-button","","color","primary",3,"click"],[1,"loading-indicator"],["color","accent",3,"diameter"],["mat-button","","mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275elementContainerStart(2),t.\u0275\u0275template(3,bn,3,3,"h1",2),t.\u0275\u0275template(4,On,3,3,"h1",3),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",1)(6,"button",4)(7,"mat-icon"),t.\u0275\u0275text(8,"close"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(9,"div",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(16,"input",9),t.\u0275\u0275template(17,xn,3,3,"mat-error",10),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(18,vn,8,2,"div",11),t.\u0275\u0275template(19,Tn,2,1,"div",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"div",13)(21,"button",14),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(24,Mn,5,4,"button",15),t.\u0275\u0275elementStart(25,"input",16,17),t.\u0275\u0275listener("change",function(l){return n.addFile(l)}),t.\u0275\u0275elementEnd()()),2&e){let a,l,s;t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!(null!=n.uploadDocForm&&null!=(a=n.uploadDocForm.get("s3_file_name"))&&a.value)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.uploadDocForm||null==(l=n.uploadDocForm.get("s3_file_name"))?null:l.value),t.\u0275\u0275advance(5),t.\u0275\u0275property("formGroup",n.uploadDocForm),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(15,9,"ACAD_KIT.DOC.Name of File")," *"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.uploadDocForm.get("name").hasError("required")&&(n.uploadDocForm.get("name").touched||n.uploadDocForm.get("name").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.uploadDocForm||null==(s=n.uploadDocForm.get("s3_file_name"))?null:s.value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(23,11,"CANCEL")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.selectedFile&&!n.uploadDocForm.get("s3_file_name").value)}},dependencies:[r.O5,L.lW,$.a8,S.ZT,S.uh,S.xY,S.H8,K.Hw,V.TO,V.KE,V.hX,nt.Nt,H.Ou,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,M.X$],styles:[".dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black}"]}),i})();var mt=u(21086),Pt=u(1059),Dt=u(62416),yt=u(58800),vt=u(99602);function Pn(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",25)(1,"div",26)(2,"div",27)(3,"button",28),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onUploadDocument())}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"button",29),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.resetSelection())}),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275element(9,"mat-icon",30),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,6,"Add document")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,8,"Add document")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(8,10,"RESET")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(11,12,"RESET")," ")}}function wn(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"th",31)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",32),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.documentNameFilter)}}function Sn(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",36),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.selectedDocumentType(l.value))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&i){const e=o.$implicit;t.\u0275\u0275property("value",e.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function En(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"th",31)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",33),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-autocomplete",null,34),t.\u0275\u0275template(6,Sn,2,2,"mat-option",35),t.\u0275\u0275pipe(7,"async"),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275reference(5),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"search")),t.\u0275\u0275property("matAutocomplete",e)("formControl",n.documentTypeFilter),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(7,6,n.filteredDocumentType))}}function Dn(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",31)(1,"mat-form-field")(2,"input",37),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(a.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",38)(5,"mat-datepicker",null,39),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(6),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"search")),t.\u0275\u0275property("matDatepicker",e)("formControl",n.uploadDateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function In(i,o){1&i&&t.\u0275\u0275element(0,"th",31)}function kn(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",40),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",41),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"DOCUMENTS.Document Name")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"DOCUMENTS.Document Name")))}function Fn(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.document_name)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.document_name," ")}}function Un(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",43),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",44),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"DOCUMENTS.Type")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"DOCUMENTS.Type")))}function An(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.translateDocType(null==e?null:e.type_of_document)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.translateDocType(null==e?null:e.type_of_document)," ")}}function Bn(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",43),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"DOCUMENTS.Upload Date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"DOCUMENTS.Upload Date")))}function Nn(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.translateDate(null==e?null:e.created_at)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.translateDate(null==e?null:e.created_at)," ")}}function Rn(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",40),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"DOCUMENTS.Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"DOCUMENTS.Action")))}function Ln(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",46),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.editDocument(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}2&i&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Edit"))}function Vn(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",46),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.deleteDocument(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}2&i&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Delete"))}function Wn(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",45)(1,"button",46),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.download(null==l?null:l.s3_file_name))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"mat-icon"),t.\u0275\u0275text(4,"file_download"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(5,Ln,4,3,"button",47),t.\u0275\u0275template(6,Vn,4,3,"button",47),t.\u0275\u0275elementEnd()}if(2&i){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,3,"DOCUMENTS.Download")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf","manual_document"===(null==e?null:e.type_of_document)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","manual_document"===(null==e?null:e.type_of_document))}}function jn(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",48)(1,"div",49),t.\u0275\u0275element(2,"mat-spinner",50),t.\u0275\u0275elementEnd()())}function Kn(i,o){1&i&&t.\u0275\u0275element(0,"tr",51)}function zn(i,o){1&i&&t.\u0275\u0275element(0,"tr",51)}function Hn(i,o){1&i&&t.\u0275\u0275element(0,"tr",51)}function $n(i,o){if(1&i&&t.\u0275\u0275element(0,"tr",52),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function qn(i,o){if(1&i&&t.\u0275\u0275element(0,"tr",53),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function Yn(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",54),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")," "))}const Qn=function(){return["reset"]},Gn=function(){return["loading"]},Xn=function(i){return{hide:i}},Jn=function(i){return{"hide-pagination-buttons":i}},Zn=function(){return[10]};let ti=(()=>{class i{constructor(e,n,a,l,s,h,m,C){this.translate=e,this.studentsService=n,this.parseUTCToLocalPipe=a,this.utilService=l,this.teacherManagementService=s,this.dialog=h,this.acadService=m,this.authService=C,this.subs=new F.Y,this.dataSource=new d.by([]),this.displayedColumns=["documentName","type","uploadDate","action"],this.filterColumns=["documentNameFilter","typeFilter","uploadDateFilter","actionFilter"],this.documentNameFilter=new f.UntypedFormControl(""),this.uploadDateFilter=new f.UntypedFormControl(null),this.dataDocumentType=[{value:"All",name:"All"},{value:"teacher_document",name:"Teacher Document"},{value:"expected_document",name:"Expected Document"},{value:"manual_document",name:"Manual Document"},{value:"required_document",name:"Required Document"}],this.documentTypeFilter=new f.UntypedFormControl(null),this.isWaitingForResponse=!1,this.filteredValues={teacher_id:null,updated_at:null,document_name:null},this.sortValue=null,this.documentCount=0,this.type=["teacher_document","expected_document","manual_document","required_document"],this.dropdownDocumentType=[]}ngOnInit(){this.getTableData(),this.initFilter(),this.dropdownType(),this.translate.onLangChange.subscribe(e=>{this.dropdownType()})}ngOnChanges(){this.resetSelection(),this.dropdownType()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,Pt.O)(null),(0,k.b)(()=>{this.getTableData()})).subscribe()}dropdownType(){if(this.documentTypeFilter.value&&this.dropdownDocumentType.length){const e=this.dropdownDocumentType.find(n=>n.name===this.documentTypeFilter.value);this.dropdownDocumentType=this.dataDocumentType.map(n=>({value:n.value,name:this.translate.instant(n.value)})),this.documentTypeFilter.patchValue(e?this.translate.instant(e.value):null)}else this.dropdownDocumentType=this.dataDocumentType.map(e=>({value:e.value,name:this.translate.instant(e.value)})),this.filteredDocumentType=(0,mt.of)(this.dropdownDocumentType)}getTableData(){const e={limit:this.paginator&&this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator&&this.paginator.pageIndex?this.paginator.pageIndex:0};this.filteredValues.teacher_id=this.teacherId,this.isWaitingForResponse=!0,this.subs.sink=this.teacherManagementService.getAllTeacherDocuments(e,this.filteredValues,this.sortValue,this.type).subscribe(n=>{this.isWaitingForResponse=!1,n?(this.dataSource.data=p.cloneDeep(n),this.documentCount=n.length&&n[0]&&n[0].count_document?n[0].count_document:0):this.dataSource.data=[],this.noData=this.dataSource.connect().pipe((0,g.U)(a=>0===a.length))},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,allowOutsideClick:!1})})}resetSelection(){this.paginator.pageIndex=0,this.documentNameFilter.setValue("",{emitEvent:!1}),this.uploadDateFilter.setValue(null,{emitEvent:!1}),this.documentTypeFilter.setValue(null,{emitEvent:!1}),this.filteredValues={teacher_id:this.teacherId,updated_at:null,document_name:null},this.type=["teacher_document","expected_document","manual_document","required_document"],this.sortValue=null,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.getTableData()}translateDate(e){if(e){const n=Z.utc(e).format("HH:mm"),a=this.parseUTCToLocalPipe.transformDateInDateFormat(Z(e).format("DD/MM/YYYY"),n).format("DD-MM-YYYY hh:mm A");if("Invalid date"!==a)return a}}initFilter(){this.subs.sink=this.documentNameFilter.valueChanges.pipe((0,B.b)(500)).subscribe(e=>{this.paginator.pageIndex=0,this.filteredValues.document_name=e,this.getTableData()}),this.subs.sink=this.uploadDateFilter.valueChanges.pipe((0,B.b)(500)).subscribe(e=>{if(e){this.paginator.pageIndex=0;const n=Z(e).format("DD/MM/YYYY");this.filteredValues.updated_at=n,this.getTableData()}}),this.subs.sink=this.documentTypeFilter.valueChanges.subscribe(e=>{if(e){if(this.dropdownDocumentType.length){const n=this.dropdownDocumentType.filter(a=>this.utilService.simplifyRegex(a.name).includes(this.utilService.simplifyRegex(e)));this.filteredDocumentType=(0,mt.of)(n)}}else this.filteredDocumentType=(0,mt.of)(this.dropdownDocumentType)})}selectedDocumentType(e){"All"!==e?(this.paginator.pageIndex=0,this.type=e,this.getTableData()):"All"===e&&(this.paginator.pageIndex=0,this.type=["teacher_document","expected_document","manual_document","required_document"],this.getTableData())}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.paginator.pageIndex=0,this.getTableData()}download(e){const n=document.createElement("a");n.target="_blank",n.href=`${pt.N.apiUrl}/fileuploads/${e}?download=true`.replace("/graphql",""),n.click(),n.remove()}translateDocType(e){return"expected_document"===e?this.translate.instant("Doc expected - Contract"):"teacher_document"===e?this.translate.instant("Teacher - Contract"):e?this.translate.instant(e):""}onUploadDocument(){this.subs.sink=this.dialog.open(Ht,{width:"600px",minHeight:"100px",disableClose:!0,data:{teacher_id:this.teacherId}}).afterClosed().subscribe(e=>{e&&this.getTableData()})}editDocument(e){this.subs.sink=this.dialog.open(Ht,{width:"600px",minHeight:"100px",disableClose:!0,data:{type:"edit",teacher_id:this.teacherId,data:e}}).afterClosed().subscribe(n=>{n&&this.getTableData()})}deleteDocument(e){e&&e._id&&c().fire({type:"warning",title:this.translate.instant("CERTIFICATION_RULE.DELETE_DOCUMENT.TITLE"),text:this.translate.instant("CERTIFICATION_RULE.DELETE_DOCUMENT.TEXT",{DocumentName:e.document_name}),confirmButtonText:this.translate.instant("CERTIFICATION_RULE.DELETE_DOCUMENT.CONFIRMBTN"),cancelButtonText:this.translate.instant("CERTIFICATION_RULE.DELETE_DOCUMENT.CANCELBTN"),showCancelButton:!0,allowOutsideClick:!1}).then(n=>{n.value&&(this.isWaitingForResponse=!0,this.subs.sink=this.acadService.deleteAcadDoc(e._id).subscribe(a=>{this.isWaitingForResponse=!1,a&&c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getTableData()})},a=>{this.authService.postErrorLog(a),this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,allowOutsideClick:!1})}))})}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(Vt.q),t.\u0275\u0275directiveInject(Dt.t),t.\u0275\u0275directiveInject(_t.t),t.\u0275\u0275directiveInject(yt.D),t.\u0275\u0275directiveInject(S.uw),t.\u0275\u0275directiveInject(zt.P),t.\u0275\u0275directiveInject(j.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-teacher-document-tab"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(A.NW,7),t.\u0275\u0275viewQuery(T.YE,7)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.sort=a.first)}},inputs:{teacherId:"teacherId"},features:[t.\u0275\u0275ProvidersFeature([Dt.t]),t.\u0275\u0275NgOnChangesFeature],decls:36,vars:23,consts:[[1,"top-space"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","100%","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","documentNameFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","typeFilter"],["matColumnDef","uploadDateFilter"],["matColumnDef","actionFilter"],["matColumnDef","documentName"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","type"],["mat-header-cell","","style","text-align: center",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","uploadDate"],["matColumnDef","action"],["class","text-center","mat-cell","",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["mat-header-cell","","colspan","100%",1,"action-header-column","text-right"],[1,"p-grid"],[1,"p-col-12","text-right"],["mat-raised-button","","color","accent",3,"disabled","matTooltip","click"],["mat-raised-button","","color","primary",3,"disabled","matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell",""],["matInput","",1,"form-field",3,"formControl","placeholder"],["matInput","",1,"form-field",3,"matAutocomplete","formControl","placeholder"],["documentTypeAuto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["matInput","","readonly","",1,"form-field",3,"placeholder","matDatepicker","formControl","click"],["matSuffix","",3,"for"],["registrationDatePick",""],["mat-header-cell","",3,"matTooltip"],["mat-sort-header","document_name"],["mat-cell","",3,"matTooltip"],["mat-header-cell","",2,"text-align","center",3,"matTooltip"],["mat-sort-header","type_of_document"],["mat-cell","",1,"text-center"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","click"],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["mat-header-cell","","colspan","100%",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"table",1),t.\u0275\u0275listener("matSortChange",function(l){return n.sortData(l)}),t.\u0275\u0275elementContainerStart(2,2),t.\u0275\u0275template(3,Pn,12,14,"th",3),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(4,4),t.\u0275\u0275template(5,wn,4,4,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(6,6),t.\u0275\u0275template(7,En,8,8,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,7),t.\u0275\u0275template(9,Dn,7,6,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,8),t.\u0275\u0275template(11,In,1,0,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,9),t.\u0275\u0275template(13,kn,5,6,"th",10),t.\u0275\u0275template(14,Fn,3,4,"td",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(15,12),t.\u0275\u0275template(16,Un,5,6,"th",13),t.\u0275\u0275template(17,An,2,2,"td",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,14),t.\u0275\u0275template(19,Bn,5,6,"th",13),t.\u0275\u0275template(20,Nn,2,2,"td",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(21,15),t.\u0275\u0275template(22,Rn,5,6,"th",10),t.\u0275\u0275template(23,Wn,7,5,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,17),t.\u0275\u0275template(25,jn,3,0,"th",18),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(26,Kn,1,0,"tr",19),t.\u0275\u0275template(27,zn,1,0,"tr",19),t.\u0275\u0275template(28,Hn,1,0,"tr",19),t.\u0275\u0275template(29,$n,1,1,"tr",20),t.\u0275\u0275template(30,qn,1,1,"tr",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(31,Yn,3,3,"div",22),t.\u0275\u0275pipe(32,"async"),t.\u0275\u0275elementStart(33,"div",23),t.\u0275\u0275pipe(34,"async"),t.\u0275\u0275element(35,"mat-paginator",24),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(25),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(16,Qn)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(17,Gn)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(32,12,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,Xn,t.\u0275\u0275pipeBind1(34,14,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(20,Jn,n.documentCount<=10))("length",n.documentCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(22,Zn)))},dependencies:[r.mk,r.sg,r.O5,Et.XC,Et.ZL,Rt.ey,L.lW,vt.Mq,vt.hl,vt.nW,K.Hw,V.KE,V.R9,nt.Nt,A.NW,H.Ou,T.YE,T.nU,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,ot.gM,f.DefaultValueAccessor,f.NgControlStatus,f.FormControlDirective,Y.oO,r.Ov,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{margin-top:.5px}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:35%;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(1) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(1) .mat-form-field{width:95%}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:25%;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:95%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:20%;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:85%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:20%;text-align:center;padding-right:0!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top;text-align:center}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.school-backdrop[_ngcontent-%COMP%] + .cdk-overlay-pane[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:visible}.mat-column-select[_ngcontent-%COMP%]{overflow:initial}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}"]}),i})();var ei=u(62425),ni=u(75672),Tt=u(28255);function ii(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",28)(1,"div",29)(2,"div",30)(3,"button",31),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"mat-menu",null,32)(11,"button",33),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.askRequiredDocument())}),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"button",34),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.sendReminder())}),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(19,"button",35),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.resetFilter())}),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275element(21,"mat-icon",36),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275reference(10),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,11,"Action")),t.\u0275\u0275property("matMenuTriggerFor",e)("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,13,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(12,15,"Ask Required documents")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(14,17,"Ask Required documents")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(16,19,"Send Reminder")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,21,"Send Reminder")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(20,23,"RESET")),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(23,25,"RESET")," ")}}function ai(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"th",37)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",38),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.documentName)}}function oi(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",42),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.label," ")}}function li(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",44),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"typeContract"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("typeContract"))("indeterminate",e.isSomeDropdownSelected("typeContract")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function ri(i,o){1&i&&t.\u0275\u0275template(0,li,3,5,"ng-template",43)}function si(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",37)(1,"ng-select",39),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onFilterSelect("type_of_contract"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,oi,2,3,"ng-template",40),t.\u0275\u0275template(5,ri,1,0,null,41),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,9,"search")),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(3,11,"NOT RECORD FOUND")),t.\u0275\u0275property("multiple",!0)("clearable",!1)("appendTo","body")("formControl",e.typeOfContract)("closeOnSelect",!1)("items",e.typeOfContractlist),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.typeOfContractlist?null:e.typeOfContractlist.length)}}function ci(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",37)(1,"mat-form-field")(2,"input",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(a.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",46)(5,"mat-datepicker",null,47),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(6),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"search")),t.\u0275\u0275property("formControl",n.dateAdded)("matDatepicker",e),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function di(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",37)(1,"mat-form-field")(2,"input",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(a.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",46)(5,"mat-datepicker",null,48),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(6),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"search")),t.\u0275\u0275property("formControl",n.dateValidity)("matDatepicker",e),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function pi(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",42),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.label," ")}}function mi(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",44),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"status"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("status"))("indeterminate",e.isSomeDropdownSelected("status")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function hi(i,o){1&i&&t.\u0275\u0275template(0,mi,3,5,"ng-template",43)}function gi(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",37)(1,"ng-select",39),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onFilterSelect("status"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,pi,2,3,"ng-template",40),t.\u0275\u0275template(5,hi,1,0,null,41),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,9,"search")),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(3,11,"NOT RECORD FOUND")),t.\u0275\u0275property("multiple",!0)("clearable",!1)("appendTo","body")("formControl",e.status)("closeOnSelect",!1)("items",e.statusList),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.statusList?null:e.statusList.length)}}function ui(i,o){1&i&&t.\u0275\u0275element(0,"th",37)}function _i(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",49),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",50),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"REQUIRED_DOCUMENT_TABS.DOCUMENT_NAME")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"REQUIRED_DOCUMENT_TABS.DOCUMENT_NAME")))}function fi(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",51),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.document_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.document_name," ")}}function Ci(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",49),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",52),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"REQUIRED_DOCUMENT_TABS.TYPE_OF_CONTRACT")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"REQUIRED_DOCUMENT_TABS.TYPE_OF_CONTRACT")))}function bi(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",51),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"span",53),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.type_of_contract)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,null==e?null:e.type_of_contract))}}function Oi(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",49),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",54),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"REQUIRED_DOCUMENT_TABS.DATE_ADDED")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"REQUIRED_DOCUMENT_TABS.DATE_ADDED")))}function xi(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",51),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",n.translateDate(null==e?null:e.created_at,null)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.translateDate(null==e?null:e.created_at,null)," ")}}function yi(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",49),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",55),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"REQUIRED_DOCUMENT_TABS.DATE_OF_VALIDITY")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"REQUIRED_DOCUMENT_TABS.DATE_OF_VALIDITY")))}function vi(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e||null==e.date_of_expired?null:e.date_of_expired.date)}}function Ti(i,o){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"-"),t.\u0275\u0275elementEnd())}function Mi(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",51),t.\u0275\u0275template(1,vi,2,1,"span",41),t.\u0275\u0275template(2,Ti,2,0,"span",41),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null!=e&&null!=e.date_of_expired&&e.date_of_expired.date?null==e||null==e.date_of_expired?null:e.date_of_expired.date:""),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.date_of_expired?null:e.date_of_expired.date),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&null!=e.date_of_expired&&e.date_of_expired.date))}}function Pi(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",49),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",56),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"REQUIRED_DOCUMENT_TABS.STATUS")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"REQUIRED_DOCUMENT_TABS.STATUS")))}const wi=function(i,o,e,n){return{red:i,green:o,orange:e,purple:n}};function Si(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-icon",59),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2," lens "),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"statusList."+(null==e?null:e.document_status))),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction4(4,wi,"rejected"===(null==e?null:e.document_status),"validated"===(null==e?null:e.document_status),"waiting_validation"===(null==e?null:e.document_status),"expired"===(null==e?null:e.document_status)))}}const Ei=function(){return["waiting_validation","rejected","validated","expired"]};function Di(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",57),t.\u0275\u0275template(1,Si,3,9,"mat-icon",58),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pureFunction0(1,Ei).includes(null==e?null:e.document_status))}}function Ii(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",49),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function ki(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span")(1,"mat-icon",63),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.validateOrRejectAcadDocument(a,"validated"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()()}2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"REQUIRED_DOCUMENT_TABS.VALIDATE_DOCUMENT")))}function Fi(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span")(1,"mat-icon",64),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.validateOrRejectAcadDocument(a,"rejected"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()()}2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"REQUIRED_DOCUMENT_TABS.REJECT_THE_DOCUMENT")))}function Ui(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",57)(1,"button",60),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onAddValidity(l))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",61),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,ki,3,3,"span",41),t.\u0275\u0275template(5,Fi,3,3,"span",41),t.\u0275\u0275elementStart(6,"button",60),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.viewDocument(l))}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275element(8,"mat-icon",62),t.\u0275\u0275elementEnd()()}if(2&i){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,4,"REQUIRED_DOCUMENT_TABS.ADD_VALIDITY_DATE")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","rejected"===(null==e?null:e.document_status)||"waiting_validation"===(null==e?null:e.document_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","validated"===(null==e?null:e.document_status)||"waiting_validation"===(null==e?null:e.document_status)||"expired"===(null==e?null:e.document_status)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(7,6,"REQUIRED_DOCUMENT_TABS.VIEW_DOCUMENT"))}}function Ai(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",65)(1,"div",66),t.\u0275\u0275element(2,"mat-spinner",67),t.\u0275\u0275elementEnd()())}function Bi(i,o){1&i&&t.\u0275\u0275element(0,"tr",68)}function Ni(i,o){1&i&&t.\u0275\u0275element(0,"tr",68)}function Ri(i,o){1&i&&t.\u0275\u0275element(0,"tr",68)}function Li(i,o){if(1&i&&t.\u0275\u0275element(0,"tr",69),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function Vi(i,o){if(1&i&&t.\u0275\u0275element(0,"tr",70),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function Wi(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",71),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")," "))}const ji=function(){return["reset"]},Ki=function(){return["loading"]},zi=function(i){return{hide:i}},Hi=function(i){return{"hide-pagination-buttons":i}};let $i=(()=>{class i{constructor(e,n,a,l,s){this.dialog=e,this.teacherManagementService=n,this.authService=a,this.translate=l,this.parseUTCToLocalPipe=s,this.subs=new F.Y,this.disabledActions=!1,this.isWaitingForResponse=!1,this.displayedColumns=["documentName","typeOfContract","dateAdded","dateOfValidity","status","action"],this.filterColumns=["documentNameFilter","typeOfContractFilter","dateAddedFilter","dateOfValidityFilter","statusFilter","actionFilter"],this.dataSource=new d.by([]),this.filteredValues={type_of_document:"required_document",teacher_id:null,document_name:null,type_of_contract:null,date_added:null,date_of_validity:null,validation_status:null,offset:null},this.sortValue=null,this.documentName=new f.UntypedFormControl(null),this.typeOfContract=new f.UntypedFormControl(null),this.dateAdded=new f.UntypedFormControl(null),this.dateValidity=new f.UntypedFormControl(null),this.status=new f.UntypedFormControl(null),this.typeOfContractlist=[],this.statusList=[]}ngOnInit(){this.getAllDocuments(),this.initFilter(),this.initDropdown(),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.initDropdown()})}ngOnChanges(e){this.userId&&(this.resetFilter(),this.initDropdown())}initDropdown(){this.typeOfContractlist=[{value:"cddu",label:this.translate.instant("cddu")},{value:"convention",label:this.translate.instant("convention")},{value:"cddu_convention",label:this.translate.instant("cddu_convention")}],this.statusList=[{value:"validated",label:this.translate.instant("statusList.validated")},{value:"rejected",label:this.translate.instant("statusList.rejected")},{value:"waiting_validation",label:this.translate.instant("statusList.waiting_for_validation")},{value:"expired",label:this.translate.instant("statusList.document_expired")}]}cleanSortData(e){return Object.keys(e).forEach(n=>{!e[n]&&!1!==e[n]&&delete e[n]}),e}getAllDocuments(){const e={limit:this.paginator&&this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator&&this.paginator.pageIndex?this.paginator.pageIndex:0};this.filteredValues.teacher_id=this.userId;const n=this.filteredValues.type_of_document;let l,a=this.cleanFilterData();this.sortValue&&(l=this.cleanSortData(this.sortValue)),(a?.date_added||a?.date_of_validity||this.sortValue?.date_added||this.sortValue?.date_of_validity)&&(a={...a,offset:Z().utcOffset()}),a?.date_added&&(a={...a,date_added:{date:a?.date_added,time:"15:59"}}),a?.date_of_validity&&(a={...a,date_of_validity:{date:a?.date_of_validity,time:"15:59"}}),this.isWaitingForResponse=!0,this.subs.sink=this.teacherManagementService.getAllTeacherDocuments(e,a,l,n).subscribe(s=>{this.dataSource.data=s?.length?(0,p.cloneDeep)(s):[],this.documentCount=s?.length&&s[0]?.count_document?s[0].count_document:0,this.noData=this.dataSource.connect().pipe((0,g.U)(h=>0===h.length)),this.isWaitingForResponse=!1},s=>{this.authService.postErrorLog(s),this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,allowOutsideClick:!1})})}cleanFilterData(){const e=(0,p.cloneDeep)(this.filteredValues);return Object.keys(e).forEach(n=>{(!e[n]&&!1!==e[n]||!e[n]?.length)&&delete e[n]}),e}sendReminder(){const e=this.userId;let n=3;if(e){const a=this.translate.instant(this.userData?.civility)+" "+this.userData?.first_name+" "+this.userData?.last_name.toUpperCase();c().fire({title:this.translate.instant("DocumentReminder_S1.TITLE",{teacherName:a}),text:this.translate.instant("DocumentReminder_S1.TEXT",{teacherName:a}),type:"warning",allowEscapeKey:!0,allowEnterKey:!1,allowOutsideClick:!1,showCancelButton:!0,confirmButtonText:this.translate.instant("Yes",{timer:n}),cancelButtonText:this.translate.instant("No"),onOpen:()=>{c().disableConfirmButton();const l=c().getConfirmButton(),s=setInterval(()=>{n-=1,l.innerText=this.translate.instant("Reminder_ONE_TIME_FORM.Button1")+` (${n})`},1e3);this.timeOutVal=setTimeout(()=>{l.innerText=this.translate.instant("Reminder_ONE_TIME_FORM.Button1"),c().enableConfirmButton(),clearInterval(s),clearTimeout(this.timeOutVal)},1e3*n)}}).then(l=>{clearTimeout(this.timeOutVal),l.value&&(this.isWaitingForResponse=!0,this.subs.sink=this.teacherManagementService.sendReminderRequiredDocument(e).subscribe(s=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getAllDocuments()})},s=>{this.isWaitingForResponse=!1,s&&s.message&&s.message.includes("Cannot send reminder as teacher does not have form required document")?c().fire({type:"warning",title:this.translate.instant("DocumentReminder_S2.TITLE",{teacherName:a}),html:this.translate.instant("DocumentReminder_S2.TEXT"),confirmButtonText:"OK",allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s&&s.message&&s.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}}translateDate(e,n){let a;if(e){const l=n||"15:59",s=Z(e).format("DD/MM/YYYY"),h=this.parseUTCToLocalPipe.transformDate(s&&"Invalid date"!==s?s:e,l);a="Invalid date"!==h?h:null}else a="-";return a}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,Pt.O)(null),(0,k.b)(()=>{this.getAllDocuments()})).subscribe()}initFilter(){this.subs.sink=this.documentName.valueChanges.pipe((0,B.b)(500)).subscribe(e=>{this.paginator.pageIndex=0,this.filteredValues.document_name=e,this.getAllDocuments()}),this.subs.sink=this.dateAdded.valueChanges.pipe((0,B.b)(400)).subscribe(e=>{if(e){const n=Z(e).format("DD/MM/YYYY");this.filteredValues.date_added=n,this.paginator.pageIndex=0,this.getAllDocuments()}}),this.subs.sink=this.dateValidity.valueChanges.pipe((0,B.b)(500)).subscribe(e=>{if(e){const n=Z(e).format("DD/MM/YYYY");this.filteredValues.date_of_validity=n,this.paginator.pageIndex=0,this.getAllDocuments()}})}onFilterSelect(e){"type_of_contract"===e?this.typeOfContract.value&&(this.filteredValues.type_of_contract=this.typeOfContract.value,this.getAllDocuments()):"status"===e&&this.status.value&&(this.filteredValues.validation_status=this.status.value,this.getAllDocuments())}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:null}:null,this.paginator.pageIndex=0,this.getAllDocuments()}validateOrRejectAcadDocument(e,n){if(e){const l="validated"===n?"ValidateDocument_S1.TITLE":"RejectDocument_S1.TITLE",s="validated"===n?"ValidateDocument_S1.TEXT":"RejectDocument_S1.TEXT",h="validated"===n?"Validate":"Reject",m=e?.document_name?e.document_name:"",C=this.translate.instant(this.userData?.civility)+" "+this.userData?.first_name+" "+this.userData?.last_name.toUpperCase();c().fire({title:this.translate.instant(l,{documentName:m}),text:this.translate.instant(s,{documentName:m,teacherName:C}),type:"warning",allowEscapeKey:!0,allowEnterKey:!1,allowOutsideClick:!1,showCancelButton:!0,confirmButtonText:this.translate.instant(h),cancelButtonText:this.translate.instant("Cancel")}).then(O=>{O.value&&(this.isWaitingForResponse=!0,this.subs.sink=this.teacherManagementService.validateOrRejectAcadDocument({_id:e?._id,validationStatus:n}).subscribe(w=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getAllDocuments()})},w=>{this.isWaitingForResponse=!1,w&&w.message&&w.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:w&&w.message?this.translate.instant(w.message.replaceAll("GraphQL error: ","")):w,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}}resetFilter(){this.paginator.pageIndex=0,this.filteredValues={type_of_document:"required_document",teacher_id:this.userId,document_name:null,type_of_contract:null,date_added:null,date_of_validity:null,validation_status:null,offset:null},this.documentName.setValue(null,{emitEvent:!1}),this.typeOfContract.setValue(null,{emitEvent:!1}),this.dateAdded.setValue(null,{emitEvent:!1}),this.dateValidity.setValue(null,{emitEvent:!1}),this.status.setValue(null,{emitEvent:!1}),this.sortValue=null,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.getAllDocuments()}onAddValidity(e){this.subs.sink=this.dialog.open(ei.L,{panelClass:"certification-rule-pop-up",disableClose:!0,width:"700px",data:e}).afterClosed().subscribe(n=>{n&&this.getAllDocuments()})}viewDocument(e){if(!e?.s3_file_name)return;const n=document.createElement("a");n.target="_blank",n.href=`${pt.N.apiUrl}/fileuploads/${e?.s3_file_name}`.replace("/graphql",""),n.click(),n.remove()}askRequiredDocument(){this.subs.sink=this.dialog.open(ni.W,{panelClass:"certification-rule-pop-up",disableClose:!0,width:"700px",data:{dataSelected:[{_id:this.userId}]}}).afterClosed().subscribe(e=>{e&&this.getAllDocuments()})}isAllDropdownSelected(e){if("typeContract"===e){const n=this.typeOfContract.value;return n&&0!==n.length&&n.length===this.typeOfContractlist.length}if("status"===e){const n=this.status.value;return n&&0!==n.length&&n.length===this.statusList.length}}isSomeDropdownSelected(e){if("typeContract"===e){const n=this.typeOfContract.value;return n&&0!==n.length&&n.length!==this.typeOfContractlist.length}if("status"===e){const n=this.status.value;return n&&0!==n.length&&n.length!==this.statusList.length}}selectAllData(e,n){if("typeContract"===n)if(e.checked){const a=this.typeOfContractlist.map(l=>l.value);this.typeOfContract.patchValue(a)}else this.typeOfContract.patchValue(null);else if("status"===n)if(e.checked){const a=this.statusList.map(l=>l.value);this.status.patchValue(a)}else this.status.patchValue(null)}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(S.uw),t.\u0275\u0275directiveInject(yt.D),t.\u0275\u0275directiveInject(j.e),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(Dt.t))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-user-details-required-documents-tab"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(A.NW,7),t.\u0275\u0275viewQuery(T.YE,7)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.sort=a.first)}},inputs:{userId:"userId",userData:"userData"},features:[t.\u0275\u0275ProvidersFeature([Dt.t]),t.\u0275\u0275NgOnChangesFeature],decls:46,vars:22,consts:[[1,"top-space"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","100%","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","documentNameFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","typeOfContractFilter"],["matColumnDef","dateAddedFilter"],["matColumnDef","dateOfValidityFilter"],["matColumnDef","statusFilter"],["matColumnDef","actionFilter"],["matColumnDef","documentName"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","typeOfContract"],["matColumnDef","dateAdded"],["matColumnDef","dateOfValidity"],["matColumnDef","status"],["mat-cell","",4,"matCellDef"],["matColumnDef","action"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["mat-header-cell","","colspan","100%",1,"action-header-column","text-right"],[1,"p-grid"],[1,"p-col-12","text-right"],["mat-raised-button","","color","accent","matTooltipPosition","above",3,"matMenuTriggerFor","matTooltip","disabled"],["actions","matMenu"],["mat-menu-item","",1,"border-button",3,"matTooltip","click"],["mat-menu-item","",3,"matTooltip","click"],["mat-raised-button","","color","primary",3,"disabled","matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell",""],["matInput","",3,"placeholder","formControl"],["bindLabel","label","bindValue","value",1,"custom-dropdownpanel",3,"multiple","clearable","appendTo","placeholder","notFoundText","formControl","closeOnSelect","items","close"],["ng-option-tmp",""],[4,"ngIf"],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],["matInput","","readonly","",1,"form-field",3,"formControl","placeholder","matDatepicker","click"],["matSuffix","",3,"for"],["dateAddedPick",""],["dateOfValidityPick",""],["mat-header-cell","",3,"matTooltip"],["mat-sort-header","document_name"],["mat-cell","",3,"matTooltip"],["mat-sort-header","type_of_contract"],[1,"tags"],["mat-sort-header","date_added"],["mat-sort-header","date_of_validity"],["mat-sort-header","validation_status"],["mat-cell",""],[3,"ngClass","matTooltip",4,"ngIf"],[3,"ngClass","matTooltip"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","click"],["svgIcon","calendar-plus"],["svgIcon","file-download-outline"],["svgIcon","check-octagon","matTooltipPosition","above",1,"margin-right-button","octagon-button","green",3,"matTooltip","click"],["svgIcon","close-octagon","matTooltipPosition","above",1,"margin-right-button","octagon-button","red-icon",3,"matTooltip","click"],["mat-header-cell","","colspan","100%",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"table",1),t.\u0275\u0275listener("matSortChange",function(l){return n.sortData(l)}),t.\u0275\u0275elementContainerStart(2,2),t.\u0275\u0275template(3,ii,24,27,"th",3),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(4,4),t.\u0275\u0275template(5,ai,4,4,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(6,6),t.\u0275\u0275template(7,si,6,13,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,7),t.\u0275\u0275template(9,ci,7,6,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,8),t.\u0275\u0275template(11,di,7,6,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,9),t.\u0275\u0275template(13,gi,6,13,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,10),t.\u0275\u0275template(15,ui,1,0,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,11),t.\u0275\u0275template(17,_i,5,6,"th",12),t.\u0275\u0275template(18,fi,2,2,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(19,14),t.\u0275\u0275template(20,Ci,5,6,"th",12),t.\u0275\u0275template(21,bi,5,6,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,15),t.\u0275\u0275template(23,Oi,5,6,"th",12),t.\u0275\u0275template(24,xi,2,2,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(25,16),t.\u0275\u0275template(26,yi,5,6,"th",12),t.\u0275\u0275template(27,Mi,3,3,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(28,17),t.\u0275\u0275template(29,Pi,5,6,"th",12),t.\u0275\u0275template(30,Di,2,2,"td",18),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(31,19),t.\u0275\u0275template(32,Ii,5,6,"th",12),t.\u0275\u0275template(33,Ui,9,8,"td",18),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(34,20),t.\u0275\u0275template(35,Ai,3,0,"th",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(36,Bi,1,0,"tr",22),t.\u0275\u0275template(37,Ni,1,0,"tr",22),t.\u0275\u0275template(38,Ri,1,0,"tr",22),t.\u0275\u0275template(39,Li,1,1,"tr",23),t.\u0275\u0275template(40,Vi,1,1,"tr",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(41,Wi,3,3,"div",25),t.\u0275\u0275pipe(42,"async"),t.\u0275\u0275elementStart(43,"div",26),t.\u0275\u0275pipe(44,"async"),t.\u0275\u0275element(45,"mat-paginator",27),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(16,ji)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(17,Ki)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(42,12,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,zi,t.\u0275\u0275pipeBind1(44,14,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(20,Hi,n.documentCount<=10))("length",n.documentCount)("hidePageSize",!0)("pageSize",10))},dependencies:[r.mk,r.O5,L.lW,Mt.oG,vt.Mq,vt.hl,vt.nW,K.Hw,V.KE,V.R9,nt.Nt,Tt.VK,Tt.OP,Tt.p6,A.NW,H.Ou,T.YE,T.nU,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,ot.gM,f.DefaultValueAccessor,f.CheckboxControlValueAccessor,f.NgControlStatus,f.NgModel,f.FormControlDirective,Y.oO,D.w9,D.ir,D.Cm,r.Ov,M.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]  table tr td, [_nghost-%COMP%]  table tr th{border-right:1px solid #545454}[_nghost-%COMP%]  table tr td:nth-child(1), [_nghost-%COMP%]  table tr th:nth-child(1){width:34%;text-align:left}[_nghost-%COMP%]  table tr td:nth-child(1) .mat-form-field, [_nghost-%COMP%]  table tr th:nth-child(1) .mat-form-field{width:96%;padding-left:8px}[_nghost-%COMP%]  table tr td:nth-child(2), [_nghost-%COMP%]  table tr th:nth-child(2){width:20%;min-width:120px;max-width:120px;text-align:center;overflow:hidden;text-overflow:ellipsis;color:#000}[_nghost-%COMP%]  table tr td:nth-child(2) ng-select, [_nghost-%COMP%]  table tr th:nth-child(2) ng-select{width:96%;padding-left:8px}[_nghost-%COMP%]  table tr td:nth-child(3), [_nghost-%COMP%]  table tr th:nth-child(3){width:15%;text-align:left;min-width:120px;max-width:120px}[_nghost-%COMP%]  table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]  table tr th:nth-child(3) .mat-form-field{width:96%;padding-left:8px}[_nghost-%COMP%]  table tr td:nth-child(4), [_nghost-%COMP%]  table tr th:nth-child(4){width:15%;text-align:left;min-width:120px;max-width:120px}[_nghost-%COMP%]  table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]  table tr th:nth-child(4) .mat-form-field{width:96%;padding-left:8px}[_nghost-%COMP%]  table tr td:nth-child(5), [_nghost-%COMP%]  table tr th:nth-child(5){width:15%;text-align:center;min-width:120px;max-width:120px}[_nghost-%COMP%]  table tr td:nth-child(5) ng-select, [_nghost-%COMP%]  table tr th:nth-child(5) ng-select{width:96%;padding-left:8px}[_nghost-%COMP%]  table tr td:nth-child(6), [_nghost-%COMP%]  table tr th:nth-child(6){min-width:160px;max-width:160px;text-align:center}[_nghost-%COMP%]  table tr td:nth-child(1){padding-left:8px!important}[_nghost-%COMP%]  table tr th:nth-child(2){padding-left:.5rem!important}[_nghost-%COMP%]  table tr th:nth-child(3){padding-left:.5rem!important}[_nghost-%COMP%]  table tr th:nth-child(4){padding-left:.5rem!important}[_nghost-%COMP%]  table tr th:nth-child(5){padding-left:.5rem!important}[_nghost-%COMP%]  table thead tr:nth-child(2), [_nghost-%COMP%]  table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]  table thead tr:nth-child(2) th, [_nghost-%COMP%]  table thead tr:nth-child(3) th{color:#fff}[_nghost-%COMP%]  table td.mat-cell{padding-left:8px}[_nghost-%COMP%]  table th.mat-header-cell:first-of-type, [_nghost-%COMP%]  table td.mat-cell:first-of-type{padding:0}[_nghost-%COMP%]  table th.mat-header-cell:last-of-type, [_nghost-%COMP%]  table td.mat-cell:last-of-type{padding:0}.border-button[_ngcontent-%COMP%]{border-bottom:1px solid #dadada}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgb(241,241,241)!important;min-height:36px;align-items:center;overflow:hidden}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px;padding-right:8px;width:95%}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important;color:#fff}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent!important;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{top:11px;font-size:14px;padding:0}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-dropdownpanel-table{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-dropdownpanel-table .ng-dropdown-panel-items .ng-option{white-space:normal!important}  .ng-select.custom-dropdownpanel-table .ng-select-container .ng-value-container .ng-input>input{color:#fff!important}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container{width:12px;height:12px;margin-left:7px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background{background-color:transparent}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-checkmark .mat-checkbox-checkmark-path{stroke:#000!important}  .all-input.mat-checkbox-indeterminate .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-mixedmark{background-color:#000!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.octagon-button[_ngcontent-%COMP%]{vertical-align:middle;cursor:pointer;max-width:35px;max-height:35px}.red-icon[_ngcontent-%COMP%]{color:#ff4a4a;margin-right:2px;width:35px}.orange[_ngcontent-%COMP%]{color:#f49f36}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.black[_ngcontent-%COMP%]{color:#000}']}),i})();function qi(i,o){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",14),t.\u0275\u0275element(2,"mat-spinner",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Yi(i,o){1&i&&(t.\u0275\u0275elementStart(0,"label"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"Scholar season")," *"))}function Qi(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",29),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("value",null==e?null:e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e?null:e.scholar_season)}}function Gi(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",30),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required"),""))}function Xi(i,o){1&i&&(t.\u0275\u0275elementStart(0,"label"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"Legal entity")," *"))}function Ji(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",29),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("value",null==e?null:e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e?null:e.legal_entity_name)}}function Zi(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",30),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required"),""))}function ta(i,o){1&i&&(t.\u0275\u0275elementStart(0,"label"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"Type of intervention")," *"))}function ea(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",29),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"CONTRACT_PROCESS_FORM."+e.name))}}function na(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",30),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required"),""))}function ia(i,o){1&i&&(t.\u0275\u0275elementStart(0,"label"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"Hourly rate")," *"))}function aa(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",30),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required"),""))}function oa(i,o){1&i&&(t.\u0275\u0275elementStart(0,"label"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"Type of contract")," *"))}function la(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",29),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"ERP_009_TEACHER_CONTRACT.TYPE_OF_CONTRACT."+e))}}function ra(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",30),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required"),""))}function sa(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",2)(2,"div",16)(3,"div",2)(4,"div",17),t.\u0275\u0275template(5,Yi,3,3,"label",10),t.\u0275\u0275elementStart(6,"ng-select",18),t.\u0275\u0275listener("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.selectedScholarSeason())}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275template(9,Qi,2,2,"ng-option",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(10,Gi,3,3,"mat-error",20),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",2)(12,"div",17),t.\u0275\u0275template(13,Xi,3,3,"label",10),t.\u0275\u0275elementStart(14,"ng-select",21),t.\u0275\u0275listener("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.selectedLegalEntity())}),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275template(17,Ji,2,2,"ng-option",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(18,Zi,3,3,"mat-error",20),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(19,"div",2)(20,"div",17),t.\u0275\u0275template(21,ta,3,3,"label",10),t.\u0275\u0275elementStart(22,"ng-select",22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275pipe(24,"translate"),t.\u0275\u0275template(25,ea,3,4,"ng-option",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(26,na,3,3,"mat-error",20),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(27,"div",2)(28,"div",23),t.\u0275\u0275template(29,ia,3,3,"label",10),t.\u0275\u0275elementStart(30,"mat-form-field",24)(31,"input",25),t.\u0275\u0275listener("wheel",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onWheel(a))})("keypress",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.decimalFilter(a))}),t.\u0275\u0275pipe(32,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(33,"mat-icon",26),t.\u0275\u0275template(34,aa,3,3,"mat-error",20),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(35,"div",2)(36,"div",27),t.\u0275\u0275template(37,oa,3,3,"label",10),t.\u0275\u0275elementStart(38,"ng-select",28),t.\u0275\u0275pipe(39,"translate"),t.\u0275\u0275pipe(40,"translate"),t.\u0275\u0275template(41,la,3,4,"ng-option",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(42,ra,3,3,"mat-error",20),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext();let n,a,l,s,h,m,C,O,P,w,G;t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",null==e.interventionForm||null==(n=e.interventionForm.get("scholar_season_id"))?null:n.value),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(7,34,"Scholar season")," *"),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(8,36,"NOT RECORD FOUND")),t.\u0275\u0275property("appendTo","body")("clearable",!1)("readonly",!0),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",e.scholarSeasonDropdown),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.interventionForm||null==(a=e.interventionForm.get("scholar_season_id"))?null:a.hasError("required"))&&((null==e.interventionForm||null==(a=e.interventionForm.get("scholar_season_id"))?null:a.dirty)||(null==e.interventionForm||null==(a=e.interventionForm.get("scholar_season_id"))?null:a.touched))),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.interventionForm||null==(l=e.interventionForm.get("legal_entity_id"))?null:l.value),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(15,38,"Legal entity")," *"),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(16,40,"NOT RECORD FOUND")),t.\u0275\u0275property("appendTo","body")("clearable",!1),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",e.legalEntityDropdown),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.interventionForm||null==(s=e.interventionForm.get("legal_entity_id"))?null:s.hasError("required"))&&((null==e.interventionForm||null==(s=e.interventionForm.get("legal_entity_id"))?null:s.dirty)||(null==e.interventionForm||null==(s=e.interventionForm.get("legal_entity_id"))?null:s.touched))),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.interventionForm||null==(h=e.interventionForm.get("type_of_intervention"))?null:h.value),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(23,42,"Type of intervention")," *"),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(24,44,"NOT RECORD FOUND")),t.\u0275\u0275property("appendTo","body")("clearable",!1),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",e.typeOfInterventionDropdown),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.interventionForm||null==(m=e.interventionForm.get("type_of_intervention"))?null:m.hasError("required"))&&((null==e.interventionForm||null==(m=e.interventionForm.get("type_of_intervention"))?null:m.dirty)||(null==e.interventionForm||null==(m=e.interventionForm.get("type_of_intervention"))?null:m.touched))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",null!=e.interventionForm&&null!=(C=e.interventionForm.get("hourly_rate"))&&C.hasError("required")&&(null!=e.interventionForm&&null!=(C=e.interventionForm.get("hourly_rate"))&&C.dirty||null!=e.interventionForm&&null!=(C=e.interventionForm.get("hourly_rate"))&&C.touched)?"":"no-padding-bottom"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.interventionForm||null==(O=e.interventionForm.get("hourly_rate"))?null:O.value),t.\u0275\u0275advance(1),t.\u0275\u0275property("floatLabel","never"),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(32,46,"Hourly rate")," *"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==e.interventionForm||null==(P=e.interventionForm.get("hourly_rate"))?null:P.hasError("required"))&&((null==e.interventionForm||null==(P=e.interventionForm.get("hourly_rate"))?null:P.dirty)||(null==e.interventionForm||null==(P=e.interventionForm.get("hourly_rate"))?null:P.touched))),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.interventionForm||null==(w=e.interventionForm.get("type_of_contract"))?null:w.value),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(39,48,"Type of contract")," *"),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(40,50,"NOT RECORD FOUND")),t.\u0275\u0275property("appendTo","body")("clearable",!1),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",e.typeOfContractDropdown),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.interventionForm||null==(G=e.interventionForm.get("type_of_contract"))?null:G.hasError("required"))&&((null==e.interventionForm||null==(G=e.interventionForm.get("type_of_contract"))?null:G.dirty)||(null==e.interventionForm||null==(G=e.interventionForm.get("type_of_contract"))?null:G.touched)))}}let $t=(()=>{class i{constructor(e,n,a,l,s,h){this.dialogRef=e,this.data=n,this.fb=a,this.translate=l,this.teacherService=s,this.authService=h,this.subs=new F.Y,this.scholarSeasonDropdown=[],this.legalEntityDropdown=[],this.typeOfInterventionDropdown=[{value:"face_to_face",name:"Face to Face"},{value:"face_to_face_2",name:"Face to Face 2"},{value:"face_to_face_3",name:"Face to Face 3"},{value:"face_to_face_4",name:"Face to Face 4"},{value:"jury",name:"Jury"},{value:"coaching",name:"Coaching"},{value:"conference",name:"Conference"},{value:"correction_of_files",name:"Correction of Files"},{value:"correction_of_copies",name:"Correction of Copies"},{value:"making_subjects",name:"Making Subjects"}],this.typeOfContractDropdown=["cddu","convention"],this.isWaitingForResponse=!1}ngOnInit(){this.initInterventionForm(),this.getAllScholarSeasons(),"edit"===this.data.type&&this.populateData()}initInterventionForm(){this.interventionForm=this.fb.group({user_id:this.data.userId,scholar_season_id:[null,f.Validators.required],legal_entity_id:[null,f.Validators.required],type_of_intervention:[null,f.Validators.required],hourly_rate:[null,[f.Validators.required,f.Validators.pattern("^(?:\\d*(?:[.,]\\d{1,2})?|[.,]\\d{1,2})$")]],type_of_contract:[null,f.Validators.required]})}decimalFilter(e){let a=e.target.value+String.fromCharCode(e.charCode);/^-?\d*[.,]?\d{0,2}$/.test(a)||e.preventDefault()}onWheel(e){e?.preventDefault()}selectedScholarSeason(){this.getAllLegalEntities(),this.legalEntityDropdown=[],this.interventionForm.get("legal_entity_id").setValue(null),this.interventionForm.get("type_of_intervention").setValue(null),this.interventionForm.get("type_of_contract").setValue(null)}selectedLegalEntity(){this.interventionForm.get("type_of_intervention").setValue(null),this.interventionForm.get("type_of_contract").setValue(null)}getAllScholarSeasons(){this.isWaitingForResponse=!0,this.subs.sink=this.teacherService.getAllScholarSeasons().subscribe(e=>{if(e&&e.length){if(e.forEach(n=>{this.scholarSeasonDropdown.push(n)}),this.scholarSeasonDropdown=p.uniqBy(this.scholarSeasonDropdown,"_id"),this.scholarSeasonDropdown=p.sortBy(this.scholarSeasonDropdown,["scholar_season"]),this.data?.selectedScholarSeason&&this.scholarSeasonDropdown?.length&&"edit"!==this.data?.type){const n=this.scholarSeasonDropdown.find(a=>a?._id===this.data?.selectedScholarSeason);this.interventionForm?.get("scholar_season_id")?.patchValue(n?._id),this.selectedScholarSeason()}}else this.scholarSeasonDropdown=[];this.isWaitingForResponse=!1},e=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getAllLegalEntities(){const n={scholar_season_id:this.interventionForm.get("scholar_season_id").value};this.subs.sink=this.teacherService.getAllLegalEntities(n).subscribe(a=>{a&&a.length?(a.forEach(l=>{this.legalEntityDropdown.push(l)}),this.legalEntityDropdown=p.uniqBy(this.legalEntityDropdown,"_id"),this.legalEntityDropdown=p.sortBy(this.legalEntityDropdown,["legal_entity_name"])):this.legalEntityDropdown=[]},a=>{this.authService.postErrorLog(a),a&&a.message&&a.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}populateData(){this.interventionForm.patchValue({scholar_season_id:this.data?.interventionData?.scholar_season_id?._id,legal_entity_id:this.data?.interventionData?.legal_entity_id?._id,type_of_intervention:this.data?.interventionData?.type_of_intervention,hourly_rate:this.data?.interventionData?.hourly_rate,type_of_contract:this.data?.interventionData?.type_of_contract}),this.getAllLegalEntities()}validate(){if(this.interventionForm.invalid)this.interventionForm.get("scholar_season_id").markAsTouched(),this.interventionForm.get("legal_entity_id").markAsTouched(),this.interventionForm.get("hourly_rate").markAsTouched(),this.interventionForm.get("type_of_contract").markAsTouched(),this.interventionForm.get("type_of_intervention").markAsTouched(),c().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")});else{const e=p.cloneDeep(this.interventionForm.value);"add"===this.data.type&&(this.isWaitingForResponse=!0,this.subs.sink=this.teacherService.createIntervention(e).subscribe(n=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(n)})},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,n.message&&"GraphQL error: Cannot have different type of intervention  in same scholar season and legal entity"===n.message?c().fire({type:"warning",title:this.translate.instant("Type_of_Intervention_S2.TITLE"),text:this.translate.instant("Type_of_Intervention_S2.TEXT"),confirmButtonText:this.translate.instant("Type_of_Intervention_S2.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}):n.message&&"GraphQL error: Cannot have different type of contract in same scholar season and legal entity"===n.message?c().fire({type:"warning",title:this.translate.instant("Type_of_Intervention_S1.TITLE"),text:this.translate.instant("Type_of_Intervention_S1.TEXT"),confirmButtonText:this.translate.instant("Type_of_Intervention_S1.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("OK")})})),"edit"===this.data.type&&(this.isWaitingForResponse=!0,this.subs.sink=this.teacherService.updateIntervention(this.data.interventionData._id,e).subscribe(a=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(a)})},a=>{this.authService.postErrorLog(a),this.isWaitingForResponse=!1,a.message&&"GraphQL error: Cannot have different type of intervention  in same scholar season and legal entity"===a.message?c().fire({type:"warning",title:this.translate.instant("Type_of_Intervention_S2.TITLE"),text:this.translate.instant("Type_of_Intervention_S2.TEXT"),confirmButtonText:this.translate.instant("Type_of_Intervention_S2.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}):a.message&&"GraphQL error: Cannot have different type of contract in same scholar season and legal entity"===a.message?c().fire({type:"warning",title:this.translate.instant("Type_of_Intervention_S1.TITLE"),text:this.translate.instant("Type_of_Intervention_S1.TEXT"),confirmButtonText:this.translate.instant("Type_of_Intervention_S1.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("OK")})}))}}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(S.so),t.\u0275\u0275directiveInject(S.WI),t.\u0275\u0275directiveInject(f.UntypedFormBuilder),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(yt.D),t.\u0275\u0275directiveInject(j.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-add-type-intervention-teacher-dialog"]],decls:24,vars:12,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],[1,"p-col-10","acad-title"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[4,"ngIf"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[1,"center-spinner"],["color","accent"],[1,"p-col-12","no-padding"],[1,"p-col-12"],["formControlName","scholar_season_id",1,"custom-ngselect-contentspace",3,"appendTo","clearable","placeholder","notFoundText","readonly","change"],[3,"value",4,"ngFor","ngForOf"],["class","err",4,"ngIf"],["formControlName","legal_entity_id",1,"custom-ngselect-contentspace",3,"appendTo","clearable","placeholder","notFoundText","change"],["formControlName","type_of_intervention",1,"custom-ngselect-contentspace",3,"appendTo","clearable","placeholder","notFoundText"],[1,"p-col-12",3,"ngClass"],["hideRequiredMarker","",3,"floatLabel"],["matInput","","type","number","formControlName","hourly_rate",3,"placeholder","wheel","keypress"],["matSuffix","","svgIcon","currency-eur"],[1,"p-col-12","no-padding-top"],["formControlName","type_of_contract",1,"custom-ngselect-contentspace",3,"appendTo","clearable","placeholder","notFoundText"],[3,"value"],[1,"err"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),t.\u0275\u0275element(3,"div",3),t.\u0275\u0275elementStart(4,"div",4)(5,"h3",5),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",6)(9,"button",7)(10,"mat-icon"),t.\u0275\u0275text(11,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(12,"form",8)(13,"div",9)(14,"mat-dialog-content"),t.\u0275\u0275template(15,qi,3,0,"ng-container",10),t.\u0275\u0275template(16,sa,43,52,"ng-container",10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"mat-dialog-actions",11)(18,"button",12),t.\u0275\u0275text(19),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"button",13),t.\u0275\u0275listener("click",function(){return n.validate()}),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd()()()()),2&e&&(t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(7,6,n.data.title)," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",n.interventionForm),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(20,8,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(23,10,"Validate")," "))},dependencies:[r.mk,r.sg,r.O5,_.Zt,_.Bh,L.lW,S.ZT,S.xY,S.H8,K.Hw,V.TO,V.KE,V.R9,nt.Nt,H.Ou,f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NumberValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Y.oO,D.w9,D.jq,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;padding:16px}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-38px}.err[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-size:12px}.no-padding-bottom[_ngcontent-%COMP%]{padding-bottom:0!important}.no-padding-top[_ngcontent-%COMP%]{padding-top:0!important}[_nghost-%COMP%]  .mat-form-field-label-wrapper{top:-18px!important}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-infix{padding-top:0}[_nghost-%COMP%]  .mat-dialog-content{margin:0;padding:16px!important}[_nghost-%COMP%]  .mat-dialog-actions{min-height:unset;padding-bottom:32px!important;padding-right:16px}[_nghost-%COMP%]  .dialogTitleWrapper h3{margin-bottom:0}  .mat-form-field-label span{color:#999!important;font-size:14px!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label span{color:#f44336!important;font-size:14px!important}[_nghost-%COMP%]  .ng-select .ng-select-container{height:36px;border-left:0px!important;border-right:0px!important;border-top:0px!important;border-radius:0!important}  ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336}  .ng-select .ng-select-container .ng-value-container{padding-left:initial}  ng-select.ng-invalid.ng-touched .ng-select-container .ng-value-container .ng-placeholder{color:#ff4336}  .ng-select .ng-select-container .ng-value-container .ng-placeholder{font-size:14px}  .ng-select .ng-select-container.ng-has-value{max-width:initial;overflow-x:initial}  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0}  .custom-ngselect-contentspace .ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;width:auto!important}  .custom-ngselect-contentspace .ng-dropdown-panel-items .ng-option{white-space:break-spaces!important}  .custom-ngselect-contentspace.ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;width:auto!important}"]}),i})();function ca(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",13),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function da(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275element(1,"mat-spinner",15),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let pa=(()=>{class i{constructor(e,n,a,l,s,h){this.dialogRef=e,this.data=n,this.translate=a,this.candidateService=l,this.authService=s,this.teacherService=h,this.subs=new F.Y,this.scholarSeasons=[],this.isWaitingForResponse=!1,this.duplicateScholarSeason=new f.UntypedFormControl(null)}ngOnInit(){this.getScholarSeason()}getScholarSeason(){this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.getAllScholarSeasons({is_published:!0}).subscribe(n=>{this.scholarSeasons=n?(0,p.cloneDeep)(n):[],this.isWaitingForResponse=!1},n=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(n),c().fire({type:"info",title:"Error!",text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ")):n,allowOutsideClick:!1})})}validate(){if(this.duplicateScholarSeason.invalid)return c().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),void this.duplicateScholarSeason.markAllAsTouched();let e;this.scholarSeasons?.length&&(e=this.scholarSeasons.find(n=>n?._id===this.duplicateScholarSeason.value)),this.isWaitingForResponse=!0,this.subs.sink=this.teacherService.duplicateTypeOfIntervention(this.data?.interventions,this.duplicateScholarSeason.value).subscribe(n=>{this.isWaitingForResponse=!1,n&&c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(e?.scholar_season)})},n=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):n&&n.message&&n.message.includes("cannot duplicate some type of intervention as the data is already exist")&&c().fire({type:"warning",title:this.translate.instant("DuplicateIntervention_S1.Title",{scholarSeasonOrigin:this.data?.scholarSeasonId?.scholar_season,scholarSeasonDestination:e?.scholar_season}),html:this.translate.instant("DuplicateIntervention_S1.Text",{scholarSeasonOrigin:this.data?.scholarSeasonId?.scholar_season,scholarSeasonDestination:e?.scholar_season}),confirmButtonText:this.translate.instant("DuplicateIntervention_S1.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}).then(()=>{this.dialogRef.close(e?.scholar_season)})})}close(){this.dialogRef.close()}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(S.so),t.\u0275\u0275directiveInject(S.WI),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(bt.o),t.\u0275\u0275directiveInject(j.e),t.\u0275\u0275directiveInject(yt.D))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-sholar-season-dialog"]],decls:25,vars:20,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header-dialog"],[1,"p-grid"],[1,"p-col-10","no-padding"],[1,"no-padding","p-col-2"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"dialog-body"],[1,"p-col-12"],["bindLabel","scholar_season","bindValue","_id","appendTo","body","required","",1,"mrgn-btn","custom-ngselect-scholar-season",3,"items","clearable","placeholder","notFoundText","formControl"],["class","invalid-field",4,"ngIf"],[1,"action-button"],["mat-raised-button","","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],["class","loading-indicator",4,"ngIf"],[1,"invalid-field"],[1,"loading-indicator"],["color","accent",3,"diameter"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",3)(7,"button",4),t.\u0275\u0275listener("click",function(){return n.close()}),t.\u0275\u0275elementStart(8,"mat-icon"),t.\u0275\u0275text(9,"close"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(10,"div",5)(11,"div",6)(12,"div",1),t.\u0275\u0275element(13,"ng-select",7),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275template(16,ca,3,3,"div",8),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(17,"mat-dialog-actions",9)(18,"button",10),t.\u0275\u0275text(19),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"button",11),t.\u0275\u0275listener("click",function(){return n.validate()}),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(24,da,2,1,"div",12)),2&e&&(t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,10,"Duplicate intervention")),t.\u0275\u0275advance(9),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(14,12,"Select scholar season destination")),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(15,14,"NOT RECORD FOUND")),t.\u0275\u0275property("items",n.scholarSeasons)("clearable",!1)("formControl",n.duplicateScholarSeason),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==n.duplicateScholarSeason?null:n.duplicateScholarSeason.invalid)&&((null==n.duplicateScholarSeason?null:n.duplicateScholarSeason.dirty)||(null==n.duplicateScholarSeason?null:n.duplicateScholarSeason.touched))),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(20,16,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(23,18,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[r.O5,_.Zt,_.Bh,L.lW,S.ZT,S.xY,S.H8,K.Hw,H.Ou,f.NgControlStatus,f.RequiredValidator,f.FormControlDirective,D.w9,M.X$],styles:[".header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px 0 20px;color:#000;border-bottom:1px solid black}.mat-dialog-content[_ngcontent-%COMP%]{margin:15px 0;padding:0 15px}.action-button[_ngcontent-%COMP%]{margin-right:15px;text-align:right}[_nghost-%COMP%]  .ng-select{width:100%}[_nghost-%COMP%]  .ng-select .ng-select-container{max-width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{padding-top:5px}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container .ng-value-container .ng-placeholder{color:#f44336!important}  .custom-ngselect-scholar-season.ng-dropdown-panel{width:auto!important;max-width:-moz-fit-content!important;max-width:fit-content!important}  .custom-ngselect-scholar-season.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{white-space:normal!important}.invalid-field[_ngcontent-%COMP%]{color:red;font-size:14px}"]}),i})();function ma(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",33),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.addIntervention())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Add type of intervention")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Add type of intervention")," ")}}function ha(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",36),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.csvDownloadTeacher())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",38),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Export")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"Export")," ")}}function ga(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",30)(1,"div",31)(2,"div",32)(3,"button",33),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.duplicateIntervention())}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,ma,4,7,"button",34),t.\u0275\u0275template(8,ha,5,7,"button",35),t.\u0275\u0275elementStart(9,"button",36),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.reset())}),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275element(11,"mat-icon",37),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,8,"Duplicate intervention")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,10,"Duplicate intervention")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.permission.teacherManagementTeachersAddTypeOfIntervention()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.teacherManagementTeachersExport()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(10,12,"RESET")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(13,14,"RESET")," ")}}function ua(i,o){1&i&&t.\u0275\u0275element(0,"th",39)}function _a(i,o){1&i&&t.\u0275\u0275element(0,"th",39)}function fa(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",43),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.legal_entity_name," ")}}function Ca(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",45),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"legalEntity"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("legalEntity"))("indeterminate",e.isSomeDropdownSelected("legalEntity")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function ba(i,o){1&i&&t.\u0275\u0275template(0,Ca,3,5,"ng-template",44)}function Oa(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",39)(1,"ng-select",40),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setLegalEntityFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,fa,2,3,"ng-template",41),t.\u0275\u0275template(5,ba,1,0,null,42),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.legalEntityDropdown)("appendTo","body")("multiple",!0)("clearable",!1)("closeOnSelect",!1)("formControl",e.legalEntityFilter),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.legalEntityDropdown?null:e.legalEntityDropdown.length)}}function xa(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",43),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function ya(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",45),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"intervention"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("intervention"))("indeterminate",e.isSomeDropdownSelected("intervention")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function va(i,o){1&i&&t.\u0275\u0275template(0,ya,3,5,"ng-template",44)}function Ta(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",39)(1,"ng-select",46),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setInterventionFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,xa,2,3,"ng-template",41),t.\u0275\u0275template(5,va,1,0,null,42),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.typeOfInterventionDropdown)("appendTo","body")("multiple",!0)("clearable",!1)("closeOnSelect",!1)("formControl",e.typeOfInterventionFilter),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.typeOfInterventionDropdown?null:e.typeOfInterventionDropdown.length)}}function Ma(i,o){1&i&&t.\u0275\u0275element(0,"th",39)}function Pa(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",43),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function wa(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",45),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"contract"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("contract"))("indeterminate",e.isSomeDropdownSelected("contract")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function Sa(i,o){1&i&&t.\u0275\u0275template(0,wa,3,5,"ng-template",44)}function Ea(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",39)(1,"ng-select",46),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setContractFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Pa,2,3,"ng-template",41),t.\u0275\u0275template(5,Sa,1,0,null,42),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.typeOfContractDropdown)("appendTo","body")("multiple",!0)("clearable",!1)("closeOnSelect",!1)("formControl",e.typeOfContractFilter),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.typeOfContractDropdown?null:e.typeOfContractDropdown.length)}}function Da(i,o){1&i&&t.\u0275\u0275element(0,"th",39)}function Ia(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",39)(1,"mat-checkbox",47),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?l.masterToggle():null)}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function ka(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",48)(1,"mat-checkbox",49),t.\u0275\u0275listener("click",function(a){return a.stopPropagation()})("change",function(a){const s=t.\u0275\u0275restoreView(e).$implicit,h=t.\u0275\u0275nextContext();return a&&h.selection.toggle(null==s?null:s._id),t.\u0275\u0275resetView(h.selected())}),t.\u0275\u0275elementEnd()()}if(2&i){const e=o.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(null==e?null:e._id))("aria-label",n.checkboxLabel(e))}}function Fa(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",50),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",51),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Scholar season")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Scholar season")))}function Ua(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",52),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e||null==e.scholar_season_id?null:e.scholar_season_id.scholar_season),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.scholar_season_id?null:e.scholar_season_id.scholar_season," ")}}function Aa(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",50),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",53),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Legal entity")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Legal entity")))}function Ba(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",52),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e||null==e.legal_entity_id?null:e.legal_entity_id.legal_entity_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.legal_entity_id?null:e.legal_entity_id.legal_entity_name," ")}}function Na(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",50),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",54),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Type of intervention")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Type of intervention")))}function Ra(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",52),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,null!=e&&e.type_of_intervention?"CONTRACT_PROCESS_FORM."+(null==e?null:e.type_of_intervention):"")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,null!=e&&e.type_of_intervention?"CONTRACT_PROCESS_FORM."+(null==e?null:e.type_of_intervention):"")," ")}}function La(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",50),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",55),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Hourly rate")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Hourly rate")))}function Va(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",52),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.hourly_rate),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.hourly_rate," ")}}function Wa(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",50),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",56),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Type of contract")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Type of contract")))}function ja(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",52),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ERP_009_TEACHER_CONTRACT.TYPE_OF_CONTRACT."+(null==e?null:e.type_of_contract))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"ERP_009_TEACHER_CONTRACT.TYPE_OF_CONTRACT."+(null==e?null:e.type_of_contract))," ")}}function Ka(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",50),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function za(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",58),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.editIntervention(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Edit")),t.\u0275\u0275property("disabled",e.disabledActions)}}function Ha(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",58),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.deleteIntervention(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("disabled",e.disabledActions)}}function $a(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",48),t.\u0275\u0275template(1,za,4,4,"button",57),t.\u0275\u0275template(2,Ha,4,4,"button",57),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.teacherManagementTeachersEdit()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.teacherManagementTeachersDelete())}}function qa(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",59)(1,"div",60),t.\u0275\u0275element(2,"mat-spinner",61),t.\u0275\u0275elementEnd()())}function Ya(i,o){1&i&&t.\u0275\u0275element(0,"tr",62)}function Qa(i,o){1&i&&t.\u0275\u0275element(0,"tr",62)}function Ga(i,o){1&i&&t.\u0275\u0275element(0,"tr",62)}function Xa(i,o){if(1&i&&t.\u0275\u0275element(0,"tr",63),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function Ja(i,o){if(1&i&&t.\u0275\u0275element(0,"tr",64),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function Za(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",65),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")," "))}const to=function(){return["reset"]},eo=function(){return["loading"]},no=function(i){return{hide:i}},io=function(i){return{"hide-pagination-buttons":i}},ao=function(){return[10]};let oo=(()=>{class i{constructor(e,n,a,l,s){this.translate=e,this.teacherService=n,this.permission=a,this.dialog=l,this.authService=s,this.selectedScholarSeason=new t.EventEmitter,this.subs=new F.Y,this.dataSource=new d.by([]),this.displayedColumns=["select","scholarSeason","legalEntity","typeOfIntervention","hourlyRate","typeOfContract","action"],this.filterColumns=["selectFilter","scholarSeasonFilter","legalEntityFilter","typeOfInterventionFilter","hourlyRateFilter","typeOfContractFilter","actionFilter"],this.selection=new b.Ov(!0,[]),this.isCheckedAll=!1,this.isWaitingForResponse=!1,this.isReset=!1,this.dataLoaded=!1,this.sortValue=null,this.filteredValues={teacher_id:"",scholar_season_id:[],legal_entity_id:[],type_of_intervention:[],type_of_contract:[]},this.disabledActions=!1,this.scholarSeasonDropdown=[],this.legalEntityDropdown=[],this.typeOfInterventionDropdown=[],this.typeOfContractDropdown=[],this.dataSelected=[],this.allIntervention=[],this.legalEntityFilter=new f.UntypedFormControl(""),this.typeOfInterventionFilter=new f.UntypedFormControl(""),this.typeOfContractFilter=new f.UntypedFormControl(""),this.tempDataFilter={type_of_intervention:null,type_of_contract:null,legal_entity_id:null}}ngOnInit(){this.getAllTypeOfIntervention(),this.getAllTypeOfInterventionDropdown()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,Pt.O)(null),(0,k.b)(()=>{this.isReset||this.getAllTypeOfIntervention(),this.dataLoaded=!0})).subscribe()}ngOnChanges(){this.reset(),this.getAllTypeOfIntervention(),this.getAllTypeOfInterventionDropdown()}getAllTypeOfIntervention(){this.isWaitingForResponse=!0;const e={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0};this.filteredValues.teacher_id=this.userId,this.filteredValues.scholar_season_id=this.scholarSeasonId?._id?[this.scholarSeasonId?._id]:[],this.subs.sink=this.teacherService.getAllTypeOfIntervention(e,this.filteredValues,this.sortValue).subscribe(n=>{n&&n.length?(this.dataSource.data=p.cloneDeep(n),this.teacherCount=n&&n.length?n[0].count_document:0):(this.dataSource.data=[],this.teacherCount=0),this.noData=this.dataSource.connect().pipe((0,g.U)(a=>0===a.length)),this.isReset=!1,this.isWaitingForResponse=!1},n=>{this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getAllTypeOfInterventionDropdown(){this.isWaitingForResponse=!0,this.filteredValues.teacher_id=this.userId,this.subs.sink=this.teacherService.getAllTypeOfInterventionDropdownData(this.filteredValues).subscribe(e=>{e&&e.length?(this.scholarSeasonDropdown=[],this.legalEntityDropdown=[],this.typeOfInterventionDropdown=[],this.typeOfContractDropdown=[],e.forEach(n=>{n&&n.scholar_season_id&&this.scholarSeasonDropdown.push(n.scholar_season_id),n&&n.legal_entity_id&&this.legalEntityDropdown.push(n.legal_entity_id),n&&n.type_of_intervention&&this.typeOfInterventionDropdown.push(n.type_of_intervention),n&&n.type_of_contract&&this.typeOfContractDropdown.push(n.type_of_contract)}),this.scholarSeasonDropdown=p.uniqBy(this.scholarSeasonDropdown,"_id"),this.legalEntityDropdown=p.uniqBy(this.legalEntityDropdown,"_id"),this.typeOfInterventionDropdown=this.typeOfInterventionDropdown.filter((n,a,l)=>l.indexOf(n)===a),this.typeOfContractDropdown=this.typeOfContractDropdown.filter((n,a,l)=>l.indexOf(n)===a),this.scholarSeasonDropdown=p.sortBy(this.scholarSeasonDropdown,["scholar_season"]),this.legalEntityDropdown=p.sortBy(this.legalEntityDropdown,["legal_entity_name"]),this.typeOfInterventionDropdown=p.sortBy(this.typeOfInterventionDropdown),this.typeOfContractDropdown=p.sortBy(this.typeOfContractDropdown),this.typeOfInterventionDropdown=this.typeOfInterventionDropdown?.map(n=>({value:n,label:this.translate.instant(n)})),this.typeOfContractDropdown=this.typeOfContractDropdown?.map(n=>({value:n,label:this.translate.instant(n)}))):(this.scholarSeasonDropdown=[],this.legalEntityDropdown=[],this.typeOfInterventionDropdown=[],this.typeOfContractDropdown=[]),this.isReset=!1,this.isWaitingForResponse=!1},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}isAllDropdownSelected(e){if("legalEntity"===e){const n=this.legalEntityFilter?.value;return n&&0!==n.length&&n.length===this.legalEntityDropdown?.length}if("contract"===e){const n=this.typeOfContractFilter?.value;return n&&0!==n.length&&n.length===this.typeOfContractDropdown?.length}if("intervention"===e){const n=this.typeOfInterventionFilter?.value;return n&&0!==n.length&&n.length===this.typeOfInterventionDropdown?.length}}isSomeDropdownSelected(e){if("legalEntity"===e){const n=this.legalEntityFilter?.value;return n&&0!==n.length&&n.length!==this.legalEntityDropdown?.length}if("contract"===e){const n=this.typeOfContractFilter?.value;return n&&0!==n.length&&n.length!==this.typeOfContractDropdown?.length}if("intervention"===e){const n=this.typeOfInterventionFilter?.value;return n&&0!==n.length&&n.length!==this.typeOfInterventionDropdown?.length}}selectAllData(e,n){if("legalEntity"===n)if(e?.checked){const a=this.legalEntityDropdown?.map(l=>l?._id);this.legalEntityFilter?.patchValue(a)}else this.legalEntityFilter?.patchValue(null);else if("contract"===n)if(e?.checked){const a=this.typeOfContractDropdown?.map(l=>l?.value);this.typeOfContractFilter?.patchValue(a)}else this.typeOfContractFilter?.patchValue(null);else if("intervention"===n)if(e?.checked){const a=this.typeOfInterventionDropdown?.map(l=>l?.value);this.typeOfInterventionFilter?.patchValue(a)}else this.typeOfInterventionFilter?.patchValue(null)}setLegalEntityFilter(){if(JSON.stringify(this.tempDataFilter?.legal_entity_id)!==JSON.stringify(this.legalEntityFilter?.value))if(this.legalEntityFilter?.value?.length)this.filteredValues.legal_entity_id=this.legalEntityFilter?.value,this.tempDataFilter.legal_entity_id=this.legalEntityFilter?.value,this.isReset||(this.paginator.pageIndex=0,this.getAllTypeOfIntervention());else{if(!this.tempDataFilter?.legal_entity_id?.length||this.legalEntityFilter?.value?.length)return;this.filteredValues.legal_entity_id=this.legalEntityFilter?.value,this.tempDataFilter.legal_entity_id=null,this.isReset||(this.paginator.pageIndex=0,this.getAllTypeOfIntervention())}}setInterventionFilter(){if(JSON.stringify(this.tempDataFilter?.type_of_intervention)!==JSON.stringify(this.typeOfInterventionFilter?.value))if(this.typeOfInterventionFilter?.value?.length)this.filteredValues.type_of_intervention=this.typeOfInterventionFilter?.value,this.tempDataFilter.type_of_intervention=this.typeOfInterventionFilter?.value,this.isReset||(this.paginator.pageIndex=0,this.getAllTypeOfIntervention());else{if(!this.tempDataFilter?.type_of_intervention?.length||this.typeOfInterventionFilter?.value?.length)return;this.filteredValues.type_of_intervention=this.typeOfInterventionFilter?.value,this.tempDataFilter.type_of_intervention=null,this.isReset||(this.paginator.pageIndex=0,this.getAllTypeOfIntervention())}}setContractFilter(){if(JSON.stringify(this.tempDataFilter?.type_of_contract)!==JSON.stringify(this.typeOfContractFilter?.value))if(this.typeOfContractFilter?.value?.length)this.filteredValues.type_of_contract=this.typeOfContractFilter?.value,this.tempDataFilter.type_of_contract=this.typeOfContractFilter?.value,this.isReset||(this.paginator.pageIndex=0,this.getAllTypeOfIntervention());else{if(!this.tempDataFilter?.type_of_contract?.length||this.typeOfContractFilter?.value?.length)return;this.filteredValues.type_of_contract=this.typeOfContractFilter?.value,this.tempDataFilter.type_of_contract=null,this.isReset||(this.paginator.pageIndex=0,this.getAllTypeOfIntervention())}}isAllSelected(){const e=this.selection.selected.length,n=this.dataSource.data.length;return e===n||e>n}masterToggle(){this.isAllSelected()?(this.selection.clear(),this.isCheckedAll=!1,this.disabledActions=!1):(this.disabledActions=!0,this.isCheckedAll=!0,this.allIntervention=[],this.getAllDataForCheckBox(0))}getAllDataForCheckBox(e){const n={limit:300,page:e};this.isWaitingForResponse=!0,this.subs.sink=this.teacherService.getAllTypeOfIntervention(n,this.filteredValues,this.sortValue).subscribe(a=>{a&&a.length?(this.allIntervention.push(...a),this.getAllDataForCheckBox(e+1)):(this.isWaitingForResponse=!1,this.isCheckedAll&&this.allIntervention&&this.allIntervention.length&&(this.allIntervention.forEach(l=>{this.selection.select(l._id),this.dataSelected.push(l)}),this.disabledActions=!0))},a=>{this.authService.postErrorLog(a),this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("OK")})})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}selected(){this.disabledActions=this.selection.selected.length>0,this.isCheckedAll=this.selection.selected.length===this.teacherCount}csvDownloadTeacher(){if(this.selection.selected.length<1)c().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Intervention")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else{const e={",":this.translate.instant("IMPORT_DECISION_S1.COMMA"),";":this.translate.instant("IMPORT_DECISION_S1.SEMICOLON"),tab:this.translate.instant("IMPORT_DECISION_S1.TAB")};c().fire({type:"question",title:this.translate.instant("IMPORT_DECISION_S1.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translate.instant("IMPORT_DECISION_S1.CANCEL"),confirmButtonText:this.translate.instant("IMPORT_DECISION_S1.OK"),input:"radio",inputOptions:e,inputValue:this.translate&&"fr"===this.translate.currentLang?";":"",inputValidator:n=>new Promise((a,l)=>{n?(a(""),c().enableConfirmButton()):(c().disableConfirmButton(),l(this.translate.instant("IMPORT_DECISION_S1.INVALID")))}),onOpen:function(){c().disableConfirmButton(),c().getContent().addEventListener("click",function(l){l.target.value&&c().enableConfirmButton()}),";"===c().getInput().getAttribute("value")&&c().enableConfirmButton()}}).then(n=>{n.value&&this.openDownloadCsv(n.value)})}}openDownloadCsv(e){let n=pt.N.apiUrl;n=n.replace("graphql","");const a=document.createElement("a"),l=this.translate.currentLang.toLowerCase(),s=this.cleanFilterDataDownload();let h;if(this.selection.selected.length&&!this.isCheckedAll){const P='"type_of_intervention_id":['+this.selection.selected.map(w=>'"'+w+'"').toString()+"]";h=s.length>9?s.slice(0,8)+P+","+s.slice(8):s.slice(0,8)+P+s.slice(8)}else this.isCheckedAll&&(h=s);const m="downloadTypeOfInterventionCSV/";let C;C=h?n+m+e+"/"+l+"?"+h:n+m+e+"/"+l,a.href=encodeURI(C),a.target="_blank",a.download="Intervention Export CSV",document.body.appendChild(a),a.click(),document.body.removeChild(a)}cleanFilterDataDownload(){const e=p.cloneDeep(this.filteredValues);let a,l,s,h,n="";return Object.keys(e).forEach(m=>{e[m]&&0!==e[m].length&&("scholar_season_id"===m?(a=e.scholar_season_id.map(C=>'"'+C+'"'),n=n?n+`,"scholar_season_id":[${a}]`:n+`"scholar_season_id":[${a}]`):"legal_entity_id"===m?(l=e.legal_entity_id.map(C=>'"'+C+'"'),n=n?n+`,"legal_entity_id":[${l}]`:n+`"legal_entity_id":[${l}]`):"type_of_intervention"===m?(s=e.type_of_intervention.map(C=>'"'+C+'"'),n=n?n+`,"type_of_intervention":[${s}]`:n+`"type_of_intervention":[${s}]`):"type_of_contract"===m?(h=e.type_of_contract.map(C=>'"'+C+'"'),n=n?n+`,"type_of_contract":[${h}]`:n+`"type_of_contract":[${h}]`):n=n?n+`,"${m}":"${e[m]}"`:n+`"${m}":"${e[m]}"`)}),"filter={"+n+"}"}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.paginator.pageIndex=0,this.getAllTypeOfIntervention()}reset(){this.isReset=!0,this.selection.clear(),this.isCheckedAll=!1,this.paginator.pageIndex=0,this.filteredValues={teacher_id:"",scholar_season_id:[],legal_entity_id:[],type_of_intervention:[],type_of_contract:[]},this.tempDataFilter={type_of_intervention:null,type_of_contract:null,legal_entity_id:null},this.filteredValues.scholar_season_id=this.scholarSeasonId?._id?[this.scholarSeasonId?._id]:[],this.sortValue=null,this.sort.direction="",this.sort.active="",this.disabledActions=!1,this.legalEntityFilter.setValue(null,{emitEvent:!1}),this.typeOfInterventionFilter.setValue(null,{emitEvent:!1}),this.typeOfContractFilter.setValue(null,{emitEvent:!1}),this.scholarSeasonDropdown=[],this.legalEntityDropdown=[],this.typeOfInterventionDropdown=[],this.typeOfContractDropdown=[],this.getAllTypeOfInterventionDropdown(),this.getAllTypeOfIntervention()}addIntervention(){this.subs.sink=this.dialog.open($t,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,data:{type:"add",title:"Add type of intervention",userId:this.userId,selectedScholarSeason:this.scholarSeasonId?._id}}).afterClosed().subscribe(n=>{n&&(this.getAllTypeOfIntervention(),this.getAllTypeOfInterventionDropdown())})}editIntervention(e){this.subs.sink=this.dialog.open($t,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,data:{type:"edit",title:"Edit type of intervention",userId:this.userId,interventionData:e,selectedScholarSeason:this.scholarSeasonId?._id}}).afterClosed().subscribe(a=>{a&&(this.getAllTypeOfIntervention(),this.getAllTypeOfInterventionDropdown())})}deleteIntervention(e){const n={scholar_season:e.scholar_season_id?e.scholar_season_id.scholar_season:"",legal_entity:e.legal_entity_id?e.legal_entity_id.legal_entity_name:"",type_of_intervention:e.type_of_intervention?this.translate.instant(e.type_of_intervention):"",hourly_rate:e.hourly_rate?e.hourly_rate:"",type_of_contract:e.type_of_contract?this.translate.instant(e.type_of_contract):""};if(e&&e._id){let a=3;c().fire({title:this.translate.instant("Type_of_Intervention_S3.TITLE"),html:this.translate.instant("Type_of_Intervention_S3.TEXT",{...n}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("Type_of_Intervention_S3.BUTTON1",{timer:a}),cancelButtonText:this.translate.instant("Type_of_Intervention_S3.BUTTON2"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const l=c().getConfirmButton(),s=setInterval(()=>{a-=1,l.innerText=this.translate.instant("Type_of_Intervention_S3.BUTTON1")+` (${a})`},1e3);this.timeOutVal=setTimeout(()=>{l.innerText=this.translate.instant("Type_of_Intervention_S3.BUTTON1"),c().enableConfirmButton(),clearInterval(s),clearTimeout(this.timeOutVal)},1e3*a)}}).then(l=>{clearTimeout(this.timeOutVal),l.value&&(this.subs.sink=this.teacherService.deleteIntervention(e._id).subscribe(s=>{c().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getAllTypeOfIntervention(),this.getAllTypeOfInterventionDropdown()})},s=>{this.authService.postErrorLog(s),s.message&&"GraphQL error: Teacher subject already assigned to type of intervention"===s.message?c().fire({type:"warning",title:this.translate.instant("Type_of_Intervention_S4.TITLE"),text:this.translate.instant("Type_of_Intervention_S4.TEXT"),confirmButtonText:this.translate.instant("Type_of_Intervention_S4.BUTTON 1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("OK")})}))},l=>{l.message&&"GraphQL error: Teacher subject already assigned to type of intervention"===l.message?c().fire({type:"warning",title:this.translate.instant("SORRY"),text:this.translate.instant("Teacher subject already assigned to type of intervention"),confirmButtonText:this.translate.instant("Okay"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("OK")})})}}duplicateIntervention(){this.selection?.selected?.length?this.subs.sink=this.dialog.open(pa,{width:"600px",disableClose:!0,autoFocus:!1,panelClass:"certification-rule-pop-up",data:{scholarSeasonId:this.scholarSeasonId,interventions:this.selection?.selected?.length?this.selection.selected:null}}).afterClosed().subscribe(e=>{e&&this.selectedScholarSeason.emit(e)}):c().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Intervention")}),confirmButtonText:this.translate.instant("Followup_S8.Button")})}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(yt.D),t.\u0275\u0275directiveInject(Nt.$),t.\u0275\u0275directiveInject(S.uw),t.\u0275\u0275directiveInject(j.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-user-details-teacher-details"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(A.NW,7),t.\u0275\u0275viewQuery(T.YE,7)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.sort=a.first)}},inputs:{userId:"userId",scholarSeasonId:"scholarSeasonId"},outputs:{selectedScholarSeason:"selectedScholarSeason"},features:[t.\u0275\u0275NgOnChangesFeature],decls:51,vars:23,consts:[[1,"top-space"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","100%","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","selectFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","scholarSeasonFilter"],["matColumnDef","legalEntityFilter"],["matColumnDef","typeOfInterventionFilter"],["matColumnDef","hourlyRateFilter"],["matColumnDef","typeOfContractFilter"],["matColumnDef","actionFilter"],["matColumnDef","select"],["mat-cell","",4,"matCellDef"],["matColumnDef","scholarSeason"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","legalEntity"],["matColumnDef","typeOfIntervention"],["matColumnDef","hourlyRate"],["matColumnDef","typeOfContract"],["matColumnDef","action"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["mat-header-cell","","colspan","100%",1,"action-header-column","text-right"],[1,"p-grid"],[1,"p-col-12","text-right","no-padding"],["mat-raised-button","","color","accent",3,"disabled","matTooltip","click"],["mat-raised-button","","color","accent",3,"disabled","matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["svgIcon","file-excel",1,"mat-icon-svgIcon"],["mat-header-cell",""],["bindValue","_id","bindLabel","legal_entity_name",1,"custom-ngselect-contentspace","custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","clearable","closeOnSelect","formControl","close"],["ng-option-tmp",""],[4,"ngIf"],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],["bindValue","value","bindLabel","label",1,"custom-ngselect-contentspace","custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","clearable","closeOnSelect","formControl","close"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","",3,"matTooltip"],["mat-sort-header","scholar_season"],["mat-cell","",3,"matTooltip"],["mat-sort-header","legal_entity"],["mat-sort-header","type_of_intervention"],["mat-sort-header","hourly_rate"],["mat-sort-header","type_of_contract"],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","disabled","click"],["mat-header-cell","","colspan","100%",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"table",1),t.\u0275\u0275listener("matSortChange",function(l){return n.sortData(l)}),t.\u0275\u0275elementContainerStart(2,2),t.\u0275\u0275template(3,ga,14,16,"th",3),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(4,4),t.\u0275\u0275template(5,ua,1,0,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(6,6),t.\u0275\u0275template(7,_a,1,0,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,7),t.\u0275\u0275template(9,Oa,6,13,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,8),t.\u0275\u0275template(11,Ta,6,13,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,9),t.\u0275\u0275template(13,Ma,1,0,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,10),t.\u0275\u0275template(15,Ea,6,13,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,11),t.\u0275\u0275template(17,Da,1,0,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,12),t.\u0275\u0275template(19,Ia,2,3,"th",5),t.\u0275\u0275template(20,ka,2,2,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(21,14),t.\u0275\u0275template(22,Fa,5,6,"th",15),t.\u0275\u0275template(23,Ua,2,2,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,17),t.\u0275\u0275template(25,Aa,5,6,"th",15),t.\u0275\u0275template(26,Ba,2,2,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(27,18),t.\u0275\u0275template(28,Na,5,6,"th",15),t.\u0275\u0275template(29,Ra,4,6,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(30,19),t.\u0275\u0275template(31,La,5,6,"th",15),t.\u0275\u0275template(32,Va,2,2,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(33,20),t.\u0275\u0275template(34,Wa,5,6,"th",15),t.\u0275\u0275template(35,ja,4,6,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(36,21),t.\u0275\u0275template(37,Ka,5,6,"th",15),t.\u0275\u0275template(38,$a,3,2,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(39,22),t.\u0275\u0275template(40,qa,3,0,"th",23),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(41,Ya,1,0,"tr",24),t.\u0275\u0275template(42,Qa,1,0,"tr",24),t.\u0275\u0275template(43,Ga,1,0,"tr",24),t.\u0275\u0275template(44,Xa,1,1,"tr",25),t.\u0275\u0275template(45,Ja,1,1,"tr",26),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(46,Za,3,3,"div",27),t.\u0275\u0275pipe(47,"async"),t.\u0275\u0275elementStart(48,"div",28),t.\u0275\u0275pipe(49,"async"),t.\u0275\u0275element(50,"mat-paginator",29),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(40),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(16,to)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(17,eo)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(47,12,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,no,t.\u0275\u0275pipeBind1(49,14,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(20,io,n.teacherCount<=10))("length",n.teacherCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(22,ao)))},dependencies:[r.mk,r.O5,L.lW,Mt.oG,K.Hw,A.NW,H.Ou,T.YE,T.nU,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,ot.gM,f.CheckboxControlValueAccessor,f.NgControlStatus,f.NgModel,f.FormControlDirective,Y.oO,D.w9,D.ir,D.Cm,r.Ov,M.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]  table tr td, [_nghost-%COMP%]  table tr th{border-right:1px solid #545454}[_nghost-%COMP%]  table tr td:nth-child(1), [_nghost-%COMP%]  table tr th:nth-child(1){width:3%;text-align:center}[_nghost-%COMP%]  table tr td:nth-child(2), [_nghost-%COMP%]  table tr th:nth-child(2){width:18%;text-align:left}[_nghost-%COMP%]  table tr td:nth-child(2) ng-select, [_nghost-%COMP%]  table tr th:nth-child(2) ng-select{width:96%;padding-left:8px}[_nghost-%COMP%]  table tr td:nth-child(3), [_nghost-%COMP%]  table tr th:nth-child(3){width:18%;text-align:left}[_nghost-%COMP%]  table tr td:nth-child(3) ng-select, [_nghost-%COMP%]  table tr th:nth-child(3) ng-select{width:96%;padding-left:8px}[_nghost-%COMP%]  table tr td:nth-child(4), [_nghost-%COMP%]  table tr th:nth-child(4){width:20%;text-align:left}[_nghost-%COMP%]  table tr td:nth-child(4) ng-select, [_nghost-%COMP%]  table tr th:nth-child(4) ng-select{width:96%;padding-left:8px}[_nghost-%COMP%]  table tr td:nth-child(5), [_nghost-%COMP%]  table tr th:nth-child(5){width:15%;text-align:left}[_nghost-%COMP%]  table tr td:nth-child(6), [_nghost-%COMP%]  table tr th:nth-child(6){width:18%;text-align:left}[_nghost-%COMP%]  table tr td:nth-child(6) ng-select, [_nghost-%COMP%]  table tr th:nth-child(6) ng-select{width:96%;padding-left:8px}[_nghost-%COMP%]  table tr td:nth-child(7), [_nghost-%COMP%]  table tr th:nth-child(7){width:7%;text-align:center}[_nghost-%COMP%]  table thead tr:nth-child(2), [_nghost-%COMP%]  table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]  table thead tr:nth-child(2) th, [_nghost-%COMP%]  table thead tr:nth-child(3) th{color:#fff}[_nghost-%COMP%]  table td.mat-cell{padding-left:8px}[_nghost-%COMP%]  table th.mat-header-cell:first-of-type, [_nghost-%COMP%]  table td.mat-cell:first-of-type{padding:0}[_nghost-%COMP%]  table th.mat-header-cell:last-of-type, [_nghost-%COMP%]  table td.mat-cell:last-of-type{padding:0}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{overflow:hidden}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent!important;margin-right:3px;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon.left{display:none}[_nghost-%COMP%]  .ng-select .ng-select-container.ng-has-value{max-width:220px;overflow-x:scroll}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}[_nghost-%COMP%]  .custom-ngselect-contentspace .ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;width:auto!important}[_nghost-%COMP%]  .custom-ngselect-contentspace .ng-dropdown-panel-items .ng-option{white-space:break-spaces!important}[_nghost-%COMP%]  .custom-ngselect-contentspace.ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;width:auto!important}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-dropdownpanel .ng-dropdown-header{border-bottom:1px solid #ccc;padding:5px 7px;margin-left:0}  .ng-dropdown-panel.custom-dropdownpanel .mat-checkbox-inner-container{width:14px!important;height:14px!important;margin-bottom:6px!important;margin-left:6px!important}']}),i})();function lo(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"h5"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate((null==e?null:e.scholar_season)||"")}}function ro(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-user-details-teacher-details",6),t.\u0275\u0275listener("selectedScholarSeason",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectedTab(a))}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("userId",n.userId)("scholarSeasonId",e)}}function so(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-tab"),t.\u0275\u0275template(1,lo,2,1,"ng-template",4),t.\u0275\u0275template(2,ro,1,2,"ng-template",5),t.\u0275\u0275elementEnd())}function co(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-tab-group",2),t.\u0275\u0275listener("selectedIndexChange",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.selectedIndex=a)}),t.\u0275\u0275template(1,so,3,0,"mat-tab",3),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("selectedIndex",e.selectedIndex),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.scholarSeasons)}}function po(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275element(1,"mat-spinner",8),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let mo=(()=>{class i{constructor(e,n,a){this.candidateService=e,this.translate=n,this.authService=a,this.subs=new F.Y,this.isLoading=!1,this.scholarSeasons=[],this.selectedIndex=0}ngOnInit(){this.getScholarSeasons()}getScholarSeasons(){this.isLoading=!0,this.subs.sink=this.candidateService.getAllScholarSeasons({is_published:!0}).subscribe(n=>{this.isLoading=!1,this.scholarSeasons=n?.length?(0,p.cloneDeep)(n):[]},n=>{this.isLoading=!1,this.authService.postErrorLog(n),c().fire({type:"info",title:"Error!",text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ")):n,allowOutsideClick:!1})})}selectedTab(e){if(e&&this.scholarSeasons?.length){const n=this.scholarSeasons.findIndex(a=>a?.scholar_season===e);this.selectedIndex=n>=0?n:0}}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(bt.o),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(j.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-user-details-teacher-details-parent"]],inputs:{userId:"userId"},decls:2,vars:2,consts:[["class","not-custom",3,"selectedIndex","selectedIndexChange",4,"ngIf"],["class","loading-indicator",4,"ngIf"],[1,"not-custom",3,"selectedIndex","selectedIndexChange"],[4,"ngFor","ngForOf"],["mat-tab-label",""],["matTabContent",""],[3,"userId","scholarSeasonId","selectedScholarSeason"],[1,"loading-indicator"],["color","accent",3,"diameter"]],template:function(e,n){1&e&&(t.\u0275\u0275template(0,co,2,2,"mat-tab-group",0),t.\u0275\u0275template(1,po,2,1,"div",1)),2&e&&(t.\u0275\u0275property("ngIf",!n.isLoading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isLoading))},dependencies:[r.sg,r.O5,H.Ou,it.SP,it.uD,it.uX,it.Vc,oo],styles:["[_nghost-%COMP%]  .mat-tab-label{min-width:25px!important;padding:.7rem!important;opacity:1!important}[_nghost-%COMP%]  .mat-tab-list .mat-tab-labels{border:0px!important;background-color:transparent!important}[_nghost-%COMP%]  .mat-tab-label{background-color:transparent!important}[_nghost-%COMP%]  .mat-tab-label.mat-tab-label-active{background-color:transparent!important;color:#ffd740!important;font-weight:900!important;box-shadow:-.8px 0 #607d8b,.8px 0 #607d8b!important;border:2px solid #607d8b!important;border-top:0px!important}[_nghost-%COMP%]  .app-dark .mat-tab-group.mat-primary .mat-ink-bar, [_nghost-%COMP%]  .app-dark .mat-tab-nav-bar.mat-primary .mat-ink-bar{background-color:#506169!important}"]}),i})();function ho(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",31)(1,"div",32)(2,"div",33)(3,"button",34),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.resetSelection())}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275element(5,"mat-icon",35),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,3,"RESET")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(7,5,"RESET")," ")}}function go(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",40),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.program," ")}}function uo(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",42),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"program"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("program"))("indeterminate",e.isSomeDropdownSelected("program")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function _o(i,o){1&i&&t.\u0275\u0275template(0,uo,3,5,"ng-template",41)}function fo(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",36)(1,"ng-select",37),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setProgramFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,go,2,3,"ng-template",38),t.\u0275\u0275template(5,_o,1,0,null,39),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.programList)("appendTo","body")("multiple",!0)("clearable",!1)("closeOnSelect",!1)("formControl",e.programFilter),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.programList?null:e.programList.length)}}function Co(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",40),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.legal_entity_name," ")}}function bo(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",42),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"legalEntity"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("legalEntity"))("indeterminate",e.isSomeDropdownSelected("legalEntity")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function Oo(i,o){1&i&&t.\u0275\u0275template(0,bo,3,5,"ng-template",41)}function xo(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",36)(1,"ng-select",43),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setLegalEntityFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Co,2,3,"ng-template",38),t.\u0275\u0275template(5,Oo,1,0,null,39),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.legalEntityList)("appendTo","body")("multiple",!0)("clearable",!1)("closeOnSelect",!1)("formControl",e.legalEntityFilter),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.legalEntityList?null:e.legalEntityList.length)}}function yo(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",40),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function vo(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",42),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"sequence"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("sequence"))("indeterminate",e.isSomeDropdownSelected("sequence")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function To(i,o){1&i&&t.\u0275\u0275template(0,vo,3,5,"ng-template",41)}function Mo(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",36)(1,"ng-select",44),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setSequenceFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,yo,2,3,"ng-template",38),t.\u0275\u0275template(5,To,1,0,null,39),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.sequenceList)("appendTo","body")("multiple",!0)("clearable",!1)("closeOnSelect",!1)("formControl",e.sequenceFilter),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.sequenceList?null:e.sequenceList.length)}}function Po(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",40),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function wo(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",42),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"subject"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("subject"))("indeterminate",e.isSomeDropdownSelected("subject")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function So(i,o){1&i&&t.\u0275\u0275template(0,wo,3,5,"ng-template",41)}function Eo(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",36)(1,"ng-select",44),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setSubjectFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Po,2,3,"ng-template",38),t.\u0275\u0275template(5,So,1,0,null,39),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.subjectList)("appendTo","body")("multiple",!0)("clearable",!1)("closeOnSelect",!1)("formControl",e.subjectFilter),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.subjectList?null:e.subjectList.length)}}function Do(i,o){1&i&&t.\u0275\u0275element(0,"th",36)}function Io(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",40),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function ko(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",42),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"contract"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("contract"))("indeterminate",e.isSomeDropdownSelected("contract")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function Fo(i,o){1&i&&t.\u0275\u0275template(0,ko,3,5,"ng-template",41)}function Uo(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",36)(1,"ng-select",45),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setContractFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Io,2,3,"ng-template",38),t.\u0275\u0275template(5,Fo,1,0,null,39),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.typeOfContractList)("appendTo","body")("multiple",!0)("clearable",!1)("closeOnSelect",!1)("formControl",e.typeOfContractFilter),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.typeOfContractList?null:e.typeOfContractList.length)}}function Ao(i,o){1&i&&t.\u0275\u0275element(0,"th",36)}function Bo(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",40),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function No(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",42),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"intervention"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("intervention"))("indeterminate",e.isSomeDropdownSelected("intervention")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function Ro(i,o){1&i&&t.\u0275\u0275template(0,No,3,5,"ng-template",41)}function Lo(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",36)(1,"ng-select",46),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setInterventionFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Bo,2,3,"ng-template",38),t.\u0275\u0275template(5,Ro,1,0,null,39),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.typeOfInterventionList)("appendTo","body")("multiple",!0)("clearable",!1)("closeOnSelect",!1)("formControl",e.typeOfInterventionFilter),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.typeOfInterventionList?null:e.typeOfInterventionList.length)}}function Vo(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",47),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",48),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTERVENTIONS_TAB.COLUMN.PROGRAM")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"INTERVENTIONS_TAB.COLUMN.PROGRAM")))}function Wo(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",49),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",(null==e||null==e.program_id||null==e.program_id.scholar_season_id?null:e.program_id.scholar_season_id.scholar_season)+" "+(null==e||null==e.program_id?null:e.program_id.program)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",(null==e||null==e.program_id||null==e.program_id.scholar_season_id?null:e.program_id.scholar_season_id.scholar_season)+" "+(null==e||null==e.program_id?null:e.program_id.program)," ")}}function jo(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",47),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",50),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTERVENTIONS_TAB.COLUMN.LEGAL_ENTITY")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"INTERVENTIONS_TAB.COLUMN.LEGAL_ENTITY")))}function Ko(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",49),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e||null==e.type_of_intervention_id||null==e.type_of_intervention_id.legal_entity_id?null:e.type_of_intervention_id.legal_entity_id.legal_entity_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.type_of_intervention_id||null==e.type_of_intervention_id.legal_entity_id?null:e.type_of_intervention_id.legal_entity_id.legal_entity_name," ")}}function zo(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",47),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",51),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTERVENTIONS_TAB.COLUMN.SEQUENCE")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"INTERVENTIONS_TAB.COLUMN.SEQUENCE")))}function Ho(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",49),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null!=e&&null!=e.program_sequence_id&&e.program_sequence_id.name?null==e||null==e.program_sequence_id?null:e.program_sequence_id.name:null==e||null==e.sequence_id?null:e.sequence_id.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&null!=e.program_sequence_id&&e.program_sequence_id.name?null==e||null==e.program_sequence_id?null:e.program_sequence_id.name:null==e||null==e.sequence_id?null:e.sequence_id.name," ")}}function $o(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",47),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",52),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTERVENTIONS_TAB.COLUMN.SUBJECT")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"INTERVENTIONS_TAB.COLUMN.SUBJECT")))}function qo(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",49),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null!=e&&null!=e.program_subject_id&&e.program_subject_id.name?null==e||null==e.program_subject_id?null:e.program_subject_id.name:null==e||null==e.course_subject_id?null:e.course_subject_id.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&null!=e.program_subject_id&&e.program_subject_id.name?null==e||null==e.program_subject_id?null:e.program_subject_id.name:null==e||null==e.course_subject_id?null:e.course_subject_id.name," ")}}function Yo(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",47),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",53),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTERVENTIONS_TAB.COLUMN.VOLUME_OF_HOURS")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"INTERVENTIONS_TAB.COLUMN.VOLUME_OF_HOURS")))}function Qo(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",49),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null!=e&&null!=e.teacher_id&&e.teacher_id._id?null==e?null:e.volume_hours_assigned:null==e||null==e.program_session?null:e.program_session.volume_hours),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&null!=e.teacher_id&&e.teacher_id._id?null==e?null:e.volume_hours_assigned:null==e||null==e.program_session?null:e.program_session.volume_hours," ")}}function Go(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",47),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",54),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTERVENTIONS_TAB.COLUMN.TYPE_OF_CONTRACT")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"INTERVENTIONS_TAB.COLUMN.TYPE_OF_CONTRACT")))}function Xo(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",49),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e||null==e.type_of_intervention_id?null:e.type_of_intervention_id.type_of_contract)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,null==e||null==e.type_of_intervention_id?null:e.type_of_intervention_id.type_of_contract)," ")}}function Jo(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",47),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",55),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTERVENTIONS_TAB.COLUMN.HOURLY_RATE")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"INTERVENTIONS_TAB.COLUMN.HOURLY_RATE")))}function Zo(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",49),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e||null==e.type_of_intervention_id?null:e.type_of_intervention_id.hourly_rate),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.type_of_intervention_id?null:e.type_of_intervention_id.hourly_rate," ")}}function tl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",47),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",56),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTERVENTIONS_TAB.COLUMN.TYPE_OF_INTERVENTION")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"INTERVENTIONS_TAB.COLUMN.TYPE_OF_INTERVENTION")))}function el(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",49),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e||null==e.type_of_intervention_id?null:e.type_of_intervention_id.type_of_intervention)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,null==e||null==e.type_of_intervention_id?null:e.type_of_intervention_id.type_of_intervention)," ")}}function nl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",57)(1,"div",58),t.\u0275\u0275element(2,"mat-spinner",59),t.\u0275\u0275elementEnd()())}function il(i,o){1&i&&t.\u0275\u0275element(0,"tr",60)}function al(i,o){1&i&&t.\u0275\u0275element(0,"tr",60)}function ol(i,o){1&i&&t.\u0275\u0275element(0,"tr",60)}function ll(i,o){if(1&i&&t.\u0275\u0275element(0,"tr",61),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function rl(i,o){if(1&i&&t.\u0275\u0275element(0,"tr",62),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function sl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",63),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")," "))}const cl=function(){return["reset"]},dl=function(){return["loading"]},pl=function(i){return{hide:i}},ml=function(i){return{"hide-pagination-buttons":i}},hl=function(){return[10]};let gl=(()=>{class i{constructor(e,n,a){this.teacherManagementService=e,this.authService=n,this.translate=a,this.subs=new F.Y,this.isWaitingForResponse=!1,this.programList=[],this.legalEntityList=[],this.typeOfInterventionList=[],this.subjectList=[],this.sequenceList=[],this.typeOfContractList=[],this.programFilter=new f.UntypedFormControl(null),this.legalEntityFilter=new f.UntypedFormControl(null),this.typeOfContractFilter=new f.UntypedFormControl(null),this.subjectFilter=new f.UntypedFormControl(null),this.typeOfInterventionFilter=new f.UntypedFormControl(null),this.sequenceFilter=new f.UntypedFormControl(null),this.displayedColumns=["program","legalEntity","sequence","subject","volumeOfHours","typeOfContract","hourlyRate","typeOfIntervention"],this.filterColumns=["programFilter","legalEntityFilter","sequenceFilter","subjectFilter","volumeOfHoursFilter","typeOfContractFilter","hourlyRateFilter","typeOfInterventionFilter"],this.filteredValue={sequence_id:null,subject_id:null,type_of_intervention:null,type_of_contract:null,program_id:null,legal_entity_id:null,teacher_id:null},this.tempDataFilter={sequence_id:null,subject_id:null,type_of_intervention:null,type_of_contract:null,program_id:null,legal_entity_id:null,teacher_id:null},this.isReset=!1,this.sortValue=null,this.dataSource=new d.by([]),this.dataCount=0}ngOnInit(){this.currentUser=this.authService.getLocalStorageUser(),this.filteredValue.teacher_id=this.teacherId,this.getAllProgramSequenceDropdown(),this.getAllTeacherSubjectLegalEntityDropdown(),this.getAllTeacherSequenceDropdown(),this.getAllProgramSubjectDropdown(),this.getDropdownStatic(),this.getAllTypeOfInterventionDropdown(),this.getAllTeacherSubjects(),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.getAllTypeOfInterventionDropdown()})}ngOnChanges(e){this.teacherId&&this.resetSelection()}cleanFilterData(e){const n=p.cloneDeep(e);return Object.keys(n).forEach(a=>{(!n[a]&&!1!==n[a]||!n[a].length)&&delete n[a]}),n}getAllTeacherSubjects(e){this.isWaitingForResponse=!0;const n={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},a=this.cleanFilterData(this.filteredValue);this.subs.sink=this.teacherManagementService.getAllTeacherSubjects(n,a,this.sortValue,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe({next:s=>{this.dataSource.data=p.cloneDeep(s),this.dataCount=s&&s.length?s[0].count_document:0,this.isWaitingForResponse=!1,this.noData=this.dataSource.connect().pipe((0,g.U)(h=>0===h.length))},error:s=>{this.authService.postErrorLog(s),this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}})}getAllProgramSequenceDropdown(){this.isWaitingForResponse=!0,this.subs.sink=this.teacherManagementService.getAllProgramSequenceDropdown().subscribe(e=>{if(e&&e.length){const a=p.cloneDeep(e)?.map(l=>({_id:l?._id,program:l?.scholar_season_id&&l?.scholar_season_id?.scholar_season?l?.scholar_season_id?.scholar_season+" "+l?.program:l?.program}));this.programList=p.uniqBy(a,"_id"),this.programList=p.sortBy(a,"program")}else this.programList=[];this.isWaitingForResponse=!1},e=>{this.authService.postErrorLog(e)})}getAllTeacherSubjectLegalEntityDropdown(){this.isWaitingForResponse=!0,this.subs.sink=this.teacherManagementService.getAllTeacherSubjectLegalEntityDropdown().subscribe(e=>{e&&e.length?(e.forEach(n=>{n&&n._id&&this.legalEntityList.push(n)}),this.legalEntityList=p.uniqBy(this.legalEntityList,"_id"),this.legalEntityList=p.sortBy(this.legalEntityList,"legal_entity_name")):this.legalEntityList=[],this.isWaitingForResponse=!1},e=>{this.authService.postErrorLog(e)})}getAllTeacherSequenceDropdown(){this.isWaitingForResponse=!0,this.subs.sink=this.teacherManagementService.getAllTeacherSequenceDropdown().subscribe(e=>{e&&e.length?(e.forEach(n=>{n&&n._id&&this.sequenceList.push(n)}),this.sequenceList=p.uniqBy(this.sequenceList,"name"),this.sequenceList=p.sortBy(this.sequenceList,"name")):this.sequenceList=[],this.isWaitingForResponse=!1},e=>{this.authService.postErrorLog(e)})}getAllProgramSubjectDropdown(){this.isWaitingForResponse=!0,this.subs.sink=this.teacherManagementService.getAllProgramSubjectDropdown().subscribe(e=>{e&&e.length?(e.forEach(n=>{n&&n._id&&this.subjectList.push(n)}),this.subjectList=p.uniqBy(this.subjectList,"name"),this.subjectList=p.sortBy(this.subjectList,"name")):this.subjectList=[],this.isWaitingForResponse=!1},e=>{this.authService.postErrorLog(e)})}getDropdownStatic(){this.typeOfContractList=[{value:"cddu",label:this.translate.instant("cddu")},{value:"convention",label:this.translate.instant("convention")}]}getAllTypeOfInterventionDropdown(){this.isWaitingForResponse=!0,this.subs.sink=this.teacherManagementService.getAllTypeOfInterventionDropdown().subscribe(e=>{e&&e.length?(this.typeOfInterventionList=[],e.forEach(n=>{n&&n.type_of_intervention&&this.typeOfInterventionList.push(n.type_of_intervention)}),this.typeOfInterventionList=this.typeOfInterventionList.filter((n,a,l)=>l.indexOf(n)===a),this.typeOfInterventionList=p.sortBy(this.typeOfInterventionList),this.typeOfInterventionList=this.typeOfInterventionList.map(n=>({value:n,label:this.translate.instant(n)}))):this.typeOfInterventionList=[],this.isWaitingForResponse=!1},e=>{this.authService.postErrorLog(e)})}setProgramFilter(){if(JSON.stringify(this.tempDataFilter.program_id)!==JSON.stringify(this.programFilter?.value))if(this.programFilter?.value?.length)this.filteredValue.program_id=this.programFilter?.value,this.tempDataFilter.program_id=this.programFilter?.value,this.isReset||(this.paginator.pageIndex=0,this.getAllTeacherSubjects());else{if(!this.tempDataFilter.program_id?.length||this.programFilter?.value?.length)return;this.filteredValue.program_id=this.programFilter?.value,this.tempDataFilter.program_id=null,this.isReset||(this.paginator.pageIndex=0,this.getAllTeacherSubjects())}}setLegalEntityFilter(){if(JSON.stringify(this.tempDataFilter.legal_entity_id)!==JSON.stringify(this.legalEntityFilter.value))if(this.legalEntityFilter.value?.length)this.filteredValue.legal_entity_id=this.legalEntityFilter.value,this.tempDataFilter.legal_entity_id=this.legalEntityFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getAllTeacherSubjects());else{if(!this.tempDataFilter.legal_entity_id?.length||this.legalEntityFilter.value?.length)return;this.filteredValue.legal_entity_id=this.legalEntityFilter.value,this.tempDataFilter.legal_entity_id=null,this.isReset||(this.paginator.pageIndex=0,this.getAllTeacherSubjects())}}setSequenceFilter(){if(JSON.stringify(this.tempDataFilter.sequence_id)!==JSON.stringify(this.sequenceFilter.value))if(this.sequenceFilter.value?.length)this.filteredValue.sequence_id=this.sequenceFilter.value,this.tempDataFilter.sequence_id=this.sequenceFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getAllTeacherSubjects());else{if(!this.tempDataFilter.sequence_id?.length||this.sequenceFilter.value?.length)return;this.filteredValue.sequence_id=this.sequenceFilter.value,this.tempDataFilter.sequence_id=null,this.isReset||(this.paginator.pageIndex=0,this.getAllTeacherSubjects())}}setSubjectFilter(){if(JSON.stringify(this.tempDataFilter.subject_id)!==JSON.stringify(this.subjectFilter.value))if(this.subjectFilter.value?.length)this.filteredValue.subject_id=this.subjectFilter.value,this.tempDataFilter.subject_id=this.subjectFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getAllTeacherSubjects());else{if(!this.tempDataFilter.subject_id?.length||this.subjectFilter.value?.length)return;this.filteredValue.subject_id=this.subjectFilter.value,this.tempDataFilter.subject_id=null,this.isReset||(this.paginator.pageIndex=0,this.getAllTeacherSubjects())}}setContractFilter(){if(JSON.stringify(this.tempDataFilter.type_of_contract)!==JSON.stringify(this.typeOfContractFilter.value))if(this.typeOfContractFilter.value?.length)this.filteredValue.type_of_contract=this.typeOfContractFilter.value,this.tempDataFilter.type_of_contract=this.typeOfContractFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getAllTeacherSubjects());else{if(!this.tempDataFilter.type_of_contract?.length||this.typeOfContractFilter.value?.length)return;this.filteredValue.type_of_contract=this.typeOfContractFilter.value,this.tempDataFilter.type_of_contract=null,this.isReset||(this.paginator.pageIndex=0,this.getAllTeacherSubjects())}}setInterventionFilter(){if(JSON.stringify(this.tempDataFilter.type_of_intervention)!==JSON.stringify(this.typeOfInterventionFilter.value))if(this.typeOfInterventionFilter.value?.length)this.filteredValue.type_of_intervention=this.typeOfInterventionFilter.value,this.tempDataFilter.type_of_intervention=this.typeOfInterventionFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getAllTeacherSubjects());else{if(!this.tempDataFilter.type_of_intervention?.length||this.typeOfInterventionFilter.value?.length)return;this.filteredValue.type_of_intervention=this.typeOfInterventionFilter.value,this.tempDataFilter.type_of_intervention=null,this.isReset||(this.paginator.pageIndex=0,this.getAllTeacherSubjects())}}resetSelection(){this.programFilter=new f.UntypedFormControl(null),this.legalEntityFilter=new f.UntypedFormControl(null),this.typeOfContractFilter=new f.UntypedFormControl(null),this.subjectFilter=new f.UntypedFormControl(null),this.typeOfInterventionFilter=new f.UntypedFormControl(null),this.sequenceFilter=new f.UntypedFormControl(null),this.tempDataFilter={sequence_id:null,subject_id:null,type_of_intervention:null,type_of_contract:null,program_id:null,legal_entity_id:null,teacher_id:null},this.filteredValue={sequence_id:null,subject_id:null,type_of_intervention:null,type_of_contract:null,program_id:null,legal_entity_id:null,teacher_id:this.teacherId},this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sort.direction="",this.sort.active="",this.paginator.pageIndex=0,this.getAllTeacherSubjects()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:null}:null,this.paginator.pageIndex=0,this.getAllTeacherSubjects()}isAllDropdownSelected(e){if("program"===e){const n=this.programFilter.value;return n&&0!==n.length&&n.length===this.programList.length}if("legalEntity"===e){const n=this.legalEntityFilter.value;return n&&0!==n.length&&n.length===this.legalEntityList.length}if("sequence"===e){const n=this.sequenceFilter.value;return n&&0!==n.length&&n.length===this.sequenceList.length}if("subject"===e){const n=this.subjectFilter.value;return n&&0!==n.length&&n.length===this.subjectList.length}if("contract"===e){const n=this.typeOfContractFilter.value;return n&&0!==n.length&&n.length===this.typeOfContractList.length}if("intervention"===e){const n=this.typeOfInterventionFilter.value;return n&&0!==n.length&&n.length===this.typeOfInterventionList.length}}isSomeDropdownSelected(e){if("program"===e){const n=this.programFilter.value;return n&&0!==n.length&&n.length!==this.programList.length}if("legalEntity"===e){const n=this.legalEntityFilter.value;return n&&0!==n.length&&n.length!==this.legalEntityList.length}if("sequence"===e){const n=this.sequenceFilter.value;return n&&0!==n.length&&n.length!==this.sequenceList.length}if("subject"===e){const n=this.subjectFilter.value;return n&&0!==n.length&&n.length!==this.subjectList.length}if("contract"===e){const n=this.typeOfContractFilter.value;return n&&0!==n.length&&n.length!==this.typeOfContractList.length}if("intervention"===e){const n=this.typeOfInterventionFilter.value;return n&&0!==n.length&&n.length!==this.typeOfInterventionList.length}}selectAllData(e,n){if("program"===n)if(e.checked){const a=this.programList.map(l=>l._id);this.programFilter.patchValue(a)}else this.programFilter.patchValue(null);else if("legalEntity"===n)if(e.checked){const a=this.legalEntityList.map(l=>l._id);this.legalEntityFilter.patchValue(a)}else this.legalEntityFilter.patchValue(null);else if("sequence"===n)if(e.checked){const a=this.sequenceList.map(l=>l.name);this.sequenceFilter.patchValue(a)}else this.sequenceFilter.patchValue(null);else if("subject"===n)if(e.checked){const a=this.subjectList.map(l=>l.name);this.subjectFilter.patchValue(a)}else this.subjectFilter.patchValue(null);else if("contract"===n)if(e.checked){const a=this.typeOfContractList.map(l=>l.value);this.typeOfContractFilter.patchValue(a)}else this.typeOfContractFilter.patchValue(null);else if("intervention"===n)if(e.checked){const a=this.typeOfInterventionList.map(l=>l.value);this.typeOfInterventionFilter.patchValue(a)}else this.typeOfInterventionFilter.patchValue(null)}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,Pt.O)(null),(0,k.b)(()=>{this.getAllTeacherSubjects()})).subscribe()}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(yt.D),t.\u0275\u0275directiveInject(j.e),t.\u0275\u0275directiveInject(M.sK))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-user-details-my-interventions-tab"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(A.NW,7),t.\u0275\u0275viewQuery(T.YE,7)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.sort=a.first)}},inputs:{teacherId:"teacherId"},features:[t.\u0275\u0275NgOnChangesFeature],decls:56,vars:23,consts:[[1,"top-space"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","100%","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","programFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","legalEntityFilter"],["matColumnDef","sequenceFilter"],["matColumnDef","subjectFilter"],["matColumnDef","volumeOfHoursFilter"],["matColumnDef","typeOfContractFilter"],["matColumnDef","hourlyRateFilter"],["matColumnDef","typeOfInterventionFilter"],["matColumnDef","program"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","legalEntity"],["matColumnDef","sequence"],["matColumnDef","subject"],["matColumnDef","volumeOfHours"],["matColumnDef","typeOfContract"],["matColumnDef","hourlyRate"],["matColumnDef","typeOfIntervention"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["mat-header-cell","","colspan","100%",1,"action-header-column","text-right"],[1,"p-grid"],[1,"p-col-12","text-right"],["mat-raised-button","","color","primary",3,"disabled","matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell",""],["bindValue","_id","bindLabel","program",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","clearable","closeOnSelect","formControl","close"],["ng-option-tmp",""],[4,"ngIf"],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],["bindValue","_id","bindLabel","legal_entity_name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","clearable","closeOnSelect","formControl","close"],["bindValue","name","bindLabel","name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","clearable","closeOnSelect","formControl","close"],["bindValue","value","bindLabel","label",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","clearable","closeOnSelect","formControl","close"],["bindValue","value","bindLabel","label",1,"custom-dropdownpanel","custom-panel",3,"items","appendTo","multiple","notFoundText","placeholder","clearable","closeOnSelect","formControl","close"],["mat-header-cell","",3,"matTooltip"],["mat-sort-header","program_name"],["mat-cell","",3,"matTooltip"],["mat-sort-header","legal_entity_name"],["mat-sort-header","sequence_name"],["mat-sort-header","subject_name"],["mat-sort-header","volume_of_hours"],["mat-sort-header","type_of_contract"],["mat-sort-header","hourly_rate"],["mat-sort-header","type_of_intervention_name"],["mat-header-cell","","colspan","100%",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"table",1),t.\u0275\u0275listener("matSortChange",function(l){return n.sortData(l)}),t.\u0275\u0275elementContainerStart(2,2),t.\u0275\u0275template(3,ho,8,7,"th",3),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(4,4),t.\u0275\u0275template(5,fo,6,13,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(6,6),t.\u0275\u0275template(7,xo,6,13,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,7),t.\u0275\u0275template(9,Mo,6,13,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,8),t.\u0275\u0275template(11,Eo,6,13,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,9),t.\u0275\u0275template(13,Do,1,0,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,10),t.\u0275\u0275template(15,Uo,6,13,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,11),t.\u0275\u0275template(17,Ao,1,0,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,12),t.\u0275\u0275template(19,Lo,6,13,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,13),t.\u0275\u0275template(21,Vo,5,6,"th",14),t.\u0275\u0275template(22,Wo,2,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(23,16),t.\u0275\u0275template(24,jo,5,6,"th",14),t.\u0275\u0275template(25,Ko,2,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(26,17),t.\u0275\u0275template(27,zo,5,6,"th",14),t.\u0275\u0275template(28,Ho,2,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(29,18),t.\u0275\u0275template(30,$o,5,6,"th",14),t.\u0275\u0275template(31,qo,2,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(32,19),t.\u0275\u0275template(33,Yo,5,6,"th",14),t.\u0275\u0275template(34,Qo,2,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(35,20),t.\u0275\u0275template(36,Go,5,6,"th",14),t.\u0275\u0275template(37,Xo,4,6,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(38,21),t.\u0275\u0275template(39,Jo,5,6,"th",14),t.\u0275\u0275template(40,Zo,2,2,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(41,22),t.\u0275\u0275template(42,tl,5,6,"th",14),t.\u0275\u0275template(43,el,4,6,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(44,23),t.\u0275\u0275template(45,nl,3,0,"th",24),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(46,il,1,0,"tr",25),t.\u0275\u0275template(47,al,1,0,"tr",25),t.\u0275\u0275template(48,ol,1,0,"tr",25),t.\u0275\u0275template(49,ll,1,1,"tr",26),t.\u0275\u0275template(50,rl,1,1,"tr",27),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(51,sl,3,3,"div",28),t.\u0275\u0275pipe(52,"async"),t.\u0275\u0275elementStart(53,"div",29),t.\u0275\u0275pipe(54,"async"),t.\u0275\u0275element(55,"mat-paginator",30),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(45),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(16,cl)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(17,dl)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(52,12,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,pl,t.\u0275\u0275pipeBind1(54,14,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(20,ml,n.dataCount<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(22,hl)))},dependencies:[r.mk,r.O5,L.lW,Mt.oG,K.Hw,A.NW,H.Ou,T.YE,T.nU,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,ot.gM,f.CheckboxControlValueAccessor,f.NgControlStatus,f.NgModel,f.FormControlDirective,Y.oO,D.w9,D.ir,D.Cm,r.Ov,M.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]  table tr td, [_nghost-%COMP%]  table tr th{border-right:1px solid #545454}[_nghost-%COMP%]  table tr td:nth-child(1), [_nghost-%COMP%]  table tr th:nth-child(1){width:15%;max-width:180px;text-align:left}[_nghost-%COMP%]  table tr td:nth-child(1) ng-select, [_nghost-%COMP%]  table tr th:nth-child(1) ng-select{width:96%;padding-left:8px}[_nghost-%COMP%]  table tr td:nth-child(2), [_nghost-%COMP%]  table tr th:nth-child(2){width:15%;max-width:180px;text-align:left}[_nghost-%COMP%]  table tr td:nth-child(2) ng-select, [_nghost-%COMP%]  table tr th:nth-child(2) ng-select{width:96%;padding-left:8px}[_nghost-%COMP%]  table tr td:nth-child(3), [_nghost-%COMP%]  table tr th:nth-child(3){width:10%;max-width:118px;text-align:left}[_nghost-%COMP%]  table tr td:nth-child(3) ng-select, [_nghost-%COMP%]  table tr th:nth-child(3) ng-select{width:96%;padding-left:8px}[_nghost-%COMP%]  table tr td:nth-child(4), [_nghost-%COMP%]  table tr th:nth-child(4){width:15%;max-width:180px;text-align:left}[_nghost-%COMP%]  table tr td:nth-child(4) ng-select, [_nghost-%COMP%]  table tr th:nth-child(4) ng-select{width:96%;padding-left:8px}[_nghost-%COMP%]  table tr td:nth-child(5), [_nghost-%COMP%]  table tr th:nth-child(5){width:10%;max-width:118px;text-align:right}[_nghost-%COMP%]  table tr td:nth-child(6), [_nghost-%COMP%]  table tr th:nth-child(6){width:10%;max-width:118px;text-align:left}[_nghost-%COMP%]  table tr td:nth-child(6) ng-select, [_nghost-%COMP%]  table tr th:nth-child(6) ng-select{width:96%;padding-left:8px}[_nghost-%COMP%]  table tr td:nth-child(7), [_nghost-%COMP%]  table tr th:nth-child(7){width:10%;max-width:118px;text-align:right}[_nghost-%COMP%]  table tr td:nth-child(8), [_nghost-%COMP%]  table tr th:nth-child(8){width:10%;max-width:118px;text-align:left}[_nghost-%COMP%]  table tr td:nth-child(8) ng-select, [_nghost-%COMP%]  table tr th:nth-child(8) ng-select{width:96%;padding-left:8px}[_nghost-%COMP%]  table thead tr:nth-child(2), [_nghost-%COMP%]  table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]  table thead tr:nth-child(2) th, [_nghost-%COMP%]  table thead tr:nth-child(3) th{color:#fff}[_nghost-%COMP%]  table td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding:10px!important;box-sizing:border-box!important}[_nghost-%COMP%]  table td p{margin-bottom:0}[_nghost-%COMP%]  table td.mat-cell{padding-left:8px}[_nghost-%COMP%]  table th.mat-header-cell:first-of-type, [_nghost-%COMP%]  table td.mat-cell:first-of-type{padding:0}[_nghost-%COMP%]  table th.mat-header-cell:last-of-type, [_nghost-%COMP%]  table td.mat-cell:last-of-type{padding:0}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgba(255,255,255,.7)!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}.custom-filter-table[_ngcontent-%COMP%]     .ng-select{width:90%!important;padding:2px!important;margin:7px 0 0 5px!important}.custom-filter-table-student-type[_ngcontent-%COMP%]     .ng-select{width:85%!important;padding:2px!important;margin:1px 0 0 5px!important}.custom-filter-table-student-status[_ngcontent-%COMP%]     .ng-select{width:85%!important;padding:2px!important;margin:1px 0!important}.custom-filter-table-profile-rate[_ngcontent-%COMP%]     .ng-select{width:85%!important;padding:2px!important;margin:1px 0 0 5px!important}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container{overflow:hidden}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none!important;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent!important;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}  .custom-ngselect-contentspace .ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;width:auto!important}  .custom-ngselect-contentspace .ng-dropdown-panel-items .ng-option{white-space:break-spaces!important}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container{width:12px;height:12px;margin-left:7px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background{background-color:transparent}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-checkmark .mat-checkbox-checkmark-path{stroke:#000!important}  .all-input.mat-checkbox-indeterminate .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-mixedmark{background-color:#000!important}.float-label[_ngcontent-%COMP%]{font-size:.82rem;color:#ffffff78;font-weight:600;position:absolute;top:-3px}  .filterPanel{margin-top:25px!important}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-dropdownpanel .ng-dropdown-header{border-bottom:1px solid #ccc;padding:5px 7px;margin-left:0}  .ng-dropdown-panel.custom-panel{left:auto!important;right:0!important;margin-right:24px}  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:0!important;top:auto!important;padding-bottom:0!important}.text-count[_ngcontent-%COMP%]{display:inline-block;float:left;padding-top:4px!important;padding:0 10px}.horizontal[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#212121}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:50px;background:#eaa11c!important}']}),i})();function ul(i,o){1&i&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"User Type")))}function _l(i,o){if(1&i&&t.\u0275\u0275element(0,"ms-user-details-usertype-tab",12),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("userId",e.userId)}}function fl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-tab",11),t.\u0275\u0275template(1,ul,3,3,"ng-template",4),t.\u0275\u0275template(2,_l,1,1,"ng-template",5),t.\u0275\u0275elementEnd())}function Cl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Identity")))}function bl(i,o){if(1&i&&t.\u0275\u0275element(0,"ms-user-details-identity-tab",13),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("userId",e.userId)("countryCodeList",e.countryCodeList)}}function Ol(i,o){1&i&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Details")))}function xl(i,o){if(1&i&&t.\u0275\u0275element(0,"ms-user-details-teacher-details-parent",12),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("userId",e.userId)}}function yl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-tab",14),t.\u0275\u0275template(1,Ol,3,3,"ng-template",4),t.\u0275\u0275template(2,xl,1,1,"ng-template",5),t.\u0275\u0275elementEnd())}function vl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"NAV.MAILBOX")))}function Tl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",23),t.\u0275\u0275element(1,"i",24),t.\u0275\u0275elementStart(2,"h4"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,1,"MailBox.INBOX")))}function Ml(i,o){if(1&i&&t.\u0275\u0275element(0,"ms-mailbox",25),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("isTeacherCard",!0)("userId",e.userId)}}function Pl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",26),t.\u0275\u0275element(1,"i",24),t.\u0275\u0275elementStart(2,"h4"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,1,"MailBox.CC")))}function wl(i,o){if(1&i&&t.\u0275\u0275element(0,"ms-cc",25),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("isTeacherCard",!0)("userId",e.userId)}}function Sl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",27),t.\u0275\u0275element(1,"i",28),t.\u0275\u0275elementStart(2,"h4"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,1,"MailBox.SENT")))}function El(i,o){if(1&i&&t.\u0275\u0275element(0,"ms-sent",25),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("isTeacherCard",!0)("userId",e.userId)}}function Dl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",29),t.\u0275\u0275element(1,"i",30),t.\u0275\u0275elementStart(2,"h4"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,1,"MailBox.IMPORTANT")))}function Il(i,o){if(1&i&&t.\u0275\u0275element(0,"ms-important",25),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("isTeacherCard",!0)("userId",e.userId)}}function kl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",31),t.\u0275\u0275element(1,"i",32),t.\u0275\u0275elementStart(2,"h4"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,1,"MailBox.DRAFT")))}function Fl(i,o){if(1&i&&t.\u0275\u0275element(0,"ms-draft",25),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("isTeacherCard",!0)("userId",e.userId)}}function Ul(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",33),t.\u0275\u0275element(1,"i",34),t.\u0275\u0275elementStart(2,"h4"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,1,"MailBox.TRASH")))}function Al(i,o){if(1&i&&t.\u0275\u0275element(0,"ms-trash",25),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("isTeacherCard",!0)("userId",e.userId)}}function Bl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-tab-group",16)(1,"mat-tab",17),t.\u0275\u0275template(2,Tl,5,3,"ng-template",4),t.\u0275\u0275template(3,Ml,1,2,"ng-template",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"mat-tab",18),t.\u0275\u0275template(5,Pl,5,3,"ng-template",4),t.\u0275\u0275template(6,wl,1,2,"ng-template",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"mat-tab",19),t.\u0275\u0275template(8,Sl,5,3,"ng-template",4),t.\u0275\u0275template(9,El,1,2,"ng-template",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"mat-tab",20),t.\u0275\u0275template(11,Dl,5,3,"ng-template",4),t.\u0275\u0275template(12,Il,1,2,"ng-template",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"mat-tab",21),t.\u0275\u0275template(14,kl,5,3,"ng-template",4),t.\u0275\u0275template(15,Fl,1,2,"ng-template",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"mat-tab",22),t.\u0275\u0275template(17,Ul,5,3,"ng-template",4),t.\u0275\u0275template(18,Al,1,2,"ng-template",5),t.\u0275\u0275elementEnd()())}function Nl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-tab",15),t.\u0275\u0275template(1,vl,3,3,"ng-template",4),t.\u0275\u0275template(2,Bl,19,0,"ng-template",5),t.\u0275\u0275elementEnd())}function Rl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"DOCUMENT.DOCUMENTS")))}function Ll(i,o){if(1&i&&t.\u0275\u0275element(0,"ms-teacher-document-tab",36),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("teacherId",e.userId)}}function Vl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-tab",35),t.\u0275\u0275template(1,Rl,3,3,"ng-template",4),t.\u0275\u0275template(2,Ll,1,1,"ng-template",5),t.\u0275\u0275elementEnd())}function Wl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Required Documents")))}function jl(i,o){if(1&i&&t.\u0275\u0275element(0,"ms-user-details-required-documents-tab",38),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("userData",e.selectedUserData)("userId",e.userId)}}function Kl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-tab",37),t.\u0275\u0275template(1,Wl,3,3,"ng-template",4),t.\u0275\u0275template(2,jl,1,2,"ng-template",5),t.\u0275\u0275elementEnd())}function zl(i,o){1&i&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"INTERVENTIONS_TAB.LABEL")))}function Hl(i,o){if(1&i&&t.\u0275\u0275element(0,"ms-user-details-my-interventions-tab",36),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("teacherId",e.userId)}}function $l(i,o){1&i&&(t.\u0275\u0275elementStart(0,"mat-tab",39),t.\u0275\u0275template(1,zl,3,3,"ng-template",4),t.\u0275\u0275template(2,Hl,1,1,"ng-template",5),t.\u0275\u0275elementEnd())}let ql=(()=>{class i{constructor(e,n,a,l){this.rncpTitleService=e,this.translate=n,this.countryService=a,this.utilService=l,this.selectedIndex=0,this.subs=new F.Y,this.countryCodeList=[]}ngOnInit(){this.selectedIndex="details"===this.tab?1:0,this.getAllCountryCodes(),this.subs.sink=this.translate.onLangChange.subscribe(()=>{this.sortCountryCode()})}sortCountryCode(){this.countryCodeList=this.countryCodeList.sort((e,n)=>this.utilService.simplifyRegex(this.translate.instant(e?.name))<this.utilService.simplifyRegex(this.translate.instant(n?.name))?-1:this.utilService.simplifyRegex(this.translate.instant(e?.name))>this.utilService.simplifyRegex(this.translate.instant(n?.name))?1:0)}ngAfterViewInit(){this.tabs._handleClick=this.checkIfAnyChildrenFormInvalid.bind(this)}checkIfAnyChildrenFormInvalid(e,n,a){return this.rncpTitleService.childrenFormValidationStatus?it.SP.prototype._handleClick.apply(this.tabs,[e,n,a]):this.fireUnsavedDataWarningSwal(e,n,a)}getAllCountryCodes(){this.countryCodeList=this.countryService?.getAllCountriesNationality()}fireUnsavedDataWarningSwal(e,n,a){c().fire({type:"warning",title:this.translate.instant("TMTC_S01.TITLE"),text:this.translate.instant("TMTC_S01.TEXT"),confirmButtonText:this.translate.instant("TMTC_S01.BUTTON_1"),showCancelButton:!0,cancelButtonText:this.translate.instant("TMTC_S01.BUTTON_2"),allowEscapeKey:!1,allowOutsideClick:!1}).then(l=>!l.value&&(l.dismiss?(this.rncpTitleService.childrenFormValidationStatus=!0,it.SP.prototype._handleClick.apply(this.tabs,[e,n,a])):void 0))}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(St.r),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(kt.T),t.\u0275\u0275directiveInject(_t.t))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-user-details-parent-tabs"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(it.SP,7),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.tabs=a.first)}},inputs:{userId:"userId",selectedUserData:"selectedUserData",isTeacherList:"isTeacherList",tab:"tab"},decls:11,vars:7,consts:[[3,"selectedIndex","selectedIndexChange"],["candidateMatGroup",""],["label","user_type",4,"ngIf"],["label","indentity"],["mat-tab-label",""],["matTabContent",""],["label","details",4,"ngIf"],["label","mailbox",4,"ngIf"],["label","Documents",4,"ngIf"],["label","RequiredDocuments",4,"ngIf"],["label","MyInterventions",4,"ngIf"],["label","user_type"],[3,"userId"],[3,"userId","countryCodeList"],["label","details"],["label","mailbox"],[1,"mailbox"],["label","Inbox"],["label","Cc"],["label","Sent"],["label","Important"],["label","Draft"],["label","Trash"],[1,"inbox-tab"],[1,"fa","fa-inbox"],[3,"isTeacherCard","userId"],[1,"cc-tab"],[1,"sent-tab"],[1,"fa","fa-paper-plane"],[1,"important-tab"],[1,"fa","fa-hand-paper-o"],[1,"draft-tab"],[1,"fa","fa-archive"],[1,"trash-tab"],[1,"fa","fa-trash"],["label","Documents"],[3,"teacherId"],["label","RequiredDocuments"],[3,"userData","userId"],["label","MyInterventions"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"mat-tab-group",0,1),t.\u0275\u0275listener("selectedIndexChange",function(l){return n.selectedIndex=l}),t.\u0275\u0275template(2,fl,3,0,"mat-tab",2),t.\u0275\u0275elementStart(3,"mat-tab",3),t.\u0275\u0275template(4,Cl,3,3,"ng-template",4),t.\u0275\u0275template(5,bl,1,2,"ng-template",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,yl,3,0,"mat-tab",6),t.\u0275\u0275template(7,Nl,3,0,"mat-tab",7),t.\u0275\u0275template(8,Vl,3,0,"mat-tab",8),t.\u0275\u0275template(9,Kl,3,0,"mat-tab",9),t.\u0275\u0275template(10,$l,3,0,"mat-tab",10),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275property("selectedIndex",n.selectedIndex),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.isTeacherList),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",n.isTeacherList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isTeacherList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isTeacherList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isTeacherList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isTeacherList))},dependencies:[r.O5,it.SP,it.uD,it.uX,it.Vc,Ft.C,Ut.R,At.M,lt.p,Bt.T,y.l,Ue,fn,ti,$i,mo,gl,M.X$],styles:[".mat-tab-group[_ngcontent-%COMP%]{margin-top:20px}[_nghost-%COMP%]  .mat-tab-group.mailbox{margin-top:1rem}[_nghost-%COMP%]  .mat-tab-group.mailbox .mat-tab-header{font-size:.9em}[_nghost-%COMP%]  .mat-tab-group.mailbox .mat-tab-label{padding:0!important}[_nghost-%COMP%]  .mat-tab-group.mailbox .mat-tab-label h4{font-size:13px;margin:0}[_nghost-%COMP%]  .mat-tab-group.mailbox .mat-tab-label-active{box-shadow:unset;border:unset}[_nghost-%COMP%]  .mat-tab-group.mailbox .mat-card{margin-top:5%}[_nghost-%COMP%]  .mat-tab-group.mailbox .fa{margin-right:15px}[_nghost-%COMP%]  .mat-tab-group.mailbox .inbox-tab{width:150px;height:48px;display:flex;justify-content:center;align-items:center;border-left:8px solid #009846}[_nghost-%COMP%]  .mat-tab-group.mailbox .cc-tab{width:150px;height:48px;display:flex;justify-content:center;align-items:center;border-left:8px solid white}[_nghost-%COMP%]  .mat-tab-group.mailbox .sent-tab{width:150px;height:48px;display:flex;justify-content:center;align-items:center;border-left:8px solid #846573}[_nghost-%COMP%]  .mat-tab-group.mailbox .important-tab{width:150px;height:48px;display:flex;justify-content:center;align-items:center;border-left:8px solid #e51a4b}[_nghost-%COMP%]  .mat-tab-group.mailbox .draft-tab{width:150px;height:48px;display:flex;justify-content:center;align-items:center;border-left:8px solid #ffed00}[_nghost-%COMP%]  .mat-tab-group.mailbox .trash-tab{width:150px;height:48px;display:flex;justify-content:center;align-items:center;border-left:8px solid #d9dada}"]}),i})();const Yl=["candidateMatGroup"],Ql=["admissionStatus"];function Gl(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"div",24)(1,"mat-icon"),t.\u0275\u0275text(2,"business"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"span"),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",null==e.user?null:e.user.office_phone," ")}}function Xl(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"div",24)(1,"mat-icon"),t.\u0275\u0275text(2,"phone_iphone"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"span"),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2("",null!=e.user&&e.user.phone_number_indicative?"+"+(null==e.user?null:e.user.phone_number_indicative):"","",null==e.user?null:e.user.portable_phone,"")}}function Jl(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"div",25)(1,"mat-icon"),t.\u0275\u0275text(2,"email"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"span"),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",null==e.user?null:e.user.email," ")}}function Zl(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",26)(1,"div",15)(2,"div",27),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.downloadCV())}),t.\u0275\u0275elementStart(3,"mat-icon"),t.\u0275\u0275text(4,"file_download "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"span",28),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()()()()}2&i&&(t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(7,1,"Download CV"),""))}const tr=function(i){return{"p-col-4":!0,"no-padding":!0,"right-border":i}};function er(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12),t.\u0275\u0275element(4,"img",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",14)(6,"div",15)(7,"div",16)(8,"div",15)(9,"div",17),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275pipe(12,"uppercase"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(13,"div",16)(14,"div",15)(15,"div",18),t.\u0275\u0275text(16),t.\u0275\u0275elementEnd()()()()()()(),t.\u0275\u0275elementStart(17,"div",19)(18,"div",20),t.\u0275\u0275template(19,Gl,5,1,"div",21),t.\u0275\u0275template(20,Xl,5,2,"div",21),t.\u0275\u0275template(21,Jl,5,1,"div",22),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(22,Zl,8,3,"div",23),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(4),t.\u0275\u0275property("src",e.user.profile_picture?e.serverimgPath+e.user.profile_picture:"MR"===e.user.civility?e.maleCandidateIcon:"neutral"===(null==e.user?null:e.user.civility)?e.neutralStudentIcon:e.femaleCandidateIcon,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate3(" ",null!=e.user&&e.user.civility&&"neutral"===(null==e.user?null:e.user.civility)?"":t.\u0275\u0275pipeBind1(11,10,null==e.user?null:e.user.civility)," ",null==e.user?null:e.user.first_name," ",t.\u0275\u0275pipeBind1(12,12,null==e.user?null:e.user.last_name)," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",null==e.user?null:e.user.position," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(14,tr,!(null==e.user||null==e.user.curriculum_vitae||!e.user.curriculum_vitae.s3_path))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.user?null:e.user.office_phone),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.user?null:e.user.portable_phone),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.user?null:e.user.email),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.user||null==e.user.curriculum_vitae?null:e.user.curriculum_vitae.s3_path)}}function nr(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",3),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.connectAsUser(a.user))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",29),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Connect as the User"))}function ir(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",30),t.\u0275\u0275element(1,"mat-progress-spinner",31),t.\u0275\u0275elementEnd())}let ar=(()=>{class i{constructor(e,n,a,l,s,h,m,C,O,P){this.candidateService=e,this.dialog=n,this.translate=a,this.userService=l,this.usersService=s,this.authService=h,this.utilService=m,this.router=C,this.ngxPermissionService=O,this.userMgtService=P,this.serverimgPath=`${Ct.a.baseApi}/fileuploads/`.replace("/graphql",""),this.reload=new t.EventEmitter,this.loading=new t.EventEmitter,this.user={},this.isWaitingForResponse=!0,this.subs=new F.Y,this.tabs={"note-tab":"Add a Note","history-tab":"Candidate history","edit-tab":"Modifications","evolution-tab":"Evolution"},this.maleCandidateIcon="../../../../../assets/img/student_icon.png",this.femaleCandidateIcon="../../../../../assets/img/student_icon_fem.png",this.neutralStudentIcon="../../../../../assets/img/student_icon_neutral.png",this.userProfilePic="../../../../../assets/img/user-1.jpg",this.userProfilePic1="../../../../../assets/img/user-3.jpg",this.userProfilePic2="../../../../../assets/img/user-5.jpg",this.greenHeartIcon="../../../../../assets/img/enagement_icon_green.png",this.selectedIndex=0,this.userData=[],this.personalSituation=!1,this.restrictiveCondition=!1,this.studentStatusList=[],this.listStatusAdmitted=[{value:"resign",key:"Resign"}],this.listStatusEngaged=[{value:"resigned_after_engaged",key:"Resign after engaged"}],this.listStatusRegistered=[{value:"resigned_after_registered",key:"Resign after registered"}]}ngOnInit(){const e=this.authService.getLocalStorageUser(),n=this.authService.getPermission(),a=e?.entities?.find(l=>l?.type?.name===n[0]);this.currentUserTypeId=a?.type?._id,this.moveToTab(this.tab),this.setupRefreshListener()}ngAfterViewInit(){this.moveToTab(this.tab)}ngOnChanges(){this.isWaitingForResponse=!0,this.getOneUser(),this.currentUser=this.authService.getCurrentUser()}setupRefreshListener(){this.subs.sink=this.userMgtService.refresh.subscribe(e=>{e&&this.getOneUser()})}getOneUser(){this.isWaitingForResponse=!0,this.subs.sink=this.userService.getOneUserCardDetail(this.userId).subscribe(e=>{this.isWaitingForResponse=!1,e&&(this.user=e)},e=>{this.authService.postErrorLog(e),this.isWaitingForResponse=!1,e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}ngOnDestroy(){this.subs.unsubscribe()}moveToTab(e){if(e)switch(e){case"Identity":this.selectedIndex=2;break;case"Contact":this.selectedIndex=3;break;default:this.selectedIndex=0}}nextStep(e){e&&this.moveToTab(e)}reloadData(e){e&&(this.getOneUser(),this.reload.emit(!0))}loadingData(e){this.loading.emit(e)}downloadCV(){const e=this.user.curriculum_vitae?this.user.curriculum_vitae.s3_path:null;if(e){const n=document.createElement("a");n.target="_blank",n.href=`${pt.N.apiUrl}/fileuploads/${e}?download=true`.replace("/graphql",""),n.click(),n.remove()}}connectAsUser(e){const n=this.utilService.getCurrentUser(),l=(p.uniqBy(e.entities,"type.name"),p.uniqBy(e.entities,"entity_name")),s=p.uniqBy(e.entities,"type._id");l&&l.length&&"academic"===l[0].entity_name&&(p.uniqBy(e.entities,"school_type"),p.uniqBy(e.entities,"school._id")),this.isWaitingForResponse=!0,this.backupUser=JSON.parse(localStorage.getItem("backupUser")),this.backupUser?(this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("ConnectAs.Title"),html:this.translate.instant("ConnectAs.Text"),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("ConnectAs.Button")})):"61dd3ccff647127fd6bf65d7"===s?(this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("ConnectAs.Under Construction"),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("ConnectAs.Button")})):(this.getUserTableColumnSettings(e?._id),this.subs.sink=this.authService.loginAsUser(n._id,e._id).subscribe(C=>{this.isWaitingForResponse=!1,C&&c().fire({type:"success",title:this.translate.instant("SUCCESS"),html:this.translate.instant("USER_S7_SUPERUSER.TEXT",{UserCivility:"neutral"!==e.civility?this.translate.instant(e.civility):"",UserFirstName:e.first_name,UserLastName:e.last_name}),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("UNDERSTOOD")}).then(O=>{this.authService.backupLocalUserProfileAndToken();const P=p.cloneDeep(C),w=p.cloneDeep(C),G=this.utilService.setDataProgram(w.user.entities);w.user.entities=this.utilService.mergeHierarchyPermission(p.cloneDeep(w.user.entities));const z=this.utilService.sortEntitiesByHierarchy(w.user.entities),tt=w.user;tt.entities=z,tt.app_data=G,P.user=tt;const rt=[];z&&z.length>0&&z.forEach(X=>{console.log("UserType name : ",X.type.name),rt.push(X.type._id)}),this.authService.setLocalUserProfileAndToken(P),this.authService.setPermission([z[0].type.name]),this.ngxPermissionService.flushPermissions(),this.ngxPermissionService.loadPermissions([z[0].type.name]),this.usersService.reloadCurrentUser(!0);const et=["6278e02eb97bfb30674e76b0","6278e027b97bfb30674e76af","5fe98eeadb866c403defdc6c"];rt.findIndex(X=>et.includes(X))<0?this.router.navigate(["/home"]):this.router.navigate(["/mailbox/inbox"])})},C=>{this.authService.postErrorLog(C),C&&C.message&&C.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):"GraphQL error: you cannot logged in as this user"===C.message?c().fire({type:"info",title:this.translate.instant("SWAL_CONNECTAS.TITLE"),html:this.translate.instant("SWAL_CONNECTAS.TEXT"),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("SWAL_CONNECTAS.BUTTON")}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:C&&C.message?this.translate.instant(C.message.replaceAll("GraphQL error: ","")):C,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}getUserTableColumnSettings(e){e&&(this.subs.sink=this.authService.GetUserTableColumnSettings(e).subscribe(n=>{n&&n?.length&&localStorage.setItem("templateTable",JSON.stringify(n))},n=>{c().fire({type:"info",title:"Warning",text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}sendMail(e){this.mailUser=this.dialog.open(Ot.y,{disableClose:!0,width:"750px",data:e})}sendReminderRegistration(e){"active"!==e.user_status?(this.isWaitingForResponse=!0,this.subs.sink=this.userService.sendReminderUserN1(this.translate.currentLang,e._id,this.currentUserTypeId).subscribe(n=>{this.isWaitingForResponse=!1,console.log(n),c().fire({type:"success",title:this.translate.instant("Bravo !"),text:this.translate.instant("Email Sent")})},n=>{this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})):c().fire({type:"info",title:this.translate.instant("User_Registered_S1.TITLE"),text:this.translate.instant("User_Registered_S1.TEXT")})}openWhatsapp(e){const n="https://api.whatsapp.com/send?phone="+e.telephone+"&text=",a=this.translate.instant("whatsapp message",{name:e.first_name,dev:`${this.translate.instant(this.currentUser.civility)} ${this.currentUser.first_name} ${this.currentUser.last_name}`,position:e.position?e.position:""});window.open(n+a,"_blank")}callCandidates(e){}sendUrgentMail(e){this.studentUrgentMailDialog=this.dialog.open(dt.K,{disableClose:!0,width:"750px",data:e})}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(bt.o),t.\u0275\u0275directiveInject(S.uw),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(gt.f),t.\u0275\u0275directiveInject(xt.K),t.\u0275\u0275directiveInject(j.e),t.\u0275\u0275directiveInject(_t.t),t.\u0275\u0275directiveInject(W.F0),t.\u0275\u0275directiveInject(wt.YI),t.\u0275\u0275directiveInject(st.x))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-user-details"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(Yl,5),t.\u0275\u0275viewQuery(Ql,5)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.candidateMatGroup=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.matMenuTrigger=a.first)}},inputs:{userId:"userId",selectedUserData:"selectedUserData",tab:"tab",isTeacherList:"isTeacherList"},outputs:{reload:"reload",loading:"loading"},features:[t.\u0275\u0275NgOnChangesFeature],decls:27,vars:22,consts:[["class","student-detail p-grid",4,"ngIf"],[1,"actions","p-grid",2,"text-align","center"],["mat-icon-button","","class","margin-right-button",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"margin-right-button",3,"matTooltip","click"],[1,"material-icons","icon",2,"font-size","18px"],[1,"material-icons","icon"],["svgIcon","email-send-outline",1,"material-icons","icon",2,"font-size","18px"],[3,"selectedUserData","userId","isTeacherList","tab"],["class","loading-indicator",4,"ngIf"],[1,"student-detail","p-grid"],[1,"right-border","p-col-5","no-padding"],[1,"p-grid",2,"align-items","flex-start"],[1,"student-photo","icon","p-col-fixed"],[1,"candidate-photo",2,"cursor","pointer","object-fit","cover",3,"src"],[1,"p-col"],[1,"p-grid"],[1,"p-col-12","no-padding"],[1,"identity","p-col-7"],[1,"name","p-col-7"],[3,"ngClass"],[1,"p-grid","contact-information"],["class","phone p-col-12",4,"ngIf"],["class","school-email p-col-12",4,"ngIf"],["class","third-section p-col-3",4,"ngIf"],[1,"phone","p-col-12"],[1,"school-email","p-col-12"],[1,"third-section","p-col-3"],[1,"download-cv","p-col-12",3,"click"],[1,"label"],["svgIcon","incognito",1,"material-icons","icon",2,"font-size","18px"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-card"),t.\u0275\u0275template(2,er,23,16,"div",0),t.\u0275\u0275elementStart(3,"div",1),t.\u0275\u0275template(4,nr,3,3,"button",2),t.\u0275\u0275elementStart(5,"button",3),t.\u0275\u0275listener("click",function(){return n.sendMail(n.user)}),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementStart(7,"mat-icon",4),t.\u0275\u0275text(8," send "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"button",3),t.\u0275\u0275listener("click",function(){return n.openWhatsapp(n.user)}),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementStart(11,"mat-icon",4),t.\u0275\u0275text(12," sms "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(13,"button",3),t.\u0275\u0275listener("click",function(){return n.callCandidates(n.user)}),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementStart(15,"mat-icon",4),t.\u0275\u0275text(16," call "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(17,"button",3),t.\u0275\u0275listener("click",function(){return n.sendUrgentMail(n.user)}),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementStart(19,"mat-icon",5),t.\u0275\u0275text(20," bolt "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(21,"button",3),t.\u0275\u0275listener("click",function(){return n.sendReminderRegistration(n.user)}),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275element(23,"mat-icon",6),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerStart(24),t.\u0275\u0275element(25,"ms-user-details-parent-tabs",7),t.\u0275\u0275elementContainerEnd()(),t.\u0275\u0275template(26,ir,2,0,"div",8)),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.user),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.isTeacherList),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(6,12,"Send an email")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(10,14,"SMS")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(14,16,"Call")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(18,18,"Urgent Message")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(22,20,"Send Registration Email")),t.\u0275\u0275advance(4),t.\u0275\u0275property("selectedUserData",n.selectedUserData)("userId",n.userId)("isTeacherList",n.isTeacherList)("tab",n.tab),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[r.mk,r.O5,L.lW,$.a8,K.Hw,H.Ou,ot.gM,Y.oO,ql,r.gd,M.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]  .mat-card{border:1px solid #607C8A}[_nghost-%COMP%]  .mat-tab-group{margin-top:1rem}[_nghost-%COMP%]  .mat-tab-group .mat-tab-header{font-size:.9em}[_nghost-%COMP%]  .mat-tab-group .mat-tab-label h4{font-size:13px}[_nghost-%COMP%]  .mat-tab-group .mat-tab-label-active{box-shadow:unset;border:unset}[_nghost-%COMP%]  .mat-tab-group .mat-card{margin-top:5%}img[_ngcontent-%COMP%]{height:130px}.student-detail[_ngcontent-%COMP%]{font-size:.8rem}.student-detail[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:.5em}.student-detail[_ngcontent-%COMP%]   .student-photo[_ngcontent-%COMP%]{width:130px!important;vertical-align:middle}.student-detail[_ngcontent-%COMP%]   .right-border[_ngcontent-%COMP%]{border-right:solid}.student-detail[_ngcontent-%COMP%]   .identity[_ngcontent-%COMP%]{font-size:18px}.student-detail[_ngcontent-%COMP%]   .contact-information[_ngcontent-%COMP%]{padding-top:1em;padding-left:1em!important}.student-detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:top;margin-left:1em}.download-cv[_ngcontent-%COMP%]{cursor:pointer}.download-cv[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .download-cv[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{transition:all .5s}.download-cv[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%], .download-cv[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%]{color:gray}.yellow[_ngcontent-%COMP%]{color:#ffd740}.orange[_ngcontent-%COMP%]{color:#f49f36}.blue[_ngcontent-%COMP%]{color:#36ebf4}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.magenta[_ngcontent-%COMP%]{color:#f0f}.black[_ngcontent-%COMP%]{color:#000}.cyan[_ngcontent-%COMP%]{color:#0ff}.green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#adff2f}.red-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#ff4040}.candidate-photo[_ngcontent-%COMP%]{border-radius:50%;width:100%}.mat-icon-status[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:middle;padding-right:0;width:14px}.status[_ngcontent-%COMP%]{font-size:12px;color:#26abeb;font-weight:900;cursor:pointer}.status[_ngcontent-%COMP%]:hover{text-decoration:underline}.status-disabled[_ngcontent-%COMP%]{font-size:12px;color:#26abeb;font-weight:900}.actions[_ngcontent-%COMP%]{text-align:center;display:flex;justify-content:center;padding-top:1rem;padding-left:15%}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em}button.margin-right-button.mat-icon-button[_ngcontent-%COMP%]{background:#607d8b;font-size:10px}"]}),i})();function or(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"ms-user-details",18),t.\u0275\u0275listener("reload",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.reload(a))})("loading",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.loadingCommentTab(a))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("tab",e.tab)("userId",e.currSelectedUserId)("selectedUserData",e.currSelectedUser)("isTeacherList",e.isTeacherList)}}function lr(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275element(1,"mat-progress-spinner",20),t.\u0275\u0275elementEnd())}const rr=function(i){return{"toggle-card-list":i}},sr=function(i){return{"hide-paginator":i}},cr=function(i){return{"hide-pagination-buttons":i}},dr=function(){return[10]};let qt=(()=>{class i{constructor(e,n,a,l,s,h,m){this.route=e,this.pageTitleService=n,this.translate=a,this.coreService=l,this.usersService=s,this.userMgtService=h,this.userService=m,this.toggleCardList=!1,this.isWaitingForResponse=!0,this.selectedMentor=null,this.selectedAdmissionMember=null,this.admissionMemberList=[],this.dataCount=0,this.mentorList=[],this.campusList=[],this.schoolsList=[],this.levelList=[],this.listObjective=[],this.levels=[],this.school=[],this.intakeChannelList=[],this.admissionMemberFilter=new f.UntypedFormControl(""),this.mentorFilter=new f.UntypedFormControl(""),this.campusFilter=new f.UntypedFormControl(null),this.schoolFilter=new f.UntypedFormControl(null),this.userFilter=new f.UntypedFormControl(""),this.intakeChannelFilter=new f.UntypedFormControl(""),this.searchByNameFilter=new f.UntypedFormControl(""),this.myInnerHeight=1920,this.currSelectedUserId="",this.userList=[],this.tab="",this.filteredValues={last_name:null,school:null,campus:null,title:null,user_type:null,entity:null,user_status:null,isForTeacherCard:null},this.isFirstLoad=!0,this.isReset=!1,this.sortValue=null,this.subs=new F.Y,this.maleCandidateIcon="../../../../../assets/img/student_icon.png",this.femaleCandidateIcon="../../../../../assets/img/student_icon_fem.png",this.neutralStudentIcon="../../../../../assets/img/student_icon_neutral.png",this.userProfilePic="../../../../../assets/img/user-1.jpg",this.userProfilePic1="../../../../../assets/img/user-3.jpg",this.userProfilePic2="../../../../../assets/img/user-5.jpg",this.greenHeartIcon="../../../../../assets/img/enagement_icon_green.png",this.isUserList=!1,this.isTeacherList=!1}ngOnInit(){this.isPermission=this.userService.getPermission(),this.currentUser=this.userService.getLocalStorageUser();const e=this.currentUser?.entities?.find(n=>n?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id,this.route.queryParams.subscribe(n=>{let a;this.sortValue=n.sortValue||null,this.tab=n.tab,this.route.url.subscribe(l=>{a=l[0].path}),"teacher-list"===a?this.isTeacherList=!0:this.isUserList=!0,n.user?this.getOneUser(n.user):n.teacherId?this.getOneUser(n.teacherId):this.getAllUsers(),this.updatePageTitle(),this.initFilter(),this.getDataForList(),this.coreService.sidenavOpen=!1})}updatePageTitle(){const e=this.isTeacherList?"Teacher Card":"User Card";this.pageTitleService.setTitle(this.translate.instant(e)),this.subs.sink=this.translate.onLangChange.subscribe(n=>{this.pageTitleService.setTitle(this.translate.instant(e))})}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,k.b)(()=>{this.isFirstLoad||this.getAllUsers()})).subscribe()}ngOnDestroy(){this.subs.unsubscribe()}getAutomaticHeight(){return this.myInnerHeight=window.innerHeight-231,this.myInnerHeight}getCardHeight(){return this.myInnerHeight=window.innerHeight-263,this.myInnerHeight}initFilter(){this.subs.sink=this.schoolFilter.valueChanges.subscribe(e=>{this.filteredValues.campus="",this.filteredValues.school=""===e?"":e,this.paginator.pageIndex=0,this.isReset||this.getAllUsers()}),this.subs.sink=this.campusFilter.valueChanges.subscribe(e=>{this.filteredValues.campus=""===e?"":e,this.paginator.pageIndex=0,this.isReset||this.getAllUsers()}),this.subs.sink=this.userFilter.valueChanges.pipe((0,B.b)(400)).subscribe(e=>{""===e?(this.filteredValues.last_name="",this.getAllUsers()):(this.filteredValues.last_name="All"===e?"":e,this.paginator.pageIndex=0,this.isReset||this.getAllUsers())})}getOneUser(e){this.isWaitingForResponse=!0,e&&(this.userIdFromTable=e,this.currSelectedUserId=e),this.subs.sink=this.usersService.getOneUserForCardList(e).subscribe(n=>{this.isWaitingForResponse=!1,this.userList.unshift(n),this.backupUserParam=n,this.getAllUsers(!0)},n=>{this.userService.postErrorLog(n),this.isWaitingForResponse=!1,n&&n.message&&n.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getAllUsers(e=!1){this.isWaitingForResponse=!0;const n={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},l=(this.cleanFilterData(),this.getStringFormatOfFilteredValue()),s={school:p.cloneDeep(this.filteredValues.school),campus:p.cloneDeep(this.filteredValues.campus),last_name:p.cloneDeep(this.filteredValues.last_name)},h=!!Object.keys(s).filter(m=>s[m])?.length;this.subs.sink=this.usersService.getAllUserForCardList(n,this.sortValue,l).subscribe(m=>{m&&m.length?(e?(this.userList.push(m),this.userList=[].concat(...this.userList)):this.userList=p.cloneDeep(m),h&&s?.last_name&&(this.currSelectedUserId=this.userList[0]?._id),0===this.paginator?.pageIndex&&this.backupUserParam&&!h&&(this.userList[0]?._id!==this.backupUserParam?._id&&this.userList.unshift(this.backupUserParam),this.currSelectedUserId===this.userIdFromTable&&(this.currSelectedUser=this.userList[0],this.currSelectedUserId=this.currSelectedUser?._id||null)),this.paginator?.pageIndex>0&&(this.userList=this.userList.filter(C=>C?._id!==this.backupUserParam?._id)),this.userList=p.uniqBy([...this.userList],"_id"),this.paginator.length=m[0].count_document,this.dataCount=m&&m.length>0&&m[0].count_document?m[0].count_document:0):(this.userList=[],this.paginator.length=0),this.isFirstLoad=!1,this.isReset=!1,this.isWaitingForResponse=!1},m=>{this.userService.postErrorLog(m),this.isWaitingForResponse=!1,this.userList=[],this.paginator.length=0,this.isReset=!1,m&&m.message&&m.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:m&&m.message?this.translate.instant(m.message.replaceAll("GraphQL error: ","")):m,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getStringFormatOfFilteredValue(){this.isTeacherList&&(this.filteredValues.entity="academic",this.filteredValues.user_type=["61dd3ccff647127fd6bf65d7"],this.filteredValues.isForTeacherCard=!0);let e="";return e+=this.filteredValues.last_name?`last_name : "${this.filteredValues.last_name}"`:"",e+=this.filteredValues.user_type?`user_type: "${this.filteredValues.user_type}"`:"",e+=this.filteredValues.school?`school: "${this.filteredValues.school}"`:"",e+=this.filteredValues.campus?`campuses: ["${this.filteredValues.campus}"]`:"",e+=this.filteredValues.title?`title: "${this.filteredValues.title}"`:"",e+=this.filteredValues.entity?`entity: ${this.filteredValues.entity}`:"",e+=this.filteredValues.user_status?` user_status: ${this.filteredValues.user_status}`:"",e+=this.filteredValues.isForTeacherCard?` isForTeacherCard: ${this.filteredValues.isForTeacherCard}`:"",e}cleanFilterData(){const e=p.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(a=>{(e[a]||!1===e[a])&&(n+=` ${a}:${e[a]}`)}),"filter: {"+n+"}"}updatedSelectedUser(e){this.currSelectedUserId=null,this.currSelectedUserId=e;const n=this.userList.filter(a=>e===a._id);this.currSelectedUser=n[0]}resetUsers(){this.isReset=!0,this.paginator.pageIndex=0,this.levels=[],this.campusList=[],this.filteredValues={last_name:null,school:null,campus:null,title:null,user_type:this.isTeacherList?["61dd3ccff647127fd6bf65d7"]:null,entity:this.isTeacherList?"academic":null,isForTeacherCard:!!this.isTeacherList||null,user_status:null},this.userFilter.setValue("",{emitEvent:!1}),this.schoolFilter.setValue(null,{emitEvent:!1}),this.campusFilter.setValue(null,{emitEvent:!1}),this.sortValue=null,this.getAllUsers()}reload(e){e&&this.getAllUsers()}loadingCommentTab(e){this.isWaitingForResponse=e}getDataForList(e){this.subs.sink=this.userMgtService.GetAllSchoolFilter(`filter: { scholar_season_id:"${e||""}"}`,this.currentUserTypeId).subscribe(l=>{l&&(this.listObjective=l,this.school=this.listObjective,l?.length&&(this.school=this.school.sort((s,h)=>s.short_name.localeCompare(h.short_name))),this.getDataCampus())},l=>{this.userService.postErrorLog(l),l&&l.message&&l.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDataCampus(){if(this.levels=[],this.campusList=[],this.campusFilter.value&&this.campusFilter.setValue(null),this.schoolFilter.value){const e=this.schoolFilter.value;this.listObjective.filter(a=>e.includes(a._id)).filter((a,l)=>{a.campuses&&a.campuses.length&&a.campuses.filter((s,h)=>{this.campusList.push(s)})})}else this.campusList=[];this.campusList=p.uniqBy(this.campusList,"name"),this.campusList?.length&&(this.campusList=this.campusList.sort((e,n)=>e.name.localeCompare(n.name)))}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(W.gz),t.\u0275\u0275directiveInject(J.Z),t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(ft.p),t.\u0275\u0275directiveInject(gt.f),t.\u0275\u0275directiveInject(st.x),t.\u0275\u0275directiveInject(j.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-user-management-detail"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(A.NW,7),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first)}},decls:29,vars:51,consts:[[1,"main-candidate-file"],[1,"header-filter","list-horizontal","flex-layout-row-wrap"],["bindLabel","short_name","bindValue","_id",1,"mrgn-btn","custom-ngselect-content",2,"padding-top","3px","width","200px","margin-right","15px",3,"items","multiple","placeholder","formControl","change"],["bindLabel","name","bindValue","_id",1,"mrgn-btn","custom-ngselect-content",2,"padding-top","3px","width","200px","margin-right","15px",3,"items","multiple","placeholder","formControl"],[2,"width","165px"],["type","text","matInput","",3,"placeholder","formControl"],["mat-raised-button","","color","primary",2,"margin-top","10px","margin-left","10px",3,"matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-raised-button","","color","primary",1,"user-list-toggle",3,"click"],[1,"p-grid",2,"padding-top","10px"],[1,"p-col-4","left-side",3,"ngClass"],[3,"userList","isTeacherList","selectedUserId","selectedUserChange"],[1,"p-grid","display-block","space-top",3,"ngClass"],[1,"p-col-12","pad-x-none"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],[1,"p-col","right-side"],[4,"ngIf"],["class","loading-indicator",4,"ngIf"],[3,"tab","userId","selectedUserData","isTeacherList","reload","loading"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementContainerStart(0,0)(1),t.\u0275\u0275elementStart(2,"div",1)(3,"ng-select",2),t.\u0275\u0275listener("change",function(){return n.getDataCampus()}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(5,"ng-select",3),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementStart(7,"mat-form-field",4),t.\u0275\u0275element(8,"input",5),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"button",6),t.\u0275\u0275listener("click",function(){return n.resetUsers()}),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementStart(12,"mat-icon",7),t.\u0275\u0275text(13,"loop"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementStart(16,"button",8),t.\u0275\u0275listener("click",function(){return n.toggleCardList=!n.toggleCardList}),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerStart(19),t.\u0275\u0275elementStart(20,"div",9)(21,"div",10)(22,"ms-user-cards",11),t.\u0275\u0275listener("selectedUserChange",function(l){return n.updatedSelectedUser(l)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(23,"div",12)(24,"div",13),t.\u0275\u0275element(25,"mat-paginator",14),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(26,"div",15),t.\u0275\u0275template(27,or,2,4,"ng-container",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()(),t.\u0275\u0275template(28,lr,2,0,"div",17)),2&e&&(t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(4,32,"School")),t.\u0275\u0275property("items",n.school)("multiple",!1)("formControl",n.schoolFilter),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(6,34,"Campus")),t.\u0275\u0275property("items",n.campusList)("multiple",!1)("formControl",n.campusFilter),t.\u0275\u0275advance(3),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(9,36,"User Name"))("formControl",n.userFilter),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(11,38,"Reset Filter")," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(15,40,"Reset")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,42,n.toggleCardList?"Expand":"Hide")," "),t.\u0275\u0275advance(3),t.\u0275\u0275styleProp("height",n.getAutomaticHeight(),"px")("max-height",n.getAutomaticHeight(),"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(44,rr,n.toggleCardList)),t.\u0275\u0275advance(1),t.\u0275\u0275property("userList",n.userList)("isTeacherList",n.isTeacherList)("selectedUserId",n.currSelectedUserId),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(46,sr,n.toggleCardList)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(48,cr,n.dataCount<=6))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(50,dr)),t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("height",n.getAutomaticHeight(),"px")("max-height",n.getAutomaticHeight(),"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.currSelectedUserId&&n.currSelectedUser),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[r.mk,r.O5,L.lW,K.Hw,V.KE,nt.Nt,A.NW,H.Ou,ot.gM,f.DefaultValueAccessor,f.NgControlStatus,f.FormControlDirective,Y.oO,D.w9,ct,ar,M.X$],styles:["[_nghost-%COMP%]  .list-horizontal{padding:0;flex-wrap:nowrap!important;margin-left:1.5em!important}[_nghost-%COMP%]  .list-horizontal>div{display:inline-block;height:auto;width:10em;min-width:9em;margin-right:10px!important}.devMemberImage[_ngcontent-%COMP%]{margin-right:5px!important}[_nghost-%COMP%]  .mat-list-item{max-width:11rem!important}[_nghost-%COMP%]  .float-right{float:right}.yellow[_ngcontent-%COMP%]{color:#ffd740}.orange[_ngcontent-%COMP%]{color:#f49f36}.blue[_ngcontent-%COMP%]{color:#36ebf4}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.black[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.space-top[_ngcontent-%COMP%]{margin-top:14px!important}@media screen and (max-height: 600px){.space-top[_ngcontent-%COMP%]{margin-top:80px!important}}  .custom-ngselect-content .ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}  .custom-ngselect-content .ng-dropdown-panel-items .ng-option{white-space:break-spaces!important}  .custom-ngselect-content.ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}.user-list-toggle[_ngcontent-%COMP%]{margin-left:1.5rem}.right-side[_ngcontent-%COMP%]{overflow:auto;margin-top:1.3vh}.left-side[_ngcontent-%COMP%]{width:335px}.hide-paginator[_ngcontent-%COMP%]{display:none}.left-side.toggle-card-list[_ngcontent-%COMP%]{width:0}"]}),i})();var Yt=u(18206),pr=u(13119),Qt=u(80529),mr=u(41076),hr=u(91013),gr=u(22437),ur=u(75223);function _r(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.addUser())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Add User")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Add User")," "))}function fr(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",50),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return a.buttonClicked="export",t.\u0275\u0275resetView(a.controllerButton("export"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",51),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,4,"Export")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)("matTooltipDisabled",!1),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,6,"Export")," ")}}function Cr(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",52),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.resetSelection())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",53),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"RESET")," ")}}function br(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",41)(1,"button",42),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementStart(5,"mat-icon"),t.\u0275\u0275text(6,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"mat-menu",43,44),t.\u0275\u0275template(9,_r,4,6,"button",45),t.\u0275\u0275elementStart(10,"button",46),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return a.buttonClicked="email",t.\u0275\u0275resetView(a.controllerButton("email"))}),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(14,fr,5,8,"button",47),t.\u0275\u0275template(15,Cr,5,7,"button",48),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275reference(8),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(2,9,"Action")," "),t.\u0275\u0275property("disabled",n.isWaitingForResponse)("matMenuTriggerFor",e),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,11,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",n.permissionService.addUserInUsersTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(11,13,"Send Email")," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(13,15,"Send Email")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.hideExport&&n.permissionService.exportUsersTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permissionService.resetUsersTablePerm())}}function Or(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-checkbox",55),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?l.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.showOptions("all",""))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function xr(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",56)(1,"mat-checkbox",57),t.\u0275\u0275listener("click",function(a){return a.stopPropagation()})("change",function(a){const s=t.\u0275\u0275restoreView(e).$implicit,h=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?h.selection.toggle(s._id):null)})("change",function(){const l=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.showOptions("one",l))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=o.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(null==e?null:e._id)||n.isCheckedAll&&!n.dataUnselectUser.includes(null==e?null:e._id))("aria-label",n.checkboxLabel(e))}}function yr(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"th",58)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",59),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.nameFilter)}}function vr(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",64),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.short_name," ")}}function Tr(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",66),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"school"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("school"))("indeterminate",e.isSomeDropdownSelected("school")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Mr(i,o){1&i&&t.\u0275\u0275template(0,Tr,3,5,"ng-template",65)}function Pr(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",60)(1,"ng-select",61),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setSchoolsFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,vr,2,3,"ng-template",62),t.\u0275\u0275template(5,Mr,1,0,null,63),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.schools)("appendTo","body")("multiple",!0)("formControl",e.schoolFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.schools?null:e.schools.length)}}function wr(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",64),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function Sr(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",66),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"campuses"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("campuses"))("indeterminate",e.isSomeDropdownSelected("campuses")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Er(i,o){1&i&&t.\u0275\u0275template(0,Sr,3,5,"ng-template",65)}function Dr(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",60)(1,"ng-select",67),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setCampusesFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,wr,2,3,"ng-template",62),t.\u0275\u0275template(5,Er,1,0,null,63),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.campuses)("appendTo","body")("multiple",!0)("formControl",e.campusFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.campuses?null:e.campuses.length)}}function Ir(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",64),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name_with_entity," ")}}function kr(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",66),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"userTypes"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("userTypes"))("indeterminate",e.isSomeDropdownSelected("userTypes")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Fr(i,o){1&i&&t.\u0275\u0275template(0,kr,3,5,"ng-template",65)}function Ur(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",60)(1,"ng-select",68),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setUsertypesFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Ir,2,3,"ng-template",62),t.\u0275\u0275template(5,Fr,1,0,null,63),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.userTypeList)("appendTo","body")("multiple",!0)("formControl",e.userTypeFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.userTypeList?null:e.userTypeList.length)}}function Ar(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",64),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function Br(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",66),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"entities"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("entities"))("indeterminate",e.isSomeDropdownSelected("entities")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Nr(i,o){1&i&&t.\u0275\u0275template(0,Br,3,5,"ng-template",65)}function Rr(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",60)(1,"ng-select",69),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setEntityFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Ar,2,3,"ng-template",62),t.\u0275\u0275template(5,Nr,1,0,null,63),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.entityList)("appendTo","body")("multiple",!0)("formControl",e.entityFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.entityList?null:e.entityList.length)}}function Lr(i,o){if(1&i&&(t.\u0275\u0275element(0,"input",64),t.\u0275\u0275text(1)),2&i){const e=o.item,n=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function Vr(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",66),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(a,"status"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("status"))("indeterminate",e.isSomeDropdownSelected("status")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Wr(i,o){1&i&&t.\u0275\u0275template(0,Vr,3,5,"ng-template",65)}function jr(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",60)(1,"ng-select",69),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setStatusFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Lr,2,3,"ng-template",62),t.\u0275\u0275template(5,Wr,1,0,null,63),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.statusFilterList)("appendTo","body")("multiple",!0)("formControl",e.statusFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.statusFilterList?null:e.statusFilterList.length)}}function Kr(i,o){1&i&&t.\u0275\u0275element(0,"th",70)}function zr(i,o){1&i&&t.\u0275\u0275element(0,"th",70)}function Hr(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",71),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Name")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Name")))}function $r(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e?null:e.last_name)," ",null==e?null:e.first_name," ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e?null:e.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e?null:e.last_name)," ",null==e?null:e.first_name," ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e?null:e.civility)," ")}}function qr(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",73),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"School")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"School")))}function Yr(i,o){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",75),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.short_name," ")}}function Qr(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275template(1,Yr,3,1,"ng-container",74),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.renderTooltipSchools(null==e?null:e.schools)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.schools)}}function Gr(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",73),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Campus")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Campus")))}function Xr(i,o){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",75),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function Jr(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275template(1,Xr,3,1,"ng-container",74),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.renderTooltipCampuses(null==e?null:e.campuses)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.campuses)}}function Zr(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",73),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"UserType")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"UserType")))}function ts(i,o){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",75),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"USER_TYPES."+(null==e||null==e.type?null:e.type.name)))}}function es(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",72),t.\u0275\u0275template(1,ts,4,3,"ng-container",74),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.renderTooltipType(null==e?null:e.entities)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n.getUniqueUserType(null==e?null:e.entities))}}function ns(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",73),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Entity")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Entity")))}function is(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"span",80),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",a.renderTooltipEntity(null==n?null:n.entities)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,null==e?null:e.entity_name)," ")}}function as(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"p",78),t.\u0275\u0275template(1,is,3,4,"span",79),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.entity_name)}}function os(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",76),t.\u0275\u0275template(1,as,2,1,"p",77),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n.getUniqueEntities(null==e?null:e.entities))}}function ls(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",81),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Status")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Status")))}const rs=function(i,o,e){return{"greenyellow-icon":i,"black-icon":o,"red-icon":e}};function ss(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",76)(1,"mat-icon",82),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3," check_circle "),t.\u0275\u0275elementEnd()()),2&i){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,2,null==e?null:e.user_status)),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction3(4,rs,"active"===(null==e?null:e.user_status),"pending"===(null==e?null:e.user_status),"incorrect_email"===(null==e?null:e.user_status)))}}function cs(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",83),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function ds(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",85),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.connectAsUser(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",86),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Connect as the User")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function ps(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",85),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.deactiveUser(null==a?null:a._id,null==a?null:a.civility,null==a?null:a.first_name,null==a?null:a.last_name,a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"clear"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete this user")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function ms(i,o){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ds,3,4,"button",84),t.\u0275\u0275template(2,ps,4,4,"button",84),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.entities?null:e.entities.length)&&(null==e||null==e.entities[0]?null:e.entities[0].type)&&n.permissionService.incignitoActionInUsersTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(n.isOperator||!n.isOperator&&!(null!=e&&e.isOperator))&&n.permissionService.deleteUserActionInUsersTablePerm())}}function hs(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",85),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.goToUserCardDetail(null==a?null:a._id))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"visibility"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"View - EditUser")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function gs(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",85),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.sendMail(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",87),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Send an EmailUser")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function us(i,o){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",85),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.sendReminderRegistration(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",88),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Send Registration Email")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function _s(i,o){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,gs,3,4,"button",84),t.\u0275\u0275template(2,us,3,4,"button",84),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.sendMailActionInUsersTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.reminderRegistrationActionInUsersTablePerm())}}function fs(i,o){if(1&i&&(t.\u0275\u0275elementStart(0,"td",76),t.\u0275\u0275template(1,ms,3,2,"ng-container",63),t.\u0275\u0275template(2,hs,4,4,"button",84),t.\u0275\u0275template(3,_s,3,2,"ng-container",63),t.\u0275\u0275elementEnd()),2&i){const e=o.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e._id)!==(null==n.currentUser?null:n.currentUser._id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permissionService.editUserActionInUsersTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e._id)!==(null==n.currentUser?null:n.currentUser._id))}}function Cs(i,o){1&i&&(t.\u0275\u0275elementStart(0,"th",89)(1,"div",90),t.\u0275\u0275element(2,"mat-spinner",91),t.\u0275\u0275elementEnd()())}function bs(i,o){1&i&&t.\u0275\u0275element(0,"tr",92)}function Os(i,o){1&i&&t.\u0275\u0275element(0,"tr",92)}function xs(i,o){1&i&&t.\u0275\u0275element(0,"tr",92)}function ys(i,o){if(1&i&&t.\u0275\u0275element(0,"tr",93),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function vs(i,o){if(1&i&&t.\u0275\u0275element(0,"tr",94),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function Ts(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",95),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No User Data")," "))}function Ms(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",96),t.\u0275\u0275element(1,"mat-spinner",97),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}const Ps=function(){return["reset"]},ws=function(){return["loading"]},Ss=function(i){return{hide:i}},Es=function(i){return{"hide-pagination-buttons":i}},Ds=function(){return[10]},Is=[{path:"",component:(()=>{class i{constructor(e,n,a,l,s,h,m,C,O,P,w,G,z,tt,rt,et,X){this.translate=e,this.usersService=n,this.userService=a,this.dialog=l,this.schoolService=s,this.utilService=h,this.authService=m,this.router=C,this.ngxPermissionService=O,this.mailboxService=P,this.permissionService=w,this.route=G,this.userMgtService=z,this.httpClient=tt,this.cd=rt,this.filterBreadCrumbService=et,this.pageTitleService=X,this.subs=new F.Y,this.displayedColumns=["select","name","school","campus","userType","entity","status","action"],this.filterColumns=["selectFilter","nameFilter","schoolFilter","campusFilter","userTypeFilter","entityFilter","statusFilter","actionFilter"],this.dataSource=new d.by([]),this.selection=new b.Ov(!0,[]),this.nameFilter=new f.UntypedFormControl(""),this.schoolFilter=new f.UntypedFormControl(null),this.campusFilter=new f.UntypedFormControl(null),this.userTypeFilter=new f.UntypedFormControl(null),this.entityFilter=new f.UntypedFormControl(null),this.statusFilter=new f.UntypedFormControl(null),this.schools=[],this.statusFilterList=[],this.userTypeList=[],this.entityList=[],this.dataLoaded=!1,this.usersCount=0,this.previousLength=0,this.pageSelected=[],this.isCheckedAll=!1,this.disabledExport=!0,this.allStudentForCheckbox=[],this.dataSelected=[],this.configCat={disableClose:!0,panelClass:"certification-rule-pop-up",minWidth:"95%",minHeight:"81%"},this.filteredValues={last_name:null,school:null,campus:null,user_type:null,entity:null,user_status:null,schools:null,campuses:null,user_types:null,entities:null,user_statuses:null},this.filteredValuesAll={schools:"All",campuses:"All",user_types:"All",entities:"All",user_statuses:"All"},this.loggedInUserSchools=[],this.isWaitingForResponse=!1,this.isWaitingForResponseTop=!1,this.isOperator=!1,this.hideExport=!1,this.dataUnselectUser=[],this.allExportForCheckbox=[],this.buttonClicked="",this.allEmailForCheckbox=[],this.allCandidateData=[],this.tempDataFilter={tempSchools:null,tempCampuses:null,tempUserTypes:null,tempEntities:null,tempUserStatuses:null},this.filterBreadcrumbData=[]}ngOnInit(){this.currentUser=this.authService.getLocalStorageUser(),this.isPermission=this.authService.getPermission();const e=this.currentUser?.entities?.find(n=>n?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id,this.checkIsOperator(),this.initializeUserFilter(),this.getDropdowns(),this.getAllUser(),this.entityList=[{value:"academic",label:this.translate.instant("academic")},{value:"admission",label:this.translate.instant("admission")},{value:"finance",label:this.translate.instant("finance")},{value:"company_relation",label:this.translate.instant("company_relation")},{value:"operator",label:this.translate.instant("operator")},{value:"alumni",label:this.translate.instant("alumni")}],this.statusFilterList=[{value:"active",label:this.translate.instant("active")},{value:"pending",label:this.translate.instant("pending")},{value:"incorrect_email",label:this.translate.instant("incorrect_email")}],this.translate.onLangChange.subscribe(n=>{this.initializeUserFilter()}),this.pageTitleService.setTitle("List of users"),this.filterBreadcrumbFormat()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,Pt.O)(null),(0,k.b)(()=>{this.getAllUser(),this.dataLoaded=!0})).subscribe(),this.cd.detectChanges()}checkIsOperator(){this.isOperator=this.authService.getCurrentUser()?.entities?.some(e=>e?.entity_name&&"operator"===e?.entity_name)}initializeUserFilter(){this.subs.sink=this.nameFilter.valueChanges.pipe((0,B.b)(400)).subscribe(e=>{null===e||e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.nameFilter.setValue(""),this.filteredValues.last_name="",this.paginator.pageIndex=0,this.getAllUser()):(this.filteredValues.last_name=e,this.paginator.pageIndex=0,this.getAllUser())}),this.entityList=[{value:"academic",label:this.translate.instant("academic")},{value:"admission",label:this.translate.instant("admission")},{value:"finance",label:this.translate.instant("finance")},{value:"company_relation",label:this.translate.instant("company_relation")},{value:"operator",label:this.translate.instant("operator")},{value:"alumni",label:this.translate.instant("alumni")}],this.statusFilterList=[{value:"active",label:this.translate.instant("active")},{value:"pending",label:this.translate.instant("pending")},{value:"incorrect_email",label:this.translate.instant("incorrect_email")}]}sortData(e){"last_name"===e.active?this.sortValue=e.direction?{full_name:e.direction}:null:"title"===e.active?this.sortValue=e.direction?{title:e.direction}:null:"userType"===e.active?this.sortValue=e.direction?{user_type:e.direction}:null:"user_status"===e.active&&(this.sortValue=e.direction?{user_status:e.direction}:null),this.dataLoaded&&(this.paginator.pageIndex=0,this.getAllUser())}keysrt(e){return function(n,a){return n[e]>a[e]?1:n[e]<a[e]?-1:0}}getDropdowns(){this.getAllSchoolDropdown(),this.getUserTypesDropdown()}getAllSchoolDropdown(){this.subs.sink=this.userMgtService.getAllSchoolDropdown(this.currentUserTypeId).subscribe(e=>{this.schools=e.sort((n,a)=>n.short_name.localeCompare(a.short_name))},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCampusesDropdown(e){this.subs.sink=this.schoolService.getAllCampusesFromSchoolDropdown(e).subscribe(n=>{this.campuses=n.sort((a,l)=>a.name.localeCompare(l.name))},n=>{this.authService.postErrorLog(n)})}getUserTypesDropdown(){this.subs.sink=this.userService.getAllUserTypeDropdown().subscribe(e=>{const n=p.cloneDeep(e);this.userTypeList=[],n.forEach(a=>{const l=this.translate.instant("USER_TYPES_WITH_ENTITY."+a.name_with_entity);this.userTypeList.push({_id:a._id,name_with_entity:l})}),this.originalUserType=p.cloneDeep(e),this.userTypeList=this.userTypeList.sort(this.keysrt("text")),this.userTypeListFilter=(0,mt.of)(this.userTypeList)},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.localizeUserTypesListener()}setSchoolFilter(e){"All"!==e?this.getCampusesDropdown(e):(this.filteredCampuses=(0,mt.of)([]),this.campusFilter.setValue("All"),this.filteredValues.campus=null,this.getAllSchoolDropdown()),this.filteredValues.school="All"===e?"":e,this.paginator.pageIndex=0,this.getAllUser()}localizeUserTypesListener(){this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.originalUserType&&this.originalUserType.length&&(this.userTypeList=[],this.originalUserType.forEach(n=>{const a=this.getTranslateType(n.name_with_entity);this.userTypeList.push({_id:n._id,name_with_entity:a})}),this.userTypeList=this.userTypeList.sort(this.keysrt("text")))})}setCampusFilter(e){"All"===e&&this.schoolFilter.value&&"All"!==this.schoolFilter.value&&this.filteredValues.school&&(this.filteredCampuses=(0,mt.of)(this.campuses)),this.filteredValues.campus="All"===e?null:e,this.paginator.pageIndex=0,this.getAllUser()}setTypeFilter(e){"All"===e&&(this.userTypeListFilter=(0,mt.of)(this.userTypeList)),this.filteredValues.user_type="All"===e?"":e,this.paginator.pageIndex=0,this.getAllUser()}getAllUser(){this.isWaitingForResponse=!0;const e={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0};let n=this.cleanFilterData();this.subs.sink=this.usersService.getAllUser(e,this.sortValue,n).subscribe(a=>{this.users=p.cloneDeep(a),this.setUserSchoolAndCampuses(this.users),this.setUserOperatorStatus(this.users),this.dataSource.data=this.users,this.usersCount=this.users&&this.users.length?this.users[0].count_document:0,this.isWaitingForResponse=!1,this.noData=this.dataSource.connect().pipe((0,g.U)(l=>0===l.length)),this.filterBreadcrumbData=[],this.filterBreadcrumbFormat()},a=>{this.authService.postErrorLog(a),this.isWaitingForResponse=!1,a&&a.message&&a.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}cleanFilterData(){const e=p.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(a=>{if(e[a]||!1===e[a])if("schools"===a){const l=e.schools.map(s=>'"'+s+'"');n=n?n+`,schools:[${l}]`:n+`schools:[${l}]`}else if("campuses"===a){const l=e.campuses.map(s=>'"'+s+'"');n=n?n+`,campuses:[${l}]`:n+`campuses:[${l}]`}else if("user_types"===a){const l=e.user_types.map(s=>'"'+s+'"');n=n?n+`,user_type:[${l}]`:n+`user_type:[${l}]`}else if("entities"===a){const l=e.entities;n=n?n+`,entity:[${l}]`:n+`entity:[${l}]`}else if("user_statuses"===a){const l=e.user_statuses;n=n?n+`,user_statuses:[${l}]`:n+`user_statuses:[${l}]`}else n+=` ${a}:"${e[a]}"`}),n}setUserSchoolAndCampuses(e){e.forEach((n,a)=>{const l=[],s=[];n.entities&&n.entities.length&&n.entities.forEach(h=>{h.programs&&h.programs.length&&h.programs.forEach(m=>{m.campus&&l.push(m.campus),m.school&&s.push(m.school)})}),n.campuses=p.uniqBy([].concat(...l),"_id"),n.schools=p.uniqBy([].concat(...s),"_id")})}setUserOperatorStatus(e){e.forEach((n,a)=>{n.isOperator=n?.entities?.some(l=>l&&l.entity_name&&"operator"===l.entity_name)})}getTranslateType(e){if(e)return this.translate.instant("USER_TYPES_WITH_ENTITY."+e)}addUser(){this.subs.sink=this.dialog.open(pr.K,{panelClass:"certification-rule-pop-up",disableClose:!0,width:"660px",data:{from:"user"}}).afterClosed().subscribe(e=>{e&&this.goToUserCardDetail(e._id)})}goToUserCardDetail(e){this.router.navigate(["user-list"],{relativeTo:this.route,queryParams:{user:e}})}connectAsUser(e){const n=this.utilService.getCurrentUser(),l=(p.uniqBy(e.entities,"type.name"),p.uniqBy(e.entities,"entity_name")),s=p.uniqBy(e.entities,"type._id");l&&l.length&&"academic"===l[0].entity_name&&(p.uniqBy(e.entities,"school_type"),p.uniqBy(e.entities,"school._id")),this.isWaitingForResponseTop=!0,this.backupUser=JSON.parse(localStorage.getItem("backupUser")),this.backupUser?(this.isWaitingForResponseTop=!1,c().fire({type:"info",title:this.translate.instant("ConnectAs.Title"),html:this.translate.instant("ConnectAs.Text"),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("ConnectAs.Button")})):"61dd3ccff647127fd6bf65d7"===s?(this.isWaitingForResponseTop=!1,c().fire({type:"info",title:this.translate.instant("ConnectAs.Under Construction"),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("ConnectAs.Button")})):(this.getUserTableColumnSettings(e?._id),this.subs.sink=this.authService.loginAsUser(n._id,e._id).subscribe(C=>{this.isWaitingForResponseTop=!1,C&&c().fire({type:"success",title:this.translate.instant("SUCCESS"),html:this.translate.instant("USER_S7_SUPERUSER.TEXT",{UserCivility:"neutral"!==e.civility?this.translate.instant(e.civility):"",UserFirstName:e.first_name,UserLastName:e.last_name}),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("UNDERSTOOD")}).then(O=>{this.authService.backupLocalUserProfileAndToken();const P=p.cloneDeep(C),w=p.cloneDeep(C),G=this.utilService.setDataProgram(w.user.entities);w.user.entities=this.utilService.mergeHierarchyPermission(p.cloneDeep(w.user.entities));const z=this.utilService.sortEntitiesByHierarchy(w.user.entities),tt=w.user;tt.entities=z,tt.app_data=G,P.user=tt;const rt=[];z&&z.length>0&&z.forEach(X=>{console.log("UserType name : ",X.type.name),rt.push(X.type._id)}),this.authService.setLocalUserProfileAndToken(P),this.authService.setPermission([z[0].type.name]),this.ngxPermissionService.flushPermissions(),this.ngxPermissionService.loadPermissions([z[0].type.name]),this.userService.reloadCurrentUser(!0);const et=["6278e02eb97bfb30674e76b0","6278e027b97bfb30674e76af","5fe98eeadb866c403defdc6c"];rt.findIndex(X=>et.includes(X))<0?this.router.navigate(["/home"]):this.router.navigate(["/mailbox/inbox"])})},C=>{this.authService.postErrorLog(C),C&&C.message&&C.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):"GraphQL error: you cannot logged in as this user"===C.message?c().fire({type:"info",title:this.translate.instant("SWAL_CONNECTAS.TITLE"),html:this.translate.instant("SWAL_CONNECTAS.TEXT"),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("SWAL_CONNECTAS.BUTTON")}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:C&&C.message?this.translate.instant(C.message.replaceAll("GraphQL error: ","")):C,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}getUserTableColumnSettings(e){e&&(this.subs.sink=this.authService.GetUserTableColumnSettings(e).subscribe(n=>{n&&n?.length&&localStorage.setItem("templateTable",JSON.stringify(n))},n=>{c().fire({type:"info",title:"Warning",text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}incorrectPassword(e,n,a,l){let s=3;c().fire({allowOutsideClick:!1,type:"warning",title:this.translate.instant("INCORRECT_EMAIL.TITLE",{director:this.translate.instant("Academic Director/Certifier Admin")}),html:this.translate.instant("INCORRECT_EMAIL.TEXT",{civility:"neutral"!==n?this.translate.instant(n):"",firstName:a,lastName:l}),showCancelButton:!0,cancelButtonText:this.translate.instant("INCORRECT_EMAIL.CANCEL"),confirmButtonText:this.translate.instant("INCORRECT_EMAIL.SEND",{timer:s}),onOpen:()=>{c().disableConfirmButton();const h=c().getConfirmButton();this.intVal=setInterval(()=>{s-=1,h.innerText=this.translate.instant("INCORRECT_EMAIL.SEND")+" in "+s+" sec"},1e3),this.timeOutVal=setTimeout(()=>{h.innerText=this.translate.instant("INCORRECT_EMAIL.SEND"),c().enableConfirmButton(),clearInterval(this.intVal)},1e3*s)}}).then(h=>{h.value&&(this.subs.sink=this.userService.inactiveEmail(this.translate.currentLang,e).subscribe(m=>{c().fire({type:"success",title:"Bravo!",allowOutsideClick:!1,confirmButtonText:this.translate.instant("OK")}),this.getAllUser()},m=>{this.authService.postErrorLog(m),m&&m.message&&m.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:m&&m.message?this.translate.instant(m.message.replaceAll("GraphQL error: ","")):m,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}deactiveUser(e,n,a,l,s){const h=p.uniqBy(s.entities,"type._id");let m=3;"61dd3ccff647127fd6bf65d7"===h?(this.isWaitingForResponseTop=!1,c().fire({type:"info",title:this.translate.instant("DELETE_USER.UNDER_CONSTRUCTION"),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("ConnectAs.Button")})):c().fire({allowOutsideClick:!1,type:"question",title:this.translate.instant("Attention"),html:this.translate.instant("DELETE_USER.QUESTION",{civility:"neutral"!==n?this.translate.instant(n):"",firstName:a,lastName:l}),showCancelButton:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:m}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const C=c().getConfirmButton();this.intVal=setInterval(()=>{m-=1,C.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+` in  (${m}) sec`},1e3),this.timeOutVal=setTimeout(()=>{C.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(this.intVal)},1e3*m)}}).then(C=>{C.value&&(this.subs.sink=this.userService.deleteUser(e).subscribe(O=>{O&&(O.errors?O.errors&&O.errors[0]&&"the mentor is already used in student contract"===O.errors[0].message?(c().fire({allowOutsideClick:!1,confirmButtonText:this.translate.instant("DeleteMent_S1.BUTTON"),type:"info",title:this.translate.instant("DeleteMent_S1.TITLE"),text:this.translate.instant("DeleteMent_S1.TEXT")}),this.getAllUser()):O.errors&&O.errors[0]&&"user should transfer the responsibility first"===O.errors[0].message?(c().fire({allowOutsideClick:!1,confirmButtonText:this.translate.instant("DeleteTypeUser.Btn-Confirm"),type:"info",title:this.translate.instant("DeleteTypeUser.Title"),text:this.translate.instant("DeleteTypeUser.Body")}),this.getAllUser()):O.errors&&O.errors[0]&&"user still have todo tasks"===O.errors[0].message?(c().fire({allowOutsideClick:!1,confirmButtonText:this.translate.instant("DeleteUserTodo.Btn-Confirm"),type:"warning",title:this.translate.instant("DeleteUserTodo.Title"),text:this.translate.instant("DeleteUserTodo.Body")}),this.getAllUser()):O.errors&&O.errors[0]&&"Teacher already assigned to program sequence"===O.errors[0].message?(c().fire({title:this.translate.instant("DeleteTeacher_S2.TITLE"),html:this.translate.instant("DeleteTeacher_S2.TEXT",{civility:"neutral"!==n?this.translate.instant(n):"",firstName:a,lastName:l}),type:"warning",showConfirmButton:!0,confirmButtonText:this.translate.instant("DeleteTeacher_S2.BUTTON1")}),this.getAllUser()):O.errors&&O.errors[0]&&O.errors[0].message&&c().fire({allowOutsideClick:!1,confirmButtonText:this.translate.instant("OK"),type:"info",title:this.translate.instant("Error"),text:O.errors[0].message}):(c().fire({allowOutsideClick:!1,confirmButtonText:this.translate.instant("OK"),type:"success",title:this.translate.instant("DELETE_USER.SUCCESS_TITLE"),text:this.translate.instant("DELETE_USER.SUCCESS_TEXT")}),this.getAllUser()))},O=>{this.authService.postErrorLog(O),O&&O.message&&O.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:O&&O.message?this.translate.instant(O.message.replaceAll("GraphQL error: ","")):O,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()||this.isCheckedAll&&this.dataUnselectUser.length?(this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!1,this.allCandidateData=[],this.allExportForCheckbox=[],this.dataUnselectUser=[],this.allStudentForCheckbox=[],this.allExportForCheckbox=[],this.allEmailForCheckbox=[]):(this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!0,this.allCandidateData=[],this.allExportForCheckbox=[],this.dataUnselectUser=[],this.allStudentForCheckbox=[],this.allEmailForCheckbox=[],this.dataSource.data.forEach(e=>{this.dataUnselectUser.includes(e._id)||this.selection.select(e._id)}))}getDataAllForCheckbox(e){const n={limit:300,page:e};this.isWaitingForResponse=!0;let a="";a+=this.filteredValues.last_name?`full_name : "${this.filteredValues.last_name}"`:"",a+=this.filteredValues.user_type?`user_type: "${this.filteredValues.user_type}"`:"",a+=this.filteredValues.school?`school: "${this.filteredValues.school}"`:"",a+=this.filteredValues.campus?`campuses: ["${this.filteredValues.campus}"]`:"",a+=this.filteredValues.entity?`entity: ${this.filteredValues.entity}`:"",a+=this.filteredValues.user_status?` user_status: ${this.filteredValues.user_status}`:"",this.subs.sink=this.usersService.getAllUserCheckbox(n,this.sortValue,a).subscribe(l=>{l&&l.length?(this.allStudentForCheckbox.push(...l),this.getDataAllForCheckbox(e+1)):(this.isWaitingForResponse=!1,this.isCheckedAll?(this.allStudentForCheckbox&&this.allStudentForCheckbox.length&&this.allStudentForCheckbox.forEach(s=>{this.selection.select(s._id),this.dataSelected.push(s)}),this.pageSelected.push(this.paginator.pageIndex)):this.pageSelected=[])},l=>{this.authService.postErrorLog(l),this.isWaitingForResponse=!1,l&&l.message&&l.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("OK")})})}showOptions(e,n){if(this.isCheckedAll){if(n)if(this.dataUnselectUser.includes(n._id)){const l=this.dataUnselectUser.findIndex(s=>s===n._id);this.dataUnselectUser.splice(l,1),this.selection.select(n._id)}else this.dataUnselectUser.push(n._id),this.selection.deselect(n._id)}else if(n)if(this.dataSelected&&this.dataSelected.length){const l=this.dataSelected.filter(s=>s._id===n._id);if(l&&l.length<1)this.dataSelected.push(n);else{const s=this.dataSelected.findIndex(h=>h._id===n._id);this.dataSelected.splice(s,1)}}else this.dataSelected.push(n);this.disabledExport=!(this.selection.selected.length>0)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}resetSelection(){this.disabledExport=!0,this.selection.clear(),this.dataSelected=[],this.dataUnselectUser=[],this.allEmailForCheckbox=[],this.allExportForCheckbox=[],this.isCheckedAll=!1,this.userSelected=[],this.userSelectedId=[],this.filteredValues={last_name:null,school:null,campus:null,user_type:null,entity:null,user_status:null,schools:null,campuses:null,user_types:null,entities:null,user_statuses:null},this.sort.direction="",this.sort.active="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=null,this.paginator.pageIndex=0,this.nameFilter.setValue("",{emitEvent:!1}),this.schoolFilter.setValue(null,{emitEvent:!1}),this.campusFilter.setValue(null,{emitEvent:!1}),this.userTypeFilter.setValue(null,{emitEvent:!1}),this.entityFilter.setValue(null,{emitEvent:!1}),this.statusFilter.setValue(null,{emitEvent:!1}),this.filterBreadcrumbData=[],this.getDropdowns(),this.getAllUser(),this.filteredCampuses=(0,mt.of)([]),this.userTypeListFilter=(0,mt.of)(this.userTypeList),this.tempDataFilter={tempSchools:null,tempCampuses:null,tempUserTypes:null,tempEntities:null,tempUserStatuses:null}}renderTooltipSchools(e){let n="";for(let a=1;a<e.length;a++)n=n+e[a].short_name+", ";return n.substring(0,n.length-2)}renderTooltipCampuses(e){let n="";for(let a=1;a<e.length;a++)n=n+e[a].name+", ";return n.substring(0,n.length-2)}renderTooltipType(e){let n="",a=0;const l=p.uniqBy(e.filter(s=>s&&s.type),"type.name");for(const s of l)a++,a>1?s.type&&(n+=", ",n+=this.translate.instant("USER_TYPES."+s.type.name)):s.type&&(n+=this.translate.instant("USER_TYPES."+s.type.name));return n}renderTooltipEntity(e){let n="",a=0;const l=p.uniqBy(e,"entity_name");for(const s of l)a++,a>1?s.entity_name&&(n+=", ",n+=this.translate.instant(s.entity_name)):s.entity_name&&(n+=this.translate.instant(s.entity_name));return n}getUniqueEntities(e){return p.uniqBy(e,"entity_name")}getUniqueUserType(e){return p.uniqBy(e.filter(n=>n&&n.type),"type.name")}sendMail(e){this.mailUser=this.dialog.open(Ot.y,{disableClose:!0,width:"750px",data:e})}sendReminderRegistration(e){"active"!==e.user_status?(this.isWaitingForResponseTop=!0,this.subs.sink=this.usersService.sendReminderUserN1(this.translate.currentLang,e._id,this.currentUserTypeId).subscribe(n=>{this.isWaitingForResponseTop=!1,console.log(n),c().fire({type:"success",title:this.translate.instant("Bravo !"),text:this.translate.instant("Email Sent")})},n=>{this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})):c().fire({type:"info",title:this.translate.instant("User_Registered_S1.TITLE"),text:this.translate.instant("User_Registered_S1.TEXT")})}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(e=>{e&&e.length&&(this.subs.sink=this.dialog.open(Yt.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:e}).afterClosed().subscribe(n=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(a=>{a&&a.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(Yt.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:a}))},a=>{this.authService.postErrorLog(a),a&&a.message&&a.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?c().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe(),this.pageTitleService.setTitle(null)}csvDownload(){if(this.dataSelected&&this.dataSelected.length<1&&(!this.isCheckedAll||this.isCheckedAll&&this.dataUnselectUser.length>1))c().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("User")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else{const e={",":this.translate.instant("IMPORT_DECISION_S1.COMMA"),";":this.translate.instant("IMPORT_DECISION_S1.SEMICOLON"),tab:this.translate.instant("IMPORT_DECISION_S1.TAB")};c().fire({type:"question",title:this.translate.instant("EXPORT_DECISION.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translate.instant("IMPORT_DECISION_S1.CANCEL"),confirmButtonText:this.translate.instant("IMPORT_DECISION_S1.OK"),input:"radio",inputOptions:e,inputValue:";",inputValidator:n=>new Promise((a,l)=>{n?(a(""),c().enableConfirmButton()):(c().disableConfirmButton(),l(this.translate.instant("IMPORT_DECISION_S1.INVALID")))}),onOpen:function(){c().disableConfirmButton(),c().getContent().addEventListener("click",function(l){c().enableConfirmButton()}),";"===c().getInput().getAttribute("value")&&c().enableConfirmButton()}}).then(n=>{n.value&&this.openDownloadCsv(n.value)})}}openDownloadCsv(e){let n;const a=this.filteredValues.last_name?this.filteredValues.last_name:"",l=this.filteredValues.user_types?this.filteredValues.user_types:"",s=this.filteredValues.schools?this.filteredValues.schools:"",h=this.filteredValues.campuses?this.filteredValues.campuses:"",m=this.filteredValues.entities?this.filteredValues.entities:"",C=this.filteredValues.user_statuses?this.filteredValues.user_statuses:"";let O=pt.N.apiUrl;O=O.replace("graphql",""),document.createElement("a");const w=this.translate.currentLang.toLowerCase();if(this.dataSelected.length&&!this.isCheckedAll||this.dataUnselectUser&&this.dataUnselectUser.length&&this.isCheckedAll){const et=this.dataSelected.map(X=>'"'+X._id+'"');console.log(et),n='filter={"user_ids":['+et.toString()+'],"full_name":"'+a+'","user_type":['+(l?.length?'"'+l+'"':"")+'],"schools":['+(s?.length?'"'+s+'"':"")+'],"entities":['+(m?.length?'"'+m+'"':"")+'],"campuses":['+(h?.length?'"'+h+'"':"")+'],"user_statuses":['+(C?.length?'"'+C+'"':"")+"]}"}else n='filter={"full_name":"'+a+'","user_type":['+(l?.length?'"'+l+'"':"")+'],"schools":['+(s?.length?'"'+s+'"':"")+'],"entities":['+(m?.length?'"'+m+'"':"")+'],"campuses":['+(h?.length?'"'+h+'"':"")+'],"user_statuses":['+(C?.length?'"'+C+'"':"")+"]}";const tt=O+"downloadUserCSV/"+e+"/"+w+"?"+n+"&"+this.sortingForExport()+'&user_type_id="'+this.currentUserTypeId+'"';console.log("fullUrl",tt);const rt={headers:new Qt.WM({Authorization:JSON.parse(localStorage.getItem("admtc-token-encryption"))})};this.isWaitingForResponseTop=!0,this.httpClient.get(`${encodeURI(tt)}`,rt).subscribe(et=>{et?(this.isWaitingForResponseTop=!1,c().fire({type:"success",title:this.translate.instant("ReAdmission_S3.TITLE"),text:this.translate.instant("ReAdmission_S3.TEXT"),confirmButtonText:this.translate.instant("ReAdmission_S3.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>this.clearSelectIfFilter())):this.isWaitingForResponseTop=!1},et=>{this.isWaitingForResponseTop=!1,console.log("uat389 error",et)})}sortingForExport(){let e="";if(this.sortValue){const n=p.cloneDeep(this.sortValue);Object.keys(n).forEach(a=>{n[a]&&(e=e?e+`,"${a}":"${n[a]}"`:e+`"${a}":"${n[a]}"`)})}return"sorting={"+e+"}"}clearSelectIfFilter(){this.selection.clear(),this.isCheckedAll=!1,this.dataSelected=[],this.allExportForCheckbox=[],this.dataUnselectUser=[]}displayWithSchool(e){return e&&"All"===e?this.translate.instant("All"):e}displayWithCampus(e){return e&&"All"===e?this.translate.instant("All"):e}displayWithUserType(e){return e&&"All"===e?this.translate.instant("All"):e}getFIDataForSendMail(e,n){if("email"===this.buttonClicked)if(this.isCheckedAll){0===e&&(this.allEmailForCheckbox=[],this.dataSelected=[],this.allCandidateData=[]);const a={limit:500,page:e};this.isWaitingForResponseTop=!0;const l=this.cleanFilterData();this.subs.sink=this.usersService.getAllUserForEmail(a,this.sortValue,l).subscribe(s=>{if(s&&s.length){const h=p.cloneDeep(s);this.allEmailForCheckbox=p.concat(this.allEmailForCheckbox,h),this.getFIDataForSendMail(e+1,n)}else this.isWaitingForResponseTop=!1,this.isCheckedAll&&this.allEmailForCheckbox&&this.allEmailForCheckbox.length&&(this.dataSelected=this.allEmailForCheckbox.filter(h=>!this.dataUnselectUser.includes(h._id)),this.allCandidateData=this.allEmailForCheckbox.filter(h=>!this.dataUnselectUser.includes(h._id)),this.dataSelected=p.uniqBy(this.dataSelected,"_id"),this.dataSelected&&this.dataSelected.length&&this.sendMultipleEmail())},s=>{this.authService.postErrorLog(s),this.isWaitingForResponseTop=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("OK")})})}else this.sendMultipleEmail()}sendMultipleEmail(){if(this.dataSelected&&this.dataSelected.length<1)c().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("User")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else{let e;e=this.isCheckedAll?this.allCandidateData:this.dataSelected,e&&(e=e.map(a=>({candidate:{email:a.email,emailDefault:a.email},financial_supp:{email:[]}})),this.dialog.open(mr.v,{disableClose:!0,width:"750px",data:e,autoFocus:!1}).afterClosed().subscribe(a=>{a&&(this.clearSelectIfFilter(),this.getAllUser())}))}}getAllIdForCheckbox(e,n){if("export"===this.buttonClicked)if(this.isCheckedAll)if(this.dataUnselectUser.length<1)this.csvDownload();else{0===e&&(this.allExportForCheckbox=[],this.dataSelected=[],this.allCandidateData=[]);const a={limit:500,page:e};this.isWaitingForResponseTop=!0;const l=this.cleanFilterData();this.subs.sink=this.usersService.getAllUserForEmail(a,this.sortValue,l).subscribe(s=>{if(s&&s.length){const h=p.cloneDeep(s);this.allExportForCheckbox=p.concat(this.allExportForCheckbox,h),this.getAllIdForCheckbox(e+1,n)}else this.isWaitingForResponseTop=!1,this.isCheckedAll&&this.allExportForCheckbox&&this.allExportForCheckbox.length&&(this.dataSelected=this.allExportForCheckbox.filter(h=>!this.dataUnselectUser.includes(h._id)),this.allCandidateData=this.allExportForCheckbox.filter(h=>!this.dataUnselectUser.includes(h._id)),this.dataSelected=p.uniqBy(this.dataSelected,"_id"),this.dataSelected&&this.dataSelected.length&&this.csvDownload())},s=>{this.authService.postErrorLog(s),this.isWaitingForResponseTop=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("OK")})})}else this.csvDownload()}controllerButton(e){switch(e){case"email":setTimeout(()=>{this.getFIDataForSendMail(0,"email")},500);break;case"export":setTimeout(()=>{this.getAllIdForCheckbox(0,"export")},500);break;default:this.resetSelection()}}isAllDropdownSelected(e){if("school"===e){const n=this.schoolFilter.value;return n&&0!==n.length&&n.length===this.schools.length}if("campuses"===e){const n=this.campusFilter.value;return n&&0!==n.length&&n.length===this.campuses.length}if("userTypes"===e){const n=this.userTypeFilter.value;return n&&0!==n.length&&n.length===this.userTypeList.length}if("entities"===e){const n=this.entityFilter.value;return n&&0!==n.length&&n.length===this.entityList.length}if("status"===e){const n=this.statusFilter.value;return n&&0!==n.length&&n.length===this.statusFilterList.length}}isSomeDropdownSelected(e){if("school"===e){const n=this.schoolFilter.value;return n&&0!==n.length&&n.length!==this.schools.length}if("campuses"===e){const n=this.campusFilter.value;return n&&0!==n.length&&n.length!==this.campuses.length}if("userTypes"===e){const n=this.userTypeFilter.value;return n&&0!==n.length&&n.length!==this.userTypeList.length}if("entities"===e){const n=this.entityFilter.value;return n&&0!==n.length&&n.length!==this.entityList.length}if("status"===e){const n=this.statusFilter.value;return n&&0!==n.length&&n.length!==this.statusFilterList.length}}selectAllData(e,n){if("school"===n)if(e.checked){const a=this.schools.map(l=>l._id);this.schoolFilter.patchValue(a,{emitEvent:!1})}else this.schoolFilter.patchValue(null,{emitEvent:!1});else if("campuses"===n)if(e.checked){const a=this.campuses.map(l=>l._id);this.campusFilter.patchValue(a,{emitEvent:!1})}else this.campusFilter.patchValue(null,{emitEvent:!1});else if("userTypes"===n)if(e.checked){const a=this.userTypeList.map(l=>l._id);this.userTypeFilter.patchValue(a,{emitEvent:!1})}else this.userTypeFilter.patchValue(null,{emitEvent:!1});else if("entities"===n)if(e.checked){const a=this.entityList.map(l=>l.value);this.entityFilter.patchValue(a,{emitEvent:!1})}else this.entityFilter.patchValue(null,{emitEvent:!1});else if("status"===n)if(e.checked){const a=this.statusFilterList.map(l=>l.value);this.statusFilter.patchValue(a,{emitEvent:!1})}else this.statusFilter.patchValue(null,{emitEvent:!1})}setSchoolsFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.tempSchools)!==JSON.stringify(this.schoolFilter.value))if(this.schoolFilter.value?.length)this.filteredValues.schools=this.schoolFilter.value,this.tempDataFilter.tempSchools=this.schoolFilter.value,this.paginator.pageIndex=0,this.getCampusesDropdown(this.schoolFilter.value),this.getAllUser();else{if(!this.tempDataFilter.tempSchools?.length||this.schoolFilter.value?.length)return;this.filteredValues.schools=this.schoolFilter.value,this.tempDataFilter.tempSchools=null,this.paginator.pageIndex=0,this.campuses=[],this.getAllUser()}}setCampusesFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.tempCampuses)!==JSON.stringify(this.campusFilter.value))if(this.campusFilter.value?.length)this.filteredValues.campuses=this.campusFilter.value,this.tempDataFilter.tempCampuses=this.campusFilter.value,this.paginator.pageIndex=0,this.getAllUser();else{if(!this.tempDataFilter.tempCampuses?.length||this.campusFilter.value?.length)return;this.filteredValues.campuses=this.campusFilter.value,this.tempDataFilter.tempCampuses=null,this.paginator.pageIndex=0,this.getAllUser()}}setUsertypesFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.tempUserTypes)!==JSON.stringify(this.userTypeFilter.value))if(this.userTypeFilter.value?.length)this.filteredValues.user_types=this.userTypeFilter.value,this.tempDataFilter.tempUserTypes=this.userTypeFilter.value,this.paginator.pageIndex=0,this.getAllUser();else{if(!this.tempDataFilter.tempUserTypes?.length||this.userTypeFilter.value?.length)return;this.filteredValues.user_types=this.userTypeFilter.value,this.tempDataFilter.tempUserTypes=null,this.paginator.pageIndex=0,this.getAllUser()}}setEntityFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.tempEntities)!==JSON.stringify(this.entityFilter.value))if(this.entityFilter.value?.length)this.filteredValues.entities=this.entityFilter.value,this.tempDataFilter.tempEntities=this.entityFilter.value,this.paginator.pageIndex=0,this.getAllUser();else{if(!this.tempDataFilter.tempEntities?.length||this.entityFilter.value?.length)return;this.filteredValues.entities=this.entityFilter.value,this.tempDataFilter.tempEntities=null,this.paginator.pageIndex=0,this.getAllUser()}}setStatusFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.tempUserStatuses)!==JSON.stringify(this.statusFilter.value))if(this.statusFilter.value?.length)this.filteredValues.user_statuses=this.statusFilter.value,this.tempDataFilter.tempUserStatuses=this.statusFilter.value,this.paginator.pageIndex=0,this.getAllUser();else{if(!this.tempDataFilter.tempUserStatuses?.length||this.statusFilter.value?.length)return;this.filteredValues.user_statuses=this.statusFilter.value,this.tempDataFilter.tempUserStatuses=null,this.paginator.pageIndex=0,this.getAllUser()}}filterBreadcrumbFormat(){this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat([{type:"table_filter",name:"last_name",column:"Name",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.nameFilter,isSelectionInput:!1,displayKey:null,savedValue:null,noTranslate:!0},{type:"table_filter",name:"schools",column:"School",isMultiple:this.schoolFilter?.value?.length!==this.schools?.length,filterValue:this.schoolFilter?.value?.length===this.schools?.length?this.filteredValuesAll:this.filteredValues,filterList:this.schoolFilter?.value?.length===this.schools?.length?null:this.schools,filterRef:this.schoolFilter,isSelectionInput:this.schoolFilter?.value?.length!==this.schools?.length,displayKey:this.schoolFilter?.value?.length===this.schools?.length?null:"short_name",savedValue:this.schoolFilter?.value?.length===this.schools?.length?null:"_id"},{type:"table_filter",name:"campuses",column:"Campus",isMultiple:this.campusFilter?.value?.length!==this.campuses?.length,filterValue:null!==this.campusFilter?.value&&this.campusFilter?.value?.length===this.campuses?.length?this.filteredValuesAll:this.filteredValues,filterList:this.campusFilter?.value?.length===this.campuses?.length?null:this.campuses,filterRef:this.campusFilter,isSelectionInput:this.campusFilter?.value?.length!==this.campuses?.length,displayKey:this.campusFilter?.value?.length===this.campuses?.length?null:"name",savedValue:this.campusFilter?.value?.length===this.campuses?.length?null:"_id"},{type:"table_filter",name:"user_types",column:"UserType",isMultiple:this.userTypeFilter?.value?.length!==this.userTypeList?.length,filterValue:this.userTypeFilter?.value?.length===this.userTypeList?.length?this.filteredValuesAll:this.filteredValues,filterList:this.userTypeFilter?.value?.length===this.userTypeList?.length?null:this.userTypeList,filterRef:this.userTypeFilter,isSelectionInput:this.userTypeFilter?.value?.length!==this.userTypeList?.length,displayKey:this.userTypeFilter?.value?.length===this.userTypeList?.length?null:"name_with_entity",savedValue:this.userTypeFilter?.value?.length===this.userTypeList?.length?null:"_id"},{type:"table_filter",name:"entities",column:"Entity",isMultiple:this.entityFilter?.value?.length!==this.entityList?.length,filterValue:this.entityFilter?.value?.length===this.entityList?.length?this.filteredValuesAll:this.filteredValues,filterList:this.entityFilter?.value?.length===this.entityList?.length?null:this.entityList,filterRef:this.entityFilter,isSelectionInput:this.entityFilter?.value?.length!==this.entityList?.length,displayKey:this.entityFilter?.value?.length===this.entityList?.length?null:"label",savedValue:this.entityFilter?.value?.length===this.entityList?.length?null:"value"},{type:"table_filter",name:"user_statuses",column:"Status",isMultiple:this.statusFilter?.value?.length!==this.statusFilterList?.length,filterValue:this.statusFilter?.value?.length===this.statusFilterList?.length?this.filteredValuesAll:this.filteredValues,filterList:this.statusFilter?.value?.length===this.statusFilterList?.length?null:this.statusFilterList,filterRef:this.statusFilter,isSelectionInput:this.statusFilter?.value?.length!==this.statusFilterList?.length,displayKey:this.statusFilter?.value?.length===this.statusFilterList?.length?null:"label",savedValue:this.statusFilter?.value?.length===this.statusFilterList?.length?null:"value"}],this.filterBreadcrumbData)}removeFilterBreadcrumb(e){this.filterBreadCrumbService.removeFilterBreadcrumb(e,null,this.filteredValues),this.clearSelectIfFilter(),this.getAllUser()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(M.sK),t.\u0275\u0275directiveInject(gt.f),t.\u0275\u0275directiveInject(xt.K),t.\u0275\u0275directiveInject(S.uw),t.\u0275\u0275directiveInject(jt.E),t.\u0275\u0275directiveInject(_t.t),t.\u0275\u0275directiveInject(j.e),t.\u0275\u0275directiveInject(W.F0),t.\u0275\u0275directiveInject(wt.YI),t.\u0275\u0275directiveInject(hr.e),t.\u0275\u0275directiveInject(Nt.$),t.\u0275\u0275directiveInject(W.gz),t.\u0275\u0275directiveInject(st.x),t.\u0275\u0275directiveInject(Qt.eN),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(gr.q),t.\u0275\u0275directiveInject(J.Z))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-user-management-table"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(A.NW,7),t.\u0275\u0275viewQuery(T.YE,7)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.sort=a.first)}},decls:59,vars:25,consts:[[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"top-space"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","9","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","nameFilter"],["mat-header-cell","","style","padding-left: 10px !important; padding-right: 10px !important",4,"matHeaderCellDef"],["matColumnDef","schoolFilter"],["mat-header-cell","","class","custom-filter-table",4,"matHeaderCellDef"],["matColumnDef","campusFilter"],["matColumnDef","userTypeFilter"],["matColumnDef","entityFilter"],["matColumnDef","statusFilter"],["matColumnDef","actionFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","selectFilter"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","last_name","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","school"],["mat-header-cell","","class","text-center","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","campus"],["matColumnDef","userType"],["matColumnDef","entity"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","user_status","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","9","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["class","loading-indicator",4,"ngIf"],["mat-header-cell","","colspan","9",1,"action-header-column","text-right"],["mat-raised-button","","color","accent",2,"padding","0px 7px !important",3,"matTooltip","disabled","matMenuTriggerFor"],[1,"action-dropdown-button-above-table"],["action","matMenu"],["mat-menu-item","","aria-hidden","true",3,"matTooltip","click",4,"ngIf"],["mat-menu-item","",3,"matTooltip","click"],["style","padding: 0px 7px !important","mat-raised-button","","color","primary",3,"disabled","matTooltipDisabled","matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-menu-item","","aria-hidden","true",3,"matTooltip","click"],["mat-raised-button","","color","primary",2,"padding","0px 7px !important",3,"disabled","matTooltipDisabled","matTooltip","click"],["svgIcon","file-excel",1,"mat-icon-svgIcon"],["mat-raised-button","","color","primary","matTooltipPosition","above",3,"matTooltip","disabled","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell","",1,"text-center"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"text-center"],[3,"checked","aria-label","click","change"],["mat-header-cell","",2,"padding-left","10px !important","padding-right","10px !important"],["matInput","",1,"form-field",3,"formControl","placeholder"],["mat-header-cell","",1,"custom-filter-table"],["bindValue","_id","bindLabel","short_name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["ng-option-tmp",""],[4,"ngIf"],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],["bindValue","_id","bindLabel","name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["bindValue","_id","bindLabel","name_with_entity",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["bindValue","value","bindLabel","label",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["mat-header-cell",""],["mat-header-cell","","mat-sort-header","last_name","matTooltipPosition","above",3,"matTooltip"],["mat-cell","",3,"matTooltip"],["mat-header-cell","","matTooltipPosition","above",1,"text-center",3,"matTooltip"],[4,"ngFor","ngForOf"],[1,"tags"],["mat-cell",""],["class","display-inline",4,"ngFor","ngForOf"],[1,"display-inline"],["class","tags",3,"matTooltip",4,"ngIf"],[1,"tags",3,"matTooltip"],["mat-header-cell","","mat-sort-header","user_status","matTooltipPosition","above",3,"matTooltip"],["matTooltipPosition","above",3,"matTooltip","ngClass"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-icon-button","","class","margin-right-button",3,"matTooltip","disabled","click",4,"ngIf"],["mat-icon-button","",1,"margin-right-button",3,"matTooltip","disabled","click"],["svgIcon","incognito"],["svgIcon","email-outline"],["svgIcon","email-send-outline"],["mat-header-cell","","colspan","9",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"loading-indicator"],["color","accent",3,"diameter"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"ms-filter-breadcrumb",0),t.\u0275\u0275listener("removeFilterTrigger",function(l){return n.removeFilterBreadcrumb(l)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",1)(2,"div")(3,"table",2),t.\u0275\u0275listener("matSortChange",function(l){return n.sortData(l)}),t.\u0275\u0275elementContainerStart(4,3),t.\u0275\u0275template(5,br,16,17,"th",4),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(6,5),t.\u0275\u0275template(7,Or,2,3,"th",6),t.\u0275\u0275template(8,xr,2,2,"td",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(9,8),t.\u0275\u0275template(10,yr,4,4,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(11,10),t.\u0275\u0275template(12,Pr,6,13,"th",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(13,12),t.\u0275\u0275template(14,Dr,6,13,"th",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(15,13),t.\u0275\u0275template(16,Ur,6,13,"th",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(17,14),t.\u0275\u0275template(18,Rr,6,13,"th",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(19,15),t.\u0275\u0275template(20,jr,6,13,"th",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(21,16),t.\u0275\u0275template(22,Kr,1,0,"th",17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(23,18),t.\u0275\u0275template(24,zr,1,0,"th",17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(25,19),t.\u0275\u0275template(26,Hr,5,6,"th",20),t.\u0275\u0275template(27,$r,6,14,"td",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(28,22),t.\u0275\u0275template(29,qr,5,6,"th",23),t.\u0275\u0275template(30,Qr,2,2,"td",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(31,24),t.\u0275\u0275template(32,Gr,5,6,"th",23),t.\u0275\u0275template(33,Jr,2,2,"td",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(34,25),t.\u0275\u0275template(35,Zr,5,6,"th",23),t.\u0275\u0275template(36,es,2,2,"td",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(37,26),t.\u0275\u0275template(38,ns,5,6,"th",23),t.\u0275\u0275template(39,os,2,1,"td",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(40,28),t.\u0275\u0275template(41,ls,5,6,"th",29),t.\u0275\u0275template(42,ss,4,8,"td",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(43,30),t.\u0275\u0275template(44,cs,5,6,"th",31),t.\u0275\u0275template(45,fs,4,3,"td",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(46,32),t.\u0275\u0275template(47,Cs,3,0,"th",33),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(48,bs,1,0,"tr",34),t.\u0275\u0275template(49,Os,1,0,"tr",34),t.\u0275\u0275template(50,xs,1,0,"tr",34),t.\u0275\u0275template(51,ys,1,1,"tr",35),t.\u0275\u0275template(52,vs,1,1,"tr",36),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(53,Ts,3,3,"div",37),t.\u0275\u0275pipe(54,"async"),t.\u0275\u0275elementStart(55,"div",38),t.\u0275\u0275pipe(56,"async"),t.\u0275\u0275element(57,"mat-paginator",39),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(58,Ms,2,1,"div",40)),2&e&&(t.\u0275\u0275property("filterBreadcrumbData",n.filterBreadcrumbData),t.\u0275\u0275advance(3),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(45),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(18,Ps)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(19,ws)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(54,14,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(20,Ss,t.\u0275\u0275pipeBind1(56,16,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(22,Es,n.usersCount<=10))("length",n.usersCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(24,Ds)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponseTop))},dependencies:[r.mk,r.sg,r.O5,L.lW,Mt.oG,K.Hw,V.KE,nt.Nt,Tt.VK,Tt.OP,Tt.p6,A.NW,H.Ou,T.YE,T.nU,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,ot.gM,f.DefaultValueAccessor,f.CheckboxControlValueAccessor,f.NgControlStatus,f.NgModel,f.FormControlDirective,Y.oO,ur.r,D.w9,D.ir,D.Cm,r.Ov,r.gd,M.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{margin-top:6px}.width-size[_ngcontent-%COMP%]{width:300px}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454;padding-left:.3rem!important;padding-right:.3rem!important}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){text-align:center;width:3%}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:12.5%}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:100%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(5){min-width:150px;max-width:150px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#000}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){min-width:60px;max-width:60px}[_nghost-%COMP%]     table tr td:nth-child(6) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(6) .mat-form-field{margin-top:6px;padding:0 5px}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){min-width:60px;max-width:60px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(7) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(7) .mat-form-field{margin-top:6px;padding:0 5px}[_nghost-%COMP%]     table tr td:nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){min-width:225px;max-width:225px!important;width:225px;padding-right:0!important;text-align:center!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;color:#000;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top;text-align:center}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}[_nghost-%COMP%]     table .userpopup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:52em;max-width:100%;padding:1.25em;border:none;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.aligmnment[_ngcontent-%COMP%]{text-align:right;padding-right:0}.gaping[_ngcontent-%COMP%]{padding-top:6px}.hide[_ngcontent-%COMP%]{display:none}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.display-inline[_ngcontent-%COMP%]{display:inline}  .mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgba(255,255,255,.7)!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container{width:12px;height:12px;margin-left:7px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background{background-color:transparent}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-checkmark .mat-checkbox-checkmark-path{stroke:#000!important}  .all-input.mat-checkbox-indeterminate .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-mixedmark{background-color:#000!important}.float-label[_ngcontent-%COMP%]{font-size:.82rem;color:#ffffff78;font-weight:600;position:absolute;top:-3px}  .filterPanel{margin-top:25px!important}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:0!important;top:auto!important;padding-bottom:0!important}.super-filter[_ngcontent-%COMP%]{width:250px}.custom-filter-table[_ngcontent-%COMP%]     .ng-select{width:100%!important;padding:2px 8px!important;margin:7px 0 0!important}  .mat-form-field-underline{background-color:#ffffffb3!important}']}),i})()},{path:"user-list",component:qt},{path:"teacher-list",component:qt}];let ks=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[W.Bz.forChild(Is),W.Bz]}),i})();var Fs=u(93730),Us=u(37204),As=u(30160),Bs=u(61114),Ns=u(18614);let Rs=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[r.ez,ks,Fs.m,Us.d,D.A0,As.ii.forRoot(),Bs.MailboxModule,Ns.TeacherManagementModule]}),i})()},63030:(It,ht,u)=>{u.d(ht,{x:()=>F});var r=u(13125),W=u(591),f=u(24850),A=u(94650),k=u(80529),B=u(18497);let F=(()=>{class R{constructor(p,t){this.httpClient=p,this.apollo=t,this.refresh=new W.X(null)}triggerRefresh(p){this.refresh.next(p)}getAllUserTypeDropdown(p){return this.apollo.query({query:r.ZP`
          query getAllUserTypeDropdown($entities: [String]) {
            GetAllUserTypes(entities: $entities) {
              _id
              name
              entity
            }
          }
        `,variables:{entities:p},fetchPolicy:"network-only"}).pipe((0,f.U)(t=>{if(t.data)return t.data.GetAllUserTypes}))}getAllSchoolDropdown(p){return this.apollo.watchQuery({query:r.ZP`
          query getAllSchoolDropdown($user_type_id: ID) {
            GetAllCandidateSchool(user_type_id: $user_type_id) {
              _id
              short_name
              campuses {
                _id
                name
                levels {
                  _id
                  name
                }
              }
            }
          }
        `,fetchPolicy:"network-only",variables:{user_type_id:p}}).valueChanges.pipe((0,f.U)(t=>t.data.GetAllCandidateSchool))}GetAllSchoolFilter(p,t){return this.apollo.watchQuery({query:r.ZP`
          query GetAllCandidateSchool($user_type_id: ID){
            GetAllCandidateSchool(${p}, user_type_id: $user_type_id) {
              _id
              short_name
              long_name
              campuses {
                _id
                name
                address
                post_code
                city
                country
                currency
                bank {
                  name
                  contacts {
                    first_name
                    last_name
                    civility
                    sex
                    position
                    fixed_phone
                    mobile_phone
                    email
                  }
                  address
                  post_code
                  city
                  country
                }
                levels {
                  _id
                  name
                  code
                  description
                  extra_fees {
                    name
                    amount
                  }
                  rate_profiles {
                    name
                    down_payment
                    payment_plan {
                      name
                      times
                      additional_expense
                      payment_date {
                        date
                        amount
                      }
                    }
                  }
                  documents {
                    name
                    url
                  }
                  terms_and_condition
                  specialities {
                    name
                  }
                }
                specialities {
                  _id
                  name
                }
              }
              levels {
                _id
                name
                code
                description
                extra_fees {
                  name
                  amount
                }
                rate_profiles {
                  name
                  down_payment
                  payment_plan {
                    name
                    times
                    additional_expense
                    payment_date {
                      date
                      amount
                    }
                  }
                }
                documents {
                  name
                  url
                }
                terms_and_condition
                specialities {
                  name
                }
              }
            }
          }
        `,fetchPolicy:"network-only",variables:{user_type_id:t}}).valueChanges.pipe((0,f.U)(J=>J.data.GetAllCandidateSchool))}updateUserEntities(p,t,J){return this.apollo.mutate({mutation:r.ZP`
          mutation UpdateUserEntities($_id: ID!, $user_input: UserEntityInput!, $user_type_id: ID) {
            UpdateUserEntities(_id: $_id, user_input: $user_input, user_type_id: $user_type_id) {
              _id
            }
          }
        `,variables:{_id:p,user_input:t,user_type_id:J}}).pipe((0,f.U)(M=>M.data.UpdateUserEntities))}updateUserAfterDeleteEntity(p,t,J){return this.apollo.mutate({mutation:r.ZP`
          mutation UpdateUser($_id: ID!, $lang: String!, $user_input: UserInput!,$user_type_id: ID) {
            UpdateUser(_id: $_id, lang: $lang, user_input: $user_input, user_type_id: $user_type_id) {
              _id
            }
          }
        `,variables:{_id:p,lang:localStorage.getItem("currentLang")?localStorage.getItem("currentLang"):"fr",user_input:t,user_type_id:J||null}}).pipe((0,f.U)(M=>M.data.UpdateUser))}}return R.\u0275fac=function(p){return new(p||R)(A.\u0275\u0275inject(k.eN),A.\u0275\u0275inject(B._M))},R.\u0275prov=A.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()}}]);