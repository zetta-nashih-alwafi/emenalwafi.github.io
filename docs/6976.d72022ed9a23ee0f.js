"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[6976],{36976:(io,X,d)=>{d.r(X),d.d(X,{NotificationManagementModule:()=>no});var g=d(36895),M=d(610),pt=d(36224),y=d(3848),Z=d(30567),S=d(68745),mt=d(35226),c=d.n(mt),t=d(94650),q=d(591),x=d(21086),f=d(24850),T=d(13125),h=d(17489),gt=d.n(h),ht=d(18497),_t=d(84130),_=d(89383),J=d(84075);let w=(()=>{class i{constructor(e,n,o,a){this.apollo=e,this.permissions=n,this.translate=o,this.utilService=a,this.refresh=new q.X(null),this.isHasDefaultTemplate=new q.X(!1),this.isHasDefaultTemplate$=this.isHasDefaultTemplate.asObservable()}setHasDefaultTemplate(e){this.isHasDefaultTemplate.next(e)}triggerRefresh(){this.refresh.next(!0)}getAllNotificationReferencesForTable(e,n,o){return this.apollo.query({query:T.ZP`
          query GetAllNotificationReferences(
            $filter: NotificationReferenceFilter
            $pagination: PaginationInput
            $sort: NotificationReferenceSort
            $selectedLocalization: String
          ) {
            GetAllNotificationReferences(filter: $filter, pagination: $pagination, sort: $sort, selectedLocalization: $selectedLocalization) {
              _id
              when
              notification_reference
              module
              count_document
            }
          }
        `,variables:{filter:e||null,pagination:n||null,sort:o||null,selectedLocalization:this.translate.currentLang},fetchPolicy:"network-only"}).pipe((0,f.U)(a=>a.data.GetAllNotificationReferences))}getOneNotificationReference(e){return this.apollo.query({query:T.ZP`
        query GetOneNotificationReference{
          GetOneNotificationReference(_id: "${e}") {
            _id
            when
            notification_reference
            financial_supports_cc
            module
            context
            signatory {
              _id
              name
            }
            recipient_to {
              _id
              name
            }
            recipient_cc {
              _id
              name
            }
            triggered
            related_task
            count_document
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,f.U)(n=>n.data.GetOneNotificationReference))}getOneTemplateKey(e){return this.apollo.query({query:T.ZP`
          query GetOneNotificationReference($_id: ID!, $selectedLocalization: String) {
            GetOneNotificationReference(_id: $_id, selectedLocalization: $selectedLocalization) {
              _id
              keys {
                key
                description
                static_value
              }
              key_groups {
                name_group
                _id
                keys {
                  key
                  en_description
                  fr_description
                }
              }
            }
          }
        `,fetchPolicy:"network-only",variables:{_id:e,selectedLocalization:this.translate.currentLang}}).pipe((0,f.U)(n=>n.data.GetOneNotificationReference))}getOneTemplate(e){return this.apollo.query({query:T.ZP`
        query GetOneNotificationTemplate{
          GetOneNotificationTemplate(_id: "${e}") {
            _id
            notification_reference_id {
              _id
            }
            program_seasons {
              scholar_season {
                _id
                scholar_season
              }
              programs {
                _id
                program
              }
            }
            template_name
            is_default_template
            subject_en
            subject_fr
            en
            fr
            is_publish
            status
            attachments {
              _id
              document_type
              filename
              s3_file_name
              document_builder_id {
                _id
                document_builder_name
              }
            }
            is_attach_file_in_zip
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,f.U)(n=>n.data.GetOneNotificationTemplate))}getAllModulesForDropdown(){return this.apollo.query({query:T.ZP`
          query GetAllModules {
            GetAllNotificationReferences {
              module
            }
          }
        `,fetchPolicy:"network-only"}).pipe((0,f.U)(e=>e.data.GetAllNotificationReferences))}getAllReferencesForDropdown(){return this.apollo.query({query:T.ZP`
          query GetAllReferences {
            GetAllNotificationReferences {
              notification_reference
            }
          }
        `,fetchPolicy:"network-only"}).pipe((0,f.U)(e=>e.data.GetAllNotificationReferences))}getAllNotificationTemplates(e,n,o){return this.apollo.query({query:T.ZP`
          query GetAllNotificationTemplates(
            $pagination: PaginationInput
            $filter: NotificationTemplateFilter
            $sort: NotificationTemplateSort,
            $lang: String
          ) {
            GetAllNotificationTemplates(pagination: $pagination, filter: $filter, sort: $sort, lang: $lang) {
              _id
              template_name
              program_seasons {
                scholar_season {
                  _id
                  scholar_season
                }
                programs {
                  _id
                  program
                }
              }
              is_default_template
              is_publish
              count_document
            }
          }
        `,variables:{pagination:n||null,filter:e||null,sort:o||null,lang:localStorage.getItem("currentLang")?localStorage.getItem("currentLang"):"fr"},fetchPolicy:"network-only"}).pipe((0,f.U)(a=>a.data.GetAllNotificationTemplates))}updateNotificationReference(e,n){return this.apollo.mutate({mutation:T.ZP`
          mutation UpdateNotificationReference($_id: ID!, $notification_reference_input: NotificationReferenceInput) {
            UpdateNotificationReference(_id: $_id, notification_reference_input: $notification_reference_input) {
              _id
            }
          }
        `,variables:{_id:e,notification_reference_input:n}}).pipe((0,f.U)(o=>o.data.UpdateNotificationReference))}createNotificationTemplate(e){return this.apollo.mutate({mutation:T.ZP`
          mutation CreateNotificationTemplate($notification_template_input: NotificationTemplateInput) {
            CreateNotificationTemplate(notification_template_input: $notification_template_input) {
              _id
            }
          }
        `,variables:{notification_template_input:e}}).pipe((0,f.U)(n=>n.data.CreateNotificationTemplate))}deleteNotificationTemplate(e){return this.apollo.mutate({mutation:T.ZP`
          mutation DeleteNotificationTemplate{
            DeleteNotificationTemplate(_id: "${e}") {
              _id
            }
          }
        `}).pipe((0,f.U)(n=>n.data.DeleteNotificationTemplate))}sendNotificationPreview(e){return this.apollo.mutate({mutation:T.ZP`
          mutation ($notification_template_id: ID!, $lang: String) {
            SendNotificationPreview(notification_template_id: $notification_template_id, lang: $lang)
          }
        `,variables:{notification_template_id:e,lang:localStorage.getItem("currentLang")?localStorage.getItem("currentLang"):"fr"}}).pipe((0,f.U)(n=>n.data.DeleteNotificationTemplate))}updateNotificationTemplate(e,n){return this.apollo.mutate({mutation:T.ZP`
          mutation UpdateNotificationTemplate($_id: ID!, $notification_template_input: NotificationTemplateInput) {
            UpdateNotificationTemplate(_id: $_id, notification_template_input: $notification_template_input) {
              _id
              attachments {
                _id
                document_type
                filename
                s3_file_name
                document_builder_id {
                  _id
                  document_builder_name
                }
              }
            }
          }
        `,variables:{_id:e,notification_template_input:n}}).pipe((0,f.U)(o=>o.data.UpdateNotificationTemplate))}getAllAttachmentsData(e,n,o,a){const l=gt().cloneDeep(e),p=n?.page*n?.limit,O=p+n?.limit;let P=[];if(l){const z=l.map(C=>{const W=C?.filename?.substring(C?.filename.lastIndexOf("."));return{...C,file_extension:"document_builder"!==C?.document_type?W:""}}).filter(C=>(!o?.filename||this.utilService.simpleDiacriticSensitiveRegex(C?.filename).toLowerCase()?.includes(this.utilService.simpleDiacriticSensitiveRegex(o?.filename).toLowerCase()))&&(!o?.document_type||o?.document_type?.includes(C?.document_type))&&(!o?.file_extension||o?.file_extension?.includes(C?.file_extension)));if(a){const C=Object.keys(a)[0];if(C){const W=(Y,Q)=>Y[C].localeCompare(Q[C]);z.sort("desc"===a[C]?(Y,Q)=>W(Q,Y):W)}}P=z.map(C=>({...C,count_document:z.length})).slice(p,O)}return(0,x.of)(P)}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275inject(ht._M),t.\u0275\u0275inject(_t.YI),t.\u0275\u0275inject(_.sK),t.\u0275\u0275inject(J.t))},i.\u0275prov=t.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var tt=d(67154),D=d(52688),N=d(51572),F=d(49671),s=d(24006),k=d(98739),v=d(96308),m=d(53626),et=d(1059),$=d(22868),H=d(80013),u=d(65938),ft=d(72986),nt=d(94442),R=d(73555),E=d(4859),I=d(97392),A=d(59549),U=d(284),G=d(90455),B=d(10266),V=d(24784),b=d(88796);function ut(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",14),t.\u0275\u0275element(2,"mat-spinner",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function bt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",26),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ct(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",34),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.scholar_season," ")}}function xt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",26),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ot(i,r){1&i&&(t.\u0275\u0275elementStart(0,"ng-option",38),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"AllM")))}function Pt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",34),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",null==e?null:e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.program," ")}}function Tt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",26),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Mt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",35)(1,"div",28)(2,"ng-select",36),t.\u0275\u0275listener("change",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.selectAllPrograms(o))}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Ot,3,3,"ng-option",37),t.\u0275\u0275template(5,Pt,2,2,"ng-option",30),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,Tt,3,3,"div",21),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(3,9,"Select Program"),"*"),t.\u0275\u0275property("formControl",e.selectedPrograms)("multiple",!0)("hideSelected",!0)("clearable",!0)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.programsOptions),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.programList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.programSeasons.invalid&&(e.programSeasons.dirty||e.programSeasons.touched))}}function vt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",34),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.scholar_season," ")}}function yt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",26),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function St(i,r){1&i&&(t.\u0275\u0275elementStart(0,"ng-option",38),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"AllM")))}function wt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",34),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",null==e?null:e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.program," ")}}function Nt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",26),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function kt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",27)(1,"div",28)(2,"ng-select",46),t.\u0275\u0275listener("change",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().index,l=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(l.selectAllAddedPrograms(o,a))}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,St,3,3,"ng-option",37),t.\u0275\u0275template(5,wt,2,2,"ng-option",30),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,Nt,3,3,"div",21),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(),n=e.$implicit,o=e.index,a=t.\u0275\u0275nextContext(4);let l,p;t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(3,8,"Select Program"),"*"),t.\u0275\u0275property("multiple",!0)("clearable",!0)("hideSelected",!0)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==n||null==(l=n.get("programs"))?null:l.value)&&(null==a.programListMatrix[o]?null:a.programListMatrix[o].length)!==(null==n||null==(l=n.get("programs"))?null:l.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a.programListMatrix[o]),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n||null==(p=n.get("programs"))?null:p.hasError("required"))&&((null==n||null==(p=n.get("programs"))?null:p.dirty)||(null==n||null==(p=n.get("programs"))?null:p.touched)))}}function Et(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0,41),t.\u0275\u0275elementStart(1,"div",17)(2,"div",27)(3,"div",28)(4,"ng-select",42),t.\u0275\u0275listener("change",function(){const a=t.\u0275\u0275restoreView(e).index,l=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(l.onChangeAddedSeason(a))}),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275template(6,vt,2,2,"ng-option",30),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,yt,3,3,"div",21),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(8,kt,7,10,"div",43),t.\u0275\u0275elementStart(9,"span",44)(10,"button",45),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).index,l=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(l.removeSeasonProgram(a))}),t.\u0275\u0275elementStart(11,"mat-icon"),t.\u0275\u0275text(12,"remove_circle"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=r.$implicit,n=r.index,o=t.\u0275\u0275nextContext(4);t.\u0275\u0275property("formGroupName",n),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(5,8,"Select Scholar Season"),"*"),t.\u0275\u0275property("multiple",!1)("hideSelected",!0)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",o.originalSeasonList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.get("scholar_season").hasError("required")&&(e.get("scholar_season").dirty||e.get("scholar_season").touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==o.programListMatrix?null:o.programListMatrix.length)}}function It(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",39),t.\u0275\u0275template(2,Et,13,10,"ng-container",40),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.programSeasons.controls)}}function Dt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",17)(2,"div",27)(3,"div",28)(4,"ng-select",29),t.\u0275\u0275listener("change",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.getPrograms())}),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275template(6,Ct,2,2,"ng-option",30),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(7,xt,3,3,"div",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,Mt,7,11,"div",31),t.\u0275\u0275elementStart(9,"span",32)(10,"button",33),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.addSeasonProgram())}),t.\u0275\u0275elementStart(11,"mat-icon"),t.\u0275\u0275text(12,"add_circle"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(13,It,3,1,"ng-container",9),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(5,10,"Select Scholar Season"),"*"),t.\u0275\u0275property("formControl",e.selectedSeason)("multiple",!1)("hideSelected",!0)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.seasonList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.programSeasons.invalid&&(e.programSeasons.dirty||e.programSeasons.touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.programList?null:e.programList.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!(null!=e.selectedPrograms&&null!=e.selectedPrograms.value&&e.selectedPrograms.value.length&&null!=e.selectedSeason&&e.selectedSeason.value&&0!==(null==e.seasonList?null:e.seasonList.length))),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.programSeasons?null:e.programSeasons.length)}}const Ft=function(i){return{"text-slider-color":i}};function At(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0,16),t.\u0275\u0275elementStart(1,"div",17)(2,"div",18)(3,"mat-form-field",19)(4,"mat-label"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(7,"input",20),t.\u0275\u0275template(8,bt,3,3,"mat-error",21),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(9,"div",17)(10,"div",22)(11,"mat-slide-toggle",23),t.\u0275\u0275listener("change",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onTemplateDefaultToggle(o))}),t.\u0275\u0275elementStart(12,"span",24),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"span")(16,"mat-icon",25),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275text(18," help "),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(19,Dt,14,12,"ng-container",9),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("formGroup",e.templateForm),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,8,"Template Name")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",e.templateForm.get("template_name").hasError("required")&&(e.templateForm.get("template_name").dirty||e.templateForm.get("template_name").touched)),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(14,Ft,e.templateForm.get("is_default_template").value)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(14,10,e.templateForm.get("is_default_template").value?"Template is Default Template":"Template is Not Default Template")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("matTooltipPosition","right")("matTooltip",t.\u0275\u0275pipeBind1(17,12,"Default Template Toggle")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!e.templateForm.get("is_default_template").value)}}let it=(()=>{class i{constructor(e,n,o,a,l,p,O){this.fb=e,this.translate=n,this.financeService=o,this.data=a,this.dialogRef=l,this.notificationService=p,this.authService=O,this.seasonList=[],this.originalSeasonList=[],this.programList=[],this.subs=new S.Y,this.isAwaitingForResponse=!1,this.selectedSeason=new s.UntypedFormControl(null),this.selectedPrograms=new s.UntypedFormControl([]),this.programListMatrix=[],this.programsOptions=!0}ngOnInit(){this.initTemplateForm(),this.getScholarSeasons()}initTemplateForm(){this.templateForm=this.fb.group({notification_reference_id:[this.data?.notification_id],is_default_template:[!1],program_seasons:this.fb.array([],s.Validators.required),template_name:[null,s.Validators.required]})}addSeasonProgram(){const e=this.fb.group({scholar_season:[this.selectedSeason.value,s.Validators.required],programs:[this.selectedPrograms.value,s.Validators.required]});this.programListMatrix.push(this.programList),this.programSeasons.push(e),this.selectedPrograms.patchValue(null),this.selectedSeason.patchValue(null),this.programsOptions=!0;const n=this.programSeasons.value.map(o=>o?.scholar_season);n&&n.length>0&&(this.seasonList=this.seasonList.filter(o=>!n.includes(o?._id)))}addEmptyProgramSeasons(){const e=this.fb.group({scholar_season:[null,s.Validators.required],programs:[null,s.Validators.required]});this.programSeasons.push(e)}patchForm(e){e&&e.program_seasons&&e.program_seasons.length&&(e.program_seasons=e.program_seasons.map(o=>{const a=o?.programs.map(p=>p?._id),l=o?.scholar_season?._id||null;return{...o,programs:a,scholar_season:l}}),this.programSeasons?.length<e?.program_seasons?.length&&e.program_seasons.forEach((o,a)=>{this.addEmptyProgramSeasons(),this.getProgramsForAddedProgramSeasons(o?.scholar_season,a)})),this.templateForm.patchValue(e);const n=this.programSeasons.value.map(o=>o.scholar_season);n&&n.length>0&&(this.seasonList=this.originalSeasonList.filter(o=>!n.includes(o?._id))),e.is_default_template&&(this.programSeasons.clearValidators(),this.programSeasons.updateValueAndValidity())}getScholarSeasons(){this.isAwaitingForResponse=!0,this.subs.sink=this.financeService.GetAllScholarSeasonsDropdown().subscribe(e=>{this.isAwaitingForResponse=!1,this.seasonList=e,this.originalSeasonList=e,this.data&&this.data.existingData&&this.patchForm({...this.data.existingData})},e=>{this.authService.postErrorLog(e),this.isAwaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getPrograms(){this.subs.sink=this.financeService.getAllProgramByScholar(this.selectedSeason.value).subscribe(e=>{this.programList=e},e=>{this.authService.postErrorLog(e),c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}onChangeAddedSeason(e){this.programSeasons.at(e).get("programs").patchValue(null);const n=this.programSeasons.at(e).get("scholar_season").value;this.getProgramsForAddedProgramSeasons(n,e)}getProgramsForAddedProgramSeasons(e,n){this.subs.sink=this.financeService.getAllProgramByScholar(e).pipe((0,ft.q)(1)).subscribe(o=>{this.programListMatrix.splice(n,0,o)},o=>{this.authService.postErrorLog(o),c().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}onTemplateDefaultToggle(e){e.checked?this.programSeasons.clearValidators():this.programSeasons.setValidators([s.Validators.required]),this.programSeasons.updateValueAndValidity()}get programSeasons(){return this.templateForm.get("program_seasons")}removeSeasonProgram(e){this.programSeasons.removeAt(e),this.programSeasons.updateValueAndValidity(),this.programListMatrix.splice(e,1);const n=this.programSeasons.value.map(o=>o.scholar_season);this.seasonList=n&&n.length>0?this.originalSeasonList.filter(o=>!n.includes(o._id)):this.originalSeasonList}closeDialog(e){this.dialogRef.close(e)}getSelectedSeasons(){const e=this.programSeasons.value.map(n=>n.scholar_season);return this.originalSeasonList.filter(n=>n&&n._id&&e.includes(n._id)).map(n=>n.scholar_season).join(", ")}getSelectedPrograms(){const e=this.programSeasons.value.map(o=>o.programs),n=[].concat.apply([],e);return this.programList.filter(o=>o&&o._id&&n.includes(o._id)).map(o=>o.program).join(", ")}displayWarningSwalBeforeSubmit(){var e=this;return(0,F.Z)(function*(){if(e.templateForm.get("is_default_template").value)yield c().fire({type:"warning",title:e.translate.instant("Notif_S3.TITLE"),html:e.translate.instant("Notif_S3.TEXT"),confirmButtonText:e.translate.instant("Notif_S3.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1});else{const n=e.getSelectedSeasons(),o=e.getSelectedPrograms();yield c().fire({type:"warning",title:e.translate.instant("Notif_S5.TITLE",{templateName:e.templateForm.value.template_name}),html:e.translate.instant("Notif_S5.TEXT",{scholarSeasons:n,programmes:o}),confirmButtonText:e.translate.instant("Notif_S5.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1})}})()}submit(){let o=!1;!!(this.selectedPrograms.value&&this.selectedPrograms.value.length>0)&&!!this.selectedSeason.value&&(o=!(this.programSeasons.length>0&&this.programSeasons.value.find(a=>a.scholar_season===this.selectedSeason.value))),o&&this.addSeasonProgram(),this.templateForm.invalid?(c().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.markAllFieldsAsTouched(this.templateForm)):this.sendSubmit()}updateTemplate(){this.isAwaitingForResponse=!0;const e=this.templateForm.getRawValue();e.is_default_template&&(e.program_seasons=[]),this.notificationService.updateNotificationTemplate(this.data.existingData._id,e).subscribe(n=>{this.isAwaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},n=>{this.authService.postErrorLog(n),this.isAwaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}createNewTemplate(){var e=this;return(0,F.Z)(function*(){e.isAwaitingForResponse=!0;const n=e.templateForm.getRawValue();n.is_default_template&&(n.program_seasons=[]),yield e.displayWarningSwalBeforeSubmit(),e.notificationService.createNotificationTemplate(n).subscribe(o=>{e.isAwaitingForResponse=!1,o&&(e.templateForm.get("is_default_template").value?c().fire({type:"success",title:e.translate.instant("Notif_S4.TITLE"),text:e.translate.instant("Notif_S4.TEXT"),confirmButtonText:e.translate.instant("Notif_S4.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{e.dialogRef.close(!0)}):c().fire({type:"success",title:e.translate.instant("Bravo!"),text:e.translate.instant("Notif_S6.TEXT",{templateName:e.templateForm.value.template_name}),confirmButtonText:e.translate.instant("Notif_S6.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{e.dialogRef.close(!0)}))},o=>{e.authService.postErrorLog(o),"GraphQL error: name already exists."===o.message?c().fire({title:e.translate.instant("Uniquename_S1.TITLE"),html:e.translate.instant("Uniquename_S1.TEXT"),type:"warning",showConfirmButton:!0,confirmButtonText:e.translate.instant("Uniquename_S1.BUTTON 1")}):c().fire({type:"info",title:e.translate.instant("SORRY"),text:o&&o.message?e.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:e.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}),e.isAwaitingForResponse=!1})})()}checkFormValidity(){var e=this;return(0,F.Z)(function*(){return!e.templateForm.invalid||(yield c().fire({type:"warning",title:e.translate.instant("FormSave_S1.TITLE"),html:e.translate.instant("FormSave_S1.TEXT"),confirmButtonText:e.translate.instant("FormSave_S1.BUTTON")}),e.markAllFieldsAsTouched(e.templateForm),!1)})()}markAllFieldsAsTouched(e){Object.keys(e.controls).forEach(n=>{const o=e.get(n);if(o instanceof s.UntypedFormControl)o.markAsTouched({onlySelf:!0});else if(o instanceof s.UntypedFormGroup)this.markAllFieldsAsTouched(o);else if(o instanceof s.UntypedFormArray){o.markAsTouched();for(const a of o.controls)a.markAllAsTouched()}})}selectAllPrograms(e){if(this.programsOptions=this.selectedPrograms.value.length!==this.programList.length,e.includes("all")){const n=this.programList.map(o=>o._id);this.selectedPrograms.setValue(n),this.selectedPrograms.value.length===this.programList.length&&(this.programsOptions=!1)}}selectAllAddedPrograms(e,n){e.includes("all")&&this.programSeasons.at(n).get("programs").patchValue(this.programListMatrix[n].map(o=>o._id))}sendSubmit(){this.data&&this.data.hasDefaultTemplate&&this.templateForm.get("is_default_template").value&&!this.data.existingData?c().fire({type:"warning",title:this.translate.instant("DEFAULT_TEMPLATE_ALREADY_EXIST.TITLE"),text:this.translate.instant("DEFAULT_TEMPLATE_ALREADY_EXIST.TEXT",{notificationRef:this.data.notification_reference}),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(e=>{this.templateForm.get("is_default_template").patchValue(!1)}):this.data.existingData?this.updateTemplate():this.createNewTemplate()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(s.UntypedFormBuilder),t.\u0275\u0275directiveInject(_.sK),t.\u0275\u0275directiveInject(nt.N),t.\u0275\u0275directiveInject(u.WI),t.\u0275\u0275directiveInject(u.so),t.\u0275\u0275directiveInject(w),t.\u0275\u0275directiveInject(D.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-add-template-dialog"]],decls:24,vars:13,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper","header-dialog"],[1,"p-grid","justify-content-between"],[1,"p-col-10","no-padding"],["mat-icon-button","",1,"mt-5px",2,"vertical-align","text-bottom","margin-right","5px"],[1,"dialogTitle"],[1,"p-col-2","no-padding"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",2,"overflow","hidden !important","max-width","50vw"],[4,"ngIf"],[3,"formGroup",4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end","mr-10"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-button","","mat-raised-button","","color","primary",1,"mr-0",3,"click"],[1,"center-spinner"],["color","accent"],[3,"formGroup"],[1,"p-grid"],[1,"p-col-12"],["appearance","legacy",1,"example-full-width"],["matInput","","formControlName","template_name"],["class","invalid-feedback",4,"ngIf"],[1,"p-col-8"],["color","accent","formControlName","is_default_template",3,"change"],[3,"ngClass"],["id","help-icon",3,"matTooltipPosition","matTooltip"],[1,"invalid-feedback"],[1,"p-col-5"],[1,"custom-ng-select","no-padding"],["appendTo","body",1,"mrgn-btn","custom-ngselect-dropdown",3,"formControl","multiple","hideSelected","appendTo","placeholder","change"],[3,"value",4,"ngFor","ngForOf"],["class","p-col-5 programOptions",4,"ngIf"],[1,"add-remove-icon","plus"],["color","accent","mat-icon-button","",3,"disabled","click"],[3,"value"],[1,"p-col-5","programOptions"],["appendTo","body",1,"mrgn-btn","custom-ngselect-dropdown",3,"formControl","multiple","hideSelected","clearable","appendTo","placeholder","change"],["value","all",4,"ngIf"],["value","all"],["formArrayName","program_seasons",1,"yellow-border"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["appendTo","body","formControlName","scholar_season",1,"mrgn-btn","custom-ngselect-dropdown",3,"multiple","hideSelected","appendTo","placeholder","change"],["class","p-col-5",4,"ngIf"],[1,"add-remove-icon"],["color","warn","mat-icon-button","",3,"click"],["appendTo","body","formControlName","programs",1,"mrgn-btn","custom-ngselect-dropdown",3,"multiple","clearable","hideSelected","appendTo","placeholder","change"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5," description "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"h3",5),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",6)(11,"button",7),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275elementStart(12,"mat-icon"),t.\u0275\u0275text(13,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(14,"div",8),t.\u0275\u0275template(15,ut,3,0,"ng-container",9),t.\u0275\u0275template(16,At,20,16,"ng-container",10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"div",11)(18,"button",12),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275text(19),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"button",13),t.\u0275\u0275listener("click",function(){return n.submit()}),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(null!=n.data&&n.data.existingData?t.\u0275\u0275pipeBind1(8,5,"Edit Template"):t.\u0275\u0275pipeBind1(9,7,"Add Template")),t.\u0275\u0275advance(8),t.\u0275\u0275property("ngIf",n.isAwaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.isAwaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(20,9,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(23,11,"Submit")," "))},dependencies:[g.mk,g.sg,g.O5,R.Zt,R.Bh,E.lW,u.xY,u.H8,I.Hw,A.TO,A.KE,A.hX,U.Nt,N.Ou,G.Rr,B.gM,s.DefaultValueAccessor,s.NgControlStatus,s.NgControlStatusGroup,s.FormControlDirective,s.FormGroupDirective,s.FormControlName,s.FormGroupName,s.FormArrayName,V.oO,b.w9,b.jq,_.X$],styles:[".dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black}.no-padding[_ngcontent-%COMP%]{padding:0}.float-right[_ngcontent-%COMP%]{float:right}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.mat-dialog-content[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:15px}.w-30[_ngcontent-%COMP%]{width:30px}.w-65[_ngcontent-%COMP%]{width:65px}.mt-5px[_ngcontent-%COMP%]{margin-top:5px}.custom-ng-select[_ngcontent-%COMP%]     .ng-select .ng-select-container{background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid rgba(0,0,0,.12)!important;min-height:36px;align-items:center}.custom-ng-select[_ngcontent-%COMP%]     .mat-select-arrow-wrapper{padding-right:5px}.custom-ng-select[_ngcontent-%COMP%]     .mat-select-value-text{margin-left:10px;font-size:13px}.custom-ng-select   [_nghost-%COMP%]  .ng-select.ng-select-focused:not(.ng-select-opened)>.ng-select-container{border:0px!important;box-shadow:none!important}.custom-ng-select   [_nghost-%COMP%]  .ng-select.ng-select-focused:not(.ng-select-opened).ng-select-container{border:0px!important;box-shadow:none!important}.custom-ng-select   [_nghost-%COMP%]  .ng-select.ng-select-focused:not(.ng-select-opened){border:0px!important;box-shadow:none!important}.custom-ng-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container{align-items:center;padding-left:unset!important}.custom-ng-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#000;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.custom-ng-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container .ng-placeholder{color:#d5d5d5;font-size:14px;font-weight:500}.custom-ng-select[_ngcontent-%COMP%]     .ng-select.ng-invalid.ng-touched .ng-select-container{border-color:#dc3545;box-shadow:inset 0 1px 1px #00000013,0 0 0 3px #fde6e8}.invalid-feedback[_ngcontent-%COMP%]{font-size:12px;margin-top:10px;color:#dc3545}.add-remove-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.plus[_ngcontent-%COMP%]   .mat-button.mat-accent[_ngcontent-%COMP%], .plus[_ngcontent-%COMP%]   .mat-icon-button.mat-accent[_ngcontent-%COMP%], .plus[_ngcontent-%COMP%]   .mat-stroked-button.mat-accent[_ngcontent-%COMP%]{color:green}#help-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-left:10px;color:#d3d3d3;cursor:default}.ng-select[_ngcontent-%COMP%]{max-height:150px;overflow-y:scroll}  .custom-ngselect-dropdown ng-dropdown-panel{width:-moz-fit-content!important;width:fit-content!important}"]}),i})();var Rt=d(87746);function Bt(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",13),t.\u0275\u0275element(2,"mat-spinner",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Vt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",27),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"USER_TYPES."+(null==e?null:e.name))," ")}}function Lt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",28),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ut(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",27),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"USER_TYPES."+(null==e?null:e.name))," ")}}function jt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",27),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"USER_TYPES."+(null==e?null:e.name))," ")}}function zt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",28),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}const Wt=function(i){return{color:i}};function $t(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",16)(1,"mat-slide-toggle",29)(2,"span",30),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(4,Wt,e.notificationDetailForm.get("financial_supports_cc").value?"#fdd835":"black")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,2,"Include financial support in CC")," ")}}function Ht(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",15)(2,"div",2)(3,"div",16)(4,"mat-form-field",17)(5,"mat-label"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(8,"input",18),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",16)(10,"div",19)(11,"ng-select",20),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275template(13,Vt,3,4,"ng-option",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(14,Lt,3,3,"div",22),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",16)(16,"div",19)(17,"ng-select",23),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275template(19,Ut,3,4,"ng-option",21),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(20,"div",16)(21,"div",19)(22,"ng-select",24),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275template(24,jt,3,4,"ng-option",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(25,zt,3,3,"div",22),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(26,"div",16)(27,"mat-form-field",17)(28,"mat-label"),t.\u0275\u0275text(29),t.\u0275\u0275pipe(30,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(31,"input",25),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(32,$t,5,6,"div",26),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroup",e.notificationDetailForm),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(7,21,"Notif Ref")," "),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(12,23,"Recipient"),"*"),t.\u0275\u0275property("multiple",!0)("hideSelected",!0)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.notificationDetailForm.get("recipient_to").hasError("required")&&(e.notificationDetailForm.get("recipient_to").dirty||e.notificationDetailForm.get("recipient_to").touched)),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(18,25,"CC")),t.\u0275\u0275property("multiple",!0)("hideSelected",!0)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.recipientsCC),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(23,27,"Signatory"),"*"),t.\u0275\u0275property("multiple",!1)("hideSelected",!0)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.signatories),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.notificationDetailForm.get("signatory").hasError("required")&&(e.notificationDetailForm.get("signatory").dirty||e.notificationDetailForm.get("signatory").touched)),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(30,29,"Related Task")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",e.checkRecipientIsCandidate())}}let Gt=(()=>{class i{constructor(e,n,o,a,l,p,O){this.dialogRef=e,this.fb=n,this.userService=o,this.translate=a,this.notificationService=l,this.data=p,this.authService=O,this.isWaitingForResponse=!1,this.recipients=[],this.signatories=[],this.subs=new S.Y}ngOnInit(){this.initForm(),this.getUserTypes()}initForm(){this.notificationDetailForm=this.fb.group({notification_reference:[{value:null,disabled:!0}],recipient_to:[[],s.Validators.required],recipient_cc:[[]],financial_supports_cc:[!1],signatory:[null,s.Validators.required],related_task:[{value:null,disabled:!0}]})}checkRecipientIsCandidate(){let e=!1;const n=this.notificationDetailForm.get("recipient_to").value;if(this.notificationDetailForm.value&&n&&n.length){const o=n.filter(a=>"5fe98eeadb866c403defdc6c"===a||"5a067bba1c0217218c75f8ab"===a);o&&o.length?e=!0:this.notificationDetailForm.get("financial_supports_cc").setValue(!1)}return e}getUserTypes(){this.isWaitingForResponse=!0,this.userService.getAllUserTypeWithStudent().subscribe(e=>{this.isWaitingForResponse=!1,this.recipients=e,this.signatories=e,this.recipientsCC=e,this.data&&this.patchForm()},e=>{this.authService.postErrorLog(e),this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}patchForm(){const e={...this.data};e?.signatory?._id&&(e.signatory=e.signatory._id),e?.recipient_to?.length&&(e.recipient_to=e.recipient_to.map(n=>n?._id)),e?.recipient_cc?.length&&(e.recipient_cc=e.recipient_cc.map(n=>n?._id)),this.notificationDetailForm.patchValue(e),this.initialForm=this.notificationDetailForm.getRawValue()}checkFormValidity(){var e=this;return(0,F.Z)(function*(){return!e.notificationDetailForm.invalid||(yield c().fire({type:"warning",title:e.translate.instant("FormSave_S1.TITLE"),html:e.translate.instant("FormSave_S1.TEXT"),confirmButtonText:e.translate.instant("FormSave_S1.BUTTON")}),e.markAllFieldsAsTouched(e.notificationDetailForm),!1)})()}markAllFieldsAsTouched(e){Object.keys(e.controls).forEach(n=>{const o=e.get(n);o instanceof s.UntypedFormControl?o.markAsTouched({onlySelf:!0}):o instanceof s.UntypedFormGroup&&this.markAllFieldsAsTouched(o)})}closeDialog(e){this.dialogRef.close(e)}getUpdatedFields(){let e=[],n=this.notificationDetailForm.getRawValue();for(const o of Object.keys(this.initialForm))this.initialForm[o]!==n[o]&&e.push(o);return e.map(o=>this.getFieldsName(o)).join(", ")}getFieldsName(e){switch(e){case"recipient_to":return this.translate.instant("Recipient");case"signatory":return this.translate.instant("Signatory");case"recipient_cc":return this.translate.instant("CC");default:return""}}submit(){var e=this;return(0,F.Z)(function*(){if(!(yield e.checkFormValidity()))return;e.isWaitingForResponse=!0;const n=e.getUpdatedFields();n&&(yield c().fire({type:"warning",title:e.translate.instant("Notif_S1.TITLE"),html:e.translate.instant("Notif_S1.TEXT",{updatedFields:n}),confirmButtonText:e.translate.instant("Notif_S1.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1})),e.subs.sink=e.notificationService.updateNotificationReference(e.data._id,e.notificationDetailForm.getRawValue()).subscribe(o=>{e.isWaitingForResponse=!1,c().fire({type:"success",title:e.translate.instant("Notif_S2.TITLE"),text:e.translate.instant("Notif_S2.TEXT"),confirmButtonText:e.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{e.dialogRef.close(!0)})},o=>{e.authService.postErrorLog(o),e.isWaitingForResponse=!1,c().fire({type:"info",title:e.translate.instant("SORRY"),text:o&&o.message?e.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:e.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})})()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(u.so),t.\u0275\u0275directiveInject(s.UntypedFormBuilder),t.\u0275\u0275directiveInject(Rt.K),t.\u0275\u0275directiveInject(_.sK),t.\u0275\u0275directiveInject(w),t.\u0275\u0275directiveInject(u.WI),t.\u0275\u0275directiveInject(D.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-edit-notification-details-dialog"]],decls:23,vars:11,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper","header-dialog"],[1,"p-grid"],[1,"p-col-10","no-padding"],["mat-icon-button","",2,"margin-right","10px","vertical-align","sub"],[1,"dialogTitle"],[1,"p-col-2","no-padding"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",2,"overflow","hidden !important"],[4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end","mr-10"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-button","","mat-raised-button","","color","primary",1,"mr-0",3,"click"],[1,"center-spinner"],["color","accent"],[2,"max-width","45vw",3,"formGroup"],[1,"p-col-12"],["appearance","legacy",1,"example-full-width"],["matInput","","formControlName","notification_reference"],[1,"custom-ng-select","no-padding"],["appendTo","body","formControlName","recipient_to",1,"mrgn-btn","custom-ngselect-dropdown",3,"multiple","hideSelected","appendTo","placeholder"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["appendTo","body","formControlName","recipient_cc",1,"mrgn-btn","custom-ngselect-dropdown",3,"multiple","hideSelected","appendTo","placeholder"],["appendTo","body","formControlName","signatory",1,"mrgn-btn","custom-ngselect-dropdown",3,"multiple","hideSelected","appendTo","placeholder"],["matInput","","formControlName","related_task"],["class","p-col-12",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],["color","accent","formControlName","financial_supports_cc"],[3,"ngStyle"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5," notifications "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"h3",5),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",6)(10,"button",7),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275elementStart(11,"mat-icon"),t.\u0275\u0275text(12,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(13,"div",8),t.\u0275\u0275template(14,Bt,3,0,"ng-container",9),t.\u0275\u0275template(15,Ht,33,31,"ng-container",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"div",10)(17,"button",11),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"button",12),t.\u0275\u0275listener("click",function(){return n.submit()}),t.\u0275\u0275text(21),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,5,"Edit Notification Details")),t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",n.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(19,7,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(22,9,"Submit")," "))},dependencies:[g.sg,g.O5,g.PC,R.Zt,R.Bh,E.lW,u.xY,u.H8,I.Hw,A.KE,A.hX,U.Nt,N.Ou,G.Rr,s.DefaultValueAccessor,s.NgControlStatus,s.NgControlStatusGroup,s.FormGroupDirective,s.FormControlName,V.Zl,b.w9,b.jq,_.X$],styles:[".dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black}.no-padding[_ngcontent-%COMP%]{padding:0}.float-right[_ngcontent-%COMP%]{float:right}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.mat-dialog-content[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:15px}.w-30[_ngcontent-%COMP%]{width:30px}.w-65[_ngcontent-%COMP%]{width:65px}.mt-5px[_ngcontent-%COMP%]{margin-top:5px}.custom-ng-select[_ngcontent-%COMP%]     .ng-select .ng-select-container{background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid rgba(0,0,0,.12)!important;min-height:36px;align-items:center}.custom-ng-select[_ngcontent-%COMP%]     .mat-select-arrow-wrapper{padding-right:5px}.custom-ng-select[_ngcontent-%COMP%]     .mat-select-value-text{margin-left:10px;font-size:13px}.custom-ng-select   [_nghost-%COMP%]  .ng-select.ng-select-focused:not(.ng-select-opened)>.ng-select-container{border:0px!important;box-shadow:none!important}.custom-ng-select   [_nghost-%COMP%]  .ng-select.ng-select-focused:not(.ng-select-opened).ng-select-container{border:0px!important;box-shadow:none!important}.custom-ng-select   [_nghost-%COMP%]  .ng-select.ng-select-focused:not(.ng-select-opened){border:0px!important;box-shadow:none!important}.custom-ng-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container{align-items:center;padding-left:unset!important}.custom-ng-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#000;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.custom-ng-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container .ng-placeholder{color:#d5d5d5;font-size:14px;font-weight:500}.custom-ng-select[_ngcontent-%COMP%]     .ng-select.ng-invalid.ng-touched .ng-select-container{border-color:#dc3545;box-shadow:inset 0 1px 1px #00000013,0 0 0 3px #fde6e8}.custom-ng-select[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{color:#dc3545}  .custom-ngselect-dropdown ng-dropdown-panel{width:-moz-fit-content!important;width:fit-content!important}"]}),i})();var ot=d(44758),at=d(47957),Kt=d(3238),L=d(28255);function Yt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",35),t.\u0275\u0275element(1,"mat-progress-spinner",36),t.\u0275\u0275elementEnd())}function Qt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",40),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.onEditNotificationDetail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"edit"),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Edit"))}function Xt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",37)(1,"div",38),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"span"),t.\u0275\u0275template(5,Qt,3,3,"mat-icon",39),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,2,"Notification Details")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",e.permission.editNotificationManagement())}}function Zt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",41),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,e.label))}}function qt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",41)(1,"span",43),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext(),o=n.index,a=n.$implicit,l=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("matTooltip","\n            ","Notification Ref"===e.label?e["column"+o]:"Triggered"===e.label?"Triggered"!==e.label||"Unbalanced_Balance_N1"!==a.notification_reference&&"Unbalance_Account_N1"!==a.notification_reference&&"AUTODEBIT_REPORT_N1"!==a.notification_reference&&"Unbalance_Account_N2"!==a.notification_reference&&"Chargeback_DP_N1"!==a.notification_reference&&"REG_N11"!==a.notification_reference&&"READ_REG_N9"!==a.notification_reference&&"TEACH_MANAG_N1_CDDU"!==a.notification_reference&&"PAY_N1_TRANSFER"!==a.notification_reference&&"TEACH_MANAG_N1_CONVENTION"!==a.notification_reference&&"TEACH_MANAG_N2"!==a.notification_reference&&"InterCont_N3"!==a.notification_reference&&"Minor_Student_N1"!==a.notification_reference&&"Minor_Student_N2"!==a.notification_reference&&"Minor_Student_N3"!==a.notification_reference&&"Minor_Student_N4"!==a.notification_reference&&"STUDENT_VISA_N1"!==a.notification_reference&&"STUDENT_VISA_N2"!==a.notification_reference&&"STUDENT_VISA_N3"!==a.notification_reference&&"STUDENT_VISA_N4"!==a.notification_reference&&"STUDENT_VISA_N5"!==a.notification_reference&&"STUDENT_VISA_N6"!==a.notification_reference&&"STUDENT_VISA_N7"!==a.notification_reference&&"STUDENT_VISA_N8"!==a.notification_reference&&"PAY_N10"!==a.notification_reference?"Triggered"===e.label&&"Contract_Conven_N4"===a.notification_reference?t.\u0275\u0275pipeBind1(3,4,"Immediate. After user click \u201cSubmit\u201d button on the \u201cRefuse to Sign Reason\u201d pop up"):t.\u0275\u0275pipeBind1(4,6,l.data[0].notification_reference):t.\u0275\u0275pipeBind1(2,2,e["column"+o]):t.\u0275\u0275pipeBind1(5,8,e["column"+o]),""),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ","Notification Ref"===e.label?e["column"+o]:"Triggered"===e.label?"Triggered"!==e.label||"Unbalanced_Balance_N1"!==a.notification_reference&&"Unbalance_Account_N1"!==a.notification_reference&&"AUTODEBIT_REPORT_N1"!==a.notification_reference&&"Unbalance_Account_N2"!==a.notification_reference&&"Chargeback_DP_N1"!==a.notification_reference&&"REG_N11"!==a.notification_reference&&"READ_REG_N9"!==a.notification_reference&&"TEACH_MANAG_N1_CDDU"!==a.notification_reference&&"TEACH_MANAG_N1_CONVENTION"!==a.notification_reference&&"PAY_N1_TRANSFER"!==a.notification_reference&&"TEACH_MANAG_N2"!==a.notification_reference&&"InterCont_N3"!==a.notification_reference&&"Minor_Student_N1"!==a.notification_reference&&"Minor_Student_N2"!==a.notification_reference&&"Minor_Student_N3"!==a.notification_reference&&"Minor_Student_N4"!==a.notification_reference&&"STUDENT_VISA_N1"!==a.notification_reference&&"STUDENT_VISA_N2"!==a.notification_reference&&"STUDENT_VISA_N3"!==a.notification_reference&&"STUDENT_VISA_N4"!==a.notification_reference&&"STUDENT_VISA_N5"!==a.notification_reference&&"STUDENT_VISA_N6"!==a.notification_reference&&"STUDENT_VISA_N7"!==a.notification_reference&&"STUDENT_VISA_N8"!==a.notification_reference&&"PAY_N10"!==a.notification_reference&&"STUD_REG_N1"!==a.notification_reference?"Triggered"===e.label&&"Contract_Conven_N4"===a.notification_reference?t.\u0275\u0275pipeBind1(8,12,"Immediate. After user click \u201cSubmit\u201d button on the \u201cRefuse to Sign Reason\u201d pop up"):t.\u0275\u0275pipeBind1(9,14,l.data[0].notification_reference):t.\u0275\u0275pipeBind1(7,10,e["column"+o]):t.\u0275\u0275pipeBind1(10,16,e["column"+o])," ")}}function Jt(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0,42),t.\u0275\u0275template(1,qt,11,18,"td",8),t.\u0275\u0275elementContainerEnd()),2&i&&t.\u0275\u0275property("matColumnDef","column"+r.index)}function te(i,r){1&i&&t.\u0275\u0275element(0,"tr",44)}function ee(i,r){1&i&&t.\u0275\u0275element(0,"tr",45)}function ne(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",51),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.onAddTemplate())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"add"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Add Template")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,4,"Add Template")," "))}function ie(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",52),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.resetTable())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",53),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"RESET")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"RESET")," "))}function oe(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",37)(1,"div",38)(2,"div"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div")(6,"button",46),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementStart(10,"mat-icon"),t.\u0275\u0275text(11,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"mat-menu",47,48),t.\u0275\u0275template(14,ne,6,6,"button",49),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(15,ie,5,6,"button",50),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275reference(13),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,7,"List of Available Templates")," "),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(7,9,"Action")," "),t.\u0275\u0275property("disabled",n.isWaitingForResponse)("matMenuTriggerFor",e),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,11,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",n.permission.addTemplateNotificationManagementPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.resetTemplateNotificationManagementPerm())}}function ae(i,r){1&i&&t.\u0275\u0275element(0,"th",54)}function re(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",62),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.onScholarSeasonSelected(a._id))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",e.scholar_season),t.\u0275\u0275property("value",e.scholar_season),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.scholar_season," ")}}function le(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-form-field",55),t.\u0275\u0275element(2,"input",56),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-autocomplete",57,58)(6,"mat-option",59),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onScholarSeasonSelected("AllS"))}),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"mat-option",60),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onScholarSeasonSelected("Default"))}),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(13,re,2,3,"mat-option",61),t.\u0275\u0275pipe(14,"async"),t.\u0275\u0275elementEnd()()()}if(2&i){const e=t.\u0275\u0275reference(5),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,8,"search")),t.\u0275\u0275property("formControl",n.scholarSeasonFilter)("matAutocomplete",e),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,10,"AllM")),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("value",t.\u0275\u0275pipeBind1(10,12,"Default")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(12,14,"Default")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(14,16,n.filteredScholarSeason))}}function ce(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",62),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.onProgramSelected(a._id))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",e.program),t.\u0275\u0275property("value",e.program),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.program," ")}}function se(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-form-field",55),t.\u0275\u0275element(2,"input",56),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-autocomplete",57,63)(6,"mat-option",59),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onProgramSelected("AllS"))}),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"mat-option",60),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onProgramSelected("Default"))}),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(13,ce,2,3,"mat-option",61),t.\u0275\u0275pipe(14,"async"),t.\u0275\u0275elementEnd()()()}if(2&i){const e=t.\u0275\u0275reference(5),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,8,"search")),t.\u0275\u0275property("formControl",n.programFilter)("matAutocomplete",e),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,10,"AllM")),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("value",t.\u0275\u0275pipeBind1(10,12,"Default")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(12,14,"Default")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(14,16,n.filteredProgram))}}function de(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",67),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,e)," ")}}function pe(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"div",64)(2,"ng-select",65),t.\u0275\u0275listener("change",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onStatusFilter(o))})("clear",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onStatusFilter(null))}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,de,3,4,"ng-option",66),t.\u0275\u0275elementEnd()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,7,"Status")),t.\u0275\u0275property("formControl",e.statusFilter)("multiple",!1)("hideSelected",!0)("appendTo","body")("clearable",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.statusFilterList)}}function me(i,r){1&i&&t.\u0275\u0275element(0,"th",54)}function ge(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",68),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",69),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Template Name")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Template Name")," "))}function he(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",70),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.template_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.template_name," ")}}function _e(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",68),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",71),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Scholar Seasons")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Scholar Seasons")," "))}function fe(i,r){1&i&&(t.\u0275\u0275elementStart(0,"span",74),t.\u0275\u0275text(1,"Default"),t.\u0275\u0275elementEnd())}function ue(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",74),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=r.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.scholar_season)}}function be(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,ue,3,1,"ng-container",75),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.seasons)}}function Ce(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",70),t.\u0275\u0275template(1,fe,2,0,"span",72),t.\u0275\u0275template(2,be,2,1,"span",73),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.generateMultipleTooltip(null==e?null:e.seasons)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.is_default_template),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.is_default_template)}}function xe(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",68),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",71),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Program")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Program")," "))}function Oe(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",74),t.\u0275\u0275text(2,"Default"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Pe(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",74),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=r.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.program)}}function Te(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Pe,3,1,"ng-container",75),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.programs)}}function Me(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",70),t.\u0275\u0275template(1,Oe,3,0,"ng-container",73),t.\u0275\u0275template(2,Te,2,1,"ng-container",73),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.generateMultipleTooltip(null==e?null:e.programs)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.is_default_template),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.is_default_template)}}function ve(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",77),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Status")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Status")))}const ye=function(i,r){return{red:i,green:r}};function Se(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",41)(1,"mat-icon",78),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(2,2,null!=e&&e.is_publish?"Published":"Unpublished"))("ngClass",t.\u0275\u0275pureFunction2(4,ye,!1===(null==e?null:e.is_publish),!0===(null==e?null:e.is_publish)))}}function we(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function Ne(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",80),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.goToTab(o))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(3,"svg",81),t.\u0275\u0275element(4,"path",82),t.\u0275\u0275elementEnd()()()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Edit Notification"))}function ke(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",80),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onEditTemplate(o))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Edit Template"))}function Ee(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",80),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onPreviewTemplate(o))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",83),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Preview Notification"))}function Ie(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",80),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onDeleteTemplate(o))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Remove Template"))}function De(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",41),t.\u0275\u0275template(1,Ne,5,3,"button",79),t.\u0275\u0275template(2,ke,4,3,"button",79),t.\u0275\u0275template(3,Ee,3,3,"button",79),t.\u0275\u0275template(4,Ie,4,3,"button",79),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.editNotificationManagementPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.editTemplateNotificationManagementPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.viewTemplateNotificationManagementPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.deleteTemplateNotificationManagementPerm())}}function Fe(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",84)(1,"div",85),t.\u0275\u0275element(2,"mat-spinner",86),t.\u0275\u0275elementEnd()())}function Ae(i,r){1&i&&t.\u0275\u0275element(0,"tr",44)}function Re(i,r){1&i&&t.\u0275\u0275element(0,"tr",44)}function Be(i,r){1&i&&t.\u0275\u0275element(0,"tr",44)}function Ve(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",87),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function Le(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",88),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function Ue(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",89),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")," "))}const rt=function(){return["main-header"]},je=function(){return["loading"]},ze=function(i){return{hide:i}},We=function(i){return{"hide-pagination-buttons":i}},$e=function(){return[10]};let He=(()=>{class i{constructor(e,n,o,a,l,p,O,P){this.dialog=e,this.notificationService=n,this.translate=o,this.router=a,this.route=l,this.financeService=p,this.permission=O,this.authService=P,this.isReset=!1,this.dataLoaded=!1,this.notifyTabChange=new t.EventEmitter,this.templateListDataSource=new m.by([]),this.isWaitingForResponse=!1,this.isLoading=!1,this.subs=new S.Y,this.hasDefaultTemplate=!1,this.dataColumns=["when","notification_reference","context","signatory","recipient_to","recipient_cc","triggered","related_task"],this.labels=["When","Notification Ref","Context","Signatory","Recipient","CC","Triggered","Related Task"],this.displayedDetailColumns=[],this.displayedColumns=["name","season","program","status","action"],this.filterColumns=["nameFilter","seasonFilter","programFilter","statusFilter","actionFilter"],this.statusFilterList=["AllM","Published","Unpublished"],this.statusFilter=new s.UntypedFormControl("AllM"),this.filteredValue={is_publish:null,scholar_seasons:null,programs:null},this.seasonList=[],this.originalSeasonList=[],this.programList=[],this.originalProgramList=[],this.scholarSeasonFilter=new s.UntypedFormControl(null),this.programFilter=new s.UntypedFormControl(null)}set notificationDetail(e){e&&(this.data=[e],this.setUpNotificationDetailsTable())}set templates(e){e&&this.getTemplateList(this.notification_id)}ngOnInit(){this.data&&this.data?.length&&this.setUpNotificationDetailsTable(),this.subs.sink=this.translate.onLangChange.subscribe(e=>{console.log("IS Change Lang?"),this.setUpNotificationDetailsTable()})}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,et.O)(null),(0,$.b)(()=>{this.dataLoaded&&this.notification_id&&this.getTemplateList(this.notification_id)})).subscribe()}triggerDataRefresh(){this.notificationService.triggerRefresh()}setUpNotificationDetailsTable(){this.transpose(),this.fillLabels()}transpose(){const e=[...this.data];console.log([...this.data]),console.log("the data is:",e),e&&e.length&&e[0].recipient_to&&e[0].recipient_to.length?(e[0]={...e[0],recipient_to:e[0].recipient_to.map(o=>this.translate.instant("USER_TYPES."+o.name)).join(", ")},e&&e.length&&"Chargeback_DP_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Admission member (if student admission) or Academic member (if student readmission) link to student"),when:this.translate.instant("When there is chargeback on Payment of DP (only for DP)")}),e&&e.length&&"TRANSFER_N3"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("New dev member")},console.log("data TRANSFER_N3",e)),e&&e.length&&("TRANSFER_N1bis"===e[0].notification_reference||"TRANSFER_N1BIS"===e[0].notification_reference)&&(e[0]={...e[0],recipient_to:this.translate.instant("New FC manager")}),e&&e.length&&"ImportContract_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Contract manager who do the import")}),(e&&e.length&&"UserForm_N8"===e[0].notification_reference||e&&e.length&&"UserForm_N4"===e[0].notification_reference)&&(e[0]={...e[0],recipient_to:this.translate.instant("User who complete the form")}),e&&e.length&&"UserForm_N5"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Validator of that step")}),e&&e.length&&"InterCont_N4"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("All users involved in this form")}),e&&e.length&&"UserForm_N3"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who asked for the revision")}),e&&e.length&&"UserForm_N2"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User/student involved in the message box of Ask revision")}),e&&e.length&&"UserForm_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who responsible to revise the form")}),e&&e.length&&"FC_UserForm_N6"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who complete the form")}),e&&e.length&&"FC_UserForm_N2"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User/student involved in the message box of Ask revision")}),e&&e.length&&"FC_UserForm_N3"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who asked for the revision")}),e&&e.length&&"FC_UserForm_N5"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Validator of that step")}),e&&e.length&&"FC_UserForm_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Student who is completing the form")}),e&&e.length&&"Contract_Conven_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("1st signatory")}),e&&e.length&&"Contract_Conven_N2"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("All users involved in this form")}),e&&e.length&&"Contract_Conven_N3"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Signatory in turn to Sign the Contract")}),e&&e.length&&"IMPORT_N2"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who do the import")}),e&&e.length&&("Unbalanced_Balance_N1"===e[0].notification_reference||"Unbalance_Account_N1"===e[0].notification_reference||"REG_N11"===e[0].notification_reference||"READ_REG_N9"===e[0].notification_reference)&&(e[0]={...e[0],recipient_to:this.translate.instant("Student")}),e&&e.length&&("Unbalanced_Balance_N2"===e[0].notification_reference||"Unbalance_Account_N2"===e[0].notification_reference)&&(e[0]={...e[0],recipient_to:this.translate.instant("Student")}),e&&e.length&&("Export_N1"===e[0].notification_reference||"EXPORT_N1"===e[0].notification_reference)&&(e[0]={...e[0],recipient_to:this.translate.instant("User who do the export")}),e&&e.length&&"TrombinoscopePDF_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who do the PDF export")}),e&&e.length&&"OneTimeForm_N6A"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who complete the form")}),e&&e.length&&"OneTimeForm_N5A"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Validator of that step")}),e&&e.length&&"OneTimeForm_N3A"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who asked for the revision")}),e&&e.length&&"OneTimeForm_N2A"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User/student involved in the message box of Ask revision")}),e&&e.length&&"OneTimeFormCont_N2"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("All users involved in this form")}),e&&e.length&&"OneTimeFormCont_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("All Signatory that involve in the contract signatory based on Signatory in the One Time Form Template")})):(e&&e.length&&"Chargeback_DP_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Admission member (if student admission) or Academic member (if student readmission) link to student"),when:this.translate.instant("When there is chargeback on Payment of DP (only for DP)")}),e&&e.length&&"PAY_N1_TRANSFER"===e[0].notification_reference&&(e[0]={...e[0],when:this.translate.instant("When today date is 5 days before the due date for Term with method payment Transfer")}),e&&e.length&&"EXPORT_STUD_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who do the export")}),e&&e.length&&("IMPORT_COMP_N1"===e[0].notification_reference||"IMPORT_COMP_N2"===e[0].notification_reference)&&(e[0]={...e[0],recipient_to:this.translate.instant("User who do the import")}),e&&e.length&&"InterCont_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("InterCont_Recipient.N1")}),e&&e.length&&"InterCont_N2"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("InterCont_Recipient.N2")}),e&&e.length&&"InterCont_N3"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("InterCont_Recipient.N3")}),e&&e.length&&"InterCont_N4"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("InterCont_Recipient.N4")}),e&&e.length&&"InterCont_N5"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("InterCont_Recipient.N5")}),e&&e.length&&("PAY_N1"===e[0].notification_reference||"PAY_N2"===e[0].notification_reference||"PAY_N9"===e[0].notification_reference||"PAY_N7"===e[0].notification_reference||"PAY_N1_TRANSFER"===e[0].notification_reference)&&(e[0]={...e[0],recipient_to:this.translate.instant("Student and Financial support")}),e&&e.length&&"PAY_N3"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("The new Financial support")}),e&&e.length&&("PAY_N4"===e[0].notification_reference||"PAY_N5"===e[0].notification_reference||"PAY_N6"===e[0].notification_reference)&&(e[0]={...e[0],recipient_to:this.translate.instant("User who pay (student or financial support)")}),e&&e.length&&"PAY_N8"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Student and Financial support who already have terms")}),e&&e.length&&"TRANSFER_N3"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("New dev member")}),e&&e.length&&("TRANSFER_N1bis"===e[0].notification_reference||"TRANSFER_N1BIS"===e[0].notification_reference)&&(e[0]={...e[0],recipient_to:this.translate.instant("New FC manager")}),e&&e.length&&"ImportContract_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Contract manager who do the import")}),(e&&e.length&&"UserForm_N8"===e[0].notification_reference||e&&e.length&&"UserForm_N4"===e[0].notification_reference)&&(e[0]={...e[0],recipient_to:this.translate.instant("User who complete the form")}),e&&e.length&&"UserForm_N5"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Validator of that step")}),e&&e.length&&"InterCont_N4"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("All users involved in this form")}),e&&e.length&&"UserForm_N3"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who asked for the revision")}),e&&e.length&&"UserForm_N2"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User/student involved in the message box of Ask revision")}),e&&e.length&&"UserForm_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who responsible to revise the form")}),e&&e.length&&"FC_UserForm_N6"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who complete the form")}),e&&e.length&&"FC_UserForm_N2"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User/student involved in the message box of Ask revision")}),e&&e.length&&"FC_UserForm_N3"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who asked for the revision")}),e&&e.length&&"FC_UserForm_N5"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Validator of that step")}),e&&e.length&&"FC_UserForm_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Student who is completing the form")}),e&&e.length&&"Contract_Conven_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("1st signatory")}),e&&e.length&&"Contract_Conven_N2"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("All users involved in this form")}),e&&e.length&&"Contract_Conven_N3"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Signatory in turn to Sign the Contract")}),e&&e.length&&"IMPORT_N2"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who do the import")}),e&&e.length&&("Export_N1"===e[0].notification_reference||"EXPORT_N1"===e[0].notification_reference)&&(e[0]={...e[0],recipient_to:this.translate.instant("User who do the export")}),e&&e.length&&"TrombinoscopePDF_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who do the PDF export")}),e&&e.length&&"OneTimeForm_N6A"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who complete the form")}),e&&e.length&&"OneTimeForm_N5A"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Validator of that step")}),e&&e.length&&"OneTimeForm_N3A"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who asked for the revision")}),e&&e.length&&"OneTimeForm_N2A"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User/student involved in the message box of Ask revision")}),e&&e.length&&"OneTimeFormCont_N2"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("All users involved in this form")}),e&&e.length&&"OneTimeFormCont_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("All Signatory that involve in the contract signatory based on Signatory in the One Time Form Template")}),e&&e.length&&"UPDATE_FINANCE_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User selected (FS or student)")}),e&&e.length&&"AUTODEBIT_REPORT_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("comptaecole@groupe-edh.com")}),e&&e.length&&"Minor_Student_N3"===e[0].notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("Legal Representative of student")}),e&&e?.length&&("STUDENT_VISA_N1"===e[0]?.notification_reference||"STUDENT_VISA_N2"===e[0]?.notification_reference||"STUDENT_VISA_N3"===e[0]?.notification_reference||"STUDENT_VISA_N4"===e[0]?.notification_reference||"STUDENT_VISA_N5"===e[0]?.notification_reference||"STUDENT_VISA_N6"===e[0]?.notification_reference||"STUDENT_VISA_N7"===e[0]?.notification_reference)&&(e[0]={...e[0],recipient_to:this.translate.instant("Student")}),e&&e?.length&&"STUDENT_VISA_N8"===e[0]?.notification_reference&&(e[0]={...e[0],recipient_to:this.translate.instant("User who click on the Ask for visa document button")})),e&&e.length&&e[0].recipient_cc&&(e[0]={...e[0],recipient_cc:e[0].recipient_cc.map(o=>this.translate.instant("USER_TYPES."+o.name)).join(", ")}),e&&e.length&&!e[0].recipient_cc&&("Unbalanced_Balance_N1"===e[0].notification_reference||"Unbalance_Account_N1"===e[0].notification_reference||"AUTODEBIT_REPORT_N1"!==e[0].notification_reference&&"Chargeback_DP_N1"!==e[0].notification_reference&&"REG_N11"!==e[0].notification_reference&&"READ_REG_N9"!==e[0].notification_reference&&"TEACH_MANAG_N1_CDDU"!==e[0]?.notification_reference&&"TEACH_MANAG_N1_CONVENTION"!==e[0]?.notification_reference&&"TEACH_MANAG_N2"!==e[0]?.notification_reference&&"PAY_N1_TRANSFER"!==e[0]?.notification_reference&&"Minor_Student_N1"!==e[0]?.notification_reference&&"Minor_Student_N2"!==e[0]?.notification_reference&&"Minor_Student_N3"!==e[0]?.notification_reference&&"Minor_Student_N4"!==e[0]?.notification_reference&&"PAY_N1_TRANSFER"!==e[0]?.notification_reference&&"STUDENT_VISA_N1"!==e[0]?.notification_reference&&"STUDENT_VISA_N2"!==e[0]?.notification_reference&&"STUDENT_VISA_N3"!==e[0]?.notification_reference&&"STUDENT_VISA_N4"!==e[0]?.notification_reference&&"STUDENT_VISA_N5"!==e[0]?.notification_reference&&"STUDENT_VISA_N6"!==e[0]?.notification_reference&&"STUDENT_VISA_N7"!==e[0]?.notification_reference&&"STUDENT_VISA_N8"!==e[0]?.notification_reference&&"STUD_REG_N1"!==e[0]?.notification_reference)&&(e[0]={...e[0],recipient_cc:this.translate.instant("Financial Support")}),e&&e.length&&!e[0].recipient_cc&&("Unbalanced_Balance_N2"===e[0].notification_reference||"Unbalance_Account_N2"===e[0].notification_reference)&&(e[0]={...e[0],recipient_cc:this.translate.instant("Financial Support")}),e&&e.length&&!e[0].recipient_cc&&"AUTODEBIT_REPORT_N1"!==e[0].notification_reference&&"Chargeback_DP_N1"!==e[0].notification_reference&&"TEACH_MANAG_N1_CDDU"!==e[0]?.notification_reference&&"TEACH_MANAG_N1_CONVENTION"!==e[0]?.notification_reference&&"TEACH_MANAG_N2"!==e[0]?.notification_reference&&"Minor_Student_N3"!==e[0]?.notification_reference&&"PAY_N1_TRANSFER"!==e[0]?.notification_reference&&"STUDENT_VISA_N1"!==e[0]?.notification_reference&&"STUDENT_VISA_N2"!==e[0]?.notification_reference&&"STUDENT_VISA_N3"!==e[0]?.notification_reference&&"STUDENT_VISA_N4"!==e[0]?.notification_reference&&"STUDENT_VISA_N5"!==e[0]?.notification_reference&&"STUDENT_VISA_N6"!==e[0]?.notification_reference&&"STUDENT_VISA_N7"!==e[0]?.notification_reference&&"STUDENT_VISA_N8"!==e[0]?.notification_reference&&(e[0]={...e[0],recipient_cc:"No CC"}),e&&e.length&&!e[0].recipient_cc&&"AUTODEBIT_REPORT_N1"===e[0].notification_reference&&(e[0]={...e[0],recipient_cc:"comptaecole-brassart-mopa@brassart.fr, s.abad@esec.edu"}),e&&e.length&&!e[0].recipient_cc&&"Minor_Student_N3"===e[0].notification_reference&&(e[0]={...e[0],recipient_cc:"Student"}),e[0]=e&&e.length&&e[0].signatory?{...e[0],signatory:e[0].signatory.name}:e&&e.length&&"ADM_DOC_N3"===e[0].notification_reference||e&&e.length&&"ADM_DOC_N3"===e[0].notification_reference?{...e[0],signatory:"School direction"}:"InterCont_N1"===e[0].notification_reference||"InterCont_N2"===e[0].notification_reference||"InterCont_N3"===e[0].notification_reference||"InterCont_N4"===e[0].notification_reference?{...e[0],signatory:this.translate.instant("EDH Platform")}:"REG_N11"===e[0].notification_reference?{...e[0],signatory:this.translate.instant("Admission Member")}:"READ_REG_N9"===e[0].notification_reference?{...e[0],signatory:this.translate.instant("Academic Member")}:"TEACH_MANAG_N1_CDDU"===e[0]?.notification_reference||"TEACH_MANAG_N1_CONVENTION"===e[0]?.notification_reference?{...e[0],signatory:this.translate.instant("User who click on the ask required document button")}:"TEACH_MANAG_N2"===e[0]?.notification_reference||"STUDENT_VISA_N2"===e[0]?.notification_reference?{...e[0],signatory:this.translate.instant("User who click on the send reminder button")}:"Minor_Student_N3"===e[0]?.notification_reference?{...e[0],signatory:this.translate.instant("Dev Member of Student")}:"STUDENT_VISA_N1"===e[0]?.notification_reference?{...e[0],signatory:this.translate.instant("User who click on the Ask for visa document button")}:"STUDENT_VISA_N4"===e[0]?.notification_reference?{...e[0],signatory:this.translate.instant("User who click on the reject the document button in student card - Visa document tab")}:"STUDENT_VISA_N5"===e[0]?.notification_reference?{...e[0],signatory:this.translate.instant("User who click on the Accept the document button in student card - Visa document tab")}:{...e[0],signatory:this.translate.instant("EDH Platform")},e&&e.length&&!e[0].related_task&&(e[0]={...e[0],related_task:"No Task"}),e&&e.length&&e[0].context&&"InterCont_N4"===e[0].notification_reference&&(e[0]={...e[0],context:"When the last user signed and submit InterCont_N4"});const n=[];for(let o=0;o<this.dataColumns.length;o++){n[o]={label:this.labels[o]};for(let a=0;a<e.length;a++)n[o][`column${a}`]=e[a][this.dataColumns[o]]}this.detailDataSource=new m.by(n)}fillLabels(){this.displayedDetailColumns=["label"];for(let e=0;e<this.data.length;e++)this.displayedDetailColumns.push("column"+e)}onEditNotificationDetail(){this.dialog.open(Gt,{data:this.data[0],minWidth:"650px",panelClass:"no-padding-pop-up",disableClose:!0}).afterClosed().subscribe(e=>{e&&this.triggerDataRefresh()})}setUpTemplateListTable(e){"Default"===this.scholarSeasonFilter.value||"Default"===this.programFilter.value?(this.seasonList=[],this.filteredScholarSeason=(0,x.of)(this.seasonList),this.programList=[],this.filteredProgram=(0,x.of)(this.programList)):(this.getPrograms(),this.getScholarSeasons()),this.initFilter(),e&&e.length&&(this.hasDefaultTemplate=e.some(n=>n.is_default_template),this.notificationService.setHasDefaultTemplate(this.hasDefaultTemplate),this.flattenAndSetSeasonsAndPrograms(e)),this.templateListDataSource.data=e,this.dataCount=e.length?e[0].count_document:0,this.noData=this.templateListDataSource.connect().pipe((0,f.U)(n=>0===n.length)),this.dataLoaded=!0,this.isReset=!1}onStatusFilter(e){this.filteredValue.is_publish="AllM"!==e&&e?"Published"===e:null,this.paginator.pageIndex=0,this.isReset||this.getTemplateList(this.notification_id)}flattenAndSetSeasonsAndPrograms(e){for(const n of e)if(n.program_seasons&&n.program_seasons.length){const o=n.program_seasons.map(l=>l.programs),a=n.program_seasons.map(l=>l.scholar_season);n.programs=[].concat.apply([],o).sort((l,p)=>l.program.localeCompare(p.program)),n.seasons=[].concat.apply([],a)}}getTemplateList(e){const n={notification_reference_id:e,is_publish:this.filteredValue?.is_publish,scholar_seasons:this.filteredValue?.scholar_seasons?this.filteredValue.scholar_seasons:null,programs:this.filteredValue?.programs?this.filteredValue.programs:null},o={limit:this.paginator&&this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator&&this.paginator.pageIndex?this.paginator.pageIndex:0};return this.isWaitingForResponse=!0,this.notificationService.getAllNotificationTemplates(n,o,this.sortValue).subscribe(a=>{this.isWaitingForResponse=!1,this.setUpTemplateListTable(a)},a=>{this.authService.postErrorLog(a),this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}generateMultipleTooltip(e){if(!e||!e.length)return;const n=["program","scholar_season"];return e.map(o=>{const a=n.find(l=>e[0]&&e[0].hasOwnProperty(l));return a?o[a]:""}).join(", ")}onAddTemplate(){this.subs.sink=this.dialog.open(it,{data:{notification_id:this.notification_id,notification_reference:this.data[0].notification_reference,hasDefaultTemplate:this.hasDefaultTemplate,existingData:null},minWidth:"650px",maxWidth:"650px",panelClass:"no-padding-pop-up",disableClose:!0}).afterClosed().subscribe(e=>{e&&this.triggerDataRefresh()})}onEditTemplate(e){this.subs.sink=this.dialog.open(it,{data:{notification_id:this.notification_id,notification_reference:this.data[0].notification_reference,hasDefaultTemplate:this.hasDefaultTemplate,existingData:e},minWidth:"650px",maxWidth:"650px",panelClass:"no-padding-pop-up",disableClose:!0}).afterClosed().subscribe(n=>{n&&this.triggerDataRefresh()})}warnTemplateAlreadyPublished(){return c().fire({title:this.translate.instant("Notif_S19.TITLE"),html:this.translate.instant("Notif_S19.TEXT"),type:"warning",allowEscapeKey:!0,confirmButtonText:this.translate.instant("Notif_S19.BUTTON1"),allowOutsideClick:!0,allowEnterKey:!0})}confirmBeforeDeletion(e,n){return c().fire({title:this.translate.instant("Notif_S9.TITLE",{templateName:e.template_name}),html:this.translate.instant("Notif_S9.TEXT",{templateName:e.template_name}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("Notif_S9.BUTTON1",{timer:n}),cancelButtonText:this.translate.instant("Notif_S9.BUTTON2"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const o=c().getConfirmButton(),a=setInterval(()=>{n-=1,o.innerText=this.translate.instant("Notif_S9.BUTTON1")+` (${n})`},1e3);this.timeOutVal=setTimeout(()=>{o.innerText=this.translate.instant("Notif_S9.BUTTON1"),c().enableConfirmButton(),clearInterval(a),clearTimeout(this.timeOutVal)},1e3*n)}})}onDeleteTemplate(e){var n=this;return(0,F.Z)(function*(){if(e?.is_publish)return void(yield n.warnTemplateAlreadyPublished());const a=yield n.confirmBeforeDeletion(e,3);clearTimeout(n.timeOutVal),a.value&&n.deleteTemplate(e)})()}deleteTemplate(e){this.subs.sink=this.notificationService.deleteNotificationTemplate(e?._id).subscribe(n=>{c().fire({type:"success",title:this.translate.instant("Bravo!"),text:this.translate.instant("Notif_S10.TEXT",{templateName:e?.template_name}),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.triggerDataRefresh()})},n=>{this.authService.postErrorLog(n),c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}goToTab(e){this.notifyTabChange.emit(e._id)}onPreviewTemplate(e){c().fire({type:"warning",allowEnterKey:!1,allowEscapeKey:!1,showCancelButton:!0,allowOutsideClick:!1,html:this.translate.instant("Notif_S7.TEXT",{templateName:e.template_name}),title:this.translate.instant("Notif_S7.TITLE"),cancelButtonText:this.translate.instant("Notif_S7.BUTTON2"),confirmButtonText:this.translate.instant("Notif_S7.BUTTON1")}).then(n=>{n.value&&this.sendTemplatePreview(e)})}sendTemplatePreview(e){this.isLoading=!0,this.subs.sink=this.notificationService.sendNotificationPreview(e?._id).subscribe(n=>{this.isLoading=!1,c().fire({type:"success",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,html:this.translate.instant("Notif_S8.TEXT",{notificationRef:e?.template_name}),title:this.translate.instant("Notif_S8.TITLE"),confirmButtonText:this.translate.instant("Notif_S8.BUTTON1")})},n=>{this.isLoading=!1,this.authService.postErrorLog(n),c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getTemplateList(this.notification_id))}back(){this.router.navigate(["/notification-management"])}getScholarSeasons(){this.subs.sink=this.financeService.GetAllScholarSeasonsDropdown().subscribe(e=>{this.seasonList=e,this.originalSeasonList=e,this.filteredScholarSeason=(0,x.of)(this.seasonList)},e=>{this.authService.postErrorLog(e),c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getPrograms(){let e;this.selectedScholarSeason&&(e={scholar_season_id:this.selectedScholarSeason}),this.subs.sink=this.financeService.getAllProgram(e).subscribe(n=>{this.programList=n,this.originalProgramList=n,this.filteredProgram=(0,x.of)(this.programList)},n=>{this.authService.postErrorLog(n),c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}onScholarSeasonSelected(e){"AllS"!==e&&"Default"!==e?(this.selectedScholarSeason=e,this.filteredValue.scholar_seasons=[e],this.programFilter.value&&(this.programFilter.setValue(""),this.filteredValue.programs=null),this.getTemplateList(this.notification_id)):"Default"===e?(this.selectedScholarSeason="",this.filteredValue.scholar_seasons=["default"],this.programFilter.value&&"Default"!==this.programFilter.value&&(this.programFilter.setValue(""),this.filteredValue.programs=null),this.getTemplateList(this.notification_id)):(this.selectedScholarSeason="",this.filteredValue.scholar_seasons=null,this.getTemplateList(this.notification_id))}onProgramSelected(e){"Default"===e?(this.filteredValue.programs=["default"],this.selectedScholarSeason="",this.filteredValue.scholar_seasons=["default"],this.scholarSeasonFilter.value&&"Default"!==this.scholarSeasonFilter.value&&(this.scholarSeasonFilter.setValue(""),this.filteredValue.scholar_seasons=null),this.getTemplateList(this.notification_id)):"AllS"!==e&&"Default"!==e?(this.filteredValue.programs=[e],this.getTemplateList(this.notification_id)):(this.filteredValue.programs=null,this.getTemplateList(this.notification_id))}initFilter(){this.subs.sink=this.scholarSeasonFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{if("string"==typeof e){const n=this.seasonList.filter(o=>o.scholar_season.toLowerCase().includes(e.toLowerCase()));this.filteredScholarSeason=(0,x.of)(n),""===e&&(this.filteredScholarSeason=(0,x.of)(this.seasonList))}}),this.subs.sink=this.programFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{if("string"==typeof e){const n=this.programList.filter(o=>o.program.toLowerCase().includes(e.toLowerCase()));this.filteredProgram=(0,x.of)(n),""===e&&(this.filteredProgram=(0,x.of)(this.programList))}})}resetTable(){this.isReset=!0,this.selectedScholarSeason="",this.scholarSeasonFilter.setValue(""),this.programFilter.setValue(""),this.statusFilter.setValue("AllM"),this.filteredValue={is_publish:null,programs:null,scholar_seasons:null},this.getTemplateList(this.notification_id)}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(u.uw),t.\u0275\u0275directiveInject(w),t.\u0275\u0275directiveInject(_.sK),t.\u0275\u0275directiveInject(M.F0),t.\u0275\u0275directiveInject(M.gz),t.\u0275\u0275directiveInject(nt.N),t.\u0275\u0275directiveInject(ot.$),t.\u0275\u0275directiveInject(D.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-notification-identity"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(k.NW,7),t.\u0275\u0275viewQuery(v.YE,7),t.\u0275\u0275viewQuery(y.SP,5)),2&e){let o;t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.paginator=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.sort=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.tabGroup=o.first)}},inputs:{notification_id:"notification_id",notificationDetail:"notificationDetail",templates:"templates"},outputs:{notifyTabChange:"notifyTabChange"},decls:59,vars:35,consts:[["class","loading-indicator",4,"ngIf"],["mat-raised-button","","matTooltipPosition","above","color","warn",1,"back-button",3,"matTooltip","click"],[1,"p-grid"],[1,"p-col-7","notification-detail-table",2,"margin-top","2vh"],["mat-table","",3,"dataSource"],["matColumnDef","main-header"],["mat-header-cell","","colspan","100%",4,"matHeaderCellDef"],["matColumnDef","label","sticky","true"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"p-col-12","template-list-table",2,"margin-top","2vh"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","nameFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","seasonFilter"],["matColumnDef","programFilter"],["matColumnDef","statusFilter"],["matColumnDef","actionFilter"],["matColumnDef","name"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","class","pad-l-xs",3,"matTooltip",4,"matCellDef"],["matColumnDef","season"],["matColumnDef","program"],["matColumnDef","status"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","action"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","style","text-align: center !important",4,"matHeaderCellDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],[1,"loading-indicator"],["mode","indeterminate","color","accent"],["mat-header-cell","","colspan","100%"],[1,"p-grid","table-main-header"],["class","cursor-pointer edit-button",3,"matTooltip","click",4,"ngIf"],[1,"cursor-pointer","edit-button",3,"matTooltip","click"],["mat-cell",""],[3,"matColumnDef"],[3,"matTooltip"],["mat-header-row",""],["mat-row",""],["mat-raised-button","","color","accent",3,"matTooltip","disabled","matMenuTriggerFor"],[1,"action-dropdown-button-above-table"],["action","matMenu"],["mat-menu-item","",3,"matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"matTooltip","click",4,"ngIf"],["mat-menu-item","",3,"matTooltip","click"],["mat-raised-button","","color","primary",3,"matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell",""],["floatLabel","auto"],["matInput","",1,"form-field",3,"formControl","matAutocomplete","placeholder"],[3,"panelWidth"],["scholarSeason","matAutocomplete"],["value","",3,"click"],[3,"value","click"],[3,"value","matTooltip","click",4,"ngFor","ngForOf"],[3,"value","matTooltip","click"],["program","matAutocomplete"],[1,"custom-ng-select","no-padding"],["appendTo","body",1,"mrgn-btn","custom-ngselect-dropdown",3,"formControl","multiple","hideSelected","appendTo","placeholder","clearable","change","clear"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-sort-header","template_name",2,"text-align","center !important"],["mat-cell","",1,"pad-l-xs",3,"matTooltip"],[2,"text-align","center !important"],["class","tags",4,"ngIf"],[4,"ngIf"],[1,"tags"],[4,"ngFor","ngForOf"],["mat-header-cell","",3,"matTooltip"],["mat-sort-header","is_publish"],["aria-hidden","true",3,"matTooltip","ngClass"],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","aria-hidden","true","role","img","width","1em","height","1em","preserveAspectRatio","xMidYMid meet","viewBox","0 0 24 24"],["d","M8 12h8v2H8v-2m2 8H6V4h7v5h5v3.1l2-2V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4v-2m-2-2h4.1l.9-.9V16H8v2m12.2-5c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1l-2.1-2.1l1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1l2.1 2.1z","fill","currentColor"],["svgIcon","eye"],["mat-header-cell","","colspan","100%",2,"text-align","center !important"],[1,"center-spinner"],["color","accent"],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"]],template:function(e,n){1&e&&(t.\u0275\u0275template(0,Yt,2,0,"div",0),t.\u0275\u0275elementStart(1,"button",1),t.\u0275\u0275listener("click",function(){return n.back()}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"mat-icon"),t.\u0275\u0275text(4,"keyboard_arrow_left"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"section",2)(8,"div",3)(9,"table",4),t.\u0275\u0275elementContainerStart(10,5),t.\u0275\u0275template(11,Xt,6,4,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,7),t.\u0275\u0275template(13,Zt,3,3,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(14,Jt,2,1,"ng-container",9),t.\u0275\u0275template(15,te,1,0,"tr",10),t.\u0275\u0275template(16,ee,1,0,"tr",11),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(17,"section",2)(18,"div",12)(19,"table",13),t.\u0275\u0275listener("matSortChange",function(a){return n.sortData(a)}),t.\u0275\u0275elementContainerStart(20,5),t.\u0275\u0275template(21,oe,16,13,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,14),t.\u0275\u0275template(23,ae,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,16),t.\u0275\u0275template(25,le,15,18,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(26,17),t.\u0275\u0275template(27,se,15,18,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(28,18),t.\u0275\u0275template(29,pe,5,9,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(30,19),t.\u0275\u0275template(31,me,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(32,20),t.\u0275\u0275template(33,ge,5,6,"th",21),t.\u0275\u0275template(34,he,2,2,"td",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(35,23),t.\u0275\u0275template(36,_e,5,6,"th",21),t.\u0275\u0275template(37,Ce,3,3,"td",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(38,24),t.\u0275\u0275template(39,xe,5,6,"th",21),t.\u0275\u0275template(40,Me,3,3,"td",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(41,25),t.\u0275\u0275template(42,ve,5,6,"th",26),t.\u0275\u0275template(43,Se,4,7,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(44,27),t.\u0275\u0275template(45,we,5,6,"th",26),t.\u0275\u0275template(46,De,5,4,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(47,28),t.\u0275\u0275template(48,Fe,3,0,"th",29),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(49,Ae,1,0,"tr",10),t.\u0275\u0275template(50,Re,1,0,"tr",10),t.\u0275\u0275template(51,Be,1,0,"tr",10),t.\u0275\u0275template(52,Ve,1,1,"tr",30),t.\u0275\u0275template(53,Le,1,1,"tr",31),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(54,Ue,3,3,"div",32),t.\u0275\u0275pipe(55,"async"),t.\u0275\u0275elementStart(56,"div",33),t.\u0275\u0275pipe(57,"async"),t.\u0275\u0275element(58,"mat-paginator",34),t.\u0275\u0275elementEnd()()()),2&e&&(t.\u0275\u0275property("ngIf",n.isLoading),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,19,"ONLINE_COURSE.BUTTON.BACK")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,21,"ONLINE_COURSE.BUTTON.BACK"),"\n"),t.\u0275\u0275advance(4),t.\u0275\u0275property("dataSource",n.detailDataSource),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngForOf",n.data),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(27,rt)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedDetailColumns),t.\u0275\u0275advance(3),t.\u0275\u0275property("dataSource",n.templateListDataSource),t.\u0275\u0275advance(30),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(28,rt)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(29,je)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(55,23,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(30,ze,t.\u0275\u0275pipeBind1(57,25,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(32,We,n.dataCount<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(34,$e)))},dependencies:[g.mk,g.sg,g.O5,at.XC,at.ZL,Kt.ey,E.lW,I.Hw,A.KE,U.Nt,L.VK,L.OP,L.p6,k.NW,N.Ou,v.YE,v.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,B.gM,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlDirective,V.oO,b.w9,b.jq,g.Ov,_.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.pad-top-miss[_ngcontent-%COMP%]{padding-top:1.8px!important}.form-field[_ngcontent-%COMP%]{margin-top:.5px}.table-main-header[_ngcontent-%COMP%]{justify-content:space-between;font-size:20px;padding-top:5px;padding-bottom:5px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-right:1px solid #545454;text-align:center;font-weight:400!important;padding-left:.5rem!important;padding-right:.5rem!important;font-size:14px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;text-align:left;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6){text-align:center}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .mat-icon-status[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:middle;padding-right:0}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:top}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{width:unset!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2)   th[_ngcontent-%COMP%]{padding-top:.9em}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){height:35px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2), table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(3){background:#212121}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2)   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(3)   th[_ngcontent-%COMP%]{color:#fff}table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0!important}.notification-detail-table[_ngcontent-%COMP%]     table tr td:nth-child(1), .notification-detail-table[_ngcontent-%COMP%]     table tr th:nth-child(1){width:25%}.notification-detail-table[_ngcontent-%COMP%]     table thead tr:nth-child(1){background:#212121}.notification-detail-table[_ngcontent-%COMP%]     table thead tr:nth-child(1) th{color:#fff}.template-list-table[_ngcontent-%COMP%]     table tr td:nth-child(4), .template-list-table[_ngcontent-%COMP%]     table tr th:nth-child(4){width:135px;min-width:135px;max-width:135px;text-align:center}.template-list-table[_ngcontent-%COMP%]     table tr td:nth-child(5), .template-list-table[_ngcontent-%COMP%]     table tr th:nth-child(5){width:250px;min-width:250px;text-align:center!important}.template-list-table[_ngcontent-%COMP%]     table thead tr:nth-child(2), .template-list-table[_ngcontent-%COMP%]     table thead tr:nth-child(3){background:#212121}.template-list-table[_ngcontent-%COMP%]     table thead tr:nth-child(2) th, .template-list-table[_ngcontent-%COMP%]     table thead tr:nth-child(3) th{color:#fff}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}.mat-column-select[_ngcontent-%COMP%]{overflow:initial}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.edit-button[_ngcontent-%COMP%]{color:#fff;vertical-align:middle}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.custom-ng-select[_ngcontent-%COMP%]{margin-top:4px}.custom-ng-select[_ngcontent-%COMP%]     .ng-select .ng-select-container{background-color:#fff0;color:#d3d3d3!important;border:none;border-radius:0!important;border-bottom:1px solid lightgray!important;min-height:36px;align-items:center}.custom-ng-select[_ngcontent-%COMP%]     .mat-select-arrow-wrapper{padding-right:5px}.custom-ng-select[_ngcontent-%COMP%]     .mat-select-value-text{margin-left:10px;font-size:13px}.custom-ng-select   [_nghost-%COMP%]  .ng-select.ng-select-focused:not(.ng-select-opened)>.ng-select-container{border:0px!important;box-shadow:none!important}.custom-ng-select   [_nghost-%COMP%]  .ng-select.ng-select-focused:not(.ng-select-opened).ng-select-container{border:0px!important;box-shadow:none!important}.custom-ng-select   [_nghost-%COMP%]  .ng-select.ng-select-focused:not(.ng-select-opened){border:0px!important;box-shadow:none!important}.custom-ng-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container{align-items:center;padding-left:unset!important}.custom-ng-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#d3d3d3;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.custom-ng-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container .ng-placeholder{color:#d5d5d5;font-size:14px;font-weight:500}.custom-ng-select[_ngcontent-%COMP%]     .ng-select.ng-invalid.ng-touched .ng-select-container{border-color:#dc3545;box-shadow:inset 0 1px 1px #00000013,0 0 0 3px #fde6e8}.custom-ng-select[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{color:#dc3545}.back-button[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px}  .mat-menu-content:not(:empty){padding:0}  .custom-ngselect-dropdown ng-dropdown-panel{width:-moz-fit-content!important;width:fit-content!important}"]}),i})();var K=d(95017),lt=d(9749);function Ge(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"textarea",26),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("color",e.subjectDataEN||"EN"!==e.lang?"white":"red"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,4,"Subject"),"*"),t.\u0275\u0275advance(2),t.\u0275\u0275property("readonly",(null==e.templateData?null:e.templateData.is_publish)&&!e.templateData.is_default_template)}}function Ke(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"textarea",27),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("color",e.subjectDataFR||"FR"!==e.lang?"white":"red"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,4,"Subject"),"*"),t.\u0275\u0275advance(2),t.\u0275\u0275property("readonly",(null==e.templateData?null:e.templateData.is_publish)&&!e.templateData.is_default_template)}}function Ye(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",28),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Key")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Key")))}function Qe(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",29),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.key),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.key," ")}}function Xe(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",28),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Description")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Description")))}function Ze(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",29),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.description),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.description," ")}}function qe(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",28),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function Je(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",30)(1,"button",31),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onCopyToClipBoard(a))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"mat-icon"),t.\u0275\u0275text(4,"content_copy"),t.\u0275\u0275elementEnd()()()}2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"Copy")))}function tn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",32)(1,"div",33),t.\u0275\u0275element(2,"mat-spinner",34),t.\u0275\u0275elementEnd()())}function en(i,r){1&i&&t.\u0275\u0275element(0,"tr",35)}function nn(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",36),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function on(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",37),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function an(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",38),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_SCHOLAR_PERIOD.Scholar period has no record")," "))}function rn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",39),t.\u0275\u0275element(1,"mat-progress-spinner",40),t.\u0275\u0275elementEnd())}const ln=function(){return["loading"]},cn=function(i){return{hide:i}},sn=function(i){return{"hide-pagination-buttons":i}},dn=function(){return[10]};let pn=(()=>{class i{constructor(e,n,o,a,l){this.notificationService=e,this.route=n,this.fb=o,this.translateService=a,this.authService=l,this.subs=new S.Y,this.isWaitingForResponse=!1,this.Editor=lt,this.config={toolbar:["heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","|","numberedList","bulletedList","todoList","|","indent","outdent","|","link","blockQuote","imageUpload","insertTable","horizontalLine","pageBreak","|","undo","redo"],link:{addTargetToExternalLinks:!0},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"]},image:{toolbar:[{name:"imageStyle:pictures",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"],defaultItem:"imageStyle:block"},{name:"imageStyle:icons",items:["imageStyle:alignLeft","imageStyle:alignRight"],defaultItem:"imageStyle:alignLeft"}]}},this.displayedColumns=["key","description","action"],this.filterColumns=["keyFilter","descriptionFilter","actionFilter"],this.dataSource=new m.by([]),this.selection=new K.Ov(!0,[]),this.dummyData=[{key:"${user_civility}",description:"description of civility"},{key:"${user_first_name}",description:"description of user first name"},{key:"${user_last_name}",description:"description of user last name"}],this.dataCount=0}ngOnInit(){this.initTemplateForm(),this.getOneTemplate(),this.notificationId=this.route.snapshot.queryParamMap.get("id"),this.notificationId&&this.getDataTableKey(this.notificationId),this.subs.sink=this.translateService.onLangChange.pipe().subscribe(e=>{this.getDataTableKey(this.notificationId)})}ngAfterViewInit(){this.initEditor()}initTemplateForm(){this.templateForm=this.fb.group({notification_reference_id:[null],is_default_template:[!1],program_seasons:[null],template_name:[null],subject_en:[null],subject_fr:[null],en:[null],fr:[null],is_publish:[null],status:[null]})}getOneTemplate(){this.Id&&(this.subs.sink=this.notificationService.getOneTemplate(this.Id).subscribe(e=>{if(e){const n=h.cloneDeep(e);this.templateData=n,this.editor&&this.templateData&&this.templateData.is_publish&&!this.templateData.is_default_template?this.editor.isReadOnly=!0:this.editor&&(this.editor.isReadOnly=!1),"EN"===this.lang&&n.en&&this.editor&&(this.editor.setData(n.en),this.templateData.en=this.editor.getData()),"FR"===this.lang&&n.fr&&this.editor&&(this.editor.setData(n.fr),this.templateData.fr=this.editor.getData()),this.templateForm.patchValue(n)}},e=>{this.authService.postErrorLog(e),this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translateService.instant("SORRY"),text:e&&e.message?this.translateService.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translateService.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}mapKeyGroups(e){h.cloneDeep(e);let o=h.cloneDeep(e?.keys);const a=h.cloneDeep(e?.key_groups);let l=[];e?.key_groups?.length&&a.forEach(p=>{const O=p?.keys.map(P=>({key:P?.key,description:"fr"===this.translateService?.currentLang?P?.fr_description:P?.en_description}));l=h.concat(O,l)}),o=h.concat(o,l),this.dataSource.data=o,this.dataSource.paginator=this.paginator,this.dataCount=o.length}getDataTableKey(e){this.isWaitingForResponse=!0,e&&(this.subs.sink=this.notificationService.getOneTemplateKey(e).subscribe(n=>{if(n){this.isWaitingForResponse=!1;const o=h.cloneDeep(n);o.keys&&o.keys.length>0||o.key_groups&&o.key_groups.length>0?this.mapKeyGroups(o):(this.dataSource.data=[],this.dataCount=0,this.dataSource.paginator=this.paginator),this.noData=this.dataSource.connect().pipe((0,f.U)(a=>0===a.length))}},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,this.dataSource.data=[],this.dataCount=0,this.dataSource.paginator=this.paginator,c().fire({type:"info",title:this.translateService.instant("SORRY"),text:n&&n.message?this.translateService.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translateService.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}ngOnChanges(){this.resetEditor(),this.refetch()}refetch(){this.subjectDataFR=!0,this.subjectDataEN=!0,this.bodyData=!0,this.initTemplateForm(),this.Id&&this.getOneTemplate(),this.notificationId&&this.getDataTableKey(this.notificationId)}initEditor(){lt.create(document.querySelector(".editor_"+this.Id),this.config).then(e=>{e&&(document.querySelector(".editor-toolbar_"+this.Id).appendChild(e.ui.view.toolbar.element),this.editor=e)}).catch(e=>{})}onCopyToClipBoard(e){return(0,F.Z)(function*(){if(navigator.clipboard)return yield navigator.clipboard.writeText(e.key)})()}createPayload(){const e=h.cloneDeep(this.templateForm.value);return"EN"===this.lang&&(e.en=this.editor.getData()),"FR"===this.lang&&(e.fr=this.editor.getData()),e}disablePublish(){const e=h.cloneDeep(this.templateForm.value);return"EN"===this.lang&&(e.en=this.editor.getData()),"FR"===this.lang&&(e.fr=this.editor.getData()),!(e&&e.en&&e.fr&&e.subject_en&&e.subject_fr)}checkComparison(){const e=h.cloneDeep(this.templateForm.value),n=h.cloneDeep(this.templateData);let o,a;return"EN"===this.lang&&(e.en=this.editor.getData(),o={en:e?.en,subject_en:e?.subject_en},a={en:n?.en,subject_en:n?.subject_en}),"FR"===this.lang&&(e.fr=this.editor.getData(),o={fr:e?.fr,subject_fr:e?.subject_fr},a={fr:n?.fr,subject_fr:n?.subject_fr}),!(JSON.stringify(o)!==JSON.stringify(a)&&(!this.templateData?.is_publish||this.templateData?.is_default_template))}checkIsFieldFilled(){this.bodyData=!!this.editor&&!!this.editor.getData(),this.subjectDataEN=!("EN"!==this.lang||!this.templateForm.get("subject_en").value),this.subjectDataFR=!("FR"!==this.lang||!this.templateForm.get("subject_fr").value)}resetEditor(){const e=document.querySelectorAll(".document-editor__toolbar");for(let n=0;n<e.length;n++)e[n].className.includes(this.Id)||e[n].remove()}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(w),t.\u0275\u0275directiveInject(M.gz),t.\u0275\u0275directiveInject(s.UntypedFormBuilder),t.\u0275\u0275directiveInject(_.sK),t.\u0275\u0275directiveInject(D.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-notification-template-details"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(k.NW,7),t.\u0275\u0275viewQuery(v.YE,7)),2&e){let o;t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.paginator=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.sort=o.first)}},inputs:{lang:"lang",Id:"Id",published:"published"},features:[t.\u0275\u0275NgOnChangesFeature],decls:38,vars:34,consts:[[1,"container"],[1,"p-grid",3,"formGroup"],[1,"p-col-7"],[1,"subject-field"],[4,"ngIf"],[1,"body-field"],[1,"document-editor"],[1,"document-editor__editable-container"],[1,"p-col-5"],[1,"top-space"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","key"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","hidePageSize","pageSize"],["class","loading-indicator",4,"ngIf"],["formControlName","subject_en","rows","5",1,"color-black",2,"width","100%",3,"readonly"],["formControlName","subject_fr","rows","5",1,"color-black",2,"width","100%",3,"readonly"],["mat-header-cell","",3,"matTooltip"],["mat-cell","",3,"matTooltip"],["mat-cell",""],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","click"],["mat-header-cell","","colspan","100%",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275template(4,Ge,5,6,"ng-container",4),t.\u0275\u0275template(5,Ke,5,6,"ng-container",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",5)(7,"div"),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",6),t.\u0275\u0275element(11,"div"),t.\u0275\u0275elementStart(12,"div",7)(13,"div"),t.\u0275\u0275element(14,"p"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(15,"div",8)(16,"div",9)(17,"table",10),t.\u0275\u0275elementContainerStart(18,11),t.\u0275\u0275template(19,Ye,5,6,"th",12),t.\u0275\u0275template(20,Qe,2,2,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(21,14),t.\u0275\u0275template(22,Xe,5,6,"th",12),t.\u0275\u0275template(23,Ze,2,2,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,15),t.\u0275\u0275template(25,qe,5,6,"th",12),t.\u0275\u0275template(26,Je,5,3,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(27,17),t.\u0275\u0275template(28,tn,3,0,"th",18),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(29,en,1,0,"tr",19),t.\u0275\u0275template(30,nn,1,1,"tr",20),t.\u0275\u0275template(31,on,1,1,"tr",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(32,an,3,3,"div",22),t.\u0275\u0275pipe(33,"async"),t.\u0275\u0275elementStart(34,"div",23),t.\u0275\u0275pipe(35,"async"),t.\u0275\u0275element(36,"mat-paginator",24),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(37,rn,2,0,"div",25)),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroup",n.templateForm),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","EN"===n.lang),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","FR"===n.lang),t.\u0275\u0275advance(2),t.\u0275\u0275styleProp("color",n.bodyData?"white":"red"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(9,22,"Body"),"*"),t.\u0275\u0275advance(3),t.\u0275\u0275classMapInterpolate1("document-editor__toolbar editor-toolbar_",n.Id,""),t.\u0275\u0275advance(2),t.\u0275\u0275classMapInterpolate1("document-editor__editable editor_",n.Id,""),t.\u0275\u0275advance(4),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(12),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(28,ln)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(33,24,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(29,cn,t.\u0275\u0275pipeBind1(35,26,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(31,sn,n.dataCount<=10))("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(33,dn)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[g.mk,g.O5,E.lW,I.Hw,k.NW,N.Ou,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,B.gM,s.DefaultValueAccessor,s.NgControlStatus,s.NgControlStatusGroup,s.FormGroupDirective,s.FormControlName,V.oO,g.Ov,_.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.container[_ngcontent-%COMP%]   .subject-field[_ngcontent-%COMP%]{padding:10px}.container[_ngcontent-%COMP%]   .subject-field[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{color:red}.container[_ngcontent-%COMP%]   .body-field[_ngcontent-%COMP%]{padding:10px}.container[_ngcontent-%COMP%]   .body-field[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{color:red;padding-bottom:10px}.container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]{border:1px solid var(--ck-color-base-border);border-radius:var(--ck-border-radius);max-height:700px;display:flex;flex-flow:column nowrap}.container[_ngcontent-%COMP%]   .document-editor__toolbar[_ngcontent-%COMP%]{z-index:1;box-shadow:0 0 5px #0003;border-bottom:1px solid var(--ck-color-toolbar-border);margin-bottom:0}.container[_ngcontent-%COMP%]   .document-editor__toolbar[_ngcontent-%COMP%]   .ck-toolbar[_ngcontent-%COMP%]{border:0;border-radius:0}.container[_ngcontent-%COMP%]   .document-editor__editable-container[_ngcontent-%COMP%]{padding:calc(2 * var(--ck-spacing-large));background:var(--ck-color-base-foreground);overflow-y:scroll;margin-bottom:0}.container[_ngcontent-%COMP%]   .document-editor__editable-container[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{width:85%;min-height:21cm;padding:1cm 2cm 2cm;border:1px hsl(0deg,0%,82.7%) solid;border-radius:var(--ck-border-radius);background:white;box-shadow:0 0 5px #0000001a;margin:0 auto}.container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]   .ck-heading-dropdown[_ngcontent-%COMP%]   .ck-list[_ngcontent-%COMP%]   .ck-button__label[_ngcontent-%COMP%]{line-height:calc(1.7 * var(--ck-line-height-base) * var(--ck-font-size-base));min-width:6em}.container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]   .ck-heading-dropdown[_ngcontent-%COMP%]   .ck-list[_ngcontent-%COMP%]   .ck-button[_ngcontent-%COMP%]:not(.ck-heading_paragraph)   .ck-button__label[_ngcontent-%COMP%]{transform:scale(.8);transform-origin:left}.container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]   .ck-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]   .ck-heading-dropdown[_ngcontent-%COMP%]   .ck-heading_heading1[_ngcontent-%COMP%]   .ck-button__label[_ngcontent-%COMP%]{font-size:2.18em;font-weight:400}.container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]   .ck-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.37em;padding-top:.342em;margin-bottom:.142em}.container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]   .ck-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]   .ck-heading-dropdown[_ngcontent-%COMP%]   .ck-heading_heading2[_ngcontent-%COMP%]   .ck-button__label[_ngcontent-%COMP%]{font-size:1.75em;font-weight:400;color:#009dff}.container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]   .ck-heading-dropdown[_ngcontent-%COMP%]   .ck-heading_heading2.ck-on[_ngcontent-%COMP%]   .ck-button__label[_ngcontent-%COMP%]{color:var(--ck-color-list-button-on-text)}.container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]   .ck-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{line-height:1.86em;padding-top:.171em;margin-bottom:.357em}.container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]   .ck-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]   .ck-heading-dropdown[_ngcontent-%COMP%]   .ck-heading_heading3[_ngcontent-%COMP%]   .ck-button__label[_ngcontent-%COMP%]{font-size:1.31em;font-weight:700}.container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]   .ck-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{line-height:1.24em;padding-top:.286em;margin-bottom:.952em}.container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]   .ck-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;line-height:1.63em;padding-top:.5em;margin-bottom:1.13em}.container[_ngcontent-%COMP%]   .document-editor[_ngcontent-%COMP%]   .ck-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{font-family:Georgia,serif;margin-left:calc(2 * var(--ck-spacing-large));margin-right:calc(2 * var(--ck-spacing-large))}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   .top-space[_ngcontent-%COMP%]{margin-top:4rem}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-right:1px solid #545454;text-align:left}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), .container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30%;padding-left:.5rem!important}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), .container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:auto;padding-left:.5rem!important}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), .container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:100px;text-align:center!important;padding:0}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:top}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{width:unset!important}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2)   th[_ngcontent-%COMP%]{padding-top:.9em}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   .action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   .action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   .left-margin[_ngcontent-%COMP%]{margin-left:3%}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   .mat-column-select[_ngcontent-%COMP%]{overflow:initial}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   .cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   .no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}[_nghost-%COMP%]     thead{background:black!important;border:4px solid #607d8b!important}[_nghost-%COMP%]     thead tr:nth-child(1){height:35px}[_nghost-%COMP%]     thead tr:nth-child(1), [_nghost-%COMP%]     thead tr:nth-child(2){background:#212121}[_nghost-%COMP%]     thead tr:nth-child(1) th, [_nghost-%COMP%]     thead tr:nth-child(2) th{color:#fff;vertical-align:bottom}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px!important}textarea.color-black[_ngcontent-%COMP%]{color:#000!important}"]}),i})();var mn=d(80484),gn=d(1481),ct=d(56709);const hn=["handlePdf"];function _n(i,r){1&i&&(t.\u0275\u0275elementStart(0,"label"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Notification management.Select document from document builder")," "))}function fn(i,r){if(1&i&&(t.\u0275\u0275element(0,"input",23),t.\u0275\u0275text(1)),2&i){const e=r.item,n=r.item$;t.\u0275\u0275propertyInterpolate1("id","item-",r.index,""),t.\u0275\u0275property("ngModel",null==n?null:n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.filename," ")}}function un(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",25),t.\u0275\u0275listener("change",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.selectAllData(o,"documentBuilder"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("documentBuilder"))("indeterminate",e.isSomeDropdownSelected("documentBuilder")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function bn(i,r){1&i&&t.\u0275\u0275template(0,un,3,5,"ng-template",24)}function Cn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",9)(1,"div",29),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",30)(4,"button",31),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e),a=o.index,l=o.$implicit,p=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(p.onRemove(a,l))}),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementStart(6,"mat-icon"),t.\u0275\u0275text(7,"delete"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=r.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.filename," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(5,2,"REMOVE"))}}function xn(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"p",26),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",27),t.\u0275\u0275template(5,Cn,8,4,"div",28),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"Notification management.Attachment"),":"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",e.uploadedFile)}}function On(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",32),t.\u0275\u0275element(1,"mat-progress-spinner",33),t.\u0275\u0275elementEnd())}let Pn=(()=>{class i{constructor(e,n,o,a,l,p){this.dialogRef=e,this.data=n,this.translate=o,this.notificationService=a,this.fileUploadService=l,this.documentService=p,this.subs=new S.Y,this.documentBuilderForm=new s.UntypedFormControl(null),this.uploadedFile=[],this.uploadedFileIds=new Set,this.isWaitingForResponse=!1}ngOnInit(){this.widthDecide(),this.getAllDocumentBuilders()}widthDecide(){"fr"===this.translate.currentLang?(this.maxWidth=900,this.maxFormWidth=460):(this.maxWidth=600,this.maxFormWidth=320)}onFileChange(e){const[n]=e?.target?.files;n&&(["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","image/png","image/jpeg","image/jpg"].includes(n.type)?n.size>104857600?c().fire({type:"warning",title:this.translate.instant("Attachment_FSS.TITLE"),text:this.translate.instant("Attachment_FSS.TEXT"),confirmButtonText:this.translate.instant("Attachment_FSS.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}):(this.isWaitingForResponse=!0,this.subs.sink=this.fileUploadService.singleUpload(n).subscribe(l=>{l&&this.uploadedFile.push({document_builder_id:null,filename:l?.file_name,s3_file_name:l?.s3_file_name,document_type:"file_uploads"}),this.isWaitingForResponse=!1},l=>{this.isWaitingForResponse=!1})):c().fire({type:"warning",title:this.translate.instant("Attachment_FTS.TITLE"),text:this.translate.instant("Attachment_FTS.TEXT"),confirmButtonText:this.translate.instant("Attachment_FTS.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1})),this.resetFileState()}resetFileState(){this.currentFile.nativeElement.value=""}onRemove(e,n){if(n?.document_builder_id){this.uploadedFileIds.delete(n?.document_builder_id);const o=[...this.uploadedFileIds];this.documentBuilderForm.setValue(o,{emitEvent:!1})}this.uploadedFile.splice(e,1)}getAllDocumentBuilders(){this.subs.sink=this.documentService.getAllDocumentsDropdown({status:!0,hide_form:!1}).subscribe(n=>{if(n){const o=n.sort((a,l)=>a.document_builder_name.localeCompare(l.document_builder_name,void 0,{caseFirst:"lower"})).map(a=>({document_builder_id:a?._id,filename:a?.document_builder_name,s3_file_name:null,document_type:"document_builder"}));this.documentList=this.data?.attachments?.length?o?.filter(a=>!this.data?.attachments?.some(l=>a?.document_builder_id===l?.document_builder_id?._id)):o}})}setDocumentBuilder(){const e=this.documentBuilderForm?.value,n=e?.filter(p=>!this.uploadedFileIds?.has(p)),o=Array?.from(this.uploadedFileIds)?.filter(p=>!e?.includes(p));n?.forEach(p=>this.uploadedFileIds?.add(p)),o?.forEach(p=>this.uploadedFileIds?.delete(p));const a=Array?.from(this.uploadedFileIds,p=>this.uploadedFile?.find(P=>P?.document_builder_id===p)?null:this.documentList?.find(j=>j?.document_builder_id===p)).filter(p=>null!==p),l=[...this.uploadedFile,...a];this.uploadedFile=o?.length?l?.filter(p=>!o?.includes(p?.document_builder_id)):l}isAllDropdownSelected(e){if("documentBuilder"===e){const n=this.documentBuilderForm.value;return n&&0!==n.length&&n.length===this.documentList.length}}isSomeDropdownSelected(e){if("documentBuilder"===e){const n=this.documentBuilderForm.value;return n&&0!==n.length&&n.length!==this.documentList.length}}selectAllData(e,n){if("documentBuilder"===n)if(e.checked){const o=this.documentList?.map(a=>a?.document_builder_id);this.documentBuilderForm.patchValue(o,{emitEvent:!1})}else this.documentBuilderForm.patchValue(null,{emitEvent:!1})}createPayload(){const e=h.cloneDeep(this.data?.attachments),n=h.cloneDeep(this.uploadedFile);let o;return o=e?.length?[...e.map(p=>({document_builder_id:p?.document_builder_id?._id?p.document_builder_id._id:null,filename:p?.filename,s3_file_name:p?.s3_file_name?p?.s3_file_name:null,document_type:p?.document_type})),...n]:n,{attachments:o}}onValidate(){if(!this.uploadedFile?.length)return void c().fire({type:"warning",title:this.translate.instant("Attachment_VES.TITLE"),text:this.translate.instant("Attachment_VES.TEXT"),confirmButtonText:this.translate.instant("Attachment_VES.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1});const e=this.createPayload();this.isWaitingForResponse=!0,this.subs.sink=this.notificationService.updateNotificationTemplate(this.data?.template_id,e).subscribe(n=>{n&&c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(o=>{this.closeDialog(!0)}),this.isWaitingForResponse=!1})}closeDialog(e){this.dialogRef.close(e)}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(u.so),t.\u0275\u0275directiveInject(u.WI),t.\u0275\u0275directiveInject(_.sK),t.\u0275\u0275directiveInject(w),t.\u0275\u0275directiveInject(mn.J),t.\u0275\u0275directiveInject(gn.D))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-add-attachment-dialog"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(hn,5),2&e){let o;t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.currentFile=o.first)}},decls:40,vars:42,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper","header-dialog"],[1,"p-grid","justify-content-between"],[1,"p-col-10","no-padding"],["mat-icon-button","","svgIcon","paperclip-plus",2,"vertical-align","text-bottom","margin-right","5px"],[1,"dialogTitle"],[1,"p-col-2","no-padding"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",2,"overflow","hidden !important"],[1,"p-grid"],[1,"p-col",2,"padding-left","0"],[4,"ngIf"],["bindValue","document_builder_id","bindLabel","filename",1,"document-builder",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["ng-option-tmp",""],[1,"p-col-fixed","vertical-align"],[1,"p-col-fixed","vertical-align",2,"padding-right","0"],["mat-raised-button","","color","accent",3,"matTooltip","click"],["type","file","name","file","accept",".pdf, .doc, .docx, .xls, .xlsx, .png, .jpeg, .jpg",2,"display","none",3,"change"],["handlePdf",""],["mat-dialog-actions","",1,"mat-dialog-actions","justify-content-end","mr-10"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-button","","mat-raised-button","","color","primary",1,"mr-0",3,"click"],["class","loading-indicator",4,"ngIf"],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],[1,"mb-0"],[1,"yellow-border"],["class","p-grid",4,"ngFor","ngForOf"],[1,"p-col"],[1,"p-col-fixed"],["mat-icon-button","","color","warn",3,"matTooltip","click"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){if(1&e){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275element(4,"mat-icon",4),t.\u0275\u0275elementStart(5,"h3",5),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",6)(9,"button",7),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275elementStart(10,"mat-icon"),t.\u0275\u0275text(11,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(12,"div",8)(13,"div",9)(14,"div",10),t.\u0275\u0275template(15,_n,3,3,"label",11),t.\u0275\u0275elementStart(16,"ng-select",12),t.\u0275\u0275listener("close",function(){return n.setDocumentBuilder()}),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275template(19,fn,2,3,"ng-template",13),t.\u0275\u0275template(20,bn,1,0,null,11),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(21,"div",14),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(24,"div",15)(25,"button",16),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const l=t.\u0275\u0275reference(30);return t.\u0275\u0275resetView(l.click())}),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275text(27),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(29,"input",17,18),t.\u0275\u0275listener("change",function(l){return n.onFileChange(l)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(31,xn,6,4,"ng-container",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(32,"div",19)(33,"button",20),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275text(34),t.\u0275\u0275pipe(35,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(36,"button",21),t.\u0275\u0275listener("click",function(){return n.onValidate()}),t.\u0275\u0275text(37),t.\u0275\u0275pipe(38,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(39,On,2,0,"div",22)}2&e&&(t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,26,"Notification management.Add attachment")),t.\u0275\u0275advance(6),t.\u0275\u0275styleProp("max-width",n.maxWidth,"px")("min-width",n.maxWidth,"px"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==n.documentBuilderForm.value?null:n.documentBuilderForm.value.length),t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("max-width",n.maxFormWidth,"px")("min-width",n.maxFormWidth,"px"),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(17,28,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(18,30,"Notification management.Select document from document builder")),t.\u0275\u0275property("items",n.documentList)("appendTo","body")("multiple",!0)("formControl",n.documentBuilderForm)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==n.documentList?null:n.documentList.length),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(23,32,"OR")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(26,34,"Notification management.Select file from your local")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(28,36,"Notification management.Select file from your local")," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==n.uploadedFile?null:n.uploadedFile.length),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(35,38,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(38,40,"VALIDATE")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[g.sg,g.O5,R.Zt,R.Bh,E.lW,ct.oG,u.xY,u.H8,I.Hw,N.Ou,B.gM,s.CheckboxControlValueAccessor,s.NgControlStatus,s.NgModel,s.FormControlDirective,b.w9,b.ir,b.Cm,_.X$],styles:['.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.mat-dialog-content[_ngcontent-%COMP%]{margin:0;padding:0 15px}.mat-dialog-actions[_ngcontent-%COMP%]{padding-right:15px}.vertical-align[_ngcontent-%COMP%]{display:flex;margin:auto}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff;color:#000;border:none;border-radius:0!important;border-bottom:1px solid rgb(0,0,0)!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select{margin-bottom:12px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#000;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important;color:#000}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important;overflow:hidden}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent;color:#000}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container{width:12px;height:12px;margin-left:7px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background{background-color:transparent}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-checkmark .mat-checkbox-checkmark-path{stroke:#000!important}  .all-input.mat-checkbox-indeterminate .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-mixedmark{background-color:#000!important}  .ng-dropdown-panel.document-builder{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.document-builder .ng-dropdown-panel-items .ng-option{white-space:normal!important}  .ng-select.document-builder .ng-select-container .ng-value-container .ng-input>input{color:#000!important}']}),i})();var Tn=d(92340);function Mn(i,r){1&i&&t.\u0275\u0275element(0,"th",40)}function vn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",40)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",41),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.documentNameFilter)}}function yn(i,r){if(1&i&&(t.\u0275\u0275element(0,"input",45),t.\u0275\u0275text(1)),2&i){const e=r.item,n=r.item$;t.\u0275\u0275propertyInterpolate1("id","item-",r.index,""),t.\u0275\u0275property("ngModel",null==n?null:n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.key," ")}}function Sn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",47),t.\u0275\u0275listener("change",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.selectAllData(o,"documentType"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("documentType"))("indeterminate",e.isSomeDropdownSelected("documentType")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function wn(i,r){1&i&&t.\u0275\u0275template(0,Sn,3,5,"ng-template",46)}function Nn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",40)(1,"ng-select",42),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.setDocumentTypeFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,yn,2,3,"ng-template",43),t.\u0275\u0275template(5,wn,1,0,null,44),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.documentTypes)("appendTo","body")("multiple",!0)("formControl",e.documentTypeFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.documentTypes?null:e.documentTypes.length)}}function kn(i,r){if(1&i&&(t.\u0275\u0275element(0,"input",45),t.\u0275\u0275text(1)),2&i){const e=r.item,n=r.item$;t.\u0275\u0275propertyInterpolate1("id","item-",r.index,""),t.\u0275\u0275property("ngModel",null==n?null:n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.key," ")}}function En(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",47),t.\u0275\u0275listener("change",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.selectAllData(o,"fileExtension"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("fileExtension"))("indeterminate",e.isSomeDropdownSelected("fileExtension")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function In(i,r){1&i&&t.\u0275\u0275template(0,En,3,5,"ng-template",46)}function Dn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",40)(1,"ng-select",42),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.setFileExtensionFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,kn,2,3,"ng-template",43),t.\u0275\u0275template(5,In,1,0,null,44),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.fileExtensions)("appendTo","body")("multiple",!0)("formControl",e.fileExtensionFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.fileExtensions?null:e.fileExtensions.length)}}function Fn(i,r){1&i&&t.\u0275\u0275element(0,"th",40)}function An(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",48)(1,"mat-checkbox",49),t.\u0275\u0275listener("change",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o?a.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.showOptions("all",""))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function Rn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",50)(1,"mat-checkbox",51),t.\u0275\u0275listener("click",function(o){return o.stopPropagation()})("change",function(o){const l=t.\u0275\u0275restoreView(e).$implicit,p=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o?p.selection.toggle(l._id):null)})("change",function(){const a=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.showOptions("one",a))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(null==e?null:e._id)||n.isCheckedAll&&!n.dataUnselected.includes(null==e?null:e._id))("aria-label",n.checkboxLabel(e))}}function Bn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",52),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",53),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Notification management.Document name")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Notification management.Document name")," "))}function Vn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",54),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.filename)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.filename," ")}}function Ln(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",52),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",55),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Notification management.Document type")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Notification management.Document type")," "))}function Un(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",54),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Notification management."+(null==e?null:e.document_type))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Notification management."+(null==e?null:e.document_type))," ")}}function jn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",52),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",56),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Notification management.File extension")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Notification management.File extension")," "))}function zn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",54),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.file_extension),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.file_extension," ")}}function Wn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",57),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",58),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function $n(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",61),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onViewAttachment(o))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",62),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Notification management.View in document builder"))}function Hn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",61),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onDownloadAttachment(o))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"download"),t.\u0275\u0275elementEnd()()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Notification management.Download attachment"))}function Gn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",59),t.\u0275\u0275template(1,$n,3,3,"button",60),t.\u0275\u0275template(2,Hn,4,3,"button",60),t.\u0275\u0275elementStart(3,"button",61),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onRemoveAttachment(a))}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementStart(5,"mat-icon"),t.\u0275\u0275text(6,"delete"),t.\u0275\u0275elementEnd()()()}if(2&i){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","document_builder"===(null==e?null:e.document_type)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","document_builder"!==(null==e?null:e.document_type)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,3,"Notification management.Remove attachment"))}}function Kn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",63)(1,"div",64),t.\u0275\u0275element(2,"mat-spinner",65),t.\u0275\u0275elementEnd()())}function Yn(i,r){1&i&&t.\u0275\u0275element(0,"tr",66)}function Qn(i,r){1&i&&t.\u0275\u0275element(0,"tr",66)}function Xn(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",67),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function Zn(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",68),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function qn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",69),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")," "))}function Jn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",70),t.\u0275\u0275element(1,"mat-progress-spinner",71),t.\u0275\u0275elementEnd())}const ti=function(){return["loading"]},ei=function(i){return{hide:i}},ni=function(i){return{"hide-pagination-buttons":i}};let ii=(()=>{class i{constructor(e,n,o,a){this.dialog=e,this.notificationService=n,this.translate=o,this.router=a,this.subs=new S.Y,this.isFileInZip=!1,this.attachments=[],this.displayedColumns=["select","documentName","documentType","fileExtension","action"],this.filterColumns=["selectFilter","documentNameFilter","documentTypeFilter","fileExtensionFilter","actionFilter"],this.dataSource=new m.by([]),this.selection=new K.Ov(!0,[]),this.dataCount=0,this.isReset=!1,this.sortValue=null,this.filterValues={filename:null,document_type:null,file_extension:null},this.documentNameFilter=new s.UntypedFormControl(null),this.documentTypeFilter=new s.UntypedFormControl(null),this.fileExtensionFilter=new s.UntypedFormControl(null),this.fileInZipControl=new s.UntypedFormControl(null),this.dataSelected=[],this.isCheckedAll=!1,this.dataUnselected=[],this.buttonClicked="",this.documentTypes=[],this.fileExtensions=[],this.isWaitingForResponse=!1,this.isLoading=!1}ngOnInit(){this.initFilter(),this.getDocumentTypeDropdown(),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.getDocumentTypeDropdown()})}getOneTemplate(){this.templateId&&(this.isWaitingForResponse=!0,this.subs.sink=this.notificationService.getOneTemplate(this.templateId).subscribe(e=>{e&&(this.attachments=h.cloneDeep(e?.attachments),this.isFileInZip=!!e.is_attach_file_in_zip),this.getAllAttachmentDocument(),this.isWaitingForResponse=!1}))}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,et.O)(null),(0,$.b)(()=>{this.isReset||this.getOneTemplate()})).subscribe()}initFilter(){this.subs.sink=this.documentNameFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{this.filterValues.filename=e,this.isReset||this.getAllAttachmentDocument()})}getAllAttachmentDocument(){this.isWaitingForResponse=!0;const e=h.cloneDeep(this.attachments),n={limit:this.paginator&&this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator&&this.paginator.pageIndex?this.paginator.pageIndex:0},o=this.cleanFilterData();e?.length&&e.reverse(),this.subs.sink=this.notificationService.getAllAttachmentsData(e,n,o,this.sortValue).subscribe(a=>{a?.length?(this.dataSource.data=h.cloneDeep(a),this.paginator.length=a[0].count_document,this.dataCount=a[0].count_document,this.getFileExtensionDropdown(a)):(this.fileExtensions=[],this.dataSource.data=[],this.paginator.length=0,this.dataCount=0),this.fileInZipControl.setValue(this.isFileInZip),this.noData=this.dataSource.connect().pipe((0,f.U)(l=>0===l.length)),this.isReset=!1,this.isWaitingForResponse=!1})}getDocumentTypeDropdown(){this.documentTypes=[{key:this.translate.instant("Notification management.Document builder"),value:"document_builder"},{key:this.translate.instant("Notification management.File uploads"),value:"file_uploads"}]}getFileExtensionDropdown(e){if(this.attachments?.length){const n=this.attachments?.map(o=>({key:"document_builder"!==o?.document_type?o?.filename?.substring(o?.filename.lastIndexOf(".")):null,value:"document_builder"!==o?.document_type?o?.filename?.substring(o?.filename.lastIndexOf(".")):null}))?.filter(o=>null!==o.key);n?.length?this.fileExtensions=h.chain(n).uniqBy("key").sort((o,a)=>o.key.localeCompare(a.key)).value():(this.filterValues?.file_extension?.length&&(this.filterValues.file_extension=null,this.fileExtensionFilter.setValue(null,{emitEvent:!1})),this.fileExtensions=[])}}cleanFilterData(){const e=h.cloneDeep(this.filterValues);return Object.keys(e).forEach(n=>{e[n]?.length||delete e[n]}),e}sortData(e){this.sortValue=e.active&&e.direction?{[e.active]:e.direction?e.direction:"asc"}:null,this.paginator.pageIndex=0,this.isReset||this.getAllAttachmentDocument()}setDocumentTypeFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.filterValues?.document_type)!==JSON.stringify(this.documentTypeFilter?.value))if(this.documentTypeFilter?.value?.length)this.filterValues.document_type=this.documentTypeFilter?.value,this.isReset||(this.paginator.pageIndex=0,this.getAllAttachmentDocument());else{if(!this.filterValues?.document_type?.length||this.documentTypeFilter?.value?.length)return;this.filterValues.document_type=this.documentTypeFilter?.value,this.isReset||(this.paginator.pageIndex=0,this.getAllAttachmentDocument())}}setFileExtensionFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.filterValues?.file_extension)!==JSON.stringify(this.fileExtensionFilter?.value))if(this.fileExtensionFilter?.value?.length)this.filterValues.file_extension=this.fileExtensionFilter?.value,this.isReset||(this.paginator.pageIndex=0,this.getAllAttachmentDocument());else{if(!this.filterValues?.file_extension?.length||this.fileExtensionFilter?.value?.length)return;this.filterValues.file_extension=this.fileExtensionFilter?.value,this.isReset||(this.paginator.pageIndex=0,this.getAllAttachmentDocument())}}isAllDropdownSelected(e){if("documentType"===e){const n=this.documentTypeFilter.value;return n&&0!==n.length&&n.length===this.documentTypes.length}if("fileExtension"===e){const n=this.fileExtensionFilter.value;return n&&0!==n.length&&n.length===this.fileExtensions.length}}isSomeDropdownSelected(e){if("documentType"===e){const n=this.documentTypeFilter.value;return n&&0!==n.length&&n.length!==this.documentTypes.length}if("fileExtension"===e){const n=this.fileExtensionFilter.value;return n&&0!==n.length&&n.length!==this.fileExtensions.length}}selectAllData(e,n){if("documentType"===n)if(e.checked){const o=this.documentTypes?.map(a=>a.value);this.documentTypeFilter.patchValue(o,{emitEvent:!1})}else this.documentTypeFilter.patchValue(null,{emitEvent:!1});else if("fileExtension"===n)if(e.checked){const o=this.fileExtensions?.map(a=>a.value);this.fileExtensionFilter.patchValue(o,{emitEvent:!1})}else this.fileExtensionFilter.patchValue(null,{emitEvent:!1})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}isSomeSelected(){return this.selection.selected.length>0}masterToggle(){this.isAllSelected()?(this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!1,this.dataUnselected=[]):(this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!0,this.dataUnselected=[],this.dataSource.data.forEach(e=>{this.dataUnselected.includes(e._id)||this.selection.select(e._id)}))}showOptions(e,n){if(this.isCheckedAll){if(n)if(this.dataUnselected.includes(n._id)){const o=this.dataUnselected.findIndex(a=>a===n._id);this.dataUnselected.splice(o,1),this.selection.select(n._id)}else this.dataUnselected.push(n._id),this.selection.deselect(n._id)}else if(n)if(this.dataSelected&&this.dataSelected.length){const o=this.dataSelected.filter(a=>a._id===n._id);if(o&&o.length<1)this.dataSelected.push(n);else{const a=this.dataSelected.findIndex(l=>l._id===n._id);this.dataSelected.splice(a,1)}}else this.dataSelected.push(n)}resetTable(){this.isReset=!0,this.sortValue=null,this.sort.direction="",this.sort.active="",this.filterValues={filename:null,document_type:null,file_extension:null},this.documentNameFilter.setValue(null,{emitEvent:!1}),this.documentTypeFilter.setValue(null,{emitEvent:!1}),this.fileExtensionFilter.setValue(null,{emitEvent:!1}),this.paginator.pageIndex=0,this.getOneTemplate()}onAddAttachment(){this.subs.sink=this.dialog.open(Pn,{panelClass:"no-padding-pop-up",disableClose:!0,data:{template_id:this.templateId,attachments:this.attachments}}).afterClosed().subscribe(e=>{e&&this.getOneTemplate()})}onDownloadAttachment(e){const n=e?.s3_file_name;if(!n)return;const o=document.createElement("a");o.setAttribute("type","hidden"),o.download=n,o.href=`${Tn.N.apiUrl}/fileuploads/${n}?download=true`.replace("/graphql",""),o.target="_blank",o.click(),o.remove()}onViewAttachment(e){const o=this.router.createUrlTree(["document-builder/document-template"],{queryParams:{templateId:e?.document_builder_id?._id??e?.document_builder_id??null}});window.open(o.toString(),"_blank")}createPayload(){const e=h.cloneDeep(this.attachments);let n,o;return e?.length?(n=e.map(l=>({document_builder_id:l?.document_builder_id?._id?l.document_builder_id._id:null,filename:l?.filename,s3_file_name:l?.s3_file_name?l?.s3_file_name:null,document_type:l?.document_type})),o={attachments:n}):o={attachments:null},o}onRemoveAttachment(e){let n=3;c().fire({type:"warning",title:this.translate.instant("Attachment_RS.TITLE"),html:this.translate.instant("Attachment_RS.TEXT",{attachment_name:e?.filename}),confirmButtonText:this.translate.instant("Attachment_RS.BUTTON1",{timer:n}),cancelButtonText:this.translate.instant("Attachment_RS.BUTTON2"),showCancelButton:!0,allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!0,onOpen:()=>{c().disableConfirmButton();const o=c().getConfirmButton(),a=setInterval(()=>{n-=1,o.innerText=this.translate.instant("Attachment_RS.BUTTON1")+` (${n})`},1e3);this.timeOutVal=setTimeout(()=>{o.innerText=this.translate.instant("Attachment_RS.BUTTON1"),c().enableConfirmButton(),clearInterval(a),clearTimeout(this.timeOutVal)},1e3*n)}}).then(o=>{if(clearTimeout(this.timeOutVal),o.value){const a=this.attachments.findIndex(p=>p?._id===e?._id);this.attachments?.splice(a,1);const l=this.createPayload();this.isLoading=!0,this.subs.sink=this.notificationService.updateNotificationTemplate(this.templateId,l).subscribe(p=>{p&&c().fire({type:"success",title:this.translate.instant("Attachment_RSS.TITLE"),text:this.translate.instant("Attachment_RSS.TEXT"),confirmButtonText:this.translate.instant("Attachment_RSS.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(O=>{this.isLoading=!1,this.getOneTemplate()})})}})}onSetFileInZip(e){const n={is_attach_file_in_zip:e?.checked};this.isLoading=!0,this.subs.sink=this.notificationService.updateNotificationTemplate(this.templateId,n).subscribe(o=>{o&&c().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(a=>{this.isFileInZip=n?.is_attach_file_in_zip,this.isLoading=!1,this.getOneTemplate()})})}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(u.uw),t.\u0275\u0275directiveInject(w),t.\u0275\u0275directiveInject(_.sK),t.\u0275\u0275directiveInject(M.F0))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-notification-attachment"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(k.NW,7),t.\u0275\u0275viewQuery(v.YE,7)),2&e){let o;t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.paginator=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.sort=o.first)}},inputs:{templateId:"templateId"},decls:65,vars:45,consts:[[1,"container"],[1,"p-grid"],[1,"p-col-12"],[1,"horizontal","header-button","header-action"],[1,"text-right",2,"display","inline-block","float","right"],["mat-raised-button","","color","accent","matTooltipPosition","above",1,"relative",3,"matTooltip","disabled","matMenuTriggerFor"],["action","matMenu"],["mat-menu-item","",3,"matTooltip","click"],["mat-raised-button","","color","primary",3,"matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],[1,"text-right","text-count"],[3,"formControl","change"],[1,"p-col-12","no-padding","table-wrapper","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","selectFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","documentNameFilter"],["matColumnDef","documentTypeFilter"],["matColumnDef","fileExtensionFilter"],["matColumnDef","actionFilter"],["matColumnDef","select"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","documentName"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","class","pad-l-xs",3,"matTooltip",4,"matCellDef"],["matColumnDef","documentType"],["matColumnDef","fileExtension"],["matColumnDef","action"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","style","text-align: center !important",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["class","loading-indicator",4,"ngIf"],["mat-header-cell",""],["matInput","",1,"form-field",3,"formControl","placeholder"],["bindValue","value","bindLabel","key",1,"custom",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["ng-option-tmp",""],[4,"ngIf"],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],["mat-header-cell","",1,"text-center"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"text-center"],[3,"checked","aria-label","click","change"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-sort-header","filename",2,"text-align","center !important"],["mat-cell","",1,"pad-l-xs",3,"matTooltip"],["mat-sort-header","document_type",2,"text-align","center !important"],["mat-sort-header","file_extension",2,"text-align","center !important"],["mat-header-cell","",3,"matTooltip"],[2,"text-align","center !important"],["mat-cell",""],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","click"],["svgIcon","eye"],["mat-header-cell","","colspan","100%",2,"text-align","center !important"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementStart(9,"mat-icon"),t.\u0275\u0275text(10,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"mat-menu",null,6)(13,"button",7),t.\u0275\u0275listener("click",function(){return n.onAddAttachment()}),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(17,"button",8),t.\u0275\u0275listener("click",function(){return n.resetTable()}),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275element(19,"mat-icon",9),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(22,"div",10)(23,"mat-slide-toggle",11),t.\u0275\u0275listener("change",function(a){return n.onSetFileInZip(a)}),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(26,"div",12)(27,"table",13),t.\u0275\u0275listener("matSortChange",function(a){return n.sortData(a)}),t.\u0275\u0275elementContainerStart(28,14),t.\u0275\u0275template(29,Mn,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(30,16),t.\u0275\u0275template(31,vn,4,4,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(32,17),t.\u0275\u0275template(33,Nn,6,13,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(34,18),t.\u0275\u0275template(35,Dn,6,13,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(36,19),t.\u0275\u0275template(37,Fn,1,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(38,20),t.\u0275\u0275template(39,An,2,3,"th",21),t.\u0275\u0275template(40,Rn,2,2,"td",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(41,23),t.\u0275\u0275template(42,Bn,5,6,"th",24),t.\u0275\u0275template(43,Vn,3,4,"td",25),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(44,26),t.\u0275\u0275template(45,Ln,5,6,"th",24),t.\u0275\u0275template(46,Un,4,6,"td",25),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(47,27),t.\u0275\u0275template(48,jn,5,6,"th",24),t.\u0275\u0275template(49,zn,2,2,"td",25),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(50,28),t.\u0275\u0275template(51,Wn,5,6,"th",29),t.\u0275\u0275template(52,Gn,7,5,"td",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(53,31),t.\u0275\u0275template(54,Kn,3,0,"th",32),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(55,Yn,1,0,"tr",33),t.\u0275\u0275template(56,Qn,1,0,"tr",33),t.\u0275\u0275template(57,Xn,1,1,"tr",34),t.\u0275\u0275template(58,Zn,1,1,"tr",35),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(59,qn,3,3,"div",36),t.\u0275\u0275pipe(60,"async"),t.\u0275\u0275elementStart(61,"div",37),t.\u0275\u0275pipe(62,"async"),t.\u0275\u0275element(63,"mat-paginator",38),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(64,Jn,2,0,"div",39)),2&e){const o=t.\u0275\u0275reference(12);t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(6,22,"Action")," "),t.\u0275\u0275property("disabled",n.isWaitingForResponse)("matMenuTriggerFor",o),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,24,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(14,26,"Notification management.Add attachment")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(16,28,"Notification management.Add attachment")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(18,30,"RESET")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(21,32,"RESET")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("formControl",n.fileInZipControl),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(25,34,n.fileInZipControl.value?"Notification management.Attachments will be sent in ZIP":"Notification management.Attachments will not be sent in ZIP")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(28),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(40,ti)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(60,36,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(41,ei,t.\u0275\u0275pipeBind1(62,38,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(43,ni,n.dataCount<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",10),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isLoading)}},dependencies:[g.mk,g.O5,E.lW,ct.oG,I.Hw,A.KE,U.Nt,L.VK,L.OP,L.p6,k.NW,N.Ou,G.Rr,v.YE,v.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,B.gM,s.DefaultValueAccessor,s.CheckboxControlValueAccessor,s.NgControlStatus,s.NgModel,s.FormControlDirective,V.oO,b.w9,b.ir,b.Cm,g.Ov,_.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.top-space[_ngcontent-%COMP%]{margin-top:20px!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.header-action[_ngcontent-%COMP%]{font-family:firaSans!important;height:50px;padding:8px;background:#424242}.text-count[_ngcontent-%COMP%]{display:inline-block;float:left;padding-top:4px}.table-wrapper[_ngcontent-%COMP%]{overflow:auto}.table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#212121}.table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:9999px;background:#eaa11c!important}[_nghost-%COMP%]     table{position:relative;border-collapse:unset}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{font-size:14px;border-right:1px solid #545454}[_nghost-%COMP%]     table tr td.mat-column-select, [_nghost-%COMP%]     table tr td.mat-column-selectFilter, [_nghost-%COMP%]     table tr th.mat-column-select, [_nghost-%COMP%]     table tr th.mat-column-selectFilter{max-width:40px;min-width:40px;padding:8px!important;box-shadow:1px 1px #545454}[_nghost-%COMP%]     table tr td.mat-column-documentName, [_nghost-%COMP%]     table tr td.mat-column-documentNameFilter, [_nghost-%COMP%]     table tr th.mat-column-documentName, [_nghost-%COMP%]     table tr th.mat-column-documentNameFilter{min-width:25rem;max-width:25rem;padding-right:.5rem}[_nghost-%COMP%]     table tr td.mat-column-documentType, [_nghost-%COMP%]     table tr td.mat-column-documentTypeFilter, [_nghost-%COMP%]     table tr th.mat-column-documentType, [_nghost-%COMP%]     table tr th.mat-column-documentTypeFilter{min-width:8rem;max-width:8rem;padding-right:.5rem}[_nghost-%COMP%]     table tr td.mat-column-fileExtension, [_nghost-%COMP%]     table tr td.mat-column-fileExtensionFilter, [_nghost-%COMP%]     table tr th.mat-column-fileExtension, [_nghost-%COMP%]     table tr th.mat-column-fileExtensionFilter{min-width:8rem;max-width:8rem;padding-right:.5rem}[_nghost-%COMP%]     table tr td.mat-column-action, [_nghost-%COMP%]     table tr td.mat-column-actionFilter, [_nghost-%COMP%]     table tr th.mat-column-action, [_nghost-%COMP%]     table tr th.mat-column-actionFilter{text-align:center!important;min-width:6rem;max-width:6rem;padding-right:.5rem}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding:.5em}[_nghost-%COMP%]     table tr th{padding-top:1rem;padding-bottom:1rem;font-weight:700!important;vertical-align:top;padding-left:1rem}[_nghost-%COMP%]     table tr th.mat-column-reset{padding:.5em}[_nghost-%COMP%]     table tr th.mat-column-select{vertical-align:middle}[_nghost-%COMP%]     table tr th:last-child{padding-right:1rem}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr th .mat-form-field{width:90%}[_nghost-%COMP%]     table thead tr:nth-child(1), [_nghost-%COMP%]     table thead tr:nth-child(2){height:auto;background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(1) th, [_nghost-%COMP%]     table thead tr:nth-child(2) th{color:#fff}[_nghost-%COMP%]     table thead tr:nth-child(2) th{padding:.5em}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgb(241,241,241)!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important;color:#fff}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important;overflow:hidden}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container{width:12px;height:12px;margin-left:7px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background{background-color:transparent}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-checkmark .mat-checkbox-checkmark-path{stroke:#000!important}  .all-input.mat-checkbox-indeterminate .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-mixedmark{background-color:#000!important}  .ng-dropdown-panel.custom{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom .ng-dropdown-panel-items .ng-option{white-space:normal!important}  .ng-select.custom .ng-select-container .ng-value-container .ng-input>input{color:#fff!important}']}),i})();const oi=["ChildCmp"];function ai(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",18),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.onPublish())}),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(3,"svg",19),t.\u0275\u0275element(4,"path",20),t.\u0275\u0275elementEnd()(),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&i&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,1,"PUBLISH")," "))}function ri(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",18),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.onUnPublish())}),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(3,"svg",19),t.\u0275\u0275element(4,"path",20),t.\u0275\u0275elementEnd()(),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&i&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,1,"Unpublish")," "))}function li(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"button",9),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selectLanguage("EN"))}),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"button",9),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selectLanguage("FR"))}),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",10)(11,"h3"),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(16,"div",11)(17,"button",12),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onSave())}),t.\u0275\u0275elementStart(18,"mat-icon",13),t.\u0275\u0275text(19,"save"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(22,ai,7,3,"ng-container",14),t.\u0275\u0275template(23,ri,7,3,"ng-container",14),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerStart(24,15),t.\u0275\u0275element(25,"ms-notification-template-details",16,17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(4),t.\u0275\u0275property("color","EN"===e.selectedLang?"accent":"primary"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,12,"English")),t.\u0275\u0275advance(2),t.\u0275\u0275property("color","FR"===e.selectedLang?"accent":"primary"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,14,"TEMPLATEBUTTON.French")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(13,16,"This Notification Template is"),": ",e.published?t.\u0275\u0275pipeBind1(14,18,"ALERT_FUNCTIONALITY.PUBLISHED"):t.\u0275\u0275pipeBind1(15,20,"ALERT_FUNCTIONALITY.NOT_PUBLISHED")," "),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(21,22,"Save")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.published),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.published),t.\u0275\u0275advance(2),t.\u0275\u0275property("lang",e.selectedLang)("Id",e.templateId)("published",e.published)}}function ci(i,r){if(1&i&&t.\u0275\u0275element(0,"ms-notification-attachment",21),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("templateId",e.templateId)}}function si(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",22),t.\u0275\u0275element(1,"mat-progress-spinner",23),t.\u0275\u0275elementEnd())}let di=(()=>{class i{constructor(e,n,o,a,l){this.notificationService=e,this.translate=n,this.router=o,this.route=a,this.authService=l,this.subs=new S.Y,this.selectedLang="EN"}ngOnInit(){this.notificationId=this.route.snapshot.queryParamMap.get("id"),this.getOneTemplate()}getOneTemplate(){this.templateId&&(this.subs.sink=this.notificationService.getOneTemplate(this.templateId).subscribe(e=>{e&&(this.published=e.is_publish,this.validationPublish=!(!e.is_publish||e.is_default_template))},e=>{this.authService.postErrorLog(e),this.isWaitingForResponse=!1,e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}selectLanguage(e){this.child.checkComparison()||this.selectedLang===e?this.selectedLang=e:c().fire({type:"warning",title:this.translate.instant("TMTC_S01.TITLE"),text:this.translate.instant("TMTC_S01.TEXT"),confirmButtonText:this.translate.instant("TMTC_S01.BUTTON_1"),showCancelButton:!0,cancelButtonText:this.translate.instant("TMTC_S01.BUTTON_2"),allowOutsideClick:!1}).then(n=>{n.dismiss&&(this.selectedLang=e)})}swalFieldisRequired(){return c().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")})}onSave(){if(this.child.checkIsFieldFilled(),("EN"!==this.selectedLang||this.child.bodyData&&this.child.subjectDataEN)&&("FR"!==this.selectedLang||this.child.bodyData&&this.child.subjectDataFR))if(this.isWaitingForResponse=!0,this.validationPublish)c().fire({type:"info",title:this.translate.instant("Notif_S18.TITLE"),text:this.translate.instant("Notif_S18.TEXT"),confirmButtonText:this.translate.instant("Notif_S18.BUTTON1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.isWaitingForResponse=!1});else{const e=this.child.createPayload();e.notification_reference_id=e.notification_reference_id._id,e.program_seasons&&e.program_seasons.length>0&&(e.program_seasons=e.program_seasons.map(n=>{const o=n.programs.map(a=>a._id);return{scholar_season:n.scholar_season._id,programs:o}})),e&&this.templateId&&(this.subs.sink=this.notificationService.updateNotificationTemplate(this.templateId,e).subscribe(n=>{n&&(this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Notif_S11.TITLE"),text:this.translate.instant("Notif_S11.TEXT"),confirmButtonText:this.translate.instant("Notif_S13.BUTTON1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getOneTemplate(),this.child.refetch()}))},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,n&&n.message&&(n.message.includes("jwt expired")||n.message.includes("str & salt required")||n.message.includes("Authorization header is missing")||n.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}else this.swalFieldisRequired()}onPublish(){if(this.isWaitingForResponse=!0,this.child.disablePublish())c().fire({type:"info",title:this.translate.instant("Notif_S17.TITLE"),text:this.translate.instant("Notif_S17.TEXT"),confirmButtonText:this.translate.instant("Notif_S17.BUTTON1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.isWaitingForResponse=!1});else{const e=this.child.createPayload();e.notification_reference_id=e.notification_reference_id._id,e.program_seasons&&e.program_seasons.length>0&&(e.program_seasons=e.program_seasons.map(n=>{const o=n.programs.map(a=>a._id);return{scholar_season:n.scholar_season._id,programs:o}})),e.is_publish||(e.is_publish=!0),c().fire({title:this.translate.instant("Notif_S12.TITLE"),html:this.translate.instant("Notif_S12.TEXT",{templateName:e.template_name}),type:"warning",showCancelButton:!0,confirmButtonText:this.translate.instant("Notif_S12.BUTTON1"),cancelButtonText:this.translate.instant("Notif_S12.BUTTON2")}).then(n=>{n.value?e&&this.templateId&&(this.subs.sink=this.notificationService.updateNotificationTemplate(this.templateId,e).subscribe(o=>{o&&(this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Notif_S13.TITLE"),text:this.translate.instant("Notif_S13.TEXT",{templateName:e.template_name}),confirmButtonText:this.translate.instant("Notif_S13.BUTTON1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(a=>{a&&(this.getOneTemplate(),this.child.refetch())}))},o=>{this.authService.postErrorLog(o),this.isWaitingForResponse=!1,o&&o.message&&(o.message.includes("jwt expired")||o.message.includes("str & salt required")||o.message.includes("Authorization header is missing")||o.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})):this.isWaitingForResponse=!1})}}onUnPublish(){this.isWaitingForResponse=!0;const e=this.child.createPayload();e.notification_reference_id=e.notification_reference_id._id,e.program_seasons&&e.program_seasons.length>0&&(e.program_seasons=e.program_seasons.map(n=>{const o=n.programs.map(a=>a._id);return{scholar_season:n.scholar_season._id,programs:o}})),e.is_publish&&(e.is_publish=!1),c().fire({title:this.translate.instant("Notif_S14.TITLE"),html:this.translate.instant("Notif_S14.TEXT",{templateName:e.template_name}),type:"warning",showCancelButton:!0,confirmButtonText:this.translate.instant("Notif_S14.BUTTON1"),cancelButtonText:this.translate.instant("Notif_S14.BUTTON2")}).then(n=>{n.value?e&&this.templateId&&(this.subs.sink=this.notificationService.updateNotificationTemplate(this.templateId,e).subscribe(o=>{o&&(this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("Notif_S15.TITLE"),text:this.translate.instant("Notif_S15.TEXT",{templateName:e.template_name}),confirmButtonText:this.translate.instant("Notif_S15.BUTTON1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(a=>{a&&(this.getOneTemplate(),this.child.refetch())}))},o=>{this.authService.postErrorLog(o),this.isWaitingForResponse=!1,o&&o.message&&(o.message.includes("jwt expired")||o.message.includes("str & salt required")||o.message.includes("Authorization header is missing")||o.message.includes("salt"))?this.authService.handlerSessionExpired():o.message.includes("Cannot UnPublish Default Template")&&c().fire({type:"info",title:this.translate.instant("Notif_S20.TITLE"),html:this.translate.instant("Notif_S20.TEXT"),confirmButtonText:this.translate.instant("Notif_S20.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1})})):this.isWaitingForResponse=!1})}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(w),t.\u0275\u0275directiveInject(_.sK),t.\u0275\u0275directiveInject(M.F0),t.\u0275\u0275directiveInject(M.gz),t.\u0275\u0275directiveInject(D.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-notification-template"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(oi,5),2&e){let o;t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.child=o.first)}},inputs:{templateId:"templateId"},decls:11,vars:8,consts:[[3,"selectedIndex","selectedIndexChange"],["templateTabGroup",""],[3,"label"],["matTabContent",""],["class","loading-indicator",4,"ngIf"],[1,"container"],[1,"title"],[1,"p-grid"],[1,"p-col-3"],["mat-raised-button","","type","button",3,"color","click"],[1,"p-col-6","text-center"],[1,"p-col-3","text-right"],["mat-raised-button","","type","button","color","accent",2,"margin-right","10px",3,"click"],[1,"mat-icon-default"],[4,"ngIf"],[1,"content"],[3,"lang","Id","published"],["ChildCmp",""],["mat-raised-button","","type","button","color","accent",3,"click"],["viewBox","0 0 24 24",2,"width","24px","height","24px"],["fill","currentColor","d","M16,4L9,8.04V15.96L16,20L23,15.96V8.04M16,6.31L19.8,8.5L16,10.69L12.21,8.5M0,7V9H7V7M11,10.11L15,12.42V17.11L11,14.81M21,10.11V14.81L17,17.11V12.42M2,11V13H7V11M4,15V17H7V15"],[3,"templateId"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"mat-tab-group",0,1),t.\u0275\u0275listener("selectedIndexChange",function(a){return n.selectedIndex=a}),t.\u0275\u0275elementContainerStart(2),t.\u0275\u0275elementStart(3,"mat-tab",2),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275template(5,li,27,24,"ng-template",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(6),t.\u0275\u0275elementStart(7,"mat-tab",2),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275template(9,ci,1,1,"ng-template",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(10,si,2,0,"div",4)),2&e&&(t.\u0275\u0275property("selectedIndex",n.selectedIndex),t.\u0275\u0275advance(3),t.\u0275\u0275property("label",t.\u0275\u0275pipeBind1(4,4,"Notification management.Content")),t.\u0275\u0275advance(4),t.\u0275\u0275property("label",t.\u0275\u0275pipeBind1(8,6,"Notification management.Attachment")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[g.O5,E.lW,I.Hw,N.Ou,y.SP,y.uX,y.Vc,pn,ii,_.X$],styles:[".container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:5px}"]}),i})();const pi=["templateTabGroup"],mi=["templateId"];function gi(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-notification-identity",6),t.\u0275\u0275listener("notifyTabChange",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.navigateToTabWithId(o))}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("notification_id",e.notification_id)("notificationDetail",e.detail)("templates",e.templates)}}function hi(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-tab",4),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275template(3,gi,1,3,"ng-template",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("label",t.\u0275\u0275pipeBind1(2,1,"Identity")))}function _i(i,r){if(1&i&&t.\u0275\u0275element(0,"ms-notification-template",8,9),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("templateId",null==e?null:e._id)}}function fi(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-tab",4),t.\u0275\u0275template(1,_i,2,1,"ng-template",5),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("label",null==e?null:e.template_name)}}function ui(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,fi,2,1,"mat-tab",7),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.templates)}}function bi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",10),t.\u0275\u0275element(1,"mat-spinner",11),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let Ci=(()=>{class i{constructor(e,n,o,a,l){this.notificationService=e,this.route=n,this.pageTitleService=o,this.translate=a,this.authService=l,this.subs=new S.Y,this.isWaitingForResponse=!1,this.hasDefaultTemplate=!1}ngOnInit(){this.notification_id=this.route.snapshot.queryParamMap.get("id"),this.notification_id&&this.fetchNotificationData(this.notification_id),this.notificationService.refresh.subscribe(e=>{e&&this.fetchNotificationData(this.notification_id,!0)}),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.setPageTitle()}),this.subs.sink=this.notificationService.isHasDefaultTemplate$.subscribe(e=>this.hasDefaultTemplate=e),setTimeout(()=>{this.tabGroup._handleClick=this.interceptTabChange.bind(this)},500)}fetchNotificationData(e,n){this.isWaitingForResponse=!0;const o=[this.getOneNotificationReference(e),this.getTemplateList(e)];this.subs.sink=(0,Z.D)(o).subscribe(([a,l])=>{this.isWaitingForResponse=!1,this.detail=a,this.templates=l,n||this.setPageTitle()},a=>{this.authService.postErrorLog(a),this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getOneNotificationReference(e){return this.notificationService.getOneNotificationReference(e)}getTemplateList(e){return this.notificationService.getAllNotificationTemplates({notification_reference_id:e})}navigateToTabWithId(e){const n=this.templates.findIndex(o=>o._id===e);this.tabGroup.selectedIndex=n+1}setPageTitle(){if(this.detail){const e=this.translate.instant("Edit Notification")+" - "+this.detail.notification_reference;this.pageTitleService.setTitle(e),this.pageTitleService.setIcon("clipboard-flow")}}canDeactivate(){let e,n;return n=!1,e=!1,this.hasDefaultTemplate||(e=!0),n=!(!this.templateChild||!this.templateChild.child||this.templateChild.child.checkComparison()),n?new Promise((o,a)=>{c().fire({type:"warning",title:this.translate.instant("TMTC_S01.TITLE"),text:this.translate.instant("TMTC_S01.TEXT"),confirmButtonText:this.translate.instant("TMTC_S01.BUTTON_1"),showCancelButton:!0,cancelButtonText:this.translate.instant("TMTC_S01.BUTTON_2"),allowOutsideClick:!1}).then(l=>{o(!l.value)})}):!e||new Promise((o,a)=>{c().fire({type:"info",title:this.translate.instant("Notif_S21.TITLE"),text:this.translate.instant("Notif_S21.TEXT"),confirmButtonText:this.translate.instant("Notif_S21.BUTTON"),allowEscapeKey:!1,allowOutsideClick:!1}).then(l=>{o(!l.value)})})}interceptTabChange(e,n,o){let a;if(a=!1,a=!(!this.templateChild||!this.templateChild.child||this.templateChild.child.checkComparison()),!a)return y.SP.prototype._handleClick.apply(this.tabGroup,arguments);c().fire({type:"warning",title:this.translate.instant("TMTC_S01.TITLE"),text:this.translate.instant("TMTC_S01.TEXT"),confirmButtonText:this.translate.instant("TMTC_S01.BUTTON_1"),showCancelButton:!0,cancelButtonText:this.translate.instant("TMTC_S01.BUTTON_2"),allowEscapeKey:!1,allowOutsideClick:!1}).then(l=>{if(!l.value)return y.SP.prototype._handleClick.apply(this.tabGroup,arguments)})}ngOnDestroy(){this.pageTitleService.setTitle(""),this.pageTitleService.setIcon(""),this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(w),t.\u0275\u0275directiveInject(M.gz),t.\u0275\u0275directiveInject(tt.Z),t.\u0275\u0275directiveInject(_.sK),t.\u0275\u0275directiveInject(D.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-notification-details"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(pi,5),t.\u0275\u0275viewQuery(mi,5)),2&e){let o;t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.tabGroup=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.templateChild=o.first)}},decls:5,vars:4,consts:[[3,"selectedIndex","selectedIndexChange"],["templateTabGroup",""],[4,"ngIf"],["class","inner-loading-indicator",4,"ngIf"],[3,"label"],["matTabContent",""],[3,"notification_id","notificationDetail","templates","notifyTabChange"],[3,"label",4,"ngFor","ngForOf"],[3,"templateId"],["templateId",""],[1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"mat-tab-group",0,1),t.\u0275\u0275listener("selectedIndexChange",function(a){return n.selectedIndex=a}),t.\u0275\u0275template(2,hi,4,3,"ng-container",2),t.\u0275\u0275template(3,ui,2,1,"ng-container",2),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,bi,2,1,"div",3)),2&e&&(t.\u0275\u0275property("selectedIndex",n.selectedIndex),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.detail),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.templates?null:n.templates.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[g.sg,g.O5,N.Ou,y.SP,y.uX,y.Vc,He,di,_.X$]}),i})();var xi=d(22437),Oi=d(75223);function Pi(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",28),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.resetAllFilter())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",29),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"RESET")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"RESET")," "))}function Ti(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",26),t.\u0275\u0275template(1,Pi,5,6,"button",27),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.resetNotificationManagementPerm())}}function Mi(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",34),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,e)," ")}}function vi(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",30)(1,"ng-select",31),t.\u0275\u0275listener("change",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onModuleSelect(o))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"ng-option",32),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,Mi,3,4,"ng-option",33),t.\u0275\u0275pipe(7,"async"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,5,"search")),t.\u0275\u0275property("appendTo","body")("formControl",e.moduleFilter),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,7,"AllM")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(7,9,e.filteredModules))}}function yi(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",34),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e.notification_reference),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.notification_reference," ")}}function Si(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",30)(1,"ng-select",31),t.\u0275\u0275listener("change",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onReferenceSelect(o))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"ng-option",32),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,yi,2,2,"ng-option",33),t.\u0275\u0275pipe(7,"async"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,5,"search")),t.\u0275\u0275property("appendTo","body")("formControl",e.referenceFilter),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,7,"AllM")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(7,9,e.filteredReferences))}}function wi(i,r){1&i&&t.\u0275\u0275element(0,"th",30)}function Ni(i,r){1&i&&t.\u0275\u0275element(0,"th",30)}function ki(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",35),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"div",36)(3,"h5"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Module")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,4,"Module")))}function Ei(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",37),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"a"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Table_Notification."+(null==e?null:e.notification_reference))),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(4,4,"Table_Notification."+(null==e?null:e.notification_reference))," ")}}function Ii(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",35),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"div",38)(3,"h5"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Notification Reference")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,4,"Notification Reference")))}function Di(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",37)(1,"a"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.notification_reference),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.notification_reference," ")}}function Fi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",35),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"div")(3,"h5"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"When")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,4,"When")))}function Ai(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",37),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"a"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.when)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,null==e?null:e.when)," ")}}function Ri(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",35),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function Bi(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.goToNotificationDetail(o))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Edit"))}function Vi(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",39),t.\u0275\u0275template(1,Bi,4,3,"button",40),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.editNotificationManagement())}}function Li(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",42)(1,"div",43),t.\u0275\u0275element(2,"mat-spinner",44),t.\u0275\u0275elementEnd()())}function Ui(i,r){1&i&&t.\u0275\u0275element(0,"tr",45)}function ji(i,r){1&i&&t.\u0275\u0275element(0,"tr",45)}function zi(i,r){1&i&&t.\u0275\u0275element(0,"tr",45)}function Wi(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",46),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function $i(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",47),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}const st=function(i){return{hide:i}};function Hi(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",48),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,st,e.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"NOT RECORD FOUND")," ")}}function Gi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",49),t.\u0275\u0275element(1,"mat-progress-spinner",50),t.\u0275\u0275elementEnd())}const Ki=function(){return["reset"]},Yi=function(){return["loading"]},Qi=function(i){return{"hide-pagination-buttons":i}},Xi=function(){return[10]},Zi=[{path:"",component:(()=>{class i{constructor(e,n,o,a,l,p,O,P,j,dt){this.dialog=e,this.router=n,this.translate=o,this.utilService=a,this.pageTitleService=l,this.route=p,this.notificationService=O,this.permission=P,this.authService=j,this.filterBreadCrumbService=dt,this.displayedColumns=["module","reference","when","action"],this.filterColumns=["moduleFilter","referenceFilter","whenFilter","actionFilter"],this.dataSource=new m.by([]),this.selection=new K.Ov(!0,[]),this.subs=new S.Y,this.isWaitingForResponse=!0,this.dataCount=0,this.sortValue=null,this.moduleFilter=new s.UntypedFormControl("AllS"),this.referenceFilter=new s.UntypedFormControl("AllS"),this.isReset=!1,this.filteredValues={module:"",notification_reference:""},this.currentPage=0,this.modules=[],this.references=[],this.isPageLoading=!1,this.filterBreadcrumbData=[]}ngOnInit(){this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.pageTitleService.setTitle(this.translate.instant("Notification_Title"))}),this.pageTitleService.setTitle(this.translate.instant("Notification_Title")),this.pageTitleService.setIcon("clipboard-flow"),this.fetchDropdowns(),this.initFilterListeners(),this.fetchNotificationsData(),this.filterBreadcrumbData=[],this.filterBreadcrumbFormat(),this.paginator.pageSize=10}initFilterListeners(){this.filteredReferences=(0,x.of)(this.references),this.filteredModules=(0,x.of)(this.modules)}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,$.b)(()=>{this.isReset||this.fetchNotificationsData()})).subscribe()}fetchNotificationsData(){this.isWaitingForResponse=!0,this.subs.sink=this.notificationService.getAllNotificationReferencesForTable(this.filteredValues,{limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},this.sortValue).subscribe(n=>{n.length?(n?.map(o=>{"Chargeback_DP_N1"===o?.notification_reference&&(o.when="When there is chargeback on Payment of DP (only for DP)")}),this.dataSource.data=n,this.dataCount=n.length&&n[0]?n[0].count_document:0):(this.dataSource.data=[],this.dataCount=0,this.paginator.length=0),this.noData=this.dataSource.connect().pipe((0,f.U)(o=>0===o.length)),this.isReset=!1,this.isWaitingForResponse=!1,this.filterBreadcrumbFormat()},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}fetchDropdowns(){const e=[this.notificationService.getAllModulesForDropdown(),this.notificationService.getAllReferencesForDropdown()];this.subs.sink=(0,Z.D)(e).subscribe(([n,o])=>{const a=[];n.forEach(l=>{a.includes(l.module)||l?.module&&a.push(l.module)}),this.modules=a,this.filteredModules=(0,x.of)(this.modules),this.references=o,this.filteredReferences=(0,x.of)(this.references)},n=>{this.authService.postErrorLog(n)})}displayTranslatedModules(e){if(e){const o=h.find(this.modules,a=>a===e);return this.translate.instant(o)}return""}fetchReferencesDropdown(){}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.paginator.pageIndex=0,this.isReset||this.fetchNotificationsData()}resetAllFilter(){this.isReset=!0,this.paginator.pageIndex=0,this.filteredValues={module:"",notification_reference:""},this.filterBreadcrumbData=[],this.moduleFilter.setValue("AllS",{emitEvent:!1}),this.referenceFilter.setValue("AllS",{emitEvent:!1}),this.fetchNotificationsData(),this.fetchDropdowns()}onModuleSelect(e){this.filteredValues.module="AllS"===e?"":e,this.paginator.pageIndex=0,this.isReset||this.fetchNotificationsData()}onReferenceSelect(e){this.filteredValues.notification_reference="AllS"===e?"":e,this.paginator.pageIndex=0,this.isReset||this.fetchNotificationsData()}goToNotificationDetail(e){this.router.navigate(["notification-detail"],{relativeTo:this.route,queryParams:{id:e._id}})}filterBreadcrumbFormat(){this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat([{type:"table_filter",name:"module",column:"Module",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.moduleFilter,isSelectionInput:!1,displayKey:null,savedValue:null},{type:"table_filter",name:"notification_reference",column:"Notification Reference",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.referenceFilter,isSelectionInput:!1,displayKey:null,savedValue:null,noTranslate:!0}],this.filterBreadcrumbData)}removeFilterBreadcrumb(e){this.filterBreadCrumbService.removeFilterBreadcrumb(e,null,this.filteredValues),"module"===e?.name?this.moduleFilter.patchValue("AllS"):"notification_reference"===e?.name&&this.referenceFilter.patchValue("AllS"),this.fetchNotificationsData()}ngOnDestroy(){this.pageTitleService.setTitle(""),this.pageTitleService.setIcon(""),this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(u.uw),t.\u0275\u0275directiveInject(M.F0),t.\u0275\u0275directiveInject(_.sK),t.\u0275\u0275directiveInject(J.t),t.\u0275\u0275directiveInject(tt.Z),t.\u0275\u0275directiveInject(M.gz),t.\u0275\u0275directiveInject(w),t.\u0275\u0275directiveInject(ot.$),t.\u0275\u0275directiveInject(D.e),t.\u0275\u0275directiveInject(xi.q))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-notification-management-table"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(k.NW,7),t.\u0275\u0275viewQuery(v.YE,7)),2&e){let o;t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.paginator=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(n.sort=o.first)}},decls:39,vars:25,consts:[[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"top-space"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","100%","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","moduleFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","referenceFilter"],["matColumnDef","whenFilter"],["matColumnDef","actionFilter"],["matColumnDef","module"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","matTooltipPosition","above",3,"matTooltip",4,"matCellDef"],["matColumnDef","reference"],["matColumnDef","when"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",3,"ngClass",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["class","loading-indicator",4,"ngIf"],["mat-header-cell","","colspan","100%",1,"action-header-column","text-right"],["mat-raised-button","","color","primary",3,"matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell",""],["aria-required","true","clearAllText","Clear",1,"mrgn-btn","custom-ngselect-dropdown",3,"appendTo","placeholder","formControl","change"],["value","AllS"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-sort-header","module"],["mat-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-sort-header","notification_reference"],["mat-cell",""],["mat-icon-button","","class","margin-right-button",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"margin-right-button",3,"matTooltip","click"],["mat-header-cell","","colspan","100%",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records",3,"ngClass"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"ms-filter-breadcrumb",0),t.\u0275\u0275listener("removeFilterTrigger",function(a){return n.removeFilterBreadcrumb(a)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",1)(2,"div")(3,"table",2),t.\u0275\u0275listener("matSortChange",function(a){return n.sortData(a)}),t.\u0275\u0275elementContainerStart(4,3),t.\u0275\u0275template(5,Ti,2,1,"th",4),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(6,5),t.\u0275\u0275template(7,vi,8,11,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,7),t.\u0275\u0275template(9,Si,8,11,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,8),t.\u0275\u0275template(11,wi,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,9),t.\u0275\u0275template(13,Ni,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,10),t.\u0275\u0275template(15,ki,6,6,"th",11),t.\u0275\u0275template(16,Ei,5,6,"td",12),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(17,13),t.\u0275\u0275template(18,Ii,6,6,"th",11),t.\u0275\u0275template(19,Di,3,2,"td",12),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,14),t.\u0275\u0275template(21,Fi,6,6,"th",11),t.\u0275\u0275template(22,Ai,5,6,"td",12),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(23,15),t.\u0275\u0275template(24,Ri,5,6,"th",11),t.\u0275\u0275template(25,Vi,2,1,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(26,17),t.\u0275\u0275template(27,Li,3,0,"th",18),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(28,Ui,1,0,"tr",19),t.\u0275\u0275template(29,ji,1,0,"tr",19),t.\u0275\u0275template(30,zi,1,0,"tr",19),t.\u0275\u0275template(31,Wi,1,1,"tr",20),t.\u0275\u0275template(32,$i,1,1,"tr",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(33,Hi,3,6,"div",22),t.\u0275\u0275pipe(34,"async"),t.\u0275\u0275elementStart(35,"div",23),t.\u0275\u0275pipe(36,"async"),t.\u0275\u0275element(37,"mat-paginator",24),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(38,Gi,2,0,"div",25)),2&e&&(t.\u0275\u0275property("filterBreadcrumbData",n.filterBreadcrumbData),t.\u0275\u0275advance(3),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(25),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(18,Ki)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(19,Yi)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(34,14,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(20,st,t.\u0275\u0275pipeBind1(36,16,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(22,Qi,n.dataCount<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(24,Xi)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isPageLoading))},dependencies:[g.mk,g.sg,g.O5,E.lW,I.Hw,k.NW,N.Ou,v.YE,v.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,B.gM,s.NgControlStatus,s.FormControlDirective,V.oO,Oi.r,b.w9,b.jq,g.Ov,_.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{margin-top:6px}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td .mat-form-field, [_nghost-%COMP%]     table tr th .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:auto}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:auto}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:50%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:100px;text-align:center;padding:0}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top;text-align:center}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.icon-hand[_ngcontent-%COMP%]{cursor:pointer}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.orange[_ngcontent-%COMP%]{color:#f49f36}[_nghost-%COMP%]  .ng-select{margin-top:0}  ng-dropdown-panel{width:-moz-fit-content!important;width:fit-content!important}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#0000!important;color:#fff!important;border-radius:0!important;border:1px solid rgba(0,0,0,0)!important;border-bottom:1px solid rgba(255,255,255,.6784313725)!important;min-height:36px;padding:0!important;align-items:center;width:90%}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:90%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}  .custom-ngselect-dropdown ng-dropdown-panel{width:-moz-fit-content!important;width:fit-content!important}"]}),i})()},{path:"notification-detail",canDeactivate:[pt.g],component:Ci}];let qi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[M.Bz.forChild(Zi),M.Bz]}),i})();var Ji=d(37204),to=d(30160),eo=d(93730);let no=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[g.ez,qi,eo.m,Ji.d,b.A0,to.ii.forRoot()]}),i})()}}]);