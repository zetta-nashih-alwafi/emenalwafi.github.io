"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[5994],{75994:(w,P,l)=>{l.d(P,{v:()=>B});var d=l(24006),c=l(65938),g=l(10830),M=l(68745),u=l(41076),v=l(35226),m=l.n(v),t=l(94650),y=l(89383),a=l(95321),o=l(79710),_=l(52688),h=l(73555),f=l(4859),E=l(97392),k=l(24784),O=l(36895);const x=function(r){return{"card-selected":r}};function S(r,s){if(1&r){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",2)(1,"div",17)(2,"div",18),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.selectedWhoCall(null==i.data?null:i.data.candidate_id))}),t.\u0275\u0275elementStart(3,"div",19)(4,"mat-icon",20),t.\u0275\u0275text(5,"school"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",21)(7,"h5",22),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275pipe(10,"uppercase"),t.\u0275\u0275elementEnd()()()()()}if(2&r){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(8,x,e.isStudentSelected)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate3(" ",null!=e.data&&null!=e.data.candidate_id&&e.data.candidate_id.civility&&"neutral"===(null==e.data||null==e.data.candidate_id?null:e.data.candidate_id.civility)?"":t.\u0275\u0275pipeBind1(9,4,null==e.data||null==e.data.candidate_id?null:e.data.candidate_id.civility)," ",null==e.data||null==e.data.candidate_id?null:e.data.candidate_id.first_name," ",t.\u0275\u0275pipeBind1(10,6,null==e.data||null==e.data.candidate_id?null:e.data.candidate_id.last_name)," ")}}function D(r,s){if(1&r){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",17)(2,"div",26),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(),p=i.$implicit,b=i.index,C=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(C.selectedWhoCallParent(p,b))}),t.\u0275\u0275elementStart(3,"div",19),t.\u0275\u0275element(4,"mat-icon",27),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",21)(6,"h5",22),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd()}if(2&r){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(9,x,e.status)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate4(" ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(8,5,null==e?null:e.civility)," ",null==e?null:e.first_name," ",null==e?null:e.last_name," ",null!=e&&e.relation?"("+t.\u0275\u0275pipeBind1(9,7,"CARDDETAIL.RELATION."+(null==e?null:e.relation))+")":""," ")}}function I(r,s){if(1&r){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",17)(2,"div",26),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(),p=i.$implicit,b=i.index,C=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(C.selectedWhoCallCompany(p,b))}),t.\u0275\u0275elementStart(3,"div",19)(4,"mat-icon",20),t.\u0275\u0275text(5,"person"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",21)(7,"h5",22),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd()}if(2&r){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(6,x,e.status)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate3(" ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(9,4,null==e?null:e.civility)," ",null==e?null:e.first_name," ",null==e?null:e.last_name," ")}}function A(r,s){if(1&r&&(t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275template(1,D,10,11,"ng-container",25),t.\u0275\u0275template(2,I,10,8,"ng-container",25),t.\u0275\u0275elementEnd()),2&r){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e&&(null==e?null:e.relation)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e&&!(null!=e&&e.relation))}}function T(r,s){if(1&r&&(t.\u0275\u0275elementStart(0,"div",23),t.\u0275\u0275template(1,A,3,2,"div",24),t.\u0275\u0275elementEnd()),2&r){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.dataFinanceList)}}function F(r,s){if(1&r){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",28),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.submitVerification())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&r){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",!e.isStudentSelected&&!e.isParentSelected&&!e.isContactSelected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"Validate")," ")}}function U(r,s){if(1&r){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",28),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.submitVerification())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&r){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",!e.isContactSelected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"Validate")," ")}}let B=(()=>{class r{constructor(e,n,i,p,b,C,L,N,G){this.dialogRef=e,this.fb=n,this.translate=i,this.parseStringDatePipe=p,this.acadJourneyService=b,this.candidatesService=C,this.data=L,this.dialog=N,this.authService=G,this.subs=new M.Y,this.isMainAddressSelected=!1,this.isStudentSelected=!1,this.isParentSelected=!1,this.isUncleSelected=!1,this.isContactSelected=!1,this.nationalitiesList=[],this.nationalList=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.currencyList=[],this.studentDatas={email:"jean@yopmail.com",first_name:"Jean",last_name:"Dupont",civility:"Mr"},this.toFilterList=[{value:"Student",key:"Student"},{value:"Finance Support",key:"Finance Support"}],this.dataFinanceList=[]}ngOnInit(){console.log("Data Mail Student",this.data),this.today=new Date,this.iniVerificationForm(),this.subs.sink=this.acadJourneyService.getCurrency().subscribe(e=>{this.currencyList=e},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.data&&this.data.financial_supports&&this.data.financial_supports.length?this.dataFinanceList=this.data.financial_supports.filter(e=>e.relation).map(e=>({civility:e.civility,email:e.email,last_name:e.family_name,first_name:e.name,relation:e.relation,status:!1,_id:e._id,intake_channel:e?.intake_channel,candidate:e?.candidate})):"finance_org"===this.data.note&&(this.dataFinanceList=this.data.data.map(e=>({civility:e.civility,email:e.email,last_name:e.last_name,first_name:e.first_name,status:!1,intake_channel:e?.intake_channel,candidate:e?.candidate}))),this.data&&this.data.admission_financement_ids&&this.data.admission_financement_ids.length&&this.getAllContactsOrg(),this.data&&this.data.company_branch_id&&this.data.company_branch_id.length&&this.getAllUserManyCompanyContract()}getAllUserCompanyContract(){this.data.company_branch_id[0]&&(this.subs.sink=this.candidatesService.getAllUsersCompanyContract(this.data.company_branch_id[0]).subscribe(e=>{e&&e.length&&(this.dataFinanceList=e.map(n=>({civility:n.civility,email:n.email,last_name:n.last_name,first_name:n.first_name,status:!1})))},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")&&m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})}))}getAllUserManyCompanyContract(){this.data.company_branch_id[0]&&(this.subs.sink=this.candidatesService.getAllUserManyCompanyContract(this.data.company_branch_id).subscribe(e=>{e&&e.length&&(this.dataFinanceList=e.map(n=>({civility:n.civility,email:n.email,last_name:n.last_name,first_name:n.first_name,status:!1})))},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")&&m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})}))}getAllContactsOrg(){this.data.admission_financement_ids[0]&&(this.subs.sink=this.candidatesService.getAllContactsOrg(this.data.admission_financement_ids).subscribe(e=>{e&&e.length&&(this.dataFinanceList=e.map(n=>({civility:n.civility,email:n.email,last_name:n.last_name,first_name:n.first_name,status:!1})))},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")&&m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})}))}iniVerificationForm(){this.identityForm=this.fb.group({civility:[null,d.Validators.required],from:[null,d.Validators.required],to:[null,d.Validators.required],amount:[null],method:[null],currency:["EUR"],date_of_birth:[null,d.Validators.required],reference:[null,d.Validators.required],note:[null,d.Validators.required]})}submitVerification(){const e=this.dataFinanceList.filter(i=>!0===i.status);let n;this.userSelected||this.isParentSelected?(this.userSelected&&e.unshift(this.userSelected),n=this.data&&this.data.triggeredFromFinance&&e.length?e.map(this.data?.triggeredFromStudent?i=>({...i,candidate:{candidate_id:i},triggeredFromFinance:this.data?.triggeredFromFinance,triggeredFromStudent:this.data?.triggeredFromStudent}):i=>({...i,candidate:{candidate_id:i},triggeredFromFinance:this.data?.triggeredFromFinance})):this.data?.triggeredFromStudent?e.map(i=>({...i,triggeredFromStudent:this.data?.triggeredFromStudent})):e,console.log("dataSelected",n),n.fromCandidate=!0,this.subs.sink=this.dialog.open(u.v,{disableClose:!0,width:"750px",data:n}).afterClosed().subscribe(i=>{i?this.dialogRef.close(!0):this.dialogRef.close()})):this.isContactSelected&&(n=e.map(this.data&&this.data.triggeredFromFinance&&e.length?i=>({...i,candidate:{candidate_id:i},triggeredFromFinance:this.data.triggeredFromFinance,triggeredFromStudent:this.data?.triggeredFromStudent}):i=>({...i,triggeredFromStudent:this.data?.triggeredFromStudent})),"finance_org"===this.data.note?this.subs.sink=this.dialog.open(u.v,{disableClose:!0,width:"750px",data:e.map(i=>({candidate:i}))}).afterClosed().subscribe(i=>{this.dialogRef.close(Boolean(i))}):(n.fromCandidate=!0,this.subs.sink=this.dialog.open(u.v,{disableClose:!0,width:"750px",data:n}).afterClosed().subscribe(i=>{i?this.dialogRef.close(!0):this.dialogRef.close()})))}closeDialog(){this.dialogRef.close()}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}selectedWhoCall(e){this.isStudentSelected=!this.isStudentSelected,this.userSelected=this.isStudentSelected?e:null}selectedWhoCallParent(e,n){this.dataFinanceList[n].status=!this.dataFinanceList[n].status;const i=this.dataFinanceList.filter(p=>!0===p.status);this.isParentSelected=!(!i||!i.length)}selectedWhoCallCompany(e,n){console.log(e),this.dataFinanceList[n].status=!this.dataFinanceList[n].status,console.log(this.dataFinanceList);const i=this.dataFinanceList.filter(p=>!0===p.status);this.isContactSelected=!(!i||!i.length),console.log(this.isContactSelected)}selectedWhoCallUncle(e){this.isUncleSelected=!this.isUncleSelected}}return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275directiveInject(c.so),t.\u0275\u0275directiveInject(d.UntypedFormBuilder),t.\u0275\u0275directiveInject(y.sK),t.\u0275\u0275directiveInject(g.n),t.\u0275\u0275directiveInject(a.g),t.\u0275\u0275directiveInject(o.o),t.\u0275\u0275directiveInject(c.WI),t.\u0275\u0275directiveInject(c.uw),t.\u0275\u0275directiveInject(_.e))},r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["ms-internship-email-dialog"]],features:[t.\u0275\u0275ProvidersFeature([g.n])],decls:30,vars:14,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],["data-cy","dialog-icon",2,"vertical-align","middle"],[1,"p-col-10","acad-title"],["data-cy","dialog-title",1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1","data-cy","button-close-dialog",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding","header-who"],["class","p-grid",4,"ngIf"],["class","max-scroll",4,"ngIf"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close","","data-cy","button-cancel"],["mat-raised-button","","color","primary","data-cy","button-validate",3,"disabled","click",4,"ngIf"],[1,"p-col-12","no-padding",2,"text-align","center"],["data-cy","card-candidate",1,"card",3,"ngClass","click"],[1,"icon-who","no-padding"],[2,"vertical-align","middle"],[1,"name-who"],[1,"dialogTitles"],[1,"max-scroll"],["class","p-grid",4,"ngFor","ngForOf"],[4,"ngIf"],["data-cy","card-financial-support",1,"card",3,"ngClass","click"],["svgIcon","account-heart",2,"vertical-align","middle"],["mat-raised-button","","color","primary","data-cy","button-validate",3,"disabled","click"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5,"send"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",5)(7,"h3",6),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",7)(11,"button",8)(12,"mat-icon"),t.\u0275\u0275text(13,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(14,"form",9)(15,"div",10)(16,"mat-dialog-content")(17,"div",2)(18,"div",11)(19,"h4"),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(22,S,11,10,"div",12),t.\u0275\u0275template(23,T,2,1,"div",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(24,"mat-dialog-actions",14)(25,"button",15),t.\u0275\u0275text(26),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(28,F,3,4,"button",16),t.\u0275\u0275template(29,U,3,4,"button",16),t.\u0275\u0275elementEnd()()()),2&e&&(t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,8,"Email")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",n.identityForm),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(21,10,"Who do you want to send an email?")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.data&&(null==n.data?null:n.data.candidate_id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.dataFinanceList.length>0),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(27,12,"CANCEL")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==n.data?null:n.data.financial_supports),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","finance_org"===(null==n.data?null:n.data.note)))},dependencies:[h.Zt,h.Bh,f.lW,c.ZT,c.xY,c.H8,E.Hw,d.\u0275NgNoValidate,d.NgControlStatusGroup,d.FormGroupDirective,k.oO,O.mk,O.sg,O.O5,y.X$,O.gd],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-15px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}.header-who[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.icon-who[_ngcontent-%COMP%]{width:30px;float:left;padding-top:0!important}.name-who[_ngcontent-%COMP%]{display:inline-block;text-align:center;margin-right:0!important;width:240px}.card-selected[_ngcontent-%COMP%]{background-color:#fdd835}.card[_ngcontent-%COMP%]{width:340px;padding-bottom:3px!important;padding:10px;vertical-align:middle;border:1px solid #252525;border-radius:4px;text-align:center;align-self:center;display:inline-block;margin-top:10px;cursor:pointer}.max-scroll[_ngcontent-%COMP%]{max-height:280px;overflow-y:scroll}.max-scroll[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-left:7px!important}"]}),r})()},95321:(w,P,l)=>{l.d(P,{g:()=>m});var d=l(13125),c=l(24850),g=l(94650),M=l(18497),u=l(89383),v=l(80529);let m=(()=>{class t{constructor(a,o,_){this.apollo=a,this.translate=o,this.httpClient=_}getMonths(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}getYears(){let a=(new Date).getFullYear(),_=a+2;const h=[];for(let f=a-20;f<=_;f++)h.push(f.toString());return h}addAcademicJourney(a,o){return this.apollo.mutate({mutation:d.ZP`
          mutation UpdateStudentInAcademicJourney($id: ID!, $lang: String!, $student_input: StudentInput) {
            UpdateStudent(_id: $id, lang: $lang, student_input: $student_input) {
              _id
              last_name
              first_name
              date_of_birth
              nationality
              place_of_birth
              professional_email
              photo
              is_photo_in_s3
              photo_s3_path
              description
              identification_type
              identification_number
              student_address {
                address
                city
                country
                department
                is_main_address
                postal_code
                region
              }
            }
          }
        `,variables:{lang:this.translate.currentLang,id:"5aa91e19155c845d8f80ddb6",student_input:o}}).pipe((0,c.U)(_=>_.data.UpdateStudent))}GetOneUser(a){return this.apollo.query({query:d.ZP`
          query{
              GetOneUser(_id:"${a}"){
                  _id
                  student_id{
                      _id
                  }
                  email
              }
              }
      `,fetchPolicy:"network-only"}).pipe((0,c.U)(o=>o.data.GetOneUser))}GetOneStudentdetails(a){return this.apollo.query({query:d.ZP`
          query{
              GetOneStudent(_id:"${a}")
              {
                  _id
                  last_name
                  civility
                  first_name
                  date_of_birth
                  nationality
                  tele_phone
                  place_of_birth
                  professional_email
                  photo
                  is_photo_in_s3
                  photo_s3_path
                  description
                  identification_type
                  identification_number
                  student_address {
                      address
                      city
                      country
                      department
                      is_main_address
                      postal_code
                      region
                  }
                  academic_journey_id {
                    diplomas {
                      institute_name
                      graduation_date{
                          month
                          year
                      }
                      qualification
                      location
                      field_of_study
                      major
                      grade
                      score
                      out_of_score
                      additional_information
                      diploma_upload_date
                      diploma_photo
                    }
                    experiences {
                      description
                      position_name
                      position_level
                      company_name
                      location
                      join_duration_from {
                          month
                          year
                      }
                      join_duration_to {
                          month
                          year
                      }
                      present
                      role
                      country
                      industry
                      monthly_salary
                      monthly_salary_currency
                      specialization_name
                    }
                    skills {
                      skill
                      level
                    }
                    languages {
                        language
                        spoken
                        written
                        primary
                    }
                    interests
                  }
                }
              }
      `,fetchPolicy:"network-only"}).pipe((0,c.U)(o=>o.data.GetOneStudent))}GetStudentId(a){return this.apollo.query({query:d.ZP`
        query GetStudentId {
          GetOneUser(_id:"${a}"){
            student_id{
                _id
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,c.U)(o=>o.data.GetOneUser))}GetStudentDataProfileFirstTime(a){return this.apollo.query({query:d.ZP`
        query GetStudentDataToPopulateProfile {
          GetOneStudent(_id:"${a}"){
            first_name
            last_name
            age
            email
            photo
            civility
            tele_phone
            date_of_birth
            place_of_birth
            nationality
            identification_type
            identification_number
            student_address{
              address
              postal_code
              city
              region
              department
              country
              is_main_address
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,c.U)(o=>o.data.GetOneStudent))}getMySummary(a){return this.apollo.query({query:d.ZP`
        query GetMyProfile {
          GetOneAcademicJourney(student_id:"${a}"){
            _id
            student_id {
              _id
            }
            general_presentation {
              first_name
              last_name
              age
              email
              description
              photo
              civility
              tele_phone
              date_of_birth
              place_of_birth
              nationality
              identification_type
              identification_number
              address {
                address
                postal_code
                city
                region
                department
                country
                is_main_address
              }
            }
            diplomas {
              institute_name
              graduation_date {
                date
                time
              }
              diploma_name
              city
              country
              qualification
              location
              field_of_study
              major
              grade
              score
              out_of_score
              additional_information
              diploma_upload_date
              diploma_photo
            }
            experiences {
              description
              position_name
              position_level
              company_name
              location
              join_duration_from {
                month
                year
              }
              join_duration_to {
                month
                year
              }
              present
              role
              country
              monthly_salary
              industry
              monthly_salary_currency
              specialization_name
            }
            skills {
              skill
              level
            }
            languages {
              language
              spoken
              written
              primary
            }
            interests {
              text
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,c.U)(o=>o.data.GetOneAcademicJourney))}getMyProfile(a){return this.apollo.query({query:d.ZP`
        query GetMyProfile {
          GetOneAcademicJourney(student_id:"${a}"){
            _id
            student_id {
              _id
            }
            general_presentation {
              first_name
              last_name
              age
              email
              description
              photo
              civility
              tele_phone
              date_of_birth
              place_of_birth
              nationality
              identification_type
              identification_number
              address {
                address
                postal_code
                city
                region
                department
                country
                is_main_address
              }
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,c.U)(o=>o.data.GetOneAcademicJourney))}getMyDiplomas(a){return this.apollo.query({query:d.ZP`
        query GetMyDiplomas {
          GetOneAcademicJourney(student_id:"${a}"){
            _id
            student_id {
              _id
            }
            diplomas {
              institute_name
              graduation_date {
                date
                time
              }
              diploma_name
              city
              country
              qualification
              location
              field_of_study
              major
              grade
              score
              out_of_score
              additional_information
              diploma_upload_date
              diploma_photo
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,c.U)(o=>o.data.GetOneAcademicJourney))}getMySkills(a){return this.apollo.query({query:d.ZP`
        query GetMySkills {
          GetOneAcademicJourney(student_id:"${a}"){
            _id
            student_id {
              _id
            }
            skills {
              skill
              level
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,c.U)(o=>o.data.GetOneAcademicJourney))}getMylanguages(a){return this.apollo.query({query:d.ZP`
        query GetMyLanguage {
          GetOneAcademicJourney(student_id:"${a}"){
            _id
            student_id {
              _id
            }
            languages {
              language
              spoken
              written
              primary
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,c.U)(o=>o.data.GetOneAcademicJourney))}getMyInterest(a){return this.apollo.query({query:d.ZP`
        query getMyInterest {
          GetOneAcademicJourney(student_id:"${a}"){
            _id
            student_id {
              _id
            }
            interests {
              text
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,c.U)(o=>o.data.GetOneAcademicJourney))}getMyExperience(a){return this.apollo.query({query:d.ZP`
        query getMyExperience {
          GetOneAcademicJourney(student_id:"${a}"){
            _id
            student_id {
              _id
            }
            experiences {
              description
              position_name
              position_level
              company_name
              location
              join_duration_from {
                month
                year
              }
              join_duration_to {
                month
                year
              }
              present
              role
              country
              monthly_salary
              industry
              monthly_salary_currency
              specialization_name
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,c.U)(o=>o.data.GetOneAcademicJourney))}createAcademicJourney(a){return this.apollo.mutate({mutation:d.ZP`
          mutation CreateAcademicJourney($academic_journey_input: AcademicJourneyInput) {
            CreateAcademicJourney(academic_journey_input: $academic_journey_input) {
              _id
            }
          }
        `,variables:{academic_journey_input:a}}).pipe((0,c.U)(o=>o.data.CreateAcademicJourney))}updateAcademicJourney(a,o){return this.apollo.mutate({mutation:d.ZP`
          mutation UpdateAcademicJourney($_id: ID!, $academic_journey_input: AcademicJourneyInput) {
            UpdateAcademicJourney(_id: $_id, academic_journey_input: $academic_journey_input) {
              _id
              general_presentation {
                photo
              }
            }
          }
        `,variables:{_id:a,academic_journey_input:o}}).pipe((0,c.U)(_=>_.data.UpdateAcademicJourney))}getCurrency(){return this.httpClient.get("assets/data/currency.json")}}return t.\u0275fac=function(a){return new(a||t)(g.\u0275\u0275inject(M._M),g.\u0275\u0275inject(u.sK),g.\u0275\u0275inject(v.eN))},t.\u0275prov=g.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);