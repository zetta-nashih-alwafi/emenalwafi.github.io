"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[762,4318],{10762:(ut,Z,u)=>{u.r(Z),u.d(Z,{SettingsModule:()=>Zd});var _=u(36895),P=u(610),G=u(25360),E=u(3848),ot=u(35226),s=u.n(ot),t=u(94650),O=u(67154),y=u(44758),b=u(94442),g=u(89383),M=u(51572),c=u(24006),F=u(98739),D=u(96308),x=u(53626),m=u(17489),V=u.n(m),N=u(1059),W=u(22868),k=u(24850),I=u(68745),st=u(92340),rt=u(95017),T=u(65938),z=u(21086),J=u(72194),ct=u(73173),Y=u(84075),B=u(52688),$=u(73555),R=u(47957),tt=u(3238),L=u(4859),K=u(97392),w=u(59549),X=u(284),pt=u(84385),et=u(10266);function It(i,r){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Edit type of formation")," "))}function kt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Add Type of formation")," "))}function Dt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",25),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.selectType(o))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"type_formation."+e)," ")}}function Bt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ft(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function At(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Nt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",25),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.handleSelected(null==o?null:o._id))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit;t.\u0275\u0275property("value",null==e?null:e.form_builder_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.form_builder_name," ")}}function Rt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Lt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",2)(1,"div",10)(2,"mat-form-field",12),t.\u0275\u0275element(3,"input",26),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementStart(5,"mat-autocomplete",27,28),t.\u0275\u0275template(7,Nt,2,2,"mat-option",14),t.\u0275\u0275pipe(8,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,Rt,3,3,"mat-error",5),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275reference(6),n=t.\u0275\u0275nextContext();let a;t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(4,7,"Template Form Admission")),t.\u0275\u0275property("formControl",n.formCtrl)("matAutocomplete",e)("readonly","classic"===(null==n.addTypeOfFormation||null==(a=n.addTypeOfFormation.get("type_of_formation"))?null:a.value)),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(8,9,n.formCtrlListFiltered)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==n.formCtrl.errors?null:n.formCtrl.errors.required)}}function Vt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",25),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.handleReSelected(null==o?null:o._id))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit;t.\u0275\u0275property("value",null==e?null:e.form_builder_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.form_builder_name," ")}}function Ut(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function qt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",2)(1,"div",10)(2,"mat-form-field",12),t.\u0275\u0275element(3,"input",29),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementStart(5,"mat-autocomplete",27,28),t.\u0275\u0275template(7,Vt,2,2,"mat-option",14),t.\u0275\u0275pipe(8,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,Ut,3,3,"mat-error",5),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275reference(6),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(4,6,"Template Form ReAdmission")),t.\u0275\u0275property("formControl",n.formCtrlRe)("matAutocomplete",e),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(8,8,n.formCtrlReListFiltered)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==n.formCtrlRe.errors?null:n.formCtrlRe.errors.required)}}function Gt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",30),t.\u0275\u0275element(1,"mat-progress-spinner",31),t.\u0275\u0275elementEnd())}let Kt=(()=>{class i{constructor(e,n,a,o,l,d,p,f,h){this.data=e,this.fb=n,this.dialogRef=a,this.intakeChannelService=o,this.translate=l,this.formBuilderService=d,this.translateService=p,this.utilityService=f,this.authService=h,this.subs=new I.Y,this.listTypeOfInformationCtrl=new c.UntypedFormControl(null),this.templates=[],this.isWaitingForResponse=!1,this.listOfType=[],this.listOfTypeOriginal=["classic","continuous_total_funding","continuous_partial_funding","continuous_personal_funding","continuous_contract_pro"],this.formCtrl=new c.UntypedFormControl("",c.Validators.required),this.formCtrlRe=new c.UntypedFormControl("",c.Validators.required),this.templatesRe=[]}ngOnInit(){if(this.initForm(),this.getAllTypeOfInformation(),this.getAllFormBuilderTemplates(),this.getAllReadmissionFormBuilderTemplates(),this.data.isEdit)if(this.data&&this.data.allDataFormation&&this.data.allDataFormation.length<=1)this.listOfType=this.listOfTypeOriginal;else{const e=this.data.allDataFormation.map(a=>a.type_of_formation),n=this.listOfTypeOriginal.filter(a=>!e.includes(a));this.listOfType.push(this.data.typeOfFormationData.type_of_formation),n&&n.length&&n.forEach(a=>{this.listOfType.push(a)})}else if(this.data&&this.data.allDataFormation&&this.data.allDataFormation.length){const e=this.data.allDataFormation.map(n=>n.type_of_formation);this.listOfType=this.listOfTypeOriginal.filter(n=>!e.includes(n))}else this.listOfType=this.listOfTypeOriginal}patchReadmissonFormOnEdit(){if(this.data&&this.data.isEdit){if(this.data.typeOfFormationData&&this.data.typeOfFormationData.form_builder_id&&this.data.typeOfFormationData.form_builder_id._id&&(this.data.typeOfFormationData.form_builder_id=this.data.typeOfFormationData.form_builder_id._id),this.addTypeOfFormation.patchValue(this.data.typeOfFormationData),this.firstForm=m.cloneDeep(this.addTypeOfFormation.value),this.data.typeOfFormationData.readmission_form_id){if(this.data&&this.data.selectedReAdmissionForm){const n=m.cloneDeep(this.templatesRe);n.push(this.data.selectedReAdmissionForm),this.templatesRe=m.cloneDeep(n),this.formCtrlReListFiltered=this.formCtrlRe.valueChanges.pipe((0,N.O)(""),(0,k.U)(a=>this.templatesRe.filter(o=>!o.form_builder_name||this.utilityService.simplifyRegex(o.form_builder_name).toLowerCase().includes(a.toString().toLowerCase()))))}const e=this.templatesRe.find(n=>n._id===this.data.typeOfFormationData.readmission_form_id);e&&e.form_builder_name&&this.formCtrlRe.setValue(e.form_builder_name)}this.isWaitingForResponse=!1}}patchFormOnEdit(){if(this.data&&this.data.isEdit){if(this.data.typeOfFormationData&&this.data.typeOfFormationData.form_builder_id&&this.data.typeOfFormationData.form_builder_id._id&&(this.data.typeOfFormationData.form_builder_id=this.data.typeOfFormationData.form_builder_id._id),this.addTypeOfFormation.patchValue(this.data.typeOfFormationData),this.firstForm=m.cloneDeep(this.addTypeOfFormation.value),this.data.typeOfFormationData.admission_form_id){if(this.data&&this.data.selectedAdmissionForm){const n=m.cloneDeep(this.templates);n.push(this.data.selectedAdmissionForm),this.templates=m.cloneDeep(n),this.templates=m.uniqBy(this.templates,"_id"),this.formCtrlListFiltered=this.formCtrl.valueChanges.pipe((0,N.O)(""),(0,k.U)(a=>this.templates.filter(o=>!o.form_builder_name||this.utilityService.simplifyRegex(o.form_builder_name).toLowerCase().includes(a.toString().toLowerCase()))))}const e=this.templates.find(n=>n._id===this.data.typeOfFormationData.admission_form_id);e&&e.form_builder_name&&this.formCtrl.patchValue(e.form_builder_name,{emitEvent:!0})}else"classic"===this.addTypeOfFormation.get("type_of_formation").value&&this.formCtrl.setValue(this.translate.instant("type_formation.classic"));this.isWaitingForResponse=!1}}initForm(){this.addTypeOfFormation=this.fb.group({type_of_information:[null,c.Validators.required],type_of_formation:[null,c.Validators.required],sigle:[null,c.Validators.required],description:[null],admission_form_id:[null],readmission_form_id:[null],accounting_plan:[null,c.Validators.required]})}selectType(e){this.addTypeOfFormation.get("type_of_information").setValue(e),e.includes("continuous")?(this.addTypeOfFormation.get("admission_form_id").setValidators([c.Validators.required]),this.addTypeOfFormation.get("admission_form_id").updateValueAndValidity()):(this.addTypeOfFormation.get("admission_form_id").setValue(null),this.addTypeOfFormation.get("admission_form_id").clearValidators(),this.addTypeOfFormation.get("admission_form_id").updateValueAndValidity())}getAllReadmissionFormBuilderTemplates(){this.data.isEdit&&(this.isWaitingForResponse=!0),this.subs.sink=this.formBuilderService.getAllFormBuildersFormationDropdown({status:!0,template_type:"student_admission",hide_form:!1}).subscribe(n=>{n&&n.length?(this.templatesRe=n,this.formCtrlReListFiltered=this.formCtrlRe.valueChanges.pipe((0,N.O)(""),(0,k.U)(a=>this.templates.filter(o=>!o.form_builder_name||this.utilityService.simplifyRegex(o.form_builder_name).toLowerCase().includes(a.toString().toLowerCase())))),this.data.isEdit&&this.patchReadmissonFormOnEdit(),this.isWaitingForResponse=!1):(this.isWaitingForResponse=!1,this.data.isEdit&&this.patchReadmissonFormOnEdit())},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translateService.instant("OK")})})}getAllFormBuilderTemplates(){this.data.isEdit&&(this.isWaitingForResponse=!0),this.subs.sink=this.formBuilderService.getAllFormBuildersFormationDropdown({status:!0,template_type:"student_admission",is_empty_type_formation:!0,hide_form:!1}).subscribe(n=>{n&&n.length?(this.templates=n,this.formCtrlListFiltered=this.formCtrl.valueChanges.pipe((0,N.O)(""),(0,k.U)(a=>this.templates.filter(o=>!o.form_builder_name||this.utilityService.simplifyRegex(o.form_builder_name).toLowerCase().includes(a.toString().toLowerCase())))),this.data.isEdit&&this.patchFormOnEdit(),this.isWaitingForResponse=!1):(this.isWaitingForResponse=!1,this.data.isEdit&&this.patchFormOnEdit())},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translateService.instant("OK")})})}checkFormValidity(){return!!(this.addTypeOfFormation.invalid||this.formCtrl.invalid||this.formCtrlRe.invalid)&&(s().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.addTypeOfFormation.markAllAsTouched(),this.addTypeOfFormation.get("type_of_information").value?(this.formCtrl.markAsTouched(),this.formCtrlRe.markAsTouched()):(this.formCtrl.markAsPristine(),this.formCtrlRe.markAsPristine()),!0)}onValidate(){if(this.checkFormValidity())return;const e=this.addTypeOfFormation.value;this.data.isEdit?(this.isWaitingForResponse=!0,this.subs.sink=this.intakeChannelService.updateTypeOfInformation(this.data.typeOfFormationData._id,e).subscribe(n=>{this.isWaitingForResponse=!1,n&&s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,"GraphQL error: Name already exists!"!==n.message?"GraphQL error: you cant change this type of formation because already used in registration profile"!==n.message?n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):this.showSwalError(n):s().fire({title:this.translate.instant("031_ERRORMSG.TITLE"),html:this.translate.instant("031_ERRORMSG.TEXT"),type:"warning",showConfirmButton:!0,confirmButtonText:this.translate.instant("031_ERRORMSG.BUTTON_1")}).then(()=>{this.dialogRef.close(!0)}):s().fire({title:this.translate.instant("USERADD_S2.TITLE"),html:this.translate.instant("Name is already exists. Please use another name"),type:"warning",showConfirmButton:!0,confirmButtonText:this.translate.instant("USERADD_S2.BUTTON")}).then(()=>{this.dialogRef.close(!0)})})):(this.isWaitingForResponse=!0,this.subs.sink=this.intakeChannelService.createTypeOfInformation(e).subscribe(n=>{this.isWaitingForResponse=!1,n&&s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,"GraphQL error: Name already exists!"===n.message?s().fire({title:this.translate.instant("USERADD_S2.TITLE"),html:this.translate.instant("Name is already exists. Please use another name"),type:"warning",showConfirmButton:!0,confirmButtonText:this.translate.instant("USERADD_S2.BUTTON")}).then(()=>{this.dialogRef.close(!0)}):n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):this.showSwalError(n)}))}getAllTypeOfInformation(){this.subs.sink=this.intakeChannelService.getAllTypeOfInformationDropdown().subscribe(e=>{e&&(this.listTypeOfInformation=e)},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translateService.instant("OK")})})}selectedTypeOfInformation(e){e&&(this.data=e,this.addTypeOfFormation.patchValue(e))}showSwalError(e){s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(()=>{this.dialogRef.close(!0)})}comparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.addTypeOfFormation.value)}handleSelected(e){e&&(this.addTypeOfFormation.get("admission_form_id").patchValue(e),this.formCtrlListFiltered=(0,z.of)(this.templates))}handleReSelected(e){e&&(this.addTypeOfFormation.get("readmission_form_id").patchValue(e),this.formCtrlReListFiltered=(0,z.of)(this.templatesRe))}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(T.WI),t.\u0275\u0275directiveInject(c.UntypedFormBuilder),t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(J.p),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(ct.c),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(Y.t),t.\u0275\u0275directiveInject(B.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-add-type-of-formation-dialog"]],decls:56,vars:31,consts:[[1,"dialog-border"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialogTitleWrapper"],[1,"p-grid"],[1,"p-col-9","acad-title"],[1,"dialogTitle"],[4,"ngIf"],[1,"p-col-2","text-right",2,"margin-left","33px"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding"],[1,"p-col","no-padding"],["floatLabel","auto"],["formControlName","type_of_formation","panelClass","custom-matselect",3,"matTooltip","placeholder"],[3,"value","click",4,"ngFor","ngForOf"],[1,"p-col-6","pad-right-3"],["matInput","","formControlName","sigle",3,"placeholder"],[1,"p-col-6"],["matInput","","formControlName","accounting_plan",3,"placeholder"],["matInput","","formControlName","description",3,"placeholder"],["class","p-grid",4,"ngIf"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],["class","loading-indicator",4,"ngIf"],[3,"value","click"],["matInput","",1,"form-field",3,"formControl","matAutocomplete","placeholder","readonly"],[3,"panelWidth"],["docTypeAuto","matAutocomplete"],["matInput","",1,"form-field",3,"formControl","matAutocomplete","placeholder"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.\u0275\u0275template(5,It,3,3,"span",5),t.\u0275\u0275template(6,kt,3,3,"span",5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",6)(8,"button",7)(9,"mat-icon"),t.\u0275\u0275text(10,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(11,"form",8)(12,"div",9)(13,"mat-dialog-content")(14,"div",2)(15,"div",10)(16,"div",2)(17,"div",11)(18,"mat-form-field",12)(19,"mat-select",13),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275template(22,Dt,3,4,"mat-option",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(23,Bt,3,3,"mat-error",5),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(24,"div",2)(25,"div",15)(26,"div",2)(27,"div",10)(28,"mat-form-field",12),t.\u0275\u0275element(29,"input",16),t.\u0275\u0275pipe(30,"translate"),t.\u0275\u0275template(31,Ft,3,3,"mat-error",5),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(32,"div",17)(33,"div",2)(34,"div",10)(35,"mat-form-field",12),t.\u0275\u0275element(36,"input",18),t.\u0275\u0275pipe(37,"translate"),t.\u0275\u0275template(38,At,3,3,"mat-error",5),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(39,"div",2)(40,"div",10)(41,"div",2)(42,"div",11)(43,"mat-form-field",12),t.\u0275\u0275element(44,"textarea",19),t.\u0275\u0275pipe(45,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(46,Lt,10,11,"div",20),t.\u0275\u0275template(47,qt,10,10,"div",20),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(48,"mat-dialog-actions",21)(49,"button",22),t.\u0275\u0275text(50),t.\u0275\u0275pipe(51,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(52,"button",23),t.\u0275\u0275listener("click",function(){return n.onValidate()}),t.\u0275\u0275text(53),t.\u0275\u0275pipe(54,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(55,Gt,2,0,"div",24)),2&e){let a,o;t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",n.data.isEdit),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.data.isEdit),t.\u0275\u0275advance(5),t.\u0275\u0275property("formGroup",n.addTypeOfFormation),t.\u0275\u0275advance(8),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(21,19,"ADMISSION.Type Of formation")),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(20,17,"ADMISSION.Type Of formation")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",n.listOfType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.addTypeOfFormation.get("type_of_formation").errors),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(30,21,"Sigle")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.addTypeOfFormation.get("sigle").errors),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(37,23,"Accounting plan")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.addTypeOfFormation.get("accounting_plan").errors),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(45,25,"Description")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==n.addTypeOfFormation||null==(a=n.addTypeOfFormation.get("type_of_formation"))?null:a.value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.addTypeOfFormation||null==(o=n.addTypeOfFormation.get("type_of_formation"))?null:o.value),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(51,27,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(54,29,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse)}},dependencies:[_.sg,_.O5,$.Zt,$.Bh,R.XC,R.ZL,tt.ey,L.lW,T.ZT,T.xY,T.H8,K.Hw,w.TO,w.KE,X.Nt,M.Ou,pt.gD,et.gM,c.\u0275NgNoValidate,c.DefaultValueAccessor,c.NgControlStatus,c.NgControlStatusGroup,c.FormControlDirective,c.FormGroupDirective,c.FormControlName,_.Ov,g.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-15px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}.name-who[_ngcontent-%COMP%]{display:inline-block;text-align:center;margin-right:0!important}.width-card[_ngcontent-%COMP%]{width:auto;display:inline-block;margin-right:10px}.card-selected[_ngcontent-%COMP%]{background-color:#fdd835}.card[_ngcontent-%COMP%]{padding-bottom:3px!important;padding:10px;vertical-align:middle;border:1px solid #252525;border-radius:4px;text-align:center;align-self:center;display:inline-block;margin-top:10px;cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-select-container{height:36px;border-left:0px!important;border-right:0px!important;border-top:0px!important;border-radius:0!important}.pad-right-3[_ngcontent-%COMP%]{padding:.5em 3em .5em 0!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px;opacity:0}  .custom-matselect{margin-top:35px!important;margin-left:20px!important}  .mat-select-panel-wrap{flex-basis:fit-content!important}"]}),i})();var nt=u(80529),dt=u(56709),U=u(28255),j=u(24784);function jt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",33),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.onOpenAddTypeOfFormationDialog(!1))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Add type of formation")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Add type of formation")," "))}function Ht(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",34),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.getAllIdForCheckbox(0))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",35),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Export")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"Export")," ")}}function Wt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",34),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.resetFilter())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",36),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"RESET")," ")}}function $t(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",25)(1,"div",26)(2,"div",27)(3,"button",28),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"mat-menu",29,30),t.\u0275\u0275template(11,jt,4,6,"button",31),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,Ht,5,7,"button",32),t.\u0275\u0275template(13,Wt,5,7,"button",32),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275reference(10),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(4,7,"Action")," "),t.\u0275\u0275property("disabled",n.isWaitingForResponse)("matMenuTriggerFor",e),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,9,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",null==n.permissionService?null:n.permissionService.addTypeOfFormationPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.permissionService?null:n.permissionService.exportCsvTypeOfFormationPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.permissionService?null:n.permissionService.resetTypeOfFormationPerm())}}function zt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",37)(1,"mat-checkbox",38),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?o.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.showOptions("all",""))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function Yt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",39)(1,"mat-checkbox",40),t.\u0275\u0275listener("click",function(a){return a.stopPropagation()})("change",function(a){const l=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?d.selection.toggle(l._id):null)})("change",function(){const o=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.showOptions("one",o))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(e._id))("aria-label",n.checkboxLabel(e))}}function Qt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",41),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ADMISSION.Type Of formation")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"ADMISSION.Type Of formation")))}function Xt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"type_formation."+(null==e?null:e.type_of_information))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"type_formation."+(null==e?null:e.type_of_information))," ")}}function Zt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",41),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Sigle")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Sigle")))}function Jt(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.sigle),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.sigle," ")}}function te(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",41),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Description")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Description")))}function ee(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.description),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.description," ")}}function ne(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",41),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Template connected")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Template connected")))}function ie(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null!=e&&e.admission_form_id?null==e||null==e.admission_form_id?null:e.admission_form_id.form_builder_name:t.\u0275\u0275pipeBind1(1,2,"type_formation."+(null==e?null:e.type_of_information))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.admission_form_id?null==e||null==e.admission_form_id?null:e.admission_form_id.form_builder_name:t.\u0275\u0275pipeBind1(3,4,"type_formation."+(null==e?null:e.type_of_information))," ")}}function ae(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",41),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Template Connected Re-Admission")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Template Connected Re-Admission")))}function oe(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null!=e&&e.readmission_form_id?null==e||null==e.readmission_form_id?null:e.readmission_form_id.form_builder_name:t.\u0275\u0275pipeBind1(1,2,"type_formation."+(null==e?null:e.type_of_information))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.readmission_form_id?null==e||null==e.readmission_form_id?null:e.readmission_form_id.form_builder_name:t.\u0275\u0275pipeBind1(3,4,"type_formation."+(null==e?null:e.type_of_information))," ")}}function re(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",41),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Accounting plan")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Accounting plan")))}function le(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.accounting_plan),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.accounting_plan," ")}}function se(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",41),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function de(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",46),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onOpenAddTypeOfFormationDialog(!0,a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Edit")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function ce(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",47),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onDelete(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function pe(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",43),t.\u0275\u0275template(1,de,4,4,"button",44),t.\u0275\u0275template(2,ce,4,4,"button",45),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.permissionService?null:e.permissionService.editTypeofFormationPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.permissionService?null:e.permissionService.deleteTypeOfFormationPerm())}}function me(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",48)(1,"div",49),t.\u0275\u0275element(2,"mat-spinner",50),t.\u0275\u0275elementEnd()())}function he(i,r){1&i&&t.\u0275\u0275element(0,"tr",51)}function ge(i,r){1&i&&t.\u0275\u0275element(0,"tr",51)}function ue(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",52),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function _e(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",53),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function fe(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",55),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No record for Type of Formation")," "))}function be(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,fe,3,3,"div",54),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(2,1,e.noData))}}const Ce=function(){return["reset"]},ye=function(){return["loading"]},xe=function(i){return{hide:i}},Oe=function(i){return{"hide-pagination-buttons":i}},ve=function(){return[10]};let Pe=(()=>{class i{constructor(e,n,a,o,l,d,p,f){this.pageTitleService=e,this.translate=n,this.dialog=a,this.utilityService=o,this.intakeChannelService=l,this.permissionService=d,this.userService=p,this.httpClient=f,this.subs=new I.Y,this.selection=new rt.Ov(!0,[]),this.dataSource=new x.by([]),this.isReset=!1,this.dataLoaded=!1,this.sortValue=null,this.displayedColumns=["select","typeOfFormation","sigle","description","admissionForm","reAdmissionForm","accounting","action"],this.filterColumns=["selectFilter","typeOfFormationFilter","sigleFiler","descriptionFilter","admissionFormFilter","reAdmissionFormFilter","accountingFilter","actionFilter"],this.isWaitingForResponse=!1,this.dataCount=0,this.typeOfFormationCtrlList=[{value:"classic",key:"Initial Formation"},{value:"continuous_total_funding",key:"Continuous Formation - Total Funding"},{value:"continuous_partial_funding",key:"Continuous Formation - Partial Funding"},{value:"continuous_personal_funding",key:"Continuous Formation - Personal Funding"}],this.filteredValues={type_of_information:"",type_of_formation:null,scholar_season_id:""},this.typeOfFormationCtrl=new c.UntypedFormControl(""),this.allInternshipId=[],this.dataSelected=[],this.isLoading=!1,this.userSelected=[],this.userSelectedId=[],this.pageSelected=[],this.allStudentForCheckbox=[],this.dataUnselectUser=[],this.allExportForCheckbox=[]}ngOnInit(){const e=this.userService.getLocalStorageUser(),n=this.userService.getPermission(),a=e?.entities?.find(o=>o?.type?.name===n[0]);this.currentUserTypeId=a?.type?._id,this.pageTitleService.setTitle(this.translate.instant("INTAKE_CHANNEL.PAGE_TITLE.Settings")+" - "+this.translate.instant("ADMISSION.Type Of formation")),this.subs.sink=this.translate.onLangChange.subscribe(o=>{this.pageTitleService.setTitle(this.translate.instant("INTAKE_CHANNEL.PAGE_TITLE.Settings")+" - "+this.translate.instant("ADMISSION.Type Of formation"))}),this.getDataTypeOfFormation(),this.initFilter()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,N.O)(null),(0,W.b)(()=>{this.isReset||this.getDataTypeOfFormation(),this.dataLoaded=!0})).subscribe()}getDataTypeOfFormation(){this.dataSelected=[],this.dataSelectedId=[],this.allInternshipId=[],this.isWaitingForResponse=!0;const e={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0};this.filteredValues.scholar_season_id="",this.subs.sink=this.intakeChannelService.getAllTypeOfInformation(e,this.filteredValues).subscribe(n=>{n&&n.length?(this.dataSource.data=n,this.paginator.length=n[0].count_document,this.dataCount=n[0].count_document,this.disabledExport=!0):(this.dataSource.data=[],this.paginator.length=0,this.dataCount=0,this.disabledExport=!0),this.noData=this.dataSource.connect().pipe((0,k.U)(a=>0===a.length)),this.isReset=!1,this.isWaitingForResponse=!1},n=>{this.userService.postErrorLog(n),this.isWaitingForResponse=!1,this.dataSource.data=[],this.paginator.length=0,this.dataCount=0,this.disabledExport=!0,n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("OK")})})}initFilter(){this.typeOfFormationCtrlListFiltered=this.typeOfFormationCtrl.valueChanges.pipe((0,N.O)(""),(0,k.U)(e=>this.typeOfFormationCtrlList.filter(n=>!n||this.utilityService.simplifyRegex(this.translate.instant("type_formation."+n.value)).toLowerCase().includes(e.toString().toLowerCase()))))}resetFilter(){this.selection.clear(),this.isCheckedAll=!1,this.filteredValues={type_of_information:"",type_of_formation:null,scholar_season_id:""},this.typeOfFormationCtrl.setValue(null,{emitEvent:!1}),this.getDataTypeOfFormation(),this.dataSelected=[],this.dataSelectedId=[],this.paginator.pageIndex=0,this.dataUnselectUser=[],this.allExportForCheckbox=[]}onOpenAddTypeOfFormationDialog(e,n){let a;e&&(a=m.cloneDeep(n),a.admission_form_id=n.admission_form_id?n.admission_form_id._id:null,a.readmission_form_id=n.readmission_form_id?n.readmission_form_id._id:null),this.dialog.open(Kt,{width:"750px",minHeight:"100px",disableClose:!0,data:{isEdit:e,scholarSeasonId:this.scholarSeasonId,typeOfFormationData:a,allDataFormation:this.dataSource.data,selectedAdmissionForm:n&&n.admission_form_id?n.admission_form_id:null,selectedReAdmissionForm:n&&n.readmission_form_id?n.readmission_form_id:null}}).afterClosed().subscribe(d=>{d&&(this.isReset||this.getDataTypeOfFormation())})}onDelete(e){let n=3;s().fire({title:this.translate.instant("TYPEFORMATION_S1.TITLE"),html:this.translate.instant("TYPEFORMATION_S1.TEXT",{name:e.type_of_information?this.translate.instant("type_formation."+e.type_of_information):""}),type:"info",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("TYPEFORMATION_S1.BUTTON1",{timer:n}),cancelButtonText:this.translate.instant("TYPEFORMATION_S1.BUTTON2"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{s().disableConfirmButton();const a=s().getConfirmButton(),o=setInterval(()=>{n-=1,a.innerText=this.translate.instant("TYPEFORMATION_S1.BUTTON1")+` (${n})`},1e3);this.timeOutVal=setTimeout(()=>{a.innerText=this.translate.instant("TYPEFORMATION_S1.BUTTON1"),s().enableConfirmButton(),clearInterval(o),clearTimeout(this.timeOutVal)},1e3*n)}}).then(a=>{clearTimeout(this.timeOutVal),a.value&&(this.subs.sink=this.intakeChannelService.deleteTypeOfInformation(e._id).subscribe(o=>{o&&s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.selection.clear(),this.isCheckedAll=!1,this.getDataTypeOfFormation()})},o=>{this.userService.postErrorLog(o),o&&o.message&&(o.message.includes("jwt expired")||o.message.includes("str & salt required")||o.message.includes("Authorization header is missing")||o.message.includes("salt"))?this.userService.handlerSessionExpired():"GraphQL error: Type of formation already assigned to registration profile"===o.message?s().fire({title:this.translate.instant("TYPEFORMATION_S1a.TITLE"),html:this.translate.instant("TYPEFORMATION_S1a.TEXT"),type:"info",showConfirmButton:!0,confirmButtonText:this.translate.instant("TYPEFORMATION_S1a.BUTTON1")}).then(()=>{}):this.showSwalError(o)}))})}showSwalError(e){e&&e.message&&e.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}isAllSelected(){const e=this.selection.selected.length,n=this.dataSource.data.length;return e===n||e>n}masterToggle(){this.isAllSelected()||this.isCheckedAll&&this.dataUnselectUser&&this.dataUnselectUser.length?(this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.isCheckedAll=!1,this.dataUnselectUser=[],this.allExportForCheckbox=[]):(this.selection.clear(),this.dataSelected=[],this.allStudentForCheckbox=[],this.isCheckedAll=!0,this.dataUnselectUser=[],this.allExportForCheckbox=[],this.dataSource.data.forEach(e=>{this.dataUnselectUser.includes(e._id)||this.selection.select(e._id)}))}getDataAllForCheckbox(e){const n={limit:300,page:e};this.isWaitingForResponse=!0;const a=m.cloneDeep(this.filteredValues);this.subs.sink=this.intakeChannelService.getAllTypeOfInformation(n,a).subscribe(o=>{o&&o.length?(this.allStudentForCheckbox.push(...o),this.getDataAllForCheckbox(e+1)):(this.isWaitingForResponse=!1,this.isCheckedAll?(this.allStudentForCheckbox&&this.allStudentForCheckbox.length&&this.allStudentForCheckbox.forEach(l=>{this.selection.select(l._id),this.dataSelected.push(l)}),this.pageSelected.push(this.paginator.pageIndex)):this.pageSelected=[])},o=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(o),o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("OK")})})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}showOptions(e,n){if(this.isCheckedAll){if(n)if(this.dataUnselectUser.includes(n._id)){const l=this.dataUnselectUser.findIndex(d=>d===n._id);this.dataUnselectUser.splice(l,1),this.selection.select(n._id)}else this.dataUnselectUser.push(n._id),this.selection.deselect(n._id)}else if(n){const l=this.dataSelected.filter(d=>d._id===n._id);if(l&&l.length<1)this.dataSelected.push(n);else{const d=this.dataSelected.findIndex(p=>p._id===n._id);this.dataSelected.splice(d,1)}}this.disabledExport=!(this.selection.selected.length>0),this.userSelected=[],this.userSelectedId=[],this.selectType=e,(this.dataSelected&&this.dataSelected.length?this.dataSelected:this.selection.selected).forEach(l=>{this.userSelected.push(l),this.userSelectedId.push(l._id)})}cleanFilterDataCSV(){const e=m.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(a=>{(e[a]||!1===e[a])&&(n=n?n+`,"${a}":"${e[a]}"`:n+`"${a}":"${e[a]}"`)}),"filter={"+n+"}"}downloadCSV(){if(this.dataSelected&&this.dataSelected.length<1&&(!this.isCheckedAll||this.isCheckedAll&&this.dataUnselectUser&&this.dataUnselectUser.length))s().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Admission")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else{const e={",":this.translate.instant("IMPORT_DECISION_S1.COMMA"),";":this.translate.instant("IMPORT_DECISION_S1.SEMICOLON"),tab:this.translate.instant("IMPORT_DECISION_S1.TAB")};s().fire({type:"question",title:this.translate.instant("IMPORT_DECISION_S1.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translate.instant("IMPORT_DECISION_S1.CANCEL"),confirmButtonText:this.translate.instant("IMPORT_DECISION_S1.OK"),input:"radio",inputOptions:e,inputValue:this.translate&&"fr"===this.translate.currentLang?";":"",inputValidator:n=>new Promise((a,o)=>{n?(a(""),s().enableConfirmButton()):(s().disableConfirmButton(),o(this.translate.instant("IMPORT_DECISION_S1.INVALID")))}),onOpen:function(){s().disableConfirmButton(),s().getContent().addEventListener("click",function(o){o.target.value&&s().enableConfirmButton()}),";"===s().getInput().getAttribute("value")&&s().enableConfirmButton()}}).then(n=>{n.value&&this.openDownloadCsv(n.value)})}}openDownloadCsv(e){let n=st.N.apiUrl;n=n.replace("graphql",""),document.createElement("a");const o=this.translate.currentLang.toLowerCase(),d=this.cleanFilterDataCSV();let p,f;if(this.dataSelected&&this.dataSelected.length&&!this.isCheckedAll||this.dataUnselectUser&&this.dataUnselectUser.length||this.allStudentForCheckbox&&this.allStudentForCheckbox.length&&"one"===this.selectType){const S='"type_of_information_ids":['+this.dataSelected.map(A=>'"'+A._id+'"').toString()+"]";p=d.slice(0,8)+S+"}"}else this.isCheckedAll&&(p=d);f=this.sortValue?`sorting=${this.sortValue}`:"sorting={}";const h=n+"downloadTypeOfFormation/"+e+"/"+o+"?"+p+"&"+f+`&user_type_id="${this.currentUserTypeId}"`;console.log(h);const C={headers:new nt.WM({Authorization:JSON.parse(localStorage.getItem("admtc-token-encryption"))})};this.isLoading=!0,this.httpClient.get(`${encodeURI(h)}`,C).subscribe(v=>{v?(this.isLoading=!1,s().fire({type:"success",title:this.translate.instant("ReAdmission_S3.TITLE"),text:this.translate.instant("ReAdmission_S3.TEXT"),confirmButtonText:this.translate.instant("ReAdmission_S3.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.selection.clear(),this.dataSelected=[],this.dataUnselectUser=[],this.allExportForCheckbox=[],this.isCheckedAll=!1})):this.isLoading=!1},v=>{this.isLoading=!1})}hendleSelected(e){e&&"AllS"!==e?(this.filteredValues.type_of_formation=e,this.getDataTypeOfFormation()):(this.filteredValues.type_of_formation=null,this.getDataTypeOfFormation())}displayFn(e){if(e){const n=this.typeOfFormationCtrlList.find(a=>a.value.toLowerCase().trim().includes(e));return n?this.translate.instant("type_formation."+n.value):e}return e}getAllIdForCheckbox(e){if(this.isCheckedAll)if(this.dataUnselectUser.length<1)this.downloadCSV();else{0===e&&(this.allExportForCheckbox=[],this.dataSelected=[]);const n={limit:500,page:e};this.isWaitingForResponse=!0,this.subs.sink=this.intakeChannelService.GetAllTypeInformationIntakeChannelIdCheckbox(this.filteredValues,n).subscribe(a=>{if(a&&a.length){const o=m.cloneDeep(a);this.allExportForCheckbox=m.concat(this.allExportForCheckbox,o),this.getAllIdForCheckbox(e+1)}else this.isWaitingForResponse=!1,this.isCheckedAll&&this.allExportForCheckbox&&this.allExportForCheckbox.length&&(this.dataSelected=this.allExportForCheckbox.filter(o=>!this.dataUnselectUser.includes(o._id)),this.dataSelected=m.uniqBy(this.dataSelected,"_id"),this.dataSelected&&this.dataSelected.length&&this.downloadCSV())},a=>{console.log("error download csv"),console.log(a),this.isReset=!1,this.isLoading=!1,s().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("OK")})})}else this.downloadCSV()}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(O.Z),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(Y.t),t.\u0275\u0275directiveInject(J.p),t.\u0275\u0275directiveInject(y.$),t.\u0275\u0275directiveInject(B.e),t.\u0275\u0275directiveInject(nt.eN))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-type-of-formation"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(F.NW,7),t.\u0275\u0275viewQuery(D.YE,7)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.sort=a.first)}},decls:38,vars:20,consts:[[1,"top-space"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","reset"],["mat-header-cell","","colspan","100%","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","select",1,"mat-column-select"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","typeOfFormation"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","text-align: start !important",3,"matTooltip",4,"matCellDef"],["matColumnDef","sigle"],["matColumnDef","description"],["matColumnDef","admissionForm"],["matColumnDef","reAdmissionForm"],["matColumnDef","accounting"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["mat-header-cell","","colspan","100%",1,"action-header-column","text-right"],[1,"p-col-12","p-grid","no-padding"],[1,"p-col","text-right"],["mat-raised-button","","color","accent",3,"matTooltip","disabled","matMenuTriggerFor"],[1,"action-dropdown-button-above-table"],["action","matMenu"],["mat-menu-item","",3,"matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"matTooltip","disabled","click",4,"ngIf"],["mat-menu-item","",3,"matTooltip","click"],["mat-raised-button","","color","primary",3,"matTooltip","disabled","click"],["svgIcon","file-excel",1,"mat-icon-svgIcon"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell","",1,"text-center"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"text-center"],[3,"checked","aria-label","click","change"],["mat-header-cell","",3,"matTooltip"],["mat-cell","",2,"text-align","start !important",3,"matTooltip"],["mat-cell",""],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","disabled","click"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"disabled","matTooltip","click"],["mat-header-cell","","colspan","100%",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],["class","no-records",4,"ngIf"],[1,"no-records"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"table",1),t.\u0275\u0275elementContainerStart(2,2),t.\u0275\u0275template(3,$t,14,11,"th",3),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(4,4),t.\u0275\u0275template(5,zt,2,3,"th",5),t.\u0275\u0275template(6,Yt,2,2,"td",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(7,7),t.\u0275\u0275template(8,Qt,5,6,"th",8),t.\u0275\u0275template(9,Xt,4,6,"td",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,10),t.\u0275\u0275template(11,Zt,5,6,"th",8),t.\u0275\u0275template(12,Jt,2,2,"td",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(13,11),t.\u0275\u0275template(14,te,5,6,"th",8),t.\u0275\u0275template(15,ee,2,2,"td",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,12),t.\u0275\u0275template(17,ne,5,6,"th",8),t.\u0275\u0275template(18,ie,4,6,"td",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(19,13),t.\u0275\u0275template(20,ae,5,6,"th",8),t.\u0275\u0275template(21,oe,4,6,"td",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,14),t.\u0275\u0275template(23,re,5,6,"th",8),t.\u0275\u0275template(24,le,2,2,"td",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(25,15),t.\u0275\u0275template(26,se,5,6,"th",8),t.\u0275\u0275template(27,pe,3,2,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(28,17),t.\u0275\u0275template(29,me,3,0,"th",18),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(30,he,1,0,"tr",19),t.\u0275\u0275template(31,ge,1,0,"tr",19),t.\u0275\u0275template(32,ue,1,1,"tr",20),t.\u0275\u0275template(33,_e,1,1,"tr",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(34,be,3,3,"ng-container",22),t.\u0275\u0275elementStart(35,"div",23),t.\u0275\u0275pipe(36,"async"),t.\u0275\u0275element(37,"mat-paginator",24),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(29),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(13,Ce)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(14,ye)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(15,xe,t.\u0275\u0275pipeBind1(36,11,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(17,Oe,n.dataCount<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(19,ve)))},dependencies:[_.mk,_.O5,L.lW,dt.oG,K.Hw,U.VK,U.OP,U.p6,F.NW,M.Ou,D.YE,x.BZ,x.fO,x.as,x.w1,x.Dz,x.nj,x.ge,x.ev,x.XQ,x.Gk,et.gM,j.oO,_.Ov,g.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.pad-top-miss[_ngcontent-%COMP%]{padding-top:1.8px!important}.form-field[_ngcontent-%COMP%]{margin-top:.5px}.tag-container[_ngcontent-%COMP%]{white-space:normal;text-align:left!important;line-height:2.3;overflow-wrap:break-word}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:2%;padding-left:0rem!important;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:18%;text-align:center!important;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:10%;padding-left:.5rem!important;padding-right:.5rem!important;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:15%;text-align:center!important;padding-left:.5rem!important;padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(4) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:15%;text-align:center!important;padding-left:.5rem!important;padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){width:18%;word-wrap:break-word;padding-left:.5rem!important;padding-right:.5rem!important;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){width:7%;padding-left:.5rem!important;padding-right:.5rem!important;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){width:10%;min-width:90px;max-width:90px;padding-left:.7rem!important;padding-right:.7rem!important;text-align:center!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.pc-section[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:5px;display:inline-block}.cr-section[_ngcontent-%COMP%]{width:50%;text-align:left;display:inline-block}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}"]}),i})();var it=u(80013),q=u(15439),ht=u(10830),_t=u(95321),Ot=u(8739);function Me(i,r){1&i&&(t.\u0275\u0275elementStart(0,"h3",7),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Add Additional Expenses")," "))}function Se(i,r){1&i&&(t.\u0275\u0275elementStart(0,"h3",7),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Edit Additional Expenses")," "))}function Ee(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Te(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function we(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"No negative number")))}function Ie(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",26),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.currencySelected(o.code))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit;t.\u0275\u0275property("value",e.code),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.code," ")}}function ke(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}let vt=(()=>{class i{constructor(e,n,a,o,l,d,p,f,h){this.dialogRef=e,this.fb=n,this.translate=a,this.acadJourneyService=o,this.intakeChannelService=l,this.router=d,this.admissionService=p,this.data=f,this.authService=h,this.subs=new I.Y,this.isMainAddressSelected=!1,this.listAdditionalCostsCtrl=new c.UntypedFormControl(null),this.nationalitiesList=[],this.nationalList=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.currencyFilter=new c.UntypedFormControl("",c.Validators.required),this.regions=[],this.filteredRegions=[],this.currencyList=[],this.currencyListOri=[],this.toFilterList=[{civility:"Mrs",value:" Mrs Anne CHAMBIER",key:"Anne CHAMBIER"},{civility:"Mr",value:"Mr Fabien CHAMBIER",key:"Fabien CHAMBIER"}],this.dummyData=[],this.listExistingCosts=[],this.showForm=!1,this.hideButton=!1,this.showExisting=!1,this.isExistingData=!1}ngOnInit(){this.router.queryParams.subscribe(e=>{e&&e.scholarSeasonId&&(this.scholarId=e.scholarSeasonId)}),this.today=new Date,this.iniVerificationForm(),this.subs.sink=this.acadJourneyService.getCurrency().subscribe(e=>{this.currencyList=m.cloneDeep(e),this.currencyListOri=m.cloneDeep(e)}),this.data&&this.data._id&&(this.showForm=!0,this.hideButton=!0,this.identityForm.patchValue(this.data),this.firstForm=m.cloneDeep(this.identityForm.value)),this.data&&this.data.currency&&this.currencyFilter.setValue(this.data.currency)}filterCurrency(){const e=this.currencyFilter.value.toLowerCase().trim();this.currencyList=this.currencyListOri.filter(n=>n.code.toLowerCase().trim().includes(e))}iniVerificationForm(){this.identityForm=this.fb.group({additional_cost:[null,c.Validators.required],description:[null],amount:[null,[c.Validators.required,c.Validators.min(0)]],currency:["EUR",c.Validators.required],scholar_season_id:[this.scholarId]}),this.currencyFilter.setValue("EUR")}populateDataProfileRate(){this.data.payment_modes.forEach(e=>{this.dummyData.forEach((n,a)=>{n._id===e._id&&(this.dummyData[a].status=!0)})})}checkFormValidity(){if(this.identityForm.invalid)return s().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.identityForm.markAllAsTouched(),!0;if("EUR"===this.currencyFilter.value)return this.identityForm.get("currency").setValue("EUR"),!1;if(this.data&&this.currencyFilter.value===this.data.currency)return this.identityForm.get("currency").setValue(this.data.currency),!1;if(this.currencyList&&1===this.currencyList.length)return this.identityForm.get("currency").setValue(this.currencyList[0].code),!1;{const e=this.currencyList.filter(n=>n.code===this.currencyFilter.value);return!(e&&1===e.length||(s().fire({type:"info",title:this.translate.instant("ADDITIONAL_S2.TITLE"),html:this.translate.instant("ADDITIONAL_S2.TEXT"),confirmButtonText:this.translate.instant("ADDITIONAL_S2.BUTTON")}),this.identityForm.markAllAsTouched(),0))}}submitVerification(){if(this.checkFormValidity())return;const e=m.cloneDeep(this.identityForm.value);if(e.scholar_season_id=this.scholarId,e.is_from_duplicate=!!this.showExisting,this.dummyData&&this.dummyData.length){const n=this.dummyData.filter(a=>!0===a.status).map(a=>a._id);e.payment_modes=n}e.amount=parseFloat(e.amount),this.subs.sink=this.data&&this.data._id&&!this.showExisting?this.intakeChannelService.UpdateAdditionalCost(e,this.data._id).subscribe(n=>{n&&s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},n=>{this.authService.postErrorLog(n),"GraphQL error: Name already exists!"===n.message||"GraphQL error: Name already Exists. Please pick another name"===n.message||"GraphQL error: Additional cost name already exists!"===n.message?s().fire({title:this.translate.instant("USERADD_S2.TITLE"),html:this.translate.instant("Name is already exists. Please use another name"),type:"warning",showConfirmButton:!0,confirmButtonText:this.translate.instant("USERADD_S2.BUTTON")}):"GraphQL error: No data change!"===n.message?this.dialogRef.close():n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.intakeChannelService.CreateAdditionalCost(e).subscribe(n=>{n&&s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},n=>{this.authService.postErrorLog(n),"GraphQL error: Name already exists!"===n.message||"GraphQL error: Name already Exists. Please pick another name"===n.message||"GraphQL error: Additional cost name already exists!"===n.message?s().fire({title:this.translate.instant("USERADD_S2.TITLE"),html:this.translate.instant("Name is already exists. Please use another name"),type:"warning",showConfirmButton:!0,confirmButtonText:this.translate.instant("USERADD_S2.BUTTON")}):n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}closeDialog(){this.dialogRef.close()}currencySelected(e){this.identityForm.get("currency").setValue(e)}openForm(){this.showForm=!0,this.showExisting=!1,this.identityForm.reset(),this.showPatchForm=!1,this.isExistingData=!1,this.identityForm.get("currency").patchValue("EUR")}openSelectExisting(){this.showForm=!1,this.showExisting=!0,this.listAdditionalCostsCtrl.setValue(null)}getAllAdditionalCost(){this.subs.sink=this.listAdditionalCostsCtrl.valueChanges.subscribe(e=>{this.identityForm.reset()}),this.listAdditionalCosts=[],this.subs.sink=this.intakeChannelService.GetAllAdditionalCostsDropdown().subscribe(e=>{e&&(this.listAdditionalCosts=e)},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}selectedAdditionalCost(e){e&&(this.data=e,this.isExistingData=!0,this.identityForm.patchValue(e),this.showPatchForm=!0)}getDataExisting(){this.listExistingCosts=[],this.subs.sink=this.admissionService.getAllAdditionalCostsByScholar(this.scholarId).subscribe(e=>{e&&e.length&&(this.listExistingCosts=e.map(n=>n.additional_cost)),this.getAllAdditionalCost()},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(()=>{this.getAllAdditionalCost()})})}comparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.identityForm.value)}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}selectedWhoCall(e){this.dummyData[e].status=!this.dummyData[e].status}decimalFilter(e){let o=e.target.value+String.fromCharCode(e.charCode);o.includes(".")?/^-?\d*[.,]?\d{0,2}$/.test(o)||e.preventDefault():/^-?\d{0,6}$/.test(o)||e.preventDefault()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(c.UntypedFormBuilder),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(_t.g),t.\u0275\u0275directiveInject(J.p),t.\u0275\u0275directiveInject(P.gz),t.\u0275\u0275directiveInject(Ot.Q),t.\u0275\u0275directiveInject(T.WI),t.\u0275\u0275directiveInject(B.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-add-additional-expense-dialog"]],features:[t.\u0275\u0275ProvidersFeature([ht.n])],decls:59,vars:28,consts:[[1,"dialog-border"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],[2,"vertical-align","middle"],[1,"p-col-10","acad-title"],["class","dialogTitle",4,"ngIf"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[2,"margin-top","20px",3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding"],[1,"p-col"],["matInput","","formControlName","additional_cost","type","text",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","description"],[1,"p-col","no-padding"],[1,"p-col-6",2,"display","inline-block"],["matInput","","formControlName","amount",3,"placeholder","keypress"],["type","text","matInput","","maxlength","3",1,"form-control",3,"formControl","matAutocomplete","placeholder","keyup"],["autoCountrys","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[3,"value","click"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5,"add"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",5),t.\u0275\u0275template(7,Me,3,3,"h3",6),t.\u0275\u0275template(8,Se,3,3,"h3",6),t.\u0275\u0275element(9,"h3",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",8)(11,"button",9)(12,"mat-icon"),t.\u0275\u0275text(13,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(14,"form",10)(15,"div",11)(16,"mat-dialog-content")(17,"div",2)(18,"div",12)(19,"div",2)(20,"div",13)(21,"mat-form-field"),t.\u0275\u0275element(22,"input",14),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275template(24,Ee,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(25,"div",2)(26,"div",12)(27,"div",2)(28,"div",13)(29,"mat-form-field")(30,"mat-label"),t.\u0275\u0275text(31),t.\u0275\u0275pipe(32,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(33,"textarea",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(34,"div",2)(35,"div",12)(36,"div",2)(37,"div",17)(38,"div",18)(39,"mat-form-field")(40,"input",19),t.\u0275\u0275listener("keypress",function(o){return n.decimalFilter(o)}),t.\u0275\u0275pipe(41,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(42,Te,3,3,"mat-error",15),t.\u0275\u0275template(43,we,3,3,"mat-error",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(44,"div",18)(45,"mat-form-field")(46,"input",20),t.\u0275\u0275listener("keyup",function(){return n.filterCurrency()}),t.\u0275\u0275pipe(47,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(48,"mat-autocomplete",null,21),t.\u0275\u0275template(50,Ie,2,2,"mat-option",22),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(51,ke,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()()()()()(),t.\u0275\u0275elementStart(52,"mat-dialog-actions",23)(53,"button",24),t.\u0275\u0275text(54),t.\u0275\u0275pipe(55,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(56,"button",25),t.\u0275\u0275listener("click",function(){return n.submitVerification()}),t.\u0275\u0275text(57),t.\u0275\u0275pipe(58,"translate"),t.\u0275\u0275elementEnd()()()()),2&e){const a=t.\u0275\u0275reference(49);t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",!n.hideButton),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.hideButton),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",n.identityForm),t.\u0275\u0275advance(8),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(23,16,"INTAKE_CHANNEL.Additional expenses")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.identityForm.get("additional_cost").errors),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(32,18,"Description")),t.\u0275\u0275advance(9),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(41,20,"Amount")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.identityForm.get("amount").hasError("required")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.identityForm.get("amount").hasError("min")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(47,22,"Currency")),t.\u0275\u0275property("formControl",n.currencyFilter)("matAutocomplete",a),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",n.currencyList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.currencyFilter.hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(55,24,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(58,26,"Validate")," ")}},dependencies:[_.sg,_.O5,$.Zt,$.Bh,R.XC,R.ZL,tt.ey,L.lW,T.ZT,T.xY,T.H8,K.Hw,w.TO,w.KE,w.hX,X.Nt,c.\u0275NgNoValidate,c.DefaultValueAccessor,c.NgControlStatus,c.NgControlStatusGroup,c.MaxLengthValidator,c.FormControlDirective,c.FormGroupDirective,c.FormControlName,g.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-36px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}.name-who[_ngcontent-%COMP%]{display:inline-block;text-align:center;margin-right:0!important}.width-card[_ngcontent-%COMP%]{width:auto;display:inline-block;margin-right:10px}.card-selected[_ngcontent-%COMP%]{background-color:#fdd835}.card[_ngcontent-%COMP%]{padding-bottom:3px!important;padding:10px;vertical-align:middle;border:1px solid #252525;border-radius:4px;text-align:center;align-self:center;display:inline-block;margin-top:10px;cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-select-container{height:36px;border-left:0px!important;border-right:0px!important;border-top:0px!important;border-radius:0!important}"]}),i})();var yt=u(9962);function De(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",31),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.addProfileRateDialog())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Add Additional Expenses")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Add Additional Expenses")," "))}function Be(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",32),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.getAllDataForExportCheckbox(0))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",33),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Export")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"Export")," ")}}function Fe(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",32),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.resetTable())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",34),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"RESET")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"RESET")," ")}}function Ae(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",23)(1,"div",24)(2,"div",25)(3,"button",26),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"mat-menu",27,28),t.\u0275\u0275template(11,De,4,6,"button",29),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,Be,5,7,"button",30),t.\u0275\u0275template(13,Fe,5,7,"button",30),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275reference(10),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(4,7,"Action")," "),t.\u0275\u0275property("disabled",n.isWaitingForResponse)("matMenuTriggerFor",e),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,9,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",n.permission.addNewAddtionalCostPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.exportAddtionalCostPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.resetAddtionalExpensePerm())}}function Ne(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",35)(1,"mat-checkbox",36),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?o.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.showOptions("all",""))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function Re(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",37)(1,"mat-checkbox",38),t.\u0275\u0275listener("click",function(a){return a.stopPropagation()})("change",function(a){const l=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?d.selection.toggle(l._id):null)})("change",function(){const o=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.showOptions("one",o))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(e._id)||n.isCheckedAll&&!n.dataUnselectUser.includes(null==e?null:e._id))("aria-label",n.checkboxLabel(e))}}function Le(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",39),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Additional expenses")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Additional expenses")))}function Ve(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",40),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.additional_cost),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.additional_cost," ")}}function Ue(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",39),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Description")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Description")))}function qe(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",40),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.description),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.description," ")}}function Ge(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",39),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Amount")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Amount")))}function Ke(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",40),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate2("matTooltip","",null==e?null:e.amount," ",null!=e&&e.currency?" - "+(null==e?null:e.currency):"",""),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",null==e?null:e.amount," ",null!=e&&e.currency?" - "+(null==e?null:e.currency):""," ")}}function je(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",39),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function He(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",43),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.editProfileRateDialog(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Edit")),t.\u0275\u0275property("disabled",(null==e.selection||null==e.selection.selected?null:e.selection.selected.length)>1)}}function We(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",43),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.deleteProfileRate(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("disabled",(null==e.selection||null==e.selection.selected?null:e.selection.selected.length)>1)}}function $e(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",41),t.\u0275\u0275template(1,He,4,4,"button",42),t.\u0275\u0275template(2,We,4,4,"button",42),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.editAddtionalCostPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.deleteAddtionalCostPerm())}}function ze(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",44)(1,"div",45),t.\u0275\u0275element(2,"mat-spinner",46),t.\u0275\u0275elementEnd()())}function Ye(i,r){1&i&&t.\u0275\u0275element(0,"tr",47)}function Qe(i,r){1&i&&t.\u0275\u0275element(0,"tr",47)}function Xe(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",48),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function Ze(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",49),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function Je(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",50),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No record of Additional Costs")," "))}function tn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",51),t.\u0275\u0275element(1,"mat-spinner",52),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}const en=function(){return["reset"]},nn=function(){return["loading"]},an=function(i){return{hide:i}},on=function(i){return{"hide-pagination-buttons":i}},rn=function(){return[10]};let ln=(()=>{class i{constructor(e,n,a,o,l,d,p,f,h){this.dialog=e,this.intakeChannelService=n,this.translateService=a,this.pageTitleService=o,this.exportCsvService=l,this.utilityService=d,this.permission=p,this.authService=f,this.httpClient=h,this.dataSource=new x.by([]),this.selection=new rt.Ov(!0,[]),this.userSelected=[],this.userSelectedId=[],this.displayedColumns=["select","additionalCosts","description","amount","action"],this.filteredValues={additional_cost:"",description:"",amount:null,scholar_season_id:""},this.allInternshipId=[],this.isReset=!1,this.dataLoaded=!1,this.sortValue=null,this.isWaitingForResponse=!1,this.isLoading=!1,this.dataCount=0,this.subs=new I.Y,this.additionalCostsFilter=new c.UntypedFormControl(""),this.amountFilter=new c.UntypedFormControl(""),this.descriptionFilter=new c.UntypedFormControl(""),this.isCheckedAll=!1,this.disabledExport=!0,this.dataSelected=[],this.dataSelectedId=[],this.allStudentForCheckbox=[],this.pageSelected=[],this.dataUnselectUser=[],this.allExportForCheckbox=[]}ngOnInit(){this.initFilter(),this.getAdditionalCostsData(),this.pageTitleService.setTitle(this.translateService.instant("INTAKE_CHANNEL.PAGE_TITLE.Settings")+" - "+this.translateService.instant("Additional expenses")),this.subs.sink=this.translateService.onLangChange.subscribe(o=>{this.pageTitleService.setTitle(this.translateService.instant("INTAKE_CHANNEL.PAGE_TITLE.Settings")+" - "+this.translateService.instant("Additional expenses"))}),this.dataUnselectUser=[],this.allExportForCheckbox=[];const e=this.authService.getLocalStorageUser(),n=this.authService.getPermission(),a=e?.entities?.find(o=>o?.type?.name===n[0]);this.currentUserTypeId=a?.type?._id}ngOnDestroy(){this.subs.unsubscribe()}getAdditionalCostsData(){this.isWaitingForResponse=!0;const e={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},n=this.cleanFilterData();this.subs.sink=this.intakeChannelService.GetAllAdditionalCosts(e,this.sortValue,n).subscribe(a=>{a&&a.length?(this.dataSource.data=a,this.paginator.length=a[0].count_document,this.dataCount=a[0].count_document):(this.dataSource.data=[],this.paginator.length=0,this.dataCount=0),this.noData=this.dataSource.connect().pipe((0,k.U)(o=>0===o.length)),this.isReset=!1,this.isWaitingForResponse=!1},a=>{this.authService.postErrorLog(a),this.isReset=!1,this.isWaitingForResponse=!1,this.dataSource.data=[],this.paginator.length=0,this.dataCount=0,a&&a.message&&a.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:a&&a.message?this.translateService.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translateService.instant("OK")})})}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,N.O)(null),(0,W.b)(()=>{this.isReset||this.getAdditionalCostsData(),this.dataLoaded=!0})).subscribe()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getAdditionalCostsData())}resetTable(){this.isReset=!0,this.isCheckedAll=!1,this.selection.clear(),this.dataSelected=[],this.dataSelectedId=[],this.dataUnselectUser=[],this.allExportForCheckbox=[],this.selectType="",this.paginator.pageIndex=0,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sort.direction="",this.sort.active="",this.sortValue=null,this.filteredValues={additional_cost:"",description:"",amount:null,scholar_season_id:this.scholarId},this.additionalCostsFilter.setValue(null),this.descriptionFilter.setValue(null),this.amountFilter.setValue(null),this.getAdditionalCostsData()}cleanFilterData(){const e=m.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(a=>{(e[a]||!1===e[a])&&(n+="amount"===a?` ${a}:${e[a]}`:` ${a}:"${e[a]}"`)}),"filter: {"+n+"}"}cleanFilterDataCSV(){const e=m.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(a=>{(e[a]||!1===e[a])&&(n=n?n+`,"${a}":"${e[a]}"`:n+`"${a}":"${e[a]}"`)}),"filter={"+n+"}"}initFilter(){this.subs.sink=this.additionalCostsFilter.valueChanges.pipe((0,it.b)(400)).subscribe(e=>{null===e||e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?null!==e&&(this.additionalCostsFilter.setValue(null),this.filteredValues.additional_cost="",this.paginator.pageIndex=0,this.isReset||this.getAdditionalCostsData()):(""===e&&(this.additionalCostsFilter.setValue(null),this.filteredValues.additional_cost="",this.paginator.pageIndex=0,this.isReset||this.getAdditionalCostsData()),this.filteredValues.additional_cost=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getAdditionalCostsData())}),this.subs.sink=this.descriptionFilter.valueChanges.pipe((0,it.b)(400)).subscribe(e=>{null===e||e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?null!==e&&(this.descriptionFilter.setValue(null),this.filteredValues.description="",this.paginator.pageIndex=0,this.isReset||this.getAdditionalCostsData()):(""===e&&(this.descriptionFilter.setValue(null),this.filteredValues.description="",this.paginator.pageIndex=0,this.isReset||this.getAdditionalCostsData()),this.filteredValues.description=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getAdditionalCostsData())}),this.subs.sink=this.amountFilter.valueChanges.pipe((0,it.b)(400)).subscribe(e=>{null===e||e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?null!==e&&(this.amountFilter.setValue(null),this.filteredValues.amount=null,this.paginator.pageIndex=0,this.isReset||this.getAdditionalCostsData()):(""===e&&(this.amountFilter.setValue(null),this.filteredValues.amount=null,this.paginator.pageIndex=0,this.isReset||this.getAdditionalCostsData()),this.filteredValues.amount=e?parseInt(e):"",this.paginator.pageIndex=0,this.isReset||this.getAdditionalCostsData())})}renderTooltipEntity(e){let n="",a=0;if(e&&e.length)for(const o of e)a++,a>1?o.name&&(n+=", ",n+=o.name):o.name&&(n+=o.name);return n}addProfileRateDialog(){this.subs.sink=this.dialog.open(vt,{width:"750px",minHeight:"100px",disableClose:!0}).afterClosed().subscribe(e=>{e&&this.getAdditionalCostsData()})}editProfileRateDialog(e){this.subs.sink=this.dialog.open(vt,{width:"750px",minHeight:"100px",disableClose:!0,data:e}).afterClosed().subscribe(n=>{n&&this.getAdditionalCostsData()})}deleteProfileRate(e){let n=3;s().fire({title:this.translateService.instant("Additional_S1.Title"),html:this.translateService.instant("Additional_S1.Text",{name:e.additional_cost?e.additional_cost:""}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translateService.instant("Additional_S1.Button1",{timer:n}),cancelButtonText:this.translateService.instant("Additional_S1.Button2"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{s().disableConfirmButton();const a=s().getConfirmButton(),o=setInterval(()=>{n-=1,a.innerText=this.translateService.instant("Additional_S1.Button1")+` (${n})`},1e3);this.timeOutVal=setTimeout(()=>{a.innerText=this.translateService.instant("Additional_S1.Button1"),s().enableConfirmButton(),clearInterval(o),clearTimeout(this.timeOutVal)},1e3*n)}}).then(a=>{clearTimeout(this.timeOutVal),a.value&&(this.subs.sink=this.intakeChannelService.DeleteAdditionalCost(e._id).subscribe(o=>{s().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getAdditionalCostsData()})},o=>{this.authService.postErrorLog(o),"GraphQL error: Cannot delete additional cost, additional cost already connected to program"===o.message?s().fire({type:"info",title:this.translateService.instant("Additional_S1a.Title"),html:this.translateService.instant("Additional_S1a.Text"),confirmButtonText:this.translateService.instant("Additional_S1a.Button1")}):"GraphQL error: Cannot delete additional cost, additional cost already connected to candidate"===o.message?s().fire({type:"info",title:this.translateService.instant("Additional_S1b.Title"),html:this.translateService.instant("Additional_S1b.Text"),confirmButtonText:this.translateService.instant("Additional_S1b.Button1")}):o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})}))})}onDataExport(){if("one"===this.selectType){const e=[];if(this.selection.selected.length){for(const p of this.selection.selected){const f=[];f[0]=p.additional_cost,f[1]=p.description,f[2]=p.amount+(p.currency?" - "+p.currency:""),e.push(f)}const n={values:e},a=q().format("DD-MM-YYYY");this.exportCsvService.createAndUpdateSpreadsheet(n,this.exportName+"_"+a,{spreadsheetId:"12xGfxeY6-rEH_EI7ylSx_fvIZILV7BTZ81LgT-wsMh4",sheetId:"en"===this.translateService.currentLang?0:1745465488,range:"A7"})}s().close()}else this.getAllExportData(0)}getAllExportData(e){this.isLoading=!0;const n={limit:500,page:e},a=this.cleanFilterData();this.subs.sink=this.intakeChannelService.GetAllAdditionalCosts(n,this.sortValue,a).subscribe(o=>{o&&o.length?(this.allInternshipId.push(...o),this.getAllExportData(e+1)):(this.isLoading=!1,this.exportAllData(this.allInternshipId))},o=>{this.authService.postErrorLog(o),this.isLoading=!1,o&&o.message&&o.message.includes("Network error: Http failure response for")&&s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}),s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})})}exportAllData(e){const n=m.uniqBy(e,"_id"),a=[];if(n&&n.length){for(const h of n){const C=[];C[0]=h.additional_cost,C[1]=h.description,C[2]=h.amount+(h.currency?" - "+h.currency:""),a.push(C)}const o={values:a},l=q().format("DD-MM-YYYY");this.exportCsvService.createAndUpdateSpreadsheet(o,this.exportName+"_"+l,{spreadsheetId:"12xGfxeY6-rEH_EI7ylSx_fvIZILV7BTZ81LgT-wsMh4",sheetId:"en"===this.translateService.currentLang?0:1745465488,range:"A7"})}s().close()}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){const e=this.selection.selected.length,n=this.dataSource.data.length;return e===n||e>n}masterToggle(){this.isAllSelected()||this.isCheckedAll&&this.dataUnselectUser&&this.dataUnselectUser.length?(this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.isCheckedAll=!1,this.dataUnselectUser=[],this.allExportForCheckbox=[]):(this.selection.clear(),this.dataSelected=[],this.allStudentForCheckbox=[],this.isCheckedAll=!0,this.dataUnselectUser=[],this.allExportForCheckbox=[],this.dataSource.data.forEach(e=>{this.dataUnselectUser.includes(e._id)||this.selection.select(e._id)}))}getDataAllForCheckbox(e){const n={limit:300,page:e},a=this.cleanFilterData();this.isWaitingForResponse=!0,this.subs.sink=this.intakeChannelService.GetAllAdditionalCosts(n,this.sortValue,a).subscribe(o=>{o&&o.length?(this.allStudentForCheckbox.push(...o),this.getDataAllForCheckbox(e+1)):(this.isWaitingForResponse=!1,this.isCheckedAll?(this.allStudentForCheckbox&&this.allStudentForCheckbox.length&&this.allStudentForCheckbox.forEach(l=>{this.selection.select(l._id),this.dataSelected.push(l)}),this.pageSelected.push(this.paginator.pageIndex)):this.pageSelected=[])},o=>{this.authService.postErrorLog(o),this.isReset=!1,this.isWaitingForResponse=!1,o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})})}showOptions(e,n){if(this.isCheckedAll){if(n)if(this.dataUnselectUser.includes(n._id)){const l=this.dataUnselectUser.findIndex(d=>d===n._id);this.dataUnselectUser.splice(l,1),this.selection.select(n._id)}else this.dataUnselectUser.push(n._id),this.selection.deselect(n._id)}else if(n)if(this.dataSelected&&this.dataSelected.length){const l=this.dataSelected.filter(d=>d._id===n._id);if(l&&l.length<1)this.dataSelected.push(n);else{const d=this.dataSelected.findIndex(p=>p._id===n._id);this.dataSelected.splice(d,1)}}else this.dataSelected.push(n);this.disabledExport=!(this.dataSelected.length>0),this.dataSelectedId=[],this.selectType=e,(this.dataSelected&&this.dataSelected.length?this.dataSelected:this.selection.selected).forEach(l=>{this.dataSelectedId.push(l._id)})}getAllDataForExportCheckbox(e){if(this.isCheckedAll)if(this.dataUnselectUser.length<1)this.downloadCSV();else{0===e&&(this.allExportForCheckbox=[],this.dataSelected=[]);const n={limit:500,page:e},a=this.cleanFilterData();this.isLoading=!0,this.subs.sink=this.intakeChannelService.GetAllAdditionalCostsId(n,this.sortValue,a).subscribe(o=>{o&&o.length?(this.allExportForCheckbox.push(...o),this.getAllDataForExportCheckbox(e+1)):(this.isLoading=!1,this.isCheckedAll&&this.allExportForCheckbox&&this.allExportForCheckbox.length&&(this.dataSelected=this.allExportForCheckbox.filter(l=>!this.dataUnselectUser.includes(l._id)),this.dataSelected=m.uniqBy(this.dataSelected,"_id"),this.downloadCSV()))},o=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(o),o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})})}else this.downloadCSV()}downloadCSV(){if(this.dataSelected.length||!(!this.isCheckedAll||this.isCheckedAll&&this.dataUnselectUser.length)){const e={",":this.translateService.instant("IMPORT_DECISION_S1.COMMA"),";":this.translateService.instant("IMPORT_DECISION_S1.SEMICOLON"),tab:this.translateService.instant("IMPORT_DECISION_S1.TAB")};s().fire({type:"question",title:this.translateService.instant("IMPORT_DECISION_S1.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translateService.instant("IMPORT_DECISION_S1.CANCEL"),confirmButtonText:this.translateService.instant("IMPORT_DECISION_S1.OK"),input:"radio",inputOptions:e,inputValue:this.translateService&&"fr"===this.translateService.currentLang?";":"",inputValidator:n=>new Promise((a,o)=>{n?(a(""),s().enableConfirmButton()):(s().disableConfirmButton(),o(this.translateService.instant("IMPORT_DECISION_S1.INVALID")))}),onOpen:function(){s().disableConfirmButton(),s().getContent().addEventListener("click",function(o){s().enableConfirmButton()}),";"===s().getInput().getAttribute("value")&&s().enableConfirmButton()}}).then(n=>{n.value&&this.openDownloadCsv(n.value)})}else s().fire({type:"info",title:this.translateService.instant("Followup_S8.Title"),html:this.translateService.instant("Followup_S8.Text",{menu:this.translateService.instant("ADMISSION_PAYMENT.Additional cost")}),confirmButtonText:this.translateService.instant("Followup_S8.Button")})}openDownloadCsv(e){let n=st.N.apiUrl;n=n.replace("graphql",""),document.createElement("a");const o=this.translateService.currentLang.toLowerCase();let d;d=this.dataSelected.length&&(!this.isCheckedAll||this.dataUnselectUser.length&&this.isCheckedAll&&this.dataSelected.length)?'filter={"additional_cost_ids": ['+[...new Set(this.dataSelected.map(C=>'"'+C._id+'"'))].toString()+"] }":this.cleanFilterDataCSV();const p=n+"downloadAdditionalCost/"+e+"/"+o+"?"+d+`&user_type_id="${this.currentUserTypeId}"`;console.log("fullURL",p);const f={headers:new nt.WM({Authorization:JSON.parse(localStorage.getItem("admtc-token-encryption"))})};this.isLoading=!0,this.httpClient.get(`${encodeURI(p)}`,f).subscribe(h=>{h?(this.isLoading=!1,s().fire({type:"success",title:this.translateService.instant("ReAdmission_S3.TITLE"),text:this.translateService.instant("ReAdmission_S3.TEXT"),confirmButtonText:this.translateService.instant("ReAdmission_S3.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>this.clearSelectIfFilter())):this.isLoading=!1},h=>{this.isLoading=!1,console.log("uat 389 error",h)})}clearSelectIfFilter(){this.selection.clear(),this.isCheckedAll=!1,this.dataSelected=[],this.dataUnselectUser=[],this.allExportForCheckbox=[]}getAllIdForCheckbox(e){if(this.isCheckedAll)if(this.dataUnselectUser.length<1)this.downloadCSV();else{0===e&&(this.allExportForCheckbox=[],this.dataSelected=[]);const n={limit:500,page:e},a=this.cleanFilterData();this.isWaitingForResponse=!0,this.subs.sink=this.intakeChannelService.GetAllAdditionalExpensesIntakeChannelIdCheckbox(n,this.sortValue,a).subscribe(o=>{if(o&&o.length){const l=m.cloneDeep(o);this.allExportForCheckbox=m.concat(this.allExportForCheckbox,l),this.getAllIdForCheckbox(e+1)}else this.isWaitingForResponse=!1,this.isCheckedAll&&this.allExportForCheckbox&&this.allExportForCheckbox.length&&(this.dataSelected=this.allExportForCheckbox.filter(l=>!this.dataUnselectUser.includes(l._id)),this.dataSelected=m.uniqBy(this.dataSelected,"_id"),this.dataSelected&&this.dataSelected.length&&this.downloadCSV())},o=>{console.log("error download csv"),console.log(o),this.isReset=!1,this.isLoading=!1,s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})})}else this.downloadCSV()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(J.p),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(O.Z),t.\u0275\u0275directiveInject(yt.J),t.\u0275\u0275directiveInject(Y.t),t.\u0275\u0275directiveInject(y.$),t.\u0275\u0275directiveInject(B.e),t.\u0275\u0275directiveInject(nt.eN))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-additional-expense"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(F.NW,7),t.\u0275\u0275viewQuery(D.YE,7)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.sort=a.first)}},decls:31,vars:23,consts:[[1,"top-space"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","7","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","select",1,"mat-column-select"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","additionalCosts"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","amount"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","7","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["class","inner-loading-indicator",4,"ngIf"],["mat-header-cell","","colspan","7",1,"action-header-column","text-right"],[1,"p-grid"],[1,"p-col-12","text-right"],["mat-raised-button","","color","accent",3,"matTooltip","disabled","matMenuTriggerFor"],[1,"action-dropdown-button-above-table"],["action","matMenu"],["mat-menu-item","",3,"matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"matTooltip","disabled","click",4,"ngIf"],["mat-menu-item","",3,"matTooltip","click"],["mat-raised-button","","color","primary",3,"matTooltip","disabled","click"],["svgIcon","file-excel",1,"mat-icon-svgIcon"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell","",1,"text-center"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"text-center"],[3,"checked","aria-label","click","change"],["mat-header-cell","",3,"matTooltip"],["mat-cell","",3,"matTooltip"],["mat-cell",""],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","disabled","click"],["mat-header-cell","","colspan","7",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"table",1),t.\u0275\u0275listener("matSortChange",function(o){return n.sortData(o)}),t.\u0275\u0275elementContainerStart(2,2),t.\u0275\u0275template(3,Ae,14,11,"th",3),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(4,4),t.\u0275\u0275template(5,Ne,2,3,"th",5),t.\u0275\u0275template(6,Re,2,2,"td",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(7,7),t.\u0275\u0275template(8,Le,5,6,"th",8),t.\u0275\u0275template(9,Ve,2,2,"td",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,10),t.\u0275\u0275template(11,Ue,5,6,"th",8),t.\u0275\u0275template(12,qe,2,2,"td",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(13,11),t.\u0275\u0275template(14,Ge,5,6,"th",8),t.\u0275\u0275template(15,Ke,2,4,"td",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,12),t.\u0275\u0275template(17,je,5,6,"th",8),t.\u0275\u0275template(18,$e,3,2,"td",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(19,14),t.\u0275\u0275template(20,ze,3,0,"th",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(21,Ye,1,0,"tr",16),t.\u0275\u0275template(22,Qe,1,0,"tr",16),t.\u0275\u0275template(23,Xe,1,1,"tr",17),t.\u0275\u0275template(24,Ze,1,1,"tr",18),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(25,Je,3,3,"div",19),t.\u0275\u0275pipe(26,"async"),t.\u0275\u0275elementStart(27,"div",20),t.\u0275\u0275pipe(28,"async"),t.\u0275\u0275element(29,"mat-paginator",21),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(30,tn,2,1,"div",22)),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(20),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(16,en)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(17,nn)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(26,12,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,an,t.\u0275\u0275pipeBind1(28,14,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(20,on,n.dataCount<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(22,rn)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isLoading))},dependencies:[_.mk,_.O5,L.lW,dt.oG,K.Hw,U.VK,U.OP,U.p6,F.NW,M.Ou,D.YE,x.BZ,x.fO,x.as,x.w1,x.Dz,x.nj,x.ge,x.ev,x.XQ,x.Gk,et.gM,j.oO,_.Ov,g.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.pad-top-miss[_ngcontent-%COMP%]{padding-top:1.8px!important}.form-field[_ngcontent-%COMP%]{margin-top:.5px}.tag-container[_ngcontent-%COMP%]{white-space:normal;text-align:left!important;line-height:2.3;overflow-wrap:break-word}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454;text-align:center}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:3%;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(1) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(1) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:15%;padding-left:.5rem!important;text-align:left}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:30%;padding-left:.5rem!important;text-align:left}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:30%;text-align:left;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(4) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:5%;min-width:90px;max-width:90px;padding-right:0!important;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top;text-align:center!important}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.school-backdrop[_ngcontent-%COMP%] + .cdk-overlay-pane[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:visible}.mat-column-select[_ngcontent-%COMP%]{overflow:initial}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.pc-section[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:5px;display:inline-block}.cr-section[_ngcontent-%COMP%]{width:50%;text-align:left;display:inline-block}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}  .action-dropdown-button-above-table{min-height:auto}"]}),i})();var gt=u(50777),sn=u(58840),dn=u(96334),Q=u(71948),lt=u(88796);function cn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"h3",12),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Add Legal entity")," "))}function pn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"h3",12),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Edit Legal entity")," "))}function mn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",2)(1,"div",13)(2,"button",14),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.openSelectExisting())}),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",15),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",16)(9,"button",14),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.openForm())}),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()()()}2&i&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,3,"Select existing legal entity")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(7,5,"OR")," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(11,7,"Create new legal entity")," "))}function hn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",17)(1,"ng-select",18),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selectedLegalEntity(a))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(2,5,"Select legal entity")),t.\u0275\u0275property("items",e.listLegalEntity)("hideSelected",!0)("appendTo","body")("formControl",e.listLegalEntityCtrl)}}function gn(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-radio-button",83),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"Neutral")))}function un(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-radio-button",83),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"Neutral")))}function _n(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function fn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function bn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function Cn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function yn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function xn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function On(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function vn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function Pn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function Mn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",19)(1,"div",20)(2,"mat-dialog-content")(3,"div",2)(4,"div",21)(5,"div",2)(6,"div",22)(7,"label"),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",23)(11,"mat-form-field",24),t.\u0275\u0275element(12,"input",25),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(14,"div",2)(15,"div",22)(16,"label"),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(19,"div",23)(20,"mat-form-field",24),t.\u0275\u0275element(21,"input",26),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(23,"div",2)(24,"div",22)(25,"label"),t.\u0275\u0275text(26),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(28,"div",23)(29,"mat-form-field",24),t.\u0275\u0275element(30,"input",27),t.\u0275\u0275pipe(31,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(32,"div",28)(33,"div",22)(34,"label"),t.\u0275\u0275text(35),t.\u0275\u0275pipe(36,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(37,"div",29)(38,"mat-radio-group",30)(39,"mat-radio-button",31),t.\u0275\u0275text(40),t.\u0275\u0275pipe(41,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(42,"mat-radio-button",32),t.\u0275\u0275text(43),t.\u0275\u0275pipe(44,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(45,gn,4,3,"ng-container",33),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(46,"div",34)(47,"mat-form-field",24),t.\u0275\u0275element(48,"input",35),t.\u0275\u0275pipe(49,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(50,"div",34)(51,"mat-form-field",24),t.\u0275\u0275element(52,"input",36),t.\u0275\u0275pipe(53,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(54,"div",23)(55,"mat-form-field",24),t.\u0275\u0275element(56,"input",37),t.\u0275\u0275pipe(57,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(58,"div",38)(59,"div",22)(60,"label"),t.\u0275\u0275text(61),t.\u0275\u0275pipe(62,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(63,"div",29)(64,"mat-radio-group",30)(65,"mat-radio-button",31),t.\u0275\u0275text(66),t.\u0275\u0275pipe(67,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(68,"mat-radio-button",32),t.\u0275\u0275text(69),t.\u0275\u0275pipe(70,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(71,un,4,3,"ng-container",33),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(72,"div",34)(73,"mat-form-field",24),t.\u0275\u0275element(74,"input",35),t.\u0275\u0275pipe(75,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(76,"div",34)(77,"mat-form-field",24),t.\u0275\u0275element(78,"input",36),t.\u0275\u0275pipe(79,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(80,"div",23)(81,"mat-form-field",24),t.\u0275\u0275element(82,"input",37),t.\u0275\u0275pipe(83,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275element(84,"hr",39),t.\u0275\u0275elementStart(85,"div",40)(86,"div",21)(87,"div",2)(88,"div",22)(89,"label"),t.\u0275\u0275text(90),t.\u0275\u0275pipe(91,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(92,"div",23),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(93,"div",2)(94,"div",41)(95,"div",2)(96,"div",42)(97,"label"),t.\u0275\u0275text(98),t.\u0275\u0275pipe(99,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(100,"div",43)(101,"mat-form-field",24),t.\u0275\u0275element(102,"input",44),t.\u0275\u0275pipe(103,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(104,"div",45)(105,"div",2)(106,"div",42)(107,"label"),t.\u0275\u0275text(108),t.\u0275\u0275pipe(109,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(110,"div",23)(111,"mat-form-field",24),t.\u0275\u0275element(112,"input",46),t.\u0275\u0275pipe(113,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(114,"div",2)(115,"div",41)(116,"div",2)(117,"div",42)(118,"label"),t.\u0275\u0275text(119),t.\u0275\u0275pipe(120,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(121,"div",43)(122,"mat-form-field",24)(123,"input",47),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.getPostcodeHeadquartersData())}),t.\u0275\u0275pipe(124,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(125,"div",41)(126,"div",2)(127,"div",42)(128,"label"),t.\u0275\u0275text(129),t.\u0275\u0275pipe(130,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(131,"div",43)(132,"mat-form-field",48)(133,"input",49),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterCountryHeadquarters())}),t.\u0275\u0275pipe(134,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(135,"mat-autocomplete",50,51),t.\u0275\u0275listener("optionSelected",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.getPostcodeHeadquartersData())}),t.\u0275\u0275template(137,_n,2,2,"mat-option",52),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275element(138,"div",41),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(139,"div",2)(140,"div",41)(141,"div",2)(142,"div",42)(143,"label"),t.\u0275\u0275text(144),t.\u0275\u0275pipe(145,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(146,"div",43)(147,"mat-form-field",53)(148,"input",54),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterCityHeadquarters())}),t.\u0275\u0275pipe(149,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(150,"mat-autocomplete",null,55),t.\u0275\u0275template(152,fn,2,2,"mat-option",52),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(153,"div",41)(154,"div",2)(155,"div",42)(156,"label"),t.\u0275\u0275text(157),t.\u0275\u0275pipe(158,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(159,"div",43)(160,"mat-form-field",53)(161,"input",56),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterDepartmentHeadquarters())}),t.\u0275\u0275pipe(162,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(163,"mat-autocomplete",null,57),t.\u0275\u0275template(165,bn,2,2,"mat-option",52),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(166,"div",41)(167,"div",2)(168,"div",58)(169,"label"),t.\u0275\u0275text(170),t.\u0275\u0275pipe(171,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(172,"div",23)(173,"mat-form-field",53)(174,"input",59),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterRegionHeadquarters())}),t.\u0275\u0275pipe(175,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(176,"mat-autocomplete",null,60),t.\u0275\u0275template(178,Cn,2,2,"mat-option",52),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275element(179,"hr",39),t.\u0275\u0275elementStart(180,"div",61)(181,"div",21)(182,"div",2)(183,"div",42)(184,"label"),t.\u0275\u0275text(185),t.\u0275\u0275pipe(186,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(187,"div",23)(188,"mat-form-field",48)(189,"input",62),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterBank())}),t.\u0275\u0275pipe(190,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(191,"mat-autocomplete",null,63),t.\u0275\u0275template(193,yn,2,2,"mat-option",52),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(194,"div",2)(195,"div",42)(196,"label"),t.\u0275\u0275text(197),t.\u0275\u0275pipe(198,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(199,"div",23)(200,"mat-form-field",24),t.\u0275\u0275element(201,"input",64),t.\u0275\u0275pipe(202,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(203,"div",2)(204,"div",42)(205,"label"),t.\u0275\u0275text(206),t.\u0275\u0275pipe(207,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(208,"div",23)(209,"mat-form-field",24),t.\u0275\u0275element(210,"input",65),t.\u0275\u0275pipe(211,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(212,"div",2)(213,"div",42)(214,"label"),t.\u0275\u0275text(215),t.\u0275\u0275pipe(216,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(217,"div",23)(218,"mat-form-field",24),t.\u0275\u0275element(219,"input",66),t.\u0275\u0275pipe(220,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(221,"div",2)(222,"div",41)(223,"div",2)(224,"div",42)(225,"label"),t.\u0275\u0275text(226),t.\u0275\u0275pipe(227,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(228,"div",43)(229,"mat-form-field",24)(230,"input",67),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.getPostcodeBankData())}),t.\u0275\u0275pipe(231,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(232,"div",41)(233,"div",2)(234,"div",42)(235,"label"),t.\u0275\u0275text(236),t.\u0275\u0275pipe(237,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(238,"div",43)(239,"mat-form-field",48)(240,"input",68),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterCountryBank())}),t.\u0275\u0275pipe(241,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(242,"mat-autocomplete",50,69),t.\u0275\u0275listener("optionSelected",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.getPostcodeBankData())}),t.\u0275\u0275template(244,xn,2,2,"mat-option",52),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275element(245,"div",41),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(246,"div",2)(247,"div",41)(248,"div",2)(249,"div",42)(250,"label"),t.\u0275\u0275text(251),t.\u0275\u0275pipe(252,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(253,"div",43)(254,"mat-form-field",53)(255,"input",70),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterCityBank())}),t.\u0275\u0275pipe(256,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(257,"mat-autocomplete",null,71),t.\u0275\u0275template(259,On,2,2,"mat-option",52),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(260,"div",41)(261,"div",2)(262,"div",42)(263,"label"),t.\u0275\u0275text(264),t.\u0275\u0275pipe(265,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(266,"div",43)(267,"mat-form-field",53)(268,"input",72),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterDepartmentBank())}),t.\u0275\u0275pipe(269,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(270,"mat-autocomplete",null,73),t.\u0275\u0275template(272,vn,2,2,"mat-option",52),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(273,"div",41)(274,"div",2)(275,"div",58)(276,"label"),t.\u0275\u0275text(277),t.\u0275\u0275pipe(278,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(279,"div",23)(280,"mat-form-field",53)(281,"input",74),t.\u0275\u0275listener("keyup",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterRegionBank())}),t.\u0275\u0275pipe(282,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(283,"mat-autocomplete",null,75),t.\u0275\u0275template(285,Pn,2,2,"mat-option",52),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275element(286,"hr",39),t.\u0275\u0275elementStart(287,"div",2)(288,"div",21)(289,"div",2)(290,"div",76)(291,"label"),t.\u0275\u0275text(292),t.\u0275\u0275pipe(293,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(294,"div",23)(295,"mat-form-field",24),t.\u0275\u0275element(296,"input",77),t.\u0275\u0275pipe(297,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(298,"div",2)(299,"div",76)(300,"label"),t.\u0275\u0275text(301),t.\u0275\u0275pipe(302,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(303,"div",23)(304,"mat-form-field",24),t.\u0275\u0275element(305,"input",78),t.\u0275\u0275pipe(306,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(307,"div",2)(308,"div",76)(309,"label"),t.\u0275\u0275text(310),t.\u0275\u0275pipe(311,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(312,"div",23)(313,"mat-form-field",24),t.\u0275\u0275element(314,"input",79),t.\u0275\u0275pipe(315,"translate"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(316,"mat-dialog-actions",80)(317,"button",81),t.\u0275\u0275text(318),t.\u0275\u0275pipe(319,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(320,"button",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.submitVerification())}),t.\u0275\u0275text(321),t.\u0275\u0275pipe(322,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275reference(136),n=t.\u0275\u0275reference(151),a=t.\u0275\u0275reference(164),o=t.\u0275\u0275reference(177),l=t.\u0275\u0275reference(192),d=t.\u0275\u0275reference(243),p=t.\u0275\u0275reference(258),f=t.\u0275\u0275reference(271),h=t.\u0275\u0275reference(284),C=t.\u0275\u0275nextContext();t.\u0275\u0275property("formGroup",C.identityForm),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(9,81,"Legal entity"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(13,83,"Legal entity")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(18,85,"Immatriculation"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(22,87,"Immatriculation")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(27,89,"SIRET"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(31,91,"SIRET")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(36,93,"Legal Representative"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(41,95,"CARDDETAIL.MR")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(44,97,"CARDDETAIL.MRS")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==C.coreService?null:C.coreService.neutralCivility),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(49,99,"First Name")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(53,101,"Last Name")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(57,103,"Email")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(62,105,"Financial Representative"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(67,107,"CARDDETAIL.MR")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(70,109,"CARDDETAIL.MRS")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==C.coreService?null:C.coreService.neutralCivility),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(75,111,"First Name")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(79,113,"Last Name")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(83,115,"Email")),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(91,117,"Headquarters"),"*"),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(99,119,"Number"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(103,121,"Number")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(109,123,"Street"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(113,125,"Street")),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(120,127,"Postal Code"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(124,129,"Postal Code")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(130,131,"Country"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(134,133,"CARDDETAIL.Country")),t.\u0275\u0275property("matAutocomplete",e),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",C.filteredCountry),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(145,135,"City"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(149,137,"CARDDETAIL.City")),t.\u0275\u0275property("matAutocomplete",n),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",C.filteredCities),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(158,139,"Department"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(162,141,"CARDDETAIL.Department")),t.\u0275\u0275property("matAutocomplete",a),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",C.filteredDepartments),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(171,143,"Region"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(175,145,"CARDDETAIL.Region")),t.\u0275\u0275property("matAutocomplete",o),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",C.filteredRegions),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(186,147,"Bank"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(190,149,"Bank")),t.\u0275\u0275property("matAutocomplete",l),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",C.filteredBank),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(198,151,"IBAN"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(202,153,"IBAN")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(207,155,"BIC"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(211,157,"BIC")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(216,159,"Address"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(220,161,"Address")),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(227,163,"Postal Code"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(231,165,"Postal Code")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(237,167,"Country"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(241,169,"CARDDETAIL.Country")),t.\u0275\u0275property("matAutocomplete",d),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",C.filteredCountryBank),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(252,171,"City"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(256,173,"CARDDETAIL.City")),t.\u0275\u0275property("matAutocomplete",p),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",C.filteredCitiesBank),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(265,175,"Department"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(269,177,"CARDDETAIL.Department")),t.\u0275\u0275property("matAutocomplete",f),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",C.filteredDepartmentsBank),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(278,179,"Region"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(282,181,"CARDDETAIL.Region")),t.\u0275\u0275property("matAutocomplete",h),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",C.filteredRegionsBank),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(293,183,"URSSAF Number"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(297,185,"URSSAF Number")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(302,187,"City"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(306,189,"City")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(311,191,"TVA Number"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(315,193,"TVA Number")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(319,195,"CANCEL")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",C.identityForm.invalid),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(322,197,"Validate")," ")}}const Sn=function(i){return{right:i}};let En=(()=>{class i{constructor(e,n,a,o,l,d,p,f,h,C,v,S,A){this.dialogRef=e,this.fb=n,this.translate=a,this.parseStringDatePipe=o,this.acadJourneyService=l,this.financeService=d,this.cdr=p,this.rncpTitleService=f,this.schoolService=h,this.router=C,this.coreService=v,this.authService=S,this.data=A,this.subs=new I.Y,this.isMainAddressSelected=!1,this.isWaitingForResponse=!1,this.nationalitiesList=[],this.nationalList=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.filteredCountryBank=[],this.filteredBank=[],this.citiesBank=[],this.filteredCitiesBank=[],this.departmentsBank=[],this.filteredDepartmentsBank=[],this.regionsBank=[],this.filteredRegionsBank=[],this.campusList=[],this.listObjective=[],this.titles=[],this.classes=[],this.levels=[],this.scholars=[{name:"21-22"}],this.school=[],this.currencyList=[],this.dataSchool=[],this.toFilterList=[{civility:"Mrs",value:" Mrs Anne CHAMBIER",key:"Anne CHAMBIER"},{civility:"Mr",value:"Mr Fabien CHAMBIER",key:"Fabien CHAMBIER"}],this.bank=["BNP Paribas","Credit Agricole","BPCE","Societe Generale","Groupe Cr\xe9dit Mutuel","Cr\xe9dit Cooperatif","La Banque Postale","Cr\xe9dit du Nord","AXA Banque","Banque Palatine","HSBC France","CIC Banque Transatlantique","BRED Banque Populaire"],this.dummyData=[],this.campusData=[],this.levelData=[],this.showForm=!1,this.hideButton=!1,this.showExisting=!1,this.showPatchForm=!1,this.listLegalEntityCtrl=new c.UntypedFormControl(null)}ngOnInit(){this.router.queryParams.subscribe(e=>{e&&e.scholarSeasonId&&(this.scholarSeasonId=e.scholarSeasonId)}),this.dialogRef.updateSize("750px"),this.filteredBank=this.bank,this.subs.sink=this.schoolService.getCountry().subscribe(e=>{this.countries=e,this.countryList=e,this.countriesBank=e,this.countryBankList=e}),this.today=new Date,this.getAllDataSchool(),this.iniVerificationForm(),this.data&&(this.hideButton=!0,this.showForm=!0,this.patchFormValue()),this.getAllLegalEntitiesDropdown()}patchFormValue(){if(this.data){this.data.headquarter_address&&(this.data.headquarter_address.postal_code&&this.data.headquarter_address.country&&"france"===this.data.headquarter_address.country.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(this.data.headquarter_address.postal_code,this.data.headquarter_address.country).subscribe(n=>{this.setAddressHeadquartersDropdown(n)},n=>{this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.getPostcodeHeadquartersData(!1)),this.data.bank&&(this.data.bank.postal_code&&this.data.bank.country&&"france"===this.data.bank.country.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(this.data.bank.postal_code,this.data.bank.country).subscribe(n=>{this.setAddressBankDropdown(n)},n=>{this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.getPostcodeBankData(!1));const e={city:this.data.city,financial_representative:{civility:this.data.financial_representative?this.data.financial_representative.civility:null,first_name:this.data.financial_representative?this.data.financial_representative.first_name:null,last_name:this.data.financial_representative?this.data.financial_representative.last_name:null,email:this.data.financial_representative?this.data.financial_representative.email:null},immatriculation:this.data.immatriculation,legal_representative:{civility:this.data.legal_representative?this.data.legal_representative.civility:null,first_name:this.data.legal_representative?this.data.legal_representative.first_name:null,last_name:this.data.legal_representative?this.data.legal_representative.last_name:null,email:this.data.legal_representative?this.data.legal_representative.email:null},name:this.data.name,siret:this.data.siret,tva_number:this.data.tva_number,urrsaf_number:this.data.urrsaf_number,headquarter_address:{number:this.data.headquarter_address?this.data.headquarter_address.number:null,street:this.data.headquarter_address?this.data.headquarter_address.street:null,postal_code:this.data.headquarter_address?this.data.headquarter_address.postal_code:null,country:this.data.headquarter_address?this.data.headquarter_address.country:null,city:this.data.headquarter_address?this.data.headquarter_address.city:null,department:this.data.headquarter_address?this.data.headquarter_address.department:null,region:this.data.headquarter_address?this.data.headquarter_address.region:null},bank:{name:this.data.bank?this.data.bank.name:null,iban:this.data.bank?this.data.bank.iban:null,bic:this.data.bank?this.data.bank.bic:null,postal_code:this.data.bank?this.data.bank.postal_code:null,city:this.data.bank?this.data.bank.city:null,department:this.data.bank?this.data.bank.department:null,region:this.data.bank?this.data.bank.region:null,address:this.data.bank?this.data.bank.address:null,country:this.data.bank?this.data.bank.country:null}};this.dialogRef.updateSize("1000px"),this.identityForm.patchValue(e)}}iniVerificationForm(){this.identityForm=this.fb.group({scholar_season_id:[this.scholarSeasonId],name:[null],immatriculation:[null],siret:[null],legal_representative:this.fb.group({civility:[null,c.Validators.required],first_name:[null],last_name:[null],email:[null]}),financial_representative:this.fb.group({civility:[null,c.Validators.required],first_name:[null],last_name:[null],email:[null]}),bank:this.fb.group({name:[null],iban:[null],bic:[null],postal_code:[null,c.Validators.pattern("^[0-9]*$")],city:[null],department:[null],region:[null],address:[null],country:["France"]}),headquarter_address:this.fb.group({number:[null,c.Validators.pattern("^[0-9]*$")],street:[null],postal_code:[null,c.Validators.pattern("^[0-9]*$")],country:["France"],city:[null],department:[null],region:[null]}),urrsaf_number:[null,c.Validators.pattern("^[0-9]*$")],tva_number:[null,c.Validators.pattern("^[0-9]*$")],city:[null]})}submitVerification(){const e=m.cloneDeep(this.identityForm.value);e.scholar_season_id=this.scholarSeasonId,e.is_from_duplicate=!!this.showExisting,this.subs.sink=this.data&&!this.showExisting?this.financeService.UpdateLegalEntity(e,this.data._id).subscribe(n=>{s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},n=>{this.authService.postErrorLog(n),"GraphQL error: Name already exists!"===n.message?s().fire({title:this.translate.instant("USERADD_S2.TITLE"),html:this.translate.instant("Name is already exists. Please use another name"),type:"warning",showConfirmButton:!0,confirmButtonText:this.translate.instant("USERADD_S2.BUTTON")}):n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.financeService.CreateLegalEntity(e).subscribe(n=>{s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},n=>{this.authService.postErrorLog(n),"GraphQL error: Name already exists!"===n.message?s().fire({title:this.translate.instant("USERADD_S2.TITLE"),html:this.translate.instant("Name is already exists. Please use another name"),type:"warning",showConfirmButton:!0,confirmButtonText:this.translate.instant("USERADD_S2.BUTTON")}):n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}closeDialog(){this.dialogRef.close()}getDataCampus(){this.levels=[],this.campusList=[],this.identityForm.get("campus").setValue(null),this.identityForm.get("level").setValue(null);const e=this.identityForm.get("school_id").value,n=this.dataSchool.filter(o=>{if(o?._id)return e.includes(o._id)}),a={name:this.translate.instant("ALL")};this.campusList.push(a),n.filter((o,l)=>{o&&o.campuses&&o.campuses.length&&o.campuses.filter((d,p)=>{this.campusList.push(d)})}),this.campusList=m.uniqBy(this.campusList,"name")}getDataLevel(){this.levels=[],this.identityForm.get("level").setValue(null);let e=m.cloneDeep(this.identityForm.get("campus").value);if(e=e.filter(n=>"ALL"===n||"Tous"===n),e&&e.length&&("ALL"===e[0]||"Tous"===e[0])){const n=[],a=this.campusList.filter(d=>"ALL"!==d?.name&&"Tous"!==d?.name);a.forEach(d=>{d?.name&&n.push(d.name)}),this.identityForm.get("campus").patchValue(n);const o=a,l={name:this.translate.instant("ALL")};this.levels.push(l),o.forEach(d=>{d.levels.forEach(p=>{this.levels.push(p)})}),this.levels=m.uniqBy(this.levels,"name")}else{e=m.cloneDeep(this.identityForm.get("campus").value);const n=this.campusList.filter(o=>{if(o?.name)return e.includes(o.name)}),a={name:this.translate.instant("ALL")};this.levels.push(a),n.forEach(o=>{o.levels.forEach(l=>{this.levels.push(l)})}),this.levels=m.uniqBy(this.levels,"name")}}selectedLevel(){let e=m.cloneDeep(this.identityForm.get("level").value);if(e=e.filter(n=>"ALL"===n||"Tous"===n),e&&e.length&&("ALL"===e[0]||"Tous"===e[0])){const n=[];this.levels.filter(o=>"ALL"!==o.name&&"Tous"!==o.name).forEach(o=>{n.push(o.name)}),this.identityForm.get("level").patchValue(n)}}getAllDataSchool(){this.isWaitingForResponse=!0,this.subs.sink=this.financeService.GetAllSchool().subscribe(e=>{e&&e.length?(this.dataSchool=e,this.school=this.dataSchool,this.isWaitingForResponse=!1):this.isWaitingForResponse=!1},e=>{this.authService.postErrorLog(e),this.isWaitingForResponse=!1,e&&e.message&&e.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}selectedWhoCall(e){this.dummyData[e].status=!this.dummyData[e].status}selectedWhoCampus(e){this.campusData[e].status=!this.campusData[e].status}selectedWhoLevel(e){this.levelData[e].status=!this.levelData[e].status}getPostcodeBankData(e=!0){const n=this.identityForm.get("bank").get("country").value,a=this.identityForm.get("bank").get("postal_code").value;a&&n&&a.length>3&&"france"===n.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(a,n).subscribe(o=>{o&&o.length?(this.setAddressBankDropdown(o),e&&(this.identityForm.get("bank").get("city").setValue(this.citiesBank[0]),this.identityForm.get("bank").get("department").setValue(this.departmentsBank[0]),this.identityForm.get("bank").get("region").setValue(this.regionsBank[0]))):o&&!o.length&&(this.citiesBank=[""],this.departmentsBank=[""],this.regionsBank=[""],this.identityForm.get("bank").get("city").setValue(this.citiesBank[0]),this.identityForm.get("bank").get("department").setValue(this.departmentsBank[0]),this.identityForm.get("bank").get("region").setValue(this.regionsBank[0]),this.filteredCitiesBank=this.citiesBank,this.filteredDepartmentsBank=this.departmentsBank,this.filteredRegionsBank=this.regionsBank)},o=>{this.authService.postErrorLog(o),o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}setAddressBankDropdown(e){const n=[],a=[],o=[];e&&e.length&&(e.forEach(l=>{n.push(l.city),a.push(l.department),o.push(l.province)}),this.citiesBank=m.uniq(n),this.departmentsBank=m.uniq(a),this.regionsBank=m.uniq(o),this.filteredCitiesBank=this.citiesBank,this.filteredDepartmentsBank=this.departmentsBank,this.filteredRegionsBank=this.regionsBank)}filterBank(){const e=this.identityForm.get("bank").get("name").value.toLowerCase().trim();this.filteredBank=this.bank.filter(n=>n.toLowerCase().trim().includes(e))}filterCountryBank(){const e=this.identityForm.get("bank").get("country").value.toLowerCase().trim();this.filteredCountryBank=this.countriesBank.filter(n=>n.name.toLowerCase().trim().includes(e))}filterCityBank(){if(this.citiesBank&&this.citiesBank.length){const e=this.identityForm.get("bank").get("city").value.toLowerCase().trim();this.filteredCitiesBank=this.citiesBank.filter(n=>n.toLowerCase().trim().includes(e))}}filterDepartmentBank(){if(this.departmentsBank&&this.departmentsBank.length){const e=this.identityForm.get("bank").get("department").value.toLowerCase().trim();this.filteredDepartmentsBank=this.departmentsBank.filter(n=>n.toLowerCase().trim().includes(e))}}filterRegionBank(){if(this.regionsBank&&this.regionsBank.length){const e=this.identityForm.get("bank").get("region").value.toLowerCase().trim();this.filteredRegionsBank=this.regionsBank.filter(n=>n.toLowerCase().trim().includes(e))}}getPostcodeHeadquartersData(e=!0){const n=this.identityForm.get("headquarter_address").get("country").value,a=this.identityForm.get("headquarter_address").get("postal_code").value;a&&n&&a.length>3&&"france"===n.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(a,n).subscribe(o=>{o&&o.length?(this.setAddressHeadquartersDropdown(o),e&&(this.identityForm.get("headquarter_address").get("city").setValue(this.cities[0]),this.identityForm.get("headquarter_address").get("department").setValue(this.departments[0]),this.identityForm.get("headquarter_address").get("region").setValue(this.regions[0]))):o&&!o.length&&(this.cities=[""],this.departments=[""],this.regions=[""],this.identityForm.get("headquarter_address").get("city").setValue(this.cities[0]),this.identityForm.get("headquarter_address").get("department").setValue(this.departments[0]),this.identityForm.get("headquarter_address").get("region").setValue(this.regions[0]),this.filteredCities=this.cities,this.filteredDepartments=this.departments,this.filteredRegions=this.regions)},o=>{this.authService.postErrorLog(o),o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}setAddressHeadquartersDropdown(e){const n=[],a=[],o=[];e&&e.length&&(e.forEach(l=>{n.push(l.city),a.push(l.department),o.push(l.province)}),this.cities=m.uniq(n),this.departments=m.uniq(a),this.regions=m.uniq(o),this.filteredCities=this.cities,this.filteredDepartments=this.departments,this.filteredRegions=this.regions)}filterCountryHeadquarters(){const e=this.identityForm.get("headquarter_address").get("country").value.toLowerCase().trim();this.filteredCountry=this.countries.filter(n=>n.name.toLowerCase().trim().includes(e))}filterCityHeadquarters(){if(this.cities&&this.cities.length){const e=this.identityForm.get("headquarter_address").get("city").value.toLowerCase().trim();this.filteredCities=this.cities.filter(n=>n.toLowerCase().trim().includes(e))}}filterDepartmentHeadquarters(){if(this.departments&&this.departments.length){const e=this.identityForm.get("headquarter_address").get("department").value.toLowerCase().trim();this.filteredDepartments=this.departments.filter(n=>n.toLowerCase().trim().includes(e))}}filterRegionHeadquarters(){if(this.regions&&this.regions.length){const e=this.identityForm.get("headquarter_address").get("region").value.toLowerCase().trim();this.filteredRegions=this.regions.filter(n=>n.toLowerCase().trim().includes(e))}}openForm(){this.dialogRef.close("Open Form")}openSelectExisting(){this.showExisting||this.dialogRef.updateSize("750px"),this.showForm=!1,this.showExisting=!0}getAllLegalEntitiesDropdown(){this.subs.sink=this.listLegalEntityCtrl.valueChanges.subscribe(n=>{this.identityForm.reset()}),this.subs.sink=this.financeService.getAllLegalEntitiesDropdown({online_payment_status:"publish"}).subscribe(n=>{if(n){let a=m.cloneDeep(n);a=a.filter(o=>(o.scholar_season_id=o.scholar_season_id.map(l=>l&&l._id),o)),this.listLegalEntity=a.filter(o=>o.scholar_season_id.indexOf(this.scholarSeasonId)>=0?null:o)}},n=>{this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}selectedLegalEntity(e){e&&(this.subs.sink=this.financeService.UpdateLegalEntityNotPublish({scholar_season_id:this.scholarSeasonId},e._id,!1).subscribe(a=>{a&&this.dialogRef.close(e)},a=>{this.authService.postErrorLog(a),a&&a.message&&a.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(c.UntypedFormBuilder),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(ht.n),t.\u0275\u0275directiveInject(_t.g),t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(gt.r),t.\u0275\u0275directiveInject(sn.E),t.\u0275\u0275directiveInject(P.gz),t.\u0275\u0275directiveInject(dn.p),t.\u0275\u0275directiveInject(B.e),t.\u0275\u0275directiveInject(T.WI))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-add-legal-entity-dialog"]],features:[t.\u0275\u0275ProvidersFeature([ht.n])],decls:16,vars:8,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],[2,"vertical-align","middle"],[1,"p-col-10","acad-title"],["class","dialogTitle",4,"ngIf"],[1,"w-65","no-padding",3,"ngStyle"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],["class","p-grid",4,"ngIf"],["style","margin-top: 20px",4,"ngIf"],["style","margin-top: 20px",3,"formGroup",4,"ngIf"],[1,"dialogTitle"],[1,"p-col-5","text-right"],["mat-raised-button","","color","accent",3,"click"],[1,"p-col-2","text-center"],[1,"p-col-5"],[2,"margin-top","20px"],["aria-required","true","bindLabel","legal_entity_name","bindValue","_id","clearAllText","Clear",1,"mrgn-btn",3,"items","hideSelected","appendTo","placeholder","formControl","change"],[2,"margin-top","20px",3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding"],[1,"p-col-fixed","center-label","no-padding-left","label-align",2,"width","195px"],[1,"p-col","no-padding"],["floatLabel","never","color","accent"],["matInput","","formControlName","name","required","","type","text",3,"placeholder"],["matInput","","formControlName","immatriculation","required","","type","text",3,"placeholder"],["matInput","","formControlName","siret","required","","type","text",3,"placeholder"],["formGroupName","legal_representative",1,"p-grid"],[1,"p-col-2","no-padding",2,"padding-top","14px !important"],["formControlName","civility",2,"font-size","12px"],["value","MR",2,"margin-right","1rem"],["value","MRS"],[4,"ngIf"],[1,"p-col-2","no-padding",2,"margin-right","15px"],["matInput","","formControlName","first_name","required","","type","text",3,"placeholder"],["matInput","","formControlName","last_name","required","","type","text",3,"placeholder"],["matInput","","formControlName","email","required","","type","text",3,"placeholder"],["formGroupName","financial_representative",1,"p-grid"],[2,"border-bottom","1px solid"],["formGroupName","headquarter_address",1,"p-grid"],[1,"p-col-4","no-padding"],[1,"p-col-fixed","center-label","no-padding-left","label-align",2,"width","110px"],[1,"p-col","no-padding",2,"padding-right","20px !important"],["matInput","","formControlName","number","maxlength","5","required","","type","text",3,"placeholder"],[1,"p-col-8","no-padding"],["matInput","","formControlName","street","required","","type","text",3,"placeholder"],["matInput","","required","","maxlength","5","formControlName","postal_code","type","text",3,"placeholder","keyup"],["color","accent","floatLabel","never"],["type","text","matInput","","required","","formControlName","country",3,"placeholder","matAutocomplete","keyup"],[3,"optionSelected"],["autoCountryHeadquarters","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["color","accent","floatLabel","never",1,"full-width"],["type","text","matInput","","required","","formControlName","city",3,"placeholder","matAutocomplete","keyup"],["autoCityHeadquarters","matAutocomplete"],["type","text","matInput","","required","","formControlName","department",3,"placeholder","matAutocomplete","keyup"],["autoDepartmentHeadquarters","matAutocomplete"],[1,"p-col-fixed","center-label","no-padding-left","label-align",2,"width","80px"],["type","text","matInput","","required","","formControlName","region",3,"placeholder","matAutocomplete","keyup"],["autoRegionHeadquarters","matAutocomplete"],["formGroupName","bank",1,"p-grid"],["type","text","required","","matInput","","formControlName","name",3,"placeholder","matAutocomplete","keyup"],["autoBank","matAutocomplete"],["matInput","","formControlName","iban","required","","type","text",3,"placeholder"],["matInput","","formControlName","bic","required","","type","text",3,"placeholder"],["matInput","","formControlName","address","required","","type","text",3,"placeholder"],["matInput","","required","","formControlName","postal_code","type","text","maxlength","5",3,"placeholder","keyup"],["type","text","required","","matInput","","formControlName","country",3,"placeholder","matAutocomplete","keyup"],["autoCountry","matAutocomplete"],["type","text","required","","matInput","","formControlName","city",3,"placeholder","matAutocomplete","keyup"],["autoCity","matAutocomplete"],["type","text","required","","matInput","","formControlName","department",3,"placeholder","matAutocomplete","keyup"],["autoDepartment","matAutocomplete"],["type","text","required","","matInput","","formControlName","region",3,"placeholder","matAutocomplete","keyup"],["autoRegion","matAutocomplete"],[1,"p-col-fixed","center-label","no-padding-left","label-align",2,"width","150px"],["matInput","","formControlName","urrsaf_number","required","","type","text",3,"placeholder"],["matInput","","formControlName","city","type","text","required","",3,"placeholder"],["matInput","","formControlName","tva_number","type","text","required","",3,"placeholder"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"disabled","click"],["value","neutral",2,"margin-left","8px"],[3,"value"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5,"add"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",5),t.\u0275\u0275template(7,cn,3,3,"h3",6),t.\u0275\u0275template(8,pn,3,3,"h3",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",7)(10,"button",8)(11,"mat-icon"),t.\u0275\u0275text(12,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275template(13,mn,12,9,"div",9),t.\u0275\u0275template(14,hn,3,7,"div",10),t.\u0275\u0275template(15,Mn,323,199,"form",11)),2&e&&(t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",!n.hideButton),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.hideButton),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(6,Sn,n.showForm||n.showPatchForm?"-65px":"-35px")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",!n.hideButton),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.showExisting&&!n.showForm),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.showForm||n.showPatchForm))},dependencies:[$.Zt,$.Bh,R.XC,R.ZL,tt.ey,L.lW,T.ZT,T.xY,T.H8,K.Hw,w.KE,X.Nt,Q.VQ,Q.U0,c.\u0275NgNoValidate,c.DefaultValueAccessor,c.NgControlStatus,c.NgControlStatusGroup,c.RequiredValidator,c.MaxLengthValidator,c.FormControlDirective,c.FormGroupDirective,c.FormControlName,c.FormGroupName,j.Zl,_.sg,_.O5,_.PC,lt.w9,g.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#00000042!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.mat-dialog-content[_ngcontent-%COMP%]{max-height:53vh!important}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}.name-who[_ngcontent-%COMP%]{display:inline-block;text-align:center;margin-right:0!important}.width-card[_ngcontent-%COMP%]{width:auto;display:inline-block;margin-right:10px}.card-selected[_ngcontent-%COMP%]{background-color:#fdd835}.card[_ngcontent-%COMP%]{width:125px;padding-bottom:3px!important;padding:10px;vertical-align:middle;border:1px solid #252525;border-radius:4px;text-align:center;align-self:center;display:inline-block;margin-top:10px;cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-select-container{border-left:0px!important;border-right:0px!important;border-top:0px!important;border-radius:0!important}"]}),i})();var Tn=u(33296),ft=u(80484);const wn=["stampFileInput"];function In(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",19),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function kn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",20)(2,"div",21)(3,"div",22),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.previewFile())}),t.\u0275\u0275elementStart(4,"mat-icon"),t.\u0275\u0275text(5,"insert_drive_file"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"p",9),t.\u0275\u0275text(7),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"button",23),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.removeImage())}),t.\u0275\u0275elementStart(9,"mat-icon"),t.\u0275\u0275text(10,"close"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(e.fileFormGroup.get("legal_entity_stamp").value)}}function Dn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",24),t.\u0275\u0275element(1,"mat-spinner",25),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let Bn=(()=>{class i{constructor(e,n,a,o,l,d,p){this.utilService=e,this.fileUploadService=n,this.translate=a,this.fb=o,this.financeService=l,this.parentData=d,this.dialogRef=p,this.subs=new I.Y,this.serverimgPath=`${Tn.a.baseApi}/fileuploads/`.replace("/graphql",""),this.isWaitingForResponse=!1}ngOnInit(){this.fileFormGroup=this.initAttachmentsForm(),this.parentData?.legal_entity_stamp&&this.fileFormGroup?.get("legal_entity_stamp")?.setValue(this.parentData?.legal_entity_stamp)}ngAfterViewInit(){}ngOnDestroy(){this.subs.unsubscribe()}initAttachmentsForm(){return this.fb.group({legal_entity_stamp:[""]})}onFileChange(e){const[a]=e.target.files,o=this.utilService.getFileExtension(a?.name).toLowerCase();a&&o&&["png","jpg","jpeg"].includes(o)&&(this.isWaitingForResponse=!0,this.subs.sink=this.fileUploadService.singleUpload(a).subscribe(l=>{this.isWaitingForResponse=!1,this.fileFormGroup?.get("legal_entity_stamp").setValue(l?.s3_file_name)},l=>{this.isWaitingForResponse=!1,console.log(l),s().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.resetFileState()}resetFileState(){this.stampFileInput.nativeElement.value=""}removeImage(){this.fileFormGroup.patchValue({legal_entity_stamp:""})}previewFile(){window.open(this.serverimgPath+this.fileFormGroup.get("legal_entity_stamp").value,"_blank")}checkFormValidity(){return!!this.fileFormGroup.invalid&&(s().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.fileFormGroup.markAllAsTouched(),!0)}validateLegalEntityStamp(){if(this.checkFormValidity())return;const e=this.fileFormGroup?.get("legal_entity_stamp").value;this.isWaitingForResponse=!0,this.subs.sink=this.financeService.UploadStampLegalEntity(e,this.parentData?._id).subscribe(n=>{this.isWaitingForResponse=!1,n&&s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(this.fileFormGroup?.value)})},n=>{this.isWaitingForResponse=!1})}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(Y.t),t.\u0275\u0275directiveInject(ft.J),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(c.UntypedFormBuilder),t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(T.WI),t.\u0275\u0275directiveInject(T.so))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-assign-legal-stamp-dialog"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(wn,5),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.stampFileInput=a.first)}},decls:33,vars:18,consts:[[1,"dialog-border"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialogTitleWrapper"],[1,"p-grid","justify-content-between"],[1,"acad-title"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[1,"p-grid"],[1,"p-col-12",2,"display","flex !important","column-gap","15px !important","align-items","center !important"],[2,"margin","0 !important"],["type","button","mat-raised-button","","color","accent",3,"click"],["type","file","name","file","accept","image/png, image/jpeg, image/jpg",2,"display","none",3,"change"],["stampFileInput",""],["style","padding-left: 7px !important",4,"ngIf"],[4,"ngIf"],["align","right",2,"min-height","0 !important"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],["class","loading-indicator",4,"ngIf"],[2,"padding-left","7px !important"],[1,"p-col-12"],[1,"file-container"],[2,"cursor","pointer","display","flex","column-gap","5px",3,"click"],["mat-icon-button","",3,"click"],[1,"loading-indicator"],["color","accent",3,"diameter"]],template:function(e,n){if(1&e){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",5)(8,"button",6)(9,"mat-icon"),t.\u0275\u0275text(10,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(11,"div",7)(12,"div",8)(13,"p",9),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"button",10),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(a);const l=t.\u0275\u0275reference(22);return t.\u0275\u0275resetView(null==l?null:l.click())}),t.\u0275\u0275elementStart(17,"mat-icon"),t.\u0275\u0275text(18,"add"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(19),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"input",11,12),t.\u0275\u0275listener("change",function(l){return n.onFileChange(l)}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(23,In,3,3,"mat-error",13),t.\u0275\u0275template(24,kn,11,1,"ng-container",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(25,"mat-dialog-actions",15)(26,"button",16),t.\u0275\u0275text(27),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(29,"button",17),t.\u0275\u0275listener("click",function(){return n.validateLegalEntityStamp()}),t.\u0275\u0275text(30),t.\u0275\u0275pipe(31,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(32,Dn,2,1,"div",18)}if(2&e){let a,o;t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,8,"Assign a Stamp")," "),t.\u0275\u0275advance(9),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(15,10,"Please upload the stamp here")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(20,12,"Attach a file")," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",(null==n.fileFormGroup||null==(a=n.fileFormGroup.get("legal_entity_stamp"))?null:a.hasError("required"))&&(n.fileFormGroup.get("legal_entity_stamp").dirty||n.fileFormGroup.get("legal_entity_stamp").touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.fileFormGroup||null==(o=n.fileFormGroup.get("legal_entity_stamp"))?null:o.value),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(28,14,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(31,16,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse)}},dependencies:[_.O5,$.Zt,$.Bh,L.lW,T.ZT,T.H8,K.Hw,w.TO,M.Ou,g.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.file-container[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:3px;border:1px solid rgba(0,0,0,.2);border-radius:2px;display:flex;column-gap:5px;align-items:center}"]}),i})();var Pt=u(22437),Mt=u(75223),xt=u(30160),bt=u(97679),mt=u(73546);const Fn=["fileUploadDoc"];function An(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",41),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required"),""))}function Nn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Rn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ln(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p",42),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Vn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Un(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function qn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Gn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Kn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p",42),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function jn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Hn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Wn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function $n(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function zn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Yn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Qn(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-error"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"This field is required")))}function Xn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",43)(2,"div",25)(3,"button",44),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.openUploadWindow())}),t.\u0275\u0275elementStart(4,"mat-icon"),t.\u0275\u0275text(5,"file_upload"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"input",45,46),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.chooseFile(a))}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(7,2,"Upload Document Expected")," ")}}function Zn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",43)(1,"input",45,46),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.chooseFile(a))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",47)(4,"button",48),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.openUploadWindow())}),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementStart(6,"mat-icon",49),t.\u0275\u0275text(7,"edit"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"button",48),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.deletePDF())}),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementStart(10,"mat-icon",49),t.\u0275\u0275text(11,"delete"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",50),t.\u0275\u0275text(13),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(5,5,"Edit")),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(9,7,"Delete")),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",e.listUploadDocumentPDF," ")}}function Jn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",41),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ti(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",51),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onCancel())}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",52),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onPrevious())}),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"button",53),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.updatedLegalEntities())}),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,3,"Cancel")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,5,"CARDDETAIL.Previous")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,7,"CARDDETAIL.SAVE_CONTINUE")," "))}function ei(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",52),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onCancel())}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"Cancel")," "))}function ni(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",54),t.\u0275\u0275element(1,"mat-progress-spinner",55),t.\u0275\u0275elementEnd())}const ii=function(i){return{color:i}};let ai=(()=>{class i{constructor(e,n,a,o,l,d,p,f,h){this.fb=e,this.router=n,this.admisssionService=a,this.rncpTitleService=o,this.financeService=l,this.translate=d,this.fileUploadService=p,this.utilService=f,this.authService=h,this.cancelTab=new t.EventEmitter,this.previousTab=new t.EventEmitter,this.continue=new t.EventEmitter,this.updateData=new t.EventEmitter,this.subs=new I.Y,this.cities=[],this.departments=[],this.regions=[],this.isWaitingForResponse=!1,this.dataDocument=[],this.selectUploadDocumentPDF=!1}ngOnInit(){this.initForm(),this.router.queryParams.subscribe(e=>{e&&e.scholarSeasonId&&(this.scholarId=e.scholarSeasonId)}),this.getCountryCode(),this.getOneLegalEntity()}ngOnChanges(){this.legalEntityId&&this.getOneLegalEntity()}getOneLegalEntity(){this.legalEntityId&&(this.isWaitingForResponse=!0,this.subs.sink=this.financeService.getOneLegalEntity(this.legalEntityId).subscribe(e=>{if(e){if(this.isWaitingForResponse=!1,!e.online_payment_status||"verification_in_progress"!==e.online_payment_status&&"publish"!==e.online_payment_status?(this.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("currency_code").enable(),this.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("country_code").enable()):(this.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("currency_code").disable(),this.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("country_code").disable()),e.documents&&e.documents.length){let n;e.documents.find(a=>{"Bank"===a.owner&&a.is_latest&&(n=a)}),n&&(this.dataDocument=[],this.selectedType=n?.document_type,this.bankAccountForm.get("upload_document").patchValue(this.selectedType),this.bankAccountForm.get("file_name").patchValue(n?.s3_file_name),this.listUploadDocumentPDF=n?.s3_file_name,this.dataDocument.push({s3_file_name:n?.s3_file_name,document_name:n?.document_name,document_type:"BANK_STATEMENT"}))}this.bankAccountForm.patchValue(e),this.firstForm=m.cloneDeep(this.bankAccountForm.value),this.dataEntity=e}},e=>{this.authService.postErrorLog(e),this.isWaitingForResponse=!1,s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}initForm(){this.bankAccountForm=this.fb.group({onboard_step:["bank_account"],account_holder_code:[null],account_holder_details:this.fb.group({bank_account_details:this.fb.array([this.initBankForm()])}),urrsaf_number:[null,c.Validators.required],urrsaf_city:[null,c.Validators.required],tva_number:[null,c.Validators.required],bic:[null,c.Validators.required],upload_document:[null,c.Validators.required],file_name:[null]}),this.firstForm=m.cloneDeep(this.bankAccountForm.value)}initBankForm(){return this.fb.group({owner_name:[null,c.Validators.required],country_code:["FR",c.Validators.required],currency_code:["EUR",c.Validators.required],iban:[null,[c.Validators.required,this.noWhitespaceValidator]],bank_name:[null,c.Validators.required],postal_code:[null,c.Validators.required],city:[null,c.Validators.required],department:[null,c.Validators.required],region:[null,c.Validators.required],region_name:[null,c.Validators.required],owner_gender:[null,c.Validators.required],bank_address:[null,c.Validators.required],owner_country_code:["FR",c.Validators.required],bank_account_uuid:[null]})}get bankFormArray(){return this.bankAccountForm.get("account_holder_details").get("bank_account_details")}getCountryCode(){this.subs.sink=this.admisssionService.getAllCountryCodes().subscribe(e=>{e&&(this.listCountry=e)},e=>{this.authService.postErrorLog(e),s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("OK")})})}onCancel(){this.cancelTab.emit(!0)}onPrevious(){this.previousTab.emit(0)}onNext(){this.continue.emit(2)}getPostcodeData(){const e=this.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("country_code").value,n=this.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("postal_code").value;n&&n.length>3&&e&&"fr"===e.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(n,"france").subscribe(a=>{a&&a.length&&this.setAddressDropdown(a)},a=>{this.authService.postErrorLog(a),s().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("OK")})}))}setAddressDropdown(e){const n=[],a=[],o=[];let l=[];e&&e.length&&e.forEach(d=>{d&&d.city&&n.push(d.city),d&&d.department&&a.push(d.department),d&&d.region_code&&o.push(d.region_code),d&&d.province&&l.push(d.province)}),this.cities=m.uniq(n),this.departments=m.uniq(a),this.regions=m.uniq(o),l=m.uniq(l),this.cities&&this.cities.length&&this.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("city").setValue(this.cities[0]),this.departments&&this.departments.length&&this.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("department").setValue(this.departments[0]),this.regions&&this.regions.length&&this.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("region").setValue(this.regions[0]),l&&l.length&&this.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("region_name").setValue(l[0])}checkFormValidity(){return!(!this.bankAccountForm.invalid&&this.listUploadDocumentPDF||(s().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.bankAccountForm.markAllAsTouched(),0))}updatedLegalEntities(){if(this.selectUploadDocumentPDF=!0,this.checkFormValidity())return;const e=this.createPayload();e.onboard_step="bank_account",e.online_payment_status="not_submit",e.upload_document=this.dataDocument;const n=this.legalEntityId;this.isWaitingForResponse=!0,this.subs.sink=this.financeService.UpdateLegalEntity(e,n).subscribe(a=>{if(a&&a._id)this.isWaitingForResponse=!1,this.firstForm=m.cloneDeep(this.bankAccountForm.value),s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.updateData.emit(!0),this.financeService.setDataMerchantBoardingSaved(!0),this.onNext()});else{this.isWaitingForResponse=!1;let o="";a&&a.error&&a.error.length&&(o+='<ul style="text-align: start; margin-left: 20px">',a.error=m.uniqBy(a.error,"error_description"),a.error.forEach(l=>{l&&l&&l.error_description&&l.field_name&&(o+=`<li> ${l.field_name} : ${l.error_description} </li>`)}),o+="</ul>",s().fire({type:"info",title:this.translate.instant("MERCHANT_S2.TITLE"),html:this.translate.instant("MERCHANT_S2.TEXT",{listOfIssue:o}),confirmButtonText:this.translate.instant("MERCHANT_S2.BUTTON")}))}},a=>{this.isWaitingForResponse=!1,s().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}comparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.bankAccountForm.value)?(this.financeService.setDataMerchantBoardingSaved(!0),!0):(this.financeService.setDataMerchantBoardingSaved(!1),!1)}createPayload(){const e=m.cloneDeep(this.bankAccountForm.value);return e.owner_country_code=e.country_code,delete e.upload_document,delete e.file_name,e}ngOnDestroy(){this.financeService.setDataMerchantBoardingSaved(!0),this.subs.unsubscribe()}openUploadWindow(){this.selectUploadDocumentPDF=!0,this.fileUploaderDoc.nativeElement.click()}chooseFile(e){const a=e.target.files[0],o=this.utilService.getFileExtension(a.name).toLocaleLowerCase();this.dataDocument=[],["pdf","jpg"].includes(o)?(this.isWaitingForResponse=!0,this.subs.sink=this.fileUploadService.singleUpload(a).subscribe(l=>{this.isWaitingForResponse=!1,l&&(this.selectUploadDocumentPDF=!1,this.listUploadDocumentPDF="",this.dataDocument.push({s3_file_name:l.s3_file_name,document_name:a.name,document_type:"BANK_STATEMENT"}),this.listUploadDocumentPDF=l.s3_file_name,this.bankAccountForm.get("upload_document").patchValue("BANK_STATEMENT"),this.bankAccountForm.get("file_name").patchValue(l.s3_file_name),this.fileUploaderDoc.nativeElement="")},l=>{this.isWaitingForResponse=!1,s().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:"OK"})})):s().fire({type:"info",title:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TITLE"),text:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TEXT",{file_exts:".jpg, .jpeg, .png, .pdf"}),allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})}noWhitespaceValidator(e){return null!==e.value&&e.value.indexOf(" ")>=0?{whitespace:!0}:null}deletePDF(){this.selectUploadDocumentPDF=!0,this.listUploadDocumentPDF=""}selectType(e){this.selectedType=e}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(c.UntypedFormBuilder),t.\u0275\u0275directiveInject(P.gz),t.\u0275\u0275directiveInject(bt.l),t.\u0275\u0275directiveInject(gt.r),t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(ft.J),t.\u0275\u0275directiveInject(Y.t),t.\u0275\u0275directiveInject(B.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-boarding-merchant-bank-account-detail"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(Fn,5),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.fileUploaderDoc=a.first)}},inputs:{legalEntityId:"legalEntityId"},outputs:{cancelTab:"cancelTab",previousTab:"previousTab",continue:"continue",updateData:"updateData"},features:[t.\u0275\u0275NgOnChangesFeature],decls:128,vars:98,consts:[[1,"container",3,"formGroup"],[2,"border","none","padding","0",3,"disabled"],[1,"p-grid"],["formGroupName","account_holder_details"],["formGroupName","bank_account_details"],["formGroupName","0"],[1,"p-col-5"],["formControlName","owner_gender","required","",3,"disabled"],[1,"m-right-10",3,"ngStyle"],["value","MALE",1,"radio-marging-left","m-right-10"],["value","FEMALE",1,"radio-marging-left","m-right-10"],["class","error-document-expected",4,"ngIf"],["formControlName","owner_name","type","text","matInput","","required","",3,"placeholder"],[4,"ngIf"],["formControlName","bank_name","type","text","matInput","","required","",3,"placeholder"],[1,"p-col-5","custom-select","mrgn-btn"],["bindLabel","currency_code","bindValue","currency_code","formControlName","currency_code",2,"padding-top","5px",3,"items","multiple","placeholder"],["style","color: #f44336; font-size: 75%; margin: 0",4,"ngIf"],["formControlName","iban","type","text","matInput","","required","",3,"placeholder"],[1,"p-col-5",3,"formGroup"],["formControlName","bic","type","text","matInput","","required","",3,"placeholder"],[1,"p-col-10"],["formControlName","bank_address","type","text","matInput","","required","",3,"placeholder"],["matInput","","required","","maxlength","5","pattern","^[0-9]+$","formControlName","postal_code",3,"placeholder","keyup"],["bindLabel","country","bindValue","country_code","formControlName","country_code",2,"padding-top","5px",3,"items","multiple","placeholder","change"],[1,"p-col-4"],["formControlName","city","type","text","matInput","","required","",3,"placeholder"],[1,"p-col-3"],["formControlName","department","type","text","matInput","","required","",3,"placeholder"],["formControlName","region_name","type","text","matInput","","required","",3,"placeholder"],[1,"p-col-10","classHeading"],["formControlName","urrsaf_number","type","text","matInput","","required","",3,"placeholder"],["formControlName","urrsaf_city","type","text","matInput","","required","",3,"placeholder"],["formControlName","tva_number","type","text","matInput","","required","",3,"placeholder"],["floatLabel","auto"],["panelClass","optionPanel","formControlName","upload_document",3,"disableOptionCentering","disabled"],["value","BANK_STATEMENT",3,"click"],["class","p-grid","style","padding-top: 15px",4,"ngIf"],[1,"p-col"],[1,"text-right",2,"margin-top","10px","margin-bottom","40px"],["class","loading-indicator",4,"ngIf"],[1,"error-document-expected"],[2,"color","#f44336","font-size","75%","margin","0"],[1,"p-grid",2,"padding-top","15px"],["mat-raised-button","","color","accent",3,"disabled","click"],["type","file","accept",".pdf, .jpg",1,"hidden",3,"change"],["fileUploadDoc",""],[1,"p-col-1"],["mat-icon-button","",3,"disabled","matTooltip","click"],[2,"color","black"],[1,"p-col-10",2,"margin-top","6px"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"form",0)(1,"mat-card")(2,"fieldset",1)(3,"div",2),t.\u0275\u0275elementContainerStart(4,3)(5,4)(6,5),t.\u0275\u0275elementStart(7,"div",6)(8,"div")(9,"mat-radio-group",7)(10,"span",8),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"mat-radio-button",9),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"mat-radio-button",10),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(19,"div"),t.\u0275\u0275template(20,An,3,3,"mat-error",11),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(21,"div",6)(22,"mat-form-field"),t.\u0275\u0275element(23,"input",12),t.\u0275\u0275pipe(24,"translate"),t.\u0275\u0275template(25,Nn,3,3,"mat-error",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()()(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerStart(26,3)(27,4)(28,5),t.\u0275\u0275elementStart(29,"div",2)(30,"div",6)(31,"mat-form-field"),t.\u0275\u0275element(32,"input",14),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275template(34,Rn,3,3,"mat-error",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(35,"div",15),t.\u0275\u0275element(36,"ng-select",16),t.\u0275\u0275pipe(37,"translate"),t.\u0275\u0275template(38,Ln,3,3,"p",17),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(39,"div",2)(40,"div",6)(41,"mat-form-field"),t.\u0275\u0275element(42,"input",18),t.\u0275\u0275pipe(43,"translate"),t.\u0275\u0275template(44,Vn,3,3,"mat-error",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(45,"div",19)(46,"mat-form-field"),t.\u0275\u0275element(47,"input",20),t.\u0275\u0275pipe(48,"translate"),t.\u0275\u0275template(49,Un,3,3,"mat-error",13),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(50,"div",2)(51,"div",21)(52,"mat-form-field"),t.\u0275\u0275element(53,"input",22),t.\u0275\u0275pipe(54,"translate"),t.\u0275\u0275template(55,qn,3,3,"mat-error",13),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(56,"div",2)(57,"div",6)(58,"mat-form-field")(59,"input",23),t.\u0275\u0275listener("keyup",function(){return n.getPostcodeData()}),t.\u0275\u0275pipe(60,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(61,Gn,3,3,"mat-error",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(62,"div",15)(63,"ng-select",24),t.\u0275\u0275listener("change",function(){return n.getPostcodeData()}),t.\u0275\u0275pipe(64,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(65,Kn,3,3,"p",17),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(66,"div",2)(67,"div",25)(68,"mat-form-field"),t.\u0275\u0275element(69,"input",26),t.\u0275\u0275pipe(70,"translate"),t.\u0275\u0275template(71,jn,3,3,"mat-error",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(72,"div",27)(73,"mat-form-field"),t.\u0275\u0275element(74,"input",28),t.\u0275\u0275pipe(75,"translate"),t.\u0275\u0275template(76,Hn,3,3,"mat-error",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(77,"div",27)(78,"mat-form-field"),t.\u0275\u0275element(79,"input",29),t.\u0275\u0275pipe(80,"translate"),t.\u0275\u0275template(81,Wn,3,3,"mat-error",13),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd()()(),t.\u0275\u0275elementStart(82,"div",2)(83,"div",30)(84,"h3"),t.\u0275\u0275text(85),t.\u0275\u0275pipe(86,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(87,"div",2)(88,"div",25)(89,"mat-form-field"),t.\u0275\u0275element(90,"input",31),t.\u0275\u0275pipe(91,"translate"),t.\u0275\u0275template(92,$n,3,3,"mat-error",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(93,"div",27)(94,"mat-form-field"),t.\u0275\u0275element(95,"input",32),t.\u0275\u0275pipe(96,"translate"),t.\u0275\u0275template(97,zn,3,3,"mat-error",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(98,"div",27)(99,"mat-form-field"),t.\u0275\u0275element(100,"input",33),t.\u0275\u0275pipe(101,"translate"),t.\u0275\u0275template(102,Yn,3,3,"mat-error",13),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(103,"div",2)(104,"div",30)(105,"h3"),t.\u0275\u0275text(106),t.\u0275\u0275pipe(107,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(108,"div",2)(109,"div",25)(110,"mat-form-field",34)(111,"mat-label"),t.\u0275\u0275text(112),t.\u0275\u0275pipe(113,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(114,"mat-select",35)(115,"mat-option",36),t.\u0275\u0275listener("click",function(){return n.selectType("BANK_STATEMENT")}),t.\u0275\u0275text(116),t.\u0275\u0275pipe(117,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(118,Qn,4,3,"ng-container",13),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(119,Xn,10,4,"ng-container",13),t.\u0275\u0275template(120,Zn,14,9,"div",37),t.\u0275\u0275elementStart(121,"div",2)(122,"div",38),t.\u0275\u0275template(123,Jn,3,3,"mat-error",11),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(124,"div",39),t.\u0275\u0275template(125,ti,10,9,"ng-container",13),t.\u0275\u0275template(126,ei,4,3,"ng-container",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(127,ni,2,0,"div",40)),2&e&&(t.\u0275\u0275property("formGroup",n.bankAccountForm),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(7),t.\u0275\u0275property("disabled","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(96,ii,"verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)?"rgba(255, 255, 255, 0.5)":"")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(12,54,"Civility"),"*"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(15,56,"Mr")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,58,"Mrs")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("owner_gender").hasError("required")&&(n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("owner_gender").touched||n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("owner_gender").dirty)),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(24,60,"Account Holder Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("owner_name").errors),t.\u0275\u0275advance(7),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(33,62,"Bank Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("bank_name").errors),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(37,64,"Currency"),"*"),t.\u0275\u0275property("items",n.listCountry)("multiple",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("currency_code").hasError("required")&&n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("currency_code").touched),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(43,66,"IBAN")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("iban").errors),t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroup",n.bankAccountForm),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(48,68,"BIC")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("bic").errors),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(54,70,"Bank address")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("bank_address").errors),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(60,72,"Postal Code")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("postal_code").errors),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(64,74,"Country"),"*"),t.\u0275\u0275property("items",n.listCountry)("multiple",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("country_code").hasError("required")&&n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("country_code").touched),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(70,76,"City")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("city").errors),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(75,78,"Department")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("department").errors),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(80,80,"Region")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("account_holder_details").get("bank_account_details").get("0").get("region_name").errors),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(86,82,"URSSAF")," "),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(91,84,"URSSAF Number")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("urrsaf_number").errors),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(96,86,"URSSAF city")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("urrsaf_city").errors),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(101,88,"TVA")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("tva_number").errors),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(107,90,"Document Expected")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(113,92,"Choose one")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disableOptionCentering",!0)("disabled","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(117,94,"BANK_STATEMENT")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.bankAccountForm.get("upload_document").hasError("required")&&(n.bankAccountForm.get("upload_document").touched||n.bankAccountForm.get("upload_document"))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.listUploadDocumentPDF&&n.selectedType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.listUploadDocumentPDF),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!n.listUploadDocumentPDF&&n.selectUploadDocumentPDF&&!n.bankAccountForm.get("upload_document").hasError("required")&&(n.bankAccountForm.get("upload_document").touched||n.bankAccountForm.get("upload_document"))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","verification_in_progress"!==(null==n.dataEntity?null:n.dataEntity.online_payment_status)&&"publish"!==(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[_.O5,_.PC,tt.ey,L.lW,mt.a8,K.Hw,w.TO,w.KE,w.hX,X.Nt,M.Ou,Q.VQ,Q.U0,pt.gD,et.gM,c.\u0275NgNoValidate,c.DefaultValueAccessor,c.NgControlStatus,c.NgControlStatusGroup,c.RequiredValidator,c.MaxLengthValidator,c.PatternValidator,c.FormGroupDirective,c.FormControlName,c.FormGroupName,j.Zl,lt.w9,g.X$],styles:[".container[_ngcontent-%COMP%]   .m-right-10[_ngcontent-%COMP%]{margin-right:10px}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select .ng-select-container{background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid rgba(255,255,255,.7)!important;min-height:36px;align-items:center;color:#fff!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .mat-select-arrow-wrapper{padding-right:5px}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .mat-select-value-text{margin-left:10px;font-size:13px}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     ng-dropdown-panel{z-index:99999999999}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff!important;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container{padding-left:0!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-select-disabled>.ng-select-container{color:#ffffff80!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-invalid.ng-touched .ng-select-container .ng-placeholder{color:#f44336!important}.container[_ngcontent-%COMP%]     .mat-form-field.ng-invalid.ng-touched .mat-form-field-wrapper label{color:#f44336!important}.error-document-expected[_ngcontent-%COMP%]{font-size:75%!important}  .optionPanel{margin-top:25px!important;margin-left:15px!important}  .mat-select-panel-wrap{max-width:-moz-fit-content!important;max-width:fit-content!important}"]}),i})();var St=u(62395),oi=u(34318);function ri(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function li(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",2)(1,"div",3)(2,"mat-form-field",4),t.\u0275\u0275element(3,"input",37),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()()),2&i&&(t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(4,1,"Legal Entities Based on Siret")))}function si(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required"),""))}function di(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ci(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function pi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Invalid email format")," "))}function mi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function hi(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",38),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",e.dial_code),t.\u0275\u0275property("value",e.dial_code),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.dial_code," ")}}function gi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ui(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function _i(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function fi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function bi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ci(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p",39),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function yi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function xi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Oi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function vi(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",40),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onCancel())}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.getDataCompanyBySiret())}),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,2,"Cancel")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,4,"CARDDETAIL.SAVE_CONTINUE")," "))}function Pi(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",42),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onCancel())}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"Cancel")," "))}function Mi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",43),t.\u0275\u0275element(1,"mat-progress-spinner",44),t.\u0275\u0275elementEnd())}const Si=function(i){return{color:i}};let Ei=(()=>{class i{constructor(e,n,a,o,l,d,p){this.admisssionService=e,this.rncpTitleService=n,this.fb=a,this.financeService=o,this.translate=l,this.router=d,this.authService=p,this.subs=new I.Y,this.cancelTab=new t.EventEmitter,this.continue=new t.EventEmitter,this.addLegalId=new t.EventEmitter,this.updateData=new t.EventEmitter,this.cities=[],this.departments=[],this.regions=[],this.isWaitingForResponse=!1,this.dialCodeList=[],this.isNeedUploadLive=!1}ngOnInit(){this.initForm(),this.router.queryParams.subscribe(e=>{console.log("_res",e),e&&e.scholarSeasonId&&(this.scholarId=e.scholarSeasonId)}),this.getOneLegalEntity(),this.getCountryCode()}ngOnChanges(){}onWheel(e){e?.preventDefault()}getOneLegalEntity(){this.legalEntityId&&(this.isWaitingForResponse=!0,this.subs.sink=this.financeService.getOneLegalEntity(this.legalEntityId).subscribe(e=>{e&&(this.getDialCode(e),this.dataEntity=e,this.isNeedUploadLive=!!e.is_need_upload_live&&e.is_need_upload_live)},e=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}patchValue(e){if(this.dialCodeList.length){const n=this.dialCodeList.find(o=>o.code===e.account_holder_details.phone_number.phone_country_code),a={onboard_step:"company",immatriculation:e.immatriculation,official_website:e.account_holder_details.web_address,email:e.account_holder_details.email,siret:e.account_holder_details.business_detail.registration_number,legal_business_name:e.account_holder_details.business_detail.legal_business_name,country:e.account_holder_details.account_holder_address.country,phone_number:e.account_holder_details.phone_number.phone_number,legal_entities:e.legal_entity_name,type:e.legal_entity,street:e.account_holder_details.account_holder_address.street,number:e.account_holder_details.account_holder_address.house_number_or_name,postal_code:e.account_holder_details.account_holder_address.postal_code,city:e.account_holder_details.account_holder_address.city,department:e.account_holder_details.account_holder_address.department,region:e.account_holder_details.account_holder_address.state_or_province,region_name:e.account_holder_details.account_holder_address.region_name,scholar_season_id:this.scholarId,dial_code:n.dial_code,account_holder_code:e.account_holder_code};"verification_in_progress"===this.dataEntity.online_payment_status||"publish"===this.dataEntity.online_payment_status?this.formCompanyDetail.get("country").disable():this.formCompanyDetail.get("country").enable(),this.formCompanyDetail.patchValue(a),this.firstForm=V().cloneDeep(this.formCompanyDetail.value),this.isWaitingForResponse=!1}}initForm(){this.formCompanyDetail=this.fb.group({legal_entities:["",c.Validators.required],type:[null,c.Validators.required],siret:[null,c.Validators.required],immatriculation:[null,c.Validators.required],email:[null,[c.Validators.required,St.dN.email]],phone_number:[null,[c.Validators.required,c.Validators.maxLength(14)]],official_website:[null,c.Validators.required],street:["",[c.Validators.required,oi.Zx]],number:[null,c.Validators.required],postal_code:[null,c.Validators.required],country:["FR",c.Validators.required],city:[null,c.Validators.required],department:[null,c.Validators.required],region_name:[null,c.Validators.required],region:[null],scholar_season_id:[this.scholarId],legal_business_name:[null],dial_code:["+33"],account_holder_code:[null]}),this.firstForm=V().cloneDeep(this.formCompanyDetail.value)}onCancel(){this.cancelTab.emit(!0)}getCountryCode(){this.subs.sink=this.admisssionService.getAllCountryCodes().subscribe(e=>{e&&(this.listCountry=e)},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("OK")})})}getDialCode(e){this.subs.sink=this.financeService.getDialCodeNumber().subscribe(n=>{n&&(this.dialCodeList=n,this.patchValue(e),this.filteredRefDialCode=this.formCompanyDetail.get("dial_code").valueChanges.pipe((0,N.O)(""),(0,k.U)(a=>this.dialCodeList.filter(o=>!(a&&o&&o.dial_code)||o.dial_code.includes(a)))))},n=>{this.authService.postErrorLog(n),s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("OK")})})}getPostcodeData(){const e=this.formCompanyDetail.get("country").value,n=this.formCompanyDetail.get("postal_code").value;n&&n.length>3&&e&&"fr"===e.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(n,"france").subscribe(a=>{a&&a.length&&this.setAddressDropdown(a)},a=>{this.authService.postErrorLog(a),a&&a.message&&a.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("OK")})}))}checkFormValidity(){return!!this.formCompanyDetail.invalid&&(s().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.formCompanyDetail.markAllAsTouched(),!0)}getDataCompanyBySiret(){if(this.checkFormValidity())return;this.isWaitingForResponse=!0;const e=this.formCompanyDetail.get("siret").value.toString();this.subs.sink=this.financeService.getSchoolAddressBySiretNumber(e).subscribe(n=>{n&&(this.isWaitingForResponse=!1,this.formCompanyDetail.get("legal_business_name").setValue(n.company_name),this.createLegalEntities())},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,"GraphQL error: Siret number not found"===n.message?s().fire({title:this.translate.instant("MERCHANT_S1.TITLE"),html:this.translate.instant("MERCHANT_S1.TEXT"),type:"warning",showConfirmButton:!0,confirmButtonText:this.translate.instant("MERCHANT_S1.BUTTON")}):n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}setAddressDropdown(e){const n=[],a=[],o=[];let l=[];e&&e.length&&e.forEach(d=>{n.push(d.city),a.push(d.department),o.push(d.region_code),l.push(d.province)}),this.cities=V().uniq(n),this.departments=V().uniq(a),this.regions=V().uniq(o),l=V().uniq(l),this.cities&&this.cities.length&&this.formCompanyDetail.get("city").setValue(this.cities[0]),this.departments&&this.departments.length&&this.formCompanyDetail.get("department").setValue(this.departments[0]),this.regions&&this.regions.length&&this.formCompanyDetail.get("region").setValue(this.regions[0]),l&&l.length&&this.formCompanyDetail.get("region_name").setValue(l[0]),this.filteredRegions=this.regions[0]}createLegalEntities(){const e=this.createPayload();this.dataEntity&&this.dataEntity.is_need_upload_live&&(e.is_need_upload_live=this.dataEntity.is_need_upload_live,e.account_code=this.dataEntity.account_code),this.legalEntityId&&!this.isNeedUploadLive?(this.isWaitingForResponse=!0,this.subs.sink=this.financeService.UpdateLegalEntity(e,this.legalEntityId).subscribe(n=>{if(n&&n._id)this.isWaitingForResponse=!1,this.addLegalId.emit(n._id),this.firstForm=V().cloneDeep(this.formCompanyDetail.value),s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.updateData.emit(!0),this.onNext(),this.financeService.setDataMerchantBoardingSaved(!0)});else{this.isWaitingForResponse=!1;let a="";n&&n.error&&n.error.length&&(a+='<ul style="text-align: start; margin-left: 20px">',n.error=V().uniqBy(n.error,"error_description"),n.error.forEach(o=>{o&&o&&o.error_description&&(a+=`<li> ${o.field_name} : ${o.error_description} </li>`)}),a+="</ul>",s().fire({type:"info",title:this.translate.instant("MERCHANT_S2.TITLE"),html:this.translate.instant("MERCHANT_S2.TEXT",{listOfIssue:a}),confirmButtonText:this.translate.instant("MERCHANT_S2.BUTTON")}))}},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})):(this.isWaitingForResponse=!0,this.subs.sink=this.financeService.CreateLegalEntity(e).subscribe(n=>{if(n&&n._id)this.isWaitingForResponse=!1,this.addLegalId.emit(n._id),s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.updateData.emit(!0),this.onNext(),this.financeService.setDataMerchantBoardingSaved(!0)});else{this.isWaitingForResponse=!1;let a="";n&&n.error&&n.error.length&&(a+='<ul style="text-align: start; margin-left: 20px">',n.error=V().uniqBy(n.error,"error_description"),n.error.forEach(o=>{o&&o&&o.error_description&&(a+=`<li> ${o.field_name} : ${o.error_description} </li>`)}),a+="</ul>",s().fire({type:"info",title:this.translate.instant("MERCHANT_S2.TITLE"),html:this.translate.instant("MERCHANT_S2.TEXT",{listOfIssue:a}),confirmButtonText:this.translate.instant("MERCHANT_S2.BUTTON")}))}},n=>{this.authService.postErrorLog(n),this.isWaitingForResponse=!1,n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}comparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.formCompanyDetail.value)?(this.financeService.setDataMerchantBoardingSaved(!0),!0):(this.financeService.setDataMerchantBoardingSaved(!1),!1)}createPayload(){const e=V().cloneDeep(this.formCompanyDetail.value),n=this.checkWebsiteName(e.official_website),a={onboard_step:"company",legal_entity_name:e.legal_entities,immatriculation:e.immatriculation,account_holder_details:{full_phone_number:e.dial_code+e.phone_number.toString(),web_address:n,email:e.email,business_detail:{registration_number:e.siret.toString(),legal_business_name:e.legal_business_name},account_holder_address:{country:e.country,city:e.city,department:e.department,postal_code:e.postal_code,street:e.street,state_or_province:e.region,region_name:e.region_name,house_number_or_name:e.number}},scholar_season_id:this.scholarId,legal_entity:e.type,account_holder_code:e.account_holder_code,online_payment_status:"not_submit"};return console.log("_pay",a),a}checkWebsiteName(e){return"https://"===e.substr(0,8)?e:"https://"+e}onNext(){this.continue.emit(1)}validationPhoneNumber(e){if(e.target.value&&14===e.target.value.length)return!1}ngOnDestroy(){this.financeService.setDataMerchantBoardingSaved(!0),this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(bt.l),t.\u0275\u0275directiveInject(gt.r),t.\u0275\u0275directiveInject(c.UntypedFormBuilder),t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(P.gz),t.\u0275\u0275directiveInject(B.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-boarding-merchant-company-detail"]],inputs:{legalEntityId:"legalEntityId"},outputs:{cancelTab:"cancelTab",continue:"continue",addLegalId:"addLegalId",updateData:"updateData"},features:[t.\u0275\u0275NgOnChangesFeature],decls:105,vars:83,consts:[[1,"container",3,"formGroup"],[2,"border","none","padding","0",3,"disabled"],[1,"p-grid"],[1,"p-col-10"],["floatLabel","auto"],["matInput","","formControlName","legal_entities","type","text",3,"placeholder"],[4,"ngIf"],["class","p-grid",4,"ngIf"],[1,"p-col-4"],["formControlName","type",1,"black-color",3,"disabled"],[1,"m-right-10",3,"ngStyle"],["value","Business",1,"radio-marging-left","m-right-10"],["value","NonProfit",1,"radio-marging-left","m-right-10"],[1,"p-col-5"],["matInput","","type","number","formControlName","siret",3,"placeholder","wheel"],["matInput","","type","text","formControlName","immatriculation",3,"placeholder"],[1,"p-col-3"],["matInput","","type","text","formControlName","email",3,"placeholder"],[1,"p-col-1"],["matInput","","formControlName","dial_code",1,"form-field",3,"placeholder","matAutocomplete"],[3,"panelWidth"],["autoDial","matAutocomplete"],[3,"value","matTooltip",4,"ngFor","ngForOf"],[1,"p-col-2"],["matInput","","type","number","formControlName","phone_number",3,"placeholder","wheel","keypress"],["matInput","","type","text","formControlName","official_website",3,"placeholder"],["matInput","","formControlName","street"],["matInput","","type","text","formControlName","number",3,"placeholder"],["matInput","","type","text","formControlName","postal_code","maxlength","5","pattern","^[0-9]+$",3,"placeholder","keyup"],[1,"p-col-4","custom-select","mrgn-btn"],["bindLabel","country","bindValue","country_code","formControlName","country",1,"custom-ng-select",2,"padding-top","3px",3,"items","multiple","placeholder","change"],["style","color: #f44336; font-size: 75%; margin: 0",4,"ngIf"],["matInput","","type","text","formControlName","city",3,"placeholder"],["matInput","","type","text","formControlName","department",3,"placeholder"],["matInput","","type","text","formControlName","region_name",3,"placeholder"],[1,"text-right",2,"margin-top","10px","margin-bottom","40px"],["class","loading-indicator",4,"ngIf"],["matInput","","readonly","","formControlName","legal_business_name","type","text",3,"placeholder"],[3,"value","matTooltip"],[2,"color","#f44336","font-size","75%","margin","0"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"mat-card")(2,"fieldset",1)(3,"div",2)(4,"div",3)(5,"mat-form-field",4),t.\u0275\u0275element(6,"input",5),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275template(8,ri,3,3,"mat-error",6),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(9,li,5,3,"div",7),t.\u0275\u0275elementStart(10,"div",2)(11,"div",8)(12,"div")(13,"mat-radio-group",9)(14,"span",10),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"mat-radio-button",11),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"mat-radio-button",12),t.\u0275\u0275text(21),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(23,"div"),t.\u0275\u0275template(24,si,3,3,"mat-error",6),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(25,"div",2)(26,"div",13)(27,"mat-form-field",4)(28,"input",14),t.\u0275\u0275listener("wheel",function(o){return n.onWheel(o)}),t.\u0275\u0275pipe(29,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(30,di,3,3,"mat-error",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(31,"div",13)(32,"mat-form-field",4),t.\u0275\u0275element(33,"input",15),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275template(35,ci,3,3,"mat-error",6),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(36,"div",2)(37,"div",16)(38,"mat-form-field",4),t.\u0275\u0275element(39,"input",17),t.\u0275\u0275pipe(40,"translate"),t.\u0275\u0275elementStart(41,"mat-error"),t.\u0275\u0275template(42,pi,3,3,"p",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(43,mi,3,3,"mat-error",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(44,"div",18)(45,"mat-form-field",4),t.\u0275\u0275element(46,"input",19),t.\u0275\u0275pipe(47,"translate"),t.\u0275\u0275elementStart(48,"mat-autocomplete",20,21),t.\u0275\u0275template(50,hi,2,3,"mat-option",22),t.\u0275\u0275pipe(51,"async"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(52,"div",23)(53,"mat-form-field",4)(54,"input",24),t.\u0275\u0275listener("wheel",function(o){return n.onWheel(o)})("keypress",function(o){return n.validationPhoneNumber(o)}),t.\u0275\u0275pipe(55,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(56,gi,3,3,"mat-error",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(57,"div",8)(58,"mat-form-field",4),t.\u0275\u0275element(59,"input",25),t.\u0275\u0275pipe(60,"translate"),t.\u0275\u0275template(61,ui,3,3,"mat-error",6),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(62,"div",2)(63,"div",3)(64,"mat-form-field",4)(65,"mat-label"),t.\u0275\u0275text(66),t.\u0275\u0275pipe(67,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(68,"textarea",26),t.\u0275\u0275template(69,_i,3,3,"mat-error",6),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(70,"div",2)(71,"div",23)(72,"mat-form-field",4),t.\u0275\u0275element(73,"input",27),t.\u0275\u0275pipe(74,"translate"),t.\u0275\u0275template(75,fi,3,3,"mat-error",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(76,"div",8)(77,"mat-form-field",4)(78,"input",28),t.\u0275\u0275listener("keyup",function(){return n.getPostcodeData()}),t.\u0275\u0275pipe(79,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(80,bi,3,3,"mat-error",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(81,"div",29)(82,"ng-select",30),t.\u0275\u0275listener("change",function(){return n.getPostcodeData()}),t.\u0275\u0275pipe(83,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(84,Ci,3,3,"p",31),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(85,"div",2)(86,"div",16)(87,"mat-form-field",4),t.\u0275\u0275element(88,"input",32),t.\u0275\u0275pipe(89,"translate"),t.\u0275\u0275template(90,yi,3,3,"mat-error",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(91,"div",16)(92,"mat-form-field",4),t.\u0275\u0275element(93,"input",33),t.\u0275\u0275pipe(94,"translate"),t.\u0275\u0275template(95,xi,3,3,"mat-error",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(96,"div",8)(97,"mat-form-field",4),t.\u0275\u0275element(98,"input",34),t.\u0275\u0275pipe(99,"translate"),t.\u0275\u0275template(100,Oi,3,3,"mat-error",6),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(101,"div",35),t.\u0275\u0275template(102,vi,7,6,"ng-container",6),t.\u0275\u0275template(103,Pi,4,3,"ng-container",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(104,Mi,2,0,"div",36)),2&e){const a=t.\u0275\u0275reference(49);let o;t.\u0275\u0275property("formGroup",n.formCompanyDetail),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(7,45,"Legal Entities")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("legal_entities").errors),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.formCompanyDetail||null==(o=n.formCompanyDetail.get("legal_business_name"))?null:o.value),t.\u0275\u0275advance(4),t.\u0275\u0275property("disabled","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(81,Si,"verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)?"rgba(255, 255, 255, 0.5)":"")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(16,47,"Type")," *"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(19,49,"Business")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(22,51,"Non Profit")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("type").hasError("required")&&(n.formCompanyDetail.get("type").touched||n.formCompanyDetail.get("type").dirty)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(29,53,"Siret")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("siret").errors),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(34,55,"Immatriculation")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("immatriculation").errors),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(40,57,"E-mail")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("email").hasError("email")&&(n.formCompanyDetail.get("email").touched||n.formCompanyDetail.get("email").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("email").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(47,59,"Dial Code")," *"),t.\u0275\u0275property("matAutocomplete",a),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(51,61,n.filteredRefDialCode)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(55,63,"Phone Number")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("phone_number").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(60,65,"Official Website")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("official_website").hasError("required")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(67,67,"Street")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("street").hasError("required")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(74,69,"Number")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("number").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(79,71,"Post Code")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("postal_code").hasError("required")),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(83,73,"Country"),"*"),t.\u0275\u0275property("items",n.listCountry)("multiple",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("country").hasError("required")&&n.formCompanyDetail.get("country").touched),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(89,75,"City")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("city").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(94,77,"Department")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("department").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(99,79,"Region")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.formCompanyDetail.get("region_name").hasError("required")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","verification_in_progress"!==(null==n.dataEntity?null:n.dataEntity.online_payment_status)&&"publish"!==(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse)}},dependencies:[_.sg,_.O5,_.PC,R.XC,R.ZL,tt.ey,L.lW,mt.a8,w.TO,w.KE,w.hX,X.Nt,M.Ou,Q.VQ,Q.U0,et.gM,c.DefaultValueAccessor,c.NumberValueAccessor,c.NgControlStatus,c.NgControlStatusGroup,c.MaxLengthValidator,c.PatternValidator,c.FormGroupDirective,c.FormControlName,j.Zl,lt.w9,_.Ov,g.X$],styles:[".container[_ngcontent-%COMP%]   .m-right-10[_ngcontent-%COMP%]{margin-right:10px}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select .ng-select-container{background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid rgba(255,255,255,.7)!important;min-height:36px;align-items:center;color:#fff!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .mat-select-arrow-wrapper{padding-right:5px}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .mat-select-value-text{margin-left:10px;font-size:13px}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     ng-dropdown-panel{z-index:99999999999}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff!important;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container{padding-left:0!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-select-disabled>.ng-select-container{color:#ffffff80!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-invalid.ng-touched .ng-select-container .ng-placeholder{color:#f44336!important}.container[_ngcontent-%COMP%]     .mat-form-field.ng-invalid.ng-touched .mat-form-field-wrapper label{color:#f44336!important}  .ng-dropdown-panel-items .ng-option{white-space:break-spaces!important}"]}),i})();function Ti(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",11),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.getPCIQuestionnaire())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Click to Complete")," "))}function wi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"button",12)(1,"mat-icon",13),t.\u0275\u0275text(2," check_circle "),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,1,"Completed")," "))}function Ii(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275element(1,"mat-progress-spinner",15),t.\u0275\u0275elementEnd())}let ki=(()=>{class i{constructor(e,n,a){this.financeService=e,this.translate=n,this.authService=a,this.cancelTab=new t.EventEmitter,this.updateData=new t.EventEmitter,this.previousTab=new t.EventEmitter,this.subs=new I.Y,this.isWaitingForResponse=!1}ngOnInit(){this.getOneLegalEntity()}getOneLegalEntity(){this.legalEntityId&&(this.isWaitingForResponse=!0,this.subs.sink=this.financeService.getOneLegalEntity(this.legalEntityId).subscribe(e=>{e&&(this.isWaitingForResponse=!1,this.dataEntity=m.cloneDeep(e))},e=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(e),s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}onCancel(){this.cancelTab.emit(!0)}onPrevious(){this.previousTab.emit(3)}getPCIQuestionnaire(){let e=window.location.href;e.includes("?openLegalEntities=true")?e=window.location.href:e.includes("legalEntityId")?e=e.replace(`?legalEntityId=${this.legalEntityId}`,"?openLegalEntities=true"):e+="?openLegalEntities=true",this.subs.sink=this.financeService.GetPCIQuestionairUrl({account_holder_code:this.dataEntity&&this.dataEntity.account_holder_code?this.dataEntity.account_holder_code:null,return_url:e}).subscribe(a=>{if(a)this.isWaitingForResponse=!1,window.open(a.redirect_url,"_blank"),this.onCancel();else{this.isWaitingForResponse=!1;let o="";a&&a.error&&a.error.length&&(o+='<ul style="text-align: start; margin-left: 20px">',a.error=m.uniqBy(a.error,"error_description"),a.error.forEach(l=>{l&&l&&l.error_description&&(o+=`<li> ${l.field_name} : ${l.error_description} </li>`)}),o+="</ul>",s().fire({type:"info",title:this.translate.instant("MERCHANT_S2.TITLE"),html:this.translate.instant("MERCHANT_S2.TEXT",{listOfIssue:o}),confirmButtonText:this.translate.instant("MERCHANT_S2.BUTTON")}))}},a=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(a),s().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(B.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-boarding-merchant-pci-compliance-detail"]],inputs:{legalEntityId:"legalEntityId"},outputs:{cancelTab:"cancelTab",updateData:"updateData",previousTab:"previousTab"},decls:19,vars:13,consts:[[1,"container"],[2,"border","none","padding","0",3,"disabled"],[1,"p-grid","pci-compliance-container"],[1,"p-col-5","custom-select","mrgn-btn"],[1,"margin-right-text"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","style","cursor: default",4,"ngIf"],[1,"text-right",2,"margin-top","10px","margin-bottom","40px"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],["class","loading-indicator",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","accent",2,"cursor","default"],[1,"complete"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"form",0)(1,"mat-card")(2,"fieldset",1)(3,"div",2)(4,"div",3)(5,"span",4),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,Ti,3,3,"button",5),t.\u0275\u0275template(9,wi,5,3,"button",6),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(10,"div",7),t.\u0275\u0275elementContainerStart(11),t.\u0275\u0275elementStart(12,"button",8),t.\u0275\u0275listener("click",function(){return n.onCancel()}),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"button",9),t.\u0275\u0275listener("click",function(){return n.onPrevious()}),t.\u0275\u0275text(16),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(18,Ii,2,0,"div",10)),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(7,7,"PCI Compliance"),""),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","pci_not_complete"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","pci_not_complete"!==(null==n.dataEntity?null:n.dataEntity.online_payment_status)&&"not_submit"!==(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(14,9,"Cancel")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(17,11,"CARDDETAIL.Previous")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[_.O5,L.lW,mt.a8,K.Hw,M.Ou,c.\u0275NgNoValidate,c.NgControlStatusGroup,c.NgForm,g.X$],styles:[".pci-compliance-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.margin-right-text[_ngcontent-%COMP%]{margin-right:1rem}.complete[_ngcontent-%COMP%]{font-size:21px;color:green}"]}),i})();var at=u(99602);const Di=["fileUploadDoc"],Bi=["fileUploadDocFront"],Fi=["fileUploadDocBack"];function Ai(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",57),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ni(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p",59),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ri(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",22)(2,"ng-select",58),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.checkIfController(a))}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Ni,3,3,"p",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(3,4,"Shareholder Type"),"*"),t.\u0275\u0275property("items",e.shareholderList)("multiple",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.shareholderFormArray.at(0).get("shareholder_type").hasError("required")&&e.shareholderFormArray.at(0).get("shareholder_type").touched)}}function Li(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p",59),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Vi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ui(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",60)(1,"ng-select",58),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.checkIfController(a))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,Li,3,3,"p",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",41)(5,"mat-form-field"),t.\u0275\u0275element(6,"input",61),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275template(8,Vi,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(2,6,"Shareholder Type"),"*"),t.\u0275\u0275property("items",e.shareholderList)("multiple",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.shareholderFormArray.at(0).get("shareholder_type").hasError("required")&&e.shareholderFormArray.at(0).get("shareholder_type").touched),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(7,8,"Job Title")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.shareholderFormArray.at(0).get("job_title").errors)}}function qi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Gi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ki(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ji(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p",59),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Hi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Invalid email format")," "))}function Wi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function $i(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",62),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",e.dial_code),t.\u0275\u0275property("value",e.dial_code),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.dial_code," ")}}function zi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Yi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Qi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Xi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Zi(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p",59),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ji(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ta(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ea(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function na(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p",59),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function ia(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function aa(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p",59),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function oa(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ra(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function la(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ID_CARD_FRONT")," "))}function sa(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"DRIVING_LICENCE_FRONT")," "))}function da(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",6)(1,"div",36),t.\u0275\u0275template(2,la,3,3,"ng-container",16),t.\u0275\u0275template(3,sa,3,3,"ng-container",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",34)(5,"button",65),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.openUploadWindowFront())}),t.\u0275\u0275elementStart(6,"mat-icon"),t.\u0275\u0275text(7,"file_upload"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"input",66,67),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.chooseFile(a,"front"))}),t.\u0275\u0275elementEnd()()()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","ID_CARD"===e.selectedType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","DRIVING_LINCENCE"===e.selectedType),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,4,"Upload Document Expected")," ")}}function ca(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",57),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function pa(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ID_CARD_BACK")," "))}function ma(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"DRIVING_LICENCE_BACK")," "))}function ha(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",6)(1,"div",36),t.\u0275\u0275template(2,pa,3,3,"ng-container",16),t.\u0275\u0275template(3,ma,3,3,"ng-container",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",34)(5,"button",65),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.openUploadWindowBack())}),t.\u0275\u0275elementStart(6,"mat-icon"),t.\u0275\u0275text(7,"file_upload"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"input",66,68),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.chooseFile(a,"back"))}),t.\u0275\u0275elementEnd()()()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","ID_CARD"===e.selectedType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","DRIVING_LINCENCE"===e.selectedType),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,4,"Upload Document Expected")," ")}}function ga(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",57),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function ua(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ID_CARD_FRONT")," "))}function _a(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"DRIVING_LICENCE_FRONT")," "))}function fa(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",69)(2,"div",36),t.\u0275\u0275template(3,ua,3,3,"ng-container",16),t.\u0275\u0275template(4,_a,3,3,"ng-container",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",26)(6,"input",66,67),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.chooseFile(a,"front"))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"button",70),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.openUploadWindowFront())}),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementStart(10,"mat-icon",71),t.\u0275\u0275text(11,"edit"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"button",70),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.deleteFront())}),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementStart(14,"mat-icon",71),t.\u0275\u0275text(15,"delete"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(16,"div",72),t.\u0275\u0275text(17),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","ID_CARD"===e.selectedType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","DRIVING_LINCENCE"===e.selectedType),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(9,7,"Edit")),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(13,9,"Delete")),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",e.documentFront," ")}}function ba(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ID_CARD_BACK")," "))}function Ca(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"DRIVING_LICENCE_BACK")," "))}function ya(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",69)(2,"div",36),t.\u0275\u0275template(3,ba,3,3,"ng-container",16),t.\u0275\u0275template(4,Ca,3,3,"ng-container",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",26)(6,"input",66,68),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.chooseFile(a,"back"))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"button",73),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.openUploadWindowBack())}),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementStart(10,"mat-icon",71),t.\u0275\u0275text(11,"edit"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"button",73),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.deleteBack())}),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementStart(14,"mat-icon",71),t.\u0275\u0275text(15,"delete"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(16,"div",72),t.\u0275\u0275text(17),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","ID_CARD"===e.selectedType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","DRIVING_LINCENCE"===e.selectedType),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(9,7,"Edit")),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(13,9,"Delete")),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",e.documentBack," ")}}function xa(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,da,12,6,"div",63),t.\u0275\u0275elementStart(2,"div",6)(3,"div",64),t.\u0275\u0275template(4,ca,3,3,"mat-error",12),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(5,ha,12,6,"div",63),t.\u0275\u0275elementStart(6,"div",6)(7,"div",64),t.\u0275\u0275template(8,ga,3,3,"mat-error",12),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(9,fa,18,11,"ng-container",16),t.\u0275\u0275template(10,ya,18,11,"ng-container",16),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.documentFront),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!e.documentFront&&e.selectDocumentFront&&!e.shareholderFormArray.at(0).get("upload_document").hasError("required")&&(e.shareholderFormArray.at(0).get("upload_document").touched||e.shareholderFormArray.at(0).get("upload_document"))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.documentBack),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!e.documentBack&&e.selectDocumentBack&&!e.shareholderFormArray.at(0).get("upload_document").hasError("required")&&(e.shareholderFormArray.at(0).get("upload_document").touched||e.shareholderFormArray.at(0).get("upload_document"))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.documentFront),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.documentBack)}}function Oa(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",57),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function va(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",6)(2,"div",64)(3,"button",65),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.openUploadWindow())}),t.\u0275\u0275elementStart(4,"mat-icon"),t.\u0275\u0275text(5,"file_upload"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"input",66,74),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.chooseFile(a,"single"))}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(10,"div",6)(11,"div",64),t.\u0275\u0275template(12,Oa,3,3,"mat-error",12),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(7,3,"Upload Document Expected")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",!e.documentSingle&&e.selectDocumentSingle&&!e.shareholderFormArray.at(0).get("upload_document").hasError("required")&&(e.shareholderFormArray.at(0).get("upload_document").touched||e.shareholderFormArray.at(0).get("upload_document")))}}function Pa(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",69)(2,"input",66,74),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.chooseFile(a,"single"))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",26)(5,"button",73),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.openUploadWindow())}),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementStart(7,"mat-icon",71),t.\u0275\u0275text(8,"edit"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"button",73),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.deleteSingle())}),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementStart(11,"mat-icon",71),t.\u0275\u0275text(12,"delete"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(13,"div",75),t.\u0275\u0275text(14),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(6,5,"Edit")),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(10,7,"Delete")),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",e.documentSingle," ")}}function Ma(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,va,13,5,"ng-container",16),t.\u0275\u0275template(2,Pa,15,9,"ng-container",16),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.documentSingle),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.documentSingle)}}function Sa(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,xa,11,6,"ng-container",16),t.\u0275\u0275template(2,Ma,3,2,"ng-container",16),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","ID_CARD"===e.selectedType||"DRIVING_LINCENCE"===e.selectedType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","PASSPORT"===e.selectedType)}}function Ea(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",76),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onCancel())}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",77),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onPrevious())}),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"button",78),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.updatedLegalEntities())}),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,3,"Cancel")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,5,"CARDDETAIL.Previous")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,7,"CARDDETAIL.SAVE_CONTINUE")," "))}function Ta(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",77),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onCancel())}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"Cancel")," "))}function wa(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",79),t.\u0275\u0275element(1,"mat-progress-spinner",80),t.\u0275\u0275elementEnd())}const Ia=function(i){return{color:i}};let ka=(()=>{class i{constructor(e,n,a,o,l,d,p,f,h){this.router=e,this.fb=n,this.admisssionService=a,this.rncpTitleService=o,this.financeService=l,this.translate=d,this.fileUploadService=p,this.utilService=f,this.authService=h,this.cancelTab=new t.EventEmitter,this.previousTab=new t.EventEmitter,this.continue=new t.EventEmitter,this.updateData=new t.EventEmitter,this.subs=new I.Y,this.cities=[],this.departments=[],this.regions=[],this.dialCodeList=[],this.identitificationList=[{name:"Passport",value:"PASSPORT"},{name:"Driving License",value:"DRIVINGLICENSE"},{name:"Social Security",value:"SOCIALSECURITY"},{name:"Visa",value:"VISA"},{name:"ID",value:"ID"}],this.shareholderList=[{name:"Owner",value:"Owner"},{name:"Controller",value:"Controller"}],this.isWaitingForResponse=!1,this.isController=!1,this.selectDocumentBack=!1,this.selectDocumentFront=!1,this.selectDocumentSingle=!1}ngOnInit(){this.initForm(),this.getDialCode(),this.router.queryParams.subscribe(e=>{console.log("_res",e),e&&e.scholarSeasonId&&(this.scholarId=e.scholarSeasonId)}),this.getListIdentification(),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.getListIdentification()}),this.getCountryCode()}getListIdentification(){this.identitificationList=[{name:this.translate.instant("Passport"),value:"PASSPORT"},{name:this.translate.instant("Driving License"),value:"DRIVINGLICENSE"},{name:this.translate.instant("Social Security"),value:"SOCIALSECURITY"},{name:this.translate.instant("Visa"),value:"VISA"},{name:this.translate.instant("ID"),value:"ID"}],this.shareholderList=[{name:this.translate.instant("Owner"),value:"Owner"},{name:this.translate.instant("Controller"),value:"Controller"}]}ngOnChanges(){}onWheel(e){e?.preventDefault()}getOneLegalEntity(){this.legalEntityId&&(this.isWaitingForResponse=!0,this.subs.sink=this.financeService.getOneLegalEntity(this.legalEntityId).subscribe(e=>{if(e){if(this.isWaitingForResponse=!1,"verification_in_progress"===e.online_payment_status||"publish"===e.online_payment_status?(this.shareholderFormArray.at(0).get("country").disable(),this.shareholderFormArray.at(0).get("shareholder_type").disable(),this.shareholderFormArray.at(0).get("shareholder_personal_data").disable()):(this.shareholderFormArray.at(0).get("country").enable(),this.shareholderFormArray.at(0).get("shareholder_type").enable(),this.shareholderFormArray.at(0).get("shareholder_personal_data").enable()),e.documents&&e.documents.length){let n=[];e.documents.filter(a=>{"Shareholder"===a.owner&&a.is_latest&&n.push(a)}),n&&(n.length>1&&2===n.length&&("ID_CARD_FRONT"===n[0].document_type||"DRIVING_LICENCE_FRONT"===n[0].document_type||"ID_CARD_BACK"===n[0].document_type||"DRIVING_LICENCE_BACK"===n[0].document_type)&&(("ID_CARD_FRONT"===n[0].document_type||"ID_CARD_BACK"===n[0].document_type)&&(this.selectedType="ID_CARD"),("DRIVING_LICENCE_FRONT"===n[0].document_type||"DRIVING_LICENCE_BACK"===n[0].document_type)&&(this.selectedType="DRIVING_LINCENCE"),this.shareholderFormArray.at(0).get("upload_document").patchValue(this.selectedType),("ID_CARD_FRONT"===n[0].document_type||"DRIVING_LICENCE_FRONT"===n[0].document_type)&&(this.documentFront=n[0].s3_file_name,this.documentNameFront=n[0].s3_file_name),("ID_CARD_FRONT"===n[1].document_type||"DRIVING_LICENCE_FRONT"===n[1].document_type)&&(this.documentFront=n[1].s3_file_name,this.documentNameFront=n[1].s3_file_name),("ID_CARD_BACK"===n[0].document_type||"DRIVING_LICENCE_BACK"===n[0].document_type)&&(this.documentBack=n[0].s3_file_name,this.documentNameBack=n[0].s3_file_name),("ID_CARD_BACK"===n[1].document_type||"DRIVING_LICENCE_BACK"===n[1].document_type)&&(this.documentBack=n[1].s3_file_name,this.documentNameBack=n[1].s3_file_name)),1===n.length&&(this.selectedType="PASSPORT",this.documentNameSingle=n[0].s3_file_name,this.documentSingle=n[0].s3_file_name,this.shareholderFormArray.at(0).get("upload_document").patchValue(this.selectedType)))}this.shareholderForm.patchValue(e),this.firstForm=m.cloneDeep(this.shareholderForm.value),this.dataEntity=e,this.checkCondition(e)}},e=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(e),s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}getCountryCode(){this.subs.sink=this.admisssionService.getAllCountryCodes().subscribe(e=>{e&&(this.listCountry=e)},e=>{this.authService.postErrorLog(e),s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("OK")})})}getDialCode(){this.isWaitingForResponse=!0,this.subs.sink=this.financeService.getDialCodeNumber().subscribe(e=>{e&&(this.dialCodeList=e,this.getOneLegalEntity(),this.filteredRefDialCode=this.shareholderFormArray.at(0).get("dial_code").valueChanges.pipe((0,N.O)(""),(0,k.U)(n=>this.dialCodeList.filter(a=>!(n&&a&&a.dial_code)||a.dial_code.includes(n)))))},e=>{this.authService.postErrorLog(e),s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("OK")})})}initForm(){this.shareholderForm=this.fb.group({onboard_step:["shareholder"],account_holder_code:[null],file_name_front:[null],file_name_back:[null],file_name_single:[null],account_holder_details:this.fb.group({business_detail:this.fb.group({shareholders:this.fb.array([this.initShareHolderForm()])})})}),this.firstForm=m.cloneDeep(this.shareholderForm.value)}initShareHolderForm(){return this.fb.group({first_name:[null,c.Validators.required],gender:[null,c.Validators.required],last_name:[null,c.Validators.required],country:["FR",c.Validators.required],shareholder_type:[null,c.Validators.required],postal_code:[null,c.Validators.required],city:[null,c.Validators.required],department:[null,c.Validators.required],region:[null,c.Validators.required],region_name:[null,c.Validators.required],state_or_province:[null],house_number_or_name:[null,c.Validators.required],street:[null,c.Validators.required],email:[null,[c.Validators.required,St.dN.email]],dial_code:["+33"],full_phone_number:[null,[c.Validators.required,c.Validators.maxLength(14)]],job_title:[null],shareholder_personal_data:this.fb.group({date_of_birth:[null,c.Validators.required],nationality:["FR",c.Validators.required],document_data:this.fb.array([this.initDocumentForm()])}),shareholder_code:[null],upload_document:[null,c.Validators.required]})}initDocumentForm(){return this.fb.group({expiration_date:[null,c.Validators.required],issuer_country:["FR",c.Validators.required],number:[null,c.Validators.required],type:[null,c.Validators.required]})}get shareholderFormArray(){return this.shareholderForm.get("account_holder_details").get("business_detail").get("shareholders")}getPostcodeData(){const e=this.shareholderFormArray.at(0).get("country").value,n=this.shareholderFormArray.at(0).get("postal_code").value;n&&n.length>3&&e&&"fr"===e.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(n,"france").subscribe(a=>{a&&a.length&&this.setAddressDropdown(a)},a=>{this.authService.postErrorLog(a),s().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("OK")})}))}onCancel(){this.cancelTab.emit(!0)}onPrevious(){this.previousTab.emit(1)}onNext(){this.continue.emit(3)}setAddressDropdown(e){const n=[],a=[],o=[];let l=[];e&&e.length&&e.forEach(d=>{n.push(d.city),a.push(d.department),o.push(d.region_code),l.push(d.province)}),this.cities=m.uniq(n),this.departments=m.uniq(a),this.regions=m.uniq(o),l=m.uniq(l),this.cities&&this.cities.length&&this.shareholderFormArray.at(0).get("city").setValue(this.cities[0]),this.departments&&this.departments.length&&this.shareholderFormArray.at(0).get("department").setValue(this.departments[0]),this.regions&&this.regions.length&&this.shareholderFormArray.at(0).get("region").setValue(this.regions[0]),l&&l.length&&this.shareholderFormArray.at(0).get("region_name").setValue(l[0])}checkFormValidity(){return!(!this.shareholderForm.invalid&&!this.checkDocument()||(s().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.shareholderForm.markAllAsTouched(),0))}updatedLegalEntities(){if(this.selectDocumentBack=!0,this.selectDocumentFront=!0,this.selectDocumentSingle=!0,this.checkFormValidity())return;const e=this.createPayload(),n=this.legalEntityId;if(e.online_payment_status="not_submit","PASSPORT"===this.selectedType){let o=[];o.push({s3_file_name:this.documentSingle,document_name:this.documentNameSingle,document_type:"PASSPORT"}),e.upload_document=o}else{const a={s3_file_name:this.documentFront,document_name:this.documentNameFront},o={s3_file_name:this.documentBack,document_name:this.documentNameBack};let l={},d={},p=[];"ID_CARD"===this.selectedType&&(l={...a,document_type:"ID_CARD_FRONT"},d={...o,document_type:"ID_CARD_BACK"},p.push(l),p.push(d)),"DRIVING_LINCENCE"===this.selectedType&&(l={...a,document_type:"DRIVING_LICENCE_FRONT"},d={...o,document_type:"DRIVING_LICENCE_BACK"},p.push(l),p.push(d)),e.upload_document=p}this.isWaitingForResponse=!0,this.subs.sink=this.financeService.UpdateLegalEntity(e,n).subscribe(a=>{if(a&&a._id)this.isWaitingForResponse=!1,this.firstForm=m.cloneDeep(this.shareholderForm.value),s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.financeService.setDataMerchantBoardingSaved(!0),this.updateData.emit(!0),this.onNext()});else{this.isWaitingForResponse=!1;let o="";a&&a.error&&a.error.length&&(o+='<ul style="text-align: start; margin-left: 20px">',a.error=m.uniqBy(a.error,"error_description"),a.error.forEach(l=>{l&&l&&l.error_description&&(o+=`<li> ${l.field_name} : ${l.error_description} </li>`)}),o+="</ul>",s().fire({type:"info",title:this.translate.instant("MERCHANT_S2.TITLE"),html:this.translate.instant("MERCHANT_S2.TEXT",{listOfIssue:o}),confirmButtonText:this.translate.instant("MERCHANT_S2.BUTTON")}))}},a=>{this.authService.postErrorLog(a),this.isWaitingForResponse=!1,s().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}comparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.shareholderForm.value)?(this.financeService.setDataMerchantBoardingSaved(!0),!0):(this.financeService.setDataMerchantBoardingSaved(!1),!1)}createPayload(){const e=m.cloneDeep(this.shareholderForm.value);return e.account_holder_details.business_detail.shareholders[0].state_or_province=this.shareholderFormArray.at(0).get("region").value,e.account_holder_details.business_detail.shareholders[0].region_name=this.shareholderFormArray.at(0).get("region_name").value,e.account_holder_details.business_detail.shareholders[0].shareholder_personal_data.date_of_birth=q(this.shareholderFormArray.at(0).get("shareholder_personal_data").get("date_of_birth").value).format("YYYY-MM-DD"),e.account_holder_details.business_detail.shareholders[0].shareholder_personal_data.document_data[0].expiration_date=q(this.shareholderFormArray.at(0).get("shareholder_personal_data").get("document_data").get("0").get("expiration_date").value).format("YYYY-MM-DD"),e.onboard_step="shareholder","Controller"!==e.account_holder_details.business_detail.shareholders[0].shareholder_type&&(e.account_holder_details.business_detail.shareholders[0].job_title=""),e.account_holder_details.business_detail.shareholders[0].full_phone_number=this.shareholderFormArray.at(0).get("dial_code").value+this.shareholderFormArray.at(0).get("full_phone_number").value.toString(),delete e.account_holder_details.business_detail.shareholders[0].dial_code,delete e.account_holder_details.business_detail.shareholders[0].upload_document,delete e.file_name_front,delete e.file_name_back,delete e.file_name_single,e}checkIfController(e){"Owner"===e.name?(this.isController=!1,this.shareholderFormArray.at(0).get("job_title").disable()):(this.isController=!0,this.shareholderFormArray.at(0).get("job_title").enable())}checkCondition(e){if(this.isController=!!(e&&e.account_holder_details&&e.account_holder_details.business_detail&&e.account_holder_details.business_detail.shareholders.length&&"Controller"===e.account_holder_details.business_detail.shareholders[0].shareholder_type),e&&e.account_holder_details&&e.account_holder_details.business_detail&&e.account_holder_details.business_detail.shareholders.length&&e.account_holder_details.business_detail.shareholders[0].full_phone_number&&this.dialCodeList){const n=this.dialCodeList.find(a=>{if(e.account_holder_details.business_detail.shareholders[0].full_phone_number.includes(a.dial_code))return a});if(n){this.shareholderFormArray.at(0).get("dial_code").patchValue(n.dial_code);let a=m.cloneDeep(e.account_holder_details.business_detail.shareholders[0].full_phone_number);a=a.replaceAll(n.dial_code,""),this.shareholderFormArray.at(0).get("full_phone_number").patchValue(a),this.firstForm=m.cloneDeep(this.shareholderForm.value)}}}openUploadWindowFront(){this.selectDocumentFront=!0,this.fileUploaderDocFront.nativeElement.click()}openUploadWindowBack(){this.selectDocumentBack=!0,this.fileUploaderDocBack.nativeElement.click()}openUploadWindow(){this.selectDocumentSingle=!0,this.fileUploaderDoc.nativeElement.click()}chooseFile(e,n){const o=e.target.files[0],l=this.utilService.getFileExtension(o.name).toLocaleLowerCase();["pdf","jpg"].includes(l)?(this.isWaitingForResponse=!0,this.subs.sink=this.fileUploadService.singleUpload(o).subscribe(d=>{this.isWaitingForResponse=!1,d&&("back"===n?(this.selectDocumentBack=!1,this.documentBack=d.s3_file_name,this.documentNameBack=o.name,this.fileUploaderDocBack.nativeElement="","ID_CARD"===this.selectedType&&this.shareholderFormArray.at(0).get("upload_document").patchValue("ID_CARD"),"DRIVING_LINCENCE"===this.selectedType&&this.shareholderFormArray.at(0).get("upload_document").patchValue("DRIVING_LINCENCE"),this.shareholderForm.get("file_name_back").patchValue(d.s3_file_name)):"front"===n?(this.selectDocumentFront=!1,this.documentFront=d.s3_file_name,this.documentNameFront=o.name,this.fileUploaderDocFront.nativeElement="","ID_CARD"===this.selectedType&&this.shareholderFormArray.at(0).get("upload_document").patchValue("ID_CARD"),"DRIVING_LINCENCE"===this.selectedType&&this.shareholderFormArray.at(0).get("upload_document").patchValue("DRIVING_LINCENCE"),this.shareholderForm.get("file_name_front").patchValue(d.s3_file_name)):(this.selectDocumentSingle=!1,this.documentSingle=d.s3_file_name,this.fileUploaderDoc.nativeElement="",this.documentNameSingle=o.name,this.shareholderFormArray.at(0).get("upload_document").patchValue("PASSPORT"),this.shareholderForm.get("file_name_single").patchValue(d.s3_file_name)))},d=>{this.isWaitingForResponse=!1,console.log("[Response BE][Error] : ",d),this.authService.postErrorLog(d),s().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:"OK"})})):s().fire({type:"info",title:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TITLE"),text:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TEXT",{file_exts:".jpg, .jpeg, .png, .pdf"}),allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})}deleteBack(){this.selectDocumentBack=!0,this.documentBack=""}deleteFront(){this.selectDocumentFront=!0,this.documentFront=""}deleteSingle(){this.selectDocumentSingle=!0,this.documentSingle=""}ngOnDestroy(){this.financeService.setDataMerchantBoardingSaved(!0),this.subs.unsubscribe()}checkDocument(){return"PASSPORT"===this.selectedType?!(this.documentSingle&&this.documentNameSingle):"ID_CARD"!==this.selectedType&&"DRIVING_LINCENCE"!==this.selectedType||!(this.documentFront&&this.documentBack&&this.documentNameBack&&this.documentNameFront)}selectType(e){this.documentBack="",this.documentSingle="",this.documentFront="",this.selectedType=e,console.log(this.selectedType)}validationPhoneNumber(e){if(e.target.value&&14===e.target.value.length)return!1}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(P.gz),t.\u0275\u0275directiveInject(c.UntypedFormBuilder),t.\u0275\u0275directiveInject(bt.l),t.\u0275\u0275directiveInject(gt.r),t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(ft.J),t.\u0275\u0275directiveInject(Y.t),t.\u0275\u0275directiveInject(B.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-boarding-merchant-shareholder-detail"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(Di,5),t.\u0275\u0275viewQuery(Bi,5),t.\u0275\u0275viewQuery(Fi,5)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.fileUploaderDoc=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.fileUploaderDocFront=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.fileUploaderDocBack=a.first)}},inputs:{legalEntityId:"legalEntityId"},outputs:{cancelTab:"cancelTab",previousTab:"previousTab",continue:"continue",updateData:"updateData"},features:[t.\u0275\u0275NgOnChangesFeature],decls:161,vars:129,consts:[[1,"container",3,"formGroup"],["formGroupName","account_holder_details"],["formGroupName","business_detail"],["formGroupName","shareholders"],["formGroupName","0"],[2,"border","none","padding","0",3,"disabled"],[1,"p-grid"],[1,"p-col-5"],["formControlName","gender","required","",3,"disabled"],[1,"m-right-10",3,"ngStyle"],["value","MALE",1,"radio-marging-left","m-right-10"],["value","FEMALE",1,"radio-marging-left","m-right-10"],["class","error-document-expected",4,"ngIf"],[4,"ngIf","ngIfElse"],["toBeController",""],["formControlName","first_name","type","text","matInput","","required","",3,"placeholder"],[4,"ngIf"],["formControlName","last_name","type","text","matInput","","required","",3,"placeholder"],["formGroupName","shareholder_personal_data"],["matInput","","readonly","","required","","floatLabel","never","formControlName","date_of_birth",3,"matDatepicker","placeholder","click"],["matSuffix","",3,"for"],["myDatepicker1",""],[1,"p-col-5","custom-select","mrgn-btn"],["bindLabel","country","bindValue","country_code","formControlName","nationality","appendTo","body",2,"padding-top","5px",3,"items","multiple","placeholder"],["style","color: #f44336; font-size: 75%; margin: 0",4,"ngIf"],["formControlName","email","type","email","matInput","","required","",3,"placeholder"],[1,"p-col-1"],["floatLabel","auto"],["matInput","","formControlName","dial_code","pattern","^[+][0-9]+$",1,"form-field",3,"placeholder","matAutocomplete"],[3,"panelWidth"],["autoDial","matAutocomplete"],[3,"value","matTooltip",4,"ngFor","ngForOf"],[1,"p-col-4"],["formControlName","full_phone_number","type","number","matInput","","required","",3,"placeholder","wheel","keypress"],[1,"p-col-8"],["formControlName","street","type","text","matInput","","required","",3,"placeholder"],[1,"p-col-2"],["formControlName","house_number_or_name","type","text","matInput","","required","",3,"placeholder"],["formControlName","postal_code","type","text","pattern","^[0-9]+$","matInput","","required","",3,"placeholder","keyup"],["bindLabel","country","appendTo","body","bindValue","country_code","formControlName","country",2,"padding-top","5px",3,"items","multiple","placeholder","change"],["formControlName","city","type","text","matInput","","required","",3,"placeholder"],[1,"p-col-3"],["formControlName","department","type","text","matInput","","required","",3,"placeholder"],["formControlName","region_name","type","text","matInput","","required","",3,"placeholder"],["formGroupName","document_data"],["bindLabel","name","bindValue","value","appendTo","body","formControlName","type",2,"padding-top","5px",3,"items","multiple","placeholder"],["formControlName","number","type","text","matInput","","required","",3,"placeholder"],["bindLabel","country","bindValue","country_code","formControlName","issuer_country",2,"padding-top","5px",3,"items","multiple","placeholder"],["matInput","","readonly","","required","","floatLabel","never","formControlName","expiration_date",3,"matDatepicker","placeholder","click"],["myDatepicker",""],[1,"p-col-10","classHeading"],["panelClass","optionPanel","formControlName","upload_document",3,"disableOptionCentering","disabled"],["value","PASSPORT",3,"click"],["value","ID_CARD",3,"click"],["value","DRIVING_LINCENCE",3,"click"],[1,"text-right",2,"margin-top","10px","margin-bottom","40px"],["class","loading-indicator",4,"ngIf"],[1,"error-document-expected"],["bindLabel","name","bindValue","value","formControlName","shareholder_type",2,"padding-top","5px",3,"items","multiple","placeholder","change"],[2,"color","#f44336","font-size","75%","margin","0"],[1,"p-col-2","custom-select","mrgn-btn"],["formControlName","job_title","type","text","matInput","","required","",3,"placeholder"],[3,"value","matTooltip"],["class","p-grid",4,"ngIf"],[1,"p-col"],["mat-raised-button","","color","accent",3,"disabled","click"],["type","file","accept",".pdf, .jpg",1,"hidden",3,"change"],["fileUploadDocFront",""],["fileUploadDocBack",""],[1,"p-grid",2,"padding-top","15px"],["mat-icon-button","",3,"matTooltip","disabled","click"],[2,"color","black"],[1,"p-col-7",2,"margin-top","6px"],["mat-icon-button","",3,"disabled","matTooltip","click"],["fileUploadDoc",""],[1,"p-col-10",2,"margin-top","6px"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){if(1&e){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",0),t.\u0275\u0275elementContainerStart(1,1)(2,2)(3,3)(4,4),t.\u0275\u0275elementStart(5,"mat-card")(6,"fieldset",5)(7,"div",6)(8,"div",7)(9,"div")(10,"mat-radio-group",8)(11,"span",9),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"mat-radio-button",10),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"mat-radio-button",11),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(20,"div"),t.\u0275\u0275template(21,Ai,3,3,"mat-error",12),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(22,Ri,5,6,"ng-container",13),t.\u0275\u0275template(23,Ui,9,10,"ng-template",null,14,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(25,"div",6)(26,"div",7)(27,"mat-form-field"),t.\u0275\u0275element(28,"input",15),t.\u0275\u0275pipe(29,"translate"),t.\u0275\u0275template(30,qi,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(31,"div",7)(32,"mat-form-field"),t.\u0275\u0275element(33,"input",17),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275template(35,Gi,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerStart(36,18),t.\u0275\u0275elementStart(37,"div",6)(38,"div",7)(39,"mat-form-field")(40,"input",19),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(a);const l=t.\u0275\u0275reference(44);return t.\u0275\u0275resetView(l.open())}),t.\u0275\u0275pipe(41,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(42,"mat-datepicker-toggle",20)(43,"mat-datepicker",null,21),t.\u0275\u0275template(45,Ki,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(46,"div",22),t.\u0275\u0275element(47,"ng-select",23),t.\u0275\u0275pipe(48,"translate"),t.\u0275\u0275template(49,ji,3,3,"p",24),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementStart(50,"div",6)(51,"div",7)(52,"mat-form-field"),t.\u0275\u0275element(53,"input",25),t.\u0275\u0275pipe(54,"translate"),t.\u0275\u0275elementStart(55,"mat-error"),t.\u0275\u0275template(56,Hi,3,3,"p",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(57,Wi,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(58,"div",26)(59,"mat-form-field",27),t.\u0275\u0275element(60,"input",28),t.\u0275\u0275pipe(61,"translate"),t.\u0275\u0275elementStart(62,"mat-autocomplete",29,30),t.\u0275\u0275template(64,$i,2,3,"mat-option",31),t.\u0275\u0275pipe(65,"async"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(66,"div",32)(67,"mat-form-field")(68,"input",33),t.\u0275\u0275listener("wheel",function(l){return n.onWheel(l)})("keypress",function(l){return n.validationPhoneNumber(l)}),t.\u0275\u0275pipe(69,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(70,zi,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(71,"div",6)(72,"div",34)(73,"mat-form-field"),t.\u0275\u0275element(74,"input",35),t.\u0275\u0275pipe(75,"translate"),t.\u0275\u0275template(76,Yi,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(77,"div",36)(78,"mat-form-field"),t.\u0275\u0275element(79,"input",37),t.\u0275\u0275pipe(80,"translate"),t.\u0275\u0275template(81,Qi,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(82,"div",6)(83,"div",7)(84,"mat-form-field")(85,"input",38),t.\u0275\u0275listener("keyup",function(){return n.getPostcodeData()}),t.\u0275\u0275pipe(86,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(87,Xi,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(88,"div",22)(89,"ng-select",39),t.\u0275\u0275listener("change",function(){return n.getPostcodeData()}),t.\u0275\u0275pipe(90,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(91,Zi,3,3,"p",24),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(92,"div",6)(93,"div",32)(94,"mat-form-field"),t.\u0275\u0275element(95,"input",40),t.\u0275\u0275pipe(96,"translate"),t.\u0275\u0275template(97,Ji,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(98,"div",41)(99,"mat-form-field"),t.\u0275\u0275element(100,"input",42),t.\u0275\u0275pipe(101,"translate"),t.\u0275\u0275template(102,ta,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(103,"div",41)(104,"mat-form-field"),t.\u0275\u0275element(105,"input",43),t.\u0275\u0275pipe(106,"translate"),t.\u0275\u0275template(107,ea,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerStart(108,18)(109,44)(110,4),t.\u0275\u0275elementStart(111,"div",6)(112,"div",22),t.\u0275\u0275element(113,"ng-select",45),t.\u0275\u0275pipe(114,"translate"),t.\u0275\u0275template(115,na,3,3,"p",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(116,"div",7)(117,"mat-form-field"),t.\u0275\u0275element(118,"input",46),t.\u0275\u0275pipe(119,"translate"),t.\u0275\u0275template(120,ia,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(121,"div",6)(122,"div",22),t.\u0275\u0275element(123,"ng-select",47),t.\u0275\u0275pipe(124,"translate"),t.\u0275\u0275template(125,aa,3,3,"p",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(126,"div",7)(127,"mat-form-field")(128,"input",48),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(a);const l=t.\u0275\u0275reference(133);return t.\u0275\u0275resetView(l.open())}),t.\u0275\u0275pipe(129,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(130,oa,3,3,"mat-error",16),t.\u0275\u0275element(131,"mat-datepicker-toggle",20)(132,"mat-datepicker",null,49),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd()()(),t.\u0275\u0275elementStart(134,"div",6)(135,"div",50)(136,"h3"),t.\u0275\u0275text(137),t.\u0275\u0275pipe(138,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(139,"div",6)(140,"div",32)(141,"mat-form-field",27)(142,"mat-label"),t.\u0275\u0275text(143),t.\u0275\u0275pipe(144,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(145,"mat-select",51)(146,"mat-option",52),t.\u0275\u0275listener("click",function(){return n.selectType("PASSPORT")}),t.\u0275\u0275text(147),t.\u0275\u0275pipe(148,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(149,"mat-option",53),t.\u0275\u0275listener("click",function(){return n.selectType("ID_CARD")}),t.\u0275\u0275text(150),t.\u0275\u0275pipe(151,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(152,"mat-option",54),t.\u0275\u0275listener("click",function(){return n.selectType("DRIVING_LINCENCE")}),t.\u0275\u0275text(153),t.\u0275\u0275pipe(154,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(155,ra,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(156,Sa,3,2,"ng-container",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()()()(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(157,"div",55),t.\u0275\u0275template(158,Ea,10,9,"ng-container",16),t.\u0275\u0275template(159,Ta,4,3,"ng-container",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(160,wa,2,0,"div",56)}if(2&e){const a=t.\u0275\u0275reference(24),o=t.\u0275\u0275reference(44),l=t.\u0275\u0275reference(63),d=t.\u0275\u0275reference(133);t.\u0275\u0275property("formGroup",n.shareholderForm),t.\u0275\u0275advance(6),t.\u0275\u0275property("disabled","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(4),t.\u0275\u0275property("disabled","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(127,Ia,"verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)?"rgba(255, 255, 255, 0.5)":"")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(13,73,"Civility")," *"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(16,75,"Mr")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(19,77,"Mrs")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("gender").hasError("required")&&(n.shareholderFormArray.at(0).get("gender").touched||n.shareholderFormArray.at(0).get("gender").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.isController)("ngIfElse",a),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(29,79,"First Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("first_name").errors),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(34,81,"Last Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("last_name").errors),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(41,83,"Date of Birth")),t.\u0275\u0275property("matDatepicker",o),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",o),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("shareholder_personal_data").get("date_of_birth").errors),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(48,85,"Nationality"),"*"),t.\u0275\u0275property("items",n.listCountry)("multiple",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("shareholder_personal_data").get("nationality").hasError("required")&&n.shareholderFormArray.at(0).get("shareholder_personal_data").get("nationality").touched),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(54,87,"STEmail")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("email").hasError("email")&&(n.shareholderFormArray.at(0).get("email").touched||n.shareholderFormArray.at(0).get("email").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("email").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(61,89,"Dial Code"),"*"),t.\u0275\u0275property("matAutocomplete",l),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(65,91,n.filteredRefDialCode)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(69,93,"Phone Number")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("full_phone_number").hasError("required")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(75,95,"Street")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("street").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(80,97,"Street number")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("house_number_or_name").hasError("required")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(86,99,"Postal code")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("postal_code").hasError("required")),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(90,101,"Country"),"*"),t.\u0275\u0275property("items",n.listCountry)("multiple",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("country").hasError("required")&&n.shareholderFormArray.at(0).get("country").touched),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(96,103,"City")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("postal_code").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(101,105,"Department")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("department").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(106,107,"Region")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("region_name").hasError("required")),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(114,109,"Identification type"),"*"),t.\u0275\u0275property("items",n.identitificationList)("multiple",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("shareholder_personal_data").get("document_data").get("0").get("type").hasError("required")&&n.shareholderFormArray.at(0).get("shareholder_personal_data").get("document_data").get("0").get("type").touched),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(119,111,"Id number")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("shareholder_personal_data").get("document_data").get("0").get("number").errors),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(124,113,"Country issuer"),"*"),t.\u0275\u0275property("items",n.listCountry)("multiple",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("shareholder_personal_data").get("document_data").get("0").get("issuer_country").hasError("required")&&n.shareholderFormArray.at(0).get("shareholder_personal_data").get("document_data").get("0").get("issuer_country").touched),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(129,115,"Expiration Date")),t.\u0275\u0275property("matDatepicker",d),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("shareholder_personal_data").get("document_data").get("0").get("expiration_date").errors),t.\u0275\u0275advance(1),t.\u0275\u0275property("for",d),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(138,117,"Document Expected")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(144,119,"Choose one")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disableOptionCentering",!0)("disabled","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(148,121,"PASSPORT")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(151,123,"ID_CARD")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(154,125,"DRIVING_LINCENCE")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.shareholderFormArray.at(0).get("upload_document").hasError("required")&&(n.shareholderFormArray.at(0).get("upload_document").touched||n.shareholderFormArray.at(0).get("upload_document").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.selectedType),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","verification_in_progress"!==(null==n.dataEntity?null:n.dataEntity.online_payment_status)&&"publish"!==(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse)}},dependencies:[_.sg,_.O5,_.PC,R.XC,R.ZL,tt.ey,L.lW,mt.a8,at.Mq,at.hl,at.nW,K.Hw,w.TO,w.KE,w.hX,w.R9,X.Nt,M.Ou,Q.VQ,Q.U0,pt.gD,et.gM,c.\u0275NgNoValidate,c.DefaultValueAccessor,c.NumberValueAccessor,c.NgControlStatus,c.NgControlStatusGroup,c.RequiredValidator,c.PatternValidator,c.FormGroupDirective,c.FormControlName,c.FormGroupName,j.Zl,lt.w9,_.Ov,g.X$],styles:[".container[_ngcontent-%COMP%]   .m-right-10[_ngcontent-%COMP%]{margin-right:10px}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select .ng-select-container{background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid rgba(255,255,255,.7)!important;min-height:36px;align-items:center;color:#fff!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .mat-select-arrow-wrapper{padding-right:5px}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .mat-select-value-text{margin-left:10px;font-size:13px}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     ng-dropdown-panel{z-index:99999999999}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff!important;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container{padding-left:0!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-select-disabled>.ng-select-container{color:#ffffff80!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-invalid.ng-touched .ng-select-container .ng-placeholder{color:#f44336!important}.error-document-expected[_ngcontent-%COMP%]{font-size:75%!important}  .mat-form-field.ng-invalid.ng-touched .mat-form-field-wrapper label{color:#f44336!important}  .optionPanel{margin-top:25px!important;margin-left:15px!important}  .mat-select-panel-wrap{max-width:-moz-fit-content!important;max-width:fit-content!important}"]}),i})();const Da=["fileUploadDoc"],Ba=["fileUploadDocFront"],Fa=["fileUploadDocBack"];function Aa(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",53),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Na(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ra(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function La(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Va(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ua(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p",54),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function qa(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ga(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",55),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",e.dial_code),t.\u0275\u0275property("value",e.dial_code),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.dial_code," ")}}function Ka(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ja(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ha(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Wa(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function $a(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p",54),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function za(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ya(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Qa(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Xa(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Za(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ID_CARD_FRONT")," "))}function Ja(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"DRIVING_LICENCE_FRONT")," "))}function to(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7)(1,"div",38),t.\u0275\u0275template(2,Za,3,3,"ng-container",16),t.\u0275\u0275template(3,Ja,3,3,"ng-container",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",36)(5,"button",58),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.openUploadWindowFront())}),t.\u0275\u0275elementStart(6,"mat-icon"),t.\u0275\u0275text(7,"file_upload"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"input",59,60),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.chooseFile(a,"front"))}),t.\u0275\u0275elementEnd()()()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","ID_CARD"===e.selectedType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","DRIVING_LINCENCE"===e.selectedType),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,4,"Upload Document Expected")," ")}}function eo(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",53),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function no(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ID_CARD_BACK")," "))}function io(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"DRIVING_LICENCE_BACK")," "))}function ao(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7)(1,"div",38),t.\u0275\u0275template(2,no,3,3,"ng-container",16),t.\u0275\u0275template(3,io,3,3,"ng-container",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",36)(5,"button",58),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.openUploadWindowBack())}),t.\u0275\u0275elementStart(6,"mat-icon"),t.\u0275\u0275text(7,"file_upload"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"input",59,61),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.chooseFile(a,"back"))}),t.\u0275\u0275elementEnd()()()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","ID_CARD"===e.selectedType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","DRIVING_LINCENCE"===e.selectedType),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,4,"Upload Document Expected")," ")}}function oo(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",53),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function ro(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ID_CARD_FRONT")," "))}function lo(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"DRIVING_LICENCE_FRONT")," "))}function so(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",62)(2,"div",38),t.\u0275\u0275template(3,ro,3,3,"ng-container",16),t.\u0275\u0275template(4,lo,3,3,"ng-container",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",28)(6,"input",59,60),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.chooseFile(a,"front"))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"button",63),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.openUploadWindowFront())}),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementStart(10,"mat-icon",64),t.\u0275\u0275text(11,"edit"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"button",65),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.deleteFront())}),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementStart(14,"mat-icon",64),t.\u0275\u0275text(15,"delete"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(16,"div",66),t.\u0275\u0275text(17),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","ID_CARD"===e.selectedType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","DRIVING_LINCENCE"===e.selectedType),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(9,7,"Edit")),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(13,9,"Delete")),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",e.documentFront," ")}}function co(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ID_CARD_BACK")," "))}function po(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"DRIVING_LICENCE_BACK")," "))}function mo(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",62)(2,"div",38),t.\u0275\u0275template(3,co,3,3,"ng-container",16),t.\u0275\u0275template(4,po,3,3,"ng-container",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",28)(6,"input",59,61),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.chooseFile(a,"back"))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"button",67),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.openUploadWindowBack())}),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementStart(10,"mat-icon",64),t.\u0275\u0275text(11,"edit"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"button",68),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.deleteBack())}),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementStart(14,"mat-icon",64),t.\u0275\u0275text(15,"delete"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(16,"div",66),t.\u0275\u0275text(17),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","ID_CARD"===e.selectedType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","DRIVING_LINCENCE"===e.selectedType),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(9,7,"Edit")),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(13,9,"Delete")),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",e.documentBack," ")}}function ho(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,to,12,6,"div",56),t.\u0275\u0275elementStart(2,"div",7)(3,"div",57),t.\u0275\u0275template(4,eo,3,3,"mat-error",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(5,ao,12,6,"div",56),t.\u0275\u0275elementStart(6,"div",7)(7,"div",57),t.\u0275\u0275template(8,oo,3,3,"mat-error",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(9,so,18,11,"ng-container",16),t.\u0275\u0275template(10,mo,18,11,"ng-container",16),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.documentFront),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!e.documentFront&&e.selectDocumentFront&&!e.signatoryFormArray.at(0).get("upload_document").hasError("required")&&(e.signatoryFormArray.at(0).get("upload_document").touched||e.signatoryFormArray.at(0).get("upload_document"))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.documentBack),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!e.documentBack&&e.selectDocumentBack&&!e.signatoryFormArray.at(0).get("upload_document").hasError("required")&&(e.signatoryFormArray.at(0).get("upload_document").touched||e.signatoryFormArray.at(0).get("upload_document"))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.documentFront),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.documentBack)}}function go(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",53),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function uo(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",7)(2,"div",57)(3,"button",58),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.openUploadWindow())}),t.\u0275\u0275elementStart(4,"mat-icon"),t.\u0275\u0275text(5,"file_upload"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"input",59,69),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.chooseFile(a,"single"))}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(10,"div",7)(11,"div",57),t.\u0275\u0275template(12,go,3,3,"mat-error",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(7,3,"Upload Document Expected")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",e.selectDocumentSingle&&!e.signatoryFormArray.at(0).get("upload_document").hasError("required")&&(e.signatoryFormArray.at(0).get("upload_document").touched||e.signatoryFormArray.at(0).get("upload_document")))}}function _o(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",62)(2,"input",59,69),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.chooseFile(a,"single"))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",28)(5,"button",63),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.openUploadWindow())}),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementStart(7,"mat-icon",64),t.\u0275\u0275text(8,"edit"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"button",65),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.deleteSingle())}),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementStart(11,"mat-icon",64),t.\u0275\u0275text(12,"delete"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(13,"div",70),t.\u0275\u0275text(14),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(6,5,"Edit")),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(10,7,"Delete")),t.\u0275\u0275property("disabled","verification_in_progress"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)||"publish"===(null==e.dataEntity?null:e.dataEntity.online_payment_status)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",e.documentSingle," ")}}function fo(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,uo,13,5,"ng-container",16),t.\u0275\u0275template(2,_o,15,9,"ng-container",16),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.documentSingle),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.documentSingle)}}function bo(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ho,11,6,"ng-container",16),t.\u0275\u0275template(2,fo,3,2,"ng-container",16),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","ID_CARD"===e.selectedType||"DRIVING_LINCENCE"===e.selectedType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","PASSPORT"===e.selectedType)}}function Co(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",71),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onCancel())}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",72),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onPrevious())}),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"button",73),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.updatedLegalEntities(!0))}),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,3,"Cancel")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,5,"CARDDETAIL.Previous")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,7,"CARDDETAIL.SAVE_CONTINUE")," "))}function yo(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",72),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onCancel())}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"Cancel")," "))}function xo(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",74),t.\u0275\u0275element(1,"mat-progress-spinner",75),t.\u0275\u0275elementEnd())}const Oo=function(i){return{color:i}};let vo=(()=>{class i{constructor(e,n,a,o,l,d,p,f,h,C){this.admisssionService=e,this.route=n,this.router=a,this.rncpTitleService=o,this.translate=l,this.fb=d,this.financeService=p,this.fileUploadService=f,this.utilService=h,this.authService=C,this.continue=new t.EventEmitter,this.previousTab=new t.EventEmitter,this.cancelTab=new t.EventEmitter,this.updateData=new t.EventEmitter,this.subs=new I.Y,this.cities=[],this.departments=[],this.regions=[],this.isWaitingForResponse=!1,this.dialCodeList=[],this.passExpiredDate=!0,this.selectDocumentBack=!1,this.selectDocumentFront=!1,this.selectDocumentSingle=!1}ngOnInit(){this.initForm(),this.getDialCode(),this.router.queryParams.subscribe(e=>{e&&e.scholarSeasonId&&(this.scholarId=e.scholarSeasonId)}),this.getCountryCode()}ngOnChanges(){this.legalEntityId&&this.getDialCode()}getOneLegalEntity(){this.legalEntityId&&(this.isWaitingForResponse=!0,this.subs.sink=this.financeService.getOneLegalEntity(this.legalEntityId).subscribe(e=>{if(e){if(this.isWaitingForResponse=!1,"verification_in_progress"===e.online_payment_status||"publish"===e.online_payment_status?(this.signatoryFormArray.at(0).get("nationality").disable(),this.signatoryFormArray.at(0).get("signatory_address").get("country").disable(),this.signatoryFormArray.at(0).get("signatory_personal_data").get("date_of_birth").disable()):(this.signatoryFormArray.at(0).get("nationality").enable(),this.signatoryFormArray.at(0).get("signatory_address").get("country").enable(),this.signatoryFormArray.at(0).get("signatory_personal_data").get("date_of_birth").enable()),e.documents&&e.documents.length){let n=[];e.documents.filter(a=>{"Signatory"===a.owner&&a.is_latest&&n.push(a)}),n&&(n.length>1&&2===n.length&&("ID_CARD_FRONT"===n[0].document_type||"DRIVING_LICENCE_FRONT"===n[0].document_type||"ID_CARD_BACK"===n[0].document_type||"DRIVING_LICENCE_BACK"===n[0].document_type)&&(("ID_CARD_FRONT"===n[0].document_type||"ID_CARD_BACK"===n[0].document_type)&&(this.selectedType="ID_CARD"),("DRIVING_LICENCE_FRONT"===n[0].document_type||"DRIVING_LICENCE_BACK"===n[0].document_type)&&(this.selectedType="DRIVING_LINCENCE"),this.signatoryFormArray.at(0).get("upload_document").patchValue(this.selectedType),("ID_CARD_FRONT"===n[0].document_type||"DRIVING_LICENCE_FRONT"===n[0].document_type)&&(this.documentFront=n[0].s3_file_name,this.documentNameFront=n[0].s3_file_name),("ID_CARD_FRONT"===n[1].document_type||"DRIVING_LICENCE_FRONT"===n[1].document_type)&&(this.documentFront=n[1].s3_file_name,this.documentNameFront=n[1].s3_file_name),("ID_CARD_BACK"===n[0].document_type||"DRIVING_LICENCE_BACK"===n[0].document_type)&&(this.documentBack=n[0].s3_file_name,this.documentNameBack=n[0].s3_file_name),("ID_CARD_BACK"===n[1].document_type||"DRIVING_LICENCE_BACK"===n[1].document_type)&&(this.documentBack=n[1].s3_file_name,this.documentNameBack=n[1].s3_file_name)),1===n.length&&(this.selectedType="PASSPORT",this.documentNameSingle=n[0].s3_file_name,this.documentSingle=n[0].s3_file_name,this.signatoryFormArray.at(0).get("upload_document").patchValue(this.selectedType)))}if(this.signatoryForm.patchValue(e),this.firstForm=m.cloneDeep(this.signatoryForm.value),this.dataEntity=e,e&&e.account_holder_details&&e.account_holder_details.business_detail&&e.account_holder_details.business_detail.signatories.length&&e.account_holder_details.business_detail.signatories[0].signatory_address.full_phone_number&&(this.isSaved=!0,this.dialCodeList)){const n=this.dialCodeList.find(a=>{if(e.account_holder_details.business_detail.signatories[0].signatory_address.full_phone_number.includes(a.dial_code))return a});if(n){this.signatoryFormArray.at(0).get("signatory_address").get("dial_code").patchValue(n.dial_code);let a=m.cloneDeep(e.account_holder_details.business_detail.signatories[0].signatory_address.full_phone_number);a=a.replaceAll(n.dial_code,""),this.signatoryFormArray.at(0).get("signatory_address").get("full_phone_number").patchValue(a),this.firstForm=m.cloneDeep(this.signatoryForm.value)}}e.pci_expired_date&&e.pci_expired_date.date?this.checkExpiredDate():this.passExpiredDate=!0}},e=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(e),s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}initForm(){this.signatoryForm=this.fb.group({onboard_step:["signatory"],account_holder_code:[null],file_name_front:[null],file_name_back:[null],file_name_single:[null],account_holder_details:this.fb.group({business_detail:this.fb.group({signatories:this.fb.array([this.initSignatoriesForm()])})})}),this.firstForm=m.cloneDeep(this.signatoryForm.value)}initSignatoriesForm(){return this.fb.group({signatory_code:[null],signatory_personal_data:this.fb.group({date_of_birth:[null,c.Validators.required]}),department:[null,c.Validators.required],nationality:["FR",c.Validators.required],signatory_job_title:[null,c.Validators.required],signatory_address:this.fb.group({country:["FR",c.Validators.required],postal_code:[null,c.Validators.required],city:[null,c.Validators.required],state_or_province:[null],region_name:[null],street:[null,c.Validators.required],dial_code:["+33"],full_phone_number:[null,c.Validators.required],email:[null,c.Validators.required],house_number_or_name:[null,c.Validators.required]}),signatory_name:this.fb.group({first_name:[null,c.Validators.required],gender:[null,c.Validators.required],last_name:[null,c.Validators.required]}),upload_document:[null,c.Validators.required]})}get signatoryFormArray(){return this.signatoryForm.get("account_holder_details").get("business_detail").get("signatories")}getCountryCode(){this.subs.sink=this.admisssionService.getAllCountryCodes().subscribe(e=>{e&&(this.listCountry=e)},e=>{this.authService.postErrorLog(e),s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("OK")})})}getDialCode(){this.isWaitingForResponse=!0,this.subs.sink=this.financeService.getDialCodeNumber().subscribe(e=>{e&&(this.dialCodeList=e,this.getOneLegalEntity(),this.filteredRefDialCode=this.signatoryFormArray.at(0).get("signatory_address").get("dial_code").valueChanges.pipe((0,N.O)(""),(0,k.U)(n=>this.dialCodeList.filter(a=>!(n&&a&&a.dial_code)||a.dial_code.includes(n)))))},e=>{this.authService.postErrorLog(e),s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("OK")})})}getPostcodeData(){const e=this.signatoryFormArray.at(0).get("signatory_address").get("country").value,n=this.signatoryFormArray.at(0).get("signatory_address").get("postal_code").value;n&&n.length>3&&e&&"fr"===e.toLowerCase()&&(this.subs.sink=this.rncpTitleService.getFilteredZipCode(n,"france").subscribe(a=>{a&&a.length&&this.setAddressDropdown(a)},a=>{this.authService.postErrorLog(a),s().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("OK")})}))}setAddressDropdown(e){const n=[],a=[],o=[];let l=[];e&&e.length&&e.forEach(d=>{n.push(d.city),a.push(d.department),o.push(d.region_code),l.push(d.province)}),this.cities=m.uniq(n),this.departments=m.uniq(a),this.regions=m.uniq(o),l=m.uniq(l),this.cities&&this.cities.length&&this.signatoryFormArray.at(0).get("signatory_address").get("city").setValue(this.cities[0]),this.departments&&this.departments.length&&this.signatoryFormArray.at(0).get("department").setValue(this.departments[0]),this.regions&&this.regions.length&&this.signatoryFormArray.at(0).get("signatory_address").get("state_or_province").setValue(this.regions[0]),l&&l.length&&this.signatoryFormArray.at(0).get("signatory_address").get("region_name").setValue(l[0])}onCancel(){this.cancelTab.emit(!0)}unpublished(){const e=this.createPayload(),n=this.legalEntityId;if(this.isWaitingForResponse=!0,e.online_payment_status="not_submit","PASSPORT"===this.selectedType){let o=[];o.push({s3_file_name:this.documentSingle,document_name:this.documentNameSingle,document_type:"PASSPORT"}),e.upload_document=o}else{const a={s3_file_name:this.documentFront,document_name:this.documentNameFront},o={s3_file_name:this.documentBack,document_name:this.documentNameBack};let l={},d={},p=[];"ID_CARD"===this.selectedType&&(l={...a,document_type:"ID_CARD_FRONT"},d={...o,document_type:"ID_CARD_BACK"},p.push(l),p.push(d)),"DRIVING_LINCENCE"===this.selectedType&&(l={...a,document_type:"DRIVING_LICENCE_FRONT"},d={...o,document_type:"DRIVING_LICENCE_BACK"},p.push(l),p.push(d)),e.upload_document=p}this.subs.sink=this.financeService.UpdateLegalEntity(e,n).subscribe(a=>{if(a&&a._id)this.isWaitingForResponse=!1,this.firstForm=m.cloneDeep(this.signatoryForm.value),s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.financeService.setDataMerchantBoardingSaved(!0),this.onCancel()});else{this.isWaitingForResponse=!1;let o="";a&&a.error&&a.error.length&&(o+='<ul style="text-align: start; margin-left: 20px">',a.error=m.uniqBy(a.error,"error_description"),a.error.forEach(l=>{l&&l&&l.error_description&&(o+=`<li> ${l.field_name} : ${l.error_description} </li>`)}),o+="</ul>",s().fire({type:"info",title:this.translate.instant("MERCHANT_S2.TITLE"),html:this.translate.instant("MERCHANT_S2.TEXT",{listOfIssue:o}),confirmButtonText:this.translate.instant("MERCHANT_S2.BUTTON")}))}},a=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(a),s().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}checkFormValidity(){return!!this.signatoryForm.invalid&&(s().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.signatoryForm.markAllAsTouched(),!0)}updatedLegalEntities(e){if(this.selectDocumentBack=!0,this.selectDocumentFront=!0,this.selectDocumentSingle=!0,this.checkFormValidity()&&this.checkDocument())return;const n=this.createPayload(),a=this.legalEntityId;if(this.isWaitingForResponse=!0,n.online_payment_status="pci_not_complete","PASSPORT"===this.selectedType){let l=[];l.push({s3_file_name:this.documentSingle,document_name:this.documentNameSingle,document_type:"PASSPORT"}),n.upload_document=l}else{const o={s3_file_name:this.documentFront,document_name:this.documentNameFront},l={s3_file_name:this.documentBack,document_name:this.documentNameBack};let d={},p={},f=[];"ID_CARD"===this.selectedType&&(d={...o,document_type:"ID_CARD_FRONT"},p={...l,document_type:"ID_CARD_BACK"},f.push(d),f.push(p)),"DRIVING_LINCENCE"===this.selectedType&&(d={...o,document_type:"DRIVING_LICENCE_FRONT"},p={...l,document_type:"DRIVING_LICENCE_BACK"},f.push(d),f.push(p)),n.upload_document=f}this.subs.sink=this.financeService.UpdateLegalEntity(n,a).subscribe(o=>{if(o&&o._id)this.isWaitingForResponse=!1,this.firstForm=m.cloneDeep(this.signatoryForm.value),s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.financeService.setDataMerchantBoardingSaved(!0),this.isSaved=!0,e&&this.continue.emit(4)});else{this.isWaitingForResponse=!1;let l="";o&&o.error&&o.error.length&&(l+='<ul style="text-align: start; margin-left: 20px">',o.error=m.uniqBy(o.error,"error_description"),o.error.forEach(d=>{d&&d&&d.error_description&&(l+=`<li> ${d.field_name} : ${d.error_description} </li>`)}),l+="</ul>",s().fire({type:"info",title:this.translate.instant("MERCHANT_S2.TITLE"),html:this.translate.instant("MERCHANT_S2.TEXT",{listOfIssue:l}),confirmButtonText:this.translate.instant("MERCHANT_S2.BUTTON")}))}},o=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(o),s().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}comparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.signatoryForm.value)?(this.financeService.setDataMerchantBoardingSaved(!0),!0):(this.financeService.setDataMerchantBoardingSaved(!1),!1)}createPayload(){const e=m.cloneDeep(this.signatoryForm.value);return e.account_holder_details.business_detail.signatories[0].signatory_personal_data.date_of_birth=q(this.signatoryFormArray.at(0).get("signatory_personal_data").get("date_of_birth").value).format("YYYY-MM-DD"),e.account_holder_details.business_detail.signatories[0].signatory_address.full_phone_number=this.signatoryFormArray.at(0).get("signatory_address").get("dial_code").value+this.signatoryFormArray.at(0).get("signatory_address").get("full_phone_number").value,delete e.account_holder_details.business_detail.signatories[0].signatory_address.dial_code,console.log("_form",e),e.onboard_step="signatory",delete e.account_holder_details.business_detail.signatories[0].upload_document,delete e.file_name_front,delete e.file_name_back,delete e.file_name_single,e}submitVerification(){if(this.checkFormValidity()&&this.checkDocument())return;this.isWaitingForResponse=!0;let e=window.location.href;e.includes("&openLegalEntities=true")?e=window.location.href:e.includes("legalEntityId")?e=e.replace(`&legalEntityId=${this.legalEntityId}`,"&openLegalEntities=true"):e+="&openLegalEntities=true";const a={account_holder_code:this.firstForm.account_holder_code,return_url:e};if(this.passExpiredDate)this.subs.sink=this.financeService.UpdateLegalEntityNotPublish({online_payment_status:"verification_in_progress"},this.legalEntityId,!1).subscribe(o=>{o&&(this.subs.sink=this.financeService.GetPCIQuestionairUrl(a).subscribe(l=>{if(l)this.isWaitingForResponse=!1,window.open(l.redirect_url,"_blank"),this.onCancel();else{this.isWaitingForResponse=!1;let d="";l&&l.error&&l.error.length&&(d+='<ul style="text-align: start; margin-left: 20px">',l.error=m.uniqBy(l.error,"error_description"),l.error.forEach(p=>{p&&p&&p.error_description&&(d+=`<li> ${p.field_name} : ${p.error_description} </li>`)}),d+="</ul>",s().fire({type:"info",title:this.translate.instant("MERCHANT_S2.TITLE"),html:this.translate.instant("MERCHANT_S2.TEXT",{listOfIssue:d}),confirmButtonText:this.translate.instant("MERCHANT_S2.BUTTON")}))}},l=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(l),s().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))});else{const o=this.createPayload();if(o.online_payment_status="verification_in_progress","PASSPORT"===this.selectedType){let d=[];d.push({s3_file_name:this.documentSingle,document_name:this.documentNameSingle,document_type:"PASSPORT"}),o.upload_document=d}else{const l={s3_file_name:this.documentFront,document_name:this.documentNameFront},d={s3_file_name:this.documentBack,document_name:this.documentNameBack};let p={},f={},h=[];"ID_CARD"===this.selectedType&&(p={...l,document_type:"ID_CARD_FRONT"},f={...d,document_type:"ID_CARD_BACK"},h.push(p),h.push(f)),"DRIVING_LINCENCE"===this.selectedType&&(p={...l,document_type:"DRIVING_LICENCE_FRONT"},f={...d,document_type:"DRIVING_LICENCE_BACK"},h.push(p),h.push(f)),o.upload_document=h}this.subs.sink=this.financeService.UpdateLegalEntity(o,this.legalEntityId).subscribe(l=>{if(l&&l._id)this.isWaitingForResponse=!1,s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.financeService.setDataMerchantBoardingSaved(!0),this.onCancel()});else{this.isWaitingForResponse=!1;let d="";l&&l.error&&l.error.length&&(d+='<ul style="text-align: start; margin-left: 20px">',l.error=m.uniqBy(l.error,"error_description"),l.error.forEach(p=>{p&&p&&p.error_description&&(d+=`<li> ${p.field_name} : ${p.error_description} </li>`)}),d+="</ul>",s().fire({type:"info",title:this.translate.instant("MERCHANT_S2.TITLE"),html:this.translate.instant("MERCHANT_S2.TEXT",{listOfIssue:d}),confirmButtonText:this.translate.instant("MERCHANT_S2.BUTTON")}))}},l=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(l),s().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}openUploadWindowFront(){this.selectDocumentFront=!0,this.fileUploaderDocFront.nativeElement.click()}openUploadWindowBack(){this.selectDocumentBack=!0,this.fileUploaderDocBack.nativeElement.click()}openUploadWindow(){this.selectDocumentSingle=!0,this.fileUploaderDoc.nativeElement.click()}chooseFile(e,n){const o=e.target.files[0],l=this.utilService.getFileExtension(o.name).toLocaleLowerCase();["pdf","jpg"].includes(l)?(this.isWaitingForResponse=!0,this.subs.sink=this.fileUploadService.singleUpload(o).subscribe(d=>{this.isWaitingForResponse=!1,d&&("back"===n?(this.selectDocumentBack=!1,this.documentBack=d.s3_file_name,this.fileUploaderDocBack.nativeElement="",this.documentNameBack=o.name,this.fileUploaderDocBack.nativeElement="","ID_CARD"===this.selectedType&&this.signatoryFormArray.at(0).get("upload_document").patchValue("ID_CARD"),"DRIVING_LINCENCE"===this.selectedType&&this.signatoryFormArray.at(0).get("upload_document").patchValue("DRIVING_LINCENCE"),this.signatoryForm.get("file_name_single").patchValue(d.s3_file_name)):"front"===n?(this.selectDocumentFront=!1,this.documentFront=d.s3_file_name,this.fileUploaderDocFront.nativeElement="",this.documentNameFront=o.name,"ID_CARD"===this.selectedType&&this.signatoryFormArray.at(0).get("upload_document").patchValue("ID_CARD"),"DRIVING_LINCENCE"===this.selectedType&&this.signatoryFormArray.at(0).get("upload_document").patchValue("DRIVING_LINCENCE"),this.signatoryForm.get("file_name_single").patchValue(d.s3_file_name)):(this.selectDocumentSingle=!1,this.documentSingle=d.s3_file_name,this.fileUploaderDoc.nativeElement="",this.documentNameSingle=o.name,this.signatoryFormArray.at(0).get("upload_document").patchValue("PASSPORT"),this.signatoryForm.get("file_name_single").patchValue(d.s3_file_name)))},d=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(d),console.log("[Response BE][Error] : ",d),s().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:"OK"})})):s().fire({type:"info",title:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TITLE"),text:this.translate.instant("UPLOAD_ERROR.WRONG_TYPE_TEXT",{file_exts:".jpg, .jpeg, .png, .pdf"}),allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})}deleteBack(){this.selectDocumentBack=!0,this.documentBack=""}deleteFront(){this.selectDocumentFront=!0,this.documentFront=""}deleteSingle(){this.selectDocumentSingle=!0,this.documentSingle=""}selectType(e){this.documentBack="",this.documentSingle="",this.documentFront="",this.selectedType=e,console.log(this.selectedType)}checkDocument(){return"PASSPORT"===this.selectedType?!(this.documentSingle&&this.documentNameSingle):"ID_CARD"!==this.selectedType&&"DRIVING_LINCENCE"!==this.selectedType||!(this.documentFront&&this.documentBack&&this.documentNameBack&&this.documentNameFront)}checkExpiredDate(){const e=q(this.dataEntity.pci_expired_date.date,"DD/MM/YYYY");this.passExpiredDate=!q(new Date,"DD/MM/YYYY").isBefore(e)}onPrevious(){this.previousTab.emit(2)}ngOnDestroy(){this.financeService.setDataMerchantBoardingSaved(!0),this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(bt.l),t.\u0275\u0275directiveInject(P.F0),t.\u0275\u0275directiveInject(P.gz),t.\u0275\u0275directiveInject(gt.r),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(c.UntypedFormBuilder),t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(ft.J),t.\u0275\u0275directiveInject(Y.t),t.\u0275\u0275directiveInject(B.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-boarding-merchant-signatory-detail"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(Da,5),t.\u0275\u0275viewQuery(Ba,5),t.\u0275\u0275viewQuery(Fa,5)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.fileUploaderDoc=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.fileUploaderDocFront=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.fileUploaderDocBack=a.first)}},inputs:{legalEntityId:"legalEntityId"},outputs:{continue:"continue",previousTab:"previousTab",cancelTab:"cancelTab",updateData:"updateData"},features:[t.\u0275\u0275NgOnChangesFeature],decls:147,vars:110,consts:[[1,"container",3,"formGroup"],["formGroupName","account_holder_details"],["formGroupName","business_detail"],["formGroupName","signatories"],["formGroupName","0"],[2,"border","none","padding","0",3,"disabled"],["formGroupName","signatory_name"],[1,"p-grid"],[1,"p-col-5"],["formControlName","gender","required","",3,"disabled"],[1,"m-right-10",3,"ngStyle"],["value","MALE",1,"radio-marging-left","m-right-10"],["value","FEMALE",1,"radio-marging-left","m-right-10"],["class","error-document-expected",4,"ngIf"],[3,"formGroup"],["formControlName","signatory_job_title","type","text","matInput","","required","",3,"placeholder"],[4,"ngIf"],["formControlName","first_name","type","text","matInput","","required","",3,"placeholder"],["formControlName","last_name","type","text","matInput","","required","",3,"placeholder"],["formGroupName","signatory_personal_data"],["matInput","","readonly","","required","","floatLabel","never","formControlName","date_of_birth",3,"matDatepicker","placeholder","click"],["matSuffix","",3,"for"],["myDatepicker1",""],[1,"p-col-5","custom-select","mrgn-btn"],["bindLabel","country","bindValue","country_code","appendTo","body","formControlName","nationality",2,"padding-top","5px",3,"items","multiple","placeholder"],["style","color: #f44336; font-size: 75%; margin: 0",4,"ngIf"],["formGroupName","signatory_address"],["formControlName","email","type","email","matInput","","required","",3,"placeholder"],[1,"p-col-1"],["floatLabel","auto"],["matInput","","formControlName","dial_code",1,"form-field",3,"placeholder","matAutocomplete"],[3,"panelWidth"],["autoDial","matAutocomplete"],[3,"value","matTooltip",4,"ngFor","ngForOf"],[1,"p-col-4"],["formControlName","full_phone_number","type","text","matInput","","required","","maxlength","15",3,"placeholder"],[1,"p-col-8"],["formControlName","street","type","text","matInput","","required","",3,"placeholder"],[1,"p-col-2"],["formControlName","house_number_or_name","type","text","matInput","","required","",3,"placeholder"],["formControlName","postal_code","type","text","matInput","","required","",3,"placeholder","keyup"],["bindLabel","country","bindValue","country_code","formControlName","country","required","","appendTo","body",2,"padding-top","3px",3,"items","multiple","placeholder","change"],["formControlName","city","type","text","matInput","","required","",3,"placeholder"],[1,"p-col-3"],["formControlName","department","type","text","matInput","","required","",3,"placeholder"],["formControlName","region_name","type","text","matInput","","required","",3,"placeholder"],[1,"p-col-10","classHeading"],["panelClass","optionPanel","formControlName","upload_document",3,"disableOptionCentering","disabled"],["value","PASSPORT",3,"click"],["value","ID_CARD",3,"click"],["value","DRIVING_LINCENCE",3,"click"],[1,"text-right",2,"margin-top","10px","margin-bottom","40px"],["class","loading-indicator",4,"ngIf"],[1,"error-document-expected"],[2,"color","#f44336","font-size","75%","margin","0"],[3,"value","matTooltip"],["class","p-grid",4,"ngIf"],[1,"p-col"],["mat-raised-button","","color","accent","type","button",3,"disabled","click"],["type","file","accept",".pdf, .jpg",1,"hidden",3,"change"],["fileUploadDocFront",""],["fileUploadDocBack",""],[1,"p-grid",2,"padding-top","15px"],["mat-icon-button","","type","button",3,"matTooltip","disabled","click"],[2,"color","black"],["mat-icon-button","",3,"matTooltip","disabled","click"],[1,"p-col-7",2,"margin-top","6px"],["mat-icon-button","","type","button",3,"disabled","matTooltip","click"],["mat-icon-button","",3,"disabled","matTooltip","click"],["fileUploadDoc",""],[1,"p-col-10",2,"margin-top","6px"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent","type","submit",3,"click"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){if(1&e){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",0),t.\u0275\u0275elementContainerStart(1,1)(2,2)(3,3)(4,4),t.\u0275\u0275elementStart(5,"mat-card")(6,"fieldset",5),t.\u0275\u0275elementContainerStart(7,6),t.\u0275\u0275elementStart(8,"div",7)(9,"div",8)(10,"div")(11,"mat-radio-group",9)(12,"span",10),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"mat-radio-button",11),t.\u0275\u0275text(16),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"mat-radio-button",12),t.\u0275\u0275text(19),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(21,"div"),t.\u0275\u0275template(22,Aa,3,3,"mat-error",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerStart(23,14)(24,1)(25,2)(26,3)(27,4),t.\u0275\u0275elementStart(28,"div",8)(29,"mat-form-field"),t.\u0275\u0275element(30,"input",15),t.\u0275\u0275pipe(31,"translate"),t.\u0275\u0275template(32,Na,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()()()()(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(33,"div",7)(34,"div",8)(35,"mat-form-field"),t.\u0275\u0275element(36,"input",17),t.\u0275\u0275pipe(37,"translate"),t.\u0275\u0275template(38,Ra,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(39,"div",8)(40,"mat-form-field"),t.\u0275\u0275element(41,"input",18),t.\u0275\u0275pipe(42,"translate"),t.\u0275\u0275template(43,La,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementStart(44,"div",7),t.\u0275\u0275elementContainerStart(45,19),t.\u0275\u0275elementStart(46,"div",8)(47,"mat-form-field")(48,"input",20),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(a);const l=t.\u0275\u0275reference(53);return t.\u0275\u0275resetView(l.open())}),t.\u0275\u0275pipe(49,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(50,Va,3,3,"mat-error",16),t.\u0275\u0275element(51,"mat-datepicker-toggle",21)(52,"mat-datepicker",null,22),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementStart(54,"div",23),t.\u0275\u0275element(55,"ng-select",24),t.\u0275\u0275pipe(56,"translate"),t.\u0275\u0275template(57,Ua,3,3,"p",25),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerStart(58,26),t.\u0275\u0275elementStart(59,"div",7)(60,"div",8)(61,"mat-form-field"),t.\u0275\u0275element(62,"input",27),t.\u0275\u0275pipe(63,"translate"),t.\u0275\u0275template(64,qa,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(65,"div",28)(66,"mat-form-field",29),t.\u0275\u0275element(67,"input",30),t.\u0275\u0275pipe(68,"translate"),t.\u0275\u0275elementStart(69,"mat-autocomplete",31,32),t.\u0275\u0275template(71,Ga,2,3,"mat-option",33),t.\u0275\u0275pipe(72,"async"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(73,"div",34)(74,"mat-form-field"),t.\u0275\u0275element(75,"input",35),t.\u0275\u0275pipe(76,"translate"),t.\u0275\u0275template(77,Ka,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(78,"div",7)(79,"div",36)(80,"mat-form-field"),t.\u0275\u0275element(81,"input",37),t.\u0275\u0275pipe(82,"translate"),t.\u0275\u0275template(83,ja,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(84,"div",38)(85,"mat-form-field"),t.\u0275\u0275element(86,"input",39),t.\u0275\u0275pipe(87,"translate"),t.\u0275\u0275template(88,Ha,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(89,"div",7)(90,"div",8)(91,"mat-form-field")(92,"input",40),t.\u0275\u0275listener("keyup",function(){return n.getPostcodeData()}),t.\u0275\u0275pipe(93,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(94,Wa,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(95,"div",23)(96,"ng-select",41),t.\u0275\u0275listener("change",function(){return n.getPostcodeData()}),t.\u0275\u0275pipe(97,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(98,$a,3,3,"p",25),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(99,"div",7)(100,"div",34)(101,"mat-form-field"),t.\u0275\u0275element(102,"input",42),t.\u0275\u0275pipe(103,"translate"),t.\u0275\u0275template(104,za,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerStart(105,14)(106,1)(107,2)(108,3)(109,4),t.\u0275\u0275elementStart(110,"div",43)(111,"mat-form-field"),t.\u0275\u0275element(112,"input",44),t.\u0275\u0275pipe(113,"translate"),t.\u0275\u0275template(114,Ya,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()()()()(),t.\u0275\u0275elementStart(115,"div",43)(116,"mat-form-field"),t.\u0275\u0275element(117,"input",45),t.\u0275\u0275pipe(118,"translate"),t.\u0275\u0275template(119,Qa,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementStart(120,"div",7)(121,"div",46)(122,"h3"),t.\u0275\u0275text(123),t.\u0275\u0275pipe(124,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(125,"div",7)(126,"div",34)(127,"mat-form-field",29)(128,"mat-label"),t.\u0275\u0275text(129),t.\u0275\u0275pipe(130,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(131,"mat-select",47)(132,"mat-option",48),t.\u0275\u0275listener("click",function(){return n.selectType("PASSPORT")}),t.\u0275\u0275text(133),t.\u0275\u0275pipe(134,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(135,"mat-option",49),t.\u0275\u0275listener("click",function(){return n.selectType("ID_CARD")}),t.\u0275\u0275text(136),t.\u0275\u0275pipe(137,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(138,"mat-option",50),t.\u0275\u0275listener("click",function(){return n.selectType("DRIVING_LINCENCE")}),t.\u0275\u0275text(139),t.\u0275\u0275pipe(140,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(141,Xa,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(142,bo,3,2,"ng-container",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()()()(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(143,"div",51),t.\u0275\u0275template(144,Co,10,9,"ng-container",16),t.\u0275\u0275template(145,yo,4,3,"ng-container",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(146,xo,2,0,"div",52)}if(2&e){const a=t.\u0275\u0275reference(53),o=t.\u0275\u0275reference(70);t.\u0275\u0275property("formGroup",n.signatoryForm),t.\u0275\u0275advance(6),t.\u0275\u0275property("disabled","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(5),t.\u0275\u0275property("disabled","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(108,Oo,"verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)?"rgba(255, 255, 255, 0.5)":"")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(14,60,"Civility"),"*"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(17,62,"Mr")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(20,64,"Mrs")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("signatory_name").get("gender").hasError("required")&&(n.signatoryFormArray.at(0).get("signatory_name").get("gender").touched||n.signatoryFormArray.at(0).get("signatory_name").get("gender").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroup",n.signatoryForm),t.\u0275\u0275advance(7),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(31,66,"Job Title")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("signatory_job_title").errors),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(37,68,"First Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("signatory_name").get("first_name").errors),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(42,70,"Last Name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("signatory_name").get("last_name").errors),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(49,72,"Date of Birth")),t.\u0275\u0275property("matDatepicker",a),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("signatory_personal_data").get("date_of_birth").errors),t.\u0275\u0275advance(1),t.\u0275\u0275property("for",a),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(56,74,"Nationality"),"*"),t.\u0275\u0275property("items",n.listCountry)("multiple",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("nationality").hasError("required")&&n.signatoryFormArray.at(0).get("nationality").touched),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(63,76,"STEmail")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("signatory_address").get("email").errors),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(68,78,"Dial Code"),"*"),t.\u0275\u0275property("matAutocomplete",o),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(72,80,n.filteredRefDialCode)),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(76,82,"Phone Number")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("signatory_address").get("full_phone_number").errors),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(82,84,"Street")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("signatory_address").get("street").errors),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(87,86,"Street number")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("signatory_address").get("house_number_or_name").errors),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(93,88,"Postal code")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("signatory_address").get("postal_code").errors),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(97,90,"Country")),t.\u0275\u0275property("items",n.listCountry)("multiple",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("signatory_address").get("country").hasError("required")&&n.signatoryFormArray.at(0).get("signatory_address").get("country").touched),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(103,92,"City")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("signatory_address").get("city").errors),t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroup",n.signatoryForm),t.\u0275\u0275advance(7),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(113,94,"Department")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("department").errors),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(118,96,"Region")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("signatory_address").get("region_name").errors),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(124,98,"Document Expected")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(130,100,"Choose one")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disableOptionCentering",!0)("disabled","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(134,102,"PASSPORT")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(137,104,"ID_CARD")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(140,106,"DRIVING_LINCENCE")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.signatoryFormArray.at(0).get("upload_document").hasError("required")&&(n.signatoryFormArray.at(0).get("upload_document").touched||n.signatoryFormArray.at(0).get("upload_document").dirty)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.selectedType),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","publish"!==(null==n.dataEntity?null:n.dataEntity.online_payment_status)&&"verification_in_progress"!==(null==n.dataEntity?null:n.dataEntity.online_payment_status)&&"rejected"!==(null==n.dataEntity?null:n.dataEntity.online_payment_status)&&"pci_not_complete"!==(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","verification_in_progress"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)||"publish"===(null==n.dataEntity?null:n.dataEntity.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse)}},dependencies:[_.sg,_.O5,_.PC,R.XC,R.ZL,tt.ey,L.lW,mt.a8,at.Mq,at.hl,at.nW,K.Hw,w.TO,w.KE,w.hX,w.R9,X.Nt,M.Ou,Q.VQ,Q.U0,pt.gD,et.gM,c.\u0275NgNoValidate,c.DefaultValueAccessor,c.NgControlStatus,c.NgControlStatusGroup,c.RequiredValidator,c.MaxLengthValidator,c.FormGroupDirective,c.FormControlName,c.FormGroupName,j.Zl,lt.w9,_.Ov,g.X$],styles:[".container[_ngcontent-%COMP%]   .m-right-10[_ngcontent-%COMP%]{margin-right:10px}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select .ng-select-container{background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid rgba(255,255,255,.7)!important;min-height:36px;align-items:center;color:#fff!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .mat-select-arrow-wrapper{padding-right:5px}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .mat-select-value-text{margin-left:10px;font-size:13px}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     ng-dropdown-panel{z-index:99999999999}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff!important;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-select-disabled>.ng-select-container{color:#ffffff80!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}.container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]     .ng-select.ng-invalid.ng-touched .ng-select-container .ng-placeholder{color:#f44336!important}.error-document-expected[_ngcontent-%COMP%]{font-size:75%!important}  .mat-form-field.ng-invalid.ng-touched .mat-form-field-wrapper label{color:#f44336!important}  .mat-form-field.ng-invalid.ng-touched .mat-form-field-wrapper label   .optionPanel{margin-top:25px!important;margin-left:15px!important}  .mat-select-panel-wrap{max-width:-moz-fit-content!important;max-width:fit-content!important}"]}),i})();const Po=["merchantMatGroup"],Mo=["companyMerchant"],So=["bankMerchant"],Eo=["shareholderMerchant"],To=["signMerchant"];function wo(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",11),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"Legal entity is published")))}function Io(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",11),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"Legal entity is in verification")))}function ko(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",11),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"PCI Compliance is not completed")))}function Do(i,r){1&i&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"translate")),2&i&&t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(1,1,"Company")," ")}function Bo(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-boarding-merchant-company-detail",12,13),t.\u0275\u0275listener("continue",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selectedTab(a))})("addLegalId",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.getIdLegalEntity(a))})("cancelTab",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.openTable(a))})("updateData",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.getOneLegalEntity(a))}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("legalEntityId",e.legalEntityId)}}function Fo(i,r){1&i&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"translate")),2&i&&t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(1,1,"Bank Account")," ")}function Ao(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-boarding-merchant-bank-account-detail",14,15),t.\u0275\u0275listener("continue",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selectedTab(a))})("previousTab",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selectedTab(a))})("updateData",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.getOneLegalEntity(a))})("cancelTab",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.openTable(a))}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("legalEntityId",e.legalEntityId)}}function No(i,r){1&i&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"translate")),2&i&&t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(1,1,"Shareholder")," ")}function Ro(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-boarding-merchant-shareholder-detail",14,16),t.\u0275\u0275listener("continue",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selectedTab(a))})("previousTab",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selectedTab(a))})("updateData",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.getOneLegalEntity(a))})("cancelTab",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.openTable(a))}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("legalEntityId",e.legalEntityId)}}function Lo(i,r){1&i&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"translate")),2&i&&t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(1,1,"Signatory")," ")}function Vo(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-boarding-merchant-signatory-detail",14,17),t.\u0275\u0275listener("continue",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selectedTab(a))})("previousTab",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selectedTab(a))})("updateData",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.getOneLegalEntity(a))})("cancelTab",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.openTable(a))}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("legalEntityId",e.legalEntityId)}}function Uo(i,r){1&i&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"translate")),2&i&&t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(1,1,"PCI Compliance")," ")}function qo(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ms-boarding-merchant-pci-compliance-detail",18,19),t.\u0275\u0275listener("previousTab",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selectedTab(a))})("updateData",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.getOneLegalEntity(a))})("cancelTab",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.openTable(a))}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("legalEntityId",e.legalEntityId)}}let Go=(()=>{class i{constructor(e,n,a,o){this.router=e,this.translate=n,this.financeService=a,this.authService=o,this.backToTable=new t.EventEmitter,this.subs=new I.Y,this.selectedIndex=0,this.tabIndex=0,this.disableStepTwo=!0,this.disableStepThree=!0,this.disableStepFour=!0,this.disableStepFive=!0}ngOnInit(){this.legalEntityId=null,this.router.queryParams.subscribe(e=>{e&&e.legalEntityId&&(this.legalEntityId=e.legalEntityId)}),this.getOneLegalEntity(!0),setTimeout(()=>{this.merchantMatGroup._handleClick=this.interceptTabChange.bind(this)},500),this.router.snapshot.queryParamMap.get("tab")&&setTimeout(()=>this.goToTab(this.router.snapshot.queryParamMap.get("tab")),500)}getOneLegalEntity(e){this.legalEntityId&&(this.subs.sink=this.financeService.checkStatusLegalEntity(this.legalEntityId).subscribe(n=>{n&&n._id&&(this.statusLegalEntity=n.online_payment_status,n.account_holder_code&&(this.disableStepTwo=!1),n.account_holder_details&&n.account_holder_details.bank_account_details&&n.account_holder_details.bank_account_details.length&&n.account_holder_details.bank_account_details[0]&&n.account_holder_details.bank_account_details[0].owner_name&&(this.disableStepThree=!1),n.account_holder_details&&n.account_holder_details.business_detail&&n.account_holder_details.business_detail.shareholders&&n.account_holder_details.business_detail.shareholders.length&&n.account_holder_details.business_detail.shareholders[0]&&n.account_holder_details.business_detail.shareholders[0].first_name&&(this.disableStepFour=!1),n.account_holder_details&&n.account_holder_details.business_detail&&n.account_holder_details.business_detail.signatories&&n.account_holder_details.business_detail.signatories.length&&n.account_holder_details.business_detail.signatories[0]&&n.account_holder_details.business_detail.signatories[0].signatory_name&&("verification_in_progress"===n.online_payment_status||"rejected"===n.online_payment_status||"publish"===n.online_payment_status||"pci_not_complete"===n.online_payment_status)&&(this.disableStepFive=!1))},n=>{this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}openTable(){this.backToTable.emit(!0)}selectedTab(e){this.selectedIndex=e}getIdLegalEntity(e){this.legalEntityId=e}checkValidation(e){}interceptTabChange(e,n,a){let o=!1,l=!1;if(this.merchantMatGroup.selectedIndex===a)return o=!0,o&&E.SP.prototype._handleClick.apply(this.merchantMatGroup,arguments);if(0===this.merchantMatGroup.selectedIndex?this.companyMerchant&&this.companyMerchant.formCompanyDetail&&this.companyMerchant.firstForm&&(l=this.companyMerchant.comparison()):1===this.merchantMatGroup.selectedIndex?this.bankMerchant&&this.bankMerchant.bankAccountForm&&this.bankMerchant.firstForm&&(l=this.bankMerchant.comparison()):2===this.merchantMatGroup.selectedIndex?this.shareholderMerchant&&this.shareholderMerchant.shareholderForm&&this.shareholderMerchant.firstForm&&!this.disableStepThree&&(l=this.shareholderMerchant.comparison()):3===this.merchantMatGroup.selectedIndex?this.signMerchant&&this.signMerchant.signatoryForm&&this.signMerchant.firstForm&&!this.disableStepFour&&(l=this.signMerchant.comparison()):l=!0,l)return o=!0,o&&E.SP.prototype._handleClick.apply(this.merchantMatGroup,arguments);{let d=!1;if(1===a?d=!!this.disableStepTwo:2===a?d=!!this.disableStepThree:3===a&&(d=!!this.disableStepFour),d)return o=!0,o&&E.SP.prototype._handleClick.apply(this.merchantMatGroup,arguments);s().fire({type:"warning",title:this.translate.instant("TMTC_S01.TITLE"),text:this.translate.instant("TMTC_S01.TEXT"),confirmButtonText:this.translate.instant("TMTC_S01.BUTTON_1"),showCancelButton:!0,cancelButtonText:this.translate.instant("TMTC_S01.BUTTON_2"),allowOutsideClick:!1}).then(p=>{if(p.dismiss)return o=!0,o&&E.SP.prototype._handleClick.apply(this.merchantMatGroup,arguments)})}}goToTab(e){if(this.merchantMatGroup){let n=0;this.merchantMatGroup._tabs.forEach((a,o)=>{a.textLabel===e&&(n=o)}),this.selectedIndex=n}}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(P.gz),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(B.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-legal-entities-boarding-merchant-parent"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(Po,5),t.\u0275\u0275viewQuery(Mo,5),t.\u0275\u0275viewQuery(So,5),t.\u0275\u0275viewQuery(Eo,5),t.\u0275\u0275viewQuery(To,5)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.merchantMatGroup=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.companyMerchant=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.bankMerchant=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.shareholderMerchant=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.signMerchant=a.first)}},outputs:{backToTable:"backToTable"},decls:21,vars:8,consts:[[2,"position","relative","text-align","right","top","34px","right","12px"],[4,"ngIf"],[3,"selectedIndex","selectedIndexChange","click"],["merchantMatGroup",""],["label","Company"],["mat-tab-label","","class","main-tab"],["matTabContent",""],["label","BankAccount",3,"disabled"],["label","ShareHolder",3,"disabled"],["label","Signatory",3,"disabled"],["label","PCI",3,"disabled"],[2,"color","orange","font-size","18px"],[3,"legalEntityId","continue","addLegalId","cancelTab","updateData"],["companyMerchant",""],[3,"legalEntityId","continue","previousTab","updateData","cancelTab"],["bankMerchant",""],["shareholderMerchant",""],["signMerchant",""],[3,"legalEntityId","previousTab","updateData","cancelTab"],["pciMerchant",""]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,wo,4,3,"ng-container",1),t.\u0275\u0275template(2,Io,4,3,"ng-container",1),t.\u0275\u0275template(3,ko,4,3,"ng-container",1),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"mat-tab-group",2,3),t.\u0275\u0275listener("selectedIndexChange",function(o){return n.selectedIndex=o})("click",function(o){return n.checkValidation(o)}),t.\u0275\u0275elementStart(6,"mat-tab",4),t.\u0275\u0275template(7,Do,2,3,"ng-template",5),t.\u0275\u0275template(8,Bo,2,1,"ng-template",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"mat-tab",7),t.\u0275\u0275template(10,Fo,2,3,"ng-template",5),t.\u0275\u0275template(11,Ao,2,1,"ng-template",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"mat-tab",8),t.\u0275\u0275template(13,No,2,3,"ng-template",5),t.\u0275\u0275template(14,Ro,2,1,"ng-template",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"mat-tab",9),t.\u0275\u0275template(16,Lo,2,3,"ng-template",5),t.\u0275\u0275template(17,Vo,2,1,"ng-template",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"mat-tab",10),t.\u0275\u0275template(19,Uo,2,3,"ng-template",5),t.\u0275\u0275template(20,qo,2,1,"ng-template",6),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","publish"===n.statusLegalEntity),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","verification_in_progress"===n.statusLegalEntity),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","pci_not_complete"===n.statusLegalEntity),t.\u0275\u0275advance(1),t.\u0275\u0275property("selectedIndex",n.selectedIndex),t.\u0275\u0275advance(5),t.\u0275\u0275property("disabled",n.disableStepTwo),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",n.disableStepThree),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",n.disableStepFour),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",n.disableStepFive))},dependencies:[_.O5,E.SP,E.uD,E.uX,E.Vc,ai,Ei,ki,ka,vo,g.X$],styles:["[_nghost-%COMP%]     .mat-tab-label.mat-tab-disabled, .mat-tab-link.mat-tab-disabled[_ngcontent-%COMP%]{border:1px solid #282828!important;background-color:#464646!important;color:#a2a2a2!important}[_nghost-%COMP%]     .mat-tab-label:first-child{min-width:150px!important;border:1px solid black!important;background-color:#000!important;font-size:15px;opacity:1!important;color:#fff!important;font-weight:900!important}[_nghost-%COMP%]     .mat-tab-list .mat-tab-label-active{border:0px!important;background-color:#607d8b!important;color:#ffe77a!important}[_nghost-%COMP%]     .mat-tab-list .mat-tab-labels{border:0px!important;background-color:transparent!important}"]}),i})();function Ko(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",67),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.addLegalDialog())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ADMISSION.TABLE_LEGAL_ENTITIES.Add a Legal Entity")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"ADMISSION.TABLE_LEGAL_ENTITIES.Add a Legal Entity")," "))}function jo(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",68),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.getDataAllForCheckbox(0))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",69),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"EXPORT")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"Export")," ")}}function Ho(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",70),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.resetTable())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",71),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"RESET")," ")}}function Wo(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",59)(1,"div",60)(2,"div",61)(3,"button",62),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"mat-menu",null,63),t.\u0275\u0275template(11,Ko,4,6,"button",64),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,jo,5,7,"button",65),t.\u0275\u0275template(13,Ho,5,7,"button",66),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275reference(10),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(4,7,"Action")," "),t.\u0275\u0275property("disabled",n.isWaitingForResponse)("matMenuTriggerFor",e),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,9,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",n.permission.addSettingLegalEntity()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.exportSettingLegalEntity()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.resetSettingLegalEntity())}}function $o(i,r){1&i&&t.\u0275\u0275element(0,"th",72)}function zo(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",73)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",74),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.legalEntityFilter)}}function Yo(i,r){1&i&&t.\u0275\u0275element(0,"th",73)}function Qo(i,r){1&i&&t.\u0275\u0275element(0,"th",73)}function Xo(i,r){1&i&&t.\u0275\u0275element(0,"th",73)}function Zo(i,r){1&i&&t.\u0275\u0275element(0,"th",73)}function Jo(i,r){1&i&&t.\u0275\u0275element(0,"th",73)}function tr(i,r){1&i&&t.\u0275\u0275element(0,"th",73)}function er(i,r){1&i&&t.\u0275\u0275element(0,"th",73)}function nr(i,r){1&i&&t.\u0275\u0275element(0,"th",73)}function ir(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",73)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",74),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.accountingAccountFilter)}}function ar(i,r){1&i&&t.\u0275\u0275element(0,"th",73)}function or(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",73)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",74),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.programCampusFilter)}}function rr(i,r){1&i&&t.\u0275\u0275element(0,"th",73)}function lr(i,r){1&i&&t.\u0275\u0275element(0,"th",73)}function sr(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",78),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,e.key)," ")}}function dr(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",73)(1,"mat-form-field")(2,"mat-label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-select",75),t.\u0275\u0275listener("selectionChange",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onFilterSelect(a.value))}),t.\u0275\u0275elementStart(6,"mat-option",76),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,sr,3,4,"mat-option",77),t.\u0275\u0275elementEnd()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,5,"Select")),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",e.officialStampFilter)("disableOptionCentering",!0),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,7,"All")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.officialStampDropdown)}}function cr(i,r){1&i&&t.\u0275\u0275element(0,"th",73)}function pr(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",72)(1,"mat-checkbox",79),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?o.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.showOptions("all",""))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&((null==e.dataUnselectUser?null:e.dataUnselectUser.length)>0||!e.isAllSelected()))("aria-label",e.checkboxLabel())}}function mr(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",80)(1,"mat-checkbox",81),t.\u0275\u0275listener("click",function(a){return a.stopPropagation()})("change",function(a){const l=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?d.selection.toggle(l._id):null)})("change",function(){const o=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.showOptions("one",o))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(null==e?null:e._id)||n.isCheckedAll&&!n.dataUnselectLegalEntity.includes(null==e?null:e._id))("aria-label",n.checkboxLabel(e))}}function hr(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",83),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ADMISSION.TABLE_LEGAL_ENTITIES.Legal Entity")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"ADMISSION.TABLE_LEGAL_ENTITIES.Legal Entity")))}function gr(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.legal_entity_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.legal_entity_name," ")}}function ur(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",85),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ADMISSION.TABLE_LEGAL_ENTITIES.Accounting Account")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"ADMISSION.TABLE_LEGAL_ENTITIES.Accounting Account")))}function _r(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.accounting_account),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.accounting_account," ")}}function fr(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Immatriculation")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Immatriculation")))}function br(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.immatriculation),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.immatriculation," ")}}function Cr(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"SIRET")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"SIRET")))}function yr(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e||null==e.account_holder_details||null==e.account_holder_details.business_detail?null:e.account_holder_details.business_detail.registration_number),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.account_holder_details||null==e.account_holder_details.business_detail?null:e.account_holder_details.business_detail.registration_number," ")}}function xr(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Shareholder")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Shareholder")))}function Or(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",84),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"uppercase"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate3("matTooltip","",n.updateCivility(null==e||null==e.account_holder_details||null==e.account_holder_details.business_detail||null==e.account_holder_details.business_detail.shareholders[0]?null:e.account_holder_details.business_detail.shareholders[0].gender)," ",null==e||null==e.account_holder_details||null==e.account_holder_details.business_detail||null==e.account_holder_details.business_detail.shareholders[0]?null:e.account_holder_details.business_detail.shareholders[0].first_name," ",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.account_holder_details||null==e.account_holder_details.business_detail||null==e.account_holder_details.business_detail.shareholders[0]?null:e.account_holder_details.business_detail.shareholders[0].last_name),""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate3(" ",n.updateCivility(null==e||null==e.account_holder_details||null==e.account_holder_details.business_detail||null==e.account_holder_details.business_detail.shareholders[0]?null:e.account_holder_details.business_detail.shareholders[0].gender)," ",null==e||null==e.account_holder_details||null==e.account_holder_details.business_detail||null==e.account_holder_details.business_detail.shareholders[0]?null:e.account_holder_details.business_detail.shareholders[0].first_name," ",t.\u0275\u0275pipeBind1(3,8,null==e||null==e.account_holder_details||null==e.account_holder_details.business_detail||null==e.account_holder_details.business_detail.shareholders[0]?null:e.account_holder_details.business_detail.shareholders[0].last_name)," ")}}function vr(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Signatory")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Signatory")))}function Pr(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",84),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"uppercase"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate3("matTooltip","",n.updateCivility(null==e||null==e.account_holder_details||null==e.account_holder_details.business_detail||null==e.account_holder_details.business_detail.signatories[0]||null==e.account_holder_details.business_detail.signatories[0].signatory_name?null:e.account_holder_details.business_detail.signatories[0].signatory_name.gender)," ",null==e||null==e.account_holder_details||null==e.account_holder_details.business_detail||null==e.account_holder_details.business_detail.signatories[0]||null==e.account_holder_details.business_detail.signatories[0].signatory_name?null:e.account_holder_details.business_detail.signatories[0].signatory_name.first_name," ",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.account_holder_details||null==e.account_holder_details.business_detail||null==e.account_holder_details.business_detail.signatories[0]||null==e.account_holder_details.business_detail.signatories[0].signatory_name?null:e.account_holder_details.business_detail.signatories[0].signatory_name.last_name),""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate3(" ",n.updateCivility(null==e||null==e.account_holder_details||null==e.account_holder_details.business_detail||null==e.account_holder_details.business_detail.signatories[0]||null==e.account_holder_details.business_detail.signatories[0].signatory_name?null:e.account_holder_details.business_detail.signatories[0].signatory_name.gender)," ",null==e||null==e.account_holder_details||null==e.account_holder_details.business_detail||null==e.account_holder_details.business_detail.signatories[0]||null==e.account_holder_details.business_detail.signatories[0].signatory_name?null:e.account_holder_details.business_detail.signatories[0].signatory_name.first_name," ",t.\u0275\u0275pipeBind1(3,8,null==e||null==e.account_holder_details||null==e.account_holder_details.business_detail||null==e.account_holder_details.business_detail.signatories[0]||null==e.account_holder_details.business_detail.signatories[0].signatory_name?null:e.account_holder_details.business_detail.signatories[0].signatory_name.last_name)," ")}}function Mr(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"IBAN")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"IBAN")))}function Sr(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e||null==e.account_holder_details||null==e.account_holder_details.bank_account_details[0]?null:e.account_holder_details.bank_account_details[0].iban),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.account_holder_details||null==e.account_holder_details.bank_account_details[0]?null:e.account_holder_details.bank_account_details[0].iban," ")}}function Er(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"BIC")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"BIC")))}function Tr(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.bic),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.bic," ")}}function wr(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"URSSAF Number")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"URSSAF Number")))}function Ir(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.urrsaf_number),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.urrsaf_number," ")}}function kr(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"TVA Number")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"TVA Number")))}function Dr(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.tva_number),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.tva_number," ")}}function Br(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",86),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Bank")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Bank")))}function Fr(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",84),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e||null==e.account_holder_details||null==e.account_holder_details.bank_account_details[0]?null:e.account_holder_details.bank_account_details[0].bank_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.account_holder_details||null==e.account_holder_details.bank_account_details[0]?null:e.account_holder_details.bank_account_details[0].bank_name," ")}}function Ar(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",87),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"RIB")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"RIB")))}function Nr(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-icon",90),t.\u0275\u0275text(1,"lens "),t.\u0275\u0275elementEnd())}function Rr(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",88),t.\u0275\u0275template(1,Nr,2,0,"mat-icon",89),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rib)}}function Lr(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Online Payment")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Online Payment")))}const Vr=function(i,r,e,n){return{black:i,orange:r,red:e,green:n}};function Ur(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",91)(1,"mat-icon",92),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,2,null==e?null:e.online_payment_status)),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction4(4,Vr,"not_submit"===(null==e?null:e.online_payment_status),"verification_in_progress"===(null==e?null:e.online_payment_status),"rejected"===(null==e?null:e.online_payment_status),"publish"===(null==e?null:e.online_payment_status)))}}function qr(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",93),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Official Stamps")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Official Stamps")))}const Gr=function(i,r){return{red:i,green:r}};function Kr(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",91)(1,"mat-icon",92),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,2,null!=e&&e.legal_entity_stamp?"Assigned":"Non assigned")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(4,Gr,!(null!=e&&e.legal_entity_stamp),null==e?null:e.legal_entity_stamp))}}function jr(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function Hr(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",98),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.editLegalDialog(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Edit")),t.\u0275\u0275property("disabled",e.isAllSelected()||e.dataSelected.length>0)}}function Wr(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",98),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.deletePayment(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"close"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("disabled",e.isAllSelected()||e.dataSelected.length>0)}}function $r(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Hr,4,4,"button",97),t.\u0275\u0275template(2,Wr,4,4,"button",97),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.editSettingLegalEntity()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.deleteSettingLegalEntity())}}function zr(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",98),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.editLegalDialog(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",99),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Details")),t.\u0275\u0275property("disabled",e.isAllSelected()||e.dataSelected.length>0)}}function Yr(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",98),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.unpublishLegalEntity(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(3,"svg",100),t.\u0275\u0275element(4,"path",101),t.\u0275\u0275elementEnd()()()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Unpublish")),t.\u0275\u0275property("disabled",e.isAllSelected()||e.dataSelected.length>0)}}function Qr(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,zr,3,4,"button",97),t.\u0275\u0275template(2,Yr,5,4,"button",97),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.viewSettingLegalEntity()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",("publish"===(null==e?null:e.online_payment_status)||"verification_in_progress"!==(null==e?null:e.online_payment_status))&&n.permission.publishSettingLegalEntity())}}function Xr(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",98),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.editLegalDialog(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",99),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Details")),t.\u0275\u0275property("disabled",e.isAllSelected()||e.dataSelected.length>0)}}function Zr(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Xr,3,4,"button",97),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.viewSettingLegalEntity())}}function Jr(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",91)(1,"button",94),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.assignLegalStampDialog(o))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",95),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,$r,3,2,"ng-container",96),t.\u0275\u0275template(5,Qr,3,2,"ng-container",96),t.\u0275\u0275template(6,Zr,2,1,"ng-container",96),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,4,"Assign a Stamp")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","publish"!==(null==e?null:e.online_payment_status)&&"verification_in_progress"!==(null==e?null:e.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","publish"===(null==e?null:e.online_payment_status)&&"verification_in_progress"!==(null==e?null:e.online_payment_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","verification_in_progress"===(null==e?null:e.online_payment_status))}}function tl(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",102)(1,"div",103),t.\u0275\u0275element(2,"mat-spinner",104),t.\u0275\u0275elementEnd()())}function el(i,r){1&i&&t.\u0275\u0275element(0,"tr",105)}function nl(i,r){1&i&&t.\u0275\u0275element(0,"tr",105)}function il(i,r){1&i&&t.\u0275\u0275element(0,"tr",105)}function al(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",106),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function ol(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",107),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function rl(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",108),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No record of Legal entities")," "))}function ll(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",109)(1,"div",109),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",109),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",109),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",109),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div",109)(14,"mat-form-field",110)(15,"input",111),t.\u0275\u0275listener("ngModelChange",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.exportName=a)}),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(17,"button",112),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.onDataExport())}),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,7,"Export Text1")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,9,"Export Text2")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,11,"Export Text3")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(12,13,"Export Text4")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(16,15,"ExportName")),t.\u0275\u0275property("ngModel",e.exportName),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(19,17,"OK")," ")}}const Et=function(i){return{display:i}},sl=function(){return["reset"]},dl=function(){return["loading"]},cl=function(i){return{hide:i}},pl=function(i){return{"hide-pagination-buttons":i}},ml=function(){return[10]};let hl=(()=>{class i{constructor(e,n,a,o,l,d,p,f,h,C,v){this.dialog=e,this.financeService=n,this.translateService=a,this.router=o,this.pageTitleService=l,this.route=d,this.utilityService=p,this.userService=f,this.permission=h,this.filterBreadCrumbService=C,this.httpClient=v,this.dataSource=new x.by([]),this.isReset=!1,this.dataLoaded=!1,this.sortValue=null,this.displayedColumns=["select","legalEntity","immatruclation","siret","shareholder","signatory","bank","iban","bic","urssafNumber","tvaNumber","onlinePayment","officialStamp","action"],this.filterColumns=["selectFilter","legalEntityFilter","immatruclationFilter","siretFilter","shareholderFilter","signatoryFilter","bankFilter","ibanFilter","bicFilter","urssafNumberFilter","tvaNumberFilter","onlinePaymentFilter","officialStampFilter","actionFilter"],this.filteredValues={name:"",accounting_account:"",program_campus:"",scholar_season_id:null,legal_entity_stamp:null},this.isWaitingForResponse=!1,this.isLoading=!1,this.dataCount=0,this.subs=new I.Y,this.selection=new rt.Ov(!0,[]),this.isCheckedAll=!1,this.disabledExport=!0,this.userSelected=[],this.userSelectedId=[],this.legalEntityFilter=new c.UntypedFormControl(""),this.accountingAccountFilter=new c.UntypedFormControl(""),this.programCampusFilter=new c.UntypedFormControl(""),this.dummyOnlinePayment="nothing_is_done",this.allInternshipId=[],this.openOnBoardingMerchant=!1,this.dataSelected=[],this.pageSelected=[],this.allLegalForCheckbox=[],this.officialStampDropdown=[{key:"Assigned",value:!0},{key:"Non assigned",value:!1}],this.officialStampFilter=new c.UntypedFormControl("All"),this.filterBreadcrumbData=[],this.dataUnselectLegalEntity=[]}ngOnInit(){const e=this.userService.getLocalStorageUser(),n=this.userService.getPermission(),a=e?.entities?.find(o=>o?.type?.name===n[0]);this.currentUserTypeId=a?.type?._id,this.initFilter(),this.getLegalEntitiesData(),this.pageTitleService.setTitle(this.translateService.instant("INTAKE_CHANNEL.PAGE_TITLE.Settings")+" - "+this.translateService.instant("INTAKE_CHANNEL.SETTINGS.Legal entities")),this.subs.sink=this.translateService.onLangChange.subscribe(()=>{this.pageTitleService.setTitle(this.translateService.instant("INTAKE_CHANNEL.PAGE_TITLE.Settings")+" - "+this.translateService.instant("INTAKE_CHANNEL.SETTINGS.Legal entities"))}),this.openOnBoardingMerchant=!!this.router.snapshot.queryParamMap.get("legalEntityId")}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,N.O)(null),(0,W.b)(()=>{this.isReset||this.getLegalEntitiesData(),this.dataLoaded=!0})).subscribe()}getLegalEntitiesData(){this.isWaitingForResponse=!0;const e={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},n=this.cleanFilterData();this.subs.sink=this.financeService.GetAllLegalEntities(e,this.sortValue,n).subscribe(a=>{if(a&&a.length){const o=m.cloneDeep(a);this.dataSource.data=o,this.paginator.length=a[0]?.count_document,this.dataCount=a[0]?.count_document}else this.dataSource.data=[],this.paginator.length=0,this.dataCount=0;this.disabledExport=!0,this.noData=this.dataSource.connect().pipe((0,k.U)(o=>0===o.length)),this.isReset=!1,this.isWaitingForResponse=!1,this.filterBreadcrumbData=[],this.filterBreadcrumbFormat()},a=>{this.userService.postErrorLog(a),this.disabledExport=!0,this.noData=this.dataSource.connect().pipe((0,k.U)(o=>0===o.length)),this.isReset=!1,this.isWaitingForResponse=!1,a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():a&&a.message&&a.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:a&&a.message?this.translateService.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translateService.instant("OK")})})}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.selection.clear(),this.dataSelected=[],this.allLegalForCheckbox=[],this.isCheckedAll=!1,this.paginator.pageIndex=0,this.isReset||this.getLegalEntitiesData())}resetTable(){this.isReset=!0,this.selection.clear(),this.isCheckedAll=!1,this.dataUnselectLegalEntity=[],this.allLegalForCheckbox=[],this.dataSelected=[],this.paginator.pageIndex=0,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.filteredValues={name:"",accounting_account:"",program_campus:"",scholar_season_id:this.scholarId,legal_entity_stamp:null},this.officialStampFilter.setValue("All",{emitEvent:!1}),this.disabledExport=!0,this.legalEntityFilter.setValue(null,{emitEvent:!1}),this.accountingAccountFilter.setValue(null,{emitEvent:!1}),this.programCampusFilter.setValue(null,{emitEvent:!1}),this.sort.direction="",this.sort.active="",this.sortValue=null,this.filterBreadcrumbData=[],this.getLegalEntitiesData()}cleanFilterData(){const e=m.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(a=>{(e[a]||!1===e[a])&&(n+="legal_entity_stamp"===a?` ${a}:${e[a]}`:` ${a}:"${e[a]}"`)}),"filter: {"+n+"}"}initFilter(){this.subs.sink=this.legalEntityFilter.valueChanges.pipe((0,it.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.isCheckedAll=!1,this.legalEntityFilter.setValue(""),this.filteredValues.name="",this.paginator.pageIndex=0,this.isReset||this.getLegalEntitiesData()):(this.isCheckedAll=!1,this.filteredValues.name=e||"",this.paginator.pageIndex=0,this.isReset?""===e&&(this.isCheckedAll=!1,this.legalEntityFilter.setValue(""),this.filteredValues.name="",this.paginator.pageIndex=0,this.isReset||this.getLegalEntitiesData()):(this.isCheckedAll=!1,this.getLegalEntitiesData()))}),this.subs.sink=this.accountingAccountFilter.valueChanges.pipe((0,it.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.accountingAccountFilter.setValue(""),this.filteredValues.accounting_account="",this.paginator.pageIndex=0,this.isReset||this.getLegalEntitiesData()):(this.filteredValues.accounting_account=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset?""===e&&(this.accountingAccountFilter.setValue(""),this.filteredValues.accounting_account="",this.paginator.pageIndex=0,this.isReset||this.getLegalEntitiesData()):this.getLegalEntitiesData())}),this.subs.sink=this.programCampusFilter.valueChanges.pipe((0,it.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.programCampusFilter.setValue(""),this.filteredValues.program_campus="",this.paginator.pageIndex=0,this.isReset||this.getLegalEntitiesData()):(this.filteredValues.program_campus=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset?""===e&&(this.programCampusFilter.setValue(""),this.filteredValues.program_campus="",this.paginator.pageIndex=0,this.isReset||this.getLegalEntitiesData()):this.getLegalEntitiesData())})}renderTooltipEntity(e){let n="",a=0;for(const o of e)a++,a>1?o&&(n+=", ",n+=o):o&&(n+=o);return n}addLegalDialog(){this.subs.sink=this.dialog.open(En,{width:"1000px",minHeight:"100px",maxHeight:"40vw",disableClose:!0}).afterClosed().subscribe(e=>{"Open Form"===e?this.openOnBoardingMerchant=!0:e&&"Open Form"!==e&&this.getLegalEntitiesData()})}editLegalDialog(e){const n=this.route.createUrlTree(["/settings"],{queryParams:{legalEntityId:e._id}});window.open(n.toString(),"_blank")}assignLegalStampDialog(e){this.subs.sink=this.dialog.open(Bn,{width:"600px",minHeight:"100px",maxHeight:"40vw",disableClose:!0,data:e}).afterClosed().subscribe(n=>{n&&this.getLegalEntitiesData()})}getAdmissionChannelName(e){let n="",a="",o="",l="",d=0;return e.school_id.forEach(p=>{p&&p.short_name&&e.campus.forEach(f=>{e.level.forEach(h=>{d++,d>1?p&&p.short_name&&(a=p.short_name.substring(0,3).toUpperCase(),o=f?f.substring(0,3).toUpperCase():"",l=h?h.toUpperCase():"",n+=", ",n+=`${a+o} ${l} `):p&&p.short_name&&(a=p.short_name.substring(0,3).toUpperCase(),o=f?f.substring(0,3).toUpperCase():"",l=h?h.toUpperCase():"",n+=`${a+o} ${l} `)})})}),n}getFormatDataProgram(e){const n=m.cloneDeep(e),a=[];let o="",l="",d="";return n.school_id.forEach(p=>{p&&p.short_name&&n.campus.forEach(f=>{n.level.forEach(h=>{p&&p.short_name&&(o=p.short_name.substring(0,3).toUpperCase(),l=f?f.substring(0,3).toUpperCase():"",d=h?h.toUpperCase():"",a.push(`${o+l} ${d}`))})})}),a}deletePayment(e){let n=3;s().fire({title:this.translateService.instant("DELETE_ITEM_TEMPLATE.TITLE"),html:this.translateService.instant("CONFIRMDELETE",{value:e.name?e.name:""}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translateService.instant("THUMBSUP.SWEET_ALERT.CONFIRM",{timer:n}),cancelButtonText:this.translateService.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{s().disableConfirmButton();const a=s().getConfirmButton(),o=setInterval(()=>{n-=1,a.innerText=this.translateService.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${n})`},1e3);this.timeOutVal=setTimeout(()=>{a.innerText=this.translateService.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),s().enableConfirmButton(),clearInterval(o),clearTimeout(this.timeOutVal)},1e3*n)}}).then(a=>{clearTimeout(this.timeOutVal),a.value&&(this.subs.sink=this.financeService.DeleteLegalEntity(e._id).subscribe(()=>{s().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getLegalEntitiesData()})},o=>{this.userService.postErrorLog(o),o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})}))})}getTooltipProgram(e){let n="",a=0;if(e&&e.program&&e.program.length)for(const o of e.program)a++,a>1?o&&(n+=", ",n+=o):o&&(n+=o);return n}isAllSelected(){const e=this.selection.selected.length,n=this.dataSource.data.length;return!!this.isCheckedAll||e===n||e>n}masterToggle(){this.isAllSelected()||this.isCheckedAll&&this.dataUnselectLegalEntity&&this.dataUnselectLegalEntity.length?(this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.dataUnselectLegalEntity=[],this.allLegalForCheckbox=[],this.isCheckedAll=!1):(this.selection.clear(),this.dataSelected=[],this.allLegalForCheckbox=[],this.isCheckedAll=!0,this.dataUnselectLegalEntity=[],this.allLegalForCheckbox=[],this.dataSource.data.forEach(e=>{this.allLegalForCheckbox.includes(e._id)||this.selection.select(e._id)}))}getDataAllForCheckbox(e){if(this.isCheckedAll){const n={limit:500,page:e};this.isWaitingForResponse=!0;const a=this.cleanFilterData();this.subs.sink=this.financeService.GetAllLegalEntitiesForCheckbox(n,this.sortValue,a).subscribe(o=>{if(o&&o.length){const l=m.cloneDeep(o);this.allLegalForCheckbox=m.concat(this.allLegalForCheckbox,l),this.getDataAllForCheckbox(e+1)}else this.isWaitingForResponse=!1,this.isCheckedAll&&this.allLegalForCheckbox&&this.allLegalForCheckbox.length?(this.dataSelected=this.allLegalForCheckbox.filter(l=>!this.dataUnselectLegalEntity.includes(l._id)),this.dataSelected=m.uniqBy(this.dataSelected,"_id"),this.dataSelected&&this.dataSelected.length&&this.downloadCSV()):this.pageSelected=[]},o=>{this.userService.postErrorLog(o),this.isWaitingForResponse=!1,o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})})}else this.downloadCSV()}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}showOptions(e,n){if(this.isCheckedAll){if(n)if(this.dataUnselectLegalEntity.includes(n._id)){const l=this.dataUnselectLegalEntity.findIndex(d=>d===n._id);this.dataUnselectLegalEntity.splice(l,1),this.selection.select(n._id)}else this.dataUnselectLegalEntity.push(n._id),this.selection.deselect(n._id)}else if(n){const l=this.dataSelected.filter(d=>d._id===n._id);if(l&&l.length<1)this.dataSelected.push(n);else{const d=this.dataSelected.findIndex(p=>p._id===n._id);this.dataSelected.splice(d,1)}}this.disabledExport=!(this.selection.selected.length>0),this.userSelected=[],this.userSelectedId=[],this.selectType=e,(this.dataSelected&&this.dataSelected.length?this.dataSelected:this.selection.selected).forEach(l=>{this.userSelected.push(l),this.userSelectedId.push(l._id)})}backToTable(e){e&&(this.openOnBoardingMerchant=!1,this.getLegalEntitiesData(),this.route.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.route.navigate(["/settings"],{queryParams:{openLegalEntities:!0}})))}updateCivility(e){if(e)return"MALE"===e?this.translateService.instant("MR"):"FEMALE"===e?this.translateService.instant("MRS"):void 0}unpublishLegalEntity(e){s().fire({title:this.translateService.instant("Legal_S1.TITLE"),html:this.translateService.instant("Legal_S1.TEXT",{legalEntityName:e.legal_entity_name}),width:"600px",type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translateService.instant("Legal_S1.BUTTON 1"),cancelButtonText:this.translateService.instant("Legal_S1.BUTTON 2"),allowOutsideClick:!1,allowEnterKey:!1}).then(n=>{n.value&&(this.subs.sink=this.financeService.UpdateLegalEntityNotPublish({online_payment_status:"not_submit"},e._id,!1).subscribe(o=>{o&&s().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getLegalEntitiesData()})},o=>{this.userService.postErrorLog(o),o&&o.message&&(o.message.includes("jwt expired")||o.message.includes("str & salt required")||o.message.includes("Authorization header is missing")||o.message.includes("salt"))?this.userService.handlerSessionExpired():"GraphQL error: Legal entity is already connected to a program"===o.message?s().fire({type:"info",title:this.translateService.instant("Legal_S2.TITLE"),html:this.translateService.instant("Legal_S2.TEXT"),confirmButtonText:this.translateService.instant("Legal_S2.BUTTON 1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}):o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})}))})}downloadCSV(){if(!this.utilityService.checkIfCandidateSelectNotNull(this.selection.selected.length,"Legal entity")){const e={",":this.translateService.instant("IMPORT_DECISION_S1.COMMA"),";":this.translateService.instant("IMPORT_DECISION_S1.SEMICOLON"),tab:this.translateService.instant("IMPORT_DECISION_S1.TAB")};s().fire({type:"question",title:this.translateService.instant("IMPORT_DECISION_S1.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translateService.instant("IMPORT_DECISION_S1.CANCEL"),confirmButtonText:this.translateService.instant("IMPORT_DECISION_S1.OK"),input:"radio",inputOptions:e,inputValue:this.translateService&&"fr"===this.translateService.currentLang?";":"",inputValidator:n=>new Promise((a,o)=>{n?(a(""),s().enableConfirmButton()):(s().disableConfirmButton(),o(this.translateService.instant("IMPORT_DECISION_S1.INVALID")))}),onOpen:function(){s().disableConfirmButton(),s().getContent().addEventListener("click",function(){s().enableConfirmButton()}),";"===s().getInput().getAttribute("value")&&s().enableConfirmButton()}}).then(n=>{n.value&&this.openDownloadCsv(n.value)})}}openDownloadCsv(e){let n=st.N.apiUrl;n=n.replace("graphql",""),document.createElement("a");const o=this.translateService.currentLang.toLowerCase();let d,p;d=this.dataSelected.length&&!this.isCheckedAll||this.dataUnselectLegalEntity&&this.dataUnselectLegalEntity.length&&this.isCheckedAll&&this.dataSelected&&this.dataSelected.length?'filter={"legal_entity_ids": ['+[...new Set(this.dataSelected.map(v=>'"'+v._id+'"'))].toString()+"] }":this.cleanFilterDataCSV(),p=this.sortValue?`sorting=${JSON.stringify(this.sortValue)}`:"sorting={}";const f=n+"downloadLegalEntityCSV/"+e+"/"+o+"?"+d+"&"+p+`&user_type_id="${this.currentUserTypeId}"`;console.log(f);const h={headers:new nt.WM({Authorization:JSON.parse(localStorage.getItem("admtc-token-encryption"))})};this.isLoading=!0,this.httpClient.get(`${encodeURI(f)}`,h).subscribe(C=>{C?(this.isLoading=!1,s().fire({type:"success",title:this.translateService.instant("ReAdmission_S3.TITLE"),text:this.translateService.instant("ReAdmission_S3.TEXT"),confirmButtonText:this.translateService.instant("ReAdmission_S3.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.selection.clear(),this.dataSelected=[],this.allLegalForCheckbox=[],this.isCheckedAll=!1})):this.isLoading=!1},C=>{this.isLoading=!1})}cleanFilterDataCSV(){const e=m.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(a=>{(e[a]||!1===e[a])&&(n=n?n+`,"${a}":"${e[a]}"`:n+`"${a}":"${e[a]}"`)}),"filter={"+n+"}"}filterBreadcrumbFormat(){this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat([{type:"table_filter",name:"name",column:"ADMISSION.TABLE_LEGAL_ENTITIES.Legal Entity",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.legalEntityFilter,isSelectionInput:!1,displayKey:null,savedValue:null},{type:"table_filter",name:"legal_entity_stamp",column:"Official Stamps",isMultiple:!0,filterValue:this.filteredValues,filterList:this.officialStampDropdown,filterRef:this.officialStampFilter,isSelectionInput:!0,displayKey:"key",savedValue:"value"}],this.filterBreadcrumbData)}removeFilterBreadcrumb(e){e&&(this.filterBreadCrumbService.removeFilterBreadcrumb(e,null,this.filteredValues),this.officialStampFilter.patchValue("All"),this.clearSelectIfFilter(),this.getLegalEntitiesData())}clearSelectIfFilter(){this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!1}onFilterSelect(e){this.isCheckedAll=!1,this.filteredValues.legal_entity_stamp="All"!==e?e:null,this.paginator.pageIndex=0,this.isReset||this.getLegalEntitiesData()}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(P.gz),t.\u0275\u0275directiveInject(O.Z),t.\u0275\u0275directiveInject(P.F0),t.\u0275\u0275directiveInject(Y.t),t.\u0275\u0275directiveInject(B.e),t.\u0275\u0275directiveInject(y.$),t.\u0275\u0275directiveInject(Pt.q),t.\u0275\u0275directiveInject(nt.eN))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-legal-entity"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(F.NW,7),t.\u0275\u0275viewQuery(D.YE,7)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.sort=a.first)}},decls:106,vars:34,consts:[[3,"ngStyle"],[1,"top-space","horizontal","legal-table"],[3,"filterBreadcrumbData","removeFilterTrigger"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","100%","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","selectFilter","sticky","",1,"mat-column-select"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["matColumnDef","legalEntityFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","immatruclationFilter"],["matColumnDef","siretFilter"],["matColumnDef","shareholderFilter"],["matColumnDef","signatoryFilter"],["matColumnDef","ibanFilter"],["matColumnDef","bicFilter"],["matColumnDef","urssafNumberFilter"],["matColumnDef","tvaNumberFilter"],["matColumnDef","accountingAccountFilter"],["matColumnDef","bankFilter"],["matColumnDef","programCampusFilter"],["matColumnDef","ribFilter"],["matColumnDef","onlinePaymentFilter"],["matColumnDef","officialStampFilter"],["matColumnDef","actionFilter","stickyEnd",""],["matColumnDef","select","sticky","",1,"mat-column-select"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","legalEntity"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","accountingAccount"],["matColumnDef","immatruclation"],["matColumnDef","siret"],["matColumnDef","shareholder"],["matColumnDef","signatory"],["matColumnDef","iban"],["matColumnDef","bic"],["matColumnDef","urssafNumber"],["matColumnDef","tvaNumber"],["matColumnDef","bank"],["matColumnDef","rib"],["mat-cell","",4,"matCellDef"],["matColumnDef","onlinePayment"],["mat-cell","","style","text-align: center",4,"matCellDef"],["matColumnDef","officialStamp"],["matColumnDef","action","stickyEnd",""],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],[1,"card-legal",3,"ngStyle"],[3,"backToTable"],[3,"title","showConfirmButton"],["exportSwal",""],["class","",4,"swalPartial"],["mat-header-cell","","colspan","100%",1,"action-header-column","text-right"],[1,"p-grid"],[1,"p-col-12","text-right"],["mat-raised-button","","color","accent",2,"padding","0px 7px !important",3,"matTooltip","disabled","matMenuTriggerFor"],["action","matMenu"],["mat-menu-item","",3,"matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"matTooltip","disabled","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","matTooltip","click",4,"ngIf"],["mat-menu-item","",3,"matTooltip","click"],["mat-raised-button","","color","primary",3,"matTooltip","disabled","click"],["svgIcon","file-excel",1,"mat-icon-svgIcon"],["mat-raised-button","","color","primary",3,"disabled","matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell","",1,"text-center"],["mat-header-cell",""],["matInput","",1,"form-field",3,"formControl","placeholder"],["panelClass","filterPanel",3,"formControl","disableOptionCentering","selectionChange"],["value","All"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"text-center"],[3,"checked","aria-label","click","change"],["mat-header-cell","",3,"matTooltip"],["mat-sort-header","legal_entity_name"],["mat-cell","",3,"matTooltip"],["mat-sort-header","accounting_account"],["mat-sort-header","bank"],["mat-sort-header","rib"],["mat-cell",""],["aria-hidden","true","class","mat-icon-status green",4,"ngIf"],["aria-hidden","true",1,"mat-icon-status","green"],["mat-cell","",2,"text-align","center"],["aria-hidden","true",3,"matTooltip","ngClass"],["mat-sort-header","legal_entity_stamp"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","click"],["svgIcon","stamp",1,"mat-icon-svgIcon"],[4,"ngIf"],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"disabled","matTooltip","click"],["svgIcon","eye"],["viewBox","0 0 24 24",2,"width","18px","height","18px"],["fill","currentColor","d","M12,0A12,12 0 0,1 24,12A12,12 0 0,1 12,24A12,12 0 0,1 0,12A12,12 0 0,1 12,0M12,2A10,10 0 0,0 2,12C2,14.4 2.85,16.6 4.26,18.33L18.33,4.26C16.6,2.85 14.4,2 12,2M12,22A10,10 0 0,0 22,12C22,9.6 21.15,7.4 19.74,5.67L5.67,19.74C7.4,21.15 9.6,22 12,22Z"],["mat-header-cell","","colspan","100%",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,""],["color","accent",1,"full-wid"],["matInput","",3,"ngModel","placeholder","ngModelChange"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"ms-filter-breadcrumb",2),t.\u0275\u0275listener("removeFilterTrigger",function(o){return n.removeFilterBreadcrumb(o)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"table",3),t.\u0275\u0275listener("matSortChange",function(o){return n.sortData(o)}),t.\u0275\u0275elementContainerStart(4,4),t.\u0275\u0275template(5,Wo,14,11,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(6,6),t.\u0275\u0275template(7,$o,1,0,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,8),t.\u0275\u0275template(9,zo,4,4,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,10),t.\u0275\u0275template(11,Yo,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,11),t.\u0275\u0275template(13,Qo,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,12),t.\u0275\u0275template(15,Xo,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,13),t.\u0275\u0275template(17,Zo,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,14),t.\u0275\u0275template(19,Jo,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,15),t.\u0275\u0275template(21,tr,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,16),t.\u0275\u0275template(23,er,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,17),t.\u0275\u0275template(25,nr,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(26,18),t.\u0275\u0275template(27,ir,4,4,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(28,19),t.\u0275\u0275template(29,ar,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(30,20),t.\u0275\u0275template(31,or,4,4,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(32,21),t.\u0275\u0275template(33,rr,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(34,22),t.\u0275\u0275template(35,lr,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(36,23),t.\u0275\u0275template(37,dr,10,9,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(38,24),t.\u0275\u0275template(39,cr,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(40,25),t.\u0275\u0275template(41,pr,2,3,"th",7),t.\u0275\u0275template(42,mr,2,2,"td",26),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(43,27),t.\u0275\u0275template(44,hr,5,6,"th",28),t.\u0275\u0275template(45,gr,2,2,"td",29),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(46,30),t.\u0275\u0275template(47,ur,5,6,"th",28),t.\u0275\u0275template(48,_r,2,2,"td",29),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(49,31),t.\u0275\u0275template(50,fr,5,6,"th",28),t.\u0275\u0275template(51,br,2,2,"td",29),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(52,32),t.\u0275\u0275template(53,Cr,5,6,"th",28),t.\u0275\u0275template(54,yr,2,2,"td",29),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(55,33),t.\u0275\u0275template(56,xr,5,6,"th",28),t.\u0275\u0275template(57,Or,4,10,"td",29),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(58,34),t.\u0275\u0275template(59,vr,5,6,"th",28),t.\u0275\u0275template(60,Pr,4,10,"td",29),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(61,35),t.\u0275\u0275template(62,Mr,5,6,"th",28),t.\u0275\u0275template(63,Sr,2,2,"td",29),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(64,36),t.\u0275\u0275template(65,Er,5,6,"th",28),t.\u0275\u0275template(66,Tr,2,2,"td",29),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(67,37),t.\u0275\u0275template(68,wr,5,6,"th",28),t.\u0275\u0275template(69,Ir,2,2,"td",29),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(70,38),t.\u0275\u0275template(71,kr,5,6,"th",28),t.\u0275\u0275template(72,Dr,2,2,"td",29),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(73,39),t.\u0275\u0275template(74,Br,5,6,"th",28),t.\u0275\u0275template(75,Fr,2,2,"td",29),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(76,40),t.\u0275\u0275template(77,Ar,5,6,"th",28),t.\u0275\u0275template(78,Rr,2,1,"td",41),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(79,42),t.\u0275\u0275template(80,Lr,5,6,"th",28),t.\u0275\u0275template(81,Ur,4,9,"td",43),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(82,44),t.\u0275\u0275template(83,qr,5,6,"th",28),t.\u0275\u0275template(84,Kr,4,7,"td",43),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(85,45),t.\u0275\u0275template(86,jr,5,6,"th",28),t.\u0275\u0275template(87,Jr,7,6,"td",43),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(88,46),t.\u0275\u0275template(89,tl,3,0,"th",47),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(90,el,1,0,"tr",48),t.\u0275\u0275template(91,nl,1,0,"tr",48),t.\u0275\u0275template(92,il,1,0,"tr",48),t.\u0275\u0275template(93,al,1,1,"tr",49),t.\u0275\u0275template(94,ol,1,1,"tr",50),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(95,rl,3,3,"div",51),t.\u0275\u0275pipe(96,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(97,"div",52),t.\u0275\u0275pipe(98,"async"),t.\u0275\u0275element(99,"mat-paginator",53),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(100,"div",54)(101,"ms-legal-entities-boarding-merchant-parent",55),t.\u0275\u0275listener("backToTable",function(o){return n.backToTable(o)}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(102,"swal",56,57),t.\u0275\u0275pipe(104,"translate"),t.\u0275\u0275template(105,ll,20,19,"div",58),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(23,Et,n.openOnBoardingMerchant?"none":"")),t.\u0275\u0275advance(2),t.\u0275\u0275property("filterBreadcrumbData",n.filterBreadcrumbData),t.\u0275\u0275advance(1),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(87),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(25,sl)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(26,dl)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(96,17,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(27,cl,t.\u0275\u0275pipeBind1(98,19,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(29,pl,n.intakeChannelCount<=10))("length",n.intackChannelCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(31,ml)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(32,Et,n.openOnBoardingMerchant?"":"none")),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(104,21,"Export Title")),t.\u0275\u0275property("showConfirmButton",!1))},dependencies:[_.mk,_.sg,_.O5,_.PC,tt.ey,L.lW,dt.oG,K.Hw,w.KE,w.hX,X.Nt,U.VK,U.OP,U.p6,F.NW,M.Ou,pt.gD,D.YE,D.nU,x.BZ,x.fO,x.as,x.w1,x.Dz,x.nj,x.ge,x.ev,x.XQ,x.Gk,et.gM,c.DefaultValueAccessor,c.NgControlStatus,c.NgModel,c.FormControlDirective,j.oO,j.Zl,Mt.r,xt.q1,xt.sC,Go,_.Ov,_.gd,g.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.legal-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:unset!important}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%]{text-align:center;z-index:999!important;box-shadow:1px 1px #545454}#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.pad-top-miss[_ngcontent-%COMP%]{padding-top:1.8px!important}.form-field[_ngcontent-%COMP%]{margin-top:.5px}.tag-container[_ngcontent-%COMP%]{white-space:normal;text-align:left!important;line-height:2.3;overflow-wrap:break-word}.green[_ngcontent-%COMP%]{color:#adff2f}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th{border-right:1px solid #545454;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:3%;padding-left:8px!important;padding-right:8px!important}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(1) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(1) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:15%;padding-left:0!important;min-width:100px!important}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:10%;min-width:110px!important;padding-left:0!important}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:10%;min-width:110px!important;padding-left:0!important}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(4) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:10%;min-width:110px!important;padding-left:0!important}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){width:10%;min-width:110px!important;padding-left:0!important}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(6) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(6) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){width:10%;min-width:110px!important;padding-left:0!important}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(7) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(7) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){width:10%;min-width:110px!important;padding-left:0!important}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(8) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(8) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(9), [_nghost-%COMP%]     table tr th:nth-child(9){width:10%;min-width:110px!important;padding-left:0!important}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(9) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(9) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(10), [_nghost-%COMP%]     table tr th:nth-child(10){width:11%;min-width:110px!important;padding-left:6px!important;padding-right:6px!important}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(10) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(10) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(11), [_nghost-%COMP%]     table tr th:nth-child(11){width:11%;min-width:87px;max-width:87px;padding-left:6px!important;padding-right:6px!important}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(11) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(11) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(12), [_nghost-%COMP%]     table tr th:nth-child(12){width:4%;min-width:87px;max-width:87px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(13), [_nghost-%COMP%]     table tr th:nth-child(13){width:4%;min-width:87px;max-width:87px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(1):nth-child(14), [_nghost-%COMP%]     table tr th:nth-child(14){width:10%;min-width:150px;max-width:150px;padding-right:0rem!important;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td{padding-left:5px;border-right:1px solid #545454;overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em;padding-right:0rem}[_nghost-%COMP%]     table tr td.mat-cell:last-of-type{padding-right:0rem}[_nghost-%COMP%]     table tr th{vertical-align:top}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.school-backdrop[_ngcontent-%COMP%] + .cdk-overlay-pane[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:visible}.mat-column-select[_ngcontent-%COMP%]{overflow:initial}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.pc-section[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:5px;display:inline-block}.cr-section[_ngcontent-%COMP%]{width:50%;text-align:left;display:inline-block}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.black[_ngcontent-%COMP%]{color:#000}.red[_ngcontent-%COMP%]{color:#ff4040}.orange[_ngcontent-%COMP%]{color:orange}.horizontal[_ngcontent-%COMP%]{width:100%;overflow-x:scroll!important;overflow-y:hidden!important}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#212121}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:50px;background:#eaa11c!important}.card-legal[_ngcontent-%COMP%]{padding-left:35px;padding-top:3px;padding-right:35px}  .mat-menu-panel{min-height:auto}  .mat-menu-content:not(:empty){padding-bottom:0}  .filterPanel{margin-top:25px!important}"]}),i})();var gl=u(87314);function ul(i,r){1&i&&(t.\u0275\u0275elementStart(0,"h3",32),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Add Payment mode")," "))}function _l(i,r){1&i&&(t.\u0275\u0275elementStart(0,"h3",32),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Edit Payment mode")," "))}function fl(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function bl(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",50),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"No negative number")))}function Cl(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",50),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function yl(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",50),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Cannot more than 100%")))}function xl(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0,38),t.\u0275\u0275elementStart(1,"div",39)(2,"div",13)(3,"div",40)(4,"div",41),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",42)(8,"mat-form-field",43)(9,"input",44),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275reference(12);return t.\u0275\u0275resetView(a.open())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(10,"mat-datepicker-toggle",45)(11,"mat-datepicker",null,46),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(13,"div",13)(14,"div",40)(15,"mat-form-field",47)(16,"input",48),t.\u0275\u0275listener("wheel",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.onWheel(a))})("keyup",function(){const o=t.\u0275\u0275restoreView(e).index,l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.recalculateDisc(o))})("keypress",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.decimalFilter(a))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(17,bl,3,3,"mat-error",49),t.\u0275\u0275template(18,Cl,3,3,"mat-error",49),t.\u0275\u0275template(19,yl,3,3,"mat-error",49),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"span",19),t.\u0275\u0275text(21,"%"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=r.index,n=t.\u0275\u0275reference(12),a=t.\u0275\u0275nextContext(2);let o,l,d,p,f,h;t.\u0275\u0275property("formGroupName",e),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(6,8,"terms")," ",e+1,""),t.\u0275\u0275advance(4),t.\u0275\u0275property("matDatepicker",n),t.\u0275\u0275advance(1),t.\u0275\u0275property("for",n),t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",null==(o=a.identityForm.get("payment_date"))||null==(l=o.get(e.toString()))?null:l.get("percentage").hasError("min")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(d=a.identityForm.get("payment_date"))||null==(p=d.get(e.toString()))?null:p.get("percentage").hasError("required")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(f=a.identityForm.get("payment_date"))||null==(h=f.get(e.toString()))?null:h.get("percentage").hasError("max"))}}function Ol(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",33)(1,"div",34)(2,"div",2)(3,"div",35)(4,"div",36)(5,"label"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",36)(9,"label"),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",13)(13,"div",2),t.\u0275\u0275template(14,xl,22,10,"ng-container",37),t.\u0275\u0275elementEnd()()()()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(7,3,"Date of terms"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(11,5,"Percentage of full rate"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",e.payment.controls)}}function vl(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"No negative number")))}function Pl(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",51),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e.code),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,2,e.code)," ")}}function Ml(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",52),t.\u0275\u0275listener("change",function(a){const l=t.\u0275\u0275restoreView(e).index,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.onSelectPaymentMethod(a,l))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("checked",null==n.selectedPaymentMethods?null:n.selectedPaymentMethods.includes(e)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"PAYMENT_METHODS."+e))}}function Sl(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",53),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}const El=function(i){return{right:i}};let Tt=(()=>{class i{constructor(e,n,a,o,l,d,p,f){this.dialogRef=e,this.fb=n,this.translate=a,this.parseStringDatePipe=o,this.acadJourneyService=l,this.financeService=d,this.data=p,this.authService=f,this.subs=new I.Y,this.isMainAddressSelected=!1,this.nationalitiesList=[],this.nationalList=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.currencyList=[],this.toFilterList=[{civility:"Mrs",value:" Mrs Anne CHAMBIER",key:"Anne CHAMBIER"},{civility:"Mr",value:"Mr Fabien CHAMBIER",key:"Fabien CHAMBIER"}],this.paymentMethods=["check","credit_card","transfer","sepa","cash"],this.showForm=!1,this.hideButton=!1,this.showExisting=!1,this.showPatchForm=!1,this.listPaymentModeCtrl=new c.UntypedFormControl(null),this.selectedPaymentMethods=[]}ngOnInit(){const e=q(new Date).format("YYYY");if(this.lastDate=q("30/09/"+e,"DD/MM/YYYY").format("DD/MM/YYYY"),this.dialogRef.updateSize("750px"),this.today=new Date,this.iniVerificationForm(),this.getAllPaymentModes(),this.openForm(),this.data&&this.data.term&&this.data.term>0){this.identityForm.get("term").setValue(0);const n=this.identityForm.get("payment_date").value;for(let o=m.cloneDeep(n).length-1;o>=0;o--)this.payment.removeAt(o);this.data.payment_date.forEach(o=>{o.date&&(o.date=this.parseStringDatePipe.transform(o.date)),this.addPayment()})}if(this.data.scholarSeasonId&&(this.scholarSeasonId=this.data.scholarSeasonId,this.identityForm.get("scholar_season_id").setValue(this.data.scholarSeasonId)),this.data&&this.data._id){this.hideButton=!0,this.showForm=!0;let n=[];this.data&&this.data.select_payment_method_available&&this.data.select_payment_method_available.length>0&&(n=m.cloneDeep(this.data.select_payment_method_available)),this.selectedPaymentMethods=m.cloneDeep(n),this.identityForm.patchValue(this.data),this.dialogRef.updateSize("1320px"),this.firstForm=m.cloneDeep(this.identityForm.value)}this.subs.sink=this.acadJourneyService.getCurrency().subscribe(n=>{this.currencyList=n})}iniVerificationForm(){this.identityForm=this.fb.group({name:[null,c.Validators.required],description:[null],term:[1],payment_date:this.fb.array([this.initPayment()]),additional_cost:[0,[c.Validators.min(0)]],currency:["EUR"],scholar_season_id:[null],select_payment_method_available:[[],[c.Validators.required]]}),this.addPayment(),this.identityForm.get("payment_date").get("0").get("percentage").setValue(100)}initPayment(e,n){return this.fb.group(e?{date:[n,c.Validators.required],amount:[null],percentage:["",[c.Validators.required,c.Validators.min(0),c.Validators.max(100)]]}:{date:["",c.Validators.required],amount:[null],percentage:["",[c.Validators.required,c.Validators.min(0),c.Validators.max(100)]]})}addPayment(e,n){this.payment.push(this.initPayment(e,n))}onWheel(e){e?.preventDefault()}removePayment(e){this.payment.removeAt(e)}get payment(){return this.identityForm.get("payment_date")}changeSlider(){const e=this.identityForm.get("payment_date").value,n=this.identityForm.get("term").value,a=m.cloneDeep(e);let o,l;for(let d=e.length-1;d>=0;d--)this.payment.removeAt(d);for(let d=0;d<n;d++)this.addPayment();a&&a.length&&(a.forEach(d=>{d.date&&(d.date=this.parseStringDatePipe.transform(d.date))}),this.identityForm.get("payment_date").patchValue(a));for(let d=0;d<n;d++)if(!this.identityForm.get("payment_date").get(d.toString()).get("date").value){const p=this.identityForm.get("payment_date").get((d-1).toString()).get("date").value;o=q(p,"DD/MM/YYYY").add(1,"month").format("DD/MM/YYYY"),l=this.parseStringDatePipe.transformStringToDate(o),this.identityForm.get("payment_date").get(d.toString()).get("date").patchValue(l)}this.calculatePercentage()}calculatePercentage(){const e=m.cloneDeep(this.identityForm.get("term").value),n=m.cloneDeep(this.identityForm.get("payment_date").value);let a=(100/e).toString();a=parseFloat(a).toFixed(2),a=Math.round(parseInt(a)).toString(),n.forEach((o,l)=>{if(n.length-1===l){const d=100-parseInt(a)*(e-1);this.identityForm.get("payment_date").get(l.toString()).get("percentage").setValue(d)}else this.identityForm.get("payment_date").get(l.toString()).get("percentage").setValue(parseInt(a))})}recalculateDisc(e){const n=this.identityForm.get("payment_date").get(e.toString()).get("percentage").value,a=100-n,o=m.cloneDeep(this.identityForm.get("term").value),l=m.cloneDeep(this.identityForm.get("payment_date").value);let d=(a/(o-1)).toString();d=parseFloat(d).toFixed(2),d=Math.round(parseInt(d)).toString();let p=0;l.forEach((h,C)=>{C<=e&&(p+=h.percentage)});let f=0;l.forEach((h,C)=>{C<e-1&&(f+=h.percentage)}),l.forEach((h,C)=>{if(C>e)if(d=((100-p)/(o-(e+1))).toString(),l.length-1===C){let v=0;if(o-(e+1)!=1&&0!==e)if(o-(e+1)!=1){const S=parseInt(d)*(o-(e+2));v=100-(p+S)}else v=100-p;else v=0===e?100-parseInt(d)*(o-2)-n:100-p;this.identityForm.get("payment_date").get(C.toString()).get("percentage").setValue(v)}else this.identityForm.get("payment_date").get(C.toString()).get("percentage").setValue(parseInt(d));else if(l.length-1===e&&C!==e)if(C===e-1){const S=(100-parseInt(d)*(o-2)-n).toString();d=(100-(f+n)).toString(),this.identityForm.get("payment_date").get(C.toString()).get("percentage").setValue(parseInt(S))}else this.identityForm.get("payment_date").get(C.toString()).get("percentage").setValue(parseInt(d))})}checkFormValidity(){return!!this.identityForm.invalid&&(s().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.identityForm.markAllAsTouched(),!0)}submitVerification(){if(this.checkFormValidity())return;const e=m.cloneDeep(this.identityForm.value);e.payment_date.forEach(n=>{n.date=q(n.date).format("MM/DD/YYYY")}),e.is_from_duplicate=!!this.showExisting,e.additional_cost=parseFloat(e.additional_cost),this.subs.sink=this.data&&this.data._id&&!this.showExisting?this.financeService.UpdatePaymentMode(e,this.data._id).subscribe(n=>{s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},n=>{this.authService.postErrorLog(n),"GraphQL error: Name already exists!"===n.message?s().fire({title:this.translate.instant("USERADD_S2.TITLE"),html:this.translate.instant("Name is already exists. Please use another name"),type:"warning",showConfirmButton:!0,confirmButtonText:this.translate.instant("USERADD_S2.BUTTON")}):n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.financeService.CreatePaymentMode(e).subscribe(n=>{s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},n=>{this.authService.postErrorLog(n),"GraphQL error: Name already exists!"===n.message?s().fire({title:this.translate.instant("USERADD_S2.TITLE"),html:this.translate.instant("Name is already exists. Please use another name"),type:"warning",showConfirmButton:!0,confirmButtonText:this.translate.instant("USERADD_S2.BUTTON")}):n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}closeDialog(){this.dialogRef.close()}openForm(){this.showForm=!0,this.showExisting=!1,this.identityForm.reset(),this.showPatchForm=!1,this.dialogRef.updateSize("1320px"),this.resetFormArray(),this.listPaymentModeCtrl.setValue(null),this.identityForm.get("term").patchValue(1),this.addPayment(),this.identityForm.get("payment_date").get("0").get("percentage").patchValue(100);const e=this.parseStringDatePipe.transformStringToDate(this.lastDate);this.identityForm.get("payment_date").get("0").get("date").setValue(e),this.identityForm.get("additional_cost").patchValue(0),this.identityForm.get("currency").patchValue("EUR")}resetFormArray(){for(let e=this.payment.length-1;e>=0;e--)this.removePayment(e)}openSelectExisting(){this.showExisting||this.dialogRef.updateSize("750px"),this.showForm=!1,this.showExisting=!0}getAllPaymentModes(){this.subs.sink=this.listPaymentModeCtrl.valueChanges.subscribe(e=>{this.identityForm.reset(),this.resetFormArray()}),this.subs.sink=this.financeService.getAllPaymentModesDropdown().subscribe(e=>{e&&(this.allPaymentModeList=e)},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}selectedPaymentMode(e){e&&(this.data=e,this.data.term=e.payment_date.length,this.checkHasPaymentDate(),this.identityForm.patchValue(this.data),this.showPatchForm=!0,this.dialogRef.updateSize("1320px"))}checkHasPaymentDate(){this.data&&this.data.term&&this.data.term>0&&this.data.payment_date.forEach(e=>{e.date&&(e.date=this.parseStringDatePipe.transform(e.date)),this.addPayment()})}comparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.identityForm.value)}onSelectPaymentMethod(e,n){(this.selectedPaymentMethods?this.selectedPaymentMethods.indexOf(this.paymentMethods[n]):null)>=0?(this.selectedPaymentMethods=this.selectedPaymentMethods.filter(o=>o!==this.paymentMethods[n]),this.identityForm.controls.select_payment_method_available.patchValue(this.selectedPaymentMethods.filter(o=>o!==this.paymentMethods[n]))):(this.selectedPaymentMethods.push(this.paymentMethods[n]),this.identityForm.controls.select_payment_method_available.patchValue(this.selectedPaymentMethods)),this.identityForm.updateValueAndValidity()}decimalFilter(e){let o=e.target.value+String.fromCharCode(e.charCode);o.includes(".")?/^-?\d*[.,]?\d{0,2}$/.test(o)||e.preventDefault():/^-?\d{0,6}$/.test(o)||e.preventDefault()}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(T.so),t.\u0275\u0275directiveInject(c.UntypedFormBuilder),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(ht.n),t.\u0275\u0275directiveInject(_t.g),t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(T.WI),t.\u0275\u0275directiveInject(B.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-add-payment-modes-dialog"]],features:[t.\u0275\u0275ProvidersFeature([ht.n])],decls:82,vars:47,consts:[[1,"dialog-border"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],[2,"vertical-align","middle"],[1,"p-col-10","acad-title"],["class","dialogTitle",4,"ngIf"],[1,"w-65","no-padding",3,"ngStyle"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[2,"margin-top","20px",3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding"],[1,"p-col-fixed","center-label","no-padding-left","label-align",2,"width","180px"],[1,"p-col","no-padding"],["floatLabel","never"],["matInput","","formControlName","name","type","text",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","description",3,"placeholder"],["formControlName","term",1,"example-margin",3,"max","min","step","thumbLabel","change"],[1,"point"],["class","p-grid","formArrayName","payment_date",4,"ngIf"],["floatLabel","never",2,"width","120px","margin-right","15px"],["matInput","","formControlName","additional_cost",3,"placeholder","keypress"],["floatLabel","never",2,"width","55px"],["formControlName","currency"],[3,"value",4,"ngFor","ngForOf"],[1,"p-col","no-padding","checkboxes-container"],["class","checkbox-item",3,"checked","change",4,"ngFor","ngForOf"],["style","margin-top: 10px",4,"ngIf"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[1,"dialogTitle"],["formArrayName","payment_date",1,"p-grid"],[1,"p-col-12","no-padding","mrgn-btn"],[1,"p-col-fixed","center-label","no-padding-left",2,"width","180px"],[1,"p-col","label-padding"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"p-col-fixed","no-padding"],[1,"card"],[1,"card-term"],[1,"card-date"],["floatLabel","never",2,"height","46px","line-height","25px"],["matInput","","readonly","","formControlName","date",3,"matDatepicker","click"],["matSuffix","",3,"for"],["myDatepicker",""],["floatLabel","never",2,"width","60px"],["matInput","","formControlName","percentage","type","number","min","0","max","100",3,"wheel","keyup","keypress"],["style","font-size: 9px",4,"ngIf"],[2,"font-size","9px"],[3,"value"],[1,"checkbox-item",3,"checked","change"],[2,"margin-top","10px"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5,"add"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",5),t.\u0275\u0275template(7,ul,3,3,"h3",6),t.\u0275\u0275template(8,_l,3,3,"h3",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",7)(10,"button",8)(11,"mat-icon"),t.\u0275\u0275text(12,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(13,"form",9)(14,"div",10)(15,"mat-dialog-content")(16,"div",2)(17,"div",11)(18,"div",2)(19,"div",12)(20,"label"),t.\u0275\u0275text(21),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",13)(24,"mat-form-field",14),t.\u0275\u0275element(25,"input",15),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275template(27,fl,3,3,"mat-error",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(28,"div",2)(29,"div",11)(30,"div",2)(31,"div",12)(32,"label"),t.\u0275\u0275text(33),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(35,"div",13)(36,"mat-form-field",14),t.\u0275\u0275element(37,"textarea",17),t.\u0275\u0275pipe(38,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(39,"div",2)(40,"div",11)(41,"div",2)(42,"div",12)(43,"label"),t.\u0275\u0275text(44),t.\u0275\u0275pipe(45,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(46,"div",13)(47,"mat-slider",18),t.\u0275\u0275listener("change",function(){return n.changeSlider()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(48,"span",19),t.\u0275\u0275text(49),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(50,Ol,15,7,"div",20),t.\u0275\u0275elementStart(51,"div",2)(52,"div",11)(53,"div",2)(54,"div",12)(55,"label"),t.\u0275\u0275text(56),t.\u0275\u0275pipe(57,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(58,"div",13)(59,"mat-form-field",21)(60,"input",22),t.\u0275\u0275listener("keypress",function(o){return n.decimalFilter(o)}),t.\u0275\u0275pipe(61,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(62,vl,3,3,"mat-error",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(63,"mat-form-field",23)(64,"mat-select",24),t.\u0275\u0275template(65,Pl,3,4,"mat-option",25),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(66,"div",2)(67,"div",12)(68,"label"),t.\u0275\u0275text(69),t.\u0275\u0275pipe(70,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(71,"div",26)(72,"section"),t.\u0275\u0275template(73,Ml,3,4,"mat-checkbox",27),t.\u0275\u0275template(74,Sl,3,3,"mat-error",28),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(75,"mat-dialog-actions",29)(76,"button",30),t.\u0275\u0275text(77),t.\u0275\u0275pipe(78,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(79,"button",31),t.\u0275\u0275listener("click",function(){return n.submitVerification()}),t.\u0275\u0275text(80),t.\u0275\u0275pipe(81,"translate"),t.\u0275\u0275elementEnd()()()()),2&e&&(t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",!n.hideButton),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.hideButton),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(45,El,n.showForm||n.showPatchForm?"-100px":"-35px")),t.\u0275\u0275advance(4),t.\u0275\u0275property("formGroup",n.identityForm),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(22,25,"Payment name"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(26,27,"Payment name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.identityForm.get("name").errors),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(34,29,"Description")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(38,31,"Description")),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(45,33,"Number of Terms")),t.\u0275\u0275advance(3),t.\u0275\u0275property("max",12)("min",1)("step",1)("thumbLabel",!0),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.identityForm.get("term").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0!==n.identityForm.get("term").value),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(57,35,"Additional costs")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(61,37,"Additional costs")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.identityForm.get("additional_cost").errors),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",n.currencyList),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(70,39,"Select payment methods available for this payment mode"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",n.paymentMethods),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.identityForm.get("select_payment_method_available").errors&&(n.identityForm.get("select_payment_method_available").dirty||n.identityForm.get("select_payment_method_available").touched)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(78,41,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(81,43,"Validate")," "))},dependencies:[_.sg,_.O5,_.PC,$.Zt,$.Bh,tt.ey,L.lW,dt.oG,at.Mq,at.hl,at.nW,T.ZT,T.xY,T.H8,K.Hw,w.TO,w.KE,w.R9,X.Nt,pt.gD,gl.pH,c.\u0275NgNoValidate,c.DefaultValueAccessor,c.NumberValueAccessor,c.NgControlStatus,c.NgControlStatusGroup,c.MinValidator,c.MaxValidator,c.FormGroupDirective,c.FormControlName,c.FormGroupName,c.FormArrayName,j.Zl,g.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}[_nghost-%COMP%]  .mat-slider-horizontal{min-width:200px!important}.card[_ngcontent-%COMP%]{width:118px!important;display:inline-block;border:1px solid black;padding:10px}.card-term[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]  .ng-select .ng-select-container{height:36px;border-left:0px!important;border-right:0px!important;border-top:0px!important;border-radius:0!important}.checkboxes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.checkbox-item[_ngcontent-%COMP%]{margin-right:3rem}.label-padding[_ngcontent-%COMP%]{padding-left:0;padding-right:0;padding-bottom:40px}"]}),i})();function Tl(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",31),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.addPaymentModeDialog())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(1,2,"ADMISSION.TABLE_PAYMENT_MODES.Add a Mode")," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"ADMISSION.TABLE_PAYMENT_MODES.Add a Mode")," "))}function wl(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",32),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return a.buttonClicked="export",t.\u0275\u0275resetView(a.controllerButton("export"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",33),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Export")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"Export")," ")}}function Il(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",34),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.resetTable())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",35),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"RESET")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"RESET")," ")}}function kl(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",23)(1,"div",24)(2,"div",25)(3,"button",26),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"mat-menu",null,27),t.\u0275\u0275template(11,Tl,4,6,"button",28),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,wl,5,7,"button",29),t.\u0275\u0275template(13,Il,5,7,"button",30),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275reference(10),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(4,7,"Action")," "),t.\u0275\u0275property("disabled",n.isWaitingForResponse)("matMenuTriggerFor",e),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,9,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",n.permission.addPaymentMode()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.exportCsvPaymentMode()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.resetPaymentMode())}}function Dl(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",36)(1,"mat-checkbox",37),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?o.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.showOptions("all",""))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function Bl(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",38)(1,"mat-checkbox",39),t.\u0275\u0275listener("click",function(a){return a.stopPropagation()})("change",function(a){const l=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?d.selection.toggle(l._id):null)})("change",function(){const o=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.showOptions("one",o))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(null==e?null:e._id)||n.isCheckedAll&&!n.dataUnselectUser.includes(null==e?null:e._id))("aria-label",n.checkboxLabel(e))}}function Fl(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",40),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",41),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"ADMISSION.TABLE_PAYMENT_MODES.Mode")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"ADMISSION.TABLE_PAYMENT_MODES.Mode")))}function Al(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42)(1,"span",43),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.name),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.name)}}function Nl(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",40),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",44),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Description")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Description")))}function Rl(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.description),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.description," ")}}function Ll(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",40),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Terms")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Terms")))}function Vl(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.term),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.term," ")}}function Ul(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",40),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Percentage by terms")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Percentage by terms")))}function ql(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=r.$implicit,n=r.index,a=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2("",e.percentage,"% ",null!=a&&a.payment_date&&null!=a&&a.payment_date.length&&(null==a?null:a.payment_date.length)-1!==n?" / ":""," ")}}function Gl(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275template(1,ql,3,2,"ng-container",45),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.renderTooltipEntity(null==e?null:e.payment_date)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.payment_date)}}function Kl(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",40),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",46),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Additional Costs")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Additional Costs")))}function jl(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",42),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip"," ",null==e?null:e.additional_cost," ",null!=e&&e.additional_cost&&null!=e&&e.currency?" - ":""," ",null==e?null:e.currency,""),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",null!=e&&e.additional_cost?null==e?null:e.additional_cost:0," ",null!=e&&e.additional_cost&&null!=e&&e.currency?" - ":""," ",null==e?null:e.currency," ")}}function Hl(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",40),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function Wl(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.editPaymentModeDialog(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Edit")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function $l(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.deletePayment(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function zl(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",47),t.\u0275\u0275template(1,Wl,4,4,"button",48),t.\u0275\u0275template(2,$l,4,4,"button",48),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.editPaymentMode()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.deletePaymentMode())}}function Yl(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",50)(1,"div",51),t.\u0275\u0275element(2,"mat-spinner",52),t.\u0275\u0275elementEnd()())}function Ql(i,r){1&i&&t.\u0275\u0275element(0,"tr",53)}function Xl(i,r){1&i&&t.\u0275\u0275element(0,"tr",53)}function Zl(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",54),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function Jl(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",55),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function ts(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",56),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_PAYMENT_MODES.No record of Payment Mode")," "))}const es=function(){return["reset"]},ns=function(){return["loading"]},is=function(i){return{hide:i}},as=function(i){return{"hide-pagination-buttons":i}},os=function(){return[10]};let rs=(()=>{class i{constructor(e,n,a,o,l,d,p,f,h){this.dialog=e,this.financeService=n,this.translateService=a,this.pageTitleService=o,this.exportCsvService=l,this.utilityService=d,this.userService=p,this.permission=f,this.httpClient=h,this.dataSource=new x.by([]),this.isReset=!1,this.dataLoaded=!1,this.sortValue=null,this.displayedColumns=["select","mode","description","terms","percentages","additional","action"],this.filteredValues={name:"",description:"",scholar_season_id:""},this.dataSelected=[],this.pageSelected=[],this.allStudentForCheckbox=[],this.isWaitingForResponse=!1,this.selection=new rt.Ov(!0,[]),this.isLoading=!1,this.dataCount=0,this.subs=new I.Y,this.modeFilter=new c.UntypedFormControl(""),this.descriptionFilter=new c.UntypedFormControl(""),this.disabledExport=!0,this.paymentSelected=[],this.allInternshipId=[],this.isCheckedAll=!1,this.userSelected=[],this.userSelectedId=[],this.allExportForCheckbox=[],this.dataUnselectUser=[],this.buttonClicked=""}set selectedScholarSeasonID(e){this.filteredValues.scholar_season_id=e||null,this.scholarSeasonId=e||null}ngOnInit(){const e=this.userService.getLocalStorageUser(),n=this.userService.getPermission(),a=e?.entities?.find(o=>o?.type?.name===n[0]);this.currentUserTypeId=a?.type?._id,this.initFilter(),this.getSchoolsData(),this.pageTitleService.setTitle(this.translateService.instant("INTAKE_CHANNEL.PAGE_TITLE.Settings")+" - "+this.translateService.instant("ADMISSION.TITLE_PAYMENT_MODES")),this.subs.sink=this.translateService.onLangChange.subscribe(()=>{this.pageTitleService.setTitle(this.translateService.instant("INTAKE_CHANNEL.PAGE_TITLE.Settings")+" - "+this.translateService.instant("ADMISSION.TITLE_PAYMENT_MODES"))})}ngOnDestroy(){this.subs.unsubscribe()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,N.O)(null),(0,W.b)(()=>{this.isReset||this.getSchoolsData(),this.dataLoaded=!0})).subscribe()}getSchoolsData(){this.isWaitingForResponse=!0;const e={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},n=this.cleanFilterData();this.subs.sink=this.financeService.getAllPaymentModes(e,this.sortValue,n).subscribe(a=>{a&&a.length?(this.dataSource.data=a,this.paginator.length=a[0].count_document,this.dataCount=a[0].count_document):(this.dataSource.data=[],this.paginator.length=0,this.dataCount=0),this.disabledExport=!0,this.noData=this.dataSource.connect().pipe((0,k.U)(o=>0===o.length)),this.isReset=!1,this.isWaitingForResponse=!1},a=>{this.userService.postErrorLog(a),this.disabledExport=!0,this.noData=this.dataSource.connect().pipe((0,k.U)(o=>0===o.length)),this.isReset=!1,this.isWaitingForResponse=!1,a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():a&&a.message&&a.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:a&&a.message?this.translateService.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translateService.instant("OK")})})}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.selection.clear(),this.allExportForCheckbox=[],this.dataSelected=[],this.isCheckedAll=!1,this.paginator.pageIndex=0,this.isReset||this.getSchoolsData())}resetTable(){this.isReset=!0,this.selection.clear(),this.isCheckedAll=!1,this.dataSelected=[],this.dataSelectedId=[],this.paginator.pageIndex=0,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.filteredValues={name:"",description:"",scholar_season_id:this.scholarSeasonId},this.disabledExport=!0,this.modeFilter.setValue(null,{emitEvent:!1}),this.descriptionFilter.setValue(null,{emitEvent:!1}),this.sort.direction="",this.sort.active="",this.sortValue=null,this.getSchoolsData()}cleanFilterData(){const e=m.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(a=>{(e[a]||!1===e[a])&&(n+=` ${a}:"${e[a]}"`)}),"filter: {"+n+"}"}cleanFilterDataCSV(){const e=m.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(a=>{(e[a]||!1===e[a])&&(n=n?n+`,"${a}":"${e[a]}"`:n+`"${a}":"${e[a]}"`)}),"filter={"+n+"}"}initFilter(){this.subs.sink=this.modeFilter.valueChanges.pipe((0,it.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.selection.clear(),this.isCheckedAll=!1,this.modeFilter.setValue(""),this.filteredValues.name="",this.paginator.pageIndex=0,this.isReset||this.getSchoolsData()):(this.selection.clear(),this.isCheckedAll=!1,this.filteredValues.name=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset?""===e&&(this.selection.clear(),this.isCheckedAll=!1,this.modeFilter.setValue(""),this.filteredValues.name="",this.paginator.pageIndex=0,this.isReset||this.getSchoolsData()):(this.selection.clear(),this.isCheckedAll=!1,this.getSchoolsData()))}),this.subs.sink=this.descriptionFilter.valueChanges.pipe((0,it.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.selection.clear(),this.isCheckedAll=!1,this.descriptionFilter.setValue(""),this.filteredValues.description="",this.paginator.pageIndex=0,this.isReset||this.getSchoolsData()):(this.selection.clear(),this.isCheckedAll=!1,this.filteredValues.description=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset?""===e&&(this.selection.clear(),this.isCheckedAll=!1,this.descriptionFilter.setValue(""),this.filteredValues.description="",this.paginator.pageIndex=0,this.isReset||this.getSchoolsData()):(this.selection.clear(),this.isCheckedAll=!1,this.getSchoolsData()))})}addPaymentModeDialog(){this.subs.sink=this.dialog.open(Tt,{width:"1320px",minHeight:"100px",disableClose:!0,data:{scholarSeasonId:this.scholarSeasonId}}).afterClosed().subscribe(e=>{e&&this.getSchoolsData()})}editPaymentModeDialog(e){this.subs.sink=this.dialog.open(Tt,{width:"1320px",minHeight:"100px",disableClose:!0,data:{...e,scholarSeasonId:this.scholarSeasonId}}).afterClosed().subscribe(n=>{n&&this.getSchoolsData()})}deletePayment(e){let n=3;s().fire({title:this.translateService.instant("PAYMENT_S1.Title"),html:this.translateService.instant("PAYMENT_S1.Text",{name:e.name?e.name:""}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translateService.instant("PAYMENT_S1.Button1",{timer:n}),cancelButtonText:this.translateService.instant("PAYMENT_S1.Button2"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{s().disableConfirmButton();const a=s().getConfirmButton(),o=setInterval(()=>{n-=1,a.innerText=this.translateService.instant("PAYMENT_S1.Button1")+` (${n})`},1e3);this.timeOutVal=setTimeout(()=>{a.innerText=this.translateService.instant("PAYMENT_S1.Button1"),s().enableConfirmButton(),clearInterval(o),clearTimeout(this.timeOutVal)},1e3*n)}}).then(a=>{clearTimeout(this.timeOutVal),a.value&&(this.subs.sink=this.financeService.DeletePaymentMode(e._id).subscribe(o=>{s().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getSchoolsData()})},o=>{this.userService.postErrorLog(o),"GraphQL error: Cannot delete payment mode because payment mode already assigned to student"===o.message?s().fire({type:"info",title:this.translateService.instant("Payment_S1b.Title"),html:this.translateService.instant("Payment_S1b.Text"),confirmButtonText:this.translateService.instant("Payment_S1b.Button1")}):"GraphQL error: Cannot delete payment mode beacuse used in program"===o.message?s().fire({type:"info",title:this.translateService.instant("Payment_S1a.Title"),html:this.translateService.instant("Payment_S1a.Text"),confirmButtonText:this.translateService.instant("Payment_S1a.Button1")}):o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})}))})}renderTooltipEntity(e){let n="",a=0;for(const o of e)a++,a>1?o.percentage&&(n+="/ ",n=n+o.percentage+"% "):o.percentage&&(n=n+o.percentage+"% ");return n}renderTooltipEntityPercentage(e){let n="",a=0;for(const o of e)a++,a>1?o.percentage&&(n+=", ",n+=o.percentage):o.percentage&&(n+=o.percentage);return n}isAllSelected(){const e=this.selection.selected.length,n=this.dataSource.data.length;return e===n||e>n}masterToggle(){this.isAllSelected()?(this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.allExportForCheckbox=[],this.dataUnselectUser=[],this.isCheckedAll=!1):(this.selection.clear(),this.dataSelected=[],this.allExportForCheckbox=[],this.dataUnselectUser=[],this.isCheckedAll=!0,this.dataSource.data.forEach(e=>{this.dataUnselectUser.includes(e._id)||this.selection.select(e._id)}))}getDataAllForCheckbox(e){const n={limit:300,page:e};this.isWaitingForResponse=!0;let a=this.cleanFilterData();this.subs.sink=this.financeService.getAllPaymentModes(n,this.sortValue,a).subscribe(o=>{o&&o.length?(this.allStudentForCheckbox.push(...o),this.getDataAllForCheckbox(e+1)):(this.isWaitingForResponse=!1,this.isCheckedAll?(this.allStudentForCheckbox&&this.allStudentForCheckbox.length&&this.allStudentForCheckbox.forEach(l=>{this.selection.select(l._id),this.dataSelected.push(l)}),this.dataSelectedId=this.selection.selected,this.pageSelected.push(this.paginator.pageIndex)):this.pageSelected=[])},o=>{this.userService.postErrorLog(o),this.isWaitingForResponse=!1,o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}showOptions(e,n){if(this.isCheckedAll){if(n)if(this.dataUnselectUser.includes(n._id)){const o=this.dataUnselectUser.findIndex(l=>l===n._id);this.dataUnselectUser.splice(o,1),this.selection.select(n._id)}else this.dataUnselectUser.push(n._id),this.selection.deselect(n._id)}else if(n)if(this.dataSelected&&this.dataSelected.length){const o=this.dataSelected.filter(l=>l._id===n._id);if(o&&o.length<1)this.dataSelected.push(n);else{const l=this.dataSelected.findIndex(d=>d._id===n._id);this.dataSelected.splice(l,1)}}else this.dataSelected.push(n);this.disabledExport=!(this.selection.selected.length>0),this.selectType=e}onDataExport(){if("one"===this.selectType){const e=[];if(this.selection.selected.length){for(const p of this.selection.selected){const f=(p.additional_cost?p.additional_cost:"-")+" "+(p.additional_cost&&p.currency?"- "+p.currency:"");let h="";for(const v of p.payment_date)h=h?h+" / "+(v.percentage?v.percentage+"%":""):v.percentage?v.percentage+"%":"";const C=[];C[0]=p.name,C[1]=p.description,C[2]=p.term,C[3]=h,C[4]=f,e.push(C)}const n={values:e},a=q().format("DD-MM-YYYY");this.exportCsvService.createAndUpdateSpreadsheet(n,this.exportName+"_"+a,{spreadsheetId:"1UzT6XzYSYkqILNtzt2mBjuHbIT1yMi9dWgS-inhF4-g",sheetId:"en"===this.translateService.currentLang?0:196455259,range:"A7"})}s().close()}else this.getAllExportData(0)}getAllExportData(e){this.isLoading=!0;const n={limit:500,page:e},a=this.cleanFilterData();this.subs.sink=this.financeService.getAllPaymentModes(n,this.sortValue,a).subscribe(o=>{o&&o.length?(this.allInternshipId.push(...o),this.getAllExportData(e+1)):(this.isLoading=!1,this.exportAllData(this.allInternshipId))},o=>{this.userService.postErrorLog(o),this.isLoading=!1,o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})})}exportAllData(e){const n=m.uniqBy(e,"_id"),a=[];if(n&&n.length){for(const h of n){const C=(h.additional_cost?h.additional_cost:"-")+" "+(h.additional_cost&&h.currency?"- "+h.currency:"");let v="";for(const A of h.payment_date)v=v?v+" / "+(A.percentage?A.percentage+"%":""):A.percentage?A.percentage+"%":"";const S=[];S[0]=h.name,S[1]=h.description,S[2]=h.term,S[3]=v,S[4]=C,a.push(S)}const o={values:a},l=q().format("DD-MM-YYYY");this.exportCsvService.createAndUpdateSpreadsheet(o,this.exportName+"_"+l,{spreadsheetId:"1UzT6XzYSYkqILNtzt2mBjuHbIT1yMi9dWgS-inhF4-g",sheetId:"en"===this.translateService.currentLang?0:196455259,range:"A7"})}s().close()}downloadCSV(){if(!this.utilityService.checkIfCandidateSelectNotNull(this.selection.selected.length,"Payment Mode")){const e={",":this.translateService.instant("IMPORT_DECISION_S1.COMMA"),";":this.translateService.instant("IMPORT_DECISION_S1.SEMICOLON"),tab:this.translateService.instant("IMPORT_DECISION_S1.TAB")};s().fire({type:"question",title:this.translateService.instant("IMPORT_DECISION_S1.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translateService.instant("IMPORT_DECISION_S1.CANCEL"),confirmButtonText:this.translateService.instant("IMPORT_DECISION_S1.OK"),input:"radio",inputOptions:e,inputValue:this.translateService&&"fr"===this.translateService.currentLang?";":"",inputValidator:n=>new Promise((a,o)=>{n?(a(""),s().enableConfirmButton()):(s().disableConfirmButton(),o(this.translateService.instant("IMPORT_DECISION_S1.INVALID")))}),onOpen:function(){s().disableConfirmButton(),s().getContent().addEventListener("click",function(){s().enableConfirmButton()}),";"===s().getInput().getAttribute("value")&&s().enableConfirmButton()}}).then(n=>{n.value&&this.openDownloadCsv(n.value)})}}openDownloadCsv(e){let n=st.N.apiUrl;n=n.replace("graphql",""),document.createElement("a");const o=this.translateService.currentLang.toLowerCase();let d,p;if(this.dataSelected.length&&!this.isCheckedAll||this.dataUnselectUser&&this.dataUnselectUser.length){const C=this.dataSelected.map(v=>'"'+v._id+'"');console.log(C),d='filter={"payment_mode_ids": ['+C.toString()+"] }"}else d=this.cleanFilterDataCSV();p=this.sortValue?`sorting=${JSON.stringify(this.sortValue)}`:"sorting={}";let f=n+"downloadPaymentModeCSV/"+e+"/"+o+"?"+d+"&"+p+`&user_type_id="${this.currentUserTypeId}"`;console.log(f);const h={headers:new nt.WM({Authorization:JSON.parse(localStorage.getItem("admtc-token-encryption"))})};this.isLoading=!0,this.httpClient.get(`${encodeURI(f)}`,h).subscribe(C=>{C?(this.isLoading=!1,s().fire({type:"success",title:this.translateService.instant("ReAdmission_S3.TITLE"),text:this.translateService.instant("ReAdmission_S3.TEXT"),confirmButtonText:this.translateService.instant("ReAdmission_S3.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.selection.clear(),this.allExportForCheckbox=[],this.dataSelected=[],this.isCheckedAll=!1})):this.isLoading=!1},C=>{this.isLoading=!1})}getAllIdForExport(e,n){if("export"===this.buttonClicked)if(this.isCheckedAll)if(this.dataUnselectUser.length<1)this.downloadCSV();else{0===e&&(this.allExportForCheckbox=[],this.dataSelected=[]);const a={limit:500,page:e};this.isLoading=!0;const o=this.cleanFilterData();this.subs.sink=this.financeService.getAllPaymentModesForExport(a,this.sortValue,o).subscribe(l=>{if(l&&l.length){const d=m.cloneDeep(l);this.allExportForCheckbox=m.concat(this.allExportForCheckbox,d),this.getAllIdForExport(e+1,n)}else this.isLoading=!1,this.isCheckedAll&&this.allExportForCheckbox&&this.allExportForCheckbox.length&&(this.dataSelected=this.allExportForCheckbox.filter(d=>!this.dataUnselectUser.includes(d._id)),this.dataSelected=m.uniqBy(this.dataSelected,"_id"),console.log("getAllIdForCheckbox",this.dataSelected),this.dataSelected&&this.dataSelected.length&&this.downloadCSV())},l=>{this.isReset=!1,this.isLoading=!1,s().fire({type:"info",title:this.translateService.instant("SORRY"),text:l&&l.message?this.translateService.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translateService.instant("OK")})})}else this.downloadCSV()}controllerButton(e){"export"===e?setTimeout(()=>{this.getAllIdForExport(0,"export")},500):this.resetTable()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(T.uw),t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(O.Z),t.\u0275\u0275directiveInject(yt.J),t.\u0275\u0275directiveInject(Y.t),t.\u0275\u0275directiveInject(B.e),t.\u0275\u0275directiveInject(y.$),t.\u0275\u0275directiveInject(nt.eN))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-payment-modes"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(F.NW,7),t.\u0275\u0275viewQuery(D.YE,7)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.sort=a.first)}},inputs:{selectedScholarSeasonID:["scholarSeasonId","selectedScholarSeasonID"]},decls:36,vars:22,consts:[["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","100%","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","mode"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","terms"],["matColumnDef","percentages"],["matColumnDef","additional"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","7","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["mat-header-cell","","colspan","100%",1,"action-header-column","text-right"],[1,"p-grid"],[1,"p-col-12","text-right"],["mat-raised-button","","color","accent",2,"padding","0px 7px !important",3,"matTooltip","disabled","matMenuTriggerFor"],["action","matMenu"],["mat-menu-item","",3,"matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"matTooltip","disabled","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","matTooltip","click",4,"ngIf"],["mat-menu-item","",3,"matTooltip","click"],["mat-raised-button","","color","primary",3,"matTooltip","disabled","click"],["svgIcon","file-excel",1,"mat-icon-svgIcon"],["mat-raised-button","","color","primary",3,"disabled","matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell","",1,"text-center"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"text-center"],[3,"checked","aria-label","click","change"],["mat-header-cell","",3,"matTooltip"],["mat-sort-header","name"],["mat-cell","",3,"matTooltip"],[1,"tags"],["mat-sort-header","description"],[4,"ngFor","ngForOf"],["mat-sort-header","additional_cost"],["mat-cell",""],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","disabled","click"],["mat-header-cell","","colspan","7",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div")(1,"table",0),t.\u0275\u0275listener("matSortChange",function(o){return n.sortData(o)}),t.\u0275\u0275elementContainerStart(2,1),t.\u0275\u0275template(3,kl,14,11,"th",2),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(4,3),t.\u0275\u0275template(5,Dl,2,3,"th",4),t.\u0275\u0275template(6,Bl,2,2,"td",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(7,6),t.\u0275\u0275template(8,Fl,5,6,"th",7),t.\u0275\u0275template(9,Al,3,2,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,9),t.\u0275\u0275template(11,Nl,5,6,"th",7),t.\u0275\u0275template(12,Rl,2,2,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(13,10),t.\u0275\u0275template(14,Ll,5,6,"th",7),t.\u0275\u0275template(15,Vl,2,2,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,11),t.\u0275\u0275template(17,Ul,5,6,"th",7),t.\u0275\u0275template(18,Gl,2,2,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(19,12),t.\u0275\u0275template(20,Kl,5,6,"th",7),t.\u0275\u0275template(21,jl,2,6,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,13),t.\u0275\u0275template(23,Hl,5,6,"th",7),t.\u0275\u0275template(24,zl,3,2,"td",14),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(25,15),t.\u0275\u0275template(26,Yl,3,0,"th",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(27,Ql,1,0,"tr",17),t.\u0275\u0275template(28,Xl,1,0,"tr",17),t.\u0275\u0275template(29,Zl,1,1,"tr",18),t.\u0275\u0275template(30,Jl,1,1,"tr",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(31,ts,3,3,"div",20),t.\u0275\u0275pipe(32,"async"),t.\u0275\u0275elementStart(33,"div",21),t.\u0275\u0275pipe(34,"async"),t.\u0275\u0275element(35,"mat-paginator",22),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(26),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(15,es)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(16,ns)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(32,11,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(17,is,t.\u0275\u0275pipeBind1(34,13,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(19,as,n.dataCount<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(21,os)))},dependencies:[_.mk,_.sg,_.O5,L.lW,dt.oG,K.Hw,U.VK,U.OP,U.p6,F.NW,M.Ou,D.YE,D.nU,x.BZ,x.fO,x.as,x.w1,x.Dz,x.nj,x.ge,x.ev,x.XQ,x.Gk,et.gM,j.oO,_.Ov,g.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.pad-top-miss[_ngcontent-%COMP%]{padding-top:1.8px!important}.form-field[_ngcontent-%COMP%]{margin-top:.5px}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{text-align:center!important;border-right:1px solid #545454}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:1%;padding-left:.5rem!important;padding-right:.5rem!important;text-align:left!important}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:20%;padding-left:.5rem!important;text-align:left!important}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:30%;padding-left:.5rem!important;text-align:left!important}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:8%;max-width:100px;min-width:100px;padding-left:.5rem!important;text-align:left!important}[_nghost-%COMP%]     table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(4) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:15%;max-width:100px;min-width:100px;padding-left:.5rem!important;text-align:left!important}[_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){width:15%;max-width:100px;min-width:100px;padding-left:.5rem!important;text-align:left!important}[_nghost-%COMP%]     table tr td:nth-child(6) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(6) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){width:5%;max-width:90px;min-width:90px;padding-left:.5rem!important;padding-right:0!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.school-backdrop[_ngcontent-%COMP%] + .cdk-overlay-pane[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:visible}.mat-column-select[_ngcontent-%COMP%]{overflow:initial}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.pc-section[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:5px;display:inline-block}.cr-section[_ngcontent-%COMP%]{width:50%;text-align:left;display:inline-block}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}  .mat-menu-panel{min-height:auto}  .mat-menu-content:not(:empty){padding-bottom:0}"]}),i})();function ls(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"h5"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate((null==e?null:e.scholar_season)||"")}}function ss(i,r){if(1&i&&t.\u0275\u0275element(0,"ms-payment-modes",4),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("scholarSeasonId",(null==e?null:e._id)||null)}}function ds(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-tab"),t.\u0275\u0275template(1,ls,2,1,"ng-template",2),t.\u0275\u0275template(2,ss,1,1,"ng-template",3),t.\u0275\u0275elementEnd())}let cs=(()=>{class i{constructor(e,n,a){this.translate=e,this.financeService=n,this.authService=a,this.subs=new I.Y,this.scholarSeasons=[]}ngOnInit(){this.getScholarSeasons()}ngOnDestroy(){this.subs.unsubscribe()}getScholarSeasons(){this.subs.sink=this.financeService.getAllScholarSeasonsNameAndID({is_published:!0}).subscribe(n=>{n&&n.length>0&&this.scholarSeasons.push(...n)},n=>{this.authService.postErrorLog(n),s().fire({type:"info",title:"Error!",text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ")):n,allowOutsideClick:!1})})}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(B.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-payment-modes-parent"]],decls:2,vars:1,consts:[[1,"not-custom"],[4,"ngFor","ngForOf"],["mat-tab-label",""],["matTabContent",""],[3,"scholarSeasonId"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"mat-tab-group",0),t.\u0275\u0275template(1,ds,3,0,"mat-tab",1),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n.scholarSeasons))},dependencies:[_.sg,E.SP,E.uD,E.uX,E.Vc,rs],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]  .mat-tab-label{min-width:25px!important;padding:.7rem!important;opacity:1!important}[_nghost-%COMP%]  .mat-tab-list .mat-tab-labels{border:0px!important;background-color:transparent!important}[_nghost-%COMP%]  .mat-tab-label{background-color:transparent!important}[_nghost-%COMP%]  .mat-tab-label.mat-tab-label-active{background-color:transparent!important;color:#ffd740!important;font-weight:900!important;box-shadow:-.8px 0 #607d8b,.8px 0 #607d8b!important;border:2px solid #607d8b!important;border-top:0px!important}[_nghost-%COMP%]  .app-dark .mat-tab-group.mat-primary .mat-ink-bar, [_nghost-%COMP%]  .app-dark .mat-tab-nav-bar.mat-primary .mat-ink-bar{background-color:#506169!important}"]}),i})();var ps=u(1481),ms=u(44850);function hs(i,r){1&i&&(t.\u0275\u0275elementStart(0,"h3",57),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Add Registration Profile")," "))}function gs(i,r){1&i&&(t.\u0275\u0275elementStart(0,"h3",57),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Edit Registration Profile")," "))}function us(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function _s(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"Maximum number can be 100")))}function fs(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function bs(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",58),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Cs(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"No negative number")))}function ys(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function xs(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",59),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.currencySelected(o.code))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit;t.\u0275\u0275property("value",e.code),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.code," ")}}function Os(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",42),t.\u0275\u0275listener("change",function(a){const l=t.\u0275\u0275restoreView(e).index,d=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(d.onSelectPaymentMethod(a,l))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",null==n.selectedPaymentMethods?null:n.selectedPaymentMethods.includes(e)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"method."+e))}}function vs(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",58),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ps(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",3)(1,"div",40)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",60)(6,"section"),t.\u0275\u0275template(7,Os,3,4,"mat-checkbox",61),t.\u0275\u0275template(8,vs,3,3,"mat-error",24),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(4,3,"Select payment method available for this payment mode"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",e.paymentMethods),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.addRegistrationProfileForm.get("select_payment_method_available").errors&&(e.addRegistrationProfileForm.get("select_payment_method_available").dirty||e.addRegistrationProfileForm.get("select_payment_method_available").touched))}}function Ms(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"ng-option",62),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"type_formation."+(null==e?null:e.type_of_information)))}}function Ss(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p",63),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Es(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p",63),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function Ts(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",58),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}const Ct=function(i){return{"card-selected":i}};function ws(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",49)(1,"div",50),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.selectedIndexNone())}),t.\u0275\u0275elementStart(2,"div",51)(3,"h5",52),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(2,Ct,e.noneChoicePayment.status)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(e.noneChoicePayment.name)}}function Is(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",49)(1,"div",50),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).index,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.selectedIndexData(o))}),t.\u0275\u0275elementStart(2,"div",51)(3,"h5",52),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(2,Ct,e.status)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(e.name)}}function ks(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ds(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",49)(1,"div",50),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).index,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.selectedIndexAddtionalData(o))}),t.\u0275\u0275elementStart(2,"div",51)(3,"h5",52),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(2,Ct,e.status)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(e.name)}}function Bs(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",64),t.\u0275\u0275element(1,"mat-spinner",65),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}const Fs=function(i){return{display:i}};let As=(()=>{class i{constructor(e,n,a,o,l,d,p,f){this.fb=e,this.acadJourneyService=n,this.admissionService=a,this.translate=o,this.documentService=l,this.userService=d,this.translateService=p,this.intakeService=f,this.close=new t.EventEmitter,this.subs=new I.Y,this.currencyList=[],this.loadProgram=!1,this.currencyListOri=[],this.noneChoicePayment={name:"None",status:!1},this.noneChoiceAddtional={name:"None",status:!1},this.addtionalCost=[],this.disableChoicePayment=!1,this.disableChoiceAddtional=!1,this.isWaitingForResponse=!1,this.campusList=[],this.listObjective=[],this.realCampusList=[],this.sectors=[],this.specialities=[],this.schoolSelected=[],this.campusSelected=[],this.levelsSelected=[],this.programsList=[],this.documentBuilders=[],this.showForm=!1,this.hideButton=!1,this.showExisting=!1,this.showPatchForm=!1,this.listRegistrationProfileCtrl=new c.UntypedFormControl(null),this.paymentMethods=["check","credit_card","transfer","sepa","cash"],this.perimeter=["admission","readmission"],this.isAdmission=!1,this.isReadmission=!1,this.selectedPaymentMethods=[],this.currencyFilter=new c.UntypedFormControl(null)}ngOnInit(){this.isPermission=this.userService.getPermission(),this.currentUser=this.userService.getLocalStorageUser();const e=this.currentUser?.entities?.find(n=>n?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id,this.initForm(),this.subs.sink=this.acadJourneyService.getCurrency().subscribe(n=>{this.currencyList=m.cloneDeep(n),this.currencyListOri=m.cloneDeep(n)}),this.data&&this.data?.isEdit&&(this.formatDataBeforePatching(),this.addRegistrationProfileForm.patchValue(this.data?.selectedData),this.currencyFilter.setValue(this.data?.selectedData?.other_currency),this.hideButton=!0,this.showForm=!0),this.getDataPaymentMode(),this.getAllDocumentBuilders(),this.getDataTypeOfFormation(),this.getDataAddtionalCost(),this.getRegistrationProfileDropdown(),this.firstForm=m.cloneDeep(this.addRegistrationProfileForm.value)}currencySelected(e){this.addRegistrationProfileForm.get("other_currency").setValue(e)}formatDataBeforePatching(){!this.data?.selectedData||(this.data&&this.data?.selectedData&&this.data?.selectedData?.is_down_payment&&"no"===this.data?.selectedData?.is_down_payment&&this.resetMethodPayment(),this.data?.selectedData?.campuses&&this.data?.selectedData?.campuses?.length&&(this.data.selectedData.campuses=this.data?.selectedData?.campuses.map(e=>e?._id)),this.data?.selectedData?.levels&&this.data?.selectedData?.levels?.length&&(this.data.selectedData.levels=this.data?.selectedData?.levels.map(e=>e?._id)),this.data?.selectedData?.payment_modes&&this.data?.selectedData?.levels?.payment_modes&&(this.data.selectedData.payment_modes=this.data?.selectedData?.payment_modes.map(e=>e?._id)),this.data?.selectedData?.additional_cost_ids&&this.data?.selectedData?.additional_cost_ids?.payment_modes&&(this.data.selectedData.additional_cost_ids=this.data?.selectedData?.additional_cost_ids?.map(e=>e?._id)),this.data?.selectedData?.programs&&this.data?.selectedData?.programs?.length&&(this.programsList=this.data?.selectedData?.programs.map(e=>e?._id)),this.data?.selectedData?.type_of_formation&&this.data?.selectedData?.type_of_formation?._id&&(this.data.selectedData.type_of_formation=this.data?.selectedData?.type_of_formation?._id),this.data?.selectedData?.document_builder_id&&this.data?.selectedData?.document_builder_id?._id&&(this.data.selectedData.document_builder_id=this.data?.selectedData?.document_builder_id?._id),this.data?.selectedData?.payment_modes&&!this.data?.selectedData?.payment_modes?.length&&(this.noneChoicePayment.status=!0),this.data?.selectedData?.scholar_season_id&&this.data?.selectedData?.scholar_season_id?._id&&(this.data.selectedData.scholar_season_id=this.data?.selectedData?.scholar_season_id?._id),this.data?.selectedData?.additional_cost_ids&&!this.data?.selectedData?.additional_cost_ids?.length&&(this.noneChoiceAddtional.status=!0),this.data&&this.data?.selectedData&&this.data?.selectedData?.select_payment_method_available&&this.data?.selectedData?.select_payment_method_available.length&&(this.selectedPaymentMethods=[...this.data?.selectedData?.select_payment_method_available]),this.data&&this.data?.selectedData&&this.data?.selectedData?.is_admission&&(this.isAdmission=!0),this.data&&this.data?.selectedData&&this.data?.selectedData?.is_readmission&&(this.isReadmission=!0))}filterCurrency(){const e=this.currencyFilter.value.toLowerCase().trim();this.currencyList=this.currencyListOri.filter(n=>n.code.toLowerCase().trim().includes(e))}ngOnDestroy(){this.subs.unsubscribe()}initForm(){this.addRegistrationProfileForm=this.fb.group({name:[null,c.Validators.required],description:[null],discount_on_full_rate:[null,[c.Validators.required,c.Validators.max(100)]],is_down_payment:[null,c.Validators.required],other_currency:[null],other_amount:[null,c.Validators.min(0)],type_of_formation:[null,c.Validators.required],payment_modes:[null],additional_cost_ids:[null],school_ids:[null],campuses:[null],levels:[null],specialities:[null],sectors:[null],program:[[]],dp_additional_cost_currency:[null],dp_additional_cost_amount:[null],scholar_season_id:[this.scholarSeasonId],document_builder_id:[null,c.Validators.required],select_payment_method_available:[[],c.Validators.required],is_admission:[null],is_readmission:[null]})}getDataPaymentMode(){this.subs.sink=this.intakeService.getAllPaymentModes({scholar_season_id:this.scholarSeasonId?this.scholarSeasonId:""}).subscribe(n=>{if(n&&n.length){const a=m.cloneDeep(n);this.paymentModeList=a.map(o=>{if(this.data&&this.data?.isEdit){const l=this.addRegistrationProfileForm.get("payment_modes").value;return{_id:o._id,name:o.name,status:!(!l||!l.length||!l.some(d=>d._id===o._id))}}return{_id:o._id,name:o.name,status:!1}})}},n=>{this.userService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}selectedIndexData(e){this.noneChoicePayment.status=!1,this.paymentModeList[e].status=!this.paymentModeList[e].status;let n=this.paymentModeList.filter(a=>a.status);n=n.map(a=>a._id),this.addRegistrationProfileForm.get("payment_modes").setValue(n)}selectedIndexNone(){this.paymentModeList&&this.paymentModeList.length&&(this.paymentModeList=this.paymentModeList.map(e=>(e.status=!1,e))),this.noneChoicePayment.status=!this.noneChoicePayment.status,this.disableChoicePayment=!this.disableChoicePayment,this.addRegistrationProfileForm.get("payment_modes").setValue([])}selectedIndexAddtionalData(e){this.noneChoiceAddtional.status=!1,this.addtionalCost[e].status=!this.addtionalCost[e].status;let n=this.addtionalCost.filter(a=>a.status);n=n.map(a=>a._id),this.addRegistrationProfileForm.get("additional_cost_ids").setValue(n)}selectedIndexAddtionalNone(){this.addtionalCost&&this.addtionalCost.length&&(this.addtionalCost=this.addtionalCost.map(e=>(e.status=!1,e))),this.noneChoiceAddtional.status=!this.noneChoiceAddtional.status,this.disableChoiceAddtional=!this.disableChoiceAddtional,this.addRegistrationProfileForm.get("additional_cost_ids").setValue([])}getAllDocumentBuilders(){this.subs.sink=this.documentService.getAllDocumentsDropdown({status:!0,document_type:"registration_certificate"}).subscribe(n=>{n&&(this.documentBuilders=n)},n=>{this.userService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}flattenArray(e){return e.reduce((n,a)=>n.concat(a),[])}sortNameAlphabetically(e,n){return e.sort((a,o)=>a[n]>o[n]?1:o[n]>a[n]?-1:0)}getSpecialities(){if(this.addRegistrationProfileForm.get("levels").value&&this.addRegistrationProfileForm.get("levels").value.length){const e=this.levels.filter(n=>n&&this.addRegistrationProfileForm.get("levels").value.includes(n._id));this.specialities=this.sortNameAlphabetically(m.uniqBy(this.flattenArray(e.map(n=>n.specialities)),"_id"),"name")}}onSpecialitySelect(){this.addRegistrationProfileForm.get("sectors").patchValue(null),this.getSectors()}getSectors(){if(this.addRegistrationProfileForm.get("specialities").value&&this.addRegistrationProfileForm.get("specialities").value.length){const e=this.specialities.filter(n=>n&&this.addRegistrationProfileForm.get("specialities").value.includes(n._id));this.sectors=this.sortNameAlphabetically(m.uniqBy(this.flattenArray(e.map(n=>n.sectors)),"_id"),"name")}}checkFormValidity(){if(this.addRegistrationProfileForm.invalid||!this.addRegistrationProfileForm.get("is_admission")?.value&&!this.addRegistrationProfileForm.get("is_readmission")?.value)return s().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.addRegistrationProfileForm.markAllAsTouched(),this.isPerimeterCheckboxUnchecked=!0,!0;if("other"===this.addRegistrationProfileForm.get("is_down_payment").value){if("EUR"===this.currencyFilter.value)return this.addRegistrationProfileForm.get("other_currency").setValue("EUR"),!1;if(this.data&&this.currencyFilter.value===this.data?.selectedData?.other_currency)return this.addRegistrationProfileForm.get("other_currency").setValue(this.data?.selectedData?.other_currency),!1;if(this.currencyList&&1===this.currencyList.length)return this.addRegistrationProfileForm.get("other_currency").setValue(this.currencyList[0].code),!1;{const e=this.currencyList.filter(n=>n.code===this.currencyFilter.value);return!(e&&1===e.length||"yes"===this.addRegistrationProfileForm.get("is_down_payment").value||(s().fire({type:"info",title:this.translate.instant("ADDITIONAL_S2.TITLE"),html:this.translate.instant("ADDITIONAL_S2.TEXT"),confirmButtonText:this.translate.instant("ADDITIONAL_S2.BUTTON")}),this.addRegistrationProfileForm.markAllAsTouched(),0))}}}onValidate(){if(this.checkFormValidity())return;const e=this.createPayload(this.addRegistrationProfileForm.value);if(delete e.campuses,delete e.school_ids,delete e.levels,delete e.program,e.programs=this.programsList,e.is_from_duplicate=!!this.showExisting,e&&!e.payment_modes&&(e.payment_modes=[],this.addRegistrationProfileForm.get("payment_modes").setValue([]),this.noneChoicePayment.status=!0),e&&!e.additional_cost_ids&&(e.additional_cost_ids=[],this.addRegistrationProfileForm.get("additional_cost_ids").setValue([]),this.noneChoiceAddtional.status=!0),e.other_amount=e.other_amount?parseFloat(e.other_amount):null,e.discount_on_full_rate=e.discount_on_full_rate?parseFloat(e.discount_on_full_rate):0,this.addtionalCost&&this.addtionalCost.length)if("dp_additional_cost"===e.is_down_payment){let n=[];e.dp_additional_cost_currency="EUR",this.addtionalCost.forEach(a=>{e.additional_cost_ids.forEach(o=>{("object"==typeof o&&o?._id===a?._id||o===a?._id)&&n.push(a)})}),n&&n.length?(n=n.filter(a=>a&&a.amount).map(a=>a.amount),e.dp_additional_cost_amount=n.reduce((a,o)=>a+o)):(e.dp_additional_cost_currency=null,e.dp_additional_cost_amount=null)}else e.dp_additional_cost_currency=null,e.dp_additional_cost_amount=null;this.data&&this.data?.isEdit&&!this.showExisting?(this.isWaitingForResponse=!0,e&&e.payment_modes&&e.payment_modes.length>0&&e.payment_modes[0].name&&(e.payment_modes=e.payment_modes.map(n=>n._id)),e&&e.additional_cost_ids&&e.additional_cost_ids.length>0&&e.additional_cost_ids[0].additional_cost&&(e.additional_cost_ids=e.additional_cost_ids.map(n=>n._id)),this.subs.sink=this.admissionService.updateProfilRate(this.data?.selectedData?._id,e).subscribe(n=>{n&&(this.isWaitingForResponse=!1,s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.closeForm()}))},n=>{this.userService.postErrorLog(n),this.isWaitingForResponse=!1,n&&n.message&&(n.message.includes("jwt expired")||n.message.includes("str & salt required")||n.message.includes("Authorization header is missing")||n.message.includes("salt"))?this.userService.handlerSessionExpired():"GraphQL error: Name already exists!"===n.message||"GraphQL error: name already exist"===n.message?s().fire({title:this.translate.instant("Uniquename_S1.TITLE"),text:this.translate.instant("Uniquename_S1.TEXT"),type:"info",showConfirmButton:!0,confirmButtonText:this.translate.instant("Uniquename_S1.BUTTON 1")}):n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})):(this.isWaitingForResponse=!0,this.subs.sink=this.admissionService.createProfilRate(e).subscribe(n=>{n&&(this.isWaitingForResponse=!1,s().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.closeForm()}))},n=>{this.userService.postErrorLog(n),this.isWaitingForResponse=!1,n&&n.message&&(n.message.includes("jwt expired")||n.message.includes("str & salt required")||n.message.includes("Authorization header is missing")||n.message.includes("salt"))?this.userService.handlerSessionExpired():"GraphQL error: Name already exists!"===n.message||"GraphQL error: name already exist"===n.message?s().fire({title:this.translate.instant("Uniquename_S1.TITLE"),text:this.translate.instant("Uniquename_S1.TEXT"),type:"info",showConfirmButton:!0,confirmButtonText:this.translate.instant("Uniquename_S1.BUTTON 1")}):n&&n.message&&n.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}createProgram(){const e=[];let n="",a="",o="";return this.schoolSelected.forEach(l=>{l&&this.campusSelected.forEach(d=>{this.levelsSelected.forEach(p=>{n=l.substring(0,3).toUpperCase(),a=d.substring(0,3).toUpperCase(),o=p.toUpperCase(),e.push(`${n+a} ${o}`)})})}),e}createPayload(e){const n=e;return n.campuses=m.uniqBy(n.campuses),n}getDataTypeOfFormation(){this.subs.sink=this.intakeService.getAllTypeOfInformationDropdown().subscribe(e=>{e&&(this.typeOfFormation=e)},e=>{this.userService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translateService.instant("OK")})})}getDataAddtionalCost(){this.subs.sink=this.intakeService.getAllAdditionalCostsDropdown().subscribe(e=>{if(e){const n=m.cloneDeep(e);this.addtionalCost=n.map(a=>{if(this.data&&this.data?.isEdit){const o=this.addRegistrationProfileForm.get("additional_cost_ids").value;return{_id:a._id,name:a.additional_cost,amount:a.amount,status:!(!o||!o?.length||!o.some(l=>l._id===a._id))}}return{_id:a._id,name:a.additional_cost,amount:a.amount,status:!1}})}},e=>{this.userService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translateService.instant("OK")})})}openForm(){this.showForm=!0,this.showExisting=!1,this.addRegistrationProfileForm.reset(),this.showPatchForm=!1}openSelectExisting(){this.showForm=!1,this.showExisting=!0}getRegistrationProfileDropdown(){this.subs.sink=this.listRegistrationProfileCtrl.valueChanges.subscribe(()=>{this.addRegistrationProfileForm.reset()}),this.subs.sink=this.admissionService.getAllProfilRatesDropdown().subscribe(e=>{e&&(this.listRegistrationProfile=e)},e=>{e&&e.message&&e.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}selectedRegistrationProfile(e){if(e){const n=m.cloneDeep(e);n.additional_cost_ids=null,n.payment_modes=null,n.school_ids=null,n.scholar_season_id=n?.scholar_season_id&&n?.scholar_season_id._id?n?.scholar_season_id._id:"",n.type_of_formation=null,this.data={isEdit:!0,selectedData:n},this.addRegistrationProfileForm.patchValue(n),this.showPatchForm=!0,this.getDataPaymentMode(),this.getDataAddtionalCost()}else this.addtionalCost=this.addtionalCost.map(n=>(n.status=!1,n)),this.paymentModeList=this.paymentModeList.map(n=>(n.status=!1,n))}comparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.addRegistrationProfileForm.value)}onSelectPerimeter(e,n){"admission"===n&&(e.checked?(this.addRegistrationProfileForm.get("is_admission").setValue(!0),this.isPerimeterCheckboxUnchecked=!1):this.addRegistrationProfileForm.get("is_admission").setValue(!1)),"readmission"===n&&(e.checked?(this.addRegistrationProfileForm.get("is_readmission").setValue(!0),this.isPerimeterCheckboxUnchecked=!1):this.addRegistrationProfileForm.get("is_readmission").setValue(!1)),this.addRegistrationProfileForm.updateValueAndValidity(),this.addRegistrationProfileForm.get("is_admission").touched&&this.addRegistrationProfileForm.get("is_admission").touched&&!this.addRegistrationProfileForm.get("is_admission")?.value&&!this.addRegistrationProfileForm.get("is_readmission")?.value&&(this.isPerimeterCheckboxUnchecked=!0)}onSelectPaymentMethod(e,n){(this.selectedPaymentMethods?this.selectedPaymentMethods.indexOf(this.paymentMethods[n]):null)>=0?(this.selectedPaymentMethods=this.selectedPaymentMethods.filter(o=>o!==this.paymentMethods[n]),this.addRegistrationProfileForm.controls.select_payment_method_available.patchValue(this.selectedPaymentMethods.filter(o=>o!==this.paymentMethods[n]))):(this.selectedPaymentMethods.push(this.paymentMethods[n]),this.addRegistrationProfileForm.controls.select_payment_method_available.patchValue(this.selectedPaymentMethods)),this.addRegistrationProfileForm.updateValueAndValidity()}addValidator(){this.addRegistrationProfileForm.controls.select_payment_method_available.setValidators(c.Validators.required),this.addRegistrationProfileForm.controls.select_payment_method_available.updateValueAndValidity()}resetMethodPayment(){this.selectedPaymentMethods=[],this.addRegistrationProfileForm.controls.select_payment_method_available.setValue([]),this.addRegistrationProfileForm.controls.select_payment_method_available.clearValidators(),this.addRegistrationProfileForm.controls.select_payment_method_available.updateValueAndValidity()}formattingDiscount(e){const o=e.target.value+String.fromCharCode(e.charCode);o.includes(".")?/^-?\d{0,2}[.,]?\d{0,2}$/.test(o)||e.preventDefault():/^-?\d{0,3}$/.test(o)||e.preventDefault();const l=this.addRegistrationProfileForm?.get("discount_on_full_rate")?.value;parseInt(l)<100?(this.addRegistrationProfileForm.get("payment_modes").setValidators([c.Validators.required]),this.addRegistrationProfileForm.get("payment_modes").updateValueAndValidity()):(this.addRegistrationProfileForm.get("payment_modes").clearValidators(),this.addRegistrationProfileForm.get("payment_modes").updateValueAndValidity())}decimalFilter(e){const o=e.target.value+String.fromCharCode(e.charCode);o.includes(".")?/^-?\d*[.,]?\d{0,2}$/.test(o)||e.preventDefault():/^-?\d{0,6}$/.test(o)||e.preventDefault()}dissallowZero(e){(!(parseFloat(parseFloat(e.target.value).toFixed(2))>0)||"0"===e.target.value||"."===e.target.value)&&(e.target.value=null,this.addRegistrationProfileForm.get("other_amount").patchValue(null))}closeForm(){this.close.emit(!0)}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(c.UntypedFormBuilder),t.\u0275\u0275directiveInject(_t.g),t.\u0275\u0275directiveInject(Ot.Q),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(ps.D),t.\u0275\u0275directiveInject(B.e),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(J.p))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-registration-profile-form"]],inputs:{data:"data",scholarSeasonId:"scholarSeasonId"},outputs:{close:"close"},decls:133,vars:97,consts:[[1,"px-8"],[1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"p-col-10","acad-title"],["class","dialogTitle",4,"ngIf"],[2,"margin-top","20px",3,"formGroup"],[1,"fontColor"],[1,"p-col-5","no-padding"],[1,"p-col","no-padding"],["matInput","","formControlName","name","type","text",3,"placeholder"],[4,"ngIf"],[1,"p-col-5","margin-left","no-padding"],["matInput","","formControlName","description","type","text",3,"placeholder"],["matInput","","formControlName","discount_on_full_rate","max","100",3,"placeholder","keyup"],["matSuffix",""],[1,"p-col-5","no-padding","margin-left"],[1,"p-col-fixed","center-label","no-padding-left","label-align","padding-bottom",2,"width","130px"],[1,"p-col","no-padding-left","flex-center",2,"width","235px"],["formControlName","is_down_payment",2,"font-size","12px"],["value","yes",2,"margin-right","1rem",3,"click"],["value","no",2,"margin-right","1rem",3,"click"],["value","other",2,"margin-right","1rem",3,"click"],["value","dp_additional_cost",2,"margin-right","1rem",3,"click"],["style","margin-top: 10px",4,"ngIf"],[3,"ngStyle"],["floatLabel","never"],["matInput","","formControlName","other_amount",3,"required","placeholder","keypress","keyup"],[1,"p-col-fixed","center-label","no-padding-left","label-align","m-left-15"],["type","text","matInput","","maxlength","3",3,"required","matAutocomplete","formControl","placeholder","keyup"],[3,"panelWidth"],["autoCountrys","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["class","p-grid",4,"ngIf"],[1,"p-grid",2,"margin-top","20px !important"],[1,"p-col","no-padding","custom-ng-select","mrgn-btn"],["clearAllText","Clear","formControlName","type_of_formation",1,"custom-dropdown",3,"multiple","hideSelected","appendTo","placeholder"],[3,"value",4,"ngFor","ngForOf"],["style","color: #f44336; font-size: 75%; margin: 0",4,"ngIf"],["aria-required","true","bindLabel","document_builder_name","bindValue","_id","clearAllText","Clear","formControlName","document_builder_id",1,"custom-dropdown",3,"items","hideSelected","appendTo","placeholder"],[1,"p-col-12","center-label","no-padding-left","label-align"],[2,"margin-right","1.5rem"],[1,"checkbox-item",3,"checked","change"],[2,"margin-top","20px","position","relative"],[1,"p-col-12","no-padding"],[1,"p-col-fixed","center-label","no-padding-left","label-align"],["class","width-card",4,"ngIf"],["class","width-card",4,"ngFor","ngForOf"],[2,"margin-top","25px","position","relative"],[1,"width-card"],[1,"card",3,"ngClass","click"],[1,"name-who"],[1,"dialogTitles"],[1,"flex-right"],["mat-raised-button","","type","button","color","warn",3,"click"],["mat-raised-button","","color","accent",3,"click"],["class","inner-loading-indicator",4,"ngIf"],[1,"dialogTitle"],[2,"margin-top","10px"],[3,"value","click"],[1,"p-col-12","no-padding","checkboxes-container"],["class","checkbox-item",3,"checked","change",4,"ngFor","ngForOf"],[3,"value"],[2,"color","#f44336","font-size","75%","margin","0"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"mat-card")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t.\u0275\u0275template(6,hs,3,3,"h3",5),t.\u0275\u0275template(7,gs,3,3,"h3",5),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(8,"form",6)(9,"div",7)(10,"mat-dialog-content")(11,"div",3)(12,"div",8)(13,"div",3)(14,"div",9)(15,"mat-form-field"),t.\u0275\u0275element(16,"input",10),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275template(18,us,3,3,"mat-error",11),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(19,"div",12)(20,"div",3)(21,"div",9)(22,"mat-form-field"),t.\u0275\u0275element(23,"input",13),t.\u0275\u0275pipe(24,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(25,"div",3)(26,"div",8)(27,"div",3)(28,"div",9)(29,"mat-form-field")(30,"input",14),t.\u0275\u0275listener("keyup",function(o){return n.formattingDiscount(o)}),t.\u0275\u0275pipe(31,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(32,"span",15),t.\u0275\u0275text(33,"%"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(34,_s,3,3,"mat-error",11),t.\u0275\u0275template(35,fs,3,3,"mat-error",11),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(36,"div",16)(37,"div",3)(38,"div",17)(39,"label"),t.\u0275\u0275text(40),t.\u0275\u0275pipe(41,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(42,"div",18)(43,"mat-radio-group",19)(44,"mat-radio-button",20),t.\u0275\u0275listener("click",function(){return n.addValidator()}),t.\u0275\u0275text(45),t.\u0275\u0275pipe(46,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(47,"mat-radio-button",21),t.\u0275\u0275listener("click",function(){return n.resetMethodPayment()}),t.\u0275\u0275text(48),t.\u0275\u0275pipe(49,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(50,"mat-radio-button",22),t.\u0275\u0275listener("click",function(){return n.addValidator()}),t.\u0275\u0275text(51),t.\u0275\u0275pipe(52,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(53,"mat-radio-button",23),t.\u0275\u0275listener("click",function(){return n.addValidator()}),t.\u0275\u0275text(54),t.\u0275\u0275pipe(55,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(56,bs,3,3,"mat-error",24),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(57,"div",25)(58,"div",9)(59,"mat-form-field",26)(60,"input",27),t.\u0275\u0275listener("keypress",function(o){return n.decimalFilter(o)})("keyup",function(o){return n.dissallowZero(o)}),t.\u0275\u0275pipe(61,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(62,Cs,3,3,"mat-error",11),t.\u0275\u0275template(63,ys,3,3,"mat-error",11),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(64,"div",28)(65,"mat-form-field",26)(66,"input",29),t.\u0275\u0275listener("keyup",function(){return n.filterCurrency()}),t.\u0275\u0275pipe(67,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(68,"mat-autocomplete",30,31),t.\u0275\u0275template(70,xs,2,2,"mat-option",32),t.\u0275\u0275elementEnd()()()()()()(),t.\u0275\u0275template(71,Ps,9,5,"div",33),t.\u0275\u0275elementStart(72,"div",34)(73,"div",8)(74,"div",3)(75,"div",35)(76,"ng-select",36),t.\u0275\u0275pipe(77,"translate"),t.\u0275\u0275template(78,Ms,3,4,"ng-option",37),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(79,Ss,3,3,"p",38),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(80,"div",16)(81,"div",3)(82,"div",35),t.\u0275\u0275element(83,"ng-select",39),t.\u0275\u0275pipe(84,"translate"),t.\u0275\u0275template(85,Es,3,3,"p",38),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(86,"div",34)(87,"div",40)(88,"label",41),t.\u0275\u0275text(89),t.\u0275\u0275pipe(90,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(91,"mat-checkbox",42),t.\u0275\u0275listener("change",function(o){return n.onSelectPerimeter(o,"admission")}),t.\u0275\u0275text(92),t.\u0275\u0275pipe(93,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(94,"mat-checkbox",42),t.\u0275\u0275listener("change",function(o){return n.onSelectPerimeter(o,"readmission")}),t.\u0275\u0275text(95),t.\u0275\u0275pipe(96,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(97,Ts,3,3,"mat-error",24),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(98,"mat-divider",43),t.\u0275\u0275elementStart(99,"div",3)(100,"div",44)(101,"div",3)(102,"div",45)(103,"label"),t.\u0275\u0275text(104),t.\u0275\u0275pipe(105,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementContainerStart(106),t.\u0275\u0275template(107,ws,5,4,"div",46),t.\u0275\u0275template(108,Is,5,4,"div",47),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(109,ks,3,3,"mat-error",11),t.\u0275\u0275element(110,"mat-divider",48),t.\u0275\u0275elementStart(111,"div",3)(112,"div",44)(113,"div",3)(114,"div",45)(115,"label"),t.\u0275\u0275text(116),t.\u0275\u0275pipe(117,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementContainerStart(118),t.\u0275\u0275elementStart(119,"div",49)(120,"div",50),t.\u0275\u0275listener("click",function(){return n.selectedIndexAddtionalNone()}),t.\u0275\u0275elementStart(121,"div",51)(122,"h5",52),t.\u0275\u0275text(123),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(124,Ds,5,4,"div",47),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(125,"div",53)(126,"button",54),t.\u0275\u0275listener("click",function(){return n.closeForm()}),t.\u0275\u0275text(127),t.\u0275\u0275pipe(128,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(129,"button",55),t.\u0275\u0275listener("click",function(){return n.onValidate()}),t.\u0275\u0275text(130),t.\u0275\u0275pipe(131,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(132,Bs,2,1,"div",56)),2&e){const a=t.\u0275\u0275reference(69);let o;t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",!n.hideButton),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.hideButton),t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroup",n.addRegistrationProfileForm),t.\u0275\u0275advance(8),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(17,55,"Registration Profile")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.addRegistrationProfileForm.get("name").errors),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(24,57,"Description")),t.\u0275\u0275advance(7),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(31,59,"Discount on full rate")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",n.addRegistrationProfileForm.get("discount_on_full_rate").hasError("max")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.addRegistrationProfileForm.get("discount_on_full_rate").hasError("required")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(41,61,"Down Payment"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(46,63,"Yes")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(49,65,"No")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(52,67,"Other")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(55,69,"DP = Additional Cost")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.addRegistrationProfileForm.get("is_down_payment").errors&&(n.addRegistrationProfileForm.get("is_down_payment").dirty||n.addRegistrationProfileForm.get("is_down_payment").touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(93,Fs,"other"===n.addRegistrationProfileForm.get("is_down_payment").value?"inline-flex":"none")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(61,71,"Amount")),t.\u0275\u0275property("required","other"===n.addRegistrationProfileForm.get("is_down_payment").value),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.addRegistrationProfileForm.get("other_amount").hasError("min")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.addRegistrationProfileForm.get("discount_on_full_rate").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(67,73,"Currency")),t.\u0275\u0275property("required","other"===n.addRegistrationProfileForm.get("is_down_payment").value)("matAutocomplete",a)("formControl",n.currencyFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.currencyList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","no"!==n.addRegistrationProfileForm.get("is_down_payment").value),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(77,75,"ADMISSION.Type Of formation"),"*"),t.\u0275\u0275property("multiple",!1)("hideSelected",!0)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.typeOfFormation),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.addRegistrationProfileForm.get("type_of_formation").hasError("required")&&n.addRegistrationProfileForm.get("type_of_formation").touched),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(84,77,"Registration Certificate"),"*"),t.\u0275\u0275property("items",n.documentBuilders)("hideSelected",!0)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.addRegistrationProfileForm.get("document_builder_id").hasError("required")&&n.addRegistrationProfileForm.get("document_builder_id").touched),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(90,79,"Perimeter of the registration profile"),"*"),t.\u0275\u0275advance(2),t.\u0275\u0275property("checked",n.isAdmission),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(93,81,"perimeter.admission")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("checked",n.isReadmission),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(96,83,"perimeter.readmission")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isPerimeterCheckboxUnchecked),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(105,85,"Select payment mode for this registration profile"),"*"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","100"===(null==n.addRegistrationProfileForm||null==(o=n.addRegistrationProfileForm.get("discount_on_full_rate"))?null:o.value)||100===(null==n.addRegistrationProfileForm||null==(o=n.addRegistrationProfileForm.get("discount_on_full_rate"))?null:o.value)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n.paymentModeList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.addRegistrationProfileForm.get("payment_modes").hasError("required")),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(117,87,"Select addtional costs for this registration profile"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(95,Ct,n.noneChoiceAddtional.status)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(n.noneChoiceAddtional.name),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n.addtionalCost),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(128,89,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(131,91,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse)}},dependencies:[_.mk,_.sg,_.O5,_.PC,R.XC,R.ZL,tt.ey,L.lW,mt.a8,dt.oG,T.xY,ms.d,w.TO,w.KE,w.R9,X.Nt,M.Ou,Q.VQ,Q.U0,c.\u0275NgNoValidate,c.DefaultValueAccessor,c.NgControlStatus,c.NgControlStatusGroup,c.RequiredValidator,c.MaxLengthValidator,c.FormControlDirective,c.FormGroupDirective,c.FormControlName,j.oO,j.Zl,lt.w9,lt.jq,g.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.margin-left[_ngcontent-%COMP%]{margin-left:30px}.flex-center[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-right[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px;display:flex;width:100%;justify-content:right}.px-8[_ngcontent-%COMP%]{padding-left:40px;padding-right:40px}.fontColor[_ngcontent-%COMP%]{color:#fff!important}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#fff}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid white;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#fff!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#fff!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-53px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}.name-who[_ngcontent-%COMP%]{display:inline-block;text-align:center;margin-right:0!important}.card-selected[_ngcontent-%COMP%]{background-color:#fdd835;color:#000}.m-left-15[_ngcontent-%COMP%]{margin-top:-8px;margin-left:15px}.width-card[_ngcontent-%COMP%]{width:auto;display:inline-block;margin-right:10px}.card-selected[_ngcontent-%COMP%]{background-color:#fdd835}.card[_ngcontent-%COMP%]{padding-bottom:3px!important;padding:10px;vertical-align:middle;border:1px solid #ffffff;border-radius:4px;text-align:center;align-self:center;display:inline-block;margin-top:10px;cursor:pointer}.checkboxes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.checkbox-item[_ngcontent-%COMP%]{margin-right:3rem}[_nghost-%COMP%]  .ng-select.ng-select-container{background:rgba(0,0,0,0);border:unset;color:#fff;border-bottom:1px solid #fff}[_nghost-%COMP%]     .ng-select .ng-select-container{background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid rgb(255,255,255)!important;min-height:36px;align-items:center;color:#fff}[_nghost-%COMP%]     .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]     .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]   -shadowcsshost  .ng-select.ng-select-focused:not(.ng-select-opened)>.ng-select-container{border:0px!important;box-shadow:none!important}[_nghost-%COMP%]   -shadowcsshost  .ng-select.ng-select-focused:not(.ng-select-opened).ng-select-container{border:0px!important;box-shadow:none!important}[_nghost-%COMP%]   -shadowcsshost  .ng-select.ng-select-focused:not(.ng-select-opened){border:0px!important;box-shadow:none!important}[_nghost-%COMP%]     .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}  .custom-dropdown.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{white-space:normal!important}"]}),i})();function Ns(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",47),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.addProfileRateDialog())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Add Registration Profile")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Add Registration Profile")," "))}function Rs(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",48),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.getDataAllForCheckboxExport(0))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",49),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Export")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"Export")," ")}}function Ls(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",50),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.resetTable())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",51),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"RESET")," ")}}function Vs(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",39)(1,"div",40)(2,"div",41)(3,"button",42),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"mat-menu",null,43),t.\u0275\u0275template(11,Ns,4,6,"button",44),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,Rs,5,7,"button",45),t.\u0275\u0275template(13,Ls,5,7,"button",46),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275reference(10),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(4,7,"Action")," "),t.\u0275\u0275property("disabled",n.isWaitingForResponse)("matMenuTriggerFor",e),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,9,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",n.permission.addRegistrationProfile()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.exportRegistrationProfile()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.resetRegistrationProfile())}}function Us(i,r){1&i&&t.\u0275\u0275element(0,"th",52)}function qs(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",53)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",54),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.registrationProfileFilter)}}function Gs(i,r){1&i&&t.\u0275\u0275element(0,"th",53)}function Ks(i,r){1&i&&t.\u0275\u0275element(0,"th",53)}function js(i,r){1&i&&t.\u0275\u0275element(0,"th",53)}function Hs(i,r){1&i&&t.\u0275\u0275element(0,"th",53)}function Ws(i,r){1&i&&t.\u0275\u0275element(0,"th",53)}function $s(i,r){1&i&&t.\u0275\u0275element(0,"th",53)}function zs(i,r){1&i&&t.\u0275\u0275element(0,"th",53)}function Ys(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",52)(1,"mat-checkbox",55),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?o.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.showOptions("all",""))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&((null==e.dataUnselectUser?null:e.dataUnselectUser.length)>0||!e.isAllSelected()))("aria-label",e.checkboxLabel())}}function Qs(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",56)(1,"mat-checkbox",57),t.\u0275\u0275listener("click",function(a){return a.stopPropagation()})("change",function(a){const l=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?d.selection.toggle(l._id):null)})("change",function(){const o=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.showOptions("one",o))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(e._id)||n.isCheckedAll&&!n.dataUnselectUser.includes(null==e?null:e._id))("aria-label",n.checkboxLabel(e))}}function Xs(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",59),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Registration Profile")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Registration Profile")))}function Zs(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function Js(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",61),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Description")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Description")))}function td(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.description),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.description," ")}}function ed(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Discount")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Discount")))}function nd(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",(null==e?null:e.discount_on_full_rate)+"%"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",null==e?null:e.discount_on_full_rate," %")}}function id(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Down Payment")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Down Payment")))}function ad(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.is_down_payment)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,null==e?null:e.is_down_payment)," ")}}function od(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Payment Mode")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Payment Mode")))}function rd(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",63),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=r.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.name)}}function ld(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,rd,3,1,"ng-container",62),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.renderTooltipEntity(null==e?null:e.payment_modes)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.payment_modes)}}function sd(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Additional Costs")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Additional Costs")))}function dd(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",63),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=r.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.additional_cost)}}function cd(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,dd,3,1,"ng-container",62),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.renderTooltipEntityAdditional(null==e?null:e.additional_cost_ids)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.additional_cost_ids)}}function pd(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Programs")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Programs")))}function md(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",63),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=r.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.program)}}function hd(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,md,3,1,"ng-container",62),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.renderTooltipEntityProgram(null==e?null:e.programs)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.programs)}}function gd(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function ud(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",66),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onOpenRegistrationProfileDialog(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Edit")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function _d(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",66),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.deleteProfileRate(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function fd(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",64),t.\u0275\u0275template(1,ud,4,4,"button",65),t.\u0275\u0275template(2,_d,4,4,"button",65),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.editRegistrationProfile()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.deleteRegistrationProfile())}}function bd(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",67)(1,"div",68),t.\u0275\u0275element(2,"mat-spinner",69),t.\u0275\u0275elementEnd()())}function Cd(i,r){1&i&&t.\u0275\u0275element(0,"tr",70)}function yd(i,r){1&i&&t.\u0275\u0275element(0,"tr",70)}function xd(i,r){1&i&&t.\u0275\u0275element(0,"tr",70)}function Od(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",71),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function vd(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",72),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function Pd(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",73),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No record of Registration Profile")," "))}function Md(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",74)(1,"ms-registration-profile-form",75),t.\u0275\u0275listener("close",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.closeForm(a))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("scholarSeasonId",e.scholarId)("data",e.editData)}}function Sd(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",76),t.\u0275\u0275element(1,"mat-spinner",77),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}const wt=function(i){return{hide:i}},Ed=function(){return["reset"]},Td=function(){return["loading"]},wd=function(i){return{"hide-pagination-buttons":i}},Id=function(){return[10]};let kd=(()=>{class i{constructor(e,n,a,o,l,d,p,f,h){this.financeService=e,this.exportCsvService=n,this.translateService=a,this.pageTitleService=o,this.utilityService=l,this.userService=d,this.permission=p,this.httpClient=f,this.filterBreadCrumbService=h,this.dataSource=new x.by([]),this.displayedColumns=["select","registrationProfile","description","discount","downPayment","paymentMode","additionalCosts","action"],this.filterColumns=["selectFilter","registrationProfileFilter","descriptionFilter","discountFilter","downPaymentFilter","paymentModeFilter","additionalCostsFilter","actionFilter"],this.filteredValues={name:"",description:"",payment_mode:"",scholar_season_id:""},this.showForm=!1,this.isReset=!1,this.dataLoaded=!1,this.sortValue=null,this.isWaitingForResponse=!1,this.selection=new rt.Ov(!0,[]),this.isCheckedAll=!1,this.disabledExport=!0,this.userSelected=[],this.userSelectedId=[],this.isLoading=!1,this.dataCount=0,this.subs=new I.Y,this.registrationProfileFilter=new c.UntypedFormControl(""),this.discountFilter=new c.UntypedFormControl(""),this.descriptionFilter=new c.UntypedFormControl(""),this.allInternshipId=[],this.dataSelected=[],this.pageSelected=[],this.allStudentForCheckbox=[],this.dataUnselectUser=[],this.allExportForCheckbox=[],this.filterBreadcrumbData=[]}set selectedScholarSeasonID(e){this.filteredValues.scholar_season_id=e||null,this.scholarId=e||null}ngOnInit(){const e=this.userService.getLocalStorageUser(),n=this.userService.getPermission(),a=e?.entities?.find(o=>o?.type?.name===n[0]);this.currentUserTypeId=a?.type?._id,this.initFilter(),this.getRegistrationProfileData(),this.pageTitleService.setTitle(this.translateService.instant("INTAKE_CHANNEL.PAGE_TITLE.Settings")+" - "+this.translateService.instant("INTAKE_CHANNEL.SETTINGS.Registration profile")),this.subs.sink=this.translateService.onLangChange.subscribe(()=>{this.pageTitleService.setTitle(this.translateService.instant("INTAKE_CHANNEL.PAGE_TITLE.Settings")+" - "+this.translateService.instant("INTAKE_CHANNEL.SETTINGS.Registration profile"))})}ngOnDestroy(){this.subs.unsubscribe()}getRegistrationProfileData(){this.isWaitingForResponse=!0;const e={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},n=this.cleanFilterData();this.subs.sink=this.financeService.GetAllProfilRates(e,this.sortValue,n).subscribe(a=>{a&&a.length?(this.dataSource.data=a,this.paginator.length=a[0].count_document,this.dataCount=a[0].count_document):(this.dataSource.data=[],this.paginator.length=0,this.dataCount=0),this.disabledExport=!0,this.noData=this.dataSource.connect().pipe((0,k.U)(o=>0===o.length)),this.isReset=!1,this.isWaitingForResponse=!1,this.filterBreadcrumbData=[],this.filterBreadcrumbFormat()},a=>{this.userService.postErrorLog(a),this.disabledExport=!0,this.noData=this.dataSource.connect().pipe((0,k.U)(o=>0===o.length)),this.isReset=!1,this.isWaitingForResponse=!1,a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():a&&a.message&&a.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:a&&a.message?this.translateService.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translateService.instant("OK")})})}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,N.O)(null),(0,W.b)(()=>{this.isReset||this.getRegistrationProfileData(),this.dataLoaded=!0})).subscribe()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.selection.clear(),this.dataSelected=[],this.dataUnselectUser=[],this.allExportForCheckbox=[],this.isCheckedAll=!1,this.paginator.pageIndex=0,this.isReset||this.getRegistrationProfileData())}resetTable(){this.isReset=!0,this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.isCheckedAll=!1,this.dataUnselectUser=[],this.allExportForCheckbox=[],this.paginator.pageIndex=0,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.filteredValues={name:"",description:"",payment_mode:"",scholar_season_id:this.scholarId},this.disabledExport=!0,this.registrationProfileFilter.setValue(null),this.descriptionFilter.setValue(null),this.discountFilter.setValue(null),this.sort.direction="",this.sort.active="",this.sortValue=null,this.filterBreadcrumbData=[],this.getRegistrationProfileData()}cleanFilterData(){const e=m.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(a=>{(e[a]||!1===e[a])&&(n+=` ${a}:"${e[a]}"`)}),"filter: {"+n+"}"}initFilter(){this.subs.sink=this.registrationProfileFilter.valueChanges.pipe((0,it.b)(400)).subscribe(e=>{null!==e?(""===e&&(this.registrationProfileFilter.setValue(null),this.filteredValues.name="",this.paginator.pageIndex=0,this.isReset||this.getRegistrationProfileData()),this.filteredValues.name=e||"",this.paginator.pageIndex=0,this.isReset||this.getRegistrationProfileData()):null!==e&&(this.registrationProfileFilter.setValue(null),this.filteredValues.name="",this.paginator.pageIndex=0,this.isReset||this.getRegistrationProfileData())}),this.subs.sink=this.descriptionFilter.valueChanges.pipe((0,it.b)(400)).subscribe(e=>{null===e||e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?null!==e&&(this.descriptionFilter.setValue(null),this.filteredValues.description="",this.paginator.pageIndex=0,this.isReset||this.getRegistrationProfileData()):(""===e&&(this.descriptionFilter.setValue(null),this.filteredValues.description="",this.paginator.pageIndex=0,this.isReset||this.getRegistrationProfileData()),this.filteredValues.description=e?e.toLowerCase():"",this.paginator.pageIndex=0,this.isReset||this.getRegistrationProfileData())})}renderTooltipEntity(e){let n="",a=0;if(e&&e.length)for(const o of e)a++,a>1?o.name&&(n+=", ",n+=o.name):o.name&&(n+=o.name);return n}renderTooltipEntityProgram(e){let n="",a=0;if(e&&e.length)for(const o of e)a++,a>1?o&&o.program&&(n+=", ",n+=o.program):o&&(n+=o.program);return n}renderTooltipEntityAdditional(e){let n="",a=0;if(e&&e.length)for(const o of e)a++,a>1?o.additional_cost&&(n+=", ",n+=o.additional_cost):o.additional_cost&&(n+=o.additional_cost);return n}addProfileRateDialog(){this.showForm=!this.showForm,this.editData=null}editProfileRateDialog(){}deleteProfileRate(e){let n=3;s().fire({title:this.translateService.instant("REGPRO_S1.Title"),html:this.translateService.instant("REGPRO_S1.Text",{name:e.name?e.name:""}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translateService.instant("REGPRO_S1.Button1",{timer:n}),cancelButtonText:this.translateService.instant("REGPRO_S1.Button2"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{s().disableConfirmButton();const a=s().getConfirmButton(),o=setInterval(()=>{n-=1,a.innerText=this.translateService.instant("REGPRO_S1.Button1")+` (${n})`},1e3);this.timeOutVal=setTimeout(()=>{a.innerText=this.translateService.instant("REGPRO_S1.Button1"),s().enableConfirmButton(),clearInterval(o),clearTimeout(this.timeOutVal)},1e3*n)}}).then(a=>{clearTimeout(this.timeOutVal),a.value&&(this.subs.sink=this.financeService.DeleteProfilRate(e._id).subscribe(o=>{s().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getRegistrationProfileData()})},o=>{this.userService.postErrorLog(o),"GraphQL error: Registration profile already assigned to student."===o.message?s().fire({type:"info",title:this.translateService.instant("REGPRO_S1b.Title"),html:this.translateService.instant("REGPRO_S1b.Text"),confirmButtonText:this.translateService.instant("REGPRO_S1b.Button1")}):"GraphQL error: Registration profile already used in program."===o.message?s().fire({type:"info",title:this.translateService.instant("REGPRO_S1a.Title"),html:this.translateService.instant("REGPRO_S1a.Text"),confirmButtonText:this.translateService.instant("REGPRO_S1a.Button1")}):o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})}))})}onOpenRegistrationProfileDialog(e){this.showForm=!0,this.editData={selectedData:e,isEdit:!0}}onDataExport(){if("one"===this.selectType){const e=[];if(this.selection.selected.length){for(const p of this.selection.selected){let f="",h="",C="";if(p.payment_modes&&p.payment_modes.length)for(const S of p.payment_modes)f=f?f+", "+(S.name?S.name:""):S.name?S.name:"";if(p.additional_cost_ids&&p.additional_cost_ids.length)for(const S of p.additional_cost_ids)C=C?C+", "+(S.additional_cost?S.additional_cost:""):S.additional_cost?S.additional_cost:"";if(p.programs&&p.programs.length)for(const S of p.programs)h=h?h+", "+(S.program?S.program:""):S.program?S.program:"";const v=[];v[0]=p.name,v[1]=p.description,v[2]=p.discount_on_full_rate?p.discount_on_full_rate+"%":"0%",v[3]=p.is_down_payment?this.translateService.instant(p.is_down_payment):"-",v[4]=f||"-",v[5]=C||"-",v[6]=h||"-",e.push(v)}const n={values:e},a=q().format("DD-MM-YYYY");this.exportCsvService.createAndUpdateSpreadsheet(n,this.exportName+"_"+a,{spreadsheetId:"16SdeqCX7O2A4U1q_dIshtuFQ4H_4FQ2Tv7xT4K2AJVo",sheetId:"en"===this.translateService.currentLang?0:2108479967,range:"A7"})}s().close()}else this.getAllExportData(0)}getAllExportData(e){this.isLoading=!0;const n={limit:500,page:e},a=this.cleanFilterData();this.subs.sink=this.financeService.GetAllProfilRates(n,this.sortValue,a).subscribe(o=>{o&&o.length?(this.allInternshipId.push(...o),this.getAllExportData(e+1)):(this.isLoading=!1,this.exportAllData(this.allInternshipId))},o=>{this.userService.postErrorLog(o),this.isLoading=!1,o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})})}exportAllData(e){const n=m.uniqBy(e,"_id"),a=[];if(n&&n.length){for(const h of n){let C="",v="",S="";if(h.payment_modes&&h.payment_modes.length)for(const H of h.payment_modes)C=C?C+", "+(H.name?H.name:""):H.name?H.name:"";if(h.additional_cost_ids&&h.additional_cost_ids.length)for(const H of h.additional_cost_ids)S=S?S+", "+(H.additional_cost?H.additional_cost:""):H.additional_cost?H.additional_cost:"";if(h.programs&&h.programs.length)for(const H of h.programs)v=v?v+", "+(H.program?H.program:""):H.program?H.program:"";const A=[];A[0]=h.name,A[1]=h.description,A[2]=h.discount_on_full_rate?h.discount_on_full_rate+"%":"0%",A[3]=h.is_down_payment?this.translateService.instant(h.is_down_payment):"-",A[4]=C||"-",A[5]=S||"-",A[6]=v||"-",a.push(A)}const o={values:a},l=q().format("DD-MM-YYYY");this.exportCsvService.createAndUpdateSpreadsheet(o,this.exportName+"_"+l,{spreadsheetId:"16SdeqCX7O2A4U1q_dIshtuFQ4H_4FQ2Tv7xT4K2AJVo",sheetId:"en"===this.translateService.currentLang?0:2108479967,range:"A7"})}s().close()}isAllSelected(){const e=this.selection.selected.length,n=this.dataSource.data.length;return!!this.isCheckedAll||e===n||e>n}masterToggle(){this.isAllSelected()||this.isCheckedAll&&this.dataUnselectUser.length?(this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.isCheckedAll=!1,this.dataUnselectUser=[],this.allExportForCheckbox=[]):(this.selection.clear(),this.dataSelected=[],this.allStudentForCheckbox=[],this.isCheckedAll=!0,this.dataUnselectUser=[],this.allExportForCheckbox=[],this.dataSource.data.forEach(e=>{this.dataUnselectUser.includes(e._id)||this.selection.select(e._id)}))}getDataAllForCheckbox(e){const n={limit:300,page:e};this.isWaitingForResponse=!0;const a=this.cleanFilterData();this.subs.sink=this.financeService.GetAllProfilRates(n,this.sortValue,a).subscribe(o=>{o&&o.length?(this.allStudentForCheckbox.push(...o),this.getDataAllForCheckbox(e+1)):(this.isWaitingForResponse=!1,this.isCheckedAll?(this.allStudentForCheckbox&&this.allStudentForCheckbox.length&&this.allStudentForCheckbox.forEach(l=>{this.selection.select(l._id),this.dataSelected.push(l)}),this.pageSelected.push(this.paginator.pageIndex)):this.pageSelected=[])},o=>{this.userService.postErrorLog(o),this.isWaitingForResponse=!1,o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}showOptions(e,n){if(this.isCheckedAll){if(n)if(this.dataUnselectUser.includes(n._id)){const l=this.dataUnselectUser.findIndex(d=>d===n._id);this.dataUnselectUser.splice(l,1),this.selection.select(n._id)}else this.dataUnselectUser.push(n._id),this.selection.deselect(n._id)}else if(n)if(this.dataSelected&&this.dataSelected.length){const l=this.dataSelected.filter(d=>d._id===n._id);if(l&&l.length<1)this.dataSelected.push(n);else{const d=this.dataSelected.findIndex(p=>p._id===n._id);this.dataSelected.splice(d,1)}}else this.dataSelected.push(n);this.disabledExport=!(this.selection.selected.length>0),this.userSelected=[],this.userSelectedId=[],this.selectType=e,(this.dataSelected&&this.dataSelected.length?this.dataSelected:this.selection.selected).forEach(l=>{this.userSelected.push(l),this.userSelectedId.push(l._id)})}getDataAllForCheckboxExport(e){if(this.isCheckedAll)if(this.dataUnselectUser.length<1)this.downloadCSV();else{0===e&&(this.allExportForCheckbox=[],this.dataSelected=[]);const n={limit:500,page:e};this.isLoading=!0;const a=this.cleanFilterData();this.subs.sink=this.financeService.getAllProfilRatesIdForExport(n,this.sortValue,a).subscribe(o=>{o&&o.length?(this.allExportForCheckbox.push(...o),this.getDataAllForCheckboxExport(e+1)):(this.isLoading=!1,this.isCheckedAll&&this.allExportForCheckbox&&this.allExportForCheckbox.length&&(this.dataSelected=this.allExportForCheckbox.filter(l=>!this.dataUnselectUser.includes(l._id)),this.dataSelected=m.uniqBy(this.dataSelected,"_id"),this.downloadCSV()))},o=>{this.isLoading=!1,o&&o.message&&o.message.includes("Network error: Http failure response for")?s().fire({type:"warning",title:this.translateService.instant("BAD_CONNECTION.Title"),html:this.translateService.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translateService.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):s().fire({type:"info",title:this.translateService.instant("SORRY"),text:o&&o.message?this.translateService.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translateService.instant("OK")})})}else this.downloadCSV()}downloadCSV(){if(this.dataSelected.length||!(!this.isCheckedAll||this.isCheckedAll&&this.dataUnselectUser.length)){const e={",":this.translateService.instant("IMPORT_DECISION_S1.COMMA"),";":this.translateService.instant("IMPORT_DECISION_S1.SEMICOLON"),tab:this.translateService.instant("IMPORT_DECISION_S1.TAB")};s().fire({type:"question",title:this.translateService.instant("IMPORT_DECISION_S1.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translateService.instant("IMPORT_DECISION_S1.CANCEL"),confirmButtonText:this.translateService.instant("IMPORT_DECISION_S1.OK"),input:"radio",inputOptions:e,inputValue:this.translateService&&"fr"===this.translateService.currentLang?";":"",inputValidator:n=>new Promise((a,o)=>{n?(a(""),s().enableConfirmButton()):(s().disableConfirmButton(),o(this.translateService.instant("IMPORT_DECISION_S1.INVALID")))}),onOpen:function(){s().disableConfirmButton(),s().getContent().addEventListener("click",function(){s().enableConfirmButton()}),";"===s().getInput().getAttribute("value")&&s().enableConfirmButton()}}).then(n=>{n.value&&this.openDownloadCsv(n.value)})}else s().fire({type:"info",title:this.translateService.instant("Followup_S8.Title"),html:this.translateService.instant("Followup_S8.Text",{menu:this.translateService.instant("Registration Profile")}),confirmButtonText:this.translateService.instant("Followup_S8.Button")})}openDownloadCsv(e){let n=st.N.apiUrl;n=n.replace("graphql",""),document.createElement("a");const o=this.translateService.currentLang.toLowerCase(),d=this.cleanFilterDataCSV();let p,f;if(console.log("_ini filter",this.dataSelected.length),this.dataSelected.length&&(!this.isCheckedAll||this.isCheckedAll&&this.dataUnselectUser.length&&this.dataSelected.length)){const S='"profil_rate_ids":['+this.dataSelected.map(A=>'"'+A._id+'"').toString()+"]";p=d.slice(0,8)+S+"}"}else p=d;f=this.sortValue?`sorting=${JSON.stringify(this.sortValue)}`:"sorting={}";const h=n+"downloadProfilRateCSV/"+e+"/"+o+"?"+p+"&"+f+`&user_type_id="${this.currentUserTypeId}"`;console.log("fullURL",h);const C={headers:new nt.WM({Authorization:JSON.parse(localStorage.getItem("admtc-token-encryption"))})};this.isLoading=!0,this.httpClient.get(`${encodeURI(h)}`,C).subscribe(v=>{v?(this.isLoading=!1,s().fire({type:"success",title:this.translateService.instant("ReAdmission_S3.TITLE"),text:this.translateService.instant("ReAdmission_S3.TEXT"),confirmButtonText:this.translateService.instant("ReAdmission_S3.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.selection.clear(),this.dataSelected=[],this.dataUnselectUser=[],this.allExportForCheckbox=[],this.isCheckedAll=!1})):this.isLoading=!1},v=>{this.isLoading=!1,console.log("uat 389 error",v)})}cleanFilterDataCSV(){const e=m.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(a=>{(e[a]||!1===e[a])&&(n=n?n+`,"${a}":"${e[a]}"`:n+`"${a}":"${e[a]}"`)}),"filter={"+n+"}"}closeForm(e){e&&(this.showForm=!1,this.getRegistrationProfileData())}filterBreadcrumbFormat(){this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat([{type:"table_filter",name:"name",column:"Registration Profile",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.registrationProfileFilter,isSelectionInput:!1,displayKey:null,savedValue:null}],this.filterBreadcrumbData)}removeFilterBreadcrumb(e){e&&(this.filterBreadCrumbService.removeFilterBreadcrumb(e,null,this.filteredValues),this.clearSelectIfFilter(),this.getRegistrationProfileData())}clearSelectIfFilter(){this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!1,this.dataUnselectUser=[],this.allExportForCheckbox=[]}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(yt.J),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(O.Z),t.\u0275\u0275directiveInject(Y.t),t.\u0275\u0275directiveInject(B.e),t.\u0275\u0275directiveInject(y.$),t.\u0275\u0275directiveInject(nt.eN),t.\u0275\u0275directiveInject(Pt.q))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-registration-profile"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(F.NW,7),t.\u0275\u0275viewQuery(D.YE,7)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.sort=a.first)}},inputs:{selectedScholarSeasonID:["scholarSeasonId","selectedScholarSeasonID"]},decls:64,vars:29,consts:[[1,"top-space",3,"ngClass"],[3,"filterBreadcrumbData","removeFilterTrigger"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","9","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","selectFilter",1,"mat-column-select"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["matColumnDef","registrationProfileFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","descriptionFilter"],["matColumnDef","discountFilter"],["matColumnDef","downPaymentFilter"],["matColumnDef","paymentModeFilter"],["matColumnDef","additionalCostsFilter"],["matColumnDef","programsFilter"],["matColumnDef","actionFilter"],["matColumnDef","select",1,"mat-column-select"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","registrationProfile"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","discount"],["matColumnDef","downPayment"],["matColumnDef","paymentMode"],["matColumnDef","additionalCosts"],["matColumnDef","programs"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","9","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["class","top-space",4,"ngIf"],["class","inner-loading-indicator",4,"ngIf"],["mat-header-cell","","colspan","9",1,"action-header-column","text-right"],[1,"p-grid"],[1,"p-col-12","text-right"],["mat-raised-button","","color","accent",2,"padding","0 7px !important",3,"matTooltip","disabled","matMenuTriggerFor"],["action","matMenu"],["mat-menu-item","",3,"matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"matTooltip","disabled","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","matTooltip","click",4,"ngIf"],["mat-menu-item","",3,"matTooltip","click"],["mat-raised-button","","color","primary",3,"matTooltip","disabled","click"],["svgIcon","file-excel",1,"mat-icon-svgIcon"],["mat-raised-button","","color","primary",3,"disabled","matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell","",1,"text-center"],["mat-header-cell",""],["matInput","",1,"form-field",3,"formControl","placeholder"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"text-center"],[3,"checked","aria-label","click","change"],["mat-header-cell","",3,"matTooltip"],["mat-sort-header","name"],["mat-cell","",3,"matTooltip"],["mat-sort-header","description"],[4,"ngFor","ngForOf"],[1,"tags"],["mat-cell",""],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","disabled","click"],["mat-header-cell","","colspan","9",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"top-space"],[3,"scholarSeasonId","data","close"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"ms-filter-breadcrumb",1),t.\u0275\u0275listener("removeFilterTrigger",function(o){return n.removeFilterBreadcrumb(o)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"table",2),t.\u0275\u0275listener("matSortChange",function(o){return n.sortData(o)}),t.\u0275\u0275elementContainerStart(3,3),t.\u0275\u0275template(4,Vs,14,11,"th",4),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(5,5),t.\u0275\u0275template(6,Us,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(7,7),t.\u0275\u0275template(8,qs,4,4,"th",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(9,9),t.\u0275\u0275template(10,Gs,1,0,"th",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(11,10),t.\u0275\u0275template(12,Ks,1,0,"th",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(13,11),t.\u0275\u0275template(14,js,1,0,"th",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(15,12),t.\u0275\u0275template(16,Hs,1,0,"th",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(17,13),t.\u0275\u0275template(18,Ws,1,0,"th",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(19,14),t.\u0275\u0275template(20,$s,1,0,"th",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(21,15),t.\u0275\u0275template(22,zs,1,0,"th",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(23,16),t.\u0275\u0275template(24,Ys,2,3,"th",6),t.\u0275\u0275template(25,Qs,2,2,"td",17),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(26,18),t.\u0275\u0275template(27,Xs,5,6,"th",19),t.\u0275\u0275template(28,Zs,2,2,"td",20),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(29,21),t.\u0275\u0275template(30,Js,5,6,"th",19),t.\u0275\u0275template(31,td,2,2,"td",20),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(32,22),t.\u0275\u0275template(33,ed,5,6,"th",19),t.\u0275\u0275template(34,nd,2,2,"td",20),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(35,23),t.\u0275\u0275template(36,id,5,6,"th",19),t.\u0275\u0275template(37,ad,4,6,"td",20),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(38,24),t.\u0275\u0275template(39,od,5,6,"th",19),t.\u0275\u0275template(40,ld,2,2,"td",20),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(41,25),t.\u0275\u0275template(42,sd,5,6,"th",19),t.\u0275\u0275template(43,cd,2,2,"td",20),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(44,26),t.\u0275\u0275template(45,pd,5,6,"th",19),t.\u0275\u0275template(46,hd,2,2,"td",20),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(47,27),t.\u0275\u0275template(48,gd,5,6,"th",19),t.\u0275\u0275template(49,fd,3,2,"td",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(50,29),t.\u0275\u0275template(51,bd,3,0,"th",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(52,Cd,1,0,"tr",31),t.\u0275\u0275template(53,yd,1,0,"tr",31),t.\u0275\u0275template(54,xd,1,0,"tr",31),t.\u0275\u0275template(55,Od,1,1,"tr",32),t.\u0275\u0275template(56,vd,1,1,"tr",33),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(57,Pd,3,3,"div",34),t.\u0275\u0275pipe(58,"async"),t.\u0275\u0275elementStart(59,"div",35),t.\u0275\u0275pipe(60,"async"),t.\u0275\u0275element(61,"mat-paginator",36),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(62,Md,2,2,"div",37),t.\u0275\u0275template(63,Sd,2,1,"div",38)),2&e&&(t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(20,wt,n.showForm)),t.\u0275\u0275advance(1),t.\u0275\u0275property("filterBreadcrumbData",n.filterBreadcrumbData),t.\u0275\u0275advance(1),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(50),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(22,Ed)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(23,Td)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(58,16,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(24,wt,t.\u0275\u0275pipeBind1(60,18,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(26,wd,n.intakeChannelCount<=10))("length",n.registrationProfileCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(28,Id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.showForm),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isLoading))},dependencies:[_.mk,_.sg,_.O5,L.lW,dt.oG,K.Hw,w.KE,X.Nt,U.VK,U.OP,U.p6,F.NW,M.Ou,D.YE,D.nU,x.BZ,x.fO,x.as,x.w1,x.Dz,x.nj,x.ge,x.ev,x.XQ,x.Gk,et.gM,c.DefaultValueAccessor,c.NgControlStatus,c.FormControlDirective,j.oO,Mt.r,As,_.Ov,g.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.hide[_ngcontent-%COMP%]{display:none}#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.pad-top-miss[_ngcontent-%COMP%]{padding-top:1.8px!important}.form-field[_ngcontent-%COMP%]{margin-top:.5px}.tag-container[_ngcontent-%COMP%]{white-space:normal;text-align:left!important;line-height:2.3;overflow-wrap:break-word}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:3%;padding-left:0!important}[_nghost-%COMP%]     table tr td:nth-child(1) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(1) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:15%;padding-left:.5rem!important;text-align:left!important}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:30%;padding-left:.5rem!important;text-align:left!important}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:8%;text-align:center!important;padding-left:0!important}[_nghost-%COMP%]     table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(4) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:13%;text-align:center!important;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){width:13%;text-align:center!important;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(6) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(6) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){width:13%;text-align:center!important;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(7) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(7) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){width:5%;min-width:90px;max-width:90px;padding-right:0!important;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.school-backdrop[_ngcontent-%COMP%] + .cdk-overlay-pane[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:visible}.mat-column-select[_ngcontent-%COMP%]{overflow:initial}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.pc-section[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:5px;display:inline-block}.cr-section[_ngcontent-%COMP%]{width:50%;text-align:left;display:inline-block}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}  .mat-menu-panel{min-height:auto}  .mat-menu-content:not(:empty){padding-bottom:0}"]}),i})();function Dd(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"h5"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate((null==e?null:e.scholar_season)||"")}}function Bd(i,r){if(1&i&&t.\u0275\u0275element(0,"ms-registration-profile",4),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("scholarSeasonId",(null==e?null:e._id)||null)}}function Fd(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-tab"),t.\u0275\u0275template(1,Dd,2,1,"ng-template",2),t.\u0275\u0275template(2,Bd,1,1,"ng-template",3),t.\u0275\u0275elementEnd())}let Ad=(()=>{class i{constructor(e,n,a){this.translate=e,this.financeService=n,this.authService=a,this.subs=new I.Y,this.scholarSeasons=[]}ngOnInit(){this.getScholarSeasons()}ngOnDestroy(){this.subs.unsubscribe()}getScholarSeasons(){this.subs.sink=this.financeService.getAllScholarSeasonsNameAndID({is_published:!0}).subscribe(n=>{n&&n.length>0&&this.scholarSeasons.push(...n)},n=>{this.authService.postErrorLog(n),s().fire({type:"info",title:"Error!",text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ")):n,allowOutsideClick:!1})})}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(B.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-registration-profile-parent"]],decls:2,vars:1,consts:[[1,"not-custom"],[4,"ngFor","ngForOf"],["mat-tab-label",""],["matTabContent",""],[3,"scholarSeasonId"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"mat-tab-group",0),t.\u0275\u0275template(1,Fd,3,0,"mat-tab",1),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n.scholarSeasons))},dependencies:[_.sg,E.SP,E.uD,E.uX,E.Vc,kd],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]  .mat-tab-label{min-width:25px!important;padding:.7rem!important;opacity:1!important}[_nghost-%COMP%]  .mat-tab-list .mat-tab-labels{border:0px!important;background-color:transparent!important}[_nghost-%COMP%]  .mat-tab-label{background-color:transparent!important}[_nghost-%COMP%]  .mat-tab-label.mat-tab-label-active{background-color:transparent!important;color:#ffd740!important;font-weight:900!important;box-shadow:-.8px 0 #607d8b,.8px 0 #607d8b!important;border:2px solid #607d8b!important;border-top:0px!important}[_nghost-%COMP%]  .app-dark .mat-tab-group.mat-primary .mat-ink-bar, [_nghost-%COMP%]  .app-dark .mat-tab-nav-bar.mat-primary .mat-ink-bar{background-color:#506169!important}"]}),i})();const Nd=["settingMatGroup"];function Rd(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",11),t.\u0275\u0275element(1,"mat-spinner",12),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}function Ld(i,r){1&i&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"translate")),2&i&&t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(1,1,"INTAKE_CHANNEL.SETTINGS.Type of formation")," ")}function Vd(i,r){1&i&&t.\u0275\u0275element(0,"ms-type-of-formation")}function Ud(i,r){1&i&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"translate")),2&i&&t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(1,1,"INTAKE_CHANNEL.SETTINGS.Additional expenses")," ")}function qd(i,r){1&i&&t.\u0275\u0275element(0,"ms-additional-expense")}function Gd(i,r){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-tab",13),t.\u0275\u0275template(2,Ud,2,3,"ng-template",4),t.\u0275\u0275template(3,qd,1,0,"ng-template",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Kd(i,r){1&i&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"translate")),2&i&&t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(1,1,"INTAKE_CHANNEL.SETTINGS.Payment modes")," ")}function jd(i,r){1&i&&t.\u0275\u0275element(0,"ms-payment-modes-parent")}function Hd(i,r){1&i&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"translate")),2&i&&t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(1,1,"INTAKE_CHANNEL.SETTINGS.Registration profile")," ")}function Wd(i,r){1&i&&t.\u0275\u0275element(0,"ms-registration-profile-parent")}function $d(i,r){1&i&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"translate")),2&i&&t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(1,1,"INTAKE_CHANNEL.SETTINGS.Legal entities")," ")}function zd(i,r){1&i&&t.\u0275\u0275element(0,"ms-legal-entity")}const Yd=[{path:"",component:(()=>{class i{constructor(e,n,a,o,l,d){this.pageTitleService=e,this.permission=n,this.router=a,this.financeService=o,this.translate=l,this.route=d,this.dataNotValid=!1,this.selectedIndex=0,this.isBoardingMerchantSaved=!0,this.isWaitingForResponse=!1}ngOnInit(){setTimeout(()=>{this.settingMatGroup._handleClick=this.interceptTabChange.bind(this)},500);const e=!!this.router.snapshot.queryParamMap.get("legalEntityId"),n=!!this.router.snapshot.queryParamMap.get("amp;openLegalEntities"),a=!!this.router.snapshot.queryParamMap.get("openLegalEntities");n&&(this.route.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.route.navigate(["/settings"],{queryParams:{openLegalEntities:!0}})),this.moveToTab("LegalEntities")),(e||a)&&this.moveToTab("LegalEntities")}moveToTab(e){this.isWaitingForResponse=!0,e&&("LegalEntities"===e?setTimeout(()=>{this.selectedIndex=4,this.isWaitingForResponse=!1},1e3):(this.selectedIndex=0,this.isWaitingForResponse=!1))}interceptTabChange(e,n,a){let l;if(this.router.snapshot.queryParamMap.get("legalEntityId")&&this.route.navigate(["."],{relativeTo:this.router,queryParams:{title:this.router.snapshot.queryParamMap.get("title")}}),l=!1,this.isBoardingMerchantSaved||(l=!0),!l)return this.financeService.setDataMerchantBoardingSaved(!0),E.SP.prototype._handleClick.apply(this.settingMatGroup,arguments);s().fire({type:"warning",title:this.translate.instant("TMTC_S01.TITLE"),text:this.translate.instant("TMTC_S01.TEXT"),confirmButtonText:this.translate.instant("TMTC_S01.BUTTON_1"),showCancelButton:!0,cancelButtonText:this.translate.instant("TMTC_S01.BUTTON_2"),allowEscapeKey:!1,allowOutsideClick:!1}).then(d=>d.value?(this.financeService.setDataMerchantBoardingSaved(!1),setTimeout(()=>{this.selectedIndex=12},5),E.SP.prototype._handleClick.apply(this.settingMatGroup,arguments)):(this.financeService.setDataMerchantBoardingSaved(!0),this.selectedIndex=a,E.SP.prototype._handleClick.apply(this.settingMatGroup,arguments)))}canDeactivate(){let e;return e=!1,this.isBoardingMerchantSaved||(e=!0),!e||new Promise((n,a)=>{s().fire({type:"warning",title:this.translate.instant("TMTC_S01.TITLE"),text:this.translate.instant("TMTC_S01.TEXT"),confirmButtonText:this.translate.instant("TMTC_S01.BUTTON_1"),showCancelButton:!0,cancelButtonText:this.translate.instant("TMTC_S01.BUTTON_2"),allowEscapeKey:!1,allowOutsideClick:!1}).then(o=>{n(!o.value)})})}ngOnDestroy(){this.pageTitleService.setTitle("")}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(O.Z),t.\u0275\u0275directiveInject(y.$),t.\u0275\u0275directiveInject(P.gz),t.\u0275\u0275directiveInject(b.N),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(P.F0))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-settings"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(Nd,5),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.settingMatGroup=a.first)}},decls:17,vars:3,consts:[["class","inner-loading-indicator",4,"ngIf"],[3,"selectedIndex","selectedIndexChange"],["settingMatGroup",""],["label","TypeOfFormation"],["mat-tab-label","","class","main-tab"],["matTabContent",""],[4,"ngIf"],["label","PaymentModes"],["mat-tab-label",""],["label","RegistrationProfile"],["label","LegalEntities"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"],["label","AdditionalExpense"]],template:function(e,n){1&e&&(t.\u0275\u0275template(0,Rd,2,1,"div",0),t.\u0275\u0275elementStart(1,"div")(2,"mat-tab-group",1,2),t.\u0275\u0275listener("selectedIndexChange",function(o){return n.selectedIndex=o}),t.\u0275\u0275elementStart(4,"mat-tab",3),t.\u0275\u0275template(5,Ld,2,3,"ng-template",4),t.\u0275\u0275template(6,Vd,1,0,"ng-template",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,Gd,4,0,"ng-container",6),t.\u0275\u0275elementStart(8,"mat-tab",7),t.\u0275\u0275template(9,Kd,2,3,"ng-template",8),t.\u0275\u0275template(10,jd,1,0,"ng-template",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"mat-tab",9),t.\u0275\u0275template(12,Hd,2,3,"ng-template",8),t.\u0275\u0275template(13,Wd,1,0,"ng-template",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"mat-tab",10),t.\u0275\u0275template(15,$d,2,3,"ng-template",8),t.\u0275\u0275template(16,zd,1,0,"ng-template",5),t.\u0275\u0275elementEnd()()()),2&e&&(t.\u0275\u0275property("ngIf",n.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275property("selectedIndex",n.selectedIndex),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",n.permission.showAddtionalCostPerm()))},dependencies:[_.O5,M.Ou,E.SP,E.uD,E.uX,E.Vc,Pe,ln,hl,cs,Ad,g.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]     .mat-tab-label{min-width:150px!important;background-color:#000!important;font-size:15px;opacity:1!important;color:#fff!important;font-weight:900!important}[_nghost-%COMP%]     .mat-tab-list .mat-tab-labels{border:1px solid black!important;background-color:#000!important;color:#ffe77a!important}[_nghost-%COMP%]     .mat-tab-label-active{border:1px solid #607d8b!important;background-color:#607d8b!important;color:#ffe77a!important}[_nghost-%COMP%]     .mat-tab-label.mat-tab-disabled, .mat-tab-link.mat-tab-disabled[_ngcontent-%COMP%]{border:1px solid black!important;background-color:#000!important;color:#a2a2a2!important}[_nghost-%COMP%]     .mat-ink-bar{background-color:unset!important}.mat-tab-header[_ngcontent-%COMP%]{font-weight:400;color:inherit;margin-top:1.2em;align-items:center!important}[_nghost-%COMP%]  .mat-tab-body-content{overflow:hidden!important}"]}),i})(),canActivate:[G.n],data:{permission:"intake_channel.show_perm"}},{path:"**",redirectTo:"",pathMatch:"full"}];let Qd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[P.Bz.forChild(Yd),P.Bz]}),i})();var Xd=u(93730);let Zd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.ez,Qd,Xd.m,lt.A0,xt.ii.forRoot()]}),i})()},95321:(ut,Z,u)=>{u.d(Z,{g:()=>t});var _=u(13125),P=u(24850),G=u(94650),E=u(18497),ot=u(89383),s=u(80529);let t=(()=>{class O{constructor(b,g,M){this.apollo=b,this.translate=g,this.httpClient=M}getMonths(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}getYears(){let b=(new Date).getFullYear(),M=b+2;const c=[];for(let F=b-20;F<=M;F++)c.push(F.toString());return c}addAcademicJourney(b,g){return this.apollo.mutate({mutation:_.ZP`
          mutation UpdateStudentInAcademicJourney($id: ID!, $lang: String!, $student_input: StudentInput) {
            UpdateStudent(_id: $id, lang: $lang, student_input: $student_input) {
              _id
              last_name
              first_name
              date_of_birth
              nationality
              place_of_birth
              professional_email
              photo
              is_photo_in_s3
              photo_s3_path
              description
              identification_type
              identification_number
              student_address {
                address
                city
                country
                department
                is_main_address
                postal_code
                region
              }
            }
          }
        `,variables:{lang:this.translate.currentLang,id:"5aa91e19155c845d8f80ddb6",student_input:g}}).pipe((0,P.U)(M=>M.data.UpdateStudent))}GetOneUser(b){return this.apollo.query({query:_.ZP`
          query{
              GetOneUser(_id:"${b}"){
                  _id
                  student_id{
                      _id
                  }
                  email
              }
              }
      `,fetchPolicy:"network-only"}).pipe((0,P.U)(g=>g.data.GetOneUser))}GetOneStudentdetails(b){return this.apollo.query({query:_.ZP`
          query{
              GetOneStudent(_id:"${b}")
              {
                  _id
                  last_name
                  civility
                  first_name
                  date_of_birth
                  nationality
                  tele_phone
                  place_of_birth
                  professional_email
                  photo
                  is_photo_in_s3
                  photo_s3_path
                  description
                  identification_type
                  identification_number
                  student_address {
                      address
                      city
                      country
                      department
                      is_main_address
                      postal_code
                      region
                  }
                  academic_journey_id {
                    diplomas {
                      institute_name
                      graduation_date{
                          month
                          year
                      }
                      qualification
                      location
                      field_of_study
                      major
                      grade
                      score
                      out_of_score
                      additional_information
                      diploma_upload_date
                      diploma_photo
                    }
                    experiences {
                      description
                      position_name
                      position_level
                      company_name
                      location
                      join_duration_from {
                          month
                          year
                      }
                      join_duration_to {
                          month
                          year
                      }
                      present
                      role
                      country
                      industry
                      monthly_salary
                      monthly_salary_currency
                      specialization_name
                    }
                    skills {
                      skill
                      level
                    }
                    languages {
                        language
                        spoken
                        written
                        primary
                    }
                    interests
                  }
                }
              }
      `,fetchPolicy:"network-only"}).pipe((0,P.U)(g=>g.data.GetOneStudent))}GetStudentId(b){return this.apollo.query({query:_.ZP`
        query GetStudentId {
          GetOneUser(_id:"${b}"){
            student_id{
                _id
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,P.U)(g=>g.data.GetOneUser))}GetStudentDataProfileFirstTime(b){return this.apollo.query({query:_.ZP`
        query GetStudentDataToPopulateProfile {
          GetOneStudent(_id:"${b}"){
            first_name
            last_name
            age
            email
            photo
            civility
            tele_phone
            date_of_birth
            place_of_birth
            nationality
            identification_type
            identification_number
            student_address{
              address
              postal_code
              city
              region
              department
              country
              is_main_address
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,P.U)(g=>g.data.GetOneStudent))}getMySummary(b){return this.apollo.query({query:_.ZP`
        query GetMyProfile {
          GetOneAcademicJourney(student_id:"${b}"){
            _id
            student_id {
              _id
            }
            general_presentation {
              first_name
              last_name
              age
              email
              description
              photo
              civility
              tele_phone
              date_of_birth
              place_of_birth
              nationality
              identification_type
              identification_number
              address {
                address
                postal_code
                city
                region
                department
                country
                is_main_address
              }
            }
            diplomas {
              institute_name
              graduation_date {
                date
                time
              }
              diploma_name
              city
              country
              qualification
              location
              field_of_study
              major
              grade
              score
              out_of_score
              additional_information
              diploma_upload_date
              diploma_photo
            }
            experiences {
              description
              position_name
              position_level
              company_name
              location
              join_duration_from {
                month
                year
              }
              join_duration_to {
                month
                year
              }
              present
              role
              country
              monthly_salary
              industry
              monthly_salary_currency
              specialization_name
            }
            skills {
              skill
              level
            }
            languages {
              language
              spoken
              written
              primary
            }
            interests {
              text
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,P.U)(g=>g.data.GetOneAcademicJourney))}getMyProfile(b){return this.apollo.query({query:_.ZP`
        query GetMyProfile {
          GetOneAcademicJourney(student_id:"${b}"){
            _id
            student_id {
              _id
            }
            general_presentation {
              first_name
              last_name
              age
              email
              description
              photo
              civility
              tele_phone
              date_of_birth
              place_of_birth
              nationality
              identification_type
              identification_number
              address {
                address
                postal_code
                city
                region
                department
                country
                is_main_address
              }
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,P.U)(g=>g.data.GetOneAcademicJourney))}getMyDiplomas(b){return this.apollo.query({query:_.ZP`
        query GetMyDiplomas {
          GetOneAcademicJourney(student_id:"${b}"){
            _id
            student_id {
              _id
            }
            diplomas {
              institute_name
              graduation_date {
                date
                time
              }
              diploma_name
              city
              country
              qualification
              location
              field_of_study
              major
              grade
              score
              out_of_score
              additional_information
              diploma_upload_date
              diploma_photo
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,P.U)(g=>g.data.GetOneAcademicJourney))}getMySkills(b){return this.apollo.query({query:_.ZP`
        query GetMySkills {
          GetOneAcademicJourney(student_id:"${b}"){
            _id
            student_id {
              _id
            }
            skills {
              skill
              level
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,P.U)(g=>g.data.GetOneAcademicJourney))}getMylanguages(b){return this.apollo.query({query:_.ZP`
        query GetMyLanguage {
          GetOneAcademicJourney(student_id:"${b}"){
            _id
            student_id {
              _id
            }
            languages {
              language
              spoken
              written
              primary
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,P.U)(g=>g.data.GetOneAcademicJourney))}getMyInterest(b){return this.apollo.query({query:_.ZP`
        query getMyInterest {
          GetOneAcademicJourney(student_id:"${b}"){
            _id
            student_id {
              _id
            }
            interests {
              text
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,P.U)(g=>g.data.GetOneAcademicJourney))}getMyExperience(b){return this.apollo.query({query:_.ZP`
        query getMyExperience {
          GetOneAcademicJourney(student_id:"${b}"){
            _id
            student_id {
              _id
            }
            experiences {
              description
              position_name
              position_level
              company_name
              location
              join_duration_from {
                month
                year
              }
              join_duration_to {
                month
                year
              }
              present
              role
              country
              monthly_salary
              industry
              monthly_salary_currency
              specialization_name
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,P.U)(g=>g.data.GetOneAcademicJourney))}createAcademicJourney(b){return this.apollo.mutate({mutation:_.ZP`
          mutation CreateAcademicJourney($academic_journey_input: AcademicJourneyInput) {
            CreateAcademicJourney(academic_journey_input: $academic_journey_input) {
              _id
            }
          }
        `,variables:{academic_journey_input:b}}).pipe((0,P.U)(g=>g.data.CreateAcademicJourney))}updateAcademicJourney(b,g){return this.apollo.mutate({mutation:_.ZP`
          mutation UpdateAcademicJourney($_id: ID!, $academic_journey_input: AcademicJourneyInput) {
            UpdateAcademicJourney(_id: $_id, academic_journey_input: $academic_journey_input) {
              _id
              general_presentation {
                photo
              }
            }
          }
        `,variables:{_id:b,academic_journey_input:g}}).pipe((0,P.U)(M=>M.data.UpdateAcademicJourney))}getCurrency(){return this.httpClient.get("assets/data/currency.json")}}return O.\u0275fac=function(b){return new(b||O)(G.\u0275\u0275inject(E._M),G.\u0275\u0275inject(ot.sK),G.\u0275\u0275inject(s.eN))},O.\u0275prov=G.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},97679:(ut,Z,u)=>{u.d(Z,{l:()=>s});var _=u(13125),P=u(24850),G=u(94650),E=u(80529),ot=u(18497);let s=(()=>{class t{constructor(y,b){this.httpClient=y,this.apollo=b}getAdmissionChannels(){return this.httpClient.get("assets/data/admission-channels.json")}getScholarPeriod(){return this.httpClient.get("assets/data/scholar-period.json")}getSchools(){return this.httpClient.get("assets/data/schools.json")}getCampus(){return this.httpClient.get("assets/data/campus-tab.json")}getSpeciality(){return this.httpClient.get("assets/data/speciality.json")}getLegalEntities(){return this.httpClient.get("assets/data/legal-entities.json")}getPaymentModes(){return this.httpClient.get("assets/data/payment-modes.json")}getScholarshipFees(){return this.httpClient.get("assets/data/scholarship-fees.json")}getAffectedTermsBillingForAskingPayment(y,b,g,M){return this.apollo.mutate({mutation:_.ZP`
          mutation GetAffectedTermsBillingForAskingPayment($amount: Float, $billing_id: ID, $payment_method: EnumPaymentMethod, $is_from_asking_payment_sepa: Boolean) {
            GetAffectedTermsBilling(amount: $amount, billing_id: $billing_id, payment_method: $payment_method, is_from_asking_payment_sepa: $is_from_asking_payment_sepa) {
              _id
              term_id
              term_index
              term_payment {
                date
                time
              }
              term_payment_deferment {
                date
                time
              }
              is_term_pending
              is_term_paid
              term_amount
              term_pay_amount
              term_pay_date {
                date
                time
              }
              is_partial
              term_status
              term_amount_not_authorised
              term_amount_pending
              term_amount_chargeback
              payment_source
              term_source
              payment_type
              amount
              pay_amount
              status
              is_regulation
            }
          }
        `,variables:{amount:y,billing_id:b,payment_method:g||null,is_from_asking_payment_sepa:M},context:{useMultipart:!0}}).pipe((0,P.U)(c=>c.data.GetAffectedTermsBilling))}getPaymentMethodAdyen(y){return this.apollo.watchQuery({query:_.ZP`
          query GetAllAvailPaymentMethods($filter: FilterPaymentMethodInput!) {
            GetAllAvailPaymentMethods(filter: $filter) {
              brands
              details {
                key
                type
              }
              name
              type
            }
          }
        `,fetchPolicy:"network-only",variables:{filter:y}}).valueChanges.pipe((0,P.U)(b=>b.data.GetAllAvailPaymentMethods))}getAllCountryCodes(){return this.apollo.watchQuery({query:_.ZP`
          query GetAllCountryCodes {
            GetAllCountryCodes {
              _id
              country
              country_code
              currency
              currency_code
            }
          }
        `,fetchPolicy:"network-only"}).valueChanges.pipe((0,P.U)(y=>y.data.GetAllCountryCodes))}getAllTypeOfInformation(y,b){return this.apollo.watchQuery({query:_.ZP`
          query GetAllTypeOfInformation($pagination: PaginationInput, $filter: TypeOfInformationFilterInput) {
            GetAllTypeOfInformation(pagination: $pagination, filter: $filter) {
              _id
              type_of_information
              type_of_formation
              description
              count_document
              sigle
              admission_form_id {
                _id
                form_builder_name
              }
              document_builder_id {
                _id
                document_builder_name
              }
              form_builder_id {
                _id
                form_builder_name
              }
            }
          }
        `,fetchPolicy:"network-only",variables:{pagination:y,filter:b}}).valueChanges.pipe((0,P.U)(g=>g.data.GetAllTypeOfInformation))}getAllTypeOfInformationDropdown(){return this.apollo.watchQuery({query:_.ZP`
          query GetAllTypeOfInformation {
            GetAllTypeOfInformation {
              _id
              type_of_information
              type_of_formation
              description
              sigle
            }
          }
        `,fetchPolicy:"network-only"}).valueChanges.pipe((0,P.U)(y=>y.data.GetAllTypeOfInformation))}getAllTypeOfInformationByScholar(y){return this.apollo.watchQuery({query:_.ZP`
          query GetAllTypeOfInformation {
            GetAllTypeOfInformation {
              _id
              type_of_information
              type_of_formation
              description
            }
          }
        `,fetchPolicy:"network-only"}).valueChanges.pipe((0,P.U)(b=>b.data.GetAllTypeOfInformation))}createTypeOfInformation(y){return this.apollo.mutate({mutation:_.ZP`
          mutation CreateTypeOfInformation($type_of_information_input: TypeOfInformationInput) {
            CreateTypeOfInformation(type_of_information_input: $type_of_information_input) {
              _id
            }
          }
        `,variables:{type_of_information_input:y}}).pipe((0,P.U)(b=>b.data.CreateTypeOfInformation))}updateTypeOfInformation(y,b){return this.apollo.mutate({mutation:_.ZP`
          mutation UpdateTypeOfInformation($_id: ID!, $type_of_information_input: TypeOfInformationInput) {
            UpdateTypeOfInformation(_id: $_id, type_of_information_input: $type_of_information_input) {
              _id
            }
          }
        `,variables:{_id:y,type_of_information_input:b}}).pipe((0,P.U)(g=>g.data.UpdateTypeOfInformation))}deleteTypeOfInformation(y){return this.apollo.mutate({mutation:_.ZP`
          mutation DeleteTypeOfInformation($_id: ID!) {
            DeleteTypeOfInformation(_id: $_id) {
              _id
            }
          }
        `,variables:{_id:y}}).pipe((0,P.U)(b=>b.data.DeleteTypeOfInformation))}addInducedHoursCoefficient(y,b){return this.apollo.mutate({mutation:_.ZP`
        mutation UpdatePrograms($_id: [ID], $induced_hours: Float) {
          UpdatePrograms(program_ids: $_id, program_input: { induced_hours_coefficient: $induced_hours })
        }
      `,variables:{_id:y,induced_hours:b}})}addPaidLeaveAllowance(y,b){return this.apollo.mutate({mutation:_.ZP`
        mutation UpdatePrograms($_id: [ID], $paid_leave_allowance_rate: Float) {
          UpdatePrograms(program_ids: $_id, program_input: { paid_leave_allowance_rate: $paid_leave_allowance_rate })
        }
      `,variables:{_id:y,paid_leave_allowance_rate:b}})}}return t.\u0275fac=function(y){return new(y||t)(G.\u0275\u0275inject(E.eN),G.\u0275\u0275inject(ot._M))},t.\u0275prov=G.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},34318:(ut,Z,u)=>{function G(O){return O&&O.value&&"string"==typeof O.value&&!O.value.replace(/\s/g,"").length&&O.setValue(""),null}function t(O){const y=O&&O.value&&"string"==typeof O.value&&!O.value.replace(/\s/g,"").length;return y&&O.setValue(""),y?{whitespace:!0}:null}u.d(Z,{I8:()=>G,Zx:()=>t})},9962:(ut,Z,u)=>{u.d(Z,{J:()=>G});var _=u(94650),P=u(89383);let G=(()=>{class E{constructor(s){this.translate=s}createAndUpdateSpreadsheet(s,t,O){const y={spreadsheetId:"",range:"",valueInputOption:"USER_ENTERED"};gapi.auth2.getAuthInstance().signIn(),gapi.client.sheets.spreadsheets.create({properties:{title:t},fields:"spreadsheetId"}).then(b=>{y.spreadsheetId=b.result.spreadsheetId;const g={spreadsheetId:O.spreadsheetId,sheetId:O.sheetId},M={destinationSpreadsheetId:b.result.spreadsheetId};console.log("dest & origin sheet : ",M,g),gapi.client.sheets.spreadsheets.sheets.copyTo(g,M).then(function(c){y.range=c.result.title+"!"+O.range,gapi.client.sheets.spreadsheets.values.update(y,s).then(function(){gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:y.spreadsheetId},{requests:[{deleteSheet:{sheetId:0}}]}).then(function(){window.open("https://docs.google.com/spreadsheets/d/"+y.spreadsheetId)},function(m){console.error("error: "+m.result.error.message)})},function(D){console.error("error: "+D.result.error.message)})},function(c){console.error("error: "+c.result.error.message)})})}executeSurveySheetOneTimes(s,t,O){const y={spreadsheetId:"",range:"",valueInputOption:"RAW"};gapi.auth2.getAuthInstance().signIn(),gapi.client.sheets.spreadsheets.create({properties:{title:t},fields:"spreadsheetId"}).then(b=>{y.spreadsheetId=b.result.spreadsheetId,gapi.client.sheets.spreadsheets.sheets.copyTo({spreadsheetId:O.spreadsheetId,sheetId:O.sheetId},{destinationSpreadsheetId:b.result.spreadsheetId}).then(function(c){y.range=c.result.title+"!"+O.range,gapi.client.sheets.spreadsheets.values.update(y,s).then(function(D){gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:y.spreadsheetId},{requests:[{deleteSheet:{sheetId:0}}]}).then(function(V){window.open("https://docs.google.com/spreadsheets/d/"+y.spreadsheetId)},function(V){console.error("error: "+V.result.error.message)})},function(D){console.error("error: "+D.result.error.message)})},function(c){console.error("error: "+c.result.error.message)})})}executeSurveySheetContinues(s,t,O,y){const g={spreadsheetId:"",range:"",valueInputOption:"RAW"};gapi.auth2.getAuthInstance().signIn(),gapi.client.sheets.spreadsheets.create({properties:{title:t},fields:"spreadsheetId"}).then(M=>{console.log("create",M),g.spreadsheetId=M.result.spreadsheetId;const D={spreadsheetId:g.spreadsheetId},x={spreadsheetId:g.spreadsheetId};gapi.client.sheets.spreadsheets.sheets.copyTo({spreadsheetId:O.spreadsheetId,sheetId:O.sheetId},{destinationSpreadsheetId:M.result.spreadsheetId}).then(function(m){gapi.client.sheets.spreadsheets.batchUpdate(x,{requests:[{deleteSheet:{sheetId:0}}]}).then(function(N){gapi.client.sheets.spreadsheets.get(D).then(function(W){console.log(W);let k=m.result.title;g.range=k+"!"+O.range;let I={values:s.values[0]};W&&W.result&&W.result.sheets&&W.result.sheets.length&&gapi.client.sheets.spreadsheets.batchUpdate(x,{requests:[{updateSheetProperties:{properties:{title:y+""+s.values.length+0,sheetId:W.result.sheets[0].properties.sheetId},fields:"title"}}]}).then(function(rt){s.values&&s.values.length>1?s.values.forEach((T,z)=>{0!==z?gapi.client.sheets.spreadsheets.batchUpdate(x,{requests:[{addSheet:{properties:{title:y+""+s.values.length+z,sheetId:1e7+z}}}]}).then(function(ct){gapi.client.sheets.spreadsheets.batchUpdate(x,{requests:[{copyPaste:{destination:{sheetId:1e7+z},source:{sheetId:W.result.sheets[0].properties.sheetId}}}]}).then(function(B){I={values:T},k=y+""+s.values.length+z,g.range=k+"!"+O.range,gapi.client.sheets.spreadsheets.values.update(g,I).then(function($){z===s.values.length-1&&window.open("https://docs.google.com/spreadsheets/d/"+g.spreadsheetId)},function($){console.error("error: "+$.result.error.message)})},function(B){console.error("error: "+B.result.error.message)})},function(ct){console.error("error: "+ct.result.error.message)}):(I={values:T},k=y+""+s.values.length+z,g.range=k+"!"+O.range,gapi.client.sheets.spreadsheets.values.update(g,I).then(function(J){1===s.values.length&&window.open("https://docs.google.com/spreadsheets/d/"+g.spreadsheetId)},function(J){console.error("error: "+J.result.error.message)}))}):(I={values:s.values[0]},k=y+""+s.values.length+0,g.range=k+"!"+O.range,gapi.client.sheets.spreadsheets.values.update(g,I).then(function(T){window.open("https://docs.google.com/spreadsheets/d/"+g.spreadsheetId)},function(T){console.error("error: "+T.result.error.message)}))},function(rt){console.error("error: "+rt.result.error.message)})})},function(N){console.error("error: "+N.result.error.message)})},function(m){console.error("error: "+m.result.error.message)})})}}return E.\u0275fac=function(s){return new(s||E)(_.\u0275\u0275inject(P.sK))},E.\u0275prov=_.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()}}]);