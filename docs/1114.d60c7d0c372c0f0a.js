"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[1114],{97301:(en,nt,c)=>{c.d(nt,{l:()=>s});var l=c(98739),V=c(96308),y=c(53626),$=c(68745),z=c(17489),D=c(24006),W=c(15439),A=c(54298),L=c(31361),Y=c(24850),H=c(80013),N=c(1059),J=c(22868),rt=c(95017),G=c(35226),M=c.n(G),at=c(3832),q=c(18206),I=c(36895),t=c(94650),gt=c(91013),Mt=c(52688),tt=c(89383),st=c(65938),vt=c(84130),mt=c(9035),Ot=c(50777),yt=c(44758),Tt=c(3238),_t=c(22437),Et=c(67154),ht=c(4859),X=c(56709),ct=c(99602),et=c(97392),ft=c(59549),it=c(284),Q=c(96338),pt=c(28255),dt=c(51572),lt=c(10266),xt=c(30277),Ct=c(24784),ot=c(75223),bt=c(610);const Pt=["checkBox"];function St(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.inboxCount," ")}}function wt(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.ccCount," ")}}function Dt(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.importantCount," ")}}const It=function(e){return[e]};function Bt(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"a",42),t.\u0275\u0275element(1,"i",43),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,St,3,1,"span",44),t.\u0275\u0275template(5,wt,3,1,"span",44),t.\u0275\u0275template(6,Dt,3,1,"span",44),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit,o=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass","mail-type-"+n.key)("routerLink",t.\u0275\u0275pureFunction1(9,It,"/"+n.state)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",n.icon),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,7,n.name)," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","inbox"===n.key&&o.inboxCount),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===n.key&&o.ccCount),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===n.key&&o.importantCount)}}function kt(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",38)(1,"div",39)(2,"mat-list"),t.\u0275\u0275template(3,Bt,7,11,"a",40),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(4,"div",41),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",n.mailCategories)}}function Lt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.sendMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Compose")),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Compose")," ")}}function Rt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.sendUrgentMessage())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Urgent message")),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Urgent message")," ")}}function Ft(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.getMailbox())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Get new emails")),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Get new emails")," ")}}function At(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.onDeleteMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Delete")),t.\u0275\u0275property("disabled",n.isWaitingForResponse||!1===n.countSelected||!1===n.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Delete")," ")}}function Vt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.mailMoveTo("important"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Important")),t.\u0275\u0275property("disabled",n.isWaitingForResponse||!1===n.countSelected||"inbox"!==n.selectedMailCategory&&n.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Important")," ")}}function Ut(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",52),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"span",53),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"mat-icon",54),t.\u0275\u0275text(7,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"mat-menu",null,55),t.\u0275\u0275template(10,Lt,4,7,"button",56),t.\u0275\u0275template(11,Rt,4,7,"button",56),t.\u0275\u0275template(12,Ft,4,7,"button",56),t.\u0275\u0275template(13,At,4,7,"button",56),t.\u0275\u0275template(14,Vt,4,7,"button",56),t.\u0275\u0275elementStart(15,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.mailMoveTo("inbox"))}),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&e){const n=t.\u0275\u0275reference(9),o=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(2,12,"Action")," "),t.\u0275\u0275property("disabled",o.isWaitingForResponse)("matMenuTriggerFor",n),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,14,"Action")),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",o.permissionService.composeActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.permissionService.urgentMessageActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.permissionService.downloadMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(16,16,"MailBox.REMOVE IMPORTANT")),t.\u0275\u0275property("disabled",o.isWaitingForResponse||!1===o.countSelected||"important"!==o.selectedMailCategory),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,18,"MailBox.REMOVE IMPORTANT")," ")}}function Wt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",46)(1,"div",47)(2,"div",48)(3,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.resetFilter())}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275element(5,"mat-icon",50),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,Ut,19,20,"ng-container",51),t.\u0275\u0275elementEnd()()()}if(2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,4,"Reset Filter")),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(7,6,"RESET")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","cc"!==n.selectedMailCategory)}}function Nt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",58)(1,"mat-checkbox",59),t.\u0275\u0275listener("change",function(r){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r?m.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.showOptions())}),t.\u0275\u0275elementEnd()()}if(2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&n.isAllSelected())("aria-label",n.checkboxLabel())}}function $t(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(r){return r.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext().$implicit,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.selection.toggle(r))})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.showOptions())}),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",o.selection.isSelected(n)||null!=n&&n.is_already_read||"inbox"!==o.selectedMailCategory?"":"unread")("checked",o.selection.isSelected(n))("aria-label",o.checkboxLabel(n))}}function Kt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(r){return r.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext().$implicit,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.selection.toggle(r))})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.showOptions())}),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",o.selection.isSelected(n)||null!=n&&n.is_already_read||"cc"!==o.selectedMailCategory?"":"unread")("checked",o.selection.isSelected(n))("aria-label",o.checkboxLabel(n))}}function jt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(r){return r.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext().$implicit,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.selection.toggle(r))})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.showOptions())}),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",o.selection.isSelected(n)||null!=n&&n.is_already_read||"important"!==o.selectedMailCategory?"":"unread")("checked",o.selection.isSelected(n))("aria-label",o.checkboxLabel(n))}}function Gt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",66,65),t.\u0275\u0275listener("click",function(r){return r.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext().$implicit,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.selection.toggle(r))})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.showOptions())}),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275property("checked",o.selection.isSelected(n))("aria-label",o.checkboxLabel(n))}}function zt(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span",67),t.\u0275\u0275element(1,"i",68),t.\u0275\u0275elementEnd())}function Ht(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,$t,2,3,"mat-checkbox",61),t.\u0275\u0275template(2,Kt,2,3,"mat-checkbox",61),t.\u0275\u0275template(3,jt,2,3,"mat-checkbox",61),t.\u0275\u0275template(4,Gt,2,2,"mat-checkbox",62),t.\u0275\u0275template(5,zt,2,0,"span",63),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"===o.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===o.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===o.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"===o.selectedMailCategory||"draft"===o.selectedMailCategory||"sent"===o.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1==n.is_urgent_mail)}}function Yt(e,a){1&e&&t.\u0275\u0275element(0,"th",58)}function Qt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",58)(1,"mat-form-field",69)(2,"input",70),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(r.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",71)(5,"mat-datepicker",null,72),t.\u0275\u0275elementEnd()()}if(2&e){const n=t.\u0275\u0275reference(6),o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"Select a date")),t.\u0275\u0275property("matDatepicker",n)("formControl",o.dateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",n)}}function Zt(e,a){1&e&&t.\u0275\u0275element(0,"th",58)}function Xt(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",74)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",n.fromFilter)}}function Jt(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275template(1,Xt,4,4,"div",73),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!=n.selectedMailCategory)}}function qt(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",74)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",n.toFilter)}}function te(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275template(1,qt,4,4,"div",73),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"!=n.selectedMailCategory)}}function ee(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"th",58)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",n.subjectFilter)}}function ne(e,a){1&e&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.date")))}function ie(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",77),t.\u0275\u0275listener("click",function(){const r=t.\u0275\u0275restoreView(n),m=r.$implicit,g=r.index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.onSelectMessage(m,g))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&e){const n=a.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind2(1,2,null!=n&&n.date?n.date:n.created_at,"dd/MM/yyyy")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,5,null!=n&&n.date?n.date:n.created_at,"dd/MM/yyyy")," ")}}function ae(e,a){1&e&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.time")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.time")))}function le(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",77),t.\u0275\u0275listener("click",function(){const r=t.\u0275\u0275restoreView(n),m=r.$implicit,g=r.index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.onSelectMessage(m,g))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&e){const n=a.$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",o.translateTime(t.\u0275\u0275pipeBind2(1,2,null!=n&&n.date?n.date:n.created_at,"H:mm"))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",o.translateTime(t.\u0275\u0275pipeBind2(3,5,null!=n&&n.date?n.date:n.created_at,"H:mm"))," ")}}function oe(e,a){1&e&&(t.\u0275\u0275elementStart(0,"th",78),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.from")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.from")))}function re(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",79),t.\u0275\u0275listener("click",function(){const r=t.\u0275\u0275restoreView(n),m=r.$implicit,g=r.index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.onSelectMessage(m,g))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=a.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.last_name)," ",null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.first_name," ",null!=n&&null!=n.sender_property&&null!=n.sender_property.sender&&n.sender_property.sender.civility&&"neutral"===(null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.last_name)," ",null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.first_name," ",null!=n&&null!=n.sender_property&&null!=n.sender_property.sender&&n.sender_property.sender.civility&&"neutral"===(null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.civility)," ")}}function se(e,a){1&e&&(t.\u0275\u0275elementStart(0,"th",80),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.to")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.to")))}function ce(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(),m=r.$implicit,g=r.index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.onSelectMessage(m,g))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].last_name)," ",null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].first_name," ",null!=n&&null!=n.recipient_properties[0]&&null!=n.recipient_properties[0].recipients[0]&&n.recipient_properties[0].recipients[0].civility&&"neutral"===(null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(2,8,null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].last_name)," ",null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].first_name," ",null!=n&&null!=n.recipient_properties[0]&&null!=n.recipient_properties[0].recipients[0]&&n.recipient_properties[0].recipients[0].civility&&"neutral"===(null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(5,12,null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].civility)," ")}}function pe(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2),m=r.$implicit,g=r.index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.onSelectMessage(m,g))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate2("matTooltip","",t.\u0275\u0275pipeBind1(1,4,"Mail_All")," ",t.\u0275\u0275pipeBind1(2,6,"USER_TYPES."+n.group_detail.user_types[0].name),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(4,8,"Mail_All")," ",t.\u0275\u0275pipeBind1(5,10,"USER_TYPES."+n.group_detail.user_types[0].name)," ")}}function me(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,pe,6,12,"span",81),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n||null==n.group_detail?null:n.group_detail.user_types)&&(null==n||null==n.group_detail?null:n.group_detail.user_types.length))}}function _e(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function de(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2),m=r.$implicit,g=r.index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.onSelectMessage(m,g))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,_e,2,0,"span",51),t.\u0275\u0275elementEnd()}if(2&e){const n=a.$implicit,o=a.last;t.\u0275\u0275propertyInterpolate("matTooltip",n),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!o)}}function ue(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,de,3,3,"span",83),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==n||null==n.recipient_properties[0]?null:n.recipient_properties[0].recipients_email)}}function Z(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,ce,6,14,"span",81),t.\u0275\u0275template(2,me,2,1,"span",51),t.\u0275\u0275template(3,ue,2,1,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=n&&n.user_type_selection)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n?null:n.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients_email?null:n.recipient_properties[0].recipients_email.length)}}function ge(e,a){1&e&&(t.\u0275\u0275elementStart(0,"th",84),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.composeMail.subject")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.composeMail.subject")))}function x(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",85),t.\u0275\u0275listener("click",function(){const r=t.\u0275\u0275restoreView(n),m=r.$implicit,g=r.index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.onSelectMessage(m,g))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&e){const n=a.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==n?null:n.subject),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==n?null:n.subject," ")}}function T(e,a){1&e&&(t.\u0275\u0275elementStart(0,"th",86)(1,"div",87),t.\u0275\u0275element(2,"mat-spinner",88),t.\u0275\u0275elementEnd()())}function p(e,a){1&e&&t.\u0275\u0275element(0,"tr",89)}function _(e,a){1&e&&t.\u0275\u0275element(0,"tr",89)}function d(e,a){1&e&&t.\u0275\u0275element(0,"tr",89)}function u(e,a){if(1&e&&t.\u0275\u0275element(0,"tr",90),2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!n.isWaitingForResponse)}}function h(e,a){if(1&e&&t.\u0275\u0275element(0,"tr",91),2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",n.isWaitingForResponse)}}function b(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",92),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No Mail Data")," "))}function O(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.OpenMailPopupRequest(r.viewMessageData,"reply-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()}2&e&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply"))}function w(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.OpenMailPopupRequest(r.viewMessageData,"reply-all"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()}2&e&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply_all"))}function E(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.OpenMailPopupRequest(r.viewMessageData,"foward-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",117),t.\u0275\u0275elementEnd()}2&e&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.forward"))}function B(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",68),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"MailBox.URGENT_MESSAGE")," "))}function S(e,a){1&e&&(t.\u0275\u0275elementStart(0,"button",118),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",119),t.\u0275\u0275elementEnd()),2&e&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function U(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.onPreviousMessage(r.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",119),t.\u0275\u0275elementEnd()}2&e&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function f(e,a){1&e&&(t.\u0275\u0275elementStart(0,"button",118),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",120),t.\u0275\u0275elementEnd()),2&e&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function v(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.onNextMessage(r.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",120),t.\u0275\u0275elementEnd()}2&e&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function ut(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==n.viewMessageData?null:n.viewMessageData.subject)}}function he(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,n.subjectTranslated)," ",n.resWordMessage,"")}}function fe(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",121),t.\u0275\u0275template(1,ut,2,1,"b",122),t.\u0275\u0275template(2,he,3,4,"ng-template",null,123,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275reference(3),o=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!o.translatedSubject)("ngIfElse",n)}}function xe(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,4,null==n.viewMessageData||null==n.viewMessageData.sender_property||null==n.viewMessageData.sender_property.sender?null:n.viewMessageData.sender_property.sender.last_name)," ",null==n.viewMessageData||null==n.viewMessageData.sender_property||null==n.viewMessageData.sender_property.sender?null:n.viewMessageData.sender_property.sender.first_name," ",null!=n.viewMessageData&&null!=n.viewMessageData.sender_property&&null!=n.viewMessageData.sender_property.sender&&n.viewMessageData.sender_property.sender.civility&&"neutral"===(null==n.viewMessageData||null==n.viewMessageData.sender_property||null==n.viewMessageData.sender_property.sender?null:n.viewMessageData.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(3,6,null==n.viewMessageData||null==n.viewMessageData.sender_property||null==n.viewMessageData.sender_property.sender?null:n.viewMessageData.sender_property.sender.civility)," - (",null==n.viewMessageData||null==n.viewMessageData.sender_property||null==n.viewMessageData.sender_property.sender?null:n.viewMessageData.sender_property.sender.email,") ")}}function Ce(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span")(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,2,"Mail_All")," ",t.\u0275\u0275pipeBind1(4,4,"USER_TYPES."+n.typeName)," ")}}function be(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==n?null:n.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==n||null==n.recipients[0]?null:n.recipients[0].last_name)," ",null==n||null==n.recipients[0]?null:n.recipients[0].first_name," ",null!=n&&null!=n.recipients[0]&&n.recipients[0].civility&&"neutral"===(null==n||null==n.recipients[0]?null:n.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==n||null==n.recipients[0]?null:n.recipients[0].civility)," - (",null==n||null==n.recipients[0]?null:n.recipients[0].email,") ")}}function Me(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function ve(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,be,4,9,"span",126),t.\u0275\u0275template(2,Me,2,0,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("title",null==o?null:o.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==o?null:o.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r<m.recpList.length-1)}}function Oe(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,ve,3,3,"span",126),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n?null:n.rank)}}function ye(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function Te(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275text(1),t.\u0275\u0275template(2,ye,2,0,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit,o=a.last;t.\u0275\u0275propertyInterpolate("matTooltip",n),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!o)}}function Ee(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Te,3,3,"span",128),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==n.viewMessageData||null==n.viewMessageData.recipient_properties[0]?null:n.viewMessageData.recipient_properties[0].recipients_email)}}function Pe(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Oe,2,1,"span",125),t.\u0275\u0275template(2,Ee,2,1,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n.recpList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.viewMessageData||null==n.viewMessageData.recipient_properties[0]||null==n.viewMessageData.recipient_properties[0].recipients_email?null:n.viewMessageData.recipient_properties[0].recipients_email.length)}}function Se(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Ce,5,6,"span",51),t.\u0275\u0275template(5,Pe,3,2,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.to")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==n.viewMessageData?null:n.viewMessageData.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=n.viewMessageData&&n.viewMessageData.user_type_selection))}}function we(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",130)(2,"button",131),t.\u0275\u0275element(3,"i",132),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"label"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",133),t.\u0275\u0275listener("click",function(){const m=t.\u0275\u0275restoreView(n).$implicit,g=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(g.downloadFile(m))}),t.\u0275\u0275element(7,"i",134),t.\u0275\u0275elementEnd()()()}if(2&e){const n=a.$implicit;t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(null==n?null:n.file_name)}}function De(e,a){if(1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,we,8,1,"div",125),t.\u0275\u0275elementContainerEnd()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"Attachment")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==n.viewMessageData?null:n.viewMessageData.file_attachments)}}function Ie(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==n?null:n.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==n?null:n.recipients[0].last_name)," ",null==n?null:n.recipients[0].first_name," ",null!=n&&null!=n.recipients[0]&&n.recipients[0].civility&&"neutral"===(null==n||null==n.recipients[0]?null:n.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==n||null==n.recipients[0]?null:n.recipients[0].civility)," - (",null==n||null==n.recipients[0]?null:n.recipients[0].email,") ")}}function Be(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function ke(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,Ie,4,9,"span",126),t.\u0275\u0275template(2,Be,2,0,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==o?null:o.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==o||null==o.recipients?null:o.recipients.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r<m.ccList.length-1)}}function Le(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,ke,3,3,"span",126),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n?null:n.rank)}}function Re(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function Fe(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Re,2,0,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit,o=a.last;t.\u0275\u0275propertyInterpolate("matTooltip",n),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!o)}}function Ae(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Fe,3,3,"span",128),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==n.viewMessageData||null==n.viewMessageData.recipient_properties[1]?null:n.viewMessageData.recipient_properties[1].recipients_email)}}function Ve(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Le,2,1,"span",125),t.\u0275\u0275template(5,Ae,2,1,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.composeMail.cc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.ccList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.viewMessageData||null==n.viewMessageData.recipient_properties[1]||null==n.viewMessageData.recipient_properties[1].recipients_email?null:n.viewMessageData.recipient_properties[1].recipients_email.length)}}function Ue(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==n?null:n.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==n?null:n.recipients[0].last_name)," ",null==n?null:n.recipients[0].first_name," ",null!=n&&null!=n.recipients[0]&&n.recipients[0].civility&&"neutral"===(null==n||null==n.recipients[0]?null:n.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==n||null==n.recipients[0]?null:n.recipients[0].civility)," - (",null==n||null==n.recipients[0]?null:n.recipients[0].email,") ")}}function We(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function Ne(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,Ue,4,9,"span",126),t.\u0275\u0275template(2,We,2,0,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==o?null:o.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==o||null==o.recipients?null:o.recipients.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r<m.bccList.length-1)}}function $e(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Ne,3,3,"span",126),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n?null:n.rank)}}function Ke(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,$e,2,1,"span",125),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"MailBox.composeMail.bcc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.bccList)}}function je(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit,o=a.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",n.short_name,"",0===o?"":","," ")}}function Ge(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",135)(1,"div",136)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,je,2,2,"span",125),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"RNCP Titles")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==n.viewMessageData||null==n.viewMessageData.group_detail?null:n.viewMessageData.group_detail.rncp_titles)}}function ze(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit,o=a.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",n.name,"",0===o?"":","," ")}}function He(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",137)(1,"div",136)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,ze,2,2,"span",125),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"UserType")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==n.viewMessageData||null==n.viewMessageData.group_detail?null:n.viewMessageData.group_detail.user_types)}}function Ye(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",138),t.\u0275\u0275element(1,"div",136),t.\u0275\u0275elementEnd())}function Qe(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",93)(1,"div",94)(2,"div",95),t.\u0275\u0275template(3,O,3,3,"button",96),t.\u0275\u0275template(4,w,3,3,"button",96),t.\u0275\u0275template(5,E,3,3,"button",96),t.\u0275\u0275elementStart(6,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.openDialog(r.viewMessageData))}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275element(8,"i",98),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,B,4,3,"span",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",99),t.\u0275\u0275template(11,S,3,3,"button",100),t.\u0275\u0275template(12,U,3,3,"button",96),t.\u0275\u0275template(13,f,3,3,"button",101),t.\u0275\u0275template(14,v,3,3,"button",96),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",102)(16,"div",103),t.\u0275\u0275template(17,fe,4,2,"div",104),t.\u0275\u0275element(18,"hr"),t.\u0275\u0275elementStart(19,"span",105),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"titlecase"),t.\u0275\u0275pipe(22,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",106)(24,"label",107),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,xe,4,8,"span",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(28,Se,6,5,"div",108),t.\u0275\u0275template(29,De,5,4,"ng-container",51),t.\u0275\u0275template(30,Ve,6,5,"div",108),t.\u0275\u0275template(31,Ke,5,4,"div",108),t.\u0275\u0275template(32,Ge,6,4,"div",109),t.\u0275\u0275template(33,He,6,4,"div",110),t.\u0275\u0275template(34,Ye,2,0,"div",111),t.\u0275\u0275element(35,"hr"),t.\u0275\u0275elementStart(36,"div",112)(37,"div",113),t.\u0275\u0275element(38,"p",114)(39,"br")(40,"br"),t.\u0275\u0275elementEnd()()()()}if(2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","sent"!==n.selectedMailCategory&&"trash"!==n.selectedMailCategory&&"draft"!==n.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!==n.selectedMailCategory&&"trash"!==n.selectedMailCategory&&"draft"!==n.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"!==n.selectedMailCategory&&"draft"!==n.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(7,22,"MailBox.emailDetails.delete")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",1==n.viewMessageData.is_urgent_mail),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.checkIsNextBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.checkIsNextBtnShow()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==n.viewMessageData?null:n.viewMessageData.subject),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",null!=n.viewMessageData&&n.viewMessageData.created_at?t.\u0275\u0275pipeBind1(21,24,n.momentlang(null==n.viewMessageData?null:n.viewMessageData.created_at)):""," ",null!=n.viewMessageData&&n.viewMessageData.created_at?n.translateTime(t.\u0275\u0275pipeBind2(22,26,null==n.viewMessageData?null:n.viewMessageData.created_at,"H:mm")):""," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(26,29,"MailBox.from")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==n.viewMessageData||null==n.viewMessageData.sender_property?null:n.viewMessageData.sender_property.sender),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.recpList?null:n.recpList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.viewMessageData?null:n.viewMessageData.file_attachments)&&(null==n.viewMessageData?null:n.viewMessageData.file_attachments.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.ccList?null:n.ccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.bccList?null:n.bccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===n.selectedMailCategory&&(null==n.viewMessageData?null:n.viewMessageData.is_group_parent)&&(null==n.viewMessageData||null==n.viewMessageData.group_detail||null==n.viewMessageData.group_detail.rncp_titles?null:n.viewMessageData.group_detail.rncp_titles.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===n.selectedMailCategory&&(null==n.viewMessageData?null:n.viewMessageData.is_group_parent)&&(null==n.viewMessageData||null==n.viewMessageData.group_detail||null==n.viewMessageData.group_detail.user_types?null:n.viewMessageData.group_detail.user_types.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.ccList?null:n.ccList.length)>0),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("innerHTML",n.getMessage(null==n.viewMessageData?null:n.viewMessageData.message),t.\u0275\u0275sanitizeHtml)}}const Ze=function(){return["reset"]},Xe=function(){return["loading"]},Je=function(e){return{hide:e}},qe=function(e){return{"hide-pagination-buttons":e}},i=function(){return[10]};let s=(()=>{class e{constructor(n,o,r,m,g,C,P,R,F,j,nn){this.mailboxService=n,this.userService=o,this.translate=r,this.dialog=m,this.permissions=g,this.certificationRuleService=C,this.rncpTitlesService=P,this.permissionService=R,this.dateAdapter=F,this.filterBreadCrumbService=j,this.pageTitleService=nn,this.isTeacherCard=!1,this.inbox=!1,this.cc=!0,this.important=!1,this.draft=!1,this.trash=!1,this.sent=!1,this.isWaitingForResponse=!1,this.IsReplyBtn=!1,this.IsReplyAllBtn=!1,this.IsForwardBtn=!1,this.IsDeleteBtn=!1,this.IsImportantBtn=!1,this.IsMovetoInboxBtn=!1,this.hideResetButton=!1,this.alreadyRead=!1,this.isSearching=!1,this.selectedMails=[],this.mailList=[],this.mailSelected=[],this.checked=[],this.isChecked=!1,this.selection=new rt.Ov(!0,[]),this.config={disableClose:!0,width:"800px"},this.urgentMessageConfig={disableClose:!0,width:"600px"},this.configCertificatioRule={disableClose:!0},this.dataSource=new y.by([]),this.displayedColumns=["select","created_at","timeTable","from","to","subject"],this.filterColumns=["selectFilter","createdAtFilter","timeTableFilter","fromFilter","toFilter","subjectFilter"],this.subs=new $.Y,this.isReset=!1,this.inboxCount=0,this.ccCount=0,this.importantCount=0,this.dataLoaded=!1,this.viewBcc=!1,this.sortEmail="asc",this.sortFrom="asc",this.sortTo="asc",this.sortStatus="asc",this.dateFilter=new D.UntypedFormControl(""),this.fromFilter=new D.UntypedFormControl(""),this.toFilter=new D.UntypedFormControl(""),this.subjectFilter=new D.UntypedFormControl(""),this.lightningFilter=new D.UntypedFormControl(""),this.titleFilterList=[],this.isWaitRecipientGroup=!1,this.filterBreadcrumbData=[],this.filteredValues={date:"",from:"",to:"",subject:""},this.filteredValuesDate={date:""},this.isOPERATORDir=!1,this.isOPERATORAdmin=!1,this.mailsList=[],this.getCountOfCC=[],this.recpList=[],this.ccList=[],this.bccList=[],this.selectedMailCategory="cc"}ngOnInit(){this.dateAdapter.setLocale(this.translate.currentLang),this.subs.sink=this.translate.onLangChange.subscribe(n=>{this.dateAdapter.setLocale(this.translate.currentLang)}),this.currentUser=this.userService.getLocalStorageUser(),this.isOPERATORAdmin=!!this.permissions.getPermission("operator_admin"),this.isOPERATORDir=!!this.permissions.getPermission("operator_dir"),this.countSelected=!1,this.sortValue={latest_email:"asc"},this.getMailbox(),this.permissions.getPermission("Student")&&this.getCertificationRule(),this.initMail(),this.isTeacherCard||this.pageTitleService.setTitle("CC")}ngOnChanges(n){this.userId&&this.resetFilter()}getMailbox(){this.isWaitingForResponse=!0;const m={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex},g=this.cleanFilterData();this.userId=this.userId?this.userId:this.currentUser?._id,this.getMainMailBox(m,this.sortValue,"inbox",!0,g,"cc_bcc",this.userId)}getMainMailBox(n,o,r,m,g,C,P){this.subs.sink=this.mailboxService.getMainMail(n,o,r,m,g,C,P||null).subscribe(F=>{this.isReset=!1,this.isWaitingForResponse=!1,F&&F.length>0?(F.forEach((j,nn)=>{j.recipient_properties.forEach(tn=>{tn.recipients.forEach(an=>{an.email===this.currentUser.email&&(j.is_already_read=!0===tn.is_read)})})}),this.dataSource.data=F,this.dataSource.sort=this.sort,this.mailList=F,this.ccCount=F[0]?F[0].count_not_read:0,this.paginator.length=F[0]?F[0].count_document:0):(this.dataSource.data=[],this.paginator.length=0,this.isWaitingForResponse=!1),this.filterBreadcrumbData=[],this.filterBreadcrumbFormat(),this.noData=this.dataSource.connect().pipe((0,Y.U)(j=>0===j.length))},F=>{this.filterBreadcrumbData=[],this.filterBreadcrumbFormat(),this.dataSource.data=[],this.paginator.length=0,this.isWaitingForResponse=!1,this.userService.postErrorLog(F),this.noData=this.dataSource.connect().pipe((0,Y.U)(j=>0===j.length)),M().fire({type:"info",title:this.translate.instant("SORRY"),text:F&&F.message?this.translate.instant(F.message.replaceAll("GraphQL error: ","")):F,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(n=>this.selection.select(n))}checkboxLabel(n){return n?`${this.selection.isSelected(n)?"deselect":"select"} row ${n.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){const n=this.selection.selected.length,o=this.dataSource.data?this.dataSource.data.length:null,r=this.selection.selected;return this.mailSelected=[],r.forEach(m=>{this.mailSelected.push(m._id)}),n===o}getFileName(n){return n?n.substring(n.lastIndexOf("/")+1):""}downloadFile(n){const o=document.createElement("a");o.target="_blank",o.href=n.path,o.download=n.file_name,o.click(),o.remove()}getRecipientFullName(n){let r;return n?(r=n.filter(m=>m.recipients[0].email===this.currentUser.email),r&&r.length?r[0]:""):""}initMail(){this.subs.sink=this.dateFilter.valueChanges.subscribe(n=>{const o=W(n).format("DD/MM/YYYY");this.filteredValues.date=n,this.filteredValuesDate.date=n?o:null,this.paginator.pageIndex=0,this.isReset||this.getMailbox()}),this.subs.sink=this.fromFilter.valueChanges.pipe((0,H.b)(400)).subscribe(n=>{if(""!==this.fromFilter.value){const o=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,r=/\\/;if(n.match(o)||n.match(r)){const m=n.replace(o,"");this.fromFilter.setValue(m)}else this.filteredValues.from=n||"",this.paginator.pageIndex=0,this.isReset||this.getMailbox()}else this.filteredValues.from="",this.paginator.pageIndex=0,this.isReset||this.getMailbox()}),this.subs.sink=this.toFilter.valueChanges.pipe((0,H.b)(400)).subscribe(n=>{if(""!==this.toFilter.value){const o=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,r=/\\/;if(n.match(o)||n.match(r)){const m=n.replace(o,"");this.toFilter.setValue(m)}else this.filteredValues.to=n||"",this.paginator.pageIndex=0,this.isReset||this.getMailbox()}else this.filteredValues.to="",this.paginator.pageIndex=0,this.isReset||this.getMailbox()}),this.subs.sink=this.subjectFilter.valueChanges.pipe((0,H.b)(400)).subscribe(n=>{if(""!==this.subjectFilter.value){const o=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,r=/\\/;if(n.match(o)||n.match(r)){const m=n.replace(o,"");this.subjectFilter.setValue(m)}else this.filteredValues.subject=n||"",this.paginator.pageIndex=0,this.isReset||this.getMailbox()}else this.filteredValues.subject="",this.paginator.pageIndex=0,this.isReset||this.getMailbox()}),this.mailCategories=this.mailboxService.getMailCategories()}sortData(n){this.sortValue=n.active?{[n.active]:n.direction?n.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getMailbox())}cleanFilterData(){const n=z.cloneDeep(this.filteredValues);let o="";return Object.keys(n).forEach(r=>{n[r]&&(o+=` ${r}:"${n[r]}"`)}),o}sendMail(){this.sendMailDialogComponent=this.dialog.open(A.U,this.config),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(n=>{this.isReset||this.getMailbox(),this.sendMailDialogComponent=null})}sendUrgentMessage(){this.urgentMessageDialogComponent=this.dialog.open(at.x,this.urgentMessageConfig)}sendMailToGroup(){this.mailToGroupDialogComponent=this.dialog.open(L.C,this.config)}resetFilter(){this.isReset=!0,this.filteredValues={date:"",from:"",to:"",subject:""},this.filteredValuesDate={date:""},this.filterBreadcrumbData=[],this.sort.direction="",this.sort.active="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=this.sortValue={latest_email:"asc"},this.dataSource.data=[],this.paginator.pageIndex=0,this.dateFilter.setValue(""),this.subjectFilter.setValue(""),this.fromFilter.setValue(""),this.toFilter.setValue(""),this.selection.clear(),this.getMailbox()}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe(),this.dataSource.data=[],this.isTeacherCard||this.pageTitleService.setTitle(null)}changePage(n){this.isReset||this.getMailbox()}updateToReadFlag(n,o){const r=z.cloneDeep(this.viewMessageData);delete r.$$index,delete r.is_already_read;let m={},g=!1;const C=[];if(C.push(r._id),r.recipient_properties&&r.recipient_properties.forEach(P=>{P.recipients.forEach(R=>{!1===P.is_read&&(R.email===this.currentUser.email||R.email===this.currentUser.email)&&(r.recipient_properties[0].is_read=!0,g=!0,m={is_read:!0},r.recipient_properties.recipients=[R])})}),g){if(0===o||o){const P=z.cloneDeep(this.dataSource.data);P[o]&&(P[o].is_already_read=!0,this.dataSource.data=P)}this.subs.sink=this.mailboxService.updateMultipleMailRecipient(C,m).subscribe(P=>{0===o||o||this.isReset||this.getMailbox()},P=>{this.userService.postErrorLog(P),M().fire({type:"info",title:this.translate.instant("SORRY"),text:P&&P.message?this.translate.instant(P.message.replaceAll("GraphQL error: ","")):P,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}onSelectMessage(n,o){if(this.viewMessageData=n,n.user_type_selection?(this.getRecipientName(n),this.isWaitRecipientGroup=!0):this.isWaitRecipientGroup=!1,this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[],this.getCountOfCC=n.recipient_properties,n.is_group_parent){const r=this.getRecipientFullName(n.recipient_properties);this.recpList.push(r)}else this.getCountOfCC&&this.getCountOfCC.length&&this.getCountOfCC.forEach((r,m)=>{null!=r.rank?("a"===r.rank&&this.recpList.push(r),"cc"===r.rank&&(this.ccList.push(r),r.recipients.forEach(g=>{})),this.viewBcc&&"c"===r.rank&&this.bccList.push(r),r.recipients.forEach(g=>{"c"===r.rank&&g.email===this.currentUser.email&&this.recpList.push(r)})):(n.recipient_properties[0].rank="a",this.recpList.push(n.recipient_properties[0]))});this.viewMessageData.$$index=o,this.updateToReadFlag(n._id,o)}onPreviousMessage(n){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const o=this.viewMessageData.$$index-1;this.viewMessageData=this.mailList[o],this.viewMessageData.$$index=o,this.getCountOfCC=this.mailList[o].recipient_properties,this.getCountOfCC.forEach((r,m)=>{null!=r.rank?("a"===r.rank&&this.recpList.push(r),"cc"===r.rank&&(this.ccList.push(r),r.recipients.forEach(g=>{})),this.viewBcc&&"c"===r.rank&&this.bccList.push(r),r.recipients.forEach(g=>{"c"===r.rank&&g.email===this.currentUser.email&&this.recpList.push(r)})):(n.recipient_properties[0].rank="a",this.recpList.push(n.recipient_properties[0]))})}onNextMessage(n){if(this.viewMessageData&&this.viewMessageData.$$index+1<this.mailList.length){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const o=this.viewMessageData.$$index+1;this.viewMessageData=this.mailList[o],this.viewMessageData.$$index=o,this.getCountOfCC=this.mailList[o].recipient_properties,this.getCountOfCC.forEach((r,m)=>{null!=r.rank?("a"===r.rank&&this.recpList.push(r),"cc"===r.rank&&(this.ccList.push(r),r.recipients.forEach(g=>{})),this.viewBcc&&"c"===r.rank&&this.bccList.push(r),r.recipients.forEach(g=>{"c"===r.rank&&g.email===this.currentUser.email&&this.recpList.push(r)})):(n.recipient_properties[0].rank="a",this.recpList.push(n.recipient_properties[0]))}),this.updateToReadFlag(this.viewMessageData._id)}}checkIsPreviousBtnShow(){return 0!==this.viewMessageData.$$index}checkIsNextBtnShow(){return this.viewMessageData.$$index!==this.mailList.length-1}OpenMailPopupRequest(n,o){this.config.data={},this.sendMailDialogComponent=this.dialog.open(A.U,this.config),this.sendMailDialogComponent.componentInstance.tags=[o],this.sendMailDialogComponent.componentInstance.currentMailData=n,"sent"===this.selectedMailCategory&&(this.sendMailDialogComponent.componentInstance.isSenderReq=!1),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(r=>{"updateMailList"===r&&(this.isReset||this.getMailbox()),this.sendMailDialogComponent=null})}openDialog(n){const m={mail_type:"trash"};let g=3;M().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:g}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{M().disableConfirmButton();const C=M().getConfirmButton(),P=setInterval(()=>{g-=1,C.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+g+" sec"},1e3);this.timeOutVal=setTimeout(()=>{C.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),M().enableConfirmButton(),clearInterval(P),clearTimeout(this.timeOutVal)},1e3*g)}}).then(C=>{if(clearTimeout(this.timeOutVal),C.value){this.viewMessageData=[];const P=[];P.push(n._id),this.subs.sink=this.mailboxService.updateMultipleMailRecipient(P,m).subscribe(R=>{M().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getMailbox()},R=>{this.userService.postErrorLog(R),M().fire({type:"info",title:this.translate.instant("SORRY"),text:R&&R.message?this.translate.instant(R.message.replaceAll("GraphQL error: ","")):R,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}})}onDeleteMail(){const n={mail_type:"trash"};let m=3;M().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:m}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{M().disableConfirmButton();const g=M().getConfirmButton(),C=setInterval(()=>{m-=1,g.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+m+" sec"},1e3);this.timeOutVal=setTimeout(()=>{g.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),M().enableConfirmButton(),clearInterval(C),clearTimeout(this.timeOutVal)},1e3*m)}}).then(g=>{clearTimeout(this.timeOutVal),g.value&&(this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailRecipient(this.mailSelected,n).subscribe(C=>{M().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getMailbox()},C=>{this.userService.postErrorLog(C),M().fire({type:"info",title:this.translate.instant("SORRY"),text:C&&C.message?this.translate.instant(C.message.replaceAll("GraphQL error: ","")):C,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}receiveEmail(){this.isReset||this.getMailbox()}mailMoveTo(n){const o={mail_type:n};this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailRecipient(this.mailSelected,o).subscribe(r=>{this.isReset||this.getMailbox()},r=>{this.userService.postErrorLog(r),M().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showOptions(){this.countSelected=this.selection.selected.length>0}getMessage(n){return n?(n&&n.includes("<table>")&&(n=n.replaceAll("<table>",'<table class="notif-table full-width" border="1">')),n&&n.includes("<a")&&n&&!n.includes("target")&&(n=n.replaceAll("<a",'<a target="blank" class="blue-link-format"')),n):""}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(n=>{n&&n.length&&(this.subs.sink=this.dialog.open(q.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:n}).afterClosed().subscribe(o=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(r=>{r&&r.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(q.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:r}))},r=>{this.userService.postErrorLog(r),M().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))},n=>{this.userService.postErrorLog(n),M().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCertificationRule(){const n=this.userService.getLocalStorageUser(),o=n.entities[0].assigned_rncp_title._id,r=n.entities[0].class._id,m=n._id;this.subs.sink=this.rncpTitlesService.getRncpTitleById(o).subscribe(g=>{this.selectedRncpTitleName=g.short_name,this.selectedRncpTitleLongName=g.long_name}),this.subs.sink=this.certificationRuleService.getCertificationRuleSentWithStudent(o,r,m).subscribe(g=>{g||this.getUrgentMail()},g=>{this.userService.postErrorLog(g),M().fire({type:"info",title:this.translate.instant("SORRY"),text:g&&g.message?this.translate.instant(g.message.replaceAll("GraphQL error: ","")):g,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getRecipientName(n){n.group_detail.rncp_titles&&n.group_detail.rncp_titles.length&&(this.subs.sink=this.mailboxService.getOneTitle(n.group_detail.rncp_titles[0]._id).subscribe(o=>{o&&(this.titleName=o.short_name)},o=>{this.userService.postErrorLog(o),M().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),n.group_detail.user_types&&n.group_detail.user_types.length&&(this.subs.sink=this.mailboxService.getOneUserTypes(n.group_detail.user_types[0]._id).subscribe(o=>{o&&(this.typeName=o.name)},o=>{this.userService.postErrorLog(o),M().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.isWaitRecipientGroup=!1}showCertificationRule(n,o){}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,N.O)(null),(0,J.b)(()=>{this.isReset||this.getMailbox(),this.dataLoaded=!0})).subscribe()}momentlang(n){const o=W(n).format("DD/MM/YYYY");if("object"==typeof o){const r=new Date(o.year,o.month,o.date,o.hour,o.minute);return this.datePipe=new I.uU(this.translate.currentLang),this.datePipe.transform(r,"EEE d MMM, y")}{let r=o;if("number"==typeof r&&(r=r.toString()),8===r.length){const C=parseInt(r.substring(0,4)),P=parseInt(r.substring(4,6)),R=parseInt(r.substring(6,8));r=new Date(C,P,R)}this.datePipe=new I.uU(this.translate.currentLang);const m=W(r,"DD/MM/YYYY");return this.datePipe.transform(m,"EEEE d MMMM y")}}clearSelectIfFilter(){this.selection?.clear()}removeFilterBreadcrumb(n){this.filterBreadCrumbService.removeFilterBreadcrumb(n,null,this.filteredValues),"table_filter"===n.type&&this.filteredValuesDate&&(this.filteredValuesDate[n.name]=null),this.clearSelectIfFilter(),this.getMailbox()}filterBreadcrumbFormat(){this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat([{type:"table_filter",name:"date",column:"MailBox.date",isMultiple:!1,filterValue:this.filteredValuesDate,filterList:null,filterRef:this.dateFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"from",column:"MailBox.from",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.fromFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"to",column:"MailBox.to",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.toFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"subject",column:"MailBox.composeMail.subject",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.subjectFilter,displayKey:null,savedValue:null,isSelectionInput:!1}],this.filterBreadcrumbData)}translateTime(n){return W(n,"HH:mm").format("H:mm")}}return e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275directiveInject(gt.e),t.\u0275\u0275directiveInject(Mt.e),t.\u0275\u0275directiveInject(tt.sK),t.\u0275\u0275directiveInject(st.uw),t.\u0275\u0275directiveInject(vt.YI),t.\u0275\u0275directiveInject(mt._),t.\u0275\u0275directiveInject(Ot.r),t.\u0275\u0275directiveInject(yt.$),t.\u0275\u0275directiveInject(Tt._A),t.\u0275\u0275directiveInject(_t.q),t.\u0275\u0275directiveInject(Et.Z))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["ms-cc"]],viewQuery:function(n,o){if(1&n&&(t.\u0275\u0275viewQuery(l.NW,7),t.\u0275\u0275viewQuery(V.YE,7),t.\u0275\u0275viewQuery(Pt,5)),2&n){let r;t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(o.paginator=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(o.sort=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(o.checkBox=r)}},inputs:{isTeacherCard:"isTeacherCard",userId:"userId"},features:[t.\u0275\u0275NgOnChangesFeature],decls:51,vars:21,consts:[[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"p-grid"],["class","p-col-12",4,"ngIf"],[1,"view-mailbox-template"],[1,"view-mailbox-by-side"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","asc","matSortDisableClear","",1,"mat-elevation-z8","mailTable",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","6","class","header-alignment",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","selectFilter"],["matColumnDef","createdAtFilter"],["matColumnDef","timeTableFilter"],["matColumnDef","fromFilter"],["matColumnDef","toFilter"],["matColumnDef","subjectFilter"],["matColumnDef","created_at"],["style","padding-left: 24px","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","timeTable"],["matColumnDef","from"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","to"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","subject"],["mat-header-cell","","mat-sort-header","subject","style","padding-right: 0.5rem !important",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","padding-right: 0.5rem !important",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","6","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","hidePageSize","pageSizeOptions","page"],["class","view-message-section",4,"ngIf"],[1,"p-col-12"],["fxFlex.gt-sm","60","fxFlex.gt-xs","60","fxFlex","60",1,"mail-type-list-wrapper"],["mat-list-item","","fxFlex","","routerLinkActive","active-link",3,"ngClass","routerLink",4,"ngFor","ngForOf"],["fxFlex.gt-sm","40","fxFlex.gt-xs","40","fxFlex","40",1,"mail-type-list-wrapper"],["mat-list-item","","fxFlex","","routerLinkActive","active-link",3,"ngClass","routerLink"],[1,"fa",3,"ngClass"],["class","unreadNotify",4,"ngIf"],[1,"unreadNotify"],["mat-header-cell","","colspan","6",1,"header-alignment"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex","100","fxFlex.lt-md","100",1,"mail-controls"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","","matTooltipPosition","above",1,"right-float","resetBtn",3,"matTooltip","disabled","click"],["svgIcon","loop"],[4,"ngIf"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","",1,"right-float","actionBtn",2,"padding","0px 7px 0px 10px !important",3,"matTooltip","disabled","matMenuTriggerFor"],[2,"transform","translateY(2px)","color","#000"],[2,"color","#000"],["action","matMenu"],["mat-menu-item","","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-menu-item","","matTooltipPosition","above",3,"matTooltip","disabled","click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"ngClass","checked","aria-label","click","change",4,"ngIf"],[3,"checked","aria-label","click","change",4,"ngIf"],["style","text-align: center; padding-left: 20px",4,"ngIf"],[3,"ngClass","checked","aria-label","click","change"],["checkBox",""],[3,"checked","aria-label","click","change"],[2,"text-align","center","padding-left","20px"],[1,"fa","fa-bolt"],[2,"margin-top","6px"],["matInput","",3,"matDatepicker","formControl","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["class","matFormModif",4,"ngIf"],[1,"matFormModif"],["matInput","",1,"form-field",3,"formControl","placeholder"],["mat-header-cell","",2,"padding-left","24px",3,"matTooltip"],["mat-cell","",2,"text-align","center",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip"],["mat-cell","",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip"],[3,"matTooltip","click",4,"ngIf"],[3,"matTooltip","click"],[3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-header-cell","","mat-sort-header","subject",2,"padding-right","0.5rem !important",3,"matTooltip"],["mat-cell","",2,"padding-right","0.5rem !important",3,"matTooltip","click"],["mat-header-cell","","colspan","6",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"view-message-section"],[1,"compose-mail-action",2,"width","100%"],[2,"float","left"],["class","mail-action-btn","mat-button","","md-button","",3,"title","click",4,"ngIf"],["mat-button","","md-button","",1,"mail-action-btn",3,"title","click"],[1,"fa","fa-trash"],[2,"float","right"],["class","mail-action-btn","mat-button","","md-button","","style","color: gray",3,"title",4,"ngIf"],["class","mail-action-btn","mat-button","","style","color: gray","md-button","",3,"title",4,"ngIf"],[1,"compose-mail"],[2,"width","100%"],["class","emailsubject e-mailSubject",4,"ngIf"],[2,"float","right","margin-right","18px","font-size","12px"],[1,"sender-mail"],[2,"font-weight","800","font-size","12px"],["class","recipient-mail",4,"ngIf"],["class","group-rncp",4,"ngIf"],["class","group-usertype",4,"ngIf"],["class","mail-cc",4,"ngIf"],[1,"message_detail"],[1,"message_view","break-word"],[3,"innerHTML"],[1,"fa","fa-reply"],[1,"fa","fa-reply-all"],[1,"fa","fa-mail-forward"],["mat-button","","md-button","",1,"mail-action-btn",2,"color","gray",3,"title"],[1,"fa","fa-caret-left"],[1,"fa","fa-caret-right"],[1,"emailsubject","e-mailSubject"],[4,"ngIf","ngIfElse"],["subjectTranslateds",""],[1,"recipient-mail"],[4,"ngFor","ngForOf"],[3,"title",4,"ngIf"],[3,"title"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[1,"fileInfo"],["mat-button","","type","button"],[1,"fa","fa-file-archive-o"],["mat-button","","type","button",3,"click"],[1,"fa","fa-download"],[1,"group-rncp"],[1,"message_view"],[1,"group-usertype"],[1,"mail-cc"]],template:function(n,o){1&n&&(t.\u0275\u0275elementStart(0,"ms-filter-breadcrumb",0),t.\u0275\u0275listener("removeFilterTrigger",function(m){return o.removeFilterBreadcrumb(m)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",1),t.\u0275\u0275template(2,kt,5,1,"div",2),t.\u0275\u0275elementContainerStart(3),t.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"table",5),t.\u0275\u0275listener("matSortChange",function(m){return o.sortData(m)}),t.\u0275\u0275elementContainerStart(7,6),t.\u0275\u0275template(8,Wt,9,8,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(9,8),t.\u0275\u0275template(10,Nt,2,3,"th",9),t.\u0275\u0275template(11,Ht,6,5,"td",10),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,11),t.\u0275\u0275template(13,Yt,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,12),t.\u0275\u0275template(15,Qt,7,6,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,13),t.\u0275\u0275template(17,Zt,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,14),t.\u0275\u0275template(19,Jt,2,1,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,15),t.\u0275\u0275template(21,te,2,1,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,16),t.\u0275\u0275template(23,ee,4,4,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,17),t.\u0275\u0275template(25,ne,5,6,"th",18),t.\u0275\u0275template(26,ie,4,8,"td",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(27,20),t.\u0275\u0275template(28,ae,5,6,"th",18),t.\u0275\u0275template(29,le,4,8,"td",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(30,21),t.\u0275\u0275template(31,oe,5,6,"th",22),t.\u0275\u0275template(32,re,6,14,"td",23),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(33,24),t.\u0275\u0275template(34,se,5,6,"th",25),t.\u0275\u0275template(35,Z,4,3,"td",10),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(36,26),t.\u0275\u0275template(37,ge,5,6,"th",27),t.\u0275\u0275template(38,x,2,2,"td",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(39,29),t.\u0275\u0275template(40,T,3,0,"th",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(41,p,1,0,"tr",31),t.\u0275\u0275template(42,_,1,0,"tr",31),t.\u0275\u0275template(43,d,1,0,"tr",31),t.\u0275\u0275template(44,u,1,1,"tr",32),t.\u0275\u0275template(45,h,1,1,"tr",33),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(46,b,3,3,"div",34),t.\u0275\u0275elementStart(47,"div",35)(48,"mat-paginator",36),t.\u0275\u0275listener("page",function(m){return o.changePage(m)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(49,"div",4),t.\u0275\u0275template(50,Qe,41,31,"div",37),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275property("filterBreadcrumbData",o.filterBreadcrumbData),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!o.isTeacherCard),t.\u0275\u0275advance(4),t.\u0275\u0275property("dataSource",o.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(14,Ze)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",o.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",o.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(15,Xe)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",o.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.paginator.length<1&&!o.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,Je,o.paginator.length<1||o.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,qe,o.paginator.length<=10))("hidePageSize",!0)("pageSizeOptions",t.\u0275\u0275pureFunction0(20,i)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==o.viewMessageData?null:o.viewMessageData._id))},dependencies:[I.mk,I.sg,I.O5,ht.lW,X.oG,ct.Mq,ct.hl,ct.nW,et.Hw,ft.KE,ft.R9,it.Nt,Q.i$,Q.Tg,pt.VK,pt.OP,pt.p6,l.NW,dt.Ou,V.YE,V.nU,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.ge,y.ev,y.XQ,y.Gk,lt.gM,D.DefaultValueAccessor,D.NgControlStatus,D.FormControlDirective,xt.xw,xt.yH,Ct.oO,ot.r,bt.yS,bt.Od,I.gd,I.rS,I.uU,tt.X$],styles:["#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.form-field[_ngcontent-%COMP%]{margin-top:6px}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%]{width:15%}.mat-column-createdAtFilter[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]{width:6rem}.mat-column-createdAtFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-timeTableFilter[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]{width:6rem}.mat-column-timeTableFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-fromFilter[_ngcontent-%COMP%], .mat-column-from[_ngcontent-%COMP%]{width:15%;padding-left:.5rem!important}.mat-column-toFilter[_ngcontent-%COMP%], .mat-column-to[_ngcontent-%COMP%]{width:25%;padding-left:.5rem!important}.mat-column-subjectFilter[_ngcontent-%COMP%], .mat-column-subject[_ngcontent-%COMP%]{width:auto;padding-left:.5rem!important}[_nghost-%COMP%]     .job-desc-table{width:100%!important}[_nghost-%COMP%]     table.mailTable tr td, [_nghost-%COMP%]     table.mailTable tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table.mailTable tr td:nth-child(1), [_nghost-%COMP%]     table.mailTable tr th:nth-child(1){padding-left:0!important;text-align:center!important}[_nghost-%COMP%]     table.mailTable tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table.mailTable tr th{vertical-align:top}[_nghost-%COMP%]     table.mailTable tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table.mailTable tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2), [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2) th, [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.bg-color[_ngcontent-%COMP%]{background-color:#fff}.right-float[_ngcontent-%COMP%]{float:right;margin-left:5px;background-color:gray}.btnReset[_ngcontent-%COMP%]{margin-left:5px;height:45px;background-color:#607d8b}.fontSize[_ngcontent-%COMP%]{font-size:1.25rem}.header-alignment[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:.5rem!important}.icon-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:50%}.mail-type-list-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:5px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{padding:0}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{border-left:8px solid;transition-property:background;transition-duration:.3s;transition-timing-function:linear;cursor:pointer}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-inbox[_ngcontent-%COMP%]{border-left-color:#009846}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-sent[_ngcontent-%COMP%]{border-left-color:#846573}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-important[_ngcontent-%COMP%]{border-left-color:#e51a4b}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-draft[_ngcontent-%COMP%]{border-left-color:#ffed00}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-trash[_ngcontent-%COMP%]{border-left-color:#d9dada}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:15px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%], .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:focus, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:active{background-color:#212121}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:8px;width:35px;height:35px;min-width:initial;background-color:gray;color:#fff;line-height:14px;margin-right:2px;border-radius:2px}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0}.mail-controls[_ngcontent-%COMP%]   .reply-btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}[_nghost-%COMP%]     svg{padding-right:4px;padding-bottom:5px!important}.resetBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#607d8b!important}.actionBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#ffd740!important}[_nghost-%COMP%]     .resetBtn svg{padding-bottom:3px!important}[_nghost-%COMP%]     .matFormModif .mat-form-field-wrapper{margin-right:14px}.view-message-section[_ngcontent-%COMP%]{background:white;width:100%;color:#000;padding:20px}.view-mailbox-template[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;flex:1 1 100%;box-sizing:border-box;-webkit-box-flex:1;max-width:100%}.view-mailbox-by-side[_ngcontent-%COMP%]{flex:1 1 50%;box-sizing:border-box;-webkit-box-flex:1;max-width:50%}button.mail-action-btn.mat-button[_ngcontent-%COMP%]{min-width:initial;padding:5px;font-size:15px;line-height:20px;margin-right:.33333rem}.compose-mail-action[_ngcontent-%COMP%]{display:inline-block}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;border-bottom:1px solid #ababab}.unreadNotify[_ngcontent-%COMP%]{color:#fff;margin-left:10px;background-color:red;padding:3px 8px;border-radius:50%}[_nghost-%COMP%]  .unread:checked{border-color:#fff!important}[_nghost-%COMP%]  .unread .mat-checkbox-inner-container{background-color:red!important;border-radius:4px}.message_detail[_ngcontent-%COMP%]{margin-top:5px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-rncp[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-usertype[_ngcontent-%COMP%]{margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.mail-cc[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.message_view[_ngcontent-%COMP%]{flex:1 1 .000000001px;box-sizing:border-box;-webkit-box-flex:1}tr.mat-row[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px 5px 10px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.yellow-admtc[_ngcontent-%COMP%]{background-color:#ffd740!important;color:#000!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.break-word[_ngcontent-%COMP%]{width:100%;overflow-wrap:break-word}.top-space[_ngcontent-%COMP%]{margin-top:30px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}  .blue-link-format{cursor:pointer!important;color:#06f!important;text-decoration:underline!important}  .size-school-logo{max-width:170px!important;max-height:150px!important}  .mat-menu-panel{min-height:auto}  .mat-menu-content .mat-menu-item{border-bottom:1px solid #dadada}  .mat-menu-content:not(:empty){padding-bottom:0}"]}),e})()},39002:(en,nt,c)=>{c.d(nt,{T:()=>qe});var l=c(98739),V=c(96308),y=c(53626),$=c(68745),z=c(17489),D=c(24006),W=c(15439),A=c(1059),L=c(22868),Y=c(24850),H=c(80013),N=c(95017),J=c(54298),rt=c(31361),G=c(35226),M=c.n(G),at=c(3832),q=c(18206),I=c(36895),t=c(94650),gt=c(91013),Mt=c(52688),tt=c(89383),st=c(65938),vt=c(84130),mt=c(50777),Ot=c(9035),yt=c(44758),Tt=c(22437),_t=c(67154),Et=c(4859),ht=c(56709),X=c(99602),ct=c(97392),et=c(59549),ft=c(284),it=c(96338),Q=c(28255),pt=c(51572),dt=c(10266),lt=c(30277),xt=c(24784),Ct=c(75223),ot=c(610);function bt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.inboxCount," ")}}function Pt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.ccCount," ")}}function St(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.importantCount," ")}}const wt=function(i){return[i]};function Dt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"a",42),t.\u0275\u0275element(1,"i",43),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,bt,3,1,"span",44),t.\u0275\u0275template(5,Pt,3,1,"span",44),t.\u0275\u0275template(6,St,3,1,"span",44),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass","mail-type-"+e.key)("routerLink",t.\u0275\u0275pureFunction1(9,wt,"/"+e.state)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",e.icon),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,7,e.name)," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","inbox"===e.key&&a.inboxCount),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===e.key&&a.ccCount),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===e.key&&a.importantCount)}}function It(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",38)(1,"div",39)(2,"mat-list"),t.\u0275\u0275template(3,Dt,7,11,"a",40),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(4,"div",41),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",e.mailCategories)}}function Bt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.sendMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Compose")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Compose")," ")}}function kt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.sendUrgentMessage())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Urgent message")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Urgent message")," ")}}function Lt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.getMailbox())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Get new emails")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Get new emails")," ")}}function Rt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.onDeleteMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Delete")),t.\u0275\u0275property("disabled",e.isWaitingForResponse||!1===e.countSelected||!1===e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Delete")," ")}}function Ft(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.mailMoveTo("important"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Important")),t.\u0275\u0275property("disabled",e.isWaitingForResponse||!1===e.countSelected||"inbox"!==e.selectedMailCategory&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Important")," ")}}function At(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",52),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"span",53),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"mat-icon",54),t.\u0275\u0275text(7,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"mat-menu",null,55),t.\u0275\u0275template(10,Bt,4,7,"button",56),t.\u0275\u0275template(11,kt,4,7,"button",56),t.\u0275\u0275template(12,Lt,4,7,"button",56),t.\u0275\u0275template(13,Rt,4,7,"button",56),t.\u0275\u0275template(14,Ft,4,7,"button",56),t.\u0275\u0275elementStart(15,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.mailMoveTo("inbox"))}),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275reference(9),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(2,12,"Action")," "),t.\u0275\u0275property("disabled",a.isWaitingForResponse)("matMenuTriggerFor",e),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,14,"Action")),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",a.permissionService.composeActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.urgentMessageActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.downloadMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(16,16,"MailBox.REMOVE IMPORTANT")),t.\u0275\u0275property("disabled",a.isWaitingForResponse||!1===a.countSelected||"important"!==a.selectedMailCategory),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,18,"MailBox.REMOVE IMPORTANT")," ")}}function Vt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",46)(1,"div",47)(2,"div",48)(3,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.resetFilter())}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275element(5,"mat-icon",50),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,At,19,20,"ng-container",51),t.\u0275\u0275elementEnd()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,4,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(7,6,"RESET")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","cc"!==e.selectedMailCategory)}}function Ut(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",58)(1,"mat-checkbox",59),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n?o.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&e.isAllSelected())("aria-label",e.checkboxLabel())}}function Wt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",a.selection.isSelected(e)||null!=e&&e.is_already_read||"inbox"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function Nt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",a.selection.isSelected(e)||null!=e&&e.is_already_read||"cc"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function $t(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",a.selection.isSelected(e)||null!=e&&e.is_already_read||"important"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function Kt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",66,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function jt(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span",67),t.\u0275\u0275element(1,"i",68),t.\u0275\u0275elementEnd())}function Gt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,Wt,2,3,"mat-checkbox",61),t.\u0275\u0275template(2,Nt,2,3,"mat-checkbox",61),t.\u0275\u0275template(3,$t,2,3,"mat-checkbox",61),t.\u0275\u0275template(4,Kt,2,2,"mat-checkbox",62),t.\u0275\u0275template(5,jt,2,0,"span",63),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"===a.selectedMailCategory||"draft"===a.selectedMailCategory||"sent"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1==e.is_urgent_mail)}}function zt(i,s){1&i&&t.\u0275\u0275element(0,"th",58)}function Ht(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",58)(1,"mat-form-field",69)(2,"input",70),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(n.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",71)(5,"mat-datepicker",null,72),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"Select a date")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.dateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function Yt(i,s){1&i&&t.\u0275\u0275element(0,"th",58)}function Qt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",74)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.fromFilter)}}function Zt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275template(1,Qt,4,4,"div",73),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!=e.selectedMailCategory)}}function Xt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",74)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.toFilter)}}function Jt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275template(1,Xt,4,4,"div",73),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"!=e.selectedMailCategory)}}function qt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"th",58)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.subjectFilter)}}function te(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.date")))}function ee(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",77),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?e.date:e.created_at,"dd/MM/yyyy")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?e.date:e.created_at,"dd/MM/yyyy")," ")}}function ne(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.time")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.time")))}function ie(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",77),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",a.translateTime(t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?e.date:e.created_at,"H:mm"))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",a.translateTime(t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?e.date:e.created_at,"H:mm"))," ")}}function ae(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",78),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.from")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.from")))}function le(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",79),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)," ")}}function oe(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",80),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.to")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.to")))}function re(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)," ")}}function se(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate2("matTooltip","",t.\u0275\u0275pipeBind1(1,4,"Mail_All")," ",t.\u0275\u0275pipeBind1(2,6,"USER_TYPES."+e.group_detail.user_types[0].name),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(4,8,"Mail_All")," ",t.\u0275\u0275pipeBind1(5,10,"USER_TYPES."+e.group_detail.user_types[0].name)," ")}}function ce(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,se,6,12,"span",81),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.group_detail?null:e.group_detail.user_types)&&(null==e||null==e.group_detail?null:e.group_detail.user_types.length))}}function pe(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function me(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,pe,2,0,"span",51),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit,a=s.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function _e(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,me,3,3,"span",83),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e||null==e.recipient_properties[0]?null:e.recipient_properties[0].recipients_email)}}function de(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,re,6,14,"span",81),t.\u0275\u0275template(2,ce,2,1,"span",51),t.\u0275\u0275template(3,_e,2,1,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.user_type_selection)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients_email?null:e.recipient_properties[0].recipients_email.length)}}function ue(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",84),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.composeMail.subject")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.composeMail.subject")))}function Z(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",85),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.subject),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.subject," ")}}function ge(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",86)(1,"div",87),t.\u0275\u0275element(2,"mat-spinner",88),t.\u0275\u0275elementEnd()())}function x(i,s){1&i&&t.\u0275\u0275element(0,"tr",89)}function T(i,s){1&i&&t.\u0275\u0275element(0,"tr",89)}function p(i,s){1&i&&t.\u0275\u0275element(0,"tr",89)}function _(i,s){if(1&i&&t.\u0275\u0275element(0,"tr",90),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function d(i,s){if(1&i&&t.\u0275\u0275element(0,"tr",91),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function u(i,s){1&i&&(t.\u0275\u0275elementStart(0,"div",92),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No Mail Data")," "))}function h(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.OpenMailPopupRequest(n.viewMessageData,"reply-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply"))}function b(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.OpenMailPopupRequest(n.viewMessageData,"reply-all"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply_all"))}function O(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.OpenMailPopupRequest(n.viewMessageData,"foward-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",117),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.forward"))}function w(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",68),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"MailBox.URGENT_MESSAGE")," "))}function E(i,s){1&i&&(t.\u0275\u0275elementStart(0,"button",118),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",119),t.\u0275\u0275elementEnd()),2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function B(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.onPreviousMessage(n.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",119),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function S(i,s){1&i&&(t.\u0275\u0275elementStart(0,"button",118),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",120),t.\u0275\u0275elementEnd()),2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function U(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.onNextMessage(n.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",120),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function f(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e.viewMessageData?null:e.viewMessageData.subject)}}function v(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,e.subjectTranslated)," ",e.resWordMessage,"")}}function ut(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",121),t.\u0275\u0275template(1,f,2,1,"b",122),t.\u0275\u0275template(2,v,3,4,"ng-template",null,123,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.translatedSubject)("ngIfElse",e)}}function he(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,4,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.last_name)," ",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.first_name," ",null!=e.viewMessageData&&null!=e.viewMessageData.sender_property&&null!=e.viewMessageData.sender_property.sender&&e.viewMessageData.sender_property.sender.civility&&"neutral"===(null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)," - (",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.email,") ")}}function fe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span")(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,2,"Mail_All")," ",t.\u0275\u0275pipeBind1(4,4,"USER_TYPES."+e.typeName)," ")}}function xe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function Ce(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function be(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,xe,4,9,"span",126),t.\u0275\u0275template(2,Ce,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(),a=e.$implicit,n=e.index,o=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n<o.recpList.length-1)}}function Me(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,be,3,3,"span",126),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function ve(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function Oe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275text(1),t.\u0275\u0275template(2,ve,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function ye(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Oe,3,3,"span",128),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]?null:e.viewMessageData.recipient_properties[0].recipients_email)}}function Te(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Me,2,1,"span",125),t.\u0275\u0275template(2,ye,2,1,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.recpList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]||null==e.viewMessageData.recipient_properties[0].recipients_email?null:e.viewMessageData.recipient_properties[0].recipients_email.length)}}function Ee(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,fe,5,6,"span",51),t.\u0275\u0275template(5,Te,3,2,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.to")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.viewMessageData&&e.viewMessageData.user_type_selection))}}function Pe(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",130)(2,"button",131),t.\u0275\u0275element(3,"i",132),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"label"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",133),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.downloadFile(o))}),t.\u0275\u0275element(7,"i",134),t.\u0275\u0275elementEnd()()()}if(2&i){const e=s.$implicit;t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(null==e?null:e.file_name)}}function Se(i,s){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Pe,8,1,"div",125),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"Attachment")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData?null:e.viewMessageData.file_attachments)}}function we(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e?null:e.recipients[0].last_name)," ",null==e?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function De(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function Ie(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,we,4,9,"span",126),t.\u0275\u0275template(2,De,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(),a=e.$implicit,n=e.index,o=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==a||null==a.recipients?null:a.recipients.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n<o.ccList.length-1)}}function Be(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Ie,3,3,"span",126),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function ke(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function Le(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275text(1),t.\u0275\u0275template(2,ke,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function Re(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Le,3,3,"span",128),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]?null:e.viewMessageData.recipient_properties[1].recipients_email)}}function Fe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Be,2,1,"span",125),t.\u0275\u0275template(5,Re,2,1,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.composeMail.cc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.ccList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]||null==e.viewMessageData.recipient_properties[1].recipients_email?null:e.viewMessageData.recipient_properties[1].recipients_email.length)}}function Ae(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e?null:e.recipients[0].last_name)," ",null==e?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function Ve(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function Ue(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,Ae,4,9,"span",126),t.\u0275\u0275template(2,Ve,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(),a=e.$implicit,n=e.index,o=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==a||null==a.recipients?null:a.recipients.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n<o.bccList.length-1)}}function We(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Ue,3,3,"span",126),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function Ne(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,We,2,1,"span",125),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"MailBox.composeMail.bcc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.bccList)}}function $e(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.short_name,"",0===a?"":","," ")}}function Ke(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",135)(1,"div",136)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,$e,2,2,"span",125),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"RNCP Titles")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.rncp_titles)}}function je(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.name,"",0===a?"":","," ")}}function Ge(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",137)(1,"div",136)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,je,2,2,"span",125),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"UserType")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.user_types)}}function ze(i,s){1&i&&(t.\u0275\u0275elementStart(0,"div",138),t.\u0275\u0275element(1,"div",136),t.\u0275\u0275elementEnd())}function He(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",93)(1,"div",94)(2,"div",95),t.\u0275\u0275template(3,h,3,3,"button",96),t.\u0275\u0275template(4,b,3,3,"button",96),t.\u0275\u0275template(5,O,3,3,"button",96),t.\u0275\u0275elementStart(6,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.openDialog(n.viewMessageData))}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275element(8,"i",98),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,w,4,3,"span",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",99),t.\u0275\u0275template(11,E,3,3,"button",100),t.\u0275\u0275template(12,B,3,3,"button",96),t.\u0275\u0275template(13,S,3,3,"button",101),t.\u0275\u0275template(14,U,3,3,"button",96),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",102)(16,"div",103),t.\u0275\u0275template(17,ut,4,2,"div",104),t.\u0275\u0275element(18,"hr"),t.\u0275\u0275elementStart(19,"span",105),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"titlecase"),t.\u0275\u0275pipe(22,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",106)(24,"label",107),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,he,4,8,"span",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(28,Ee,6,5,"div",108),t.\u0275\u0275template(29,Se,5,4,"ng-container",51),t.\u0275\u0275template(30,Fe,6,5,"div",108),t.\u0275\u0275template(31,Ne,5,4,"div",108),t.\u0275\u0275template(32,Ke,6,4,"div",109),t.\u0275\u0275template(33,Ge,6,4,"div",110),t.\u0275\u0275template(34,ze,2,0,"div",111),t.\u0275\u0275element(35,"hr"),t.\u0275\u0275elementStart(36,"div",112)(37,"div",113),t.\u0275\u0275element(38,"p",114)(39,"br")(40,"br"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(7,22,"MailBox.emailDetails.delete")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",1==e.viewMessageData.is_urgent_mail),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.checkIsNextBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsNextBtnShow()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.subject),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",null!=e.viewMessageData&&e.viewMessageData.created_at?t.\u0275\u0275pipeBind1(21,24,e.momentlang(null==e.viewMessageData?null:e.viewMessageData.created_at)):""," ",null!=e.viewMessageData&&e.viewMessageData.created_at?e.translateTime(t.\u0275\u0275pipeBind2(22,26,null==e.viewMessageData?null:e.viewMessageData.created_at,"H:mm")):""," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(26,29,"MailBox.from")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.sender_property?null:e.viewMessageData.sender_property.sender),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.recpList?null:e.recpList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.viewMessageData?null:e.viewMessageData.file_attachments)&&(null==e.viewMessageData?null:e.viewMessageData.file_attachments.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.bccList?null:e.bccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.rncp_titles?null:e.viewMessageData.group_detail.rncp_titles.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.user_types?null:e.viewMessageData.group_detail.user_types.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("innerHTML",e.getMessage(null==e.viewMessageData?null:e.viewMessageData.message),t.\u0275\u0275sanitizeHtml)}}const Ye=function(){return["reset"]},Qe=function(){return["loading"]},Ze=function(i){return{hide:i}},Xe=function(i){return{"hide-pagination-buttons":i}},Je=function(){return[10]};let qe=(()=>{class i{constructor(e,a,n,o,r,m,g,C,P,R){this.mailboxService=e,this.userService=a,this.translate=n,this.dialog=o,this.permissions=r,this.rncpTitlesService=m,this.certificationRuleService=g,this.permissionService=C,this.filterBreadCrumbService=P,this.pageTitleService=R,this.isTeacherCard=!1,this.inbox=!1,this.cc=!1,this.important=!1,this.draft=!0,this.trash=!1,this.sent=!1,this.IsReplyBtn=!1,this.IsReplyAllBtn=!1,this.IsForwardBtn=!1,this.IsDeleteBtn=!1,this.IsImportantBtn=!1,this.IsMovetoInboxBtn=!1,this.hideResetButton=!1,this.isSearching=!1,this.selectedMails=[],this.selection=new N.Ov(!0,[]),this.dataSource=new y.by([]),this.configCertificatioRule={disableClose:!0},this.config={disableClose:!0,width:"800px"},this.urgentMessageConfig={disableClose:!0,width:"600px"},this.displayedColumns=["select","created_at","timeTable","from","to","subject"],this.filterColumns=["selectFilter","createdAtFilter","timeTableFilter","fromFilter","toFilter","subjectFilter"],this.subs=new $.Y,this.dateFilter=new D.UntypedFormControl(""),this.subjectFilter=new D.UntypedFormControl(""),this.fromFilter=new D.UntypedFormControl(""),this.toFilter=new D.UntypedFormControl(""),this.filteredValues={date:"",from:"",to:"",subject:""},this.filteredValuesDate={date:""},this.filterBreadcrumbData=[],this.dataLoaded=!1,this.isWaitingForResponse=!1,this.selectedMailCategory="draft",this.inboxCount=0,this.ccCount=0,this.importantCount=0,this.mailsList=[],this.mailList=[],this.getCountOfCC=[],this.recpList=[],this.ccList=[],this.mailSelected=[],this.checked=[],this.isReset=!1,this.viewBcc=!1,this.bccList=[],this.isOPERATORDir=!1,this.isOPERATORAdmin=!1,this.isWaitRecipientGroup=!1}ngOnInit(){this.currentUser=this.userService.getLocalStorageUser(),this.isOPERATORAdmin=!!this.permissions.getPermission("operator_admin"),this.isOPERATORDir=!!this.permissions.getPermission("operator_dir"),this.countSelected=!1,this.sortValue={latest_email:"asc"},this.getDraftMail(),this.initDraftMail(),this.isTeacherCard||this.pageTitleService.setTitle("Draft")}ngOnChanges(e){this.userId&&this.resetFilter()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,A.O)(null),(0,L.b)(()=>{this.isReset||this.getDraftMail(),this.dataLoaded=!0})).subscribe()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getDraftMail())}cleanFilterData(){const e=z.cloneDeep(this.filteredValues);let a="";return Object.keys(e).forEach(n=>{e[n]&&(a+=` ${n}:"${e[n]}"`)}),a}getDraftMail(){this.isWaitingForResponse=!0;const e=this.selectedMailCategory,a={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex},n=this.cleanFilterData();this.userId?this.getNonMainMail(a,this.sortValue,e,n,this.userId):this.getNonMainMail(a,this.sortValue,e,n)}getMailbox(){this.getDraftMail()}getNonMainMail(e,a,n,o,r){this.subs.sink=this.mailboxService.getNonMainMail(e,a,n,o,r||null).subscribe(g=>{this.isReset=!1,this.isWaitingForResponse=!1,g&&g.length?(this.draftData=g,this.dataSource.data=g,this.dataSource.sort=this.sort,this.mailList=g,this.paginator.length=g[0]?g[0].count_document:0):(this.dataSource.data=[],this.paginator.length=0),this.filterBreadcrumbData=[],this.filterBreadcrumbFormat(),this.noData=this.dataSource.connect().pipe((0,Y.U)(C=>0===C.length))},g=>{this.filterBreadcrumbData=[],this.filterBreadcrumbFormat(),this.dataSource.data=[],this.paginator.length=0,this.noData=this.dataSource.connect().pipe((0,Y.U)(C=>0===C.length)),this.userService.postErrorLog(g),M().fire({type:"info",title:this.translate.instant("SORRY"),text:g&&g.message?this.translate.instant(g.message.replaceAll("GraphQL error: ","")):g,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}sendMailToGroup(){this.mailToGroupDialogComponent=this.dialog.open(rt.C,this.config)}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){const e=this.selection.selected.length,a=this.dataSource.data?this.dataSource.data.length:null,n=this.selection.selected;return this.mailSelected=[],n.forEach(o=>{this.mailSelected.push(o._id)}),e===a}initDraftMail(){this.subs.sink=this.dateFilter.valueChanges.subscribe(e=>{const a=W(e).format("DD/MM/YYYY");this.filteredValues.date=e,this.filteredValuesDate.date=e?a:null,this.paginator.pageIndex=0,this.isReset||this.getDraftMail()}),this.subs.sink=this.fromFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{if(""!==this.fromFilter.value){const a=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,n=/\\/;if(e.match(a)||e.match(n)){const o=e.replace(a,"");this.fromFilter.setValue(o)}else this.filteredValues.from=e||"",this.paginator.pageIndex=0,this.isReset||this.getDraftMail()}else this.filteredValues.from="",this.paginator.pageIndex=0,this.isReset||this.getDraftMail()}),this.subs.sink=this.toFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{if(""!==this.toFilter.value){const a=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,n=/\\/;if(e.match(a)||e.match(n)){const o=e.replace(a,"");this.toFilter.setValue(o)}else this.filteredValues.to=e||"",this.paginator.pageIndex=0,this.isReset||this.getDraftMail()}else this.filteredValues.to="",this.paginator.pageIndex=0,this.isReset||this.getDraftMail()}),this.subs.sink=this.subjectFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{if(""!==this.subjectFilter.value){const a=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,n=/\\/;if(e.match(a)||e.match(n)){const o=e.replace(a,"");this.subjectFilter.setValue(o)}else this.filteredValues.subject=e||"",this.paginator.pageIndex=0,this.isReset||this.getDraftMail()}else this.filteredValues.subject="",this.paginator.pageIndex=0,this.isReset||this.getDraftMail()}),this.mailCategories=this.mailboxService.getMailCategories()}resetFilter(){this.isReset=!0,this.filteredValues={date:"",from:"",to:"",subject:""},this.filteredValuesDate={date:""},this.filterBreadcrumbData=[],this.sort.direction="",this.sort.active="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=this.sortValue={latest_email:"asc"},this.dataSource.data=[],this.paginator.pageIndex=0,this.dateFilter.setValue(""),this.subjectFilter.setValue(""),this.fromFilter.setValue(""),this.toFilter.setValue(""),this.selection.clear(),this.getDraftMail()}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe(),this.dataSource.data=[],this.isTeacherCard||this.pageTitleService.setTitle(null)}changePage(e){this.isReset||this.getDraftMail()}onSelectMessage(e,a){this.viewMessageData=e,e.user_type_selection&&!e.is_group_parent?(this.getRecipientName(e),this.isWaitRecipientGroup=!0):this.isWaitRecipientGroup=!1,this.getCountOfCC=e.recipient_properties,this.recpList=[],this.ccList=[],this.draftData.forEach(n=>{n._id===this.viewMessageData._id&&(e.is_group_parent?this.OpenDraftGroupMail(n):this.OpenDraftPopUp(n))}),this.getCountOfCC.forEach((n,o)=>{"a"===n.rank&&this.recpList.push(n),"cc"===n.rank&&this.ccList.push(n),null===n.rank&&(this.viewMessageData.recipient_properties[0].rank="a",this.recpList.push(n))}),this.viewMessageData.$$index=a}OpenDraftPopUp(e){e._id&&(this.config.data={},this.sendMailDialogComponent=this.dialog.open(J.U,this.config),this.sendMailDialogComponent.componentInstance.isDraftMail=!0,this.sendMailDialogComponent.componentInstance.DraftData=e,this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(a=>{this.isReset||this.getDraftMail(),this.sendMailDialogComponent=null}))}OpenDraftGroupMail(e){e._id&&(this.config.data={},this.mailToGroupDialogComponent=this.dialog.open(rt.C,this.config),this.mailToGroupDialogComponent.componentInstance.isDraftMail=!0,this.mailToGroupDialogComponent.componentInstance.DraftData=e,this.subs.sink=this.mailToGroupDialogComponent.afterClosed().subscribe(a=>{this.isReset||this.getDraftMail(),this.mailToGroupDialogComponent=null}))}onPreviousMessage(e){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index-1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((n,o)=>{null!=n.rank?("a"===n.rank&&this.recpList.push(n),"cc"===n.rank&&(this.ccList.push(n),n.recipients.forEach(r=>{"cc"===n.rank&&r.email===this.currentUser.email&&(this.viewBcc=!0)})),this.viewBcc&&"c"===n.rank&&this.bccList.push(n),n.recipients.forEach(r=>{"c"===n.rank&&r.email===this.currentUser.email&&this.recpList.push(n)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}onNextMessage(e){if(this.viewMessageData&&this.viewMessageData.$$index+1<this.mailList.length){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index+1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((n,o)=>{null!=n.rank?("a"===n.rank&&this.recpList.push(n),"cc"===n.rank&&(this.ccList.push(n),n.recipients.forEach(r=>{"cc"===n.rank&&r.email===this.currentUser.email&&(this.viewBcc=!0)})),this.viewBcc&&"c"===n.rank&&this.bccList.push(n),n.recipients.forEach(r=>{"c"===n.rank&&r.email===this.currentUser.email&&this.recpList.push(n)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}}checkIsPreviousBtnShow(){return 0!==this.viewMessageData.$$index}checkIsNextBtnShow(){return this.viewMessageData.$$index!==this.mailList.length-1}OpenMailPopupRequest(e,a){this.config.data={},this.sendMailDialogComponent=this.dialog.open(J.U,this.config),this.sendMailDialogComponent.componentInstance.tags=[a],this.sendMailDialogComponent.componentInstance.currentMailData=e,"sent"===this.selectedMailCategory&&(this.sendMailDialogComponent.componentInstance.isSenderReq=!1),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(n=>{"updateMailList"===n&&(this.isReset||this.getDraftMail()),this.sendMailDialogComponent=null})}getFileName(e){return e?e.substring(e.lastIndexOf("/")+1):""}downloadFile(e){console.log(e);const a=document.createElement("a");a.target="_blank",a.href=e.path,a.download=e.file_name,a.click(),a.remove()}openDialog(e){let a=3;const r={mail_type:"trash"};M().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:a}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{M().disableConfirmButton();const m=M().getConfirmButton(),g=setInterval(()=>{a-=1,m.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+a+" sec"},1e3);this.timeOutVal=setTimeout(()=>{m.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),M().enableConfirmButton(),clearInterval(g),clearTimeout(this.timeOutVal)},1e3*a)}}).then(m=>{if(clearTimeout(this.timeOutVal),m.value){this.viewMessageData=[];const g=[];g.push(e._id),this.subs.sink=this.mailboxService.updateMultipleMailSender(g,r).subscribe(C=>{M().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getDraftMail()},C=>{this.userService.postErrorLog(C),M().fire({type:"info",title:this.translate.instant("SORRY"),text:C&&C.message?this.translate.instant(C.message.replaceAll("GraphQL error: ","")):C,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}})}sendMail(){this.sendMailDialogComponent=this.dialog.open(J.U,this.config),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(e=>{this.isReset||this.getDraftMail(),this.sendMailDialogComponent=null})}onDeleteMail(){let e=3;const a={mail_type:"trash"};M().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:e}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{M().disableConfirmButton();const r=M().getConfirmButton(),m=setInterval(()=>{e-=1,r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+e+" sec"},1e3);this.timeOutVal=setTimeout(()=>{r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),M().enableConfirmButton(),clearInterval(m),clearTimeout(this.timeOutVal)},1e3*e)}}).then(r=>{clearTimeout(this.timeOutVal),r.value&&(this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailSender(this.mailSelected,a).subscribe(m=>{M().fire({type:"success",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getDraftMail()},m=>{this.userService.postErrorLog(m),M().fire({type:"info",title:this.translate.instant("SORRY"),text:m&&m.message?this.translate.instant(m.message.replaceAll("GraphQL error: ","")):m,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}mailMoveTo(e){const a={mail_type:e};this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailRecipient(this.mailSelected,a).subscribe(n=>{this.isReset||this.getDraftMail()},n=>{this.userService.postErrorLog(n),M().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showOptions(){this.countSelected=this.selection.selected.length>0}sendUrgentMessage(){this.urgentMessageDialogComponent=this.dialog.open(at.x,this.urgentMessageConfig)}receiveEmail(){this.isReset||this.getDraftMail()}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(e=>{e&&e.length&&(this.subs.sink=this.dialog.open(q.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:e}).afterClosed().subscribe(a=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(n=>{n&&n.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(q.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:n}))},n=>{this.userService.postErrorLog(n),M().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))},e=>{this.userService.postErrorLog(e),M().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCertificationRule(){const e=this.userService.getLocalStorageUser(),a=e.entities[0].assigned_rncp_title._id,n=e.entities[0].class._id,o=e._id;this.subs.sink=this.rncpTitlesService.getRncpTitleById(a).subscribe(r=>{this.selectedRncpTitleName=r.short_name,this.selectedRncpTitleLongName=r.long_name},r=>{this.userService.postErrorLog(r),M().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.subs.sink=this.certificationRuleService.getCertificationRuleSentWithStudent(a,n,o).subscribe(r=>{r||this.getUrgentMail()},r=>{this.userService.postErrorLog(r),M().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showCertificationRule(e,a){}getMessage(e){return e?((e=e.replaceAll("<table>",'<table class="notif-table full-width" border="1">'))&&e.includes("<a")&&e&&!e.includes("target")&&(e=e.replaceAll("<a",'<a target="blank" class="blue-link-format"')),e):""}getRecipientName(e){e.group_detail.rncp_titles&&e.group_detail.rncp_titles.length&&(this.subs.sink=this.mailboxService.getOneTitle(e.group_detail.rncp_titles[0]._id).subscribe(a=>{a&&(this.titleName=a.short_name)},a=>{this.userService.postErrorLog(a),M().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),e.group_detail.user_types&&e.group_detail.user_types.length&&(this.subs.sink=this.mailboxService.getOneUserTypes(e.group_detail.user_types[0]._id).subscribe(a=>{a&&(this.typeName=a.name)},a=>{this.userService.postErrorLog(a),M().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.isWaitRecipientGroup=!1}momentlang(e){const a=W(e).format("DD/MM/YYYY");if("object"==typeof a){const n=new Date(a.year,a.month,a.date,a.hour,a.minute);return this.datePipe=new I.uU(this.translate.currentLang),this.datePipe.transform(n,"EEE d MMM, y")}{let n=a;if("number"==typeof n&&(n=n.toString()),8===n.length){const m=parseInt(n.substring(0,4)),g=parseInt(n.substring(4,6)),C=parseInt(n.substring(6,8));n=new Date(m,g,C)}this.datePipe=new I.uU(this.translate.currentLang);const o=W(n,"DD/MM/YYYY");return this.datePipe.transform(o,"EEEE d MMMM y")}}clearSelectIfFilter(){this.selection?.clear()}removeFilterBreadcrumb(e){this.filterBreadCrumbService.removeFilterBreadcrumb(e,null,this.filteredValues),"table_filter"===e.type&&this.filteredValuesDate&&(this.filteredValuesDate[e.name]=null),this.clearSelectIfFilter(),this.getDraftMail()}filterBreadcrumbFormat(){this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat([{type:"table_filter",name:"date",column:"MailBox.date",isMultiple:!1,filterValue:this.filteredValuesDate,filterList:null,filterRef:this.dateFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"from",column:"MailBox.from",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.fromFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"to",column:"MailBox.to",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.toFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"subject",column:"MailBox.composeMail.subject",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.subjectFilter,displayKey:null,savedValue:null,isSelectionInput:!1}],this.filterBreadcrumbData)}translateTime(e){return W(e,"HH:mm").format("H:mm")}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(gt.e),t.\u0275\u0275directiveInject(Mt.e),t.\u0275\u0275directiveInject(tt.sK),t.\u0275\u0275directiveInject(st.uw),t.\u0275\u0275directiveInject(vt.YI),t.\u0275\u0275directiveInject(mt.r),t.\u0275\u0275directiveInject(Ot._),t.\u0275\u0275directiveInject(yt.$),t.\u0275\u0275directiveInject(Tt.q),t.\u0275\u0275directiveInject(_t.Z))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-draft"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(l.NW,7),t.\u0275\u0275viewQuery(V.YE,7)),2&e){let n;t.\u0275\u0275queryRefresh(n=t.\u0275\u0275loadQuery())&&(a.paginator=n.first),t.\u0275\u0275queryRefresh(n=t.\u0275\u0275loadQuery())&&(a.sort=n.first)}},inputs:{isTeacherCard:"isTeacherCard",userId:"userId"},features:[t.\u0275\u0275NgOnChangesFeature],decls:51,vars:21,consts:[[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"p-grid"],["class","p-col-12",4,"ngIf"],[1,"view-mailbox-template"],[1,"view-mailbox-by-side"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","asc","matSortDisableClear","",1,"mat-elevation-z8","mailTable",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","6","class","header-alignment",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","selectFilter"],["matColumnDef","createdAtFilter"],["matColumnDef","timeTableFilter"],["matColumnDef","fromFilter"],["matColumnDef","toFilter"],["matColumnDef","subjectFilter"],["matColumnDef","created_at"],["style","padding-left: 24px","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","timeTable"],["matColumnDef","from"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","to"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","subject"],["mat-header-cell","","mat-sort-header","subject","style","padding-right: 0.5rem !important",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","padding-right: 0.5rem !important",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","6","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","hidePageSize","pageSizeOptions","page"],["class","view-message-section",4,"ngIf"],[1,"p-col-12"],["fxFlex.gt-sm","60","fxFlex.gt-xs","60","fxFlex","60",1,"mail-type-list-wrapper"],["mat-list-item","","fxFlex","","routerLinkActive","active-link",3,"ngClass","routerLink",4,"ngFor","ngForOf"],["fxFlex.gt-sm","40","fxFlex.gt-xs","40","fxFlex","40",1,"mail-type-list-wrapper"],["mat-list-item","","fxFlex","","routerLinkActive","active-link",3,"ngClass","routerLink"],[1,"fa",3,"ngClass"],["class","unreadNotify",4,"ngIf"],[1,"unreadNotify"],["mat-header-cell","","colspan","6",1,"header-alignment"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex","100","fxFlex.lt-md","100",1,"mail-controls"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","","matTooltipPosition","above",1,"right-float","resetBtn",3,"matTooltip","disabled","click"],["svgIcon","loop"],[4,"ngIf"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","",1,"right-float","actionBtn",2,"padding","0px 7px 0px 10px !important",3,"matTooltip","disabled","matMenuTriggerFor"],[2,"transform","translateY(2px)","color","#000"],[2,"color","#000"],["action","matMenu"],["mat-menu-item","","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-menu-item","","matTooltipPosition","above",3,"matTooltip","disabled","click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"ngClass","checked","aria-label","click","change",4,"ngIf"],[3,"checked","aria-label","click","change",4,"ngIf"],["style","text-align: center; padding-left: 20px",4,"ngIf"],[3,"ngClass","checked","aria-label","click","change"],["checkBox",""],[3,"checked","aria-label","click","change"],[2,"text-align","center","padding-left","20px"],[1,"fa","fa-bolt"],[2,"margin-top","6px"],["matInput","",3,"matDatepicker","formControl","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["class","matFormModif",4,"ngIf"],[1,"matFormModif"],["matInput","",1,"form-field",3,"formControl","placeholder"],["mat-header-cell","",2,"padding-left","24px",3,"matTooltip"],["mat-cell","",2,"text-align","center",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip"],["mat-cell","",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip"],[3,"matTooltip","click",4,"ngIf"],[3,"matTooltip","click"],[3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-header-cell","","mat-sort-header","subject",2,"padding-right","0.5rem !important",3,"matTooltip"],["mat-cell","",2,"padding-right","0.5rem !important",3,"matTooltip","click"],["mat-header-cell","","colspan","6",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"view-message-section"],[1,"compose-mail-action",2,"width","100%"],[2,"float","left"],["class","mail-action-btn","mat-button","","md-button","",3,"title","click",4,"ngIf"],["mat-button","","md-button","",1,"mail-action-btn",3,"title","click"],[1,"fa","fa-trash"],[2,"float","right"],["class","mail-action-btn","mat-button","","md-button","","style","color: gray",3,"title",4,"ngIf"],["class","mail-action-btn","mat-button","","style","color: gray","md-button","",3,"title",4,"ngIf"],[1,"compose-mail"],[2,"width","100%"],["class","emailsubject e-mailSubject",4,"ngIf"],[2,"float","right","margin-right","18px","font-size","12px"],[1,"sender-mail"],[2,"font-weight","800","font-size","12px"],["class","recipient-mail",4,"ngIf"],["class","group-rncp",4,"ngIf"],["class","group-usertype",4,"ngIf"],["class","mail-cc",4,"ngIf"],[1,"message_detail"],[1,"message_view","break-word"],[3,"innerHTML"],[1,"fa","fa-reply"],[1,"fa","fa-reply-all"],[1,"fa","fa-mail-forward"],["mat-button","","md-button","",1,"mail-action-btn",2,"color","gray",3,"title"],[1,"fa","fa-caret-left"],[1,"fa","fa-caret-right"],[1,"emailsubject","e-mailSubject"],[4,"ngIf","ngIfElse"],["subjectTranslateds",""],[1,"recipient-mail"],[4,"ngFor","ngForOf"],[3,"title",4,"ngIf"],[3,"title"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[1,"fileInfo"],["mat-button","","type","button"],[1,"fa","fa-file-archive-o"],["mat-button","","type","button",3,"click"],[1,"fa","fa-download"],[1,"group-rncp"],[1,"message_view"],[1,"group-usertype"],[1,"mail-cc"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"ms-filter-breadcrumb",0),t.\u0275\u0275listener("removeFilterTrigger",function(o){return a.removeFilterBreadcrumb(o)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",1),t.\u0275\u0275template(2,It,5,1,"div",2),t.\u0275\u0275elementContainerStart(3),t.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"table",5),t.\u0275\u0275listener("matSortChange",function(o){return a.sortData(o)}),t.\u0275\u0275elementContainerStart(7,6),t.\u0275\u0275template(8,Vt,9,8,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(9,8),t.\u0275\u0275template(10,Ut,2,3,"th",9),t.\u0275\u0275template(11,Gt,6,5,"td",10),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,11),t.\u0275\u0275template(13,zt,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,12),t.\u0275\u0275template(15,Ht,7,6,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,13),t.\u0275\u0275template(17,Yt,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,14),t.\u0275\u0275template(19,Zt,2,1,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,15),t.\u0275\u0275template(21,Jt,2,1,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,16),t.\u0275\u0275template(23,qt,4,4,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,17),t.\u0275\u0275template(25,te,5,6,"th",18),t.\u0275\u0275template(26,ee,4,8,"td",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(27,20),t.\u0275\u0275template(28,ne,5,6,"th",18),t.\u0275\u0275template(29,ie,4,8,"td",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(30,21),t.\u0275\u0275template(31,ae,5,6,"th",22),t.\u0275\u0275template(32,le,6,14,"td",23),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(33,24),t.\u0275\u0275template(34,oe,5,6,"th",25),t.\u0275\u0275template(35,de,4,3,"td",10),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(36,26),t.\u0275\u0275template(37,ue,5,6,"th",27),t.\u0275\u0275template(38,Z,2,2,"td",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(39,29),t.\u0275\u0275template(40,ge,3,0,"th",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(41,x,1,0,"tr",31),t.\u0275\u0275template(42,T,1,0,"tr",31),t.\u0275\u0275template(43,p,1,0,"tr",31),t.\u0275\u0275template(44,_,1,1,"tr",32),t.\u0275\u0275template(45,d,1,1,"tr",33),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(46,u,3,3,"div",34),t.\u0275\u0275elementStart(47,"div",35)(48,"mat-paginator",36),t.\u0275\u0275listener("page",function(o){return a.changePage(o)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(49,"div",4),t.\u0275\u0275template(50,He,41,31,"div",37),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275property("filterBreadcrumbData",a.filterBreadcrumbData),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.isTeacherCard),t.\u0275\u0275advance(4),t.\u0275\u0275property("dataSource",a.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(14,Ye)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(15,Qe)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.paginator.length<1&&!a.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,Ze,a.paginator.length<1||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,Xe,a.paginator.length<=10))("hidePageSize",!0)("pageSizeOptions",t.\u0275\u0275pureFunction0(20,Je)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.viewMessageData?null:a.viewMessageData._id))},dependencies:[I.mk,I.sg,I.O5,Et.lW,ht.oG,X.Mq,X.hl,X.nW,ct.Hw,et.KE,et.R9,ft.Nt,it.i$,it.Tg,Q.VK,Q.OP,Q.p6,l.NW,pt.Ou,V.YE,V.nU,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.ge,y.ev,y.XQ,y.Gk,dt.gM,D.DefaultValueAccessor,D.NgControlStatus,D.FormControlDirective,lt.xw,lt.yH,xt.oO,Ct.r,ot.yS,ot.Od,I.gd,I.rS,I.uU,tt.X$],styles:["#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.form-field[_ngcontent-%COMP%]{margin-top:6px}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%]{width:15%}.mat-column-createdAtFilter[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]{width:6rem}.mat-column-createdAtFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-timeTableFilter[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]{width:6rem}.mat-column-timeTableFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-fromFilter[_ngcontent-%COMP%], .mat-column-from[_ngcontent-%COMP%]{width:15%;padding-left:.5rem!important}.mat-column-toFilter[_ngcontent-%COMP%], .mat-column-to[_ngcontent-%COMP%]{width:25%;padding-left:.5rem!important}.mat-column-subjectFilter[_ngcontent-%COMP%], .mat-column-subject[_ngcontent-%COMP%]{width:auto;padding-left:.5rem!important}[_nghost-%COMP%]     .job-desc-table{width:100%!important}[_nghost-%COMP%]     table.mailTable tr td, [_nghost-%COMP%]     table.mailTable tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table.mailTable tr td:nth-child(1), [_nghost-%COMP%]     table.mailTable tr th:nth-child(1){padding-left:0!important;text-align:center!important}[_nghost-%COMP%]     table.mailTable tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table.mailTable tr th{vertical-align:top}[_nghost-%COMP%]     table.mailTable tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table.mailTable tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2), [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2) th, [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.bg-color[_ngcontent-%COMP%]{background-color:#fff}.right-float[_ngcontent-%COMP%]{float:right;margin-left:5px;background-color:gray}.btnReset[_ngcontent-%COMP%]{margin-left:5px;height:45px;background-color:#607d8b}.fontSize[_ngcontent-%COMP%]{font-size:1.25rem}.header-alignment[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:.5rem!important}.icon-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:50%}.mail-type-list-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:5px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{padding:0}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{border-left:8px solid;transition-property:background;transition-duration:.3s;transition-timing-function:linear;cursor:pointer}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-inbox[_ngcontent-%COMP%]{border-left-color:#009846}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-sent[_ngcontent-%COMP%]{border-left-color:#846573}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-important[_ngcontent-%COMP%]{border-left-color:#e51a4b}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-draft[_ngcontent-%COMP%]{border-left-color:#ffed00}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-trash[_ngcontent-%COMP%]{border-left-color:#d9dada}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:15px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%], .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:focus, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:active{background-color:#212121}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:8px;width:35px;height:35px;min-width:initial;background-color:gray;color:#fff;line-height:14px;margin-right:2px;border-radius:2px}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0}.mail-controls[_ngcontent-%COMP%]   .reply-btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}[_nghost-%COMP%]     svg{padding-right:4px;padding-bottom:5px!important}.resetBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#607d8b!important}.actionBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#ffd740!important}[_nghost-%COMP%]     .resetBtn svg{padding-bottom:3px!important}[_nghost-%COMP%]     .matFormModif .mat-form-field-wrapper{margin-right:14px}.view-message-section[_ngcontent-%COMP%]{background:white;width:100%;color:#000;padding:20px}.view-mailbox-template[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;flex:1 1 100%;box-sizing:border-box;-webkit-box-flex:1;max-width:100%}.view-mailbox-by-side[_ngcontent-%COMP%]{flex:1 1 50%;box-sizing:border-box;-webkit-box-flex:1;max-width:50%}button.mail-action-btn.mat-button[_ngcontent-%COMP%]{min-width:initial;padding:5px;font-size:15px;line-height:20px;margin-right:.33333rem}.compose-mail-action[_ngcontent-%COMP%]{display:inline-block}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;border-bottom:1px solid #ababab}.unreadNotify[_ngcontent-%COMP%]{color:#fff;margin-left:10px;background-color:red;padding:3px 8px;border-radius:50%}[_nghost-%COMP%]  .unread:checked{border-color:#fff!important}[_nghost-%COMP%]  .unread .mat-checkbox-inner-container{background-color:red!important;border-radius:4px}.message_detail[_ngcontent-%COMP%]{margin-top:5px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-rncp[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-usertype[_ngcontent-%COMP%]{margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.mail-cc[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.message_view[_ngcontent-%COMP%]{flex:1 1 .000000001px;box-sizing:border-box;-webkit-box-flex:1}tr.mat-row[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px 5px 10px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.yellow-admtc[_ngcontent-%COMP%]{background-color:#ffd740!important;color:#000!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.break-word[_ngcontent-%COMP%]{width:100%;overflow-wrap:break-word}.top-space[_ngcontent-%COMP%]{margin-top:30px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}  .blue-link-format{cursor:pointer!important;color:#06f!important;text-decoration:underline!important}  .size-school-logo{max-width:170px!important;max-height:150px!important}  .mat-menu-panel{min-height:auto}  .mat-menu-content .mat-menu-item{border-bottom:1px solid #dadada}  .mat-menu-content:not(:empty){padding-bottom:0}"]}),i})()},23670:(en,nt,c)=>{c.d(nt,{M:()=>qe});var l=c(98739),V=c(96308),y=c(53626),$=c(68745),z=c(17489),D=c(15439),k=c(24006),A=c(24850),L=c(80013),Y=c(1059),H=c(22868),N=c(95017),J=c(54298),rt=c(31361),G=c(35226),M=c.n(G),at=c(3832),q=c(18206),I=c(36895),t=c(94650),gt=c(91013),Mt=c(52688),tt=c(89383),st=c(65938),vt=c(84130),mt=c(9035),Ot=c(50777),yt=c(44758),Tt=c(22437),_t=c(67154),Et=c(4859),ht=c(56709),X=c(99602),ct=c(97392),et=c(59549),ft=c(284),it=c(96338),Q=c(28255),pt=c(51572),dt=c(10266),lt=c(30277),xt=c(24784),Ct=c(75223),ot=c(610);function bt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.inboxCount," ")}}function Pt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.ccCount," ")}}function St(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.importantCount," ")}}const wt=function(i){return[i]};function Dt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"a",42),t.\u0275\u0275element(1,"i",43),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,bt,3,1,"span",44),t.\u0275\u0275template(5,Pt,3,1,"span",44),t.\u0275\u0275template(6,St,3,1,"span",44),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass","mail-type-"+e.key)("routerLink",t.\u0275\u0275pureFunction1(9,wt,"/"+e.state)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",e.icon),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,7,e.name)," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","inbox"===e.key&&a.inboxCount),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===e.key&&a.ccCount),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===e.key&&a.importantCount)}}function It(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",38)(1,"div",39)(2,"mat-list"),t.\u0275\u0275template(3,Dt,7,11,"a",40),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(4,"div",41),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",e.mailCategories)}}function Bt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.sendMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Compose")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Compose")," ")}}function kt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.sendUrgentMessage())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Urgent message")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Urgent message")," ")}}function Lt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.getMailbox())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Get new emails")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Get new emails")," ")}}function Rt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.onDeleteMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Delete")),t.\u0275\u0275property("disabled",e.isWaitingForResponse||!1===e.countSelected||!1===e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Delete")," ")}}function Ft(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.mailMoveTo("important"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Important")),t.\u0275\u0275property("disabled",e.isWaitingForResponse||!1===e.countSelected||"inbox"!==e.selectedMailCategory&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Important")," ")}}function At(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",52),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"span",53),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"mat-icon",54),t.\u0275\u0275text(7,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"mat-menu",null,55),t.\u0275\u0275template(10,Bt,4,7,"button",56),t.\u0275\u0275template(11,kt,4,7,"button",56),t.\u0275\u0275template(12,Lt,4,7,"button",56),t.\u0275\u0275template(13,Rt,4,7,"button",56),t.\u0275\u0275template(14,Ft,4,7,"button",56),t.\u0275\u0275elementStart(15,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.mailMoveTo("inbox"))}),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275reference(9),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(2,12,"Action")," "),t.\u0275\u0275property("disabled",a.isWaitingForResponse)("matMenuTriggerFor",e),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,14,"Action")),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",a.permissionService.composeActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.urgentMessageActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.downloadMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(16,16,"MailBox.REMOVE IMPORTANT")),t.\u0275\u0275property("disabled",a.isWaitingForResponse||!1===a.countSelected||"important"!==a.selectedMailCategory),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,18,"MailBox.REMOVE IMPORTANT")," ")}}function Vt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",46)(1,"div",47)(2,"div",48)(3,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.resetFilter())}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275element(5,"mat-icon",50),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,At,19,20,"ng-container",51),t.\u0275\u0275elementEnd()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,4,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(7,6,"RESET")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","cc"!==e.selectedMailCategory)}}function Ut(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",58)(1,"mat-checkbox",59),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n?o.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&e.isAllSelected())("aria-label",e.checkboxLabel())}}function Wt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",a.selection.isSelected(e)||null!=e&&e.is_already_read||"inbox"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function Nt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",a.selection.isSelected(e)||null!=e&&e.is_already_read||"cc"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function $t(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",a.selection.isSelected(e)||null!=e&&e.is_already_read||"important"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function Kt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",66,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function jt(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span",67),t.\u0275\u0275element(1,"i",68),t.\u0275\u0275elementEnd())}function Gt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,Wt,2,3,"mat-checkbox",61),t.\u0275\u0275template(2,Nt,2,3,"mat-checkbox",61),t.\u0275\u0275template(3,$t,2,3,"mat-checkbox",61),t.\u0275\u0275template(4,Kt,2,2,"mat-checkbox",62),t.\u0275\u0275template(5,jt,2,0,"span",63),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"===a.selectedMailCategory||"draft"===a.selectedMailCategory||"sent"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1==e.is_urgent_mail)}}function zt(i,s){1&i&&t.\u0275\u0275element(0,"th",58)}function Ht(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",58)(1,"mat-form-field",69)(2,"input",70),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(n.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",71)(5,"mat-datepicker",null,72),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"Select a date")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.dateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function Yt(i,s){1&i&&t.\u0275\u0275element(0,"th",58)}function Qt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",74)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.fromFilter)}}function Zt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275template(1,Qt,4,4,"div",73),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!=e.selectedMailCategory)}}function Xt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",74)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.toFilter)}}function Jt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275template(1,Xt,4,4,"div",73),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"!=e.selectedMailCategory)}}function qt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"th",58)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.subjectFilter)}}function te(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.date")))}function ee(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",77),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?e.date:e.created_at,"dd/MM/yyyy")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?e.date:e.created_at,"dd/MM/yyyy")," ")}}function ne(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.time")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.time")))}function ie(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",77),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",a.translateTime(t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?e.date:e.created_at,"H:mm"))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",a.translateTime(t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?e.date:e.created_at,"H:mm"))," ")}}function ae(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",78),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.from")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.from")))}function le(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",79),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)," ")}}function oe(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",80),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.to")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.to")))}function re(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)," ")}}function se(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate2("matTooltip","",t.\u0275\u0275pipeBind1(1,4,"Mail_All")," ",t.\u0275\u0275pipeBind1(2,6,"USER_TYPES."+e.group_detail.user_types[0].name),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(4,8,"Mail_All")," ",t.\u0275\u0275pipeBind1(5,10,"USER_TYPES."+e.group_detail.user_types[0].name)," ")}}function ce(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,se,6,12,"span",81),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.group_detail?null:e.group_detail.user_types)&&(null==e||null==e.group_detail?null:e.group_detail.user_types.length))}}function pe(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function me(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,pe,2,0,"span",51),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit,a=s.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function _e(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,me,3,3,"span",83),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e||null==e.recipient_properties[0]?null:e.recipient_properties[0].recipients_email)}}function de(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,re,6,14,"span",81),t.\u0275\u0275template(2,ce,2,1,"span",51),t.\u0275\u0275template(3,_e,2,1,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.user_type_selection)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients_email?null:e.recipient_properties[0].recipients_email.length)}}function ue(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",84),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.composeMail.subject")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.composeMail.subject")))}function Z(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",85),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.subject),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.subject," ")}}function ge(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",86)(1,"div",87),t.\u0275\u0275element(2,"mat-spinner",88),t.\u0275\u0275elementEnd()())}function x(i,s){1&i&&t.\u0275\u0275element(0,"tr",89)}function T(i,s){1&i&&t.\u0275\u0275element(0,"tr",89)}function p(i,s){1&i&&t.\u0275\u0275element(0,"tr",89)}function _(i,s){if(1&i&&t.\u0275\u0275element(0,"tr",90),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function d(i,s){if(1&i&&t.\u0275\u0275element(0,"tr",91),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function u(i,s){1&i&&(t.\u0275\u0275elementStart(0,"div",92),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No Mail Data")," "))}function h(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.OpenMailPopupRequest(n.viewMessageData,"reply-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply"))}function b(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.OpenMailPopupRequest(n.viewMessageData,"reply-all"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply_all"))}function O(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.OpenMailPopupRequest(n.viewMessageData,"foward-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",117),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.forward"))}function w(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",68),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"MailBox.URGENT_MESSAGE")," "))}function E(i,s){1&i&&(t.\u0275\u0275elementStart(0,"button",118),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",119),t.\u0275\u0275elementEnd()),2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function B(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.onPreviousMessage(n.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",119),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function S(i,s){1&i&&(t.\u0275\u0275elementStart(0,"button",118),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",120),t.\u0275\u0275elementEnd()),2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function U(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.onNextMessage(n.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",120),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function f(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e.viewMessageData?null:e.viewMessageData.subject)}}function v(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,e.subjectTranslated)," ",e.resWordMessage,"")}}function ut(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",121),t.\u0275\u0275template(1,f,2,1,"b",122),t.\u0275\u0275template(2,v,3,4,"ng-template",null,123,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.translatedSubject)("ngIfElse",e)}}function he(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,4,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.last_name)," ",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.first_name," ",null!=e.viewMessageData&&null!=e.viewMessageData.sender_property&&null!=e.viewMessageData.sender_property.sender&&e.viewMessageData.sender_property.sender.civility&&"neutral"===(null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)," - (",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.email,") ")}}function fe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span")(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,2,"Mail_All")," ",t.\u0275\u0275pipeBind1(4,4,"USER_TYPES."+e.typeName)," ")}}function xe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function Ce(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function be(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,xe,4,9,"span",126),t.\u0275\u0275template(2,Ce,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(),a=e.$implicit,n=e.index,o=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n<o.recpList.length-1)}}function Me(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,be,3,3,"span",126),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function ve(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function Oe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275text(1),t.\u0275\u0275template(2,ve,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function ye(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Oe,3,3,"span",128),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]?null:e.viewMessageData.recipient_properties[0].recipients_email)}}function Te(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Me,2,1,"span",125),t.\u0275\u0275template(2,ye,2,1,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.recpList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]||null==e.viewMessageData.recipient_properties[0].recipients_email?null:e.viewMessageData.recipient_properties[0].recipients_email.length)}}function Ee(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,fe,5,6,"span",51),t.\u0275\u0275template(5,Te,3,2,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.to")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.viewMessageData&&e.viewMessageData.user_type_selection))}}function Pe(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",130)(2,"button",131),t.\u0275\u0275element(3,"i",132),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"label"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",133),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.downloadFile(o))}),t.\u0275\u0275element(7,"i",134),t.\u0275\u0275elementEnd()()()}if(2&i){const e=s.$implicit;t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(null==e?null:e.file_name)}}function Se(i,s){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Pe,8,1,"div",125),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"Attachment")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData?null:e.viewMessageData.file_attachments)}}function we(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e?null:e.recipients[0].last_name)," ",null==e?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function De(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function Ie(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,we,4,9,"span",126),t.\u0275\u0275template(2,De,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(),a=e.$implicit,n=e.index,o=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==a||null==a.recipients?null:a.recipients.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n<o.ccList.length-1)}}function Be(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Ie,3,3,"span",126),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function ke(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function Le(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275text(1),t.\u0275\u0275template(2,ke,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function Re(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Le,3,3,"span",128),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]?null:e.viewMessageData.recipient_properties[1].recipients_email)}}function Fe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Be,2,1,"span",125),t.\u0275\u0275template(5,Re,2,1,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.composeMail.cc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.ccList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]||null==e.viewMessageData.recipient_properties[1].recipients_email?null:e.viewMessageData.recipient_properties[1].recipients_email.length)}}function Ae(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e?null:e.recipients[0].last_name)," ",null==e?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function Ve(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function Ue(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,Ae,4,9,"span",126),t.\u0275\u0275template(2,Ve,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(),a=e.$implicit,n=e.index,o=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==a||null==a.recipients?null:a.recipients.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n<o.bccList.length-1)}}function We(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Ue,3,3,"span",126),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function Ne(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,We,2,1,"span",125),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"MailBox.composeMail.bcc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.bccList)}}function $e(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.short_name,"",0===a?"":","," ")}}function Ke(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",135)(1,"div",136)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,$e,2,2,"span",125),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"RNCP Titles")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.rncp_titles)}}function je(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.name,"",0===a?"":","," ")}}function Ge(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",137)(1,"div",136)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,je,2,2,"span",125),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"UserType")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.user_types)}}function ze(i,s){1&i&&(t.\u0275\u0275elementStart(0,"div",138),t.\u0275\u0275element(1,"div",136),t.\u0275\u0275elementEnd())}function He(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",93)(1,"div",94)(2,"div",95),t.\u0275\u0275template(3,h,3,3,"button",96),t.\u0275\u0275template(4,b,3,3,"button",96),t.\u0275\u0275template(5,O,3,3,"button",96),t.\u0275\u0275elementStart(6,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.openDialog(n.viewMessageData))}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275element(8,"i",98),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,w,4,3,"span",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",99),t.\u0275\u0275template(11,E,3,3,"button",100),t.\u0275\u0275template(12,B,3,3,"button",96),t.\u0275\u0275template(13,S,3,3,"button",101),t.\u0275\u0275template(14,U,3,3,"button",96),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",102)(16,"div",103),t.\u0275\u0275template(17,ut,4,2,"div",104),t.\u0275\u0275element(18,"hr"),t.\u0275\u0275elementStart(19,"span",105),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"titlecase"),t.\u0275\u0275pipe(22,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",106)(24,"label",107),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,he,4,8,"span",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(28,Ee,6,5,"div",108),t.\u0275\u0275template(29,Se,5,4,"ng-container",51),t.\u0275\u0275template(30,Fe,6,5,"div",108),t.\u0275\u0275template(31,Ne,5,4,"div",108),t.\u0275\u0275template(32,Ke,6,4,"div",109),t.\u0275\u0275template(33,Ge,6,4,"div",110),t.\u0275\u0275template(34,ze,2,0,"div",111),t.\u0275\u0275element(35,"hr"),t.\u0275\u0275elementStart(36,"div",112)(37,"div",113),t.\u0275\u0275element(38,"p",114)(39,"br")(40,"br"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(7,22,"MailBox.emailDetails.delete")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",1==e.viewMessageData.is_urgent_mail),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.checkIsNextBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsNextBtnShow()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.subject),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",null!=e.viewMessageData&&e.viewMessageData.created_at?t.\u0275\u0275pipeBind1(21,24,e.momentlang(null==e.viewMessageData?null:e.viewMessageData.created_at)):""," ",null!=e.viewMessageData&&e.viewMessageData.created_at?e.translateTime(t.\u0275\u0275pipeBind2(22,26,null==e.viewMessageData?null:e.viewMessageData.created_at,"H:mm")):""," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(26,29,"MailBox.from")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.sender_property?null:e.viewMessageData.sender_property.sender),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.recpList?null:e.recpList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.viewMessageData?null:e.viewMessageData.file_attachments)&&(null==e.viewMessageData?null:e.viewMessageData.file_attachments.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.bccList?null:e.bccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.rncp_titles?null:e.viewMessageData.group_detail.rncp_titles.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.user_types?null:e.viewMessageData.group_detail.user_types.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("innerHTML",e.getMessage(null==e.viewMessageData?null:e.viewMessageData.message),t.\u0275\u0275sanitizeHtml)}}const Ye=function(){return["reset"]},Qe=function(){return["loading"]},Ze=function(i){return{hide:i}},Xe=function(i){return{"hide-pagination-buttons":i}},Je=function(){return[10]};let qe=(()=>{class i{constructor(e,a,n,o,r,m,g,C,P,R){this.mailboxService=e,this.userService=a,this.translate=n,this.dialog=o,this.permissions=r,this.certificationRuleService=m,this.rncpTitlesService=g,this.permissionService=C,this.filterBreadCrumbService=P,this.pageTitleService=R,this.isTeacherCard=!1,this.inbox=!1,this.cc=!1,this.important=!0,this.draft=!1,this.trash=!1,this.sent=!1,this.IsReplyBtn=!1,this.IsReplyAllBtn=!1,this.IsForwardBtn=!1,this.IsDeleteBtn=!1,this.IsImportantBtn=!1,this.IsMovetoInboxBtn=!1,this.hideResetButton=!1,this.alreadyRead=!1,this.isSearching=!1,this.viewBcc=!1,this.selectedMails=[],this.mailSelected=[],this.checked=[],this.selection=new N.Ov(!0,[]),this.dataSource=new y.by([]),this.configCertificatioRule={disableClose:!0},this.config={disableClose:!0,width:"800px"},this.urgentMessageConfig={disableClose:!0,width:"600px"},this.displayedColumns=["select","created_at","timeTable","from","to","subject"],this.filterColumns=["selectFilter","createdAtFilter","timeTableFilter","fromFilter","toFilter","subjectFilter"],this.subs=new $.Y,this.dateFilter=new k.UntypedFormControl(""),this.subjectFilter=new k.UntypedFormControl(""),this.fromFilter=new k.UntypedFormControl(""),this.toFilter=new k.UntypedFormControl(""),this.filteredValues={date:"",from:"",to:"",subject:""},this.filteredValuesDate={date:""},this.filterBreadcrumbData=[],this.dataLoaded=!1,this.isWaitingForResponse=!1,this.selectedMailCategory="important",this.mailsList=[],this.mailList=[],this.getCountOfCC=[],this.recpList=[],this.ccList=[],this.bccList=[],this.inboxCount=0,this.ccCount=0,this.importantCount=0,this.isWaitRecipientGroup=!1,this.isReset=!1,this.isOPERATORDir=!1,this.isOPERATORAdmin=!1}ngOnInit(){this.currentUser=this.userService.getLocalStorageUser(),this.isOPERATORAdmin=!!this.permissions.getPermission("operator_admin"),this.isOPERATORDir=!!this.permissions.getPermission("operator_dir"),this.countSelected=!1,this.sortValue={latest_email:"asc"},this.getImportantMail(),this.initImportantMail(),this.isTeacherCard||this.pageTitleService.setTitle("Important")}ngOnChanges(e){this.userId&&this.resetFilter()}getImportantMail(){this.isWaitingForResponse=!0;const a=this.selectedMailCategory,n={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex},o=this.cleanFilterData();this.userId?this.getMainMailBox(n,this.sortValue,a,!0,o,this.userId):this.getMainMailBox(n,this.sortValue,a,!0,o)}getMainMailBox(e,a,n,o,r,m){this.subs.sink=this.mailboxService.getMainMail(e,a,n,o,r,null,m||null).subscribe(C=>{this.isReset=!1,this.isWaitingForResponse=!1,C&&C.length?(C.forEach((P,R)=>{P.recipient_properties.forEach(F=>{F.recipients.forEach(j=>{j.email===this.currentUser.email&&(P.is_already_read=!0===F.is_read)})})}),this.dataSource.data=C,this.dataSource.sort=this.sort,this.mailList=C,this.importantCount=C[0]?C[0].count_not_read:0,this.paginator.length=C[0]?C[0].count_document:0):(this.dataSource.data=[],this.paginator.length=0),this.filterBreadcrumbData=[],this.filterBreadcrumbFormat(),this.noData=this.dataSource.connect().pipe((0,A.U)(P=>0===P.length))},C=>{this.filterBreadcrumbData=[],this.filterBreadcrumbFormat(),this.userService.postErrorLog(C),this.dataSource.data=[],this.paginator.length=0,this.noData=this.dataSource.connect().pipe((0,A.U)(P=>0===P.length)),M().fire({type:"info",title:this.translate.instant("SORRY"),text:C&&C.message?this.translate.instant(C.message.replaceAll("GraphQL error: ","")):C,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}sendMailToGroup(){this.mailToGroupDialogComponent=this.dialog.open(rt.C,this.config)}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){const e=this.selection.selected.length,a=this.dataSource.data?this.dataSource.data.length:null,n=this.selection.selected;return this.mailSelected=[],n.forEach(o=>{this.mailSelected.push(o._id)}),e===a}initImportantMail(){this.subs.sink=this.dateFilter.valueChanges.subscribe(e=>{const a=D(e).format("DD/MM/YYYY");this.filteredValues.date=e,this.filteredValuesDate.date=e?a:null,this.paginator.pageIndex=0,this.isReset||this.getImportantMail()}),this.subs.sink=this.fromFilter.valueChanges.pipe((0,L.b)(400)).subscribe(e=>{if(""!==this.fromFilter.value){const a=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,n=/\\/;if(e.match(a)||e.match(n)){const o=e.replace(a,"");this.fromFilter.setValue(o)}else this.filteredValues.from=e||"",this.paginator.pageIndex=0,this.isReset||this.getImportantMail()}else this.filteredValues.from="",this.paginator.pageIndex=0,this.isReset||this.getImportantMail()}),this.subs.sink=this.toFilter.valueChanges.pipe((0,L.b)(400)).subscribe(e=>{if(""!==this.toFilter.value){const a=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,n=/\\/;if(e.match(a)||e.match(n)){const o=e.replace(a,"");this.toFilter.setValue(o)}else this.filteredValues.to=e||"",this.paginator.pageIndex=0,this.isReset||this.getImportantMail()}else this.filteredValues.to="",this.paginator.pageIndex=0,this.isReset||this.getImportantMail()}),this.subs.sink=this.subjectFilter.valueChanges.pipe((0,L.b)(400)).subscribe(e=>{if(""!==this.subjectFilter.value){const a=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,n=/\\/;if(e.match(a)||e.match(n)){const o=e.replace(a,"");this.subjectFilter.setValue(o)}else this.filteredValues.subject=e||"",this.paginator.pageIndex=0,this.isReset||this.getImportantMail()}else this.filteredValues.subject="",this.paginator.pageIndex=0,this.isReset||this.getImportantMail()}),this.mailCategories=this.mailboxService.getMailCategories()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,Y.O)(null),(0,H.b)(()=>{this.isReset||this.getImportantMail(),this.dataLoaded=!0})).subscribe()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getImportantMail())}cleanFilterData(){const e=z.cloneDeep(this.filteredValues);let a="";return Object.keys(e).forEach(n=>{e[n]&&(a+=` ${n}:"${e[n]}"`)}),a}resetFilter(){this.isReset=!0,this.filteredValues={date:"",from:"",to:"",subject:""},this.filteredValuesDate={date:""},this.filterBreadcrumbData=[],this.sort.direction="",this.sort.active="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=this.sortValue={latest_email:"asc"},this.dataSource.data=[],this.paginator.pageIndex=0,this.dateFilter.setValue(""),this.subjectFilter.setValue(""),this.fromFilter.setValue(""),this.toFilter.setValue(""),this.selection.clear(),this.getImportantMail()}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe(),this.dataSource.data=[],this.isTeacherCard||this.pageTitleService.setTitle(null)}changePage(e){this.isReset||this.getImportantMail()}onSelectMessage(e,a){if(this.viewMessageData=e,e.user_type_selection&&!e.is_group_parent?(this.getRecipientName(e),this.isWaitRecipientGroup=!0):this.isWaitRecipientGroup=!1,this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[],this.getCountOfCC=e.recipient_properties,e.is_group_parent){const n=this.getRecipientFullName(e.recipient_properties);this.recpList.push(n)}else this.getCountOfCC&&this.getCountOfCC.length&&this.getCountOfCC.forEach((n,o)=>{null!=n.rank?("a"===n.rank&&this.recpList.push(n),"cc"===n.rank&&(this.ccList.push(n),n.recipients.forEach(r=>{})),this.viewBcc&&"c"===n.rank&&this.bccList.push(n),n.recipients.forEach(r=>{"c"===n.rank&&r.email===this.currentUser.email&&this.recpList.push(n)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))});this.viewMessageData.$$index=a}onPreviousMessage(e){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index-1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((n,o)=>{null!=n.rank?("a"===n.rank&&this.recpList.push(n),"cc"===n.rank&&(this.ccList.push(n),n.recipients.forEach(r=>{})),this.viewBcc&&"c"===n.rank&&this.bccList.push(n),n.recipients.forEach(r=>{"c"===n.rank&&r.email===this.currentUser.email&&this.recpList.push(n)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}onNextMessage(e){if(this.viewMessageData&&this.viewMessageData.$$index+1<this.mailList.length){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index+1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((n,o)=>{null!=n.rank?("a"===n.rank&&this.recpList.push(n),"cc"===n.rank&&(this.ccList.push(n),n.recipients.forEach(r=>{})),this.viewBcc&&"c"===n.rank&&this.bccList.push(n),n.recipients.forEach(r=>{"c"===n.rank&&r.email===this.currentUser.email&&this.recpList.push(n)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}}checkIsPreviousBtnShow(){return 0!==this.viewMessageData.$$index}checkIsNextBtnShow(){return this.viewMessageData.$$index!==this.mailList.length-1}OpenMailPopupRequest(e,a){this.config.data={},this.sendMailDialogComponent=this.dialog.open(J.U,this.config),this.sendMailDialogComponent.componentInstance.tags=[a],this.sendMailDialogComponent.componentInstance.currentMailData=e,"sent"===this.selectedMailCategory&&(this.sendMailDialogComponent.componentInstance.isSenderReq=!1),this.sendMailDialogComponent.afterClosed().subscribe(n=>{this.isReset||this.getImportantMail(),this.sendMailDialogComponent=null})}getFileName(e){return e?e.substring(e.lastIndexOf("/")+1):""}downloadFile(e){const a=document.createElement("a");a.target="_blank",a.href=e.path,a.download=e.file_name,a.click(),a.remove()}onDeleteMail(){const e={mail_type:"trash"};let o=3;M().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!1,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:o}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{M().disableConfirmButton();const r=M().getConfirmButton(),m=setInterval(()=>{o-=1,r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+o+" sec"},1e3);this.timeOutVal=setTimeout(()=>{r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),M().enableConfirmButton(),clearInterval(m),clearTimeout(this.timeOutVal)},1e3*o)}}).then(r=>{clearTimeout(this.timeOutVal),r.value&&(this.viewMessageData=[],this.mailboxService.updateMultipleMailRecipient(this.mailSelected,e).subscribe(m=>{M().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getImportantMail()},m=>{this.userService.postErrorLog(m),M().fire({type:"info",title:this.translate.instant("SORRY"),text:m&&m.message?this.translate.instant(m.message.replaceAll("GraphQL error: ","")):m,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}openDialog(e){let a=3;const r={mail_type:"trash"};M().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!1,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:a}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{M().disableConfirmButton();const m=M().getConfirmButton();setInterval(()=>{a-=1,m.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+a+" sec"},1e3),this.timeOutVal=setTimeout(()=>{m.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),M().enableConfirmButton(),clearInterval(this.timeOutVal),clearTimeout(this.timeOutVal)},1e3*a)}}).then(m=>{if(clearTimeout(this.timeOutVal),m.value){this.viewMessageData=[];const g=[];g.push(e._id),this.mailboxService.updateMultipleMailRecipient(g,r).subscribe(C=>{M().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getImportantMail()},C=>{this.userService.postErrorLog(C),M().fire({type:"info",title:this.translate.instant("SORRY"),text:C&&C.message?this.translate.instant(C.message.replaceAll("GraphQL error: ","")):C,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}})}sendMail(){this.sendMailDialogComponent=this.dialog.open(J.U,this.config),this.sendMailDialogComponent.afterClosed().subscribe(e=>{this.isReset||this.getImportantMail(),this.sendMailDialogComponent=null})}receiveEmail(){this.isReset||this.getImportantMail()}mailMoveTo(e){const a={mail_type:e};this.viewMessageData=[],this.mailboxService.updateMultipleMailRecipient(this.mailSelected,a).subscribe(n=>{this.isReset||this.getImportantMail()},n=>{this.userService.postErrorLog(n),M().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showOptions(){this.countSelected=this.selection.selected.length>0}sendUrgentMessage(){this.urgentMessageDialogComponent=this.dialog.open(at.x,this.urgentMessageConfig)}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(e=>{e&&e.length&&(this.subs.sink=this.dialog.open(q.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:e}).afterClosed().subscribe(a=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(n=>{n&&n.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(q.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:n}))},n=>{this.userService.postErrorLog(n),M().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))},e=>{this.userService.postErrorLog(e),M().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCertificationRule(){const e=this.userService.getLocalStorageUser(),a=e.entities[0].assigned_rncp_title._id,n=e.entities[0].class._id,o=e._id;this.subs.sink=this.rncpTitlesService.getRncpTitleById(a).subscribe(r=>{this.selectedRncpTitleName=r.short_name,this.selectedRncpTitleLongName=r.long_name},r=>{this.userService.postErrorLog(r),M().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.subs.sink=this.certificationRuleService.getCertificationRuleSentWithStudent(a,n,o).subscribe(r=>{r||this.getUrgentMail()},r=>{this.userService.postErrorLog(r),M().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showCertificationRule(e,a){}getMessage(e){return e?((e=e.replaceAll("<table>",'<table class="notif-table full-width" border="1">'))&&e.includes("<a")&&e&&!e.includes("target")&&(e=e.replaceAll("<a",'<a target="blank" class="blue-link-format"')),e):""}getRecipientFullName(e){let n;return e?(n=e.filter(o=>o.recipients[0].email===this.currentUser.email),n&&n.length?n[0]:""):""}getRecipientName(e){e.group_detail.rncp_titles&&e.group_detail.rncp_titles.length&&(this.subs.sink=this.mailboxService.getOneTitle(e.group_detail.rncp_titles[0]._id).subscribe(a=>{a&&(this.titleName=a.short_name)},a=>{this.userService.postErrorLog(a),M().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),e.group_detail.user_types&&e.group_detail.user_types.length&&(this.subs.sink=this.mailboxService.getOneUserTypes(e.group_detail.user_types[0]._id).subscribe(a=>{a&&(this.typeName=a.name)},a=>{this.userService.postErrorLog(a),M().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.isWaitRecipientGroup=!1}momentlang(e){const a=D(e).format("DD/MM/YYYY");if("object"==typeof a){const n=new Date(a.year,a.month,a.date,a.hour,a.minute);return this.datePipe=new I.uU(this.translate.currentLang),this.datePipe.transform(n,"EEE d MMM, y")}{let n=a;if("number"==typeof n&&(n=n.toString()),8===n.length){const m=parseInt(n.substring(0,4)),g=parseInt(n.substring(4,6)),C=parseInt(n.substring(6,8));n=new Date(m,g,C)}this.datePipe=new I.uU(this.translate.currentLang);const o=D(n,"DD/MM/YYYY");return this.datePipe.transform(o,"EEEE d MMMM y")}}clearSelectIfFilter(){this.selection?.clear()}getMailbox(){this.getImportantMail()}removeFilterBreadcrumb(e){this.filterBreadCrumbService.removeFilterBreadcrumb(e,null,this.filteredValues),"table_filter"===e.type&&this.filteredValuesDate&&(this.filteredValuesDate[e.name]=null),this.clearSelectIfFilter(),this.getImportantMail()}filterBreadcrumbFormat(){this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat([{type:"table_filter",name:"date",column:"MailBox.date",isMultiple:!1,filterValue:this.filteredValuesDate,filterList:null,filterRef:this.dateFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"from",column:"MailBox.from",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.fromFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"to",column:"MailBox.to",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.toFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"subject",column:"MailBox.composeMail.subject",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.subjectFilter,displayKey:null,savedValue:null,isSelectionInput:!1}],this.filterBreadcrumbData)}translateTime(e){return D(e,"HH:mm").format("H:mm")}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(gt.e),t.\u0275\u0275directiveInject(Mt.e),t.\u0275\u0275directiveInject(tt.sK),t.\u0275\u0275directiveInject(st.uw),t.\u0275\u0275directiveInject(vt.YI),t.\u0275\u0275directiveInject(mt._),t.\u0275\u0275directiveInject(Ot.r),t.\u0275\u0275directiveInject(yt.$),t.\u0275\u0275directiveInject(Tt.q),t.\u0275\u0275directiveInject(_t.Z))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-important"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(l.NW,7),t.\u0275\u0275viewQuery(V.YE,7)),2&e){let n;t.\u0275\u0275queryRefresh(n=t.\u0275\u0275loadQuery())&&(a.paginator=n.first),t.\u0275\u0275queryRefresh(n=t.\u0275\u0275loadQuery())&&(a.sort=n.first)}},inputs:{isTeacherCard:"isTeacherCard",userId:"userId"},features:[t.\u0275\u0275NgOnChangesFeature],decls:51,vars:21,consts:[[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"p-grid"],["class","p-col-12",4,"ngIf"],[1,"view-mailbox-template"],[1,"view-mailbox-by-side"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","asc","matSortDisableClear","",1,"mat-elevation-z8","mailTable",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","6","class","header-alignment",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","selectFilter"],["matColumnDef","createdAtFilter"],["matColumnDef","timeTableFilter"],["matColumnDef","fromFilter"],["matColumnDef","toFilter"],["matColumnDef","subjectFilter"],["matColumnDef","created_at"],["style","padding-left: 24px","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","timeTable"],["matColumnDef","from"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","to"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","subject"],["mat-header-cell","","mat-sort-header","subject","style","padding-right: 0.5rem !important",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","padding-right: 0.5rem !important",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","6","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","hidePageSize","pageSizeOptions","page"],["class","view-message-section",4,"ngIf"],[1,"p-col-12"],["fxFlex.gt-sm","60","fxFlex.gt-xs","60","fxFlex","60",1,"mail-type-list-wrapper"],["mat-list-item","","fxFlex","","routerLinkActive","active-link",3,"ngClass","routerLink",4,"ngFor","ngForOf"],["fxFlex.gt-sm","40","fxFlex.gt-xs","40","fxFlex","40",1,"mail-type-list-wrapper"],["mat-list-item","","fxFlex","","routerLinkActive","active-link",3,"ngClass","routerLink"],[1,"fa",3,"ngClass"],["class","unreadNotify",4,"ngIf"],[1,"unreadNotify"],["mat-header-cell","","colspan","6",1,"header-alignment"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex","100","fxFlex.lt-md","100",1,"mail-controls"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","","matTooltipPosition","above",1,"right-float","resetBtn",3,"matTooltip","disabled","click"],["svgIcon","loop"],[4,"ngIf"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","",1,"right-float","actionBtn",2,"padding","0px 7px 0px 10px !important",3,"matTooltip","disabled","matMenuTriggerFor"],[2,"transform","translateY(2px)","color","#000"],[2,"color","#000"],["action","matMenu"],["mat-menu-item","","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-menu-item","","matTooltipPosition","above",3,"matTooltip","disabled","click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"ngClass","checked","aria-label","click","change",4,"ngIf"],[3,"checked","aria-label","click","change",4,"ngIf"],["style","text-align: center; padding-left: 20px",4,"ngIf"],[3,"ngClass","checked","aria-label","click","change"],["checkBox",""],[3,"checked","aria-label","click","change"],[2,"text-align","center","padding-left","20px"],[1,"fa","fa-bolt"],[2,"margin-top","6px"],["matInput","",3,"matDatepicker","formControl","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["class","matFormModif",4,"ngIf"],[1,"matFormModif"],["matInput","",1,"form-field",3,"formControl","placeholder"],["mat-header-cell","",2,"padding-left","24px",3,"matTooltip"],["mat-cell","",2,"text-align","center",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip"],["mat-cell","",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip"],[3,"matTooltip","click",4,"ngIf"],[3,"matTooltip","click"],[3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-header-cell","","mat-sort-header","subject",2,"padding-right","0.5rem !important",3,"matTooltip"],["mat-cell","",2,"padding-right","0.5rem !important",3,"matTooltip","click"],["mat-header-cell","","colspan","6",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"view-message-section"],[1,"compose-mail-action",2,"width","100%"],[2,"float","left"],["class","mail-action-btn","mat-button","","md-button","",3,"title","click",4,"ngIf"],["mat-button","","md-button","",1,"mail-action-btn",3,"title","click"],[1,"fa","fa-trash"],[2,"float","right"],["class","mail-action-btn","mat-button","","md-button","","style","color: gray",3,"title",4,"ngIf"],["class","mail-action-btn","mat-button","","style","color: gray","md-button","",3,"title",4,"ngIf"],[1,"compose-mail"],[2,"width","100%"],["class","emailsubject e-mailSubject",4,"ngIf"],[2,"float","right","margin-right","18px","font-size","12px"],[1,"sender-mail"],[2,"font-weight","800","font-size","12px"],["class","recipient-mail",4,"ngIf"],["class","group-rncp",4,"ngIf"],["class","group-usertype",4,"ngIf"],["class","mail-cc",4,"ngIf"],[1,"message_detail"],[1,"message_view","break-word"],[3,"innerHTML"],[1,"fa","fa-reply"],[1,"fa","fa-reply-all"],[1,"fa","fa-mail-forward"],["mat-button","","md-button","",1,"mail-action-btn",2,"color","gray",3,"title"],[1,"fa","fa-caret-left"],[1,"fa","fa-caret-right"],[1,"emailsubject","e-mailSubject"],[4,"ngIf","ngIfElse"],["subjectTranslateds",""],[1,"recipient-mail"],[4,"ngFor","ngForOf"],[3,"title",4,"ngIf"],[3,"title"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[1,"fileInfo"],["mat-button","","type","button"],[1,"fa","fa-file-archive-o"],["mat-button","","type","button",3,"click"],[1,"fa","fa-download"],[1,"group-rncp"],[1,"message_view"],[1,"group-usertype"],[1,"mail-cc"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"ms-filter-breadcrumb",0),t.\u0275\u0275listener("removeFilterTrigger",function(o){return a.removeFilterBreadcrumb(o)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",1),t.\u0275\u0275template(2,It,5,1,"div",2),t.\u0275\u0275elementContainerStart(3),t.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"table",5),t.\u0275\u0275listener("matSortChange",function(o){return a.sortData(o)}),t.\u0275\u0275elementContainerStart(7,6),t.\u0275\u0275template(8,Vt,9,8,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(9,8),t.\u0275\u0275template(10,Ut,2,3,"th",9),t.\u0275\u0275template(11,Gt,6,5,"td",10),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,11),t.\u0275\u0275template(13,zt,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,12),t.\u0275\u0275template(15,Ht,7,6,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,13),t.\u0275\u0275template(17,Yt,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,14),t.\u0275\u0275template(19,Zt,2,1,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,15),t.\u0275\u0275template(21,Jt,2,1,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,16),t.\u0275\u0275template(23,qt,4,4,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,17),t.\u0275\u0275template(25,te,5,6,"th",18),t.\u0275\u0275template(26,ee,4,8,"td",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(27,20),t.\u0275\u0275template(28,ne,5,6,"th",18),t.\u0275\u0275template(29,ie,4,8,"td",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(30,21),t.\u0275\u0275template(31,ae,5,6,"th",22),t.\u0275\u0275template(32,le,6,14,"td",23),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(33,24),t.\u0275\u0275template(34,oe,5,6,"th",25),t.\u0275\u0275template(35,de,4,3,"td",10),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(36,26),t.\u0275\u0275template(37,ue,5,6,"th",27),t.\u0275\u0275template(38,Z,2,2,"td",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(39,29),t.\u0275\u0275template(40,ge,3,0,"th",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(41,x,1,0,"tr",31),t.\u0275\u0275template(42,T,1,0,"tr",31),t.\u0275\u0275template(43,p,1,0,"tr",31),t.\u0275\u0275template(44,_,1,1,"tr",32),t.\u0275\u0275template(45,d,1,1,"tr",33),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(46,u,3,3,"div",34),t.\u0275\u0275elementStart(47,"div",35)(48,"mat-paginator",36),t.\u0275\u0275listener("page",function(o){return a.changePage(o)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(49,"div",4),t.\u0275\u0275template(50,He,41,31,"div",37),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275property("filterBreadcrumbData",a.filterBreadcrumbData),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.isTeacherCard),t.\u0275\u0275advance(4),t.\u0275\u0275property("dataSource",a.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(14,Ye)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(15,Qe)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.paginator.length<1&&!a.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,Ze,a.paginator.length<1||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,Xe,a.paginator.length<=10))("hidePageSize",!0)("pageSizeOptions",t.\u0275\u0275pureFunction0(20,Je)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.viewMessageData?null:a.viewMessageData._id))},dependencies:[I.mk,I.sg,I.O5,Et.lW,ht.oG,X.Mq,X.hl,X.nW,ct.Hw,et.KE,et.R9,ft.Nt,it.i$,it.Tg,Q.VK,Q.OP,Q.p6,l.NW,pt.Ou,V.YE,V.nU,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.ge,y.ev,y.XQ,y.Gk,dt.gM,k.DefaultValueAccessor,k.NgControlStatus,k.FormControlDirective,lt.xw,lt.yH,xt.oO,Ct.r,ot.yS,ot.Od,I.gd,I.rS,I.uU,tt.X$],styles:["#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.form-field[_ngcontent-%COMP%]{margin-top:6px}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%]{width:15%}.mat-column-createdAtFilter[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]{width:6rem}.mat-column-createdAtFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-timeTableFilter[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]{width:6rem}.mat-column-timeTableFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-fromFilter[_ngcontent-%COMP%], .mat-column-from[_ngcontent-%COMP%]{width:15%;padding-left:.5rem!important}.mat-column-toFilter[_ngcontent-%COMP%], .mat-column-to[_ngcontent-%COMP%]{width:25%;padding-left:.5rem!important}.mat-column-subjectFilter[_ngcontent-%COMP%], .mat-column-subject[_ngcontent-%COMP%]{width:auto;padding-left:.5rem!important}[_nghost-%COMP%]     .job-desc-table{width:100%!important}[_nghost-%COMP%]     table.mailTable tr td, [_nghost-%COMP%]     table.mailTable tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table.mailTable tr td:nth-child(1), [_nghost-%COMP%]     table.mailTable tr th:nth-child(1){padding-left:0!important;text-align:center!important}[_nghost-%COMP%]     table.mailTable tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table.mailTable tr th{vertical-align:top}[_nghost-%COMP%]     table.mailTable tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table.mailTable tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2), [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2) th, [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.bg-color[_ngcontent-%COMP%]{background-color:#fff}.right-float[_ngcontent-%COMP%]{float:right;margin-left:5px;background-color:gray}.btnReset[_ngcontent-%COMP%]{margin-left:5px;height:45px;background-color:#607d8b}.fontSize[_ngcontent-%COMP%]{font-size:1.25rem}.header-alignment[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:.5rem!important}.icon-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:50%}.mail-type-list-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:5px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{padding:0}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{border-left:8px solid;transition-property:background;transition-duration:.3s;transition-timing-function:linear;cursor:pointer}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-inbox[_ngcontent-%COMP%]{border-left-color:#009846}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-sent[_ngcontent-%COMP%]{border-left-color:#846573}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-important[_ngcontent-%COMP%]{border-left-color:#e51a4b}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-draft[_ngcontent-%COMP%]{border-left-color:#ffed00}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-trash[_ngcontent-%COMP%]{border-left-color:#d9dada}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:15px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%], .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:focus, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:active{background-color:#212121}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:8px;width:35px;height:35px;min-width:initial;background-color:gray;color:#fff;line-height:14px;margin-right:2px;border-radius:2px}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0}.mail-controls[_ngcontent-%COMP%]   .reply-btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}[_nghost-%COMP%]     svg{padding-right:4px;padding-bottom:5px!important}.resetBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#607d8b!important}.actionBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#ffd740!important}[_nghost-%COMP%]     .resetBtn svg{padding-bottom:3px!important}[_nghost-%COMP%]     .matFormModif .mat-form-field-wrapper{margin-right:14px}.view-message-section[_ngcontent-%COMP%]{background:white;width:100%;color:#000;padding:20px}.view-mailbox-template[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;flex:1 1 100%;box-sizing:border-box;-webkit-box-flex:1;max-width:100%}.view-mailbox-by-side[_ngcontent-%COMP%]{flex:1 1 50%;box-sizing:border-box;-webkit-box-flex:1;max-width:50%}button.mail-action-btn.mat-button[_ngcontent-%COMP%]{min-width:initial;padding:5px;font-size:15px;line-height:20px;margin-right:.33333rem}.compose-mail-action[_ngcontent-%COMP%]{display:inline-block}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;border-bottom:1px solid #ababab}.unreadNotify[_ngcontent-%COMP%]{color:#fff;margin-left:10px;background-color:red;padding:3px 8px;border-radius:50%}[_nghost-%COMP%]  .unread:checked{border-color:#fff!important}[_nghost-%COMP%]  .unread .mat-checkbox-inner-container{background-color:red!important;border-radius:4px}.message_detail[_ngcontent-%COMP%]{margin-top:5px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-rncp[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-usertype[_ngcontent-%COMP%]{margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.mail-cc[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.message_view[_ngcontent-%COMP%]{flex:1 1 .000000001px;box-sizing:border-box;-webkit-box-flex:1}tr.mat-row[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px 5px 10px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.yellow-admtc[_ngcontent-%COMP%]{background-color:#ffd740!important;color:#000!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.break-word[_ngcontent-%COMP%]{width:100%;overflow-wrap:break-word}.top-space[_ngcontent-%COMP%]{margin-top:30px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}  .blue-link-format{cursor:pointer!important;color:#06f!important;text-decoration:underline!important}  .size-school-logo{max-width:170px!important;max-height:150px!important}  .mat-menu-panel{min-height:auto}  .mat-menu-content .mat-menu-item{border-bottom:1px solid #dadada}  .mat-menu-content:not(:empty){padding-bottom:0}"]}),i})()},31361:(en,nt,c)=>{c.d(nt,{C:()=>ge});var l=c(94650),V=c(9749),$=c(24006),z=c(35226),K=c.n(z),D=c(68745),W=c(80013),k=c(34318),A=c(29521),L=c(17489),H=c(89383),N=c(65938),J=c(28248),rt=c(87746),G=c(52688),M=c(80484),at=c(91013),q=c(94442),I=c(79710),t=c(73555),gt=c(47957),Mt=c(3238),tt=c(4859),st=c(77331),vt=c(97392),mt=c(59549),Ot=c(284),yt=c(51572),Tt=c(84385),_t=c(90455),Et=c(10266),ht=c(36895),X=c(37204),ct=c(88796);const et=["languagesInput"],ft=["recipientCc"],it=["recipientBcc"],Q=["auto"],pt=["myInput"],dt=["chipList"];function lt(x,T){1&x&&(l.\u0275\u0275elementStart(0,"mat-icon",28),l.\u0275\u0275text(1,"send"),l.\u0275\u0275elementEnd())}function xt(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"mat-icon",29),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(p);const d=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(d.sendMail())}),l.\u0275\u0275pipe(1,"translate"),l.\u0275\u0275text(2,"send"),l.\u0275\u0275elementEnd()}2&x&&l.\u0275\u0275propertyInterpolate("matTooltip",l.\u0275\u0275pipeBind1(1,1,"MailBox.SEND"))}function Ct(x,T){if(1&x&&(l.\u0275\u0275elementStart(0,"mat-option",32),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()),2&x){const p=T.$implicit;l.\u0275\u0275property("value",p._id),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,2,p.scholar_season))}}function ot(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"mat-select",30),l.\u0275\u0275listener("selectionChange",function(){l.\u0275\u0275restoreView(p);const d=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(d.getDataSchool())}),l.\u0275\u0275template(2,Ct,3,4,"mat-option",31),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()}if(2&x){const p=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("ngForOf",p.scholars)}}function bt(x,T){1&x&&(l.\u0275\u0275elementStart(0,"mat-option",34),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()),2&x&&(l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")))}function Pt(x,T){if(1&x&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"mat-select"),l.\u0275\u0275template(2,bt,3,3,"mat-option",33),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()),2&x){const p=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",0===p.scholars.length)}}function St(x,T){if(1&x&&(l.\u0275\u0275elementStart(0,"mat-option",32),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()),2&x){const p=T.$implicit;l.\u0275\u0275property("value",p._id),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,2,p.short_name))}}function wt(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"mat-select",35),l.\u0275\u0275listener("selectionChange",function(){l.\u0275\u0275restoreView(p);const d=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(d.getDataCampus())}),l.\u0275\u0275template(2,St,3,4,"mat-option",31),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()}if(2&x){const p=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("ngForOf",p.school)}}function Dt(x,T){1&x&&(l.\u0275\u0275elementStart(0,"mat-option",34),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()),2&x&&(l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")))}function It(x,T){if(1&x&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"mat-select"),l.\u0275\u0275template(2,Dt,3,3,"mat-option",33),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()),2&x){const p=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",0===p.school.length)}}function Bt(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"mat-option",18),l.\u0275\u0275listener("click",function(){const u=l.\u0275\u0275restoreView(p).$implicit,h=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(h.clickCampus(u._id))}),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()}if(2&x){const p=T.$implicit;l.\u0275\u0275property("value",p._id),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,2,p.name))}}function kt(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"mat-select",36),l.\u0275\u0275listener("selectionChange",function(d){l.\u0275\u0275restoreView(p);const u=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(u.getDataLevel(d))}),l.\u0275\u0275template(2,Bt,3,4,"mat-option",19),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()}if(2&x){const p=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("ngForOf",p.campusList)}}function Lt(x,T){1&x&&(l.\u0275\u0275elementStart(0,"mat-option",34),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()),2&x&&(l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")))}function Rt(x,T){if(1&x&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"mat-select"),l.\u0275\u0275template(2,Lt,3,3,"mat-option",33),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()),2&x){const p=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",0===p.campusList.length)}}function Ft(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"mat-option",18),l.\u0275\u0275listener("click",function(){const u=l.\u0275\u0275restoreView(p).$implicit,h=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(h.clickLevel(u._id))}),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()}if(2&x){const p=T.$implicit;l.\u0275\u0275property("value",p._id),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,2,p.name))}}function At(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"mat-select",37),l.\u0275\u0275listener("selectionChange",function(d){l.\u0275\u0275restoreView(p);const u=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(u.getSectors(d))}),l.\u0275\u0275template(2,Ft,3,4,"mat-option",19),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()}if(2&x){const p=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("ngForOf",p.levels)}}function Vt(x,T){1&x&&(l.\u0275\u0275elementStart(0,"mat-option",34),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()),2&x&&(l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")))}function Ut(x,T){if(1&x&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"mat-select"),l.\u0275\u0275template(2,Vt,3,3,"mat-option",33),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()),2&x){const p=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",0===p.levels.length)}}function Wt(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"mat-option",18),l.\u0275\u0275listener("click",function(){const u=l.\u0275\u0275restoreView(p).$implicit,h=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(h.clickSector(u._id))}),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()}if(2&x){const p=T.$implicit;l.\u0275\u0275property("value",p._id),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,2,p.name))}}function Nt(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"mat-select",38),l.\u0275\u0275listener("selectionChange",function(d){l.\u0275\u0275restoreView(p);const u=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(u.getSpeciality(d))}),l.\u0275\u0275template(2,Wt,3,4,"mat-option",19),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()}if(2&x){const p=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("ngForOf",p.sectorList)}}function $t(x,T){1&x&&(l.\u0275\u0275elementStart(0,"mat-option",34),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()),2&x&&(l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")))}function Kt(x,T){if(1&x&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"mat-select"),l.\u0275\u0275template(2,$t,3,3,"mat-option",33),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()),2&x){const p=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",0===p.sectorList.length)}}function jt(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"mat-option",18),l.\u0275\u0275listener("click",function(){const u=l.\u0275\u0275restoreView(p).$implicit,h=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(h.clickSpeciality(u._id))})("click",function(){const u=l.\u0275\u0275restoreView(p).$implicit,h=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(h.selectSpeciality(u._id))}),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()}if(2&x){const p=T.$implicit;l.\u0275\u0275property("value",p._id),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,2,p.name))}}function Gt(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"ng-option",42),l.\u0275\u0275listener("change",function(){const u=l.\u0275\u0275restoreView(p).$implicit,h=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(h.selectedUserType(u._id))}),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()}if(2&x){const p=T.$implicit;l.\u0275\u0275property("value",p._id),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,2,"USER_TYPES."+p.name))}}function zt(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",39)(1,"ng-select",40),l.\u0275\u0275listener("change",function(d){l.\u0275\u0275restoreView(p);const u=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(u.selectedUserType(d))}),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275template(3,Gt,3,4,"ng-option",41),l.\u0275\u0275elementEnd()()}if(2&x){const p=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275propertyInterpolate1("placeholder","",l.\u0275\u0275pipeBind1(2,3,"TUTORIAL_MENU.CATEGORY"),"*"),l.\u0275\u0275property("multiple",!0),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngForOf",p.userTypesList)}}function Ht(x,T){1&x&&(l.\u0275\u0275elementStart(0,"mat-icon",52),l.\u0275\u0275text(1,"cancel"),l.\u0275\u0275elementEnd())}function Yt(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"mat-chip",50),l.\u0275\u0275listener("removed",function(){const u=l.\u0275\u0275restoreView(p).$implicit,h=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(h.removeTo(u))}),l.\u0275\u0275text(1),l.\u0275\u0275template(2,Ht,2,0,"mat-icon",51),l.\u0275\u0275elementEnd()}if(2&x){const p=T.$implicit,_=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("selectable",_.selectable)("removable",_.removable),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",p," "),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",_.removable)}}function Qt(x,T){1&x&&(l.\u0275\u0275elementStart(0,"mat-error"),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()),2&x&&(l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Zt(x,T){if(1&x&&(l.\u0275\u0275elementStart(0,"mat-option",32),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),2&x){const p=T.$implicit;l.\u0275\u0275property("value",p),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",p," ")}}function Xt(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"mat-form-field",43)(1,"mat-chip-list",null,44),l.\u0275\u0275template(3,Yt,3,4,"mat-chip",45),l.\u0275\u0275elementStart(4,"input",46,47),l.\u0275\u0275listener("matChipInputTokenEnd",function(d){l.\u0275\u0275restoreView(p);const u=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(u.addTo(d))})("change",function(d){l.\u0275\u0275restoreView(p);const u=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(u.validateTo(d))}),l.\u0275\u0275elementEnd()(),l.\u0275\u0275template(6,Qt,3,3,"mat-error",16),l.\u0275\u0275elementStart(7,"mat-autocomplete",48,49),l.\u0275\u0275listener("optionSelected",function(d){l.\u0275\u0275restoreView(p);const u=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(u.setSelectedEmailTo(d))}),l.\u0275\u0275template(9,Zt,2,2,"mat-option",31),l.\u0275\u0275elementEnd()()}if(2&x){const p=l.\u0275\u0275reference(2),_=l.\u0275\u0275reference(8),d=l.\u0275\u0275nextContext();l.\u0275\u0275advance(3),l.\u0275\u0275property("ngForOf",d.selectedEmailTo),l.\u0275\u0275advance(1),l.\u0275\u0275property("matAutocomplete",_)("matChipInputFor",p)("matChipInputSeparatorKeyCodes",d.separatorKeysCodes)("matChipInputAddOnBlur",d.addOnBlur),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",d.sendEmailForm.get("to").hasError("required")&&(d.sendEmailForm.get("to").dirty||d.sendEmailForm.get("to").touched)),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngForOf",d.emailAddressesListTo)}}function Jt(x,T){1&x&&(l.\u0275\u0275elementStart(0,"mat-icon",52),l.\u0275\u0275text(1,"cancel"),l.\u0275\u0275elementEnd())}function qt(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"mat-chip",50),l.\u0275\u0275listener("removed",function(){const u=l.\u0275\u0275restoreView(p).$implicit,h=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(h.removeCc(u))}),l.\u0275\u0275text(1),l.\u0275\u0275template(2,Jt,2,0,"mat-icon",51),l.\u0275\u0275elementEnd()}if(2&x){const p=T.$implicit,_=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("selectable",_.selectable)("removable",_.removable),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",p," "),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",_.removable)}}function te(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"mat-option",18),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(p);const d=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(d.resetValueCc())}),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()}if(2&x){const p=T.$implicit;l.\u0275\u0275property("value",p),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",p," ")}}function ee(x,T){1&x&&(l.\u0275\u0275elementStart(0,"mat-error"),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()),2&x&&(l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ne(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"mat-form-field",43)(1,"mat-chip-list",null,53),l.\u0275\u0275template(3,qt,3,4,"mat-chip",45),l.\u0275\u0275elementStart(4,"input",54,55),l.\u0275\u0275listener("matChipInputTokenEnd",function(d){l.\u0275\u0275restoreView(p);const u=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(u.addCc(d))}),l.\u0275\u0275pipe(6,"translate"),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(7,"mat-autocomplete",48,49),l.\u0275\u0275listener("optionSelected",function(d){l.\u0275\u0275restoreView(p);const u=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(u.setSelectedEmailCc(d))}),l.\u0275\u0275template(9,te,2,2,"mat-option",19),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(10,ee,3,3,"mat-error",16),l.\u0275\u0275elementEnd()}if(2&x){const p=l.\u0275\u0275reference(2),_=l.\u0275\u0275reference(8),d=l.\u0275\u0275nextContext();l.\u0275\u0275advance(3),l.\u0275\u0275property("ngForOf",d.selectedEmailCc),l.\u0275\u0275advance(1),l.\u0275\u0275propertyInterpolate1("placeholder"," ",l.\u0275\u0275pipeBind1(6,8,"MailBox.composeMail.cc"),""),l.\u0275\u0275property("matAutocomplete",_)("matChipInputFor",p)("matChipInputSeparatorKeyCodes",d.separatorKeysCodesCc)("matChipInputAddOnBlur",d.addOnBlurCc),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngForOf",d.emailAddressesListCc),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",d.sendEmailForm.get("cc").hasError("required")&&(d.sendEmailForm.get("cc").dirty||d.sendEmailForm.get("cc").touched))}}function ie(x,T){1&x&&(l.\u0275\u0275elementStart(0,"mat-icon",52),l.\u0275\u0275text(1,"cancel"),l.\u0275\u0275elementEnd())}function ae(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"mat-chip",50),l.\u0275\u0275listener("removed",function(){const u=l.\u0275\u0275restoreView(p).$implicit,h=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(h.removeBcc(u))}),l.\u0275\u0275text(1),l.\u0275\u0275template(2,ie,2,0,"mat-icon",51),l.\u0275\u0275elementEnd()}if(2&x){const p=T.$implicit,_=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("selectable",_.selectable)("removable",_.removable),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",p," "),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",_.removable)}}function le(x,T){if(1&x&&(l.\u0275\u0275elementStart(0,"mat-option",32),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),2&x){const p=T.$implicit;l.\u0275\u0275property("value",p),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",p," ")}}function oe(x,T){1&x&&(l.\u0275\u0275elementStart(0,"mat-error"),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()),2&x&&(l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,1,"This field is required")))}function re(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"mat-form-field",43)(1,"mat-chip-list",null,56),l.\u0275\u0275template(3,ae,3,4,"mat-chip",45),l.\u0275\u0275elementStart(4,"input",57,58),l.\u0275\u0275listener("matChipInputTokenEnd",function(d){l.\u0275\u0275restoreView(p);const u=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(u.addBcc(d))}),l.\u0275\u0275pipe(6,"translate"),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(7,"mat-autocomplete",48,49),l.\u0275\u0275listener("optionSelected",function(d){l.\u0275\u0275restoreView(p);const u=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(u.setSelectedEmailBcc(d))}),l.\u0275\u0275template(9,le,2,2,"mat-option",31),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(10,oe,3,3,"mat-error",16),l.\u0275\u0275elementEnd()}if(2&x){const p=l.\u0275\u0275reference(2),_=l.\u0275\u0275reference(8),d=l.\u0275\u0275nextContext();l.\u0275\u0275advance(3),l.\u0275\u0275property("ngForOf",d.selectedEmailBcc),l.\u0275\u0275advance(1),l.\u0275\u0275propertyInterpolate1("placeholder"," ",l.\u0275\u0275pipeBind1(6,8,"MailBox.composeMail.bcc"),""),l.\u0275\u0275property("matAutocomplete",_)("matChipInputFor",p)("matChipInputSeparatorKeyCodes",d.separatorKeysCodesBcc)("matChipInputAddOnBlur",d.addOnBlurBcc),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngForOf",d.emailAddressesListBcc),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",d.sendEmailForm.get("bcc").hasError("required")&&(d.sendEmailForm.get("bcc").dirty||d.sendEmailForm.get("bcc").touched))}}function se(x,T){1&x&&(l.\u0275\u0275elementStart(0,"mat-error"),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()),2&x&&(l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ce(x,T){if(1&x){const p=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",59)(1,"button",60)(2,"mat-icon"),l.\u0275\u0275text(3,"insert_drive_file"),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(4,"label"),l.\u0275\u0275text(5),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"button",61),l.\u0275\u0275listener("click",function(){const u=l.\u0275\u0275restoreView(p).$implicit,h=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(h.removeAttachment(u))}),l.\u0275\u0275elementStart(7,"mat-icon"),l.\u0275\u0275text(8," close "),l.\u0275\u0275elementEnd()()()}if(2&x){const p=T.$implicit;l.\u0275\u0275advance(5),l.\u0275\u0275textInterpolate(p.name)}}function pe(x,T){1&x&&(l.\u0275\u0275elementStart(0,"div",62),l.\u0275\u0275element(1,"mat-progress-spinner",63),l.\u0275\u0275elementEnd())}function me(x,T){1&x&&(l.\u0275\u0275elementStart(0,"div",62),l.\u0275\u0275element(1,"mat-progress-spinner",63),l.\u0275\u0275elementEnd())}function _e(x,T){1&x&&(l.\u0275\u0275elementStart(0,"div",62),l.\u0275\u0275element(1,"mat-progress-spinner",63),l.\u0275\u0275elementEnd())}function de(x,T){1&x&&(l.\u0275\u0275elementStart(0,"div",62),l.\u0275\u0275element(1,"mat-progress-spinner",63),l.\u0275\u0275elementEnd())}function ue(x,T){1&x&&(l.\u0275\u0275elementStart(0,"div",62),l.\u0275\u0275element(1,"mat-progress-spinner",63),l.\u0275\u0275elementEnd())}var Z=(()=>{return(x=Z||(Z={})).LABEL="LABEL",x.VALUE="VALUE",x.OBJECT="OBJECT",Z;var x})();let ge=(()=>{class x{constructor(p,_,d,u,h,b,O,w,E,B){this.translate=p,this.dialogref=_,this.fb=d,this.urgentMessageService=u,this.userService=h,this.autService=b,this.fileUploadService=O,this.mailboxService=w,this.financeService=E,this.candidateService=B,this.subs=new D.Y,this.Editor=V,this.showCC=!1,this.showBCC=!1,this.userTypes=[],this.isWaitingForResponse=!1,this.isWaitingForResponseScholar=!1,this.isWaitingForResponseSchool=!1,this.isWaitingForResponseSector=!1,this.isWaitingForResponseSpeciality=!1,this.titleReady=!1,this.userReady=!1,this.userTypeReady=!1,this.titles=[],this.autocompleteUsers=[],this.autocompleteUserTypes=[],this.selectedTitleId=[],this.selectedScholarSeasonId=[],this.selectedSchoolId=[],this.selectedLevelId=[],this.selectedCampusId=[],this.selectedSectorId=[],this.selectedSpecialityId=[],this.selectedUserTypeId=[],this.scholars=[],this.school=[],this.levels=[],this.campusList=[],this.sectorList=[],this.specialityList=[],this.listObjective=[],this.realCampusList=[],this.originalListSectors=[],this.originalListSpeciality=[],this.isSelectAllCampus=!1,this.isSelectAllLevel=!1,this.isSelectAllSector=!1,this.isSelectAllSpeciality=!1,this.selectedEmailTo=[],this.selectedEmailCc=[],this.selectedEmailBcc=[],this.selectedRecepientsList=[],this.ccselectedRecepientsList=[],this.bccselectedRecepientsList=[],this.emailAddressesListTo=[],this.emailAddressesListCc=[],this.emailAddressesListBcc=[],this.isDraftMail=!1,this.DraftData=[],this.attachmnetsPaths=[],this.visible=!0,this.showCCInput=!1,this.showBCCInput=!1,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.addOnBlurCc=!0,this.addOnBlurBcc=!0,this.allowOther=!1,this.returnType=Z.LABEL,this.optionSelected=new l.EventEmitter,this.separatorKeysCodes=[A.K5,A.OC],this.separatorKeysCodesCc=[A.K5,A.OC],this.separatorKeysCodesBcc=[A.K5,A.OC],this.languagesCtrl=new $.UntypedFormControl,this.languages=[],this.recpList=[],this.recpListCc=[],this.recpListBcc=[],this.userTypeList=[],this.currentMailData=[],this.config={toolbar:["heading","|","fontsize","|","bold","italic","Underline","strikethrough","highlight","|","alignment","|","numberedList","bulletedList","|"]},this.isWarningTo=!1}ngOnInit(){this.isPermission=this.autService.getPermission(),this.currentUser=this.autService.getLocalStorageUser();const p=this.currentUser?.entities?.find(_=>_?.type?.name===this.isPermission[0]);this.currentUserTypeId=p?.type?._id,this.initFormField(),this.mailSignature(),this.getUserTypeList(),this.CheckforDraft(),this.getDataScholarSeasons(),this.getDataForList(),this.getDataForSectors()}getDataScholarSeasons(){this.isWaitingForResponseScholar=!0,this.subs.sink=this.financeService.GetAllScholarSeasonsPublished().subscribe(p=>{this.isWaitingForResponseScholar=!1,p&&p.length&&(this.scholars=p)},p=>{this.autService.postErrorLog(p),this.isWaitingForResponseScholar=!1,K().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDataForList(){this.subs.sink=this.candidateService.GetDataForImportObjectives("",this.currentUserTypeId).subscribe(_=>{_&&(this.listObjective=_)},_=>{this.autService.postErrorLog(_),K().fire({type:"info",title:this.translate.instant("SORRY"),text:_&&_.message?this.translate.instant(_.message.replaceAll("GraphQL error: ","")):_,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDataCampus(){this.levels=[],this.campusList=[],this.realCampusList=[],this.sectorList=[],this.specialityList=[],this.sendEmailForm.get("campuses").setValue(null),this.sendEmailForm.get("levels").setValue(null),this.sendEmailForm.get("sectors").setValue(null),this.sendEmailForm.get("specialities").setValue(null);let p=this.sendEmailForm.get("school_id").value;if(p&&p.length&&("ALL"===p||"Tous"===p)){const _=this.sendEmailForm.get("scholar_season_id").value;let d;d=this.listObjective.filter(h=>h.scholar_season_id.find(b=>b._id===_));const u=[];if(d.length>0){const h=d.filter(b=>"ALL"!==b._id&&"Tous"!==b._id);if(h.length>0){h.forEach(w=>{u.push(w._id)}),this.sendEmailForm.get("school_id").patchValue(u);const b=h;this.campusList.push({_id:"ALL",name:"AllS"}),b.forEach(w=>{w&&w.campuses&&w.campuses.length&&w.campuses.forEach(E=>{this.campusList.push(E),this.realCampusList.push(E)})}),this.campusList=L.uniqBy(this.campusList,"_id")}else this.campusList=[],this.realCampusList=[]}else this.campusList=[],this.realCampusList=[]}else{p=L.cloneDeep(this.sendEmailForm.get("school_id").value);const _=this.listObjective.filter(u=>p.includes(u._id));this.campusList.push({_id:"ALL",name:"AllS"}),_.filter((u,h)=>{u.campuses&&u.campuses.length&&u.campuses.filter((b,O)=>{this.campusList.push(b),this.realCampusList.push(b)})}),this.campusList=L.uniqBy(this.campusList,"_id")}}getDataSchool(){this.sendEmailForm.get("school_id").setValue(null),this.sendEmailForm.get("campuses").setValue(null),this.sendEmailForm.get("levels").setValue(null),this.sendEmailForm.get("sectors").setValue(null),this.sendEmailForm.get("specialities").setValue(null),this.school=[],this.campusList=[],this.levels=[],this.specialityList=[],this.sectorList=[];const p=this.sendEmailForm.get("scholar_season_id").value,_=this.listObjective.filter(d=>d.scholar_season_id.find(u=>u._id===p));_.length>0?this.school.push(..._):this.school=[]}getDataLevel(p){this.levels=[],this.sendEmailForm.get("levels").setValue(null),this.sendEmailForm.get("sectors").setValue(null),this.sendEmailForm.get("specialities").setValue(null);let _=L.cloneDeep(this.sendEmailForm.get("campuses").value);const d=_.filter(u=>"ALL"===u||"Tous"===u);if(d&&d.length&&("ALL"===d[0]||"Tous"===d[0])){const u=[],h=this.realCampusList.filter(w=>"ALL"!==w._id&&"Tous"!==w._id);h.forEach(w=>{u.push(w._id)}),this.sendEmailForm.get("campuses").patchValue(["ALL",...u]);const b=h;this.levels.push({_id:"ALL",name:"AllS"}),b.forEach(w=>{w&&w.levels&&w.levels.length&&w.levels.forEach(E=>{this.levels.push(E)})}),this.levels=L.uniqBy(this.levels,"_id")}else if(_=L.cloneDeep(this.sendEmailForm.get("campuses").value),_&&_.length){const u=this.realCampusList.filter(b=>_.includes(b._id));this.levels.push({_id:"ALL",name:"AllS"}),u.forEach(b=>{b&&b.levels&&b.levels.length&&b.levels.forEach(O=>{this.levels.push(O)})}),this.levels=L.uniqBy(this.levels,"_id")}else this.levels=[];if(_&&_.length&&(_.includes("ALL")||_.includes("Tous")))if(this.isSelectAllCampus=!0,this.isSelectAllCampus){if(p&&p.value&&p.value.length&&(p.value.includes("ALL")||p.value.includes("Tous"))&&p.value.length===this.realCampusList.length){const u=_.filter(h=>"ALL"!==h&&"Tous"!==h);this.sendEmailForm.get("campuses").setValue(u)}}else{const u=_.filter(h=>"ALL"!==h&&"Tous"!==h);this.sendEmailForm.get("campuses").setValue(u)}else 1!==this.realCampusList.length&&this.realCampusList.length===_.length&&this.isSelectAllCampus&&(this.isSelectAllCampus=!1)}clickCampus(p){const _=L.cloneDeep(this.sendEmailForm.get("campuses").value);"ALL"===p&&this.realCampusList.length===_.length&&(this.isSelectAllCampus=!1,this.sendEmailForm.get("campuses").setValue(null))}clickLevel(p){const _=L.cloneDeep(this.sendEmailForm.get("levels").value),d=this.levels.filter(u=>"ALL"!==u._id&&"Tous"!==u._id);"ALL"===p&&d.length===_.length&&(this.isSelectAllLevel=!1,this.sendEmailForm.get("levels").setValue(null))}clickSector(p){const _=L.cloneDeep(this.sendEmailForm.get("sectors").value),d=this.sectorList.filter(u=>"ALL"!==u._id&&"Tous"!==u._id);"ALL"===p&&d.length===_.length&&(this.isSelectAllSector=!1,this.sendEmailForm.get("sectors").setValue(null))}clickSpeciality(p){const _=L.cloneDeep(this.sendEmailForm.get("specialities").value),d=this.specialityList.filter(u=>"ALL"!==u._id&&"Tous"!==u._id);"ALL"===p&&d.length===_.length&&(this.isSelectAllSpeciality=!1,this.sendEmailForm.get("specialities").setValue(null))}getDataForSectors(){this.isWaitingForResponseSector=!0,this.subs.sink=this.financeService.GetAllSectorsDropdownWithoutFilter().subscribe(p=>{this.isWaitingForResponseSector=!1,p&&(this.originalListSectors=p.map(_=>{const d=_.school_id.map(O=>O._id),u=_.campus_id.map(O=>O._id),h=_.level_id.map(O=>O._id);return{_id:_._id,name:_.name,school_id:d,level_id:h,campus_id:u,scholar_season_id:_&&_.scholar_season_id&&_.scholar_season_id._id?_.scholar_season_id._id:null}}))},p=>{this.autService.postErrorLog(p),this.isWaitingForResponseSector=!1,this.originalListSectors=[]})}getSectors(p){this.sendEmailForm.get("sectors").setValue(null),this.sendEmailForm.get("specialities").setValue(null),this.sectorList=[];const _=L.cloneDeep(this.sendEmailForm.get("levels").value),d=_.filter(E=>"ALL"===E||"Tous"===E);if(d&&d.length&&("ALL"===d[0]||"Tous"===d[0])){const E=[];this.levels.filter(S=>"ALL"!==S._id&&"Tous"!==S._id).forEach(S=>{E.push(S._id)}),this.sendEmailForm.get("levels").patchValue(["ALL",...E])}if(_&&_.length&&(_.includes("ALL")||_.includes("Tous"))){if(this.isSelectAllLevel=!this.isSelectAllLevel,!this.isSelectAllLevel){const E=_.filter(B=>"ALL"!==B&&"Tous"!==B);this.sendEmailForm.get("levels").setValue(E)}}else this.isSelectAllLevel=!1;const u=this.sendEmailForm.get("scholar_season_id").value,h=this.sendEmailForm.get("campuses").value,b=this.sendEmailForm.get("levels").value,O={scholar_season_id:u,candidate_school_ids:this.sendEmailForm.get("school_id").value,campuses:h&&h.length?h.filter(E=>"ALL"!==E&&"Tous"!==E):[],levels:b&&b.length?b.filter(E=>"ALL"!==E&&"Tous"!==E):[]},w={_id:"ALL",name:"AllS"};if(this.originalListSectors.length>0){let E=this.originalListSectors.filter(B=>{const S=B.school_id.includes(O.candidate_school_ids)?O.candidate_school_ids:null,U=O.campuses.some(ut=>B.campus_id&&B.campus_id.includes(ut)),f=O.levels.some(ut=>B.level_id.includes(ut));if(S&&U&&f&&O.scholar_season_id===B.scholar_season_id)return B});E.length>0?(this.sectorList.push(w),E=E.map(B=>({_id:B._id,name:B.name})),E.forEach(B=>{this.sectorList.push(B)})):this.sectorList=[]}else this.sectorList=[]}getSpeciality(p){this.sendEmailForm.get("specialities").setValue(null),this.specialityList=[];const _=L.cloneDeep(this.sendEmailForm.get("sectors").value),d=_.filter(S=>"ALL"===S||"Tous"===S);if(d&&d.length&&("ALL"===d[0]||"Tous"===d[0])){const S=[];this.sectorList.filter(f=>"ALL"!==f._id&&"Tous"!==f._id).forEach(f=>{S.push(f._id)}),this.sendEmailForm.get("sectors").patchValue(["ALL",...S])}if(_&&_.length&&(_.includes("ALL")||_.includes("Tous"))){if(this.isSelectAllSector=!this.isSelectAllSector,!this.isSelectAllSector){const S=_.filter(U=>"ALL"!==U&&"Tous"!==U);this.sendEmailForm.get("sectors").setValue(S)}}else this.isSelectAllSector=!1;const u=this.sendEmailForm.get("scholar_season_id").value,h=this.sendEmailForm.get("campuses").value,b=this.sendEmailForm.get("levels").value,O=this.sendEmailForm.get("sectors").value,E=(this.sendEmailForm.get("specialities"),{scholar_season_id:u,candidate_school_ids:this.sendEmailForm.get("school_id").value,campuses:h&&h.length?h.filter(S=>"ALL"!==S&&"Tous"!==S):[],levels:b&&b.length?b.filter(S=>"ALL"!==S&&"Tous"!==S):[],sectors:O&&O.length?O.filter(S=>"ALL"!==S&&"Tous"!==S):[]});this.selectedSpeciality("");const B={_id:"ALL",name:"AllS"};this.isWaitingForResponseSector=!0,this.subs.sink=this.candidateService.GetAllSpecializationsByScholar(E).subscribe(S=>{if(this.isWaitingForResponseSector=!1,S)if(this.originalListSpeciality=L.cloneDeep(S),this.originalListSpeciality.length>0){this.specialityList=[];let U=this.originalListSpeciality;U.length>0?(this.specialityList.push(B),U=U.map(f=>({_id:f._id,name:f.name})),U.forEach(f=>{this.specialityList.push(f)})):this.specialityList=[]}else this.specialityList=[]},S=>{this.autService.postErrorLog(S),this.isWaitingForResponseSector=!1,this.specialityList=[],K().fire({type:"info",title:this.translate.instant("SORRY"),text:S&&S.message?this.translate.instant(S.message.replaceAll("GraphQL error: ","")):S,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}selectSpeciality(p){let _=this.sendEmailForm.get("specialities").value;"None"===p?_&&_.length<1?this.sendEmailForm.get("specialities").setValue(null):this.sendEmailForm.get("specialities").setValue(["None"]):_&&_.length&&(_=_.filter(d=>"None"!==d),this.sendEmailForm.get("specialities").setValue(_))}selectedSpeciality(p){this.userReady=!1;const _=L.cloneDeep(this.sendEmailForm.get("specialities").value);if(_&&_.length&&(_.includes("ALL")||_.includes("Tous"))){const d=[];if(this.specialityList.filter(h=>"ALL"!==h&&"Tous"!==h).forEach(h=>{d.push(h._id)}),this.sendEmailForm.get("specialities").patchValue(["ALL",...d]),this.isSelectAllSpeciality=!this.isSelectAllSpeciality,!this.isSelectAllSpeciality){const h=_.filter(b=>"ALL"!==b&&"Tous"!==b);this.sendEmailForm.get("specialities").setValue(h)}}else this.isSelectAllSpeciality=!1;if(this.sendEmailForm.get("categoryChecked").value)if("5fe98eeadb866c403defdc6c"===this.sendEmailForm.get("originalUserTypes").value){const u=this.sendEmailForm.get("campuses").value,h=this.sendEmailForm.get("levels").value,w=(this.sendEmailForm.get("sectors"),this.sendEmailForm.get("specialities"),{school:this.sendEmailForm.get("school_id").value,campuses:u&&u.length?u.filter(E=>"ALL"!==E&&"Tous"!==E):[],levels:h&&h.length?h.filter(E=>"ALL"!==E&&"Tous"!==E):[]});this.userService.getAllCandidates(w).subscribe(E=>{this.userRecipientList=E},E=>{this.autService.postErrorLog(E),K().fire({type:"info",title:this.translate.instant("SORRY"),text:E&&E.message?this.translate.instant(E.message.replaceAll("GraphQL error: ","")):E,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}else this.userService.getUserTypesByEntityEdh().subscribe(u=>{this.userRecipientList=u},u=>{this.autService.postErrorLog(u),K().fire({type:"info",title:this.translate.instant("SORRY"),text:u&&u.message?this.translate.instant(u.message.replaceAll("GraphQL error: ","")):u,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}initFormField(){this.sendEmailForm=this.fb.group({to:["",[$.Validators.required,k.I8]],cc:["",[k.I8]],bcc:["",[k.I8]],subject:["",[$.Validators.required,k.I8]],message:["",$.Validators.required],categoryChecked:[!1],userTypes:[[]],originalUserTypes:[""],school_id:[null,$.Validators.required],campuses:[null,$.Validators.required],scholar_season_id:[null,$.Validators.required],levels:[null,$.Validators.required],sectors:[null,$.Validators.required],specialities:[null]})}handleInputChange(p){const _=p.target.files[0];_&&(this.subs.sink=this.fileUploadService.singleUpload(_).subscribe(d=>{d&&this.attachmnetsPaths.push({path:d.file_url,name:d.file_name})},d=>{this.autService.postErrorLog(d),K().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:"OK"})})),this.resetFileState()}removeAttachment(p){this.attachmnetsPaths.splice(this.attachmnetsPaths.indexOf(p),1)}resetFileState(){this.currentFile.nativeElement.value=""}onReady(p){p.ui.getEditableElement().parentElement.insertBefore(p.ui.view.toolbar.element,p.ui.getEditableElement())}setSelectedEmail(p,_){_.setValue(p)}closeDialog(){K().fire({title:this.translate.instant("MailBox.composeMail.DRAFT.TITLE"),html:this.translate.instant("MailBox.composeMail.DRAFT.TEXT"),type:"warning",showCancelButton:!0,confirmButtonText:this.translate.instant("MailBox.composeMail.DRAFT.CONFIRMBTN"),cancelButtonText:this.translate.instant("MailBox.composeMail.DRAFT.DECBTN")}).then(p=>{p.value?(this.saveDraft(),this.dialogref.close()):this.dialogref.close()})}categoryChange(p){p.checked?(this.sendEmailForm.get("userTypes").setValidators([$.Validators.required]),this.sendEmailForm.get("userTypes").updateValueAndValidity()):(this.sendEmailForm.get("userTypes").patchValue(null),this.sendEmailForm.get("userTypes").updateValueAndValidity(),this.sendEmailForm.get("userTypes").clearValidators(),this.sendEmailForm.get("userTypes").updateValueAndValidity()),this.resetRecipientList()}saveDraft(){if(this.isDraftMail){this.isWaitingForResponse=!0;const p=this.sendEmailForm.value;if(""!==p.subject||""!==p.message&&void 0!==p.message){const _=[];this.mailData={};const d=this.recpList,u=this.recpListCc,h=this.recpListBcc;this.currentUser=this.autService.getLocalStorageUser();const b={sender:this.currentUser.email,is_read:!1,mail_type:"draft"};if(d){const f=d.toString().split(",");for(let v=0;v<f.length;v++)f[v]=f[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(f[v])&&_.push({recipients:[f[v]],rank:"a",is_read:!1,mail_type:"draft"})}if(u){const f=u.toString().split(",");for(let v=0;v<f.length;v++)f[v]=f[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(f[v])&&_.push({recipients:[f[v]],rank:"cc",is_read:!1,mail_type:"draft"})}if(h){const f=h.toString().split(",");for(let v=0;v<f.length;v++)f[v]=f[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(f[v])&&_.push({recipients:[f[v]],rank:"c",is_read:!1,mail_type:"draft"})}const O=[],w=[],E=this.sendEmailForm.get("campuses").value,B=this.sendEmailForm.get("levels").value,S=this.sendEmailForm.get("sectors").value,U=this.sendEmailForm.get("specialities").value;this.attachmnetsPaths.forEach(f=>{const v={file_name:f.name,path:f.path};w.push(f.name),O.push(v)}),this.mailData.sender_property=b,this.mailData.recipient_properties=_,this.mailData.subject=p.subject,this.mailData.message=p.message,this.mailData.is_sent=!1,this.mailData.status="active",this.mailData.is_urgent_mail=!1,this.mailData.attachments=w,this.mailData.file_attachments=O,this.mailData.tags=["draft"],this.mailData.is_group_parent=!0,this.mailData.user_type_selection=this.sendEmailForm.get("categoryChecked").value,this.mailData.group_detail={user_types:this.sendEmailForm.get("originalUserTypes").value,school_id:this.sendEmailForm.get("school_id").value,campuses:E&&E.length?E.filter(f=>"ALL"!==f&&"Tous"!==f):[],scholar_season_id:this.sendEmailForm.get("scholar_season_id").value,levels:B&&B.length?B.filter(f=>"ALL"!==f&&"Tous"!==f):[],sectors:S&&S.length?S.filter(f=>"ALL"!==f&&"Tous"!==f):[],specialities:U&&U.length?U.filter(f=>"ALL"!==f&&"Tous"!==f&&"None"!==f):[]},this.subs.sink=this.mailboxService.updateSingleMail(this.DraftData._id,this.mailData).subscribe(f=>{this.isWaitingForResponse=!1,K().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DRAFTMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")})},f=>{this.autService.postErrorLog(f),this.isWaitingForResponse=!1,K().fire({type:"info",title:this.translate.instant("SORRY"),text:f&&f.message?this.translate.instant(f.message.replaceAll("GraphQL error: ","")):f,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}else{this.isWaitingForResponse=!0;const p=this.sendEmailForm.value;if(""!==p.subject||""!==p.message&&void 0!==p.message){const _=[];this.mailData={};const d=this.recpList,u=this.recpListCc,h=this.recpListBcc;this.currentUser=this.autService.getLocalStorageUser();const b={sender:this.currentUser.email,is_read:!1,mail_type:"draft"};if(d){const f=d.toString().split(",");for(let v=0;v<f.length;v++)f[v]=f[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(f[v])&&_.push({recipients:[f[v]],rank:"a",is_read:!1,mail_type:"draft"})}if(u){const f=u.toString().split(",");for(let v=0;v<f.length;v++)f[v]=f[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(f[v])&&_.push({recipients:[f[v]],rank:"cc",is_read:!1,mail_type:"draft"})}if(h){const f=h.toString().split(",");for(let v=0;v<f.length;v++)f[v]=f[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(f[v])&&_.push({recipients:[f[v]],rank:"c",is_read:!1,mail_type:"draft"})}const O=[],w=[],E=this.sendEmailForm.get("campuses").value,B=this.sendEmailForm.get("levels").value,S=this.sendEmailForm.get("sectors").value,U=this.sendEmailForm.get("specialities").value;this.attachmnetsPaths.forEach(f=>{const v={file_name:f.name,path:f.path};w.push(f.name),O.push(v)}),this.mailData.sender_property=b,this.mailData.recipient_properties=_,this.mailData.subject=p.subject,this.mailData.message=p.message,this.mailData.is_sent=!1,this.mailData.status="active",this.mailData.is_urgent_mail=!1,this.mailData.attachments=w,this.mailData.file_attachments=O,this.mailData.tags=["draft"],this.mailData.is_group_parent=!0,this.mailData.user_type_selection=this.sendEmailForm.get("categoryChecked").value,this.mailData.group_detail={user_types:this.sendEmailForm.get("userTypes").value,school_id:this.sendEmailForm.get("school_id").value,campuses:E&&E.length?E.filter(f=>"ALL"!==f&&"Tous"!==f):[],scholar_season_id:this.sendEmailForm.get("scholar_season_id").value,levels:B&&B.length?B.filter(f=>"ALL"!==f&&"Tous"!==f):[],sectors:S&&S.length?S.filter(f=>"ALL"!==f&&"Tous"!==f):[],specialities:U&&U.length?U.filter(f=>"ALL"!==f&&"Tous"!==f&&"None"!==f):[]},this.subs.sink=this.mailboxService.createMail(this.mailData).subscribe(f=>{this.isWaitingForResponse=!1,K().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DRAFTMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")})},f=>{this.autService.postErrorLog(f),this.isWaitingForResponse=!1,K().fire({type:"info",title:this.translate.instant("SORRY"),text:f&&f.message?this.translate.instant(f.message.replaceAll("GraphQL error: ","")):f,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}}sendMail(){if(this.isDraftMail){this.isWaitingForResponse=!0;const p=this.sendEmailForm.value;if(""!==p.subject||""!==p.message&&void 0!==p.message){const _=[];this.mailData={};const d=this.recpList,u=this.recpListCc,h=this.recpListBcc;this.currentUser=this.autService.getLocalStorageUser();const b={sender:this.currentUser.email,is_read:!1,mail_type:"sent"};if(d){const f=d.toString().split(",");for(let v=0;v<f.length;v++)f[v]=f[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(f[v])&&_.push({recipients:[f[v]],rank:"a",is_read:!1,mail_type:"inbox"})}if(u){const f=u.toString().split(",");for(let v=0;v<f.length;v++)f[v]=f[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(f[v])&&_.push({recipients:[f[v]],rank:"cc",is_read:!1,mail_type:"inbox"})}if(h){const f=h.toString().split(",");for(let v=0;v<f.length;v++)f[v]=f[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(f[v])&&_.push({recipients:[f[v]],rank:"c",is_read:!1,mail_type:"inbox"})}const O=[],w=[],E=this.sendEmailForm.get("campuses").value,B=this.sendEmailForm.get("levels").value,S=this.sendEmailForm.get("sectors").value,U=this.sendEmailForm.get("specialities").value;this.selectedUserTypeId&&this.selectedUserTypeId.length&&(this.mailData.user_type_selection=!0,this.mailData.group_detail={user_types:this.selectedUserTypeId,school_id:this.sendEmailForm.get("school_id").value,campuses:E&&E.length?E.filter(f=>"ALL"!==f&&"Tous"!==f):[],scholar_season_id:this.sendEmailForm.get("scholar_season_id").value,levels:B&&B.length?B.filter(f=>"ALL"!==f&&"Tous"!==f):[],sectors:S&&S.length?S.filter(f=>"ALL"!==f&&"Tous"!==f):[],specialities:U&&U.length?U.filter(f=>"ALL"!==f&&"Tous"!==f&&"None"!==f):[]}),this.attachmnetsPaths.forEach(f=>{const v={file_name:f.name,path:f.path};w.push(f.name),O.push(v)}),this.mailData.sender_property=b,this.mailData.recipient_properties=_,this.mailData.subject=p.subject,this.mailData.message=p.message,this.mailData.is_sent=!0,this.mailData.status="active",this.mailData.is_urgent_mail=!1,this.mailData.attachments=w,this.mailData.file_attachments=O,this.mailData.tags=["sent"],this.mailData.is_group_parent=!0,this.mailData.user_type_selection=this.sendEmailForm.get("categoryChecked").value,this.subs.sink=this.mailboxService.updateSingleMail(this.DraftData._id,this.mailData).subscribe(f=>{this.isWaitingForResponse=!1,this.dialogref.close(),K().fire({title:this.translate.instant("MailBox.composeMail.MESSAGES.TITLE"),text:this.translate.instant("MailBox.composeMail.MESSAGES.TEXT"),allowEscapeKey:!0,type:"success",confirmButtonText:this.translate.instant("MailBox.composeMail.MESSAGES.CONFIRMBTN")})},f=>{this.autService.postErrorLog(f),this.isWaitingForResponse=!1,K().fire({type:"info",title:this.translate.instant("SORRY"),text:f&&f.message?this.translate.instant(f.message.replaceAll("GraphQL error: ","")):f,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}else{this.isWaitingForResponse=!0;const p=this.sendEmailForm.value;if(""!==p.subject||""!==p.message&&void 0!==p.message){const _=[];this.mailData={};const d=this.recpList,u=this.recpListCc,h=this.recpListBcc;this.currentUser=this.autService.getLocalStorageUser();const b={sender:this.currentUser.email,is_read:!1,mail_type:"sent"};if(d){const f=d.toString().split(",");for(let v=0;v<f.length;v++)f[v]=f[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(f[v])&&_.push({recipients:[f[v]],rank:"a",is_read:!1,mail_type:"inbox"})}if(u){const f=u.toString().split(",");for(let v=0;v<f.length;v++)f[v]=f[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(f[v])&&_.push({recipients:[f[v]],rank:"cc",is_read:!1,mail_type:"inbox"})}if(h){const f=h.toString().split(",");for(let v=0;v<f.length;v++)f[v]=f[v].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(f[v])&&_.push({recipients:[f[v]],rank:"c",is_read:!1,mail_type:"inbox"})}const O=[],w=[],E=this.sendEmailForm.get("campuses").value,B=this.sendEmailForm.get("levels").value,S=this.sendEmailForm.get("sectors").value,U=this.sendEmailForm.get("specialities").value;this.attachmnetsPaths.forEach(f=>{const v={file_name:f.name,path:f.path};w.push(f.name),O.push(v)}),this.mailData.sender_property=b,this.mailData.recipient_properties=_,this.mailData.subject=p.subject,this.mailData.message=p.message,this.mailData.is_sent=!0,this.mailData.status="active",this.mailData.attachments=w,this.mailData.file_attachments=O,this.mailData.tags=["sent"],this.mailData.is_group_parent=!0,this.mailData.user_type_selection=this.sendEmailForm.get("categoryChecked").value,this.mailData.group_detail={user_types:this.sendEmailForm.get("userTypes").value,school_id:this.sendEmailForm.get("school_id").value,campuses:E&&E.length?E.filter(f=>"ALL"!==f&&"Tous"!==f):[],scholar_season_id:this.sendEmailForm.get("scholar_season_id").value,levels:B&&B.length?B.filter(f=>"ALL"!==f&&"Tous"!==f):[],sectors:S&&S.length?S.filter(f=>"ALL"!==f&&"Tous"!==f):[],specialities:U&&U.length?U.filter(f=>"ALL"!==f&&"Tous"!==f&&"None"!==f):[]},this.subs.sink=this.mailboxService.createMail(this.mailData).subscribe(f=>{this.dialogref.close(),this.isWaitingForResponse=!1,K().fire({title:this.translate.instant("MailBox.composeMail.MESSAGES.TITLE"),text:this.translate.instant("MailBox.composeMail.MESSAGES.TEXT"),allowEscapeKey:!0,type:"success",confirmButtonText:this.translate.instant("MailBox.composeMail.MESSAGES.CONFIRMBTN")})},f=>{this.autService.postErrorLog(f),this.isWaitingForResponse=!1,K().fire({type:"info",title:this.translate.instant("SORRY"),text:f&&f.message?this.translate.instant(f.message.replaceAll("GraphQL error: ","")):f,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}}getUserTypeList(){this.subs.sink=this.userService.getUserTypesGroupMail().subscribe(p=>{this.userTypesList=p,this.originalUserTypesList=p,this.subs.sink=this.sendEmailForm.get("userTypes").valueChanges.pipe((0,W.b)(400)).subscribe(_=>{Array.isArray(_)||(this.userTypesList=this.originalUserTypesList.filter(d=>d.name.toLowerCase().trim().includes(_&&_.length?_.toLowerCase():"")))})},p=>{this.autService.postErrorLog(p),K().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}selectedUserType(p){if(this.userReady=!1,"5fe98eeadb866c403defdc6c"===p){const _=this.sendEmailForm.get("campuses").value,d=this.sendEmailForm.get("levels").value,b=(this.sendEmailForm.get("sectors"),this.sendEmailForm.get("specialities"),{school:this.sendEmailForm.get("school_id").value,campuses:_&&_.length?_.filter(O=>"ALL"!==O&&"Tous"!==O):[],levels:d&&d.length?d.filter(O=>"ALL"!==O&&"Tous"!==O):[]});this.userService.getAllCandidates(b).subscribe(O=>{this.userRecipientList=O})}else this.userService.getUserTypesByEntityEdh().subscribe(_=>{this.userRecipientList=_});this.selectedUserTypeId=[p]}keyupUser(p){this.userReady=!0}keyupUserType(p){this.userTypeReady=!0}keyupTitle(p){this.titleReady=!0}resetRecipientList(){this.recpList=[],this.recpListCc=[],this.recpListBcc=[],this.selectedEmailTo=[],this.selectedEmailCc=[],this.selectedEmailBcc=[],this.selectedRecepientsList=[],this.ccselectedRecepientsList=[],this.bccselectedRecepientsList=[],this.sendEmailForm.get("bcc").setValue(""),this.sendEmailForm.get("cc").setValue(""),this.sendEmailForm.get("to").setValue("")}valueChange(p){"title"===p?this.titleReady=!1:"user"===p?this.userReady=!1:"type"===p&&(this.userTypeReady=!1)}emitSelectedLanguagesTo(){this.optionSelected.emit(this.returnType===Z.OBJECT?this.selectedEmailTo:this.selectedEmailTo.map(this.returnType===Z.VALUE?p=>p.value:p=>p.label))}emitSelectedLanguagesCc(){this.optionSelected.emit(this.returnType===Z.OBJECT?this.selectedEmailCc:this.selectedEmailCc.map(this.returnType===Z.VALUE?p=>p.value:p=>p.label))}emitSelectedLanguagesBcc(){this.optionSelected.emit(this.returnType===Z.OBJECT?this.selectedEmailBcc:this.selectedEmailBcc.map(this.returnType===Z.VALUE?p=>p.value:p=>p.label))}removeTo(p){const _=this.selectedEmailTo.findIndex(u=>u===p),d=this.selectedRecepientsList.findIndex(u=>u===p);_>=0&&this.selectedEmailTo.splice(_,1),d>=0&&this.selectedRecepientsList.splice(d,1),this.emitSelectedLanguagesTo()}removeCc(p){const _=this.selectedEmailCc.findIndex(u=>u===p),d=this.selectedRecepientsList.findIndex(u=>u===p);_>=0&&this.selectedEmailCc.splice(_,1),d>=0&&this.selectedRecepientsList.splice(d,1),this.emitSelectedLanguagesCc()}removeBcc(p){const _=this.selectedEmailBcc.findIndex(u=>u===p),d=this.selectedRecepientsList.findIndex(u=>u===p);_>=0&&this.selectedEmailBcc.splice(_,1),d>=0&&this.selectedRecepientsList.splice(d,1),this.emitSelectedLanguagesBcc()}addTo(p){if(!this.matAutocomplete.isOpen){const _=p.chipInput.inputElement,d=p.value,u=d.split(" ");let h="";u.forEach(B=>{h=B});const O=h.replace("<","").replace(">","");this.validateEmail(O)&&(d||"").trim()&&this.allowOther&&this.selectedEmailTo.push({label:d.trim(),value:d.trim()});const w=this.sendEmailForm.get("to").dirty||this.sendEmailForm.get("to").touched;!this.selectedEmailTo.length&&w?(this.isWarningTo=!0,this.chipList.errorState=!0):(this.isWarningTo=!1,this.chipList.errorState=!1),_&&(_.value=""),this.sendEmailForm.get("to").setValue(null),this.sendEmailForm.get("to").setValue("")}this.emitSelectedLanguagesTo()}addCc(p){if(!this.matAutocomplete.isOpen){const _=p.chipInput.inputElement,d=p.value,u=d.split(" ");let h="";u.forEach(w=>{h=w});const O=h.replace("<","").replace(">","");this.validateEmail(O)&&(d||"").trim()&&this.allowOther&&this.selectedEmailCc.push({label:d.trim(),value:d.trim()}),_&&(_.value=""),this.sendEmailForm.get("cc").setValue(null),this.sendEmailForm.get("cc").setValue("")}this.emitSelectedLanguagesCc()}addBcc(p){if(!this.matAutocomplete.isOpen){const _=p.chipInput.inputElement,d=p.value,u=d.split(" ");let h="";u.forEach(w=>{h=w});const O=h.replace("<","").replace(">","");this.validateEmail(O)&&(d||"").trim()&&this.allowOther&&this.selectedEmailBcc.push({label:d.trim(),value:d.trim()}),_&&(_.value=""),this.sendEmailForm.get("bcc").setValue(null),this.sendEmailForm.get("bcc").setValue("")}this.emitSelectedLanguagesBcc()}validateTo(p){}validateEmail(p){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(p)}setSelectedEmailTo(p){const _=p.option.value,d=_.split(" ");let u="";d.forEach(S=>{u=S});const b=u.replace("<","").replace(">","");this.validateEmail(b)&&(this.selectedEmailTo.push(_),this.selectedRecepientsList.push(_));const O=_.split(" ");let w="";O.forEach(S=>{w=S});const B=w.replace("<","").replace(">","");this.recpList.push(B),this.languagesInput.nativeElement.value="",this.sendEmailForm.get("to").setValue(null),this.emitSelectedLanguagesTo()}setSelectedEmailCc(p){const _=p.option.value,d=_.split(" ");let u="";d.forEach(S=>{u=S});const b=u.replace("<","").replace(">","");this.validateEmail(b)&&(this.selectedEmailCc.push(_),this.selectedRecepientsList.push(_));const O=_.split(" ");let w="";O.forEach(S=>{w=S});const B=w.replace("<","").replace(">","");this.recpListCc.push(B),this.recipientCc.nativeElement.value="",this.sendEmailForm.get("cc").patchValue("",{emitEvent:!0}),this.sendEmailForm.get("cc").setValue("")}setSelectedEmailBcc(p){const _=p.option.value,d=_.split(" ");let u="";d.forEach(S=>{u=S});const b=u.replace("<","").replace(">","");this.validateEmail(b)&&(this.selectedEmailBcc.push(_),this.selectedRecepientsList.push(_));const O=_.split(" ");let w="";O.forEach(S=>{w=S});const B=w.replace("<","").replace(">","");this.recpListBcc.push(B),this.sendEmailForm.get("bcc").setValue(null),this.sendEmailForm.get("bcc").setValue(""),this.recipientBcc.nativeElement.value=""}resetValueTo(){this.sendEmailForm.get("to").patchValue("",{emitEvent:!0})}resetValueCc(){this.sendEmailForm.get("cc").patchValue("",{emitEvent:!0})}resetValueBcc(){this.sendEmailForm.get("bcc").patchValue("",{emitEvent:!0})}getRecipientsData(p){this.subs.sink=this.sendEmailForm.get("to").valueChanges.pipe((0,W.b)(400)).subscribe(_=>{this.emailAddressesListTo=[],_&&_.length&&(this.subs.sink=this.mailboxService.getRecipientDataUsingNameForGroup(_.toString(),p).subscribe(d=>{d&&d.length&&d.filter(h=>!this.selectedRecepientsList.includes((h.civility&&"neutral"!==h.civility?this.translate.instant(h.civility)+" ":"")+h.first_name+" "+h.last_name+" <"+h.email+">")).concat(this.selectedRecepientsList.filter(h=>!this.selectedRecepientsList.includes((h.civility&&"neutral"!==h.civility?this.translate.instant(h.civility)+" ":"")+h.first_name+" "+h.last_name+" <"+h.email+">"))).forEach(h=>{void 0!==h.email&&this.emailAddressesListTo.push((h.civility&&"neutral"!==h.civility?this.translate.instant(h.civility)+" ":"")+h.first_name+" "+h.last_name+" <"+h.email+">")})},d=>{this.autService.postErrorLog(d),K().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}),this.subs.sink=this.sendEmailForm.get("cc").valueChanges.pipe((0,W.b)(400)).subscribe(_=>{this.emailAddressesListCc=[],_&&_.length&&(this.subs.sink=this.mailboxService.getRecipientDataUsingNameForGroup(_.toString(),p).subscribe(d=>{d&&d.length&&d.filter(h=>!this.selectedRecepientsList.includes((h.civility&&"neutral"!==h.civility?this.translate.instant(h.civility)+" ":"")+h.first_name+" "+h.last_name+" <"+h.email+">")).concat(this.selectedRecepientsList.filter(h=>!this.selectedRecepientsList.includes((h.civility&&"neutral"!==h.civility?this.translate.instant(h.civility)+" ":"")+h.first_name+" "+h.last_name+" <"+h.email+">"))).forEach(h=>{void 0!==h.email&&this.emailAddressesListCc.push((h.civility&&"neutral"!==h.civility?this.translate.instant(h.civility)+" ":"")+h.first_name+" "+h.last_name+" <"+h.email+">")})},d=>{this.autService.postErrorLog(d),K().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}),this.subs.sink=this.sendEmailForm.get("bcc").valueChanges.pipe((0,W.b)(400)).subscribe(_=>{this.emailAddressesListBcc=[],_&&_.length&&(this.subs.sink=this.mailboxService.getRecipientDataUsingNameForGroup(_.toString(),p).subscribe(d=>{d&&d.length&&d.filter(h=>!this.selectedRecepientsList.includes((h.civility&&"neutral"!==h.civility?this.translate.instant(h.civility)+" ":"")+h.first_name+" "+h.last_name+" <"+h.email+">")).concat(this.selectedRecepientsList.filter(h=>!this.selectedRecepientsList.includes((h.civility&&"neutral"!==h.civility?this.translate.instant(h.civility)+" ":"")+h.first_name+" "+h.last_name+" <"+h.email+">"))).forEach(h=>{void 0!==h.email&&this.emailAddressesListBcc.push((h.civility&&"neutral"!==h.civility?this.translate.instant(h.civility)+" ":"")+h.first_name+" "+h.last_name+" <"+h.email+">")})},d=>{this.autService.postErrorLog(d),K().fire({type:"info",title:this.translate.instant("SORRY"),text:d&&d.message?this.translate.instant(d.message.replaceAll("GraphQL error: ","")):d,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}getRecipientsDataWithType(p,_){this.subs.sink=this.sendEmailForm.get("to").valueChanges.pipe((0,W.b)(400)).subscribe(d=>{this.emailAddressesListTo=[],d&&d.length&&(this.subs.sink=this.mailboxService.getRecipientDataUsingNameAndTypeForGroup(d.toString(),p,_).subscribe(u=>{u&&u.length&&u.filter(b=>!this.selectedRecepientsList.includes((b.civility&&"neutral"!==b.civility?this.translate.instant(b.civility)+" ":"")+b.first_name+" "+b.last_name+" <"+b.email+">")).concat(this.selectedRecepientsList.filter(b=>!this.selectedRecepientsList.includes((b.civility&&"neutral"!==b.civility?this.translate.instant(b.civility)+" ":"")+b.first_name+" "+b.last_name+" <"+b.email+">"))).forEach(b=>{void 0!==b.email&&this.emailAddressesListTo.push((b.civility&&"neutral"!==b.civility?this.translate.instant(b.civility)+" ":"")+b.first_name+" "+b.last_name+" <"+b.email+">")})},u=>{this.autService.postErrorLog(u),K().fire({type:"info",title:this.translate.instant("SORRY"),text:u&&u.message?this.translate.instant(u.message.replaceAll("GraphQL error: ","")):u,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}),this.subs.sink=this.sendEmailForm.get("cc").valueChanges.pipe((0,W.b)(400)).subscribe(d=>{this.emailAddressesListCc=[],d&&d.length&&(this.subs.sink=this.mailboxService.getRecipientDataUsingNameAndTypeForGroup(d.toString(),p,_).subscribe(u=>{u&&u.length&&u.filter(b=>!this.selectedRecepientsList.includes((b.civility&&"neutral"!==b.civility?this.translate.instant(b.civility)+" ":"")+b.first_name+" "+b.last_name+" <"+b.email+">")).concat(this.selectedRecepientsList.filter(b=>!this.selectedRecepientsList.includes((b.civility&&"neutral"!==b.civility?this.translate.instant(b.civility)+" ":"")+b.first_name+" "+b.last_name+" <"+b.email+">"))).forEach(b=>{void 0!==b.email&&this.emailAddressesListCc.push((b.civility&&"neutral"!==b.civility?this.translate.instant(b.civility)+" ":"")+b.first_name+" "+b.last_name+" <"+b.email+">")})},u=>{this.autService.postErrorLog(u),K().fire({type:"info",title:this.translate.instant("SORRY"),text:u&&u.message?this.translate.instant(u.message.replaceAll("GraphQL error: ","")):u,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}),this.subs.sink=this.sendEmailForm.get("bcc").valueChanges.pipe((0,W.b)(400)).subscribe(d=>{this.emailAddressesListBcc=[],d&&d.length&&(this.subs.sink=this.mailboxService.getRecipientDataUsingNameAndTypeForGroup(d.toString(),p,_).subscribe(u=>{u&&u.length&&u.filter(b=>!this.selectedRecepientsList.includes((b.civility&&"neutral"!==b.civility?this.translate.instant(b.civility)+" ":"")+b.first_name+" "+b.last_name+" <"+b.email+">")).concat(this.selectedRecepientsList.filter(b=>!this.selectedRecepientsList.includes((b.civility&&"neutral"!==b.civility?this.translate.instant(b.civility)+" ":"")+b.first_name+" "+b.last_name+" <"+b.email+">"))).forEach(b=>{void 0!==b.email&&this.emailAddressesListBcc.push((b.civility&&"neutral"!==b.civility?this.translate.instant(b.civility)+" ":"")+b.first_name+" "+b.last_name+" <"+b.email+">")})},u=>{this.autService.postErrorLog(u),K().fire({type:"info",title:this.translate.instant("SORRY"),text:u&&u.message?this.translate.instant(u.message.replaceAll("GraphQL error: ","")):u,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}mailSignature(){const p="neutral"!==this.currentUser.civility?this.currentUser.civility:"";this.composeMailMessage="<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p>",this.composeMailMessage+=this.translate.instant(p)+" "+this.currentUser.first_name+" "+this.currentUser.last_name;const _=this.currentUser.entities.filter(u=>u.type.name===this.isPermission[0]),d=L.uniqBy(_,"school.short_name");this.composeMailMessage+=this.currentUser?.position?",<br>"+this.currentUser?.position:"",this.composeMailMessage+=d&&d.length&&d[0].school&&d[0].school.short_name?",<br>"+d[0].school.short_name:"",this.sendEmailForm.get("message").setValue(this.composeMailMessage)}CheckforDraft(){this.isDraftMail&&this.DraftData&&this.DraftData._id&&(this.sendEmailForm.get("subject").setValue(this.DraftData.subject),this.composeMailMessage=this.DraftData.message,this.sendEmailForm.get("message").setValue(this.composeMailMessage),this.selectedEmailTo=[],this.selectedEmailCc=[],this.selectedEmailBcc=[],this.DraftData.recipient_properties&&this.LoadRecepient(this.DraftData.recipient_properties,["a","c","cc"]),this.LoadAttachments(this.DraftData.attachments),this.DraftData.is_group_parent&&(this.sendEmailForm.get("categoryChecked").setValue(this.DraftData.user_type_selection),this.computeGroupDetails(this.DraftData)))}computeGroupDetails(p){const _=p.group_detail.rncp_titles.map(b=>{let O;return O=b._id,O}),d=p.group_detail.user_types.map(b=>{let O;return O=b._id,O}),h=(p.group_detail.rncp_titles.map(b=>{let O;return O=b.short_name,O}),p.group_detail.user_types.map(b=>{let O;return O=b.name,O}));this.sendEmailForm.get("userTypes").setValue(h),this.sendEmailForm.get("originalRncpTitle").setValue(_),this.sendEmailForm.get("originalUserTypes").setValue(d)}LoadAttachments(p){if(p&&Array.isArray(p)){const _=this;p.forEach(d=>{_.attachmnetsPaths.push({path:d,name:_.getFileName(d)})})}}getFileName(p){return p?p.substring(p.lastIndexOf("/")+1):""}LoadRecepient(p,_,d=!1){Array.isArray(p)?(p.forEach(u=>{this.subs.sink=this.mailboxService.getRecipientDataEmail(u.recipients[0].email.toString()).subscribe(h=>{"a"===u.rank&&(h&&h.length?(this.recpList.push(h.email),this.selectedEmailTo.push(("neutral"!==h.civility?this.translate.instant(h.civility)+" ":"")+h.first_name+" "+h.last_name+" <"+h.email+">")):u&&u.recipients[0]&&(this.recpList.push(u.recipients[0].email),this.selectedEmailTo.push((u.recipients[0].civility&&"neutral"!==u.recipients[0].civility?this.translate.instant(u.recipients[0].civility):"")+" "+u.recipients[0].first_name+" "+u.recipients[0].last_name+" <"+u.recipients[0].email+">"))),"c"===u.rank&&(this.recpListBcc.push(h.email),this.showBCC=!0,this.selectedEmailBcc.push((h.civility&&"neutral"!==h.civility?this.translate.instant(h.civility)+" ":"")+h.first_name+" "+h.last_name+" <"+h.email+">")),"cc"===u.rank&&(this.recpListCc.push(h.email),this.showCC=!0,this.selectedEmailCc.push((h.civility&&"neutral"!==h.civility?this.translate.instant(h.civility)+" ":"")+h.first_name+" "+h.last_name+" <"+h.email+">")),null===u.rank&&(this.recpList.push(h.email),this.selectedEmailTo.push((h.civility&&"neutral"!==h.civility?this.translate.instant(h.civility)+" ":"")+h.first_name+" "+h.last_name+" <"+h.email+">"))},h=>{this.autService.postErrorLog(h),K().fire({type:"info",title:this.translate.instant("SORRY"),text:h&&h.message?this.translate.instant(h.message.replaceAll("GraphQL error: ","")):h,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}),d&&this.selectedRecepientsList.push({email:this.currentMailData.sender_property.sender})):this.subs.sink=this.mailboxService.getRecipientDataEmail(p.recipients[0].email.toString()).subscribe(u=>{"a"===p.rank&&(u&&u.length?(this.recpList.push(u.email),this.selectedEmailTo.push((u.civility&&"neutral"!==u.civility?this.translate.instant(u.civility)+" ":"")+u.first_name+" "+u.last_name+" <"+u.email+">")):p&&p.recipients[0]&&(this.recpList.push(p.recipients[0].email),this.selectedEmailTo.push((p.recipients[0].civility&&"neutral"!==p.recipients[0].civility?this.translate.instant(p.recipients[0].civility):"")+" "+p.recipients[0].first_name+" "+p.recipients[0].last_name+" <"+p.recipients[0].email+">"))),"c"===p.rank&&(this.recpListBcc.push(u.email),this.showBCC=!0,this.selectedEmailBcc.push((u.civility&&"neutral"!==u.civility?this.translate.instant(u.civility):"")+" "+u.first_name+" "+u.last_name+" <"+u.email+">")),"cc"===p.rank&&(this.recpListCc.push(u.email),this.showCC=!0,this.selectedEmailCc.push((u.civility&&"neutral"!==u.civility?this.translate.instant(u.civility):"")+" "+u.first_name+" "+u.last_name+" <"+u.email+">")),null===p.rank&&(this.recpList.push(u.email),this.selectedEmailTo.push((u.civility&&"neutral"!==u.civility?this.translate.instant(u.civility):"")+" "+u.first_name+" "+u.last_name+" <"+u.email+">"))},u=>{this.autService.postErrorLog(u),K().fire({type:"info",title:this.translate.instant("SORRY"),text:u&&u.message?this.translate.instant(u.message.replaceAll("GraphQL error: ","")):u,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}ngOnDestroy(){this.subs.unsubscribe()}}return x.\u0275fac=function(p){return new(p||x)(l.\u0275\u0275directiveInject(H.sK),l.\u0275\u0275directiveInject(N.so),l.\u0275\u0275directiveInject($.UntypedFormBuilder),l.\u0275\u0275directiveInject(J.J),l.\u0275\u0275directiveInject(rt.K),l.\u0275\u0275directiveInject(G.e),l.\u0275\u0275directiveInject(M.J),l.\u0275\u0275directiveInject(at.e),l.\u0275\u0275directiveInject(q.N),l.\u0275\u0275directiveInject(I.o))},x.\u0275cmp=l.\u0275\u0275defineComponent({type:x,selectors:[["ms-mail-to-group-dialog"]],viewQuery:function(p,_){if(1&p&&(l.\u0275\u0275viewQuery(et,5),l.\u0275\u0275viewQuery(ft,5),l.\u0275\u0275viewQuery(it,5),l.\u0275\u0275viewQuery(Q,5),l.\u0275\u0275viewQuery(pt,5),l.\u0275\u0275viewQuery(dt,5)),2&p){let d;l.\u0275\u0275queryRefresh(d=l.\u0275\u0275loadQuery())&&(_.languagesInput=d.first),l.\u0275\u0275queryRefresh(d=l.\u0275\u0275loadQuery())&&(_.recipientCc=d.first),l.\u0275\u0275queryRefresh(d=l.\u0275\u0275loadQuery())&&(_.recipientBcc=d.first),l.\u0275\u0275queryRefresh(d=l.\u0275\u0275loadQuery())&&(_.matAutocomplete=d.first),l.\u0275\u0275queryRefresh(d=l.\u0275\u0275loadQuery())&&(_.currentFile=d.first),l.\u0275\u0275queryRefresh(d=l.\u0275\u0275loadQuery())&&(_.chipList=d.first)}},inputs:{allowOther:"allowOther",returnType:"returnType"},outputs:{optionSelected:"optionSelected"},decls:90,vars:74,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",3,"formGroup"],[1,"fontColor"],["mat-dialog-title",""],["svgIcon","pencil",1,"icon-style",2,"cursor","default"],[1,"title-email"],[1,"floatRight"],[1,"icon-style",3,"matTooltip","click"],["matTooltip","CC"],[1,"icon-style",3,"click"],[3,"matTooltip"],[1,"icon-style",3,"matTooltip"],["type","file","name","file","multiple","","accept",".jpeg,.png,.rar,.zip,.doc,.docx,.ppt,.pdf,.xls",2,"display","none",3,"change"],["myInput",""],["style","color: rgb(170, 168, 168)","class","vertical-align-mid",4,"ngIf"],["class","vertical-align-mid cursorStyle",3,"matTooltip","click",4,"ngIf"],["appearance","legacy"],[4,"ngIf"],["formControlName","specialities","multiple","",3,"selectionChange"],[3,"value","click"],[3,"value","click",4,"ngFor","ngForOf"],["formControlName","categoryChecked",3,"checked","change"],["appearance","outline",4,"ngIf"],["class","chip-list",4,"ngIf"],["matInput","","formControlName","subject",3,"placeholder"],[1,"file-section","p-col-12"],["class","fileInfo",4,"ngFor","ngForOf"],["formControlName","message",3,"editor","config","ready"],["class","loading-indicator",4,"ngIf"],[1,"vertical-align-mid",2,"color","rgb(170, 168, 168)"],[1,"vertical-align-mid","cursorStyle",3,"matTooltip","click"],["formControlName","scholar_season_id",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["disabled","",4,"ngIf"],["disabled",""],["formControlName","school_id",3,"selectionChange"],["formControlName","campuses","multiple","",3,"selectionChange"],["formControlName","levels","multiple","",3,"selectionChange"],["formControlName","sectors","multiple","",3,"selectionChange"],["appearance","outline"],["formControlName","userTypes",3,"multiple","placeholder","change"],[3,"value","change",4,"ngFor","ngForOf"],[3,"value","change"],[1,"chip-list"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","email","matInput","","formControlName","to",3,"matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd","change"],["languagesInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],["chipListCc",""],["matInput","","formControlName","cc",3,"placeholder","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["recipientCc",""],["chipListBcc",""],["matInput","","formControlName","bcc",3,"placeholder","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["recipientBcc",""],[1,"fileInfo"],["mat-icon-button","","type","button"],["mat-icon-button","","type","button",3,"click"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(p,_){1&p&&(l.\u0275\u0275elementStart(0,"form",0)(1,"div",1)(2,"h1",2),l.\u0275\u0275element(3,"mat-icon",3),l.\u0275\u0275elementStart(4,"span",4),l.\u0275\u0275text(5),l.\u0275\u0275pipe(6,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(7,"div",5)(8,"mat-icon",6),l.\u0275\u0275listener("click",function(){return _.closeDialog()}),l.\u0275\u0275pipe(9,"translate"),l.\u0275\u0275text(10,"close"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(11,"label",7)(12,"a",8),l.\u0275\u0275listener("click",function(){return _.showCC=!_.showCC}),l.\u0275\u0275text(13,"CC"),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(14,"label",9),l.\u0275\u0275pipe(15,"translate"),l.\u0275\u0275elementStart(16,"a",8),l.\u0275\u0275listener("click",function(){return _.showBCC=!_.showBCC}),l.\u0275\u0275text(17),l.\u0275\u0275pipe(18,"translate"),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(19,"label")(20,"mat-icon",10),l.\u0275\u0275pipe(21,"translate"),l.\u0275\u0275text(22,"attachment"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(23,"input",11,12),l.\u0275\u0275listener("change",function(u){return _.handleInputChange(u)}),l.\u0275\u0275elementEnd()(),l.\u0275\u0275template(25,lt,2,0,"mat-icon",13),l.\u0275\u0275template(26,xt,3,3,"mat-icon",14),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(27,"mat-dialog-content")(28,"mat-form-field",15)(29,"mat-label"),l.\u0275\u0275text(30),l.\u0275\u0275pipe(31,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(32,ot,3,1,"ng-container",16),l.\u0275\u0275template(33,Pt,3,1,"ng-container",16),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(34,"mat-form-field",15)(35,"mat-label"),l.\u0275\u0275text(36),l.\u0275\u0275pipe(37,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(38,wt,3,1,"ng-container",16),l.\u0275\u0275template(39,It,3,1,"ng-container",16),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(40,"mat-form-field",15)(41,"mat-label"),l.\u0275\u0275text(42),l.\u0275\u0275pipe(43,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(44,kt,3,1,"ng-container",16),l.\u0275\u0275template(45,Rt,3,1,"ng-container",16),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(46,"mat-form-field",15)(47,"mat-label"),l.\u0275\u0275text(48),l.\u0275\u0275pipe(49,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(50,At,3,1,"ng-container",16),l.\u0275\u0275template(51,Ut,3,1,"ng-container",16),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(52,"mat-form-field",15)(53,"mat-label"),l.\u0275\u0275text(54),l.\u0275\u0275pipe(55,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(56,Nt,3,1,"ng-container",16),l.\u0275\u0275template(57,Kt,3,1,"ng-container",16),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(58,"mat-form-field",15)(59,"mat-label"),l.\u0275\u0275text(60),l.\u0275\u0275pipe(61,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(62,"mat-select",17),l.\u0275\u0275listener("selectionChange",function(u){return _.selectedSpeciality(u)}),l.\u0275\u0275elementStart(63,"mat-option",18),l.\u0275\u0275listener("click",function(){return _.selectSpeciality("None")}),l.\u0275\u0275text(64),l.\u0275\u0275pipe(65,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(66,jt,3,4,"mat-option",19),l.\u0275\u0275elementEnd()(),l.\u0275\u0275element(67,"br"),l.\u0275\u0275elementStart(68,"label"),l.\u0275\u0275text(69),l.\u0275\u0275pipe(70,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(71,"mat-slide-toggle",20),l.\u0275\u0275listener("change",function(u){return _.categoryChange(u)}),l.\u0275\u0275text(72),l.\u0275\u0275pipe(73,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(74,zt,4,5,"div",21),l.\u0275\u0275template(75,Xt,10,7,"mat-form-field",22),l.\u0275\u0275template(76,ne,11,10,"mat-form-field",22),l.\u0275\u0275template(77,re,11,10,"mat-form-field",22),l.\u0275\u0275elementStart(78,"mat-form-field"),l.\u0275\u0275element(79,"input",23),l.\u0275\u0275pipe(80,"translate"),l.\u0275\u0275template(81,se,3,3,"mat-error",16),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(82,"div",24),l.\u0275\u0275template(83,ce,9,1,"div",25),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(84,"ckeditor",26),l.\u0275\u0275listener("ready",function(u){return _.onReady(u)}),l.\u0275\u0275elementEnd()()()(),l.\u0275\u0275template(85,pe,2,0,"div",27),l.\u0275\u0275template(86,me,2,0,"div",27),l.\u0275\u0275template(87,_e,2,0,"div",27),l.\u0275\u0275template(88,de,2,0,"div",27),l.\u0275\u0275template(89,ue,2,0,"div",27)),2&p&&(l.\u0275\u0275property("formGroup",_.sendEmailForm),l.\u0275\u0275advance(5),l.\u0275\u0275textInterpolate1(" ",l.\u0275\u0275pipeBind1(6,44,"MailBox.composeMail.title"),""),l.\u0275\u0275advance(3),l.\u0275\u0275propertyInterpolate("matTooltip",l.\u0275\u0275pipeBind1(9,46,"CLOSE")),l.\u0275\u0275advance(6),l.\u0275\u0275propertyInterpolate("matTooltip",l.\u0275\u0275pipeBind1(15,48,"MailBox.composeMail.bcc")),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(18,50,"MailBox.composeMail.bcc")),l.\u0275\u0275advance(3),l.\u0275\u0275propertyInterpolate("matTooltip",l.\u0275\u0275pipeBind1(21,52,"MailBox.ATTACH_FILE")),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngIf",_.sendEmailForm.invalid),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",_.sendEmailForm.valid),l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate1("",l.\u0275\u0275pipeBind1(31,54,"Scholar season"),"*"),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",_.scholars.length>0),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",0===_.scholars.length),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate1("",l.\u0275\u0275pipeBind1(37,56,"School"),"*"),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",_.school.length>0),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",0===_.school.length),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate1("",l.\u0275\u0275pipeBind1(43,58,"Campus"),"*"),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",_.campusList.length>0),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",0===_.campusList.length),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate1("",l.\u0275\u0275pipeBind1(49,60,"Level"),"*"),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",_.levels.length>0),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",0===_.levels.length),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate1("",l.\u0275\u0275pipeBind1(55,62,"Sector"),"*"),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",_.sectorList.length>0),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",0===_.sectorList.length),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(61,64,"Speciality")),l.\u0275\u0275advance(3),l.\u0275\u0275property("value","None"),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",l.\u0275\u0275pipeBind1(65,66,"None")," "),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngForOf",_.specialityList),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate1("",l.\u0275\u0275pipeBind1(70,68,"User")," "),l.\u0275\u0275advance(2),l.\u0275\u0275property("checked",_.checked),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(73,70,"TUTORIAL_MENU.CATEGORY")),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",_.sendEmailForm.get("categoryChecked").value),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!_.sendEmailForm.get("categoryChecked").value),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",_.showCC||_.showCCInput),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",_.showBCC||_.showBCCInput),l.\u0275\u0275advance(2),l.\u0275\u0275propertyInterpolate("placeholder",l.\u0275\u0275pipeBind1(80,72,"Subject")),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",_.sendEmailForm.get("subject").hasError("required")&&(_.sendEmailForm.get("subject").dirty||_.sendEmailForm.get("subject").touched)),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngForOf",_.attachmnetsPaths),l.\u0275\u0275advance(1),l.\u0275\u0275property("editor",_.Editor)("config",_.config),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",_.isWaitingForResponse),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",_.isWaitingForResponseScholar),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",_.isWaitingForResponseSchool),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",_.isWaitingForResponseSector),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",_.isWaitingForResponseSpeciality))},dependencies:[t.Zt,t.Bh,gt.XC,gt.ZL,Mt.ey,tt.lW,st.qn,st.HS,st.oH,st.qH,N.uh,N.xY,vt.Hw,mt.TO,mt.KE,mt.hX,Ot.Nt,yt.Ou,Tt.gD,_t.Rr,Et.gM,$.\u0275NgNoValidate,$.DefaultValueAccessor,$.NgControlStatus,$.NgControlStatusGroup,$.FormGroupDirective,$.FormControlName,ht.sg,ht.O5,X.u,ct.w9,ct.jq,H.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]     ng-select.ng-invalid.ng-touched .ng-select-container{border-color:#dc3545!important;box-shadow:inset 0 1px 1px #00000013,0 0 0 3px #fde6e8!important}.title-email[_ngcontent-%COMP%]{position:relative;top:3px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}[_nghost-%COMP%]     .mat-dialog-content{height:80vh!important;max-height:80vh}[_nghost-%COMP%]     .ck-editor__editable_inline{height:40vh;color:#000}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}[_nghost-%COMP%]  .mat-form-field-outline-thick{height:40px!important}[_nghost-%COMP%]  .mat-form-field-outline{height:40px!important}.cursorStyle[_ngcontent-%COMP%]{cursor:pointer}.floatRight[_ngcontent-%COMP%]{float:right}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.chip-list[_ngcontent-%COMP%]{width:100%}.style-warning-label[_ngcontent-%COMP%]{color:#ff5722;opacity:.8}"]}),x})()},61114:(en,nt,c)=>{c.r(nt),c.d(nt,{MailboxModule:()=>rt});var l=c(36895),V=c(93730),y=c(610),$=c(7451),z=c(30228),K=c(23670),D=c(27404),W=c(39002),k=c(25360),A=c(97301),L=c(94650);const Y=[{path:"",redirectTo:"inbox",pathMatch:"full"},{path:"",children:[{path:"inbox",component:$.C},{path:"sentBox",component:z.R},{path:"important",component:K.M},{path:"draft",component:W.T},{path:"trash",component:D.p},{path:"cc",component:A.l}],canActivate:[k.n],data:{permission:"mailbox.show_perm"}},{path:"**",redirectTo:"login",pathMatch:"full"}];let H=(()=>{class G{}return G.\u0275fac=function(at){return new(at||G)},G.\u0275mod=L.\u0275\u0275defineNgModule({type:G}),G.\u0275inj=L.\u0275\u0275defineInjector({imports:[y.Bz.forChild(Y),y.Bz]}),G})();var N=c(37204),J=c(88796);let rt=(()=>{class G{}return G.\u0275fac=function(at){return new(at||G)},G.\u0275mod=L.\u0275\u0275defineNgModule({type:G}),G.\u0275inj=L.\u0275\u0275defineInjector({imports:[l.ez,V.m,H,N.d,J.A0]}),G})()},7451:(en,nt,c)=>{c.d(nt,{C:()=>s});var l=c(98739),V=c(96308),y=c(53626),$=c(68745),z=c(17489),D=c(24006),W=c(15439),A=c(54298),L=c(31361),Y=c(24850),H=c(80013),N=c(1059),J=c(22868),rt=c(95017),G=c(35226),M=c.n(G),at=c(3832),q=c(18206),I=c(36895),t=c(94650),gt=c(91013),Mt=c(52688),tt=c(89383),st=c(65938),vt=c(84130),mt=c(9035),Ot=c(50777),yt=c(44758),Tt=c(3238),_t=c(610),Et=c(22437),ht=c(67154),X=c(4859),ct=c(56709),et=c(99602),ft=c(97392),it=c(59549),Q=c(284),pt=c(96338),dt=c(28255),lt=c(51572),xt=c(10266),Ct=c(30277),ot=c(24784),bt=c(75223);const Pt=["checkBox"];function St(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.inboxCount," ")}}function wt(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.ccCount," ")}}function Dt(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.importantCount," ")}}const It=function(e){return[e]};function Bt(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"a",42),t.\u0275\u0275element(1,"i",43),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,St,3,1,"span",44),t.\u0275\u0275template(5,wt,3,1,"span",44),t.\u0275\u0275template(6,Dt,3,1,"span",44),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit,o=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass","mail-type-"+n.key)("routerLink",t.\u0275\u0275pureFunction1(9,It,"/"+n.state)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",n.icon),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,7,n.name)," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","inbox"===n.key&&o.inboxCount),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===n.key&&o.ccCount),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===n.key&&o.importantCount)}}function kt(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",38)(1,"div",39)(2,"mat-list"),t.\u0275\u0275template(3,Bt,7,11,"a",40),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(4,"div",41),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",n.mailCategories)}}function Lt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.sendMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Compose")),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Compose")," ")}}function Rt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.sendUrgentMessage())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Urgent message")),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Urgent message")," ")}}function Ft(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.getMailbox())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Get new emails")),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Get new emails")," ")}}function At(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.onDeleteMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Delete")),t.\u0275\u0275property("disabled",n.isWaitingForResponse||!1===n.countSelected||!1===n.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Delete")," ")}}function Vt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.mailMoveTo("important"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Important")),t.\u0275\u0275property("disabled",n.isWaitingForResponse||!1===n.countSelected||"inbox"!==n.selectedMailCategory&&n.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Important")," ")}}function Ut(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",52),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"span",53),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"mat-icon",54),t.\u0275\u0275text(7,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"mat-menu",null,55),t.\u0275\u0275template(10,Lt,4,7,"button",56),t.\u0275\u0275template(11,Rt,4,7,"button",56),t.\u0275\u0275template(12,Ft,4,7,"button",56),t.\u0275\u0275template(13,At,4,7,"button",56),t.\u0275\u0275template(14,Vt,4,7,"button",56),t.\u0275\u0275elementStart(15,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.mailMoveTo("inbox"))}),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&e){const n=t.\u0275\u0275reference(9),o=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(2,12,"Action")," "),t.\u0275\u0275property("disabled",o.isWaitingForResponse)("matMenuTriggerFor",n),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,14,"Action")),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",o.permissionService.composeActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.permissionService.urgentMessageActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.permissionService.downloadMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(16,16,"MailBox.REMOVE IMPORTANT")),t.\u0275\u0275property("disabled",o.isWaitingForResponse||!1===o.countSelected||"important"!==o.selectedMailCategory),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,18,"MailBox.REMOVE IMPORTANT")," ")}}function Wt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",46)(1,"div",47)(2,"div",48)(3,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.resetFilter())}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275element(5,"mat-icon",50),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,Ut,19,20,"ng-container",51),t.\u0275\u0275elementEnd()()()}if(2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,4,"Reset Filter")),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(7,6,"RESET")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","cc"!==n.selectedMailCategory)}}function Nt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",58)(1,"mat-checkbox",59),t.\u0275\u0275listener("change",function(r){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r?m.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.showOptions())}),t.\u0275\u0275elementEnd()()}if(2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&n.isAllSelected())("aria-label",n.checkboxLabel())}}function $t(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(r){return r.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext().$implicit,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.selection.toggle(r))})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.showOptions())}),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",o.selection.isSelected(n)||null!=n&&n.is_already_read||"inbox"!==o.selectedMailCategory?"":"unread")("checked",o.selection.isSelected(n))("aria-label",o.checkboxLabel(n))}}function Kt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(r){return r.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext().$implicit,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.selection.toggle(r))})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.showOptions())}),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",o.selection.isSelected(n)||null!=n&&n.is_already_read||"cc"!==o.selectedMailCategory?"":"unread")("checked",o.selection.isSelected(n))("aria-label",o.checkboxLabel(n))}}function jt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(r){return r.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext().$implicit,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.selection.toggle(r))})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.showOptions())}),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",o.selection.isSelected(n)||null!=n&&n.is_already_read||"important"!==o.selectedMailCategory?"":"unread")("checked",o.selection.isSelected(n))("aria-label",o.checkboxLabel(n))}}function Gt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",66,65),t.\u0275\u0275listener("click",function(r){return r.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext().$implicit,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.selection.toggle(r))})("change",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.showOptions())}),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275property("checked",o.selection.isSelected(n))("aria-label",o.checkboxLabel(n))}}function zt(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span",67),t.\u0275\u0275element(1,"i",68),t.\u0275\u0275elementEnd())}function Ht(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,$t,2,3,"mat-checkbox",61),t.\u0275\u0275template(2,Kt,2,3,"mat-checkbox",61),t.\u0275\u0275template(3,jt,2,3,"mat-checkbox",61),t.\u0275\u0275template(4,Gt,2,2,"mat-checkbox",62),t.\u0275\u0275template(5,zt,2,0,"span",63),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"===o.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===o.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===o.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"===o.selectedMailCategory||"draft"===o.selectedMailCategory||"sent"===o.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1==n.is_urgent_mail)}}function Yt(e,a){1&e&&t.\u0275\u0275element(0,"th",58)}function Qt(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",58)(1,"mat-form-field",69)(2,"input",70),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(r.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",71)(5,"mat-datepicker",null,72),t.\u0275\u0275elementEnd()()}if(2&e){const n=t.\u0275\u0275reference(6),o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"Select a date")),t.\u0275\u0275property("matDatepicker",n)("formControl",o.dateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",n)}}function Zt(e,a){1&e&&t.\u0275\u0275element(0,"th",58)}function Xt(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",74)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",n.fromFilter)}}function Jt(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275template(1,Xt,4,4,"div",73),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!=n.selectedMailCategory)}}function qt(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",74)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",n.toFilter)}}function te(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275template(1,qt,4,4,"div",73),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"!=n.selectedMailCategory)}}function ee(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"th",58)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",n.subjectFilter)}}function ne(e,a){1&e&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.date")))}function ie(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",77),t.\u0275\u0275listener("click",function(){const r=t.\u0275\u0275restoreView(n),m=r.$implicit,g=r.index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.onSelectMessage(m,g))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&e){const n=a.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind2(1,2,null!=n&&n.date?n.date:n.created_at,"dd/MM/yyyy")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,5,null!=n&&n.date?n.date:n.created_at,"dd/MM/yyyy")," ")}}function ae(e,a){1&e&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.time")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.time")))}function le(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",77),t.\u0275\u0275listener("click",function(){const r=t.\u0275\u0275restoreView(n),m=r.$implicit,g=r.index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.onSelectMessage(m,g))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&e){const n=a.$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",o.translateTime(t.\u0275\u0275pipeBind2(1,2,null!=n&&n.date?n.date:n.created_at,"H:mm"))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",o.translateTime(t.\u0275\u0275pipeBind2(3,5,null!=n&&n.date?n.date:n.created_at,"H:mm"))," ")}}function oe(e,a){1&e&&(t.\u0275\u0275elementStart(0,"th",78),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.from")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.from")))}function re(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",79),t.\u0275\u0275listener("click",function(){const r=t.\u0275\u0275restoreView(n),m=r.$implicit,g=r.index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.onSelectMessage(m,g))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=a.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.last_name)," ",null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.first_name," ",null!=n&&null!=n.sender_property&&null!=n.sender_property.sender&&n.sender_property.sender.civility&&"neutral"===(null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.last_name)," ",null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.first_name," ",null!=n&&null!=n.sender_property&&null!=n.sender_property.sender&&n.sender_property.sender.civility&&"neutral"===(null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==n||null==n.sender_property||null==n.sender_property.sender?null:n.sender_property.sender.civility)," ")}}function se(e,a){1&e&&(t.\u0275\u0275elementStart(0,"th",80),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.to")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.to")))}function ce(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(),m=r.$implicit,g=r.index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.onSelectMessage(m,g))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].last_name)," ",null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].first_name," ",null!=n&&null!=n.recipient_properties[0]&&null!=n.recipient_properties[0].recipients[0]&&n.recipient_properties[0].recipients[0].civility&&"neutral"===(null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(2,8,null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].last_name)," ",null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].first_name," ",null!=n&&null!=n.recipient_properties[0]&&null!=n.recipient_properties[0].recipients[0]&&n.recipient_properties[0].recipients[0].civility&&"neutral"===(null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(5,12,null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients[0]?null:n.recipient_properties[0].recipients[0].civility)," ")}}function pe(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2),m=r.$implicit,g=r.index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.onSelectMessage(m,g))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&e){const n=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate2("matTooltip","",t.\u0275\u0275pipeBind1(1,4,"Mail_All")," ",t.\u0275\u0275pipeBind1(2,6,"USER_TYPES."+n.group_detail.user_types[0].name),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(4,8,"Mail_All")," ",t.\u0275\u0275pipeBind1(5,10,"USER_TYPES."+n.group_detail.user_types[0].name)," ")}}function me(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,pe,6,12,"span",81),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n||null==n.group_detail?null:n.group_detail.user_types)&&(null==n||null==n.group_detail?null:n.group_detail.user_types.length))}}function _e(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function de(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2),m=r.$implicit,g=r.index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.onSelectMessage(m,g))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,_e,2,0,"span",51),t.\u0275\u0275elementEnd()}if(2&e){const n=a.$implicit,o=a.last;t.\u0275\u0275propertyInterpolate("matTooltip",n),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!o)}}function ue(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,de,3,3,"span",83),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==n||null==n.recipient_properties[0]?null:n.recipient_properties[0].recipients_email)}}function Z(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,ce,6,14,"span",81),t.\u0275\u0275template(2,me,2,1,"span",51),t.\u0275\u0275template(3,ue,2,1,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=n&&n.user_type_selection)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n?null:n.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n||null==n.recipient_properties[0]||null==n.recipient_properties[0].recipients_email?null:n.recipient_properties[0].recipients_email.length)}}function ge(e,a){1&e&&(t.\u0275\u0275elementStart(0,"th",84),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.composeMail.subject")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.composeMail.subject")))}function x(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",85),t.\u0275\u0275listener("click",function(){const r=t.\u0275\u0275restoreView(n),m=r.$implicit,g=r.index,C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.onSelectMessage(m,g))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&e){const n=a.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==n?null:n.subject),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==n?null:n.subject," ")}}function T(e,a){1&e&&(t.\u0275\u0275elementStart(0,"th",86)(1,"div",87),t.\u0275\u0275element(2,"mat-spinner",88),t.\u0275\u0275elementEnd()())}function p(e,a){1&e&&t.\u0275\u0275element(0,"tr",89)}function _(e,a){1&e&&t.\u0275\u0275element(0,"tr",89)}function d(e,a){1&e&&t.\u0275\u0275element(0,"tr",89)}function u(e,a){if(1&e&&t.\u0275\u0275element(0,"tr",90),2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!n.isWaitingForResponse)}}function h(e,a){if(1&e&&t.\u0275\u0275element(0,"tr",91),2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",n.isWaitingForResponse)}}function b(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",92),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No Mail Data")," "))}function O(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.OpenMailPopupRequest(r.viewMessageData,"reply-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()}2&e&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply"))}function w(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.OpenMailPopupRequest(r.viewMessageData,"reply-all"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()}2&e&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply_all"))}function E(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.OpenMailPopupRequest(r.viewMessageData,"foward-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",117),t.\u0275\u0275elementEnd()}2&e&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.forward"))}function B(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",68),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"MailBox.URGENT_MESSAGE")," "))}function S(e,a){1&e&&(t.\u0275\u0275elementStart(0,"button",118),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",119),t.\u0275\u0275elementEnd()),2&e&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function U(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.onPreviousMessage(r.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",119),t.\u0275\u0275elementEnd()}2&e&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function f(e,a){1&e&&(t.\u0275\u0275elementStart(0,"button",118),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",120),t.\u0275\u0275elementEnd()),2&e&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function v(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.onNextMessage(r.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",120),t.\u0275\u0275elementEnd()}2&e&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function ut(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==n.viewMessageData?null:n.viewMessageData.subject)}}function he(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,n.subjectTranslated)," ",n.resWordMessage,"")}}function fe(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",121),t.\u0275\u0275template(1,ut,2,1,"b",122),t.\u0275\u0275template(2,he,3,4,"ng-template",null,123,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275reference(3),o=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!o.translatedSubject)("ngIfElse",n)}}function xe(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,4,null==n.viewMessageData||null==n.viewMessageData.sender_property||null==n.viewMessageData.sender_property.sender?null:n.viewMessageData.sender_property.sender.last_name)," ",null==n.viewMessageData||null==n.viewMessageData.sender_property||null==n.viewMessageData.sender_property.sender?null:n.viewMessageData.sender_property.sender.first_name," ",null!=n.viewMessageData&&null!=n.viewMessageData.sender_property&&null!=n.viewMessageData.sender_property.sender&&n.viewMessageData.sender_property.sender.civility&&"neutral"===(null==n.viewMessageData||null==n.viewMessageData.sender_property||null==n.viewMessageData.sender_property.sender?null:n.viewMessageData.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(3,6,null==n.viewMessageData||null==n.viewMessageData.sender_property||null==n.viewMessageData.sender_property.sender?null:n.viewMessageData.sender_property.sender.civility)," - (",null==n.viewMessageData||null==n.viewMessageData.sender_property||null==n.viewMessageData.sender_property.sender?null:n.viewMessageData.sender_property.sender.email,") ")}}function Ce(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span")(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,2,"Mail_All")," ",t.\u0275\u0275pipeBind1(4,4,"USER_TYPES."+n.typeName)," ")}}function be(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==n?null:n.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==n||null==n.recipients[0]?null:n.recipients[0].last_name)," ",null==n||null==n.recipients[0]?null:n.recipients[0].first_name," ",null!=n&&null!=n.recipients[0]&&n.recipients[0].civility&&"neutral"===(null==n||null==n.recipients[0]?null:n.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==n||null==n.recipients[0]?null:n.recipients[0].civility)," - (",null==n||null==n.recipients[0]?null:n.recipients[0].email,") ")}}function Me(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function ve(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,be,4,9,"span",126),t.\u0275\u0275template(2,Me,2,0,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("title",null==o?null:o.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==o?null:o.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r<m.recpList.length-1)}}function Oe(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,ve,3,3,"span",126),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n?null:n.rank)}}function ye(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function Te(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275text(1),t.\u0275\u0275template(2,ye,2,0,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit,o=a.last;t.\u0275\u0275propertyInterpolate("matTooltip",n),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!o)}}function Ee(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Te,3,3,"span",128),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==n.viewMessageData||null==n.viewMessageData.recipient_properties[0]?null:n.viewMessageData.recipient_properties[0].recipients_email)}}function Pe(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Oe,2,1,"span",125),t.\u0275\u0275template(2,Ee,2,1,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n.recpList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.viewMessageData||null==n.viewMessageData.recipient_properties[0]||null==n.viewMessageData.recipient_properties[0].recipients_email?null:n.viewMessageData.recipient_properties[0].recipients_email.length)}}function Se(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Ce,5,6,"span",51),t.\u0275\u0275template(5,Pe,3,2,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.to")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==n.viewMessageData?null:n.viewMessageData.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=n.viewMessageData&&n.viewMessageData.user_type_selection))}}function we(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",130)(2,"button",131),t.\u0275\u0275element(3,"i",132),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"label"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",133),t.\u0275\u0275listener("click",function(){const m=t.\u0275\u0275restoreView(n).$implicit,g=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(g.downloadFile(m))}),t.\u0275\u0275element(7,"i",134),t.\u0275\u0275elementEnd()()()}if(2&e){const n=a.$implicit;t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(null==n?null:n.file_name)}}function De(e,a){if(1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,we,8,1,"div",125),t.\u0275\u0275elementContainerEnd()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"Attachment")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==n.viewMessageData?null:n.viewMessageData.file_attachments)}}function Ie(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==n?null:n.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==n?null:n.recipients[0].last_name)," ",null==n?null:n.recipients[0].first_name," ",null!=n&&null!=n.recipients[0]&&n.recipients[0].civility&&"neutral"===(null==n||null==n.recipients[0]?null:n.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==n||null==n.recipients[0]?null:n.recipients[0].civility)," - (",null==n||null==n.recipients[0]?null:n.recipients[0].email,") ")}}function Be(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function ke(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,Ie,4,9,"span",126),t.\u0275\u0275template(2,Be,2,0,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==o?null:o.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==o||null==o.recipients?null:o.recipients.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r<m.ccList.length-1)}}function Le(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,ke,3,3,"span",126),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n?null:n.rank)}}function Re(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function Fe(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275text(1),t.\u0275\u0275template(2,Re,2,0,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit,o=a.last;t.\u0275\u0275propertyInterpolate("matTooltip",n),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!o)}}function Ae(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Fe,3,3,"span",128),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==n.viewMessageData||null==n.viewMessageData.recipient_properties[1]?null:n.viewMessageData.recipient_properties[1].recipients_email)}}function Ve(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Le,2,1,"span",125),t.\u0275\u0275template(5,Ae,2,1,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.composeMail.cc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.ccList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.viewMessageData||null==n.viewMessageData.recipient_properties[1]||null==n.viewMessageData.recipient_properties[1].recipients_email?null:n.viewMessageData.recipient_properties[1].recipients_email.length)}}function Ue(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==n?null:n.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==n?null:n.recipients[0].last_name)," ",null==n?null:n.recipients[0].first_name," ",null!=n&&null!=n.recipients[0]&&n.recipients[0].civility&&"neutral"===(null==n||null==n.recipients[0]?null:n.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==n||null==n.recipients[0]?null:n.recipients[0].civility)," - (",null==n||null==n.recipients[0]?null:n.recipients[0].email,") ")}}function We(e,a){1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function Ne(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,Ue,4,9,"span",126),t.\u0275\u0275template(2,We,2,0,"span",51),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==o?null:o.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==o||null==o.recipients?null:o.recipients.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r<m.bccList.length-1)}}function $e(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Ne,3,3,"span",126),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n?null:n.rank)}}function Ke(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,$e,2,1,"span",125),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"MailBox.composeMail.bcc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.bccList)}}function je(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit,o=a.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",n.short_name,"",0===o?"":","," ")}}function Ge(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",135)(1,"div",136)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,je,2,2,"span",125),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"RNCP Titles")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==n.viewMessageData||null==n.viewMessageData.group_detail?null:n.viewMessageData.group_detail.rncp_titles)}}function ze(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const n=a.$implicit,o=a.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",n.name,"",0===o?"":","," ")}}function He(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"div",137)(1,"div",136)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,ze,2,2,"span",125),t.\u0275\u0275elementEnd()()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"UserType")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==n.viewMessageData||null==n.viewMessageData.group_detail?null:n.viewMessageData.group_detail.user_types)}}function Ye(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",138),t.\u0275\u0275element(1,"div",136),t.\u0275\u0275elementEnd())}function Qe(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",93)(1,"div",94)(2,"div",95),t.\u0275\u0275template(3,O,3,3,"button",96),t.\u0275\u0275template(4,w,3,3,"button",96),t.\u0275\u0275template(5,E,3,3,"button",96),t.\u0275\u0275elementStart(6,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.openDialog(r.viewMessageData))}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275element(8,"i",98),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,B,4,3,"span",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",99),t.\u0275\u0275template(11,S,3,3,"button",100),t.\u0275\u0275template(12,U,3,3,"button",96),t.\u0275\u0275template(13,f,3,3,"button",101),t.\u0275\u0275template(14,v,3,3,"button",96),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",102)(16,"div",103),t.\u0275\u0275template(17,fe,4,2,"div",104),t.\u0275\u0275element(18,"hr"),t.\u0275\u0275elementStart(19,"span",105),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"titlecase"),t.\u0275\u0275pipe(22,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",106)(24,"label",107),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,xe,4,8,"span",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(28,Se,6,5,"div",108),t.\u0275\u0275template(29,De,5,4,"ng-container",51),t.\u0275\u0275template(30,Ve,6,5,"div",108),t.\u0275\u0275template(31,Ke,5,4,"div",108),t.\u0275\u0275template(32,Ge,6,4,"div",109),t.\u0275\u0275template(33,He,6,4,"div",110),t.\u0275\u0275template(34,Ye,2,0,"div",111),t.\u0275\u0275element(35,"hr"),t.\u0275\u0275elementStart(36,"div",112)(37,"div",113),t.\u0275\u0275element(38,"p",114)(39,"br")(40,"br"),t.\u0275\u0275elementEnd()()()()}if(2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","sent"!==n.selectedMailCategory&&"trash"!==n.selectedMailCategory&&"draft"!==n.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!==n.selectedMailCategory&&"trash"!==n.selectedMailCategory&&"draft"!==n.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"!==n.selectedMailCategory&&"draft"!==n.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(7,22,"MailBox.emailDetails.delete")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",1==n.viewMessageData.is_urgent_mail),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.checkIsNextBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.checkIsNextBtnShow()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==n.viewMessageData?null:n.viewMessageData.subject),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",null!=n.viewMessageData&&n.viewMessageData.created_at?t.\u0275\u0275pipeBind1(21,24,n.momentlang(null==n.viewMessageData?null:n.viewMessageData.created_at)):""," ",null!=n.viewMessageData&&n.viewMessageData.created_at?n.translateTime(t.\u0275\u0275pipeBind2(22,26,null==n.viewMessageData?null:n.viewMessageData.created_at,"H:mm")):""," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(26,29,"MailBox.from")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==n.viewMessageData||null==n.viewMessageData.sender_property?null:n.viewMessageData.sender_property.sender),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.recpList?null:n.recpList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.viewMessageData?null:n.viewMessageData.file_attachments)&&(null==n.viewMessageData?null:n.viewMessageData.file_attachments.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.ccList?null:n.ccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.bccList?null:n.bccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===n.selectedMailCategory&&(null==n.viewMessageData?null:n.viewMessageData.is_group_parent)&&(null==n.viewMessageData||null==n.viewMessageData.group_detail||null==n.viewMessageData.group_detail.rncp_titles?null:n.viewMessageData.group_detail.rncp_titles.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===n.selectedMailCategory&&(null==n.viewMessageData?null:n.viewMessageData.is_group_parent)&&(null==n.viewMessageData||null==n.viewMessageData.group_detail||null==n.viewMessageData.group_detail.user_types?null:n.viewMessageData.group_detail.user_types.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==n.ccList?null:n.ccList.length)>0),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("innerHTML",n.getMessage(null==n.viewMessageData?null:n.viewMessageData.message),t.\u0275\u0275sanitizeHtml)}}const Ze=function(){return["reset"]},Xe=function(){return["loading"]},Je=function(e){return{hide:e}},qe=function(e){return{"hide-pagination-buttons":e}},i=function(){return[10]};let s=(()=>{class e{constructor(n,o,r,m,g,C,P,R,F,j,nn,tn){this.mailboxService=n,this.userService=o,this.translate=r,this.dialog=m,this.permissions=g,this.certificationRuleService=C,this.rncpTitlesService=P,this.permissionService=R,this.dateAdapter=F,this.route=j,this.filterBreadCrumbService=nn,this.pageTitleService=tn,this.isTeacherCard=!1,this.inbox=!0,this.cc=!1,this.important=!1,this.draft=!1,this.trash=!1,this.sent=!1,this.isWaitingForResponse=!1,this.IsReplyBtn=!1,this.IsReplyAllBtn=!1,this.IsForwardBtn=!1,this.IsDeleteBtn=!1,this.IsImportantBtn=!1,this.IsMovetoInboxBtn=!1,this.hideResetButton=!1,this.alreadyRead=!1,this.isSearching=!1,this.selectedMails=[],this.mailList=[],this.mailSelected=[],this.checked=[],this.isChecked=!1,this.selection=new rt.Ov(!0,[]),this.config={disableClose:!0,width:"800px"},this.urgentMessageConfig={disableClose:!0,width:"600px"},this.configCertificatioRule={disableClose:!0},this.dataSource=new y.by([]),this.displayedColumns=["select","created_at","timeTable","from","to","subject"],this.filterColumns=["selectFilter","createdAtFilter","timeTableFilter","fromFilter","toFilter","subjectFilter"],this.subs=new $.Y,this.isReset=!1,this.inboxCount=0,this.ccCount=0,this.importantCount=0,this.dataLoaded=!1,this.viewBcc=!1,this.sortEmail="asc",this.sortFrom="asc",this.sortTo="asc",this.sortStatus="asc",this.dateFilter=new D.UntypedFormControl(""),this.fromFilter=new D.UntypedFormControl(""),this.toFilter=new D.UntypedFormControl(""),this.subjectFilter=new D.UntypedFormControl(""),this.lightningFilter=new D.UntypedFormControl(""),this.titleFilterList=[],this.isWaitRecipientGroup=!1,this.filteredValues={date:"",from:"",to:"",subject:""},this.filteredValuesDate={date:""},this.isOPERATORDir=!1,this.isOPERATORAdmin=!1,this.mailsList=[],this.getCountOfCC=[],this.recpList=[],this.ccList=[],this.bccList=[],this.selectedMailCategory="inbox",this.translatedSubject=!1,this.translatedSubjectTable=!1,this.resWordTable="",this.resWordMessage="",this.filterBreadcrumbData=[]}ngOnInit(){this.dateAdapter.setLocale(this.translate.currentLang),this.subs.sink=this.translate.onLangChange.subscribe(n=>{this.dateAdapter.setLocale(this.translate.currentLang),this.getMailbox(!0)}),this.currentUser=this.userService.getLocalStorageUser(),this.isOPERATORAdmin=!!this.permissions.getPermission("operator_admin"),this.isOPERATORDir=!!this.permissions.getPermission("operator_dir"),this.countSelected=!1,this.sortValue={latest_email:"asc"},this.getMailbox(),this.permissions.getPermission("Student")&&this.getCertificationRule(),this.initMail(),this.isTeacherCard||this.pageTitleService.setTitle("Inbox")}ngOnChanges(n){this.userId&&this.resetFilter()}getMailbox(n){this.isWaitingForResponse=!n;const o=this.selectedMailCategory,g={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex},C=this.cleanFilterData();this.userId=this.userId?this.userId:this.currentUser?._id,this.getMainMailBox(g,this.sortValue,o,!0,C,"a",this.userId)}getMainMailBox(n,o,r,m,g,C,P){this.subs.sink=this.mailboxService.getMainMail(n,o,r,m,g,C,P||null).subscribe(F=>{this.isReset=!1,this.isWaitingForResponse=!1,F&&F.length>0?(F.forEach((j,nn)=>{j.recipient_properties.forEach(tn=>{tn.recipients.forEach(an=>{an.email===this.currentUser.email&&(j.is_already_read=!0===tn.is_read)})})}),F.forEach(j=>{if(j.subject){const nn=j.subject.includes("Status Update CSV for"),tn=j.subject.includes("Statut CSV pour");nn&&(j.subject=this.getTranslationSubjectStatusUpdateTable(j.subject)),tn&&(j.subject=this.getTranslationSubjectStatusUpdateTable(j.subject))}}),this.dataSource.data=F,this.dataSource.sort=this.sort,this.mailList=F,this.inboxCount=F[0]?F[0].count_not_read:0,this.paginator.length=F[0]?F[0].count_document:0):(this.dataSource.data=[],this.paginator.length=0,this.isWaitingForResponse=!1),this.filterBreadcrumbData=[],this.filterBreadcrumbFormat(),this.noData=this.dataSource.connect().pipe((0,Y.U)(j=>0===j.length))},F=>{this.userService.postErrorLog(F),this.dataSource.data=[],this.paginator.length=0,this.isWaitingForResponse=!1,this.noData=this.dataSource.connect().pipe((0,Y.U)(j=>0===j.length)),this.filterBreadcrumbData=[],this.filterBreadcrumbFormat(),F&&F.message&&(F.message.includes("jwt expired")||F.message.includes("str & salt required")||F.message.includes("Authorization header is missing")||F.message.includes("salt"))?this.userService.handlerSessionExpired():M().fire({type:"info",title:this.translate.instant("SORRY"),text:F&&F.message?this.translate.instant(F.message.replaceAll("GraphQL error: ","")):F,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getMailSelected(n,o){const r=this.mailList.filter(m=>m._id===n);r&&r.length&&this.onSelectMessage(r[0],parseInt(o))}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(n=>this.selection.select(n))}checkboxLabel(n){return n?`${this.selection.isSelected(n)?"deselect":"select"} row ${n.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){const n=this.selection.selected.length,o=this.dataSource.data?this.dataSource.data.length:null,r=this.selection.selected;return this.mailSelected=[],r.forEach(m=>{this.mailSelected.push(m._id)}),n===o}getFileName(n){return n?n.substring(n.lastIndexOf("/")+1):""}downloadFile(n){const o=document.createElement("a");o.target="_blank",o.href=n.path,o.download=n.file_name,o.click(),o.remove()}getRecipientFullName(n){let r;return n?(r=n.filter(m=>m.recipients[0].email===this.currentUser.email),r&&r.length?r[0]:""):""}initMail(){this.subs.sink=this.dateFilter.valueChanges.subscribe(n=>{const o=W(n).format("DD/MM/YYYY");this.filteredValues.date=n,this.filteredValuesDate.date=n?o:null,this.paginator.pageIndex=0,this.isReset||this.getMailbox()}),this.subs.sink=this.fromFilter.valueChanges.pipe((0,H.b)(400)).subscribe(n=>{if(""!==this.fromFilter.value){const o=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,r=/\\/;if(n.match(o)||n.match(r)){const m=n.replace(o,"");this.fromFilter.setValue(m)}else this.filteredValues.from=n||"",this.paginator.pageIndex=0,this.isReset||this.getMailbox()}else this.filteredValues.from="",this.paginator.pageIndex=0,this.isReset||this.getMailbox()}),this.subs.sink=this.toFilter.valueChanges.pipe((0,H.b)(400)).subscribe(n=>{if(""!==this.toFilter.value){const o=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,r=/\\/;if(n.match(o)||n.match(r)){const m=n.replace(o,"");this.toFilter.setValue(m)}else this.filteredValues.to=n||"",this.paginator.pageIndex=0,this.isReset||this.getMailbox()}else this.filteredValues.to="",this.paginator.pageIndex=0,this.isReset||this.getMailbox()}),this.subs.sink=this.subjectFilter.valueChanges.pipe((0,H.b)(400)).subscribe(n=>{if(""!==this.subjectFilter.value){const o=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,r=/\\/;if(n.match(o)||n.match(r)){const m=n.replace(o,"");this.subjectFilter.setValue(m)}else this.filteredValues.subject=n||"",this.paginator.pageIndex=0,this.isReset||this.getMailbox()}else this.filteredValues.subject="",this.paginator.pageIndex=0,this.isReset||this.getMailbox()}),this.mailCategories=this.mailboxService.getMailCategories()}sortData(n){this.sortValue=n.active?{[n.active]:n.direction?n.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getMailbox())}cleanFilterData(){const n=z.cloneDeep(this.filteredValues);let o="";return Object.keys(n).forEach(r=>{n[r]&&(o+=` ${r}:"${n[r]}"`)}),o}sendMail(){this.sendMailDialogComponent=this.dialog.open(A.U,this.config),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(n=>{this.isReset||this.getMailbox(),this.sendMailDialogComponent=null})}sendUrgentMessage(){this.urgentMessageDialogComponent=this.dialog.open(at.x,this.urgentMessageConfig)}sendMailToGroup(){this.mailToGroupDialogComponent=this.dialog.open(L.C,this.config)}resetFilter(){this.isReset=!0,this.filteredValues={date:"",from:"",to:"",subject:""},this.filteredValuesDate={date:""},this.sort.direction="",this.sort.active="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=this.sortValue={latest_email:"asc"},this.dataSource.data=[],this.paginator.pageIndex=0,this.dateFilter.setValue(""),this.subjectFilter.setValue(""),this.fromFilter.setValue(""),this.toFilter.setValue(""),this.selection.clear(),this.getMailbox()}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe(),this.dataSource.data=[],this.isTeacherCard||this.pageTitleService.setTitle(null)}changePage(n){this.isReset||this.getMailbox()}updateToReadFlag(n,o){const r=z.cloneDeep(this.viewMessageData);delete r.$$index,delete r.is_already_read;let m={},g=!1;const C=[];if(C.push(r._id),r.recipient_properties&&r.recipient_properties.forEach(P=>{P.recipients.forEach(R=>{!1===P.is_read&&(R.email===this.currentUser.email||R.email===this.currentUser.email)&&(r.recipient_properties[0].is_read=!0,g=!0,m={is_read:!0},r.recipient_properties.recipients=[R])})}),g){if(0===o||o){const P=z.cloneDeep(this.dataSource.data);P[o]&&(P[o].is_already_read=!0,this.dataSource.data=P)}this.subs.sink=this.mailboxService.updateMultipleMailRecipient(C,m).subscribe(P=>{0===o||o||this.isReset||this.getMailbox()},P=>{this.userService.postErrorLog(P),P&&P.message&&(P.message.includes("jwt expired")||P.message.includes("str & salt required")||P.message.includes("Authorization header is missing")||P.message.includes("salt"))?this.userService.handlerSessionExpired():M().fire({type:"info",title:this.translate.instant("SORRY"),text:P&&P.message?this.translate.instant(P.message.replaceAll("GraphQL error: ","")):P,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}onSelectMessage(n,o){if(n&&n.subject&&this.getTranslationSubjectStatusUpdate(n.subject),this.viewMessageData=n,n.user_type_selection?(this.getRecipientName(n),this.isWaitRecipientGroup=!0):this.isWaitRecipientGroup=!1,this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[],this.getCountOfCC=n.recipient_properties,n.is_group_parent){const r=this.getRecipientFullName(n.recipient_properties);this.recpList.push(r)}else this.getCountOfCC&&this.getCountOfCC.length&&this.getCountOfCC.forEach((r,m)=>{null!=r.rank?("a"===r.rank&&this.recpList.push(r),"cc"===r.rank&&(this.ccList.push(r),r.recipients.forEach(g=>{})),this.viewBcc&&"c"===r.rank&&this.bccList.push(r),r.recipients.forEach(g=>{"c"===r.rank&&g.email===this.currentUser.email&&this.recpList.push(r)})):(n.recipient_properties[0].rank="a",this.recpList.push(n.recipient_properties[0]))});this.viewMessageData.$$index=o,this.updateToReadFlag(n._id,o)}getTranslationSubjectStatusUpdateTable(n){const o=n.includes("Status Update CSV for"),r=n.includes("Statut CSV pour");let m="";o&&(m=n.slice(0,21),this.resWordTable=n.slice(22,n.length)),r&&(m=n.slice(0,15),this.resWordTable=n.slice(15,n.length));let g="";return this.translate.stream(m).subscribe(C=>{g=C}),g+" "+this.resWordTable}getTranslationSubjectStatusUpdate(n){const o=n.includes("Status Update CSV for"),r=n.includes("Statut CSV pour");let m="";o&&(m=n.slice(0,21),this.resWordMessage=n.slice(22,n.length)),r&&(m=n.slice(0,15),this.resWordMessage=n.slice(16,n.length)),m&&("Status Update CSV for"===m&&(this.translatedSubject=!0,this.subjectTranslated=m),"Statut CSV pour"===m&&(this.translatedSubject=!0,this.subjectTranslated=m))}onPreviousMessage(n){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const o=this.viewMessageData.$$index-1;this.viewMessageData=this.mailList[o],this.viewMessageData.$$index=o,this.getCountOfCC=this.mailList[o].recipient_properties,this.getCountOfCC.forEach((r,m)=>{null!=r.rank?("a"===r.rank&&this.recpList.push(r),"cc"===r.rank&&(this.ccList.push(r),r.recipients.forEach(g=>{})),this.viewBcc&&"c"===r.rank&&this.bccList.push(r),r.recipients.forEach(g=>{"c"===r.rank&&g.email===this.currentUser.email&&this.recpList.push(r)})):(n.recipient_properties[0].rank="a",this.recpList.push(n.recipient_properties[0]))})}onNextMessage(n){if(this.viewMessageData&&this.viewMessageData.$$index+1<this.mailList.length){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const o=this.viewMessageData.$$index+1;this.viewMessageData=this.mailList[o],this.viewMessageData.$$index=o,this.getCountOfCC=this.mailList[o].recipient_properties,this.getCountOfCC.forEach((r,m)=>{null!=r.rank?("a"===r.rank&&this.recpList.push(r),"cc"===r.rank&&(this.ccList.push(r),r.recipients.forEach(g=>{})),this.viewBcc&&"c"===r.rank&&this.bccList.push(r),r.recipients.forEach(g=>{"c"===r.rank&&g.email===this.currentUser.email&&this.recpList.push(r)})):(n.recipient_properties[0].rank="a",this.recpList.push(n.recipient_properties[0]))}),this.updateToReadFlag(this.viewMessageData._id)}}checkIsPreviousBtnShow(){return 0!==this.viewMessageData.$$index}checkIsNextBtnShow(){return this.viewMessageData.$$index!==this.mailList.length-1}OpenMailPopupRequest(n,o){this.config.data={},this.sendMailDialogComponent=this.dialog.open(A.U,this.config),this.sendMailDialogComponent.componentInstance.tags=[o],this.sendMailDialogComponent.componentInstance.currentMailData=n,"sent"===this.selectedMailCategory&&(this.sendMailDialogComponent.componentInstance.isSenderReq=!1),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(r=>{"updateMailList"===r&&(this.isReset||this.getMailbox()),this.sendMailDialogComponent=null})}openDialog(n){const m={mail_type:"trash"};let g=3;M().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:g}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{M().disableConfirmButton();const C=M().getConfirmButton(),P=setInterval(()=>{g-=1,C.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+g+" sec"},1e3);this.timeOutVal=setTimeout(()=>{C.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),M().enableConfirmButton(),clearInterval(P),clearTimeout(this.timeOutVal)},1e3*g)}}).then(C=>{if(clearTimeout(this.timeOutVal),C.value){this.viewMessageData=[];const P=[];P.push(n._id),this.subs.sink=this.mailboxService.updateMultipleMailRecipient(P,m).subscribe(R=>{M().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getMailbox()},R=>{this.userService.postErrorLog(R),R&&R.message&&(R.message.includes("jwt expired")||R.message.includes("str & salt required")||R.message.includes("Authorization header is missing")||R.message.includes("salt"))?this.userService.handlerSessionExpired():M().fire({type:"info",title:this.translate.instant("SORRY"),text:R&&R.message?this.translate.instant(R.message.replaceAll("GraphQL error: ","")):R,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}})}onDeleteMail(){const n={mail_type:"trash"};let m=3;M().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:m}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{M().disableConfirmButton();const g=M().getConfirmButton(),C=setInterval(()=>{m-=1,g.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+m+" sec"},1e3);this.timeOutVal=setTimeout(()=>{g.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),M().enableConfirmButton(),clearInterval(C),clearTimeout(this.timeOutVal)},1e3*m)}}).then(g=>{clearTimeout(this.timeOutVal),g.value&&(this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailRecipient(this.mailSelected,n).subscribe(C=>{M().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getMailbox()},C=>{this.userService.postErrorLog(C),C&&C.message&&(C.message.includes("jwt expired")||C.message.includes("str & salt required")||C.message.includes("Authorization header is missing")||C.message.includes("salt"))?this.userService.handlerSessionExpired():M().fire({type:"info",title:this.translate.instant("SORRY"),text:C&&C.message?this.translate.instant(C.message.replaceAll("GraphQL error: ","")):C,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}receiveEmail(){this.isReset||this.getMailbox()}mailMoveTo(n){const o={mail_type:n};this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailRecipient(this.mailSelected,o).subscribe(r=>{this.isReset||this.getMailbox()},r=>{this.userService.postErrorLog(r),r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():M().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showOptions(){this.countSelected=this.selection.selected.length>0}getMessage(n){return n?(n&&n.includes("<table>")&&(n=n.replaceAll("<table>",'<table class="notif-table full-width" border="1">')),n&&n.includes("<a")&&n&&!n.includes("target")&&(n=n.replaceAll("<a",'<a target="blank" class="blue-link-format"')),n):""}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(n=>{n&&n.length&&(this.subs.sink=this.dialog.open(q.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:n}).afterClosed().subscribe(o=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(r=>{r&&r.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(q.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:r}))},r=>{this.userService.postErrorLog(r),r&&r.message&&(r.message.includes("jwt expired")||r.message.includes("str & salt required")||r.message.includes("Authorization header is missing")||r.message.includes("salt"))?this.userService.handlerSessionExpired():M().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))},n=>{this.userService.postErrorLog(n),n&&n.message&&(n.message.includes("jwt expired")||n.message.includes("str & salt required")||n.message.includes("Authorization header is missing")||n.message.includes("salt"))?this.userService.handlerSessionExpired():M().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCertificationRule(){const n=this.userService.getLocalStorageUser(),o=n.entities[0].assigned_rncp_title._id,r=n.entities[0].class._id,m=n._id;this.subs.sink=this.rncpTitlesService.getRncpTitleById(o).subscribe(g=>{this.selectedRncpTitleName=g.short_name,this.selectedRncpTitleLongName=g.long_name},g=>{this.userService.postErrorLog(g)}),this.subs.sink=this.certificationRuleService.getCertificationRuleSentWithStudent(o,r,m).subscribe(g=>{g||this.getUrgentMail()},g=>{this.userService.postErrorLog(g),g&&g.message&&(g.message.includes("jwt expired")||g.message.includes("str & salt required")||g.message.includes("Authorization header is missing")||g.message.includes("salt"))?this.userService.handlerSessionExpired():M().fire({type:"info",title:this.translate.instant("SORRY"),text:g&&g.message?this.translate.instant(g.message.replaceAll("GraphQL error: ","")):g,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getRecipientName(n){n.group_detail.rncp_titles&&n.group_detail.rncp_titles.length&&(this.subs.sink=this.mailboxService.getOneTitle(n.group_detail.rncp_titles[0]._id).subscribe(o=>{o&&(this.titleName=o.short_name)},o=>{this.userService.postErrorLog(o),o&&o.message&&(o.message.includes("jwt expired")||o.message.includes("str & salt required")||o.message.includes("Authorization header is missing")||o.message.includes("salt"))?this.userService.handlerSessionExpired():M().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),n.group_detail.user_types&&n.group_detail.user_types.length&&(this.subs.sink=this.mailboxService.getOneUserTypes(n.group_detail.user_types[0]._id).subscribe(o=>{o&&(this.typeName=o.name)},o=>{this.userService.postErrorLog(o),o&&o.message&&(o.message.includes("jwt expired")||o.message.includes("str & salt required")||o.message.includes("Authorization header is missing")||o.message.includes("salt"))?this.userService.handlerSessionExpired():M().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.isWaitRecipientGroup=!1}showCertificationRule(n,o){}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,N.O)(null),(0,J.b)(()=>{this.isReset||this.getMailbox(),this.dataLoaded=!0})).subscribe()}momentlang(n){const o=W(n).format("DD/MM/YYYY");if("object"==typeof o){const r=new Date(o.year,o.month,o.date,o.hour,o.minute);return this.datePipe=new I.uU(this.translate.currentLang),this.datePipe.transform(r,"EEE d MMM, y")}{let r=o;if("number"==typeof r&&(r=r.toString()),8===r.length){const C=parseInt(r.substring(0,4)),P=parseInt(r.substring(4,6)),R=parseInt(r.substring(6,8));r=new Date(C,P,R)}this.datePipe=new I.uU(this.translate.currentLang);const m=W(r,"DD/MM/YYYY");return this.datePipe.transform(m,"EEEE d MMMM y")}}clearSelectIfFilter(){this.selection?.clear()}removeFilterBreadcrumb(n){this.filterBreadCrumbService.removeFilterBreadcrumb(n,null,this.filteredValues),"table_filter"===n.type&&this.filteredValuesDate&&(this.filteredValuesDate[n.name]=null),this.clearSelectIfFilter(),this.getMailbox()}filterBreadcrumbFormat(){this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat([{type:"table_filter",name:"date",column:"MailBox.date",isMultiple:!1,filterValue:this.filteredValuesDate,filterList:null,filterRef:this.dateFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"from",column:"MailBox.from",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.fromFilter,displayKey:null,savedValue:null,isSelectionInput:!1,noTranslate:!0},{type:"table_filter",name:"to",column:"MailBox.to",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.toFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"subject",column:"MailBox.composeMail.subject",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.subjectFilter,displayKey:null,savedValue:null,isSelectionInput:!1,noTranslate:!0}],this.filterBreadcrumbData)}translateTime(n){return W(n,"HH:mm").format("H:mm")}}return e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275directiveInject(gt.e),t.\u0275\u0275directiveInject(Mt.e),t.\u0275\u0275directiveInject(tt.sK),t.\u0275\u0275directiveInject(st.uw),t.\u0275\u0275directiveInject(vt.YI),t.\u0275\u0275directiveInject(mt._),t.\u0275\u0275directiveInject(Ot.r),t.\u0275\u0275directiveInject(yt.$),t.\u0275\u0275directiveInject(Tt._A),t.\u0275\u0275directiveInject(_t.gz),t.\u0275\u0275directiveInject(Et.q),t.\u0275\u0275directiveInject(ht.Z))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["ms-mailbox"]],viewQuery:function(n,o){if(1&n&&(t.\u0275\u0275viewQuery(l.NW,7),t.\u0275\u0275viewQuery(V.YE,7),t.\u0275\u0275viewQuery(Pt,5)),2&n){let r;t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(o.paginator=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(o.sort=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(o.checkBox=r)}},inputs:{isTeacherCard:"isTeacherCard",userId:"userId"},features:[t.\u0275\u0275NgOnChangesFeature],decls:51,vars:21,consts:[[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"p-grid"],["class","p-col-12",4,"ngIf"],[1,"view-mailbox-template"],[1,"view-mailbox-by-side"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","asc","matSortDisableClear","",1,"mat-elevation-z8","mailTable",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","6","class","header-alignment",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","selectFilter"],["matColumnDef","createdAtFilter"],["matColumnDef","timeTableFilter"],["matColumnDef","fromFilter"],["matColumnDef","toFilter"],["matColumnDef","subjectFilter"],["matColumnDef","created_at"],["style","padding-left: 24px","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","timeTable"],["matColumnDef","from"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","to"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","subject"],["mat-header-cell","","mat-sort-header","subject","style","padding-right: 0.5rem !important",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","padding-right: 0.5rem !important",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","6","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","hidePageSize","pageSizeOptions","page"],["class","view-message-section",4,"ngIf"],[1,"p-col-12"],["fxFlex.gt-sm","60","fxFlex.gt-xs","60","fxFlex","60",1,"mail-type-list-wrapper"],["mat-list-item","","fxFlex","","routerLinkActive","active-link",3,"ngClass","routerLink",4,"ngFor","ngForOf"],["fxFlex.gt-sm","40","fxFlex.gt-xs","40","fxFlex","40",1,"mail-type-list-wrapper"],["mat-list-item","","fxFlex","","routerLinkActive","active-link",3,"ngClass","routerLink"],[1,"fa",3,"ngClass"],["class","unreadNotify",4,"ngIf"],[1,"unreadNotify"],["mat-header-cell","","colspan","6",1,"header-alignment"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex","100","fxFlex.lt-md","100",1,"mail-controls"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","","matTooltipPosition","above",1,"right-float","resetBtn",3,"matTooltip","disabled","click"],["svgIcon","loop"],[4,"ngIf"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","",1,"right-float","actionBtn",2,"padding","0px 7px 0px 10px !important",3,"matTooltip","disabled","matMenuTriggerFor"],[2,"transform","translateY(2px)","color","#000"],[2,"color","#000"],["action","matMenu"],["mat-menu-item","","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-menu-item","","matTooltipPosition","above",3,"matTooltip","disabled","click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"ngClass","checked","aria-label","click","change",4,"ngIf"],[3,"checked","aria-label","click","change",4,"ngIf"],["style","text-align: center; padding-left: 20px",4,"ngIf"],[3,"ngClass","checked","aria-label","click","change"],["checkBox",""],[3,"checked","aria-label","click","change"],[2,"text-align","center","padding-left","20px"],[1,"fa","fa-bolt"],[2,"margin-top","6px"],["matInput","",3,"matDatepicker","formControl","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["class","matFormModif",4,"ngIf"],[1,"matFormModif"],["matInput","",1,"form-field",3,"formControl","placeholder"],["mat-header-cell","",2,"padding-left","24px",3,"matTooltip"],["mat-cell","",2,"text-align","center",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip"],["mat-cell","",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip"],[3,"matTooltip","click",4,"ngIf"],[3,"matTooltip","click"],[3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-header-cell","","mat-sort-header","subject",2,"padding-right","0.5rem !important",3,"matTooltip"],["mat-cell","",2,"padding-right","0.5rem !important",3,"matTooltip","click"],["mat-header-cell","","colspan","6",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"view-message-section"],[1,"compose-mail-action",2,"width","100%"],[2,"float","left"],["class","mail-action-btn","mat-button","","md-button","",3,"title","click",4,"ngIf"],["mat-button","","md-button","",1,"mail-action-btn",3,"title","click"],[1,"fa","fa-trash"],[2,"float","right"],["class","mail-action-btn","mat-button","","md-button","","style","color: gray",3,"title",4,"ngIf"],["class","mail-action-btn","mat-button","","style","color: gray","md-button","",3,"title",4,"ngIf"],[1,"compose-mail"],[2,"width","100%"],["class","emailsubject e-mailSubject",4,"ngIf"],[2,"float","right","margin-right","18px","font-size","12px"],[1,"sender-mail"],[2,"font-weight","800","font-size","12px"],["class","recipient-mail",4,"ngIf"],["class","group-rncp",4,"ngIf"],["class","group-usertype",4,"ngIf"],["class","mail-cc",4,"ngIf"],[1,"message_detail"],[1,"message_view","break-word"],[3,"innerHTML"],[1,"fa","fa-reply"],[1,"fa","fa-reply-all"],[1,"fa","fa-mail-forward"],["mat-button","","md-button","",1,"mail-action-btn",2,"color","gray",3,"title"],[1,"fa","fa-caret-left"],[1,"fa","fa-caret-right"],[1,"emailsubject","e-mailSubject"],[4,"ngIf","ngIfElse"],["subjectTranslateds",""],[1,"recipient-mail"],[4,"ngFor","ngForOf"],[3,"title",4,"ngIf"],[3,"title"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[1,"fileInfo"],["mat-button","","type","button"],[1,"fa","fa-file-archive-o"],["mat-button","","type","button",3,"click"],[1,"fa","fa-download"],[1,"group-rncp"],[1,"message_view"],[1,"group-usertype"],[1,"mail-cc"]],template:function(n,o){1&n&&(t.\u0275\u0275elementStart(0,"ms-filter-breadcrumb",0),t.\u0275\u0275listener("removeFilterTrigger",function(m){return o.removeFilterBreadcrumb(m)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",1),t.\u0275\u0275template(2,kt,5,1,"div",2),t.\u0275\u0275elementContainerStart(3),t.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"table",5),t.\u0275\u0275listener("matSortChange",function(m){return o.sortData(m)}),t.\u0275\u0275elementContainerStart(7,6),t.\u0275\u0275template(8,Wt,9,8,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(9,8),t.\u0275\u0275template(10,Nt,2,3,"th",9),t.\u0275\u0275template(11,Ht,6,5,"td",10),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,11),t.\u0275\u0275template(13,Yt,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,12),t.\u0275\u0275template(15,Qt,7,6,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,13),t.\u0275\u0275template(17,Zt,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,14),t.\u0275\u0275template(19,Jt,2,1,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,15),t.\u0275\u0275template(21,te,2,1,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,16),t.\u0275\u0275template(23,ee,4,4,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,17),t.\u0275\u0275template(25,ne,5,6,"th",18),t.\u0275\u0275template(26,ie,4,8,"td",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(27,20),t.\u0275\u0275template(28,ae,5,6,"th",18),t.\u0275\u0275template(29,le,4,8,"td",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(30,21),t.\u0275\u0275template(31,oe,5,6,"th",22),t.\u0275\u0275template(32,re,6,14,"td",23),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(33,24),t.\u0275\u0275template(34,se,5,6,"th",25),t.\u0275\u0275template(35,Z,4,3,"td",10),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(36,26),t.\u0275\u0275template(37,ge,5,6,"th",27),t.\u0275\u0275template(38,x,2,2,"td",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(39,29),t.\u0275\u0275template(40,T,3,0,"th",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(41,p,1,0,"tr",31),t.\u0275\u0275template(42,_,1,0,"tr",31),t.\u0275\u0275template(43,d,1,0,"tr",31),t.\u0275\u0275template(44,u,1,1,"tr",32),t.\u0275\u0275template(45,h,1,1,"tr",33),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(46,b,3,3,"div",34),t.\u0275\u0275elementStart(47,"div",35)(48,"mat-paginator",36),t.\u0275\u0275listener("page",function(m){return o.changePage(m)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(49,"div",4),t.\u0275\u0275template(50,Qe,41,31,"div",37),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275property("filterBreadcrumbData",o.filterBreadcrumbData),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!o.isTeacherCard),t.\u0275\u0275advance(4),t.\u0275\u0275property("dataSource",o.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(14,Ze)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",o.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",o.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(15,Xe)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",o.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.paginator.length<1&&!o.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,Je,o.paginator.length<1||o.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,qe,o.paginator.length<=10))("hidePageSize",!0)("pageSizeOptions",t.\u0275\u0275pureFunction0(20,i)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==o.viewMessageData?null:o.viewMessageData._id))},dependencies:[I.mk,I.sg,I.O5,X.lW,ct.oG,et.Mq,et.hl,et.nW,ft.Hw,it.KE,it.R9,Q.Nt,pt.i$,pt.Tg,dt.VK,dt.OP,dt.p6,l.NW,lt.Ou,V.YE,V.nU,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.ge,y.ev,y.XQ,y.Gk,xt.gM,D.DefaultValueAccessor,D.NgControlStatus,D.FormControlDirective,Ct.xw,Ct.yH,ot.oO,bt.r,_t.yS,_t.Od,I.gd,I.rS,I.uU,tt.X$],styles:["#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.form-field[_ngcontent-%COMP%]{margin-top:6px}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%]{width:15%}.mat-column-createdAtFilter[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]{width:6rem}.mat-column-createdAtFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-timeTableFilter[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]{width:6rem}.mat-column-timeTableFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-fromFilter[_ngcontent-%COMP%], .mat-column-from[_ngcontent-%COMP%]{width:15%;padding-left:.5rem!important}.mat-column-toFilter[_ngcontent-%COMP%], .mat-column-to[_ngcontent-%COMP%]{width:25%;padding-left:.5rem!important}.mat-column-subjectFilter[_ngcontent-%COMP%], .mat-column-subject[_ngcontent-%COMP%]{width:auto;padding-left:.5rem!important}[_nghost-%COMP%]     .job-desc-table{width:100%!important}[_nghost-%COMP%]     table.mailTable tr td, [_nghost-%COMP%]     table.mailTable tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table.mailTable tr td:nth-child(1), [_nghost-%COMP%]     table.mailTable tr th:nth-child(1){padding-left:0!important;text-align:center!important}[_nghost-%COMP%]     table.mailTable tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table.mailTable tr th{vertical-align:top}[_nghost-%COMP%]     table.mailTable tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table.mailTable tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2), [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2) th, [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.bg-color[_ngcontent-%COMP%]{background-color:#fff}.right-float[_ngcontent-%COMP%]{float:right;margin-left:5px;background-color:gray}.btnReset[_ngcontent-%COMP%]{margin-left:5px;height:45px;background-color:#607d8b}.fontSize[_ngcontent-%COMP%]{font-size:1.25rem}.header-alignment[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:.5rem!important}.icon-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:50%}.mail-type-list-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:5px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{padding:0}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{border-left:8px solid;transition-property:background;transition-duration:.3s;transition-timing-function:linear;cursor:pointer}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-inbox[_ngcontent-%COMP%]{border-left-color:#009846}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-sent[_ngcontent-%COMP%]{border-left-color:#846573}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-important[_ngcontent-%COMP%]{border-left-color:#e51a4b}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-draft[_ngcontent-%COMP%]{border-left-color:#ffed00}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-trash[_ngcontent-%COMP%]{border-left-color:#d9dada}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:15px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%], .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:focus, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:active{background-color:#212121}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:8px;width:35px;height:35px;min-width:initial;background-color:gray;color:#fff;line-height:14px;margin-right:2px;border-radius:2px}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0}.mail-controls[_ngcontent-%COMP%]   .reply-btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}[_nghost-%COMP%]     svg{padding-right:4px;padding-bottom:5px!important}.resetBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#607d8b!important}.actionBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#ffd740!important}[_nghost-%COMP%]     .resetBtn svg{padding-bottom:3px!important}[_nghost-%COMP%]     .matFormModif .mat-form-field-wrapper{margin-right:14px}.view-message-section[_ngcontent-%COMP%]{background:white;width:100%;color:#000;padding:20px}.view-mailbox-template[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;flex:1 1 100%;box-sizing:border-box;-webkit-box-flex:1;max-width:100%}.view-mailbox-by-side[_ngcontent-%COMP%]{flex:1 1 50%;box-sizing:border-box;-webkit-box-flex:1;max-width:50%}button.mail-action-btn.mat-button[_ngcontent-%COMP%]{min-width:initial;padding:5px;font-size:15px;line-height:20px;margin-right:.33333rem}.compose-mail-action[_ngcontent-%COMP%]{display:inline-block}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;border-bottom:1px solid #ababab}.unreadNotify[_ngcontent-%COMP%]{color:#fff;margin-left:10px;background-color:red;padding:3px 8px;border-radius:50%}[_nghost-%COMP%]  .unread:checked{border-color:#fff!important}[_nghost-%COMP%]  .unread .mat-checkbox-inner-container{background-color:red!important;border-radius:4px}.message_detail[_ngcontent-%COMP%]{margin-top:5px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-rncp[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-usertype[_ngcontent-%COMP%]{margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.mail-cc[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.message_view[_ngcontent-%COMP%]{flex:1 1 .000000001px;box-sizing:border-box;-webkit-box-flex:1}tr.mat-row[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px 5px 10px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.yellow-admtc[_ngcontent-%COMP%]{background-color:#ffd740!important;color:#000!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.break-word[_ngcontent-%COMP%]{width:100%;overflow-wrap:break-word}.top-space[_ngcontent-%COMP%]{margin-top:30px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}  .blue-link-format{cursor:pointer!important;color:#06f!important;text-decoration:underline!important}  .size-school-logo{max-width:170px!important;max-height:150px!important}  .mat-menu-panel{min-height:auto}  .mat-menu-content .mat-menu-item{border-bottom:1px solid #dadada}  .mat-menu-content:not(:empty){padding-bottom:0}"]}),e})()},30228:(en,nt,c)=>{c.d(nt,{R:()=>qe});var l=c(98739),V=c(96308),y=c(53626),$=c(68745),z=c(17489),D=c(24006),W=c(15439),A=c(1059),L=c(22868),Y=c(24850),H=c(80013),N=c(95017),J=c(54298),rt=c(31361),G=c(35226),M=c.n(G),at=c(3832),q=c(18206),I=c(36895),t=c(94650),gt=c(91013),Mt=c(52688),tt=c(89383),st=c(65938),vt=c(84130),mt=c(9035),Ot=c(50777),yt=c(44758),Tt=c(22437),_t=c(67154),Et=c(4859),ht=c(56709),X=c(99602),ct=c(97392),et=c(59549),ft=c(284),it=c(96338),Q=c(28255),pt=c(51572),dt=c(10266),lt=c(30277),xt=c(24784),Ct=c(75223),ot=c(610);function bt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.inboxCount," ")}}function Pt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.ccCount," ")}}function St(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.importantCount," ")}}const wt=function(i){return[i]};function Dt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"a",42),t.\u0275\u0275element(1,"i",43),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,bt,3,1,"span",44),t.\u0275\u0275template(5,Pt,3,1,"span",44),t.\u0275\u0275template(6,St,3,1,"span",44),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass","mail-type-"+e.key)("routerLink",t.\u0275\u0275pureFunction1(9,wt,"/"+e.state)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",e.icon),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,7,e.name)," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","inbox"===e.key&&a.inboxCount),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===e.key&&a.ccCount),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===e.key&&a.importantCount)}}function It(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",38)(1,"div",39)(2,"mat-list"),t.\u0275\u0275template(3,Dt,7,11,"a",40),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(4,"div",41),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",e.mailCategories)}}function Bt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.sendMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Compose")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Compose")," ")}}function kt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.sendUrgentMessage())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Urgent message")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Urgent message")," ")}}function Lt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.getMailbox())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Get new emails")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Get new emails")," ")}}function Rt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.onDeleteMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Delete")),t.\u0275\u0275property("disabled",e.isWaitingForResponse||!1===e.countSelected||!1===e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Delete")," ")}}function Ft(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.mailMoveTo("important"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Important")),t.\u0275\u0275property("disabled",e.isWaitingForResponse||!1===e.countSelected||"inbox"!==e.selectedMailCategory&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Important")," ")}}function At(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",52),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"span",53),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"mat-icon",54),t.\u0275\u0275text(7,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"mat-menu",null,55),t.\u0275\u0275template(10,Bt,4,7,"button",56),t.\u0275\u0275template(11,kt,4,7,"button",56),t.\u0275\u0275template(12,Lt,4,7,"button",56),t.\u0275\u0275template(13,Rt,4,7,"button",56),t.\u0275\u0275template(14,Ft,4,7,"button",56),t.\u0275\u0275elementStart(15,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.mailMoveTo("inbox"))}),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275reference(9),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(2,12,"Action")," "),t.\u0275\u0275property("disabled",a.isWaitingForResponse)("matMenuTriggerFor",e),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,14,"Action")),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",a.permissionService.composeActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.urgentMessageActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.downloadMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(16,16,"MailBox.REMOVE IMPORTANT")),t.\u0275\u0275property("disabled",a.isWaitingForResponse||!1===a.countSelected||"important"!==a.selectedMailCategory),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,18,"MailBox.REMOVE IMPORTANT")," ")}}function Vt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",46)(1,"div",47)(2,"div",48)(3,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.resetFilter())}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275element(5,"mat-icon",50),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,At,19,20,"ng-container",51),t.\u0275\u0275elementEnd()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,4,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(7,6,"RESET")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","cc"!==e.selectedMailCategory)}}function Ut(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",58)(1,"mat-checkbox",59),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n?o.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&e.isAllSelected())("aria-label",e.checkboxLabel())}}function Wt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",a.selection.isSelected(e)||null!=e&&e.is_already_read||"inbox"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function Nt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",a.selection.isSelected(e)||null!=e&&e.is_already_read||"cc"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function $t(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",a.selection.isSelected(e)||null!=e&&e.is_already_read||"important"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function Kt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",66,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function jt(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span",67),t.\u0275\u0275element(1,"i",68),t.\u0275\u0275elementEnd())}function Gt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,Wt,2,3,"mat-checkbox",61),t.\u0275\u0275template(2,Nt,2,3,"mat-checkbox",61),t.\u0275\u0275template(3,$t,2,3,"mat-checkbox",61),t.\u0275\u0275template(4,Kt,2,2,"mat-checkbox",62),t.\u0275\u0275template(5,jt,2,0,"span",63),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"===a.selectedMailCategory||"draft"===a.selectedMailCategory||"sent"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1==e.is_urgent_mail)}}function zt(i,s){1&i&&t.\u0275\u0275element(0,"th",58)}function Ht(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",58)(1,"mat-form-field",69)(2,"input",70),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(n.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",71)(5,"mat-datepicker",null,72),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"Select a date")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.dateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function Yt(i,s){1&i&&t.\u0275\u0275element(0,"th",58)}function Qt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",74)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.fromFilter)}}function Zt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275template(1,Qt,4,4,"div",73),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!=e.selectedMailCategory)}}function Xt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",74)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.toFilter)}}function Jt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275template(1,Xt,4,4,"div",73),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"!=e.selectedMailCategory)}}function qt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"th",58)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.subjectFilter)}}function te(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.date")))}function ee(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",77),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?e.date:e.created_at,"dd/MM/yyyy")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?e.date:e.created_at,"dd/MM/yyyy")," ")}}function ne(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.time")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.time")))}function ie(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",77),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",a.translateTime(t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?e.date:e.created_at,"H:mm"))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",a.translateTime(t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?e.date:e.created_at,"H:mm"))," ")}}function ae(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",78),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.from")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.from")))}function le(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",79),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)," ")}}function oe(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",80),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.to")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.to")))}function re(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)," ")}}function se(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate2("matTooltip","",t.\u0275\u0275pipeBind1(1,4,"Mail_All")," ",t.\u0275\u0275pipeBind1(2,6,"USER_TYPES."+e.group_detail.user_types[0].name),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(4,8,"Mail_All")," ",t.\u0275\u0275pipeBind1(5,10,"USER_TYPES."+e.group_detail.user_types[0].name)," ")}}function ce(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,se,6,12,"span",81),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.group_detail?null:e.group_detail.user_types)&&(null==e||null==e.group_detail?null:e.group_detail.user_types.length))}}function pe(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function me(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,pe,2,0,"span",51),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit,a=s.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function _e(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,me,3,3,"span",83),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e||null==e.recipient_properties[0]?null:e.recipient_properties[0].recipients_email)}}function de(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,re,6,14,"span",81),t.\u0275\u0275template(2,ce,2,1,"span",51),t.\u0275\u0275template(3,_e,2,1,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.user_type_selection)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients_email?null:e.recipient_properties[0].recipients_email.length)}}function ue(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",84),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.composeMail.subject")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.composeMail.subject")))}function Z(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",85),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.subject),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.subject," ")}}function ge(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",86)(1,"div",87),t.\u0275\u0275element(2,"mat-spinner",88),t.\u0275\u0275elementEnd()())}function x(i,s){1&i&&t.\u0275\u0275element(0,"tr",89)}function T(i,s){1&i&&t.\u0275\u0275element(0,"tr",89)}function p(i,s){1&i&&t.\u0275\u0275element(0,"tr",89)}function _(i,s){if(1&i&&t.\u0275\u0275element(0,"tr",90),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function d(i,s){if(1&i&&t.\u0275\u0275element(0,"tr",91),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function u(i,s){1&i&&(t.\u0275\u0275elementStart(0,"div",92),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No Mail Data")," "))}function h(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.OpenMailPopupRequest(n.viewMessageData,"reply-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply"))}function b(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.OpenMailPopupRequest(n.viewMessageData,"reply-all"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply_all"))}function O(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.OpenMailPopupRequest(n.viewMessageData,"foward-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",117),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.forward"))}function w(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",68),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"MailBox.URGENT_MESSAGE")," "))}function E(i,s){1&i&&(t.\u0275\u0275elementStart(0,"button",118),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",119),t.\u0275\u0275elementEnd()),2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function B(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.onPreviousMessage(n.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",119),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function S(i,s){1&i&&(t.\u0275\u0275elementStart(0,"button",118),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",120),t.\u0275\u0275elementEnd()),2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function U(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.onNextMessage(n.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",120),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function f(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e.viewMessageData?null:e.viewMessageData.subject)}}function v(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,e.subjectTranslated)," ",e.resWordMessage,"")}}function ut(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",121),t.\u0275\u0275template(1,f,2,1,"b",122),t.\u0275\u0275template(2,v,3,4,"ng-template",null,123,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.translatedSubject)("ngIfElse",e)}}function he(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,4,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.last_name)," ",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.first_name," ",null!=e.viewMessageData&&null!=e.viewMessageData.sender_property&&null!=e.viewMessageData.sender_property.sender&&e.viewMessageData.sender_property.sender.civility&&"neutral"===(null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)," - (",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.email,") ")}}function fe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span")(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,2,"Mail_All")," ",t.\u0275\u0275pipeBind1(4,4,"USER_TYPES."+e.typeName)," ")}}function xe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function Ce(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function be(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,xe,4,9,"span",126),t.\u0275\u0275template(2,Ce,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(),a=e.$implicit,n=e.index,o=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n<o.recpList.length-1)}}function Me(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,be,3,3,"span",126),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function ve(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function Oe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275text(1),t.\u0275\u0275template(2,ve,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function ye(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Oe,3,3,"span",128),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]?null:e.viewMessageData.recipient_properties[0].recipients_email)}}function Te(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Me,2,1,"span",125),t.\u0275\u0275template(2,ye,2,1,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.recpList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]||null==e.viewMessageData.recipient_properties[0].recipients_email?null:e.viewMessageData.recipient_properties[0].recipients_email.length)}}function Ee(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,fe,5,6,"span",51),t.\u0275\u0275template(5,Te,3,2,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.to")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.viewMessageData&&e.viewMessageData.user_type_selection))}}function Pe(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",130)(2,"button",131),t.\u0275\u0275element(3,"i",132),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"label"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",133),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.downloadFile(o))}),t.\u0275\u0275element(7,"i",134),t.\u0275\u0275elementEnd()()()}if(2&i){const e=s.$implicit;t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(null==e?null:e.file_name)}}function Se(i,s){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Pe,8,1,"div",125),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"Attachment")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData?null:e.viewMessageData.file_attachments)}}function we(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e?null:e.recipients[0].last_name)," ",null==e?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function De(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function Ie(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,we,4,9,"span",126),t.\u0275\u0275template(2,De,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(),a=e.$implicit,n=e.index,o=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==a||null==a.recipients?null:a.recipients.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n<o.ccList.length-1)}}function Be(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Ie,3,3,"span",126),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function ke(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function Le(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275text(1),t.\u0275\u0275template(2,ke,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function Re(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Le,3,3,"span",128),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]?null:e.viewMessageData.recipient_properties[1].recipients_email)}}function Fe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Be,2,1,"span",125),t.\u0275\u0275template(5,Re,2,1,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.composeMail.cc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.ccList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]||null==e.viewMessageData.recipient_properties[1].recipients_email?null:e.viewMessageData.recipient_properties[1].recipients_email.length)}}function Ae(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e?null:e.recipients[0].last_name)," ",null==e?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function Ve(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function Ue(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,Ae,4,9,"span",126),t.\u0275\u0275template(2,Ve,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(),a=e.$implicit,n=e.index,o=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==a||null==a.recipients?null:a.recipients.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n<o.bccList.length-1)}}function We(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Ue,3,3,"span",126),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function Ne(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,We,2,1,"span",125),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"MailBox.composeMail.bcc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.bccList)}}function $e(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.short_name,"",0===a?"":","," ")}}function Ke(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",135)(1,"div",136)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,$e,2,2,"span",125),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"RNCP Titles")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.rncp_titles)}}function je(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.name,"",0===a?"":","," ")}}function Ge(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",137)(1,"div",136)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,je,2,2,"span",125),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"UserType")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.user_types)}}function ze(i,s){1&i&&(t.\u0275\u0275elementStart(0,"div",138),t.\u0275\u0275element(1,"div",136),t.\u0275\u0275elementEnd())}function He(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",93)(1,"div",94)(2,"div",95),t.\u0275\u0275template(3,h,3,3,"button",96),t.\u0275\u0275template(4,b,3,3,"button",96),t.\u0275\u0275template(5,O,3,3,"button",96),t.\u0275\u0275elementStart(6,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.openDialog(n.viewMessageData))}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275element(8,"i",98),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,w,4,3,"span",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",99),t.\u0275\u0275template(11,E,3,3,"button",100),t.\u0275\u0275template(12,B,3,3,"button",96),t.\u0275\u0275template(13,S,3,3,"button",101),t.\u0275\u0275template(14,U,3,3,"button",96),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",102)(16,"div",103),t.\u0275\u0275template(17,ut,4,2,"div",104),t.\u0275\u0275element(18,"hr"),t.\u0275\u0275elementStart(19,"span",105),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"titlecase"),t.\u0275\u0275pipe(22,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",106)(24,"label",107),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,he,4,8,"span",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(28,Ee,6,5,"div",108),t.\u0275\u0275template(29,Se,5,4,"ng-container",51),t.\u0275\u0275template(30,Fe,6,5,"div",108),t.\u0275\u0275template(31,Ne,5,4,"div",108),t.\u0275\u0275template(32,Ke,6,4,"div",109),t.\u0275\u0275template(33,Ge,6,4,"div",110),t.\u0275\u0275template(34,ze,2,0,"div",111),t.\u0275\u0275element(35,"hr"),t.\u0275\u0275elementStart(36,"div",112)(37,"div",113),t.\u0275\u0275element(38,"p",114)(39,"br")(40,"br"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(7,22,"MailBox.emailDetails.delete")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",1==e.viewMessageData.is_urgent_mail),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.checkIsNextBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsNextBtnShow()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.subject),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",null!=e.viewMessageData&&e.viewMessageData.created_at?t.\u0275\u0275pipeBind1(21,24,e.momentlang(null==e.viewMessageData?null:e.viewMessageData.created_at)):""," ",null!=e.viewMessageData&&e.viewMessageData.created_at?e.translateTime(t.\u0275\u0275pipeBind2(22,26,null==e.viewMessageData?null:e.viewMessageData.created_at,"H:mm")):""," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(26,29,"MailBox.from")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.sender_property?null:e.viewMessageData.sender_property.sender),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.recpList?null:e.recpList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.viewMessageData?null:e.viewMessageData.file_attachments)&&(null==e.viewMessageData?null:e.viewMessageData.file_attachments.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.bccList?null:e.bccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.rncp_titles?null:e.viewMessageData.group_detail.rncp_titles.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.user_types?null:e.viewMessageData.group_detail.user_types.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("innerHTML",e.getMessage(null==e.viewMessageData?null:e.viewMessageData.message),t.\u0275\u0275sanitizeHtml)}}const Ye=function(){return["reset"]},Qe=function(){return["loading"]},Ze=function(i){return{hide:i}},Xe=function(i){return{"hide-pagination-buttons":i}},Je=function(){return[10]};let qe=(()=>{class i{constructor(e,a,n,o,r,m,g,C,P,R){this.mailboxService=e,this.userService=a,this.translate=n,this.dialog=o,this.permissions=r,this.certificationRuleService=m,this.rncpTitlesService=g,this.permissionService=C,this.filterBreadCrumbService=P,this.pageTitleService=R,this.isTeacherCard=!1,this.subs=new $.Y,this.inbox=!1,this.cc=!1,this.important=!1,this.draft=!1,this.trash=!1,this.sent=!0,this.isReset=!1,this.IsReplyBtn=!1,this.IsReplyAllBtn=!1,this.IsForwardBtn=!1,this.IsDeleteBtn=!1,this.IsImportantBtn=!1,this.isWaitRecipientGroup=!1,this.IsMovetoInboxBtn=!1,this.hideResetButton=!1,this.isSearching=!1,this.selectedMails=[],this.mailSelected=[],this.checked=[],this.configCertificatioRule={disableClose:!0},this.config={disableClose:!0,width:"800px"},this.urgentMessageConfig={disableClose:!0,width:"600px"},this.inboxCount=0,this.ccCount=0,this.importantCount=0,this.selection=new N.Ov(!0,[]),this.dataSource=new y.by([]),this.displayedColumns=["select","created_at","timeTable","from","to","subject"],this.filterColumns=["selectFilter","createdAtFilter","timeTableFilter","fromFilter","toFilter","subjectFilter"],this.dateFilter=new D.UntypedFormControl(""),this.subjectFilter=new D.UntypedFormControl(""),this.fromFilter=new D.UntypedFormControl(""),this.toFilter=new D.UntypedFormControl(""),this.filteredValues={date:"",from:"",to:"",subject:""},this.filteredValuesDate={date:""},this.dataLoaded=!1,this.isWaitingForResponse=!1,this.selectedMailCategory="sent",this.mailsList=[],this.mailList=[],this.getCountOfCC=[],this.recpList=[],this.ccList=[],this.viewBcc=!0,this.bccList=[],this.isOPERATORDir=!1,this.isOPERATORAdmin=!1,this.filterBreadcrumbData=[]}ngOnInit(){this.currentUser=this.userService.getLocalStorageUser(),this.isOPERATORAdmin=!!this.permissions.getPermission("operator_admin"),this.isOPERATORDir=!!this.permissions.getPermission("operator_dir"),this.countSelected=!1,this.sortValue={latest_email:"asc"},this.getSentMail(),this.initSentMail(),this.isTeacherCard||this.pageTitleService.setTitle("Sent")}ngOnChanges(e){this.userId&&this.resetFilter()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,A.O)(null),(0,L.b)(()=>{this.isReset||this.getSentMail(),this.dataLoaded=!0})).subscribe()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getSentMail())}cleanFilterData(){const e=z.cloneDeep(this.filteredValues);let a="";return Object.keys(e).forEach(n=>{e[n]&&(a+=` ${n}:"${e[n]}"`)}),a}getSentMail(){this.isWaitingForResponse=!0;const e=this.selectedMailCategory,a={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex},n=this.cleanFilterData();this.userId?this.getNonMainMail(a,this.sortValue,e,n,this.userId):this.getNonMainMail(a,this.sortValue,e,n)}getNonMainMail(e,a,n,o,r){this.subs.sink=this.mailboxService.getNonMainMail(e,a,n,o,r||null).subscribe(g=>{this.isReset=!1,this.isWaitingForResponse=!1,g&&g.length?(this.dataSource.data=g,this.dataSource.sort=this.sort,this.mailList=g,this.paginator.length=g[0]?g[0].count_document:0):(this.dataSource.data=[],this.paginator.length=0),this.filterBreadcrumbData=[],this.filterBreadcrumbFormat(),this.noData=this.dataSource.connect().pipe((0,Y.U)(C=>0===C.length))},g=>{this.filterBreadcrumbData=[],this.filterBreadcrumbFormat(),this.userService.postErrorLog(g),this.dataSource.data=[],this.paginator.length=0,this.noData=this.dataSource.connect().pipe((0,Y.U)(C=>0===C.length)),M().fire({type:"info",title:this.translate.instant("SORRY"),text:g&&g.message?this.translate.instant(g.message.replaceAll("GraphQL error: ","")):g,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getMailbox(){this.getSentMail()}sendMailToGroup(){this.mailToGroupDialogComponent=this.dialog.open(rt.C,this.config)}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){const e=this.selection.selected.length,a=this.dataSource.data?this.dataSource.data.length:null,n=this.selection.selected;return this.mailSelected=[],n.forEach(o=>{this.mailSelected.push(o._id)}),e===a}initSentMail(){this.subs.sink=this.dateFilter.valueChanges.subscribe(e=>{const a=W(e).format("DD/MM/YYYY");this.filteredValues.date=e,this.filteredValuesDate.date=e?a:null,this.paginator.pageIndex=0,this.isReset||this.getSentMail()}),this.subs.sink=this.fromFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{if(""!==this.fromFilter.value){const a=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,n=/\\/;if(e.match(a)||e.match(n)){const o=e.replace(a,"");this.fromFilter.setValue(o)}else this.filteredValues.from=e||"",this.paginator.pageIndex=0,this.isReset||this.getSentMail()}else this.filteredValues.from="",this.paginator.pageIndex=0,this.isReset||this.getSentMail()}),this.subs.sink=this.toFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{if(""!==this.toFilter.value){const a=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,n=/\\/;if(e.match(a)||e.match(n)){const o=e.replace(a,"");this.toFilter.setValue(o)}else this.filteredValues.to=e||"",this.paginator.pageIndex=0,this.isReset||this.getSentMail()}else this.filteredValues.to="",this.paginator.pageIndex=0,this.isReset||this.getSentMail()}),this.subs.sink=this.subjectFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{if(""!==this.subjectFilter.value){const a=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,n=/\\/;if(e.match(a)||e.match(n)){const o=e.replace(a,"");this.subjectFilter.setValue(o)}else this.filteredValues.subject=e||"",this.paginator.pageIndex=0,this.isReset||this.getSentMail()}else this.filteredValues.subject="",this.paginator.pageIndex=0,this.isReset||this.getSentMail()}),this.mailCategories=this.mailboxService.getMailCategories()}resetFilter(){this.isReset=!0,this.filteredValues={date:"",from:"",to:"",subject:""},this.filteredValuesDate={date:""},this.filterBreadcrumbData=[],this.sort.direction="",this.sort.active="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=this.sortValue={latest_email:"asc"},this.dataSource.data=[],this.paginator.pageIndex=0,this.dateFilter.setValue(""),this.subjectFilter.setValue(""),this.fromFilter.setValue(""),this.toFilter.setValue(""),this.selection.clear(),this.getSentMail()}ngOnDestroy(){this.subs.unsubscribe(),this.dataSource.data=[],this.isTeacherCard||this.pageTitleService.setTitle(null)}changePage(e){this.isReset||this.getSentMail()}onSelectMessage(e,a){e.user_type_selection?(this.getRecipientName(e),this.isWaitRecipientGroup=!0):this.isWaitRecipientGroup=!1,this.viewMessageData=e,this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[],this.getCountOfCC=e.recipient_properties,this.getCountOfCC&&this.getCountOfCC.length&&this.getCountOfCC.forEach(n=>{null!=n.rank?("a"===n.rank&&this.recpList.push(n),"cc"===n.rank&&(this.ccList.push(n),n.recipients.forEach(o=>{"cc"===n.rank&&(this.viewBcc=!0)})),"c"===n.rank&&(this.viewBcc=!0,this.bccList.push(n)),n.recipients.forEach(o=>{"c"===n.rank&&this.recpList.push(n)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))}),this.viewMessageData.$$index=a}onPreviousMessage(e){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index-1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((n,o)=>{null!=n.rank?("a"===n.rank&&this.recpList.push(n),"cc"===n.rank&&(this.ccList.push(n),n.recipients.forEach(r=>{"cc"===n.rank&&(this.viewBcc=!0)})),"c"===n.rank&&(this.viewBcc=!0,this.bccList.push(n)),n.recipients.forEach(r=>{"c"===n.rank&&this.recpList.push(n)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}onNextMessage(e){if(this.viewMessageData&&this.viewMessageData.$$index+1<this.mailList.length){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index+1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((n,o)=>{null!=n.rank?("a"===n.rank&&this.recpList.push(n),"cc"===n.rank&&(this.ccList.push(n),n.recipients.forEach(r=>{"cc"===n.rank&&(this.viewBcc=!0)})),"c"===n.rank&&(this.viewBcc=!0,this.bccList.push(n)),n.recipients.forEach(r=>{"c"===n.rank&&this.recpList.push(n)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}}checkIsPreviousBtnShow(){return 0!==this.viewMessageData.$$index}checkIsNextBtnShow(){return this.viewMessageData.$$index!==this.mailList.length-1}OpenMailPopupRequest(e,a){this.config.data={},this.sendMailDialogComponent=this.dialog.open(J.U,this.config),this.sendMailDialogComponent.componentInstance.tags=[a],this.sendMailDialogComponent.componentInstance.currentMailData=e,"sent"===this.selectedMailCategory&&(this.sendMailDialogComponent.componentInstance.isSenderReq=!1),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(n=>{"updateMailList"===n&&(this.isReset||this.getSentMail()),this.sendMailDialogComponent=null})}getFileName(e){return e?e.substring(e.lastIndexOf("/")+1):""}downloadFile(e){const a=document.createElement("a");a.target="_blank",a.href=e.path,a.download=e.file_name,a.click(),a.remove()}openDialog(e){let a=3;const r={mail_type:"trash"};M().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:a}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{M().disableConfirmButton();const m=M().getConfirmButton(),g=setInterval(()=>{a-=1,m.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+a+" sec"},1e3);this.timeOutVal=setTimeout(()=>{m.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),M().enableConfirmButton(),clearInterval(g),clearTimeout(this.timeOutVal)},1e3*a)}}).then(m=>{if(clearTimeout(this.timeOutVal),m.value){this.viewMessageData=[];const g=[];g.push(e._id),this.subs.sink=this.mailboxService.updateMultipleMailSender(g,r).subscribe(C=>{M().fire({type:"success",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getSentMail()},C=>{this.userService.postErrorLog(C),M().fire({type:"info",title:this.translate.instant("SORRY"),text:C&&C.message?this.translate.instant(C.message.replaceAll("GraphQL error: ","")):C,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}})}sendMail(){this.sendMailDialogComponent=this.dialog.open(J.U,this.config),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(e=>{this.isReset||this.getSentMail(),this.sendMailDialogComponent=null},e=>{M().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}onDeleteMail(){let e=3;const a={mail_type:"trash"};M().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:e}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{M().disableConfirmButton();const r=M().getConfirmButton(),m=setInterval(()=>{e-=1,r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+e+" sec"},1e3);this.timeOutVal=setTimeout(()=>{r.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),M().enableConfirmButton(),clearInterval(m),clearTimeout(this.timeOutVal)},1e3*e)}}).then(r=>{clearTimeout(this.timeOutVal),r.value&&(this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailSender(this.mailSelected,a).subscribe(m=>{M().fire({type:"success",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getSentMail()},m=>{this.userService.postErrorLog(m),M().fire({type:"info",title:this.translate.instant("SORRY"),text:m&&m.message?this.translate.instant(m.message.replaceAll("GraphQL error: ","")):m,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}showOptions(){this.countSelected=this.selection.selected.length>0}receiveEmail(){this.isReset||this.getSentMail()}mailMoveTo(e){const a={mail_type:e};this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMailRecipient(this.mailSelected,a).subscribe(n=>{this.isReset||this.getSentMail()},n=>{this.userService.postErrorLog(n),M().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}sendUrgentMessage(){this.urgentMessageDialogComponent=this.dialog.open(at.x,this.urgentMessageConfig)}getMessage(e){return e?((e=e.replaceAll("<table>",'<table class="notif-table full-width" border="1">'))&&e.includes("<a")&&e&&!e.includes("target")&&(e=e.replaceAll("<a",'<a target="blank" class="blue-link-format"')),e):""}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(e=>{e&&e.length&&(this.subs.sink=this.dialog.open(q.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:e}).afterClosed().subscribe(a=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(n=>{n&&n.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(q.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:n}))},n=>{this.userService.postErrorLog(n),M().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))},e=>{this.userService.postErrorLog(e),M().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCertificationRule(){const e=this.userService.getLocalStorageUser(),a=e.entities[0].assigned_rncp_title._id,n=e.entities[0].class._id,o=e._id;this.subs.sink=this.rncpTitlesService.getRncpTitleById(a).subscribe(r=>{this.selectedRncpTitleName=r.short_name,this.selectedRncpTitleLongName=r.long_name},r=>{this.userService.postErrorLog(r),M().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.subs.sink=this.certificationRuleService.getCertificationRuleSentWithStudent(a,n,o).subscribe(r=>{r||this.getUrgentMail()},r=>{this.userService.postErrorLog(r),M().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getRecipientName(e){e.group_detail.rncp_titles&&e.group_detail.rncp_titles.length&&(this.subs.sink=this.mailboxService.getOneTitle(e.group_detail.rncp_titles[0]._id).subscribe(a=>{a&&(this.titleName=a.short_name)},a=>{this.userService.postErrorLog(a),M().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),e.group_detail.user_types&&e.group_detail.user_types.length&&(this.subs.sink=this.mailboxService.getOneUserTypes(e.group_detail.user_types[0]._id).subscribe(a=>{a&&(this.typeName=a.name)},a=>{this.userService.postErrorLog(a),M().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.isWaitRecipientGroup=!1}showCertificationRule(e,a){}momentlang(e){const a=W(e).format("DD/MM/YYYY");if("object"==typeof a){const n=new Date(a.year,a.month,a.date,a.hour,a.minute);return this.datePipe=new I.uU(this.translate.currentLang),this.datePipe.transform(n,"EEE d MMM, y")}{let n=a;if("number"==typeof n&&(n=n.toString()),8===n.length){const m=parseInt(n.substring(0,4)),g=parseInt(n.substring(4,6)),C=parseInt(n.substring(6,8));n=new Date(m,g,C)}this.datePipe=new I.uU(this.translate.currentLang);const o=W(n,"DD/MM/YYYY");return this.datePipe.transform(o,"EEEE d MMMM y")}}clearSelectIfFilter(){this.selection?.clear()}removeFilterBreadcrumb(e){this.filterBreadCrumbService.removeFilterBreadcrumb(e,null,this.filteredValues),"table_filter"===e.type&&this.filteredValuesDate&&(this.filteredValuesDate[e.name]=null),this.clearSelectIfFilter(),this.getSentMail()}filterBreadcrumbFormat(){this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat([{type:"table_filter",name:"date",column:"MailBox.date",isMultiple:!1,filterValue:this.filteredValuesDate,filterList:null,filterRef:this.dateFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"from",column:"MailBox.from",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.fromFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"to",column:"MailBox.to",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.toFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"subject",column:"MailBox.composeMail.subject",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.subjectFilter,displayKey:null,savedValue:null,isSelectionInput:!1}],this.filterBreadcrumbData)}translateTime(e){return W(e,"HH:mm").format("H:mm")}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(gt.e),t.\u0275\u0275directiveInject(Mt.e),t.\u0275\u0275directiveInject(tt.sK),t.\u0275\u0275directiveInject(st.uw),t.\u0275\u0275directiveInject(vt.YI),t.\u0275\u0275directiveInject(mt._),t.\u0275\u0275directiveInject(Ot.r),t.\u0275\u0275directiveInject(yt.$),t.\u0275\u0275directiveInject(Tt.q),t.\u0275\u0275directiveInject(_t.Z))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-sent"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(l.NW,7),t.\u0275\u0275viewQuery(V.YE,7)),2&e){let n;t.\u0275\u0275queryRefresh(n=t.\u0275\u0275loadQuery())&&(a.paginator=n.first),t.\u0275\u0275queryRefresh(n=t.\u0275\u0275loadQuery())&&(a.sort=n.first)}},inputs:{isTeacherCard:"isTeacherCard",userId:"userId"},features:[t.\u0275\u0275NgOnChangesFeature],decls:51,vars:21,consts:[[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"p-grid"],["class","p-col-12",4,"ngIf"],[1,"view-mailbox-template"],[1,"view-mailbox-by-side"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","asc","matSortDisableClear","",1,"mat-elevation-z8","mailTable",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","6","class","header-alignment",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","selectFilter"],["matColumnDef","createdAtFilter"],["matColumnDef","timeTableFilter"],["matColumnDef","fromFilter"],["matColumnDef","toFilter"],["matColumnDef","subjectFilter"],["matColumnDef","created_at"],["style","padding-left: 24px","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","timeTable"],["matColumnDef","from"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","to"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","subject"],["mat-header-cell","","mat-sort-header","subject","style","padding-right: 0.5rem !important",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","padding-right: 0.5rem !important",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","6","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","hidePageSize","pageSizeOptions","page"],["class","view-message-section",4,"ngIf"],[1,"p-col-12"],["fxFlex.gt-sm","60","fxFlex.gt-xs","60","fxFlex","60",1,"mail-type-list-wrapper"],["mat-list-item","","fxFlex","","routerLinkActive","active-link",3,"ngClass","routerLink",4,"ngFor","ngForOf"],["fxFlex.gt-sm","40","fxFlex.gt-xs","40","fxFlex","40",1,"mail-type-list-wrapper"],["mat-list-item","","fxFlex","","routerLinkActive","active-link",3,"ngClass","routerLink"],[1,"fa",3,"ngClass"],["class","unreadNotify",4,"ngIf"],[1,"unreadNotify"],["mat-header-cell","","colspan","6",1,"header-alignment"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex","100","fxFlex.lt-md","100",1,"mail-controls"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","","matTooltipPosition","above",1,"right-float","resetBtn",3,"matTooltip","disabled","click"],["svgIcon","loop"],[4,"ngIf"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","",1,"right-float","actionBtn",2,"padding","0px 7px 0px 10px !important",3,"matTooltip","disabled","matMenuTriggerFor"],[2,"transform","translateY(2px)","color","#000"],[2,"color","#000"],["action","matMenu"],["mat-menu-item","","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-menu-item","","matTooltipPosition","above",3,"matTooltip","disabled","click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"ngClass","checked","aria-label","click","change",4,"ngIf"],[3,"checked","aria-label","click","change",4,"ngIf"],["style","text-align: center; padding-left: 20px",4,"ngIf"],[3,"ngClass","checked","aria-label","click","change"],["checkBox",""],[3,"checked","aria-label","click","change"],[2,"text-align","center","padding-left","20px"],[1,"fa","fa-bolt"],[2,"margin-top","6px"],["matInput","",3,"matDatepicker","formControl","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["class","matFormModif",4,"ngIf"],[1,"matFormModif"],["matInput","",1,"form-field",3,"formControl","placeholder"],["mat-header-cell","",2,"padding-left","24px",3,"matTooltip"],["mat-cell","",2,"text-align","center",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip"],["mat-cell","",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip"],[3,"matTooltip","click",4,"ngIf"],[3,"matTooltip","click"],[3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-header-cell","","mat-sort-header","subject",2,"padding-right","0.5rem !important",3,"matTooltip"],["mat-cell","",2,"padding-right","0.5rem !important",3,"matTooltip","click"],["mat-header-cell","","colspan","6",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"view-message-section"],[1,"compose-mail-action",2,"width","100%"],[2,"float","left"],["class","mail-action-btn","mat-button","","md-button","",3,"title","click",4,"ngIf"],["mat-button","","md-button","",1,"mail-action-btn",3,"title","click"],[1,"fa","fa-trash"],[2,"float","right"],["class","mail-action-btn","mat-button","","md-button","","style","color: gray",3,"title",4,"ngIf"],["class","mail-action-btn","mat-button","","style","color: gray","md-button","",3,"title",4,"ngIf"],[1,"compose-mail"],[2,"width","100%"],["class","emailsubject e-mailSubject",4,"ngIf"],[2,"float","right","margin-right","18px","font-size","12px"],[1,"sender-mail"],[2,"font-weight","800","font-size","12px"],["class","recipient-mail",4,"ngIf"],["class","group-rncp",4,"ngIf"],["class","group-usertype",4,"ngIf"],["class","mail-cc",4,"ngIf"],[1,"message_detail"],[1,"message_view","break-word"],[3,"innerHTML"],[1,"fa","fa-reply"],[1,"fa","fa-reply-all"],[1,"fa","fa-mail-forward"],["mat-button","","md-button","",1,"mail-action-btn",2,"color","gray",3,"title"],[1,"fa","fa-caret-left"],[1,"fa","fa-caret-right"],[1,"emailsubject","e-mailSubject"],[4,"ngIf","ngIfElse"],["subjectTranslateds",""],[1,"recipient-mail"],[4,"ngFor","ngForOf"],[3,"title",4,"ngIf"],[3,"title"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[1,"fileInfo"],["mat-button","","type","button"],[1,"fa","fa-file-archive-o"],["mat-button","","type","button",3,"click"],[1,"fa","fa-download"],[1,"group-rncp"],[1,"message_view"],[1,"group-usertype"],[1,"mail-cc"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"ms-filter-breadcrumb",0),t.\u0275\u0275listener("removeFilterTrigger",function(o){return a.removeFilterBreadcrumb(o)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",1),t.\u0275\u0275template(2,It,5,1,"div",2),t.\u0275\u0275elementContainerStart(3),t.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"table",5),t.\u0275\u0275listener("matSortChange",function(o){return a.sortData(o)}),t.\u0275\u0275elementContainerStart(7,6),t.\u0275\u0275template(8,Vt,9,8,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(9,8),t.\u0275\u0275template(10,Ut,2,3,"th",9),t.\u0275\u0275template(11,Gt,6,5,"td",10),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,11),t.\u0275\u0275template(13,zt,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,12),t.\u0275\u0275template(15,Ht,7,6,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,13),t.\u0275\u0275template(17,Yt,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,14),t.\u0275\u0275template(19,Zt,2,1,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,15),t.\u0275\u0275template(21,Jt,2,1,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,16),t.\u0275\u0275template(23,qt,4,4,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,17),t.\u0275\u0275template(25,te,5,6,"th",18),t.\u0275\u0275template(26,ee,4,8,"td",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(27,20),t.\u0275\u0275template(28,ne,5,6,"th",18),t.\u0275\u0275template(29,ie,4,8,"td",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(30,21),t.\u0275\u0275template(31,ae,5,6,"th",22),t.\u0275\u0275template(32,le,6,14,"td",23),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(33,24),t.\u0275\u0275template(34,oe,5,6,"th",25),t.\u0275\u0275template(35,de,4,3,"td",10),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(36,26),t.\u0275\u0275template(37,ue,5,6,"th",27),t.\u0275\u0275template(38,Z,2,2,"td",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(39,29),t.\u0275\u0275template(40,ge,3,0,"th",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(41,x,1,0,"tr",31),t.\u0275\u0275template(42,T,1,0,"tr",31),t.\u0275\u0275template(43,p,1,0,"tr",31),t.\u0275\u0275template(44,_,1,1,"tr",32),t.\u0275\u0275template(45,d,1,1,"tr",33),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(46,u,3,3,"div",34),t.\u0275\u0275elementStart(47,"div",35)(48,"mat-paginator",36),t.\u0275\u0275listener("page",function(o){return a.changePage(o)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(49,"div",4),t.\u0275\u0275template(50,He,41,31,"div",37),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275property("filterBreadcrumbData",a.filterBreadcrumbData),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.isTeacherCard),t.\u0275\u0275advance(4),t.\u0275\u0275property("dataSource",a.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(14,Ye)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(15,Qe)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.paginator.length<1&&!a.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,Ze,a.paginator.length<1||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,Xe,a.paginator.length<=10))("hidePageSize",!0)("pageSizeOptions",t.\u0275\u0275pureFunction0(20,Je)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.viewMessageData?null:a.viewMessageData._id))},dependencies:[I.mk,I.sg,I.O5,Et.lW,ht.oG,X.Mq,X.hl,X.nW,ct.Hw,et.KE,et.R9,ft.Nt,it.i$,it.Tg,Q.VK,Q.OP,Q.p6,l.NW,pt.Ou,V.YE,V.nU,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.ge,y.ev,y.XQ,y.Gk,dt.gM,D.DefaultValueAccessor,D.NgControlStatus,D.FormControlDirective,lt.xw,lt.yH,xt.oO,Ct.r,ot.yS,ot.Od,I.gd,I.rS,I.uU,tt.X$],styles:["#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.form-field[_ngcontent-%COMP%]{margin-top:6px}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%]{width:15%}.mat-column-createdAtFilter[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]{width:6rem}.mat-column-createdAtFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-timeTableFilter[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]{width:6rem}.mat-column-timeTableFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-fromFilter[_ngcontent-%COMP%], .mat-column-from[_ngcontent-%COMP%]{width:15%;padding-left:.5rem!important}.mat-column-toFilter[_ngcontent-%COMP%], .mat-column-to[_ngcontent-%COMP%]{width:25%;padding-left:.5rem!important}.mat-column-subjectFilter[_ngcontent-%COMP%], .mat-column-subject[_ngcontent-%COMP%]{width:auto;padding-left:.5rem!important}[_nghost-%COMP%]     .job-desc-table{width:100%!important}[_nghost-%COMP%]     table.mailTable tr td, [_nghost-%COMP%]     table.mailTable tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table.mailTable tr td:nth-child(1), [_nghost-%COMP%]     table.mailTable tr th:nth-child(1){padding-left:0!important;text-align:center!important}[_nghost-%COMP%]     table.mailTable tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table.mailTable tr th{vertical-align:top}[_nghost-%COMP%]     table.mailTable tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table.mailTable tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2), [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2) th, [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.bg-color[_ngcontent-%COMP%]{background-color:#fff}.right-float[_ngcontent-%COMP%]{float:right;margin-left:5px;background-color:gray}.btnReset[_ngcontent-%COMP%]{margin-left:5px;height:45px;background-color:#607d8b}.fontSize[_ngcontent-%COMP%]{font-size:1.25rem}.header-alignment[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:.5rem!important}.icon-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:50%}.mail-type-list-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:5px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{padding:0}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{border-left:8px solid;transition-property:background;transition-duration:.3s;transition-timing-function:linear;cursor:pointer}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-inbox[_ngcontent-%COMP%]{border-left-color:#009846}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-sent[_ngcontent-%COMP%]{border-left-color:#846573}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-important[_ngcontent-%COMP%]{border-left-color:#e51a4b}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-draft[_ngcontent-%COMP%]{border-left-color:#ffed00}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-trash[_ngcontent-%COMP%]{border-left-color:#d9dada}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:15px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%], .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:focus, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:active{background-color:#212121}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:8px;width:35px;height:35px;min-width:initial;background-color:gray;color:#fff;line-height:14px;margin-right:2px;border-radius:2px}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0}.mail-controls[_ngcontent-%COMP%]   .reply-btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}[_nghost-%COMP%]     svg{padding-right:4px;padding-bottom:5px!important}.resetBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#607d8b!important}.actionBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#ffd740!important}[_nghost-%COMP%]     .resetBtn svg{padding-bottom:3px!important}[_nghost-%COMP%]     .matFormModif .mat-form-field-wrapper{margin-right:14px}.view-message-section[_ngcontent-%COMP%]{background:white;width:100%;color:#000;padding:20px}.view-mailbox-template[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;flex:1 1 100%;box-sizing:border-box;-webkit-box-flex:1;max-width:100%}.view-mailbox-by-side[_ngcontent-%COMP%]{flex:1 1 50%;box-sizing:border-box;-webkit-box-flex:1;max-width:50%}button.mail-action-btn.mat-button[_ngcontent-%COMP%]{min-width:initial;padding:5px;font-size:15px;line-height:20px;margin-right:.33333rem}.compose-mail-action[_ngcontent-%COMP%]{display:inline-block}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;border-bottom:1px solid #ababab}.unreadNotify[_ngcontent-%COMP%]{color:#fff;margin-left:10px;background-color:red;padding:3px 8px;border-radius:50%}[_nghost-%COMP%]  .unread:checked{border-color:#fff!important}[_nghost-%COMP%]  .unread .mat-checkbox-inner-container{background-color:red!important;border-radius:4px}.message_detail[_ngcontent-%COMP%]{margin-top:5px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-rncp[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-usertype[_ngcontent-%COMP%]{margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.mail-cc[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.message_view[_ngcontent-%COMP%]{flex:1 1 .000000001px;box-sizing:border-box;-webkit-box-flex:1}tr.mat-row[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px 5px 10px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.yellow-admtc[_ngcontent-%COMP%]{background-color:#ffd740!important;color:#000!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.break-word[_ngcontent-%COMP%]{width:100%;overflow-wrap:break-word}.top-space[_ngcontent-%COMP%]{margin-top:30px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}  .blue-link-format{cursor:pointer!important;color:#06f!important;text-decoration:underline!important}  .size-school-logo{max-width:170px!important;max-height:150px!important}  .mat-menu-panel{min-height:auto}  .mat-menu-content .mat-menu-item{border-bottom:1px solid #dadada}  .mat-menu-content:not(:empty){padding-bottom:0}"]}),i})()},27404:(en,nt,c)=>{c.d(nt,{p:()=>qe});var l=c(98739),V=c(96308),y=c(53626),$=c(68745),z=c(17489),D=c(15439),k=c(24006),A=c(95017),L=c(54298),Y=c(31361),H=c(35226),N=c.n(H),J=c(1059),rt=c(22868),G=c(24850),M=c(80013),at=c(3832),q=c(18206),I=c(36895),t=c(94650),gt=c(91013),Mt=c(52688),tt=c(89383),st=c(65938),vt=c(84130),mt=c(9035),Ot=c(50777),yt=c(44758),Tt=c(22437),_t=c(67154),Et=c(4859),ht=c(56709),X=c(99602),ct=c(97392),et=c(59549),ft=c(284),it=c(96338),Q=c(28255),pt=c(51572),dt=c(10266),lt=c(30277),xt=c(24784),Ct=c(75223),ot=c(610);function bt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.inboxCount," ")}}function Pt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.ccCount," ")}}function St(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",45)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.importantCount," ")}}const wt=function(i){return[i]};function Dt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"a",42),t.\u0275\u0275element(1,"i",43),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,bt,3,1,"span",44),t.\u0275\u0275template(5,Pt,3,1,"span",44),t.\u0275\u0275template(6,St,3,1,"span",44),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass","mail-type-"+e.key)("routerLink",t.\u0275\u0275pureFunction1(9,wt,"/"+e.state)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",e.icon),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,7,e.name)," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","inbox"===e.key&&a.inboxCount),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===e.key&&a.ccCount),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===e.key&&a.importantCount)}}function It(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",38)(1,"div",39)(2,"mat-list"),t.\u0275\u0275template(3,Dt,7,11,"a",40),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(4,"div",41),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",e.mailCategories)}}function Bt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.sendMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Compose")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Compose")," ")}}function kt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.sendUrgentMessage())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Urgent message")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Urgent message")," ")}}function Lt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.getMailbox())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Get new emails")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Get new emails")," ")}}function Rt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.onDeleteMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Delete")),t.\u0275\u0275property("disabled",e.isWaitingForResponse||!1===e.countSelected||!1===e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Delete")," ")}}function Ft(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(n.mailMoveTo("important"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Important")),t.\u0275\u0275property("disabled",e.isWaitingForResponse||!1===e.countSelected||"inbox"!==e.selectedMailCategory&&e.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"Important")," ")}}function At(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",52),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"span",53),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"mat-icon",54),t.\u0275\u0275text(7,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"mat-menu",null,55),t.\u0275\u0275template(10,Bt,4,7,"button",56),t.\u0275\u0275template(11,kt,4,7,"button",56),t.\u0275\u0275template(12,Lt,4,7,"button",56),t.\u0275\u0275template(13,Rt,4,7,"button",56),t.\u0275\u0275template(14,Ft,4,7,"button",56),t.\u0275\u0275elementStart(15,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.mailMoveTo("inbox"))}),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275reference(9),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(2,12,"Action")," "),t.\u0275\u0275property("disabled",a.isWaitingForResponse)("matMenuTriggerFor",e),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,14,"Action")),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",a.permissionService.composeActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.urgentMessageActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.downloadMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.permissionService.deleteMailActionInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(16,16,"MailBox.REMOVE IMPORTANT")),t.\u0275\u0275property("disabled",a.isWaitingForResponse||!1===a.countSelected||"important"!==a.selectedMailCategory),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,18,"MailBox.REMOVE IMPORTANT")," ")}}function Vt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",46)(1,"div",47)(2,"div",48)(3,"button",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.resetFilter())}),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275element(5,"mat-icon",50),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,At,19,20,"ng-container",51),t.\u0275\u0275elementEnd()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(4,4,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(7,6,"RESET")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","cc"!==e.selectedMailCategory)}}function Ut(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",58)(1,"mat-checkbox",59),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n?o.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&e.isAllSelected())("aria-label",e.checkboxLabel())}}function Wt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",a.selection.isSelected(e)||null!=e&&e.is_already_read||"inbox"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function Nt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",a.selection.isSelected(e)||null!=e&&e.is_already_read||"cc"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function $t(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",64,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",a.selection.isSelected(e)||null!=e&&e.is_already_read||"important"!==a.selectedMailCategory?"":"unread")("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function Kt(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",66,65),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.selection.toggle(n))})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.showOptions())}),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function jt(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span",67),t.\u0275\u0275element(1,"i",68),t.\u0275\u0275elementEnd())}function Gt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,Wt,2,3,"mat-checkbox",61),t.\u0275\u0275template(2,Nt,2,3,"mat-checkbox",61),t.\u0275\u0275template(3,$t,2,3,"mat-checkbox",61),t.\u0275\u0275template(4,Kt,2,2,"mat-checkbox",62),t.\u0275\u0275template(5,jt,2,0,"span",63),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cc"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","important"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"===a.selectedMailCategory||"draft"===a.selectedMailCategory||"sent"===a.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1==e.is_urgent_mail)}}function zt(i,s){1&i&&t.\u0275\u0275element(0,"th",58)}function Ht(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",58)(1,"mat-form-field",69)(2,"input",70),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(n.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",71)(5,"mat-datepicker",null,72),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,4,"Select a date")),t.\u0275\u0275property("matDatepicker",e)("formControl",a.dateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e)}}function Yt(i,s){1&i&&t.\u0275\u0275element(0,"th",58)}function Qt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",74)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.fromFilter)}}function Zt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275template(1,Qt,4,4,"div",73),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!=e.selectedMailCategory)}}function Xt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",74)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.toFilter)}}function Jt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275template(1,Xt,4,4,"div",73),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","inbox"!=e.selectedMailCategory)}}function qt(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"th",58)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",75),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.subjectFilter)}}function te(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.date")))}function ee(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",77),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?e.date:e.created_at,"dd/MM/yyyy")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?e.date:e.created_at,"dd/MM/yyyy")," ")}}function ne(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.time")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.time")))}function ie(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",77),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"date"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",a.translateTime(t.\u0275\u0275pipeBind2(1,2,null!=e&&e.date?e.date:e.created_at,"H:mm"))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",a.translateTime(t.\u0275\u0275pipeBind2(3,5,null!=e&&e.date?e.date:e.created_at,"H:mm"))," ")}}function ae(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",78),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.from")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.from")))}function le(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",79),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.last_name)," ",null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.first_name," ",null!=e&&null!=e.sender_property&&null!=e.sender_property.sender&&e.sender_property.sender.civility&&"neutral"===(null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.sender_property||null==e.sender_property.sender?null:e.sender_property.sender.civility)," ")}}function oe(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",80),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.to")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.to")))}function re(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].last_name)," ",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].first_name," ",null!=e&&null!=e.recipient_properties[0]&&null!=e.recipient_properties[0].recipients[0]&&e.recipient_properties[0].recipients[0].civility&&"neutral"===(null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients[0]?null:e.recipient_properties[0].recipients[0].civility)," ")}}function se(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate2("matTooltip","",t.\u0275\u0275pipeBind1(1,4,"Mail_All")," ",t.\u0275\u0275pipeBind1(2,6,"USER_TYPES."+e.group_detail.user_types[0].name),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(4,8,"Mail_All")," ",t.\u0275\u0275pipeBind1(5,10,"USER_TYPES."+e.group_detail.user_types[0].name)," ")}}function ce(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,se,6,12,"span",81),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e||null==e.group_detail?null:e.group_detail.user_types)&&(null==e||null==e.group_detail?null:e.group_detail.user_types.length))}}function pe(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function me(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,pe,2,0,"span",51),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit,a=s.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function _e(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,me,3,3,"span",83),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e||null==e.recipient_properties[0]?null:e.recipient_properties[0].recipients_email)}}function de(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275template(1,re,6,14,"span",81),t.\u0275\u0275template(2,ce,2,1,"span",51),t.\u0275\u0275template(3,_e,2,1,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.user_type_selection)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.recipient_properties[0]||null==e.recipient_properties[0].recipients_email?null:e.recipient_properties[0].recipients_email.length)}}function ue(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",84),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"MailBox.composeMail.subject")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"MailBox.composeMail.subject")))}function Z(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",85),t.\u0275\u0275listener("click",function(){const n=t.\u0275\u0275restoreView(e),o=n.$implicit,r=n.index,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.onSelectMessage(o,r))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&i){const e=s.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.subject),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.subject," ")}}function ge(i,s){1&i&&(t.\u0275\u0275elementStart(0,"th",86)(1,"div",87),t.\u0275\u0275element(2,"mat-spinner",88),t.\u0275\u0275elementEnd()())}function x(i,s){1&i&&t.\u0275\u0275element(0,"tr",89)}function T(i,s){1&i&&t.\u0275\u0275element(0,"tr",89)}function p(i,s){1&i&&t.\u0275\u0275element(0,"tr",89)}function _(i,s){if(1&i&&t.\u0275\u0275element(0,"tr",90),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function d(i,s){if(1&i&&t.\u0275\u0275element(0,"tr",91),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function u(i,s){1&i&&(t.\u0275\u0275elementStart(0,"div",92),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"No Mail Data")," "))}function h(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.OpenMailPopupRequest(n.viewMessageData,"reply-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",115),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply"))}function b(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.OpenMailPopupRequest(n.viewMessageData,"reply-all"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",116),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.reply_all"))}function O(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.OpenMailPopupRequest(n.viewMessageData,"foward-mail"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",117),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.forward"))}function w(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",68),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"MailBox.URGENT_MESSAGE")," "))}function E(i,s){1&i&&(t.\u0275\u0275elementStart(0,"button",118),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",119),t.\u0275\u0275elementEnd()),2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function B(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.onPreviousMessage(n.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",119),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.previous"))}function S(i,s){1&i&&(t.\u0275\u0275elementStart(0,"button",118),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",120),t.\u0275\u0275elementEnd()),2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function U(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(n.onNextMessage(n.viewMessageData))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"i",120),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"MailBox.emailDetails.next"))}function f(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e.viewMessageData?null:e.viewMessageData.subject)}}function v(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"b"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,e.subjectTranslated)," ",e.resWordMessage,"")}}function ut(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",121),t.\u0275\u0275template(1,f,2,1,"b",122),t.\u0275\u0275template(2,v,3,4,"ng-template",null,123,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.translatedSubject)("ngIfElse",e)}}function he(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,4,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.last_name)," ",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.first_name," ",null!=e.viewMessageData&&null!=e.viewMessageData.sender_property&&null!=e.viewMessageData.sender_property.sender&&e.viewMessageData.sender_property.sender.civility&&"neutral"===(null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.civility)," - (",null==e.viewMessageData||null==e.viewMessageData.sender_property||null==e.viewMessageData.sender_property.sender?null:e.viewMessageData.sender_property.sender.email,") ")}}function fe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span")(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(3,2,"Mail_All")," ",t.\u0275\u0275pipeBind1(4,4,"USER_TYPES."+e.typeName)," ")}}function xe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e||null==e.recipients[0]?null:e.recipients[0].last_name)," ",null==e||null==e.recipients[0]?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function Ce(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function be(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,xe,4,9,"span",126),t.\u0275\u0275template(2,Ce,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(),a=e.$implicit,n=e.index,o=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==a?null:a.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n<o.recpList.length-1)}}function Me(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,be,3,3,"span",126),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function ve(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function Oe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275text(1),t.\u0275\u0275template(2,ve,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function ye(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Oe,3,3,"span",128),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]?null:e.viewMessageData.recipient_properties[0].recipients_email)}}function Te(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Me,2,1,"span",125),t.\u0275\u0275template(2,ye,2,1,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.recpList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[0]||null==e.viewMessageData.recipient_properties[0].recipients_email?null:e.viewMessageData.recipient_properties[0].recipients_email.length)}}function Ee(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,fe,5,6,"span",51),t.\u0275\u0275template(5,Te,3,2,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.to")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.user_type_selection),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.viewMessageData&&e.viewMessageData.user_type_selection))}}function Pe(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",130)(2,"button",131),t.\u0275\u0275element(3,"i",132),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"label"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",133),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,r=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(r.downloadFile(o))}),t.\u0275\u0275element(7,"i",134),t.\u0275\u0275elementEnd()()()}if(2&i){const e=s.$implicit;t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(null==e?null:e.file_name)}}function Se(i,s){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Pe,8,1,"div",125),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"Attachment")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData?null:e.viewMessageData.file_attachments)}}function we(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e?null:e.recipients[0].last_name)," ",null==e?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function De(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function Ie(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,we,4,9,"span",126),t.\u0275\u0275template(2,De,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(),a=e.$implicit,n=e.index,o=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==a||null==a.recipients?null:a.recipients.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n<o.ccList.length-1)}}function Be(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Ie,3,3,"span",126),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function ke(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function Le(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",129),t.\u0275\u0275text(1),t.\u0275\u0275template(2,ke,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.last;t.\u0275\u0275propertyInterpolate("matTooltip",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a)}}function Re(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Le,3,3,"span",128),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]?null:e.viewMessageData.recipient_properties[1].recipients_email)}}function Fe(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Be,2,1,"span",125),t.\u0275\u0275template(5,Re,2,1,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"MailBox.composeMail.cc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.ccList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.recipient_properties[1]||null==e.viewMessageData.recipient_properties[1].recipients_email?null:e.viewMessageData.recipient_properties[1].recipients_email.length)}}function Ae(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275propertyInterpolate("title",null==e?null:e.recipients),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,5,null==e?null:e.recipients[0].last_name)," ",null==e?null:e.recipients[0].first_name," ",null!=e&&null!=e.recipients[0]&&e.recipients[0].civility&&"neutral"===(null==e||null==e.recipients[0]?null:e.recipients[0].civility)?"":t.\u0275\u0275pipeBind1(3,7,null==e||null==e.recipients[0]?null:e.recipients[0].civility)," - (",null==e||null==e.recipients[0]?null:e.recipients[0].email,") ")}}function Ve(i,s){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,",\xa0\xa0"),t.\u0275\u0275elementEnd())}function Ue(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span",127),t.\u0275\u0275template(1,Ae,4,9,"span",126),t.\u0275\u0275template(2,Ve,2,0,"span",51),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(),a=e.$implicit,n=e.index,o=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("title",null==a?null:a.rank),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==a||null==a.recipients?null:a.recipients.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n<o.bccList.length-1)}}function We(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Ue,3,3,"span",126),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.rank)}}function Ne(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",124)(1,"label",107),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,We,2,1,"span",125),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"MailBox.composeMail.bcc")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.bccList)}}function $e(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.short_name,"",0===a?"":","," ")}}function Ke(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",135)(1,"div",136)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,$e,2,2,"span",125),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"RNCP Titles")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.rncp_titles)}}function je(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=s.$implicit,a=s.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.name,"",0===a?"":","," ")}}function Ge(i,s){if(1&i&&(t.\u0275\u0275elementStart(0,"div",137)(1,"div",136)(2,"label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,je,2,2,"span",125),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,"UserType")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==e.viewMessageData||null==e.viewMessageData.group_detail?null:e.viewMessageData.group_detail.user_types)}}function ze(i,s){1&i&&(t.\u0275\u0275elementStart(0,"div",138),t.\u0275\u0275element(1,"div",136),t.\u0275\u0275elementEnd())}function He(i,s){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",93)(1,"div",94)(2,"div",95),t.\u0275\u0275template(3,h,3,3,"button",96),t.\u0275\u0275template(4,b,3,3,"button",96),t.\u0275\u0275template(5,O,3,3,"button",96),t.\u0275\u0275elementStart(6,"button",97),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.openDialog(n.viewMessageData))}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275element(8,"i",98),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,w,4,3,"span",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",99),t.\u0275\u0275template(11,E,3,3,"button",100),t.\u0275\u0275template(12,B,3,3,"button",96),t.\u0275\u0275template(13,S,3,3,"button",101),t.\u0275\u0275template(14,U,3,3,"button",96),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",102)(16,"div",103),t.\u0275\u0275template(17,ut,4,2,"div",104),t.\u0275\u0275element(18,"hr"),t.\u0275\u0275elementStart(19,"span",105),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"titlecase"),t.\u0275\u0275pipe(22,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",106)(24,"label",107),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(27,he,4,8,"span",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(28,Ee,6,5,"div",108),t.\u0275\u0275template(29,Se,5,4,"ng-container",51),t.\u0275\u0275template(30,Fe,6,5,"div",108),t.\u0275\u0275template(31,Ne,5,4,"div",108),t.\u0275\u0275template(32,Ke,6,4,"div",109),t.\u0275\u0275template(33,Ge,6,4,"div",110),t.\u0275\u0275template(34,ze,2,0,"div",111),t.\u0275\u0275element(35,"hr"),t.\u0275\u0275elementStart(36,"div",112)(37,"div",113),t.\u0275\u0275element(38,"p",114)(39,"br")(40,"br"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"!==e.selectedMailCategory&&"trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","trash"!==e.selectedMailCategory&&"draft"!==e.selectedMailCategory),t.\u0275\u0275advance(1),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(7,22,"MailBox.emailDetails.delete")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",1==e.viewMessageData.is_urgent_mail),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsPreviousBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.checkIsNextBtnShow()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.checkIsNextBtnShow()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e.viewMessageData?null:e.viewMessageData.subject),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",null!=e.viewMessageData&&e.viewMessageData.created_at?t.\u0275\u0275pipeBind1(21,24,e.momentlang(null==e.viewMessageData?null:e.viewMessageData.created_at)):""," ",null!=e.viewMessageData&&e.viewMessageData.created_at?e.translateTime(t.\u0275\u0275pipeBind2(22,26,null==e.viewMessageData?null:e.viewMessageData.created_at,"H:mm")):""," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(26,29,"MailBox.from")," : "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.viewMessageData||null==e.viewMessageData.sender_property?null:e.viewMessageData.sender_property.sender),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.recpList?null:e.recpList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.viewMessageData?null:e.viewMessageData.file_attachments)&&(null==e.viewMessageData?null:e.viewMessageData.file_attachments.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.bccList?null:e.bccList.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.rncp_titles?null:e.viewMessageData.group_detail.rncp_titles.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sent"===e.selectedMailCategory&&(null==e.viewMessageData?null:e.viewMessageData.is_group_parent)&&(null==e.viewMessageData||null==e.viewMessageData.group_detail||null==e.viewMessageData.group_detail.user_types?null:e.viewMessageData.group_detail.user_types.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.ccList?null:e.ccList.length)>0),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("innerHTML",e.getMessage(null==e.viewMessageData?null:e.viewMessageData.message),t.\u0275\u0275sanitizeHtml)}}const Ye=function(){return["reset"]},Qe=function(){return["loading"]},Ze=function(i){return{hide:i}},Xe=function(i){return{"hide-pagination-buttons":i}},Je=function(){return[10]};let qe=(()=>{class i{constructor(e,a,n,o,r,m,g,C,P,R){this.mailboxService=e,this.userService=a,this.translate=n,this.dialog=o,this.permissions=r,this.certificationRuleService=m,this.rncpTitlesService=g,this.permissionService=C,this.filterBreadCrumbService=P,this.pageTitleService=R,this.isTeacherCard=!1,this.subs=new $.Y,this.inbox=!1,this.cc=!1,this.important=!1,this.draft=!1,this.trash=!0,this.sent=!1,this.IsReplyBtn=!1,this.IsReplyAllBtn=!1,this.IsForwardBtn=!1,this.IsDeleteBtn=!1,this.IsImportantBtn=!1,this.IsMovetoInboxBtn=!1,this.hideResetButton=!1,this.isWaitRecipientGroup=!1,this.isSearching=!1,this.selectedMails=[],this.mailSelected=[],this.checked=[],this.selection=new A.Ov(!0,[]),this.dataSource=new y.by([]),this.configCertificatioRule={disableClose:!0},this.config={disableClose:!0,width:"800px"},this.urgentMessageConfig={disableClose:!0,width:"600px"},this.displayedColumns=["select","created_at","timeTable","from","to","subject"],this.filterColumns=["selectFilter","createdAtFilter","timeTableFilter","fromFilter","toFilter","subjectFilter"],this.isReset=!1,this.inboxCount=0,this.ccCount=0,this.importantCount=0,this.dateFilter=new k.UntypedFormControl(""),this.subjectFilter=new k.UntypedFormControl(""),this.fromFilter=new k.UntypedFormControl(""),this.toFilter=new k.UntypedFormControl(""),this.filteredValues={date:"",from:"",to:"",subject:""},this.dataLoaded=!1,this.isWaitingForResponse=!1,this.selectedMailCategory="trash",this.mailsList=[],this.mailList=[],this.getCountOfCC=[],this.recpList=[],this.ccList=[],this.viewBcc=!1,this.bccList=[],this.isOPERATORDir=!1,this.isOPERATORAdmin=!1,this.filteredValuesDate={date:""},this.filterBreadcrumbData=[]}ngOnInit(){this.currentUser=this.userService.getLocalStorageUser(),this.isOPERATORAdmin=!!this.permissions.getPermission("operator_admin"),this.isOPERATORDir=!!this.permissions.getPermission("operator_dir"),this.countSelected=!1,this.sortValue={latest_email:"asc"},this.getTrashMAilbox(),this.initTrashMail(),this.isTeacherCard||this.pageTitleService.setTitle("Trash")}ngOnChanges(e){this.userId&&this.resetFilter()}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,J.O)(null),(0,rt.b)(()=>{this.isReset||this.getTrashMAilbox(),this.dataLoaded=!0})).subscribe()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox())}cleanFilterData(){const e=z.cloneDeep(this.filteredValues);let a="";return Object.keys(e).forEach(n=>{e[n]&&(a+=` ${n}:"${e[n]}"`)}),a}getTrashMAilbox(){this.isWaitingForResponse=!0;const e=this.selectedMailCategory,a={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex},n=this.cleanFilterData();this.userId?this.getNonMainMail(a,this.sortValue,e,n,this.userId):this.getNonMainMail(a,this.sortValue,e,n)}getMailbox(){this.getTrashMAilbox()}getNonMainMail(e,a,n,o,r){this.subs.sink=this.mailboxService.getNonMainMail(e,a,n,o,r||null).subscribe(g=>{this.isReset=!1,this.isWaitingForResponse=!1,g&&g.length?(this.dataSource.data=g,this.dataSource.sort=this.sort,this.mailList=g,this.paginator.length=g[0]?g[0].count_document:0):(this.dataSource.data=[],this.paginator.length=0),this.noData=this.dataSource.connect().pipe((0,G.U)(C=>0===C.length)),this.filterBreadcrumbData=[],this.filterBreadcrumbFormat()},g=>{this.dataSource.data=[],this.paginator.length=0,this.noData=this.dataSource.connect().pipe((0,G.U)(C=>0===C.length)),this.filterBreadcrumbData=[],this.filterBreadcrumbFormat(),this.dataSource.data=[],this.paginator.length=0,this.userService.postErrorLog(g),N().fire({type:"info",title:this.translate.instant("SORRY"),text:g&&g.message?this.translate.instant(g.message.replaceAll("GraphQL error: ","")):g,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}sendMailToGroup(){this.mailToGroupDialogComponent=this.dialog.open(Y.C,this.config)}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelected(){const e=this.selection.selected.length,a=this.dataSource.data?this.dataSource.data.length:null,n=this.selection.selected;return this.mailSelected=[],n.forEach(o=>{this.mailSelected.push(o._id)}),e===a}initTrashMail(){this.subs.sink=this.dateFilter.valueChanges.subscribe(e=>{const a=D(e).format("DD/MM/YYYY");this.filteredValues.date=e,this.filteredValuesDate.date=e?a:null,this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox()}),this.subs.sink=this.fromFilter.valueChanges.pipe((0,M.b)(400)).subscribe(e=>{if(""!==this.fromFilter.value){const a=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,n=/\\/;if(e.match(a)||e.match(n)){const o=e.replace(a,"");this.fromFilter.setValue(o)}else this.filteredValues.from=e||"",this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox()}else this.filteredValues.from="",this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox()}),this.subs.sink=this.toFilter.valueChanges.pipe((0,M.b)(400)).subscribe(e=>{if(""!==this.toFilter.value){const a=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,n=/\\/;if(e.match(a)||e.match(n)){const o=e.replace(a,"");this.toFilter.setValue(o)}else this.filteredValues.to=e||"",this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox()}else this.filteredValues.to="",this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox()}),this.subs.sink=this.subjectFilter.valueChanges.pipe((0,M.b)(400)).subscribe(e=>{if(""!==this.subjectFilter.value){const a=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g,n=/\\/;if(e.match(a)||e.match(n)){const o=e.replace(a,"");this.subjectFilter.setValue(o)}else this.filteredValues.subject=e||"",this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox()}else this.filteredValues.subject="",this.paginator.pageIndex=0,this.isReset||this.getTrashMAilbox()}),this.mailCategories=this.mailboxService.getMailCategories()}resetFilter(){this.isReset=!0,this.filteredValues={date:"",from:"",to:"",subject:""},this.filterBreadcrumbData=[],this.selection.clear(),this.sort.direction="",this.sort.active="",this.sort.sort({id:"",start:"asc",disableClear:!1}),this.sortValue=this.sortValue={latest_email:"asc"},this.dataSource.data=[],this.paginator.pageIndex=0,this.dateFilter.setValue(""),this.subjectFilter.setValue(""),this.fromFilter.setValue(""),this.toFilter.setValue(""),this.selection.clear(),this.getTrashMAilbox()}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe(),this.dataSource.data=[],this.isTeacherCard||this.pageTitleService.setTitle(null)}changePage(e){this.isReset||this.getTrashMAilbox()}onSelectMessage(e,a){this.viewMessageData=e,e.user_type_selection?(this.getRecipientName(e),this.isWaitRecipientGroup=!0):this.isWaitRecipientGroup=!1,this.getCountOfCC=e.recipient_properties,this.recpList=[],this.ccList=[],this.getCountOfCC.forEach(n=>{"a"===n.rank&&this.recpList.push(n),"cc"===n.rank&&this.ccList.push(n)}),this.viewMessageData.$$index=a}onPreviousMessage(e){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index-1;console.log("indeeexprevieus   ",a),this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((n,o)=>{null!=n.rank?("a"===n.rank&&this.recpList.push(n),"cc"===n.rank&&(this.ccList.push(n),n.recipients.forEach(r=>{"cc"===n.rank&&r.email===this.currentUser.email&&(this.viewBcc=!0)})),this.viewBcc&&"c"===n.rank&&(this.bccList.push(n),console.log("Ada BCC :",n)),n.recipients.forEach(r=>{"c"===n.rank&&r.email===this.currentUser.email&&this.recpList.push(n)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}onNextMessage(e){if(this.viewMessageData&&this.viewMessageData.$$index+1<this.mailList.length){this.viewBcc=!1,this.recpList=[],this.ccList=[],this.bccList=[];const a=this.viewMessageData.$$index+1;this.viewMessageData=this.mailList[a],this.viewMessageData.$$index=a,this.getCountOfCC=this.mailList[a].recipient_properties,this.getCountOfCC.forEach((n,o)=>{null!=n.rank?("a"===n.rank&&this.recpList.push(n),"cc"===n.rank&&(this.ccList.push(n),n.recipients.forEach(r=>{"cc"===n.rank&&r.email===this.currentUser.email&&(this.viewBcc=!0)})),this.viewBcc&&"c"===n.rank&&(this.bccList.push(n),console.log("Ada BCC :",n)),n.recipients.forEach(r=>{"c"===n.rank&&r.email===this.currentUser.email&&this.recpList.push(n)})):(e.recipient_properties[0].rank="a",this.recpList.push(e.recipient_properties[0]))})}}checkIsPreviousBtnShow(){return 0!==this.viewMessageData.$$index}checkIsNextBtnShow(){return this.viewMessageData.$$index!==this.mailList.length-1}OpenMailPopupRequest(e,a){this.config.data={},this.sendMailDialogComponent=this.dialog.open(L.U,this.config),this.sendMailDialogComponent.componentInstance.tags=[a],this.sendMailDialogComponent.componentInstance.currentMailData=e,"sent"===this.selectedMailCategory&&(this.sendMailDialogComponent.componentInstance.isSenderReq=!1),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(n=>{"updateMailList"===n&&(this.isReset||this.getTrashMAilbox()),this.sendMailDialogComponent=null})}getFileName(e){return e?e.substring(e.lastIndexOf("/")+1):""}downloadFile(e){console.log(e);const a=document.createElement("a");a.target="_blank",a.href=e.path,a.download=e.file_name,a.click(),a.remove()}openDialog(e){let a=3;const r=[];r.push(e._id),N().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:a}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{N().disableConfirmButton();const m=N().getConfirmButton(),g=setInterval(()=>{a-=1,m.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+a+" sec"},1e3);this.timeOutVal=setTimeout(()=>{m.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),N().enableConfirmButton(),clearInterval(g),clearTimeout(this.timeOutVal)},1e3*a)}}).then(m=>{clearTimeout(this.timeOutVal),m.value&&(this.subs.sink=this.mailboxService.deleteMail(r).subscribe(g=>{N().fire({type:"success",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.viewMessageData=[],this.isReset||this.getTrashMAilbox()},g=>{this.userService.postErrorLog(g),N().fire({type:"info",title:this.translate.instant("SORRY"),text:g&&g.message?this.translate.instant(g.message.replaceAll("GraphQL error: ","")):g,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}sendMail(){this.sendMailDialogComponent=this.dialog.open(L.U,this.config),this.subs.sink=this.sendMailDialogComponent.afterClosed().subscribe(e=>{this.isReset||this.getTrashMAilbox(),this.sendMailDialogComponent=null})}onDeleteMail(){let e=3;N().fire({title:this.translate.instant("MailBox.MESSAGES.ATTENTION"),text:this.translate.instant("MailBox.MESSAGES.ASKMSG"),type:"warning",showCancelButton:!0,allowEscapeKey:!0,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:e}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{N().disableConfirmButton();const o=N().getConfirmButton(),r=setInterval(()=>{e-=1,o.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+e+" sec"},1e3);this.timeOutVal=setTimeout(()=>{o.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),N().enableConfirmButton(),clearInterval(r),clearTimeout(this.timeOutVal)},1e3*e)}}).then(o=>{clearTimeout(this.timeOutVal),o.value&&(this.viewMessageData=[],this.subs.sink=this.mailboxService.deleteMultipleMail(this.mailSelected).subscribe(r=>{N().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DELMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK")}),this.isReset||this.getTrashMAilbox()},r=>{this.userService.postErrorLog(r),N().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}mailMoveTo(e){let a={};a={sender_property:{mail_type:e},recipient_properties:{mail_type:e}},this.viewMessageData=[],this.subs.sink=this.mailboxService.updateMultipleMail(this.mailSelected,a).subscribe(n=>{this.isReset||this.getTrashMAilbox()},n=>{this.userService.postErrorLog(n),N().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showOptions(){this.countSelected=this.selection.selected.length>0}receiveEmail(){this.isReset||this.getTrashMAilbox()}sendUrgentMessage(){this.urgentMessageDialogComponent=this.dialog.open(at.x,this.urgentMessageConfig)}getMessage(e){return e?((e=e.replaceAll("<table>",'<table class="notif-table full-width" border="1">'))&&e.includes("<a")&&e&&!e.includes("target")&&(e=e.replaceAll("<a",'<a target="blank" class="blue-link-format"')),e):""}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(e=>{e&&e.length&&(this.subs.sink=this.dialog.open(q.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:e}).afterClosed().subscribe(a=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(n=>{n&&n.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(q.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:n}))},n=>{this.userService.postErrorLog(n),N().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))},e=>{this.userService.postErrorLog(e),N().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCertificationRule(){const e=this.userService.getLocalStorageUser(),a=e.entities[0].assigned_rncp_title._id,n=e.entities[0].class._id,o=e._id;this.subs.sink=this.rncpTitlesService.getRncpTitleById(a).subscribe(r=>{this.selectedRncpTitleName=r.short_name,this.selectedRncpTitleLongName=r.long_name},r=>{this.userService.postErrorLog(r),N().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.subs.sink=this.certificationRuleService.getCertificationRuleSentWithStudent(a,n,o).subscribe(r=>{r||this.getUrgentMail()},r=>{this.userService.postErrorLog(r),N().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showCertificationRule(e,a){}getRecipientName(e){console.log("This group recipient : ",e),e.group_detail.rncp_titles&&e.group_detail.rncp_titles.length&&(this.subs.sink=this.mailboxService.getOneTitle(e.group_detail.rncp_titles[0]._id).subscribe(a=>{a&&(this.titleName=a.short_name)},a=>{this.userService.postErrorLog(a),N().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),e.group_detail.user_types&&e.group_detail.user_types.length&&(this.subs.sink=this.mailboxService.getOneUserTypes(e.group_detail.user_types[0]._id).subscribe(a=>{a&&(this.typeName=a.name)},a=>{this.userService.postErrorLog(a),N().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}filterBreadcrumbFormat(){this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat([{type:"table_filter",name:"date",column:"MailBox.date",isMultiple:!1,filterValue:this.filteredValuesDate,filterList:null,filterRef:this.dateFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"from",column:"MailBox.from",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.fromFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"to",column:"MailBox.to",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.toFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"subject",column:"MailBox.composeMail.subject",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.subjectFilter,displayKey:null,savedValue:null,isSelectionInput:!1}],this.filterBreadcrumbData)}removeFilterBreadcrumb(e){this.filterBreadCrumbService.removeFilterBreadcrumb(e,null,this.filteredValues),"table_filter"===e.type&&this.filteredValuesDate&&(this.filteredValuesDate[e.name]=null),this.clearSelectIfFilter(),this.getTrashMAilbox()}clearSelectIfFilter(){this.selection?.clear()}momentlang(e){const a=D(e).format("DD/MM/YYYY");if("object"==typeof a){const n=new Date(a.year,a.month,a.date,a.hour,a.minute);return this.datePipe=new I.uU(this.translate.currentLang),this.datePipe.transform(n,"EEE d MMM, y")}{let n=a;if("number"==typeof n&&(n=n.toString()),8===n.length){const m=parseInt(n.substring(0,4)),g=parseInt(n.substring(4,6)),C=parseInt(n.substring(6,8));n=new Date(m,g,C)}this.datePipe=new I.uU(this.translate.currentLang);const o=D(n,"DD/MM/YYYY");return this.datePipe.transform(o,"EEEE d MMMM y")}}translateTime(e){return D(e,"HH:mm").format("H:mm")}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(gt.e),t.\u0275\u0275directiveInject(Mt.e),t.\u0275\u0275directiveInject(tt.sK),t.\u0275\u0275directiveInject(st.uw),t.\u0275\u0275directiveInject(vt.YI),t.\u0275\u0275directiveInject(mt._),t.\u0275\u0275directiveInject(Ot.r),t.\u0275\u0275directiveInject(yt.$),t.\u0275\u0275directiveInject(Tt.q),t.\u0275\u0275directiveInject(_t.Z))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-trash"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(l.NW,7),t.\u0275\u0275viewQuery(V.YE,7)),2&e){let n;t.\u0275\u0275queryRefresh(n=t.\u0275\u0275loadQuery())&&(a.paginator=n.first),t.\u0275\u0275queryRefresh(n=t.\u0275\u0275loadQuery())&&(a.sort=n.first)}},inputs:{isTeacherCard:"isTeacherCard",userId:"userId"},features:[t.\u0275\u0275NgOnChangesFeature],decls:51,vars:21,consts:[[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"p-grid"],["class","p-col-12",4,"ngIf"],[1,"view-mailbox-template"],[1,"view-mailbox-by-side"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","asc","matSortDisableClear","",1,"mat-elevation-z8","mailTable",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","6","class","header-alignment",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","selectFilter"],["matColumnDef","createdAtFilter"],["matColumnDef","timeTableFilter"],["matColumnDef","fromFilter"],["matColumnDef","toFilter"],["matColumnDef","subjectFilter"],["matColumnDef","created_at"],["style","padding-left: 24px","mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","timeTable"],["matColumnDef","from"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","to"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","subject"],["mat-header-cell","","mat-sort-header","subject","style","padding-right: 0.5rem !important",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","style","padding-right: 0.5rem !important",3,"matTooltip","click",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","6","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","hidePageSize","pageSizeOptions","page"],["class","view-message-section",4,"ngIf"],[1,"p-col-12"],["fxFlex.gt-sm","60","fxFlex.gt-xs","60","fxFlex","60",1,"mail-type-list-wrapper"],["mat-list-item","","fxFlex","","routerLinkActive","active-link",3,"ngClass","routerLink",4,"ngFor","ngForOf"],["fxFlex.gt-sm","40","fxFlex.gt-xs","40","fxFlex","40",1,"mail-type-list-wrapper"],["mat-list-item","","fxFlex","","routerLinkActive","active-link",3,"ngClass","routerLink"],[1,"fa",3,"ngClass"],["class","unreadNotify",4,"ngIf"],[1,"unreadNotify"],["mat-header-cell","","colspan","6",1,"header-alignment"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex","100","fxFlex.lt-md","100",1,"mail-controls"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","","matTooltipPosition","above",1,"right-float","resetBtn",3,"matTooltip","disabled","click"],["svgIcon","loop"],[4,"ngIf"],["fxLayoutWrap","wrap","mat-button","","md-raised-button","",1,"right-float","actionBtn",2,"padding","0px 7px 0px 10px !important",3,"matTooltip","disabled","matMenuTriggerFor"],[2,"transform","translateY(2px)","color","#000"],[2,"color","#000"],["action","matMenu"],["mat-menu-item","","matTooltipPosition","above",3,"matTooltip","disabled","click",4,"ngIf"],["mat-menu-item","","matTooltipPosition","above",3,"matTooltip","disabled","click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"ngClass","checked","aria-label","click","change",4,"ngIf"],[3,"checked","aria-label","click","change",4,"ngIf"],["style","text-align: center; padding-left: 20px",4,"ngIf"],[3,"ngClass","checked","aria-label","click","change"],["checkBox",""],[3,"checked","aria-label","click","change"],[2,"text-align","center","padding-left","20px"],[1,"fa","fa-bolt"],[2,"margin-top","6px"],["matInput","",3,"matDatepicker","formControl","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["class","matFormModif",4,"ngIf"],[1,"matFormModif"],["matInput","",1,"form-field",3,"formControl","placeholder"],["mat-header-cell","",2,"padding-left","24px",3,"matTooltip"],["mat-cell","",2,"text-align","center",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","from",3,"matTooltip"],["mat-cell","",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header","to",3,"matTooltip"],[3,"matTooltip","click",4,"ngIf"],[3,"matTooltip","click"],[3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-header-cell","","mat-sort-header","subject",2,"padding-right","0.5rem !important",3,"matTooltip"],["mat-cell","",2,"padding-right","0.5rem !important",3,"matTooltip","click"],["mat-header-cell","","colspan","6",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"view-message-section"],[1,"compose-mail-action",2,"width","100%"],[2,"float","left"],["class","mail-action-btn","mat-button","","md-button","",3,"title","click",4,"ngIf"],["mat-button","","md-button","",1,"mail-action-btn",3,"title","click"],[1,"fa","fa-trash"],[2,"float","right"],["class","mail-action-btn","mat-button","","md-button","","style","color: gray",3,"title",4,"ngIf"],["class","mail-action-btn","mat-button","","style","color: gray","md-button","",3,"title",4,"ngIf"],[1,"compose-mail"],[2,"width","100%"],["class","emailsubject e-mailSubject",4,"ngIf"],[2,"float","right","margin-right","18px","font-size","12px"],[1,"sender-mail"],[2,"font-weight","800","font-size","12px"],["class","recipient-mail",4,"ngIf"],["class","group-rncp",4,"ngIf"],["class","group-usertype",4,"ngIf"],["class","mail-cc",4,"ngIf"],[1,"message_detail"],[1,"message_view","break-word"],[3,"innerHTML"],[1,"fa","fa-reply"],[1,"fa","fa-reply-all"],[1,"fa","fa-mail-forward"],["mat-button","","md-button","",1,"mail-action-btn",2,"color","gray",3,"title"],[1,"fa","fa-caret-left"],[1,"fa","fa-caret-right"],[1,"emailsubject","e-mailSubject"],[4,"ngIf","ngIfElse"],["subjectTranslateds",""],[1,"recipient-mail"],[4,"ngFor","ngForOf"],[3,"title",4,"ngIf"],[3,"title"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[1,"fileInfo"],["mat-button","","type","button"],[1,"fa","fa-file-archive-o"],["mat-button","","type","button",3,"click"],[1,"fa","fa-download"],[1,"group-rncp"],[1,"message_view"],[1,"group-usertype"],[1,"mail-cc"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"ms-filter-breadcrumb",0),t.\u0275\u0275listener("removeFilterTrigger",function(o){return a.removeFilterBreadcrumb(o)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",1),t.\u0275\u0275template(2,It,5,1,"div",2),t.\u0275\u0275elementContainerStart(3),t.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"table",5),t.\u0275\u0275listener("matSortChange",function(o){return a.sortData(o)}),t.\u0275\u0275elementContainerStart(7,6),t.\u0275\u0275template(8,Vt,9,8,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(9,8),t.\u0275\u0275template(10,Ut,2,3,"th",9),t.\u0275\u0275template(11,Gt,6,5,"td",10),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,11),t.\u0275\u0275template(13,zt,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,12),t.\u0275\u0275template(15,Ht,7,6,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,13),t.\u0275\u0275template(17,Yt,1,0,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,14),t.\u0275\u0275template(19,Zt,2,1,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,15),t.\u0275\u0275template(21,Jt,2,1,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,16),t.\u0275\u0275template(23,qt,4,4,"th",9),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,17),t.\u0275\u0275template(25,te,5,6,"th",18),t.\u0275\u0275template(26,ee,4,8,"td",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(27,20),t.\u0275\u0275template(28,ne,5,6,"th",18),t.\u0275\u0275template(29,ie,4,8,"td",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(30,21),t.\u0275\u0275template(31,ae,5,6,"th",22),t.\u0275\u0275template(32,le,6,14,"td",23),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(33,24),t.\u0275\u0275template(34,oe,5,6,"th",25),t.\u0275\u0275template(35,de,4,3,"td",10),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(36,26),t.\u0275\u0275template(37,ue,5,6,"th",27),t.\u0275\u0275template(38,Z,2,2,"td",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(39,29),t.\u0275\u0275template(40,ge,3,0,"th",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(41,x,1,0,"tr",31),t.\u0275\u0275template(42,T,1,0,"tr",31),t.\u0275\u0275template(43,p,1,0,"tr",31),t.\u0275\u0275template(44,_,1,1,"tr",32),t.\u0275\u0275template(45,d,1,1,"tr",33),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(46,u,3,3,"div",34),t.\u0275\u0275elementStart(47,"div",35)(48,"mat-paginator",36),t.\u0275\u0275listener("page",function(o){return a.changePage(o)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(49,"div",4),t.\u0275\u0275template(50,He,41,31,"div",37),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275property("filterBreadcrumbData",a.filterBreadcrumbData),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.isTeacherCard),t.\u0275\u0275advance(4),t.\u0275\u0275property("dataSource",a.dataSource),t.\u0275\u0275advance(35),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(14,Ye)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(15,Qe)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.paginator.length<1&&!a.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,Ze,a.paginator.length<1||a.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(18,Xe,a.paginator.length<=10))("hidePageSize",!0)("pageSizeOptions",t.\u0275\u0275pureFunction0(20,Je)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.viewMessageData?null:a.viewMessageData._id))},dependencies:[I.mk,I.sg,I.O5,Et.lW,ht.oG,X.Mq,X.hl,X.nW,ct.Hw,et.KE,et.R9,ft.Nt,it.i$,it.Tg,Q.VK,Q.OP,Q.p6,l.NW,pt.Ou,V.YE,V.nU,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.ge,y.ev,y.XQ,y.Gk,dt.gM,k.DefaultValueAccessor,k.NgControlStatus,k.FormControlDirective,lt.xw,lt.yH,xt.oO,Ct.r,ot.yS,ot.Od,I.gd,I.rS,I.uU,tt.X$],styles:["#certifier[_ngcontent-%COMP%]{margin-left:20px}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.form-field[_ngcontent-%COMP%]{margin-top:6px}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%]{width:15%}.mat-column-createdAtFilter[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]{width:6rem}.mat-column-createdAtFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-created_at[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-timeTableFilter[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]{width:6rem}.mat-column-timeTableFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-timeTable[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-fromFilter[_ngcontent-%COMP%], .mat-column-from[_ngcontent-%COMP%]{width:15%;padding-left:.5rem!important}.mat-column-toFilter[_ngcontent-%COMP%], .mat-column-to[_ngcontent-%COMP%]{width:25%;padding-left:.5rem!important}.mat-column-subjectFilter[_ngcontent-%COMP%], .mat-column-subject[_ngcontent-%COMP%]{width:auto;padding-left:.5rem!important}[_nghost-%COMP%]     .job-desc-table{width:100%!important}[_nghost-%COMP%]     table.mailTable tr td, [_nghost-%COMP%]     table.mailTable tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table.mailTable tr td:nth-child(1), [_nghost-%COMP%]     table.mailTable tr th:nth-child(1){padding-left:0!important;text-align:center!important}[_nghost-%COMP%]     table.mailTable tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table.mailTable tr th{vertical-align:top}[_nghost-%COMP%]     table.mailTable tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table.mailTable tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2), [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table.mailTable thead tr:nth-child(2) th, [_nghost-%COMP%]     table.mailTable thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.bg-color[_ngcontent-%COMP%]{background-color:#fff}.right-float[_ngcontent-%COMP%]{float:right;margin-left:5px;background-color:gray}.btnReset[_ngcontent-%COMP%]{margin-left:5px;height:45px;background-color:#607d8b}.fontSize[_ngcontent-%COMP%]{font-size:1.25rem}.header-alignment[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:.5rem!important}.icon-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:50%}.mail-type-list-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:5px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{padding:0}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{border-left:8px solid;transition-property:background;transition-duration:.3s;transition-timing-function:linear;cursor:pointer}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-inbox[_ngcontent-%COMP%]{border-left-color:#009846}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-sent[_ngcontent-%COMP%]{border-left-color:#846573}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-important[_ngcontent-%COMP%]{border-left-color:#e51a4b}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-draft[_ngcontent-%COMP%]{border-left-color:#ffed00}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.mail-type-trash[_ngcontent-%COMP%]{border-left-color:#d9dada}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:15px}.mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%], .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:focus, .mail-type-list-wrapper[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:active{background-color:#212121}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:8px;width:35px;height:35px;min-width:initial;background-color:gray;color:#fff;line-height:14px;margin-right:2px;border-radius:2px}.mail-controls[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0}.mail-controls[_ngcontent-%COMP%]   .reply-btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}[_nghost-%COMP%]     svg{padding-right:4px;padding-bottom:5px!important}.resetBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#607d8b!important}.actionBtn[_ngcontent-%COMP%]{width:auto!important;background-color:#ffd740!important}[_nghost-%COMP%]     .resetBtn svg{padding-bottom:3px!important}[_nghost-%COMP%]     .matFormModif .mat-form-field-wrapper{margin-right:14px}.view-message-section[_ngcontent-%COMP%]{background:white;width:100%;color:#000;padding:20px}.view-mailbox-template[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;flex:1 1 100%;box-sizing:border-box;-webkit-box-flex:1;max-width:100%}.view-mailbox-by-side[_ngcontent-%COMP%]{flex:1 1 50%;box-sizing:border-box;-webkit-box-flex:1;max-width:50%}button.mail-action-btn.mat-button[_ngcontent-%COMP%]{min-width:initial;padding:5px;font-size:15px;line-height:20px;margin-right:.33333rem}.compose-mail-action[_ngcontent-%COMP%]{display:inline-block}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;border-bottom:1px solid #ababab}.unreadNotify[_ngcontent-%COMP%]{color:#fff;margin-left:10px;background-color:red;padding:3px 8px;border-radius:50%}[_nghost-%COMP%]  .unread:checked{border-color:#fff!important}[_nghost-%COMP%]  .unread .mat-checkbox-inner-container{background-color:red!important;border-radius:4px}.message_detail[_ngcontent-%COMP%]{margin-top:5px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-rncp[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.group-usertype[_ngcontent-%COMP%]{margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.mail-cc[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;font-size:12px;display:flex;flex-flow:row wrap;box-sizing:border-box}.message_view[_ngcontent-%COMP%]{flex:1 1 .000000001px;box-sizing:border-box;-webkit-box-flex:1}tr.mat-row[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px 5px 10px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.yellow-admtc[_ngcontent-%COMP%]{background-color:#ffd740!important;color:#000!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.break-word[_ngcontent-%COMP%]{width:100%;overflow-wrap:break-word}.top-space[_ngcontent-%COMP%]{margin-top:30px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.mailTable.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}  .blue-link-format{cursor:pointer!important;color:#06f!important;text-decoration:underline!important}  .size-school-logo{max-width:170px!important;max-height:150px!important}  .mat-menu-panel{min-height:auto}  .mat-menu-content .mat-menu-item{border-bottom:1px solid #dadada}  .mat-menu-content:not(:empty){padding-bottom:0}"]}),i})()},9035:(en,nt,c)=>{c.d(nt,{_:()=>K});var l=c(13125),V=c(24850),y=c(591),$=c(94650),z=c(18497);let K=(()=>{class D{constructor(k){this.apollo=k,this.isSaved=new y.X(!1),this.isChanged=new y.X(!1)}setDataCertificationStatus(k){this.isSaved.next(k)}getDataCertificationStatus(){return this.isSaved.value}setDataCertificationChanged(k){this.isChanged.next(k)}getDataCertificationChanged(){return this.isChanged.value}getCertificationRule(k,A){return this.apollo.query({query:l.ZP`
        query GetOneCertificationRule{
          GetOneCertificationRule(rncp_id: "${k}", class_id: "${A}") {
            _id
            title
            message
            documents {
              s3_file_name
              document_name
              file_path
              document_id {
                _id
              }
            }
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,V.U)(L=>L.data.GetOneCertificationRule))}getCertificationRuleSent(k,A){return this.apollo.query({query:l.ZP`
        query {
          GetOneCertificationRuleSent(rncp_id: "${k}", class_id: "${A}") {
            _id
            title
            message
            documents {
              s3_file_name
              document_name
              file_path
              document_id {
                _id
              }
            }
            students_accepted {
              student_id {
                _id
              }
              acceptance_date {
                date_utc
                time_utc
              }
            }
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,V.U)(L=>L.data.GetOneCertificationRuleSent))}getCertificationRuleSentWithStudent(k,A,L){return this.apollo.query({query:l.ZP`
        query {
          GetOneCertificationRuleSent(rncp_id: "${k}", class_id: "${A}", user_id: "${L}") {
            _id
            title
            message
            documents {
              s3_file_name
              document_name
              file_path
              document_id {
                _id
              }
            }
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,V.U)(Y=>Y.data.GetOneCertificationRuleSent))}getAllCertificationRule(){return this.apollo.query({query:l.ZP`
        query {
          GetAllCertificationRule() {
            _id
            title
            message
            documents {
              file_name
              file_path
            }
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,V.U)(k=>k.data.GetOneCertificationRule))}createCertificationRuleSent(k){return this.apollo.mutate({mutation:l.ZP`
        mutation SentCertificationRule($dataInput: CertificationRuleSentInput) {
          SentCertificationRule(certification_rule_sent_input: $dataInput) {
            _id
          }
        }
      `,variables:{dataInput:k}}).pipe((0,V.U)(A=>A.data.SentCertificationRule))}downloadDocumentAsZipFile(k,A){return this.apollo.mutate({mutation:l.ZP`
      mutation {
        DownloadDocumentAsZipFile (rncpId: "${k}", classId: "${A}") {
          pathName
        }
      }
      `}).pipe((0,V.U)(L=>L.data.DownloadDocumentAsZipFile))}studentAcceptCertificationRule(k,A,L){return this.apollo.mutate({mutation:l.ZP`
        mutation {
          StudentAcceptanceCertificationRule(rncp_id: "${k}", class_id: "${A}", user_id: "${L}") {
            _id
            students_accepted {
              student_id {
                _id
              }
              acceptance_date {
                date_utc
                time_utc
              }
            }
          }
        }
      `}).pipe((0,V.U)(Y=>Y.data.StudentAcceptanceCertificationRule))}createCertificationRule(k){return this.apollo.mutate({mutation:l.ZP`
        mutation CreateCertificationRule($dataInput: CertificationRuleInput) {
          CreateCertificationRule(certification_rule_input: $dataInput) {
            _id
          }
        }
      `,variables:{dataInput:k}}).pipe((0,V.U)(A=>A.data.CreateCertificationRule))}updateCertificationRule(k,A){return this.apollo.mutate({mutation:l.ZP`
        mutation UpdateCertificationRule($id: ID!, $dataInput: CertificationRuleInput) {
          UpdateCertificationRule(_id: $id, certification_rule_input: $dataInput) {
            _id
          }
        }
      `,variables:{id:k,dataInput:A}}).pipe((0,V.U)(L=>L.data.UpdateCertificationRule))}}return D.\u0275fac=function(k){return new(k||D)($.\u0275\u0275inject(z._M))},D.\u0275prov=$.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()}}]);