"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[5254],{85254:(It,at,v)=>{v.r(at),v.d(at,{CandidatesModule:()=>fs});var k=v(36895),M=v(93730),V=v(30160),ot=v(610),rt=v(21086),f=v(17489),L=v(1059),W=v(22868),d=v(24850),H=v(80013),a=v(98739),Y=v(96308),j=v(53626),q=v(68745),P=v(24006),Q=v(35226),S=v.n(Q),U=v(75817),$=v(90610),X=v(49671),z=v(65938),et=v(62416),t=v(94650),tt=v(89383),ct=v(79710),st=v(52688),it=v(73555),dt=v(47957),_t=v(3238),pt=v(4859),mt=v(97392),lt=v(59549),ht=v(284),ut=v(51572);function ft(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h2",19),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"CANDIDATE_POPUP_1.TITLE")," "))}function gt(n,o){1&n&&(t.\u0275\u0275elementStart(0,"h3",19),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"CANDIDATE_POPUP_1.TITLE1")," "))}function Ct(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",7)(1,"div",20)(2,"div",21)(3,"b"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"uppercase"),t.\u0275\u0275elementEnd()()()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate4("",t.\u0275\u0275pipeBind1(5,4,"CANDIDATE_POPUP_1.the Candidate")," ",null!=e.singleCandidate&&e.singleCandidate.civility&&"neutral"===(null==e.singleCandidate?null:e.singleCandidate.civility)?"":t.\u0275\u0275pipeBind1(6,6,null==e.singleCandidate?null:e.singleCandidate.civility)," ",null==e.singleCandidate?null:e.singleCandidate.first_name," ",t.\u0275\u0275pipeBind1(7,8,null==e.singleCandidate?null:e.singleCandidate.last_name),"")}}function vt(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",7)(1,"div",20)(2,"b"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()()),2&n&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(4,1,"CANDIDATE_POPUP_1.por the selected Candidates.")," "))}function yt(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is mandatory")))}function xt(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",22),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(c.selectDevMember(null==l?null:l._id))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"uppercase"),t.\u0275\u0275elementEnd()}if(2&n){const e=o.$implicit;t.\u0275\u0275property("value",(null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(1,4,null==e?null:e.civility))+" "+(null==e?null:e.first_name)+" "+t.\u0275\u0275pipeBind1(2,6,null==e?null:e.last_name)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(4,8,null==e?null:e.civility)," ",null==e?null:e.first_name," ",t.\u0275\u0275pipeBind1(5,10,null==e?null:e.last_name)," ")}}function St(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",7)(1,"div",20)(2,"b"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(e.messageAfterSelect())}}function Tt(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",23),t.\u0275\u0275element(1,"mat-progress-spinner",24),t.\u0275\u0275elementEnd())}let Ft=(()=>{class n{constructor(e,i,s,l,c,_){this.dialogRef=e,this.fb=i,this.translate=s,this.candidateService=l,this.data=c,this.authService=_,this.subs=new q.Y,this.isTitleTrue=!1,this.noUsers=!1,this.correctorName="",this.userTypes=[],this.userCorrectorList=[],this.userList=[],this.memberAssigned=[],this.isGroupTest=!1,this.isWaitingForResponse=!1,this.isWaitingForUserList=!0,this.isMultipleSelected=!1,this.isSingleSelected=!0,this.dataMemberAssigned=[],this.candidateAssignedMember=[]}ngOnInit(){console.log("Candidate Selected is => ",this.data),this.initForm(),this.getDataMember(),this.getDataCandidate()}initForm(){this.assignMemberForm=this.fb.group({member_id:["",P.Validators.required],memberFilterCtrl:["",P.Validators.required]})}initFilter(){this.filteredMember=this.assignMemberForm.controls.memberFilterCtrl.valueChanges.pipe((0,L.O)(""),(0,d.U)(e=>this.userCorrectorList.filter(i=>!i||i.first_name.toLowerCase().includes(e.toString().toLowerCase()))))}getDataCandidate(){this.candidateAssignedMember=this.data.filter(e=>e.admission_member_id&&e.admission_member_id._id),this.candidateAssignedMember&&this.candidateAssignedMember.length&&(this.isTitleTrue=!0),this.totalCandidate=this.data.length,this.data.length>1?(this.isMultipleSelected=!0,this.isSingleSelected=!1):(this.isMultipleSelected=!1,this.isSingleSelected=!0,this.singleCandidate=this.data[0])}getDataMember(){this.hideDataMemberFromCandidate(),this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.getDevMemberDropdown("","","").subscribe(e=>{this.isWaitingForResponse=!1,e&&(this.userList=e,this.userCorrectorList=e,this.userCorrectorList=this.userCorrectorList.filter(i=>!this.dataMemberAssigned.includes(i._id)),this.isNoMemberWithSimilarIntakeChannel(),this.initFilter())},e=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(e),S().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}hideDataMemberFromCandidate(){this.data&&this.data.length&&(this.dataMemberAssigned=this.data.map(e=>e.admission_member_id?e.admission_member_id._id:""))}checkFormValidity(){var e=this;return(0,X.Z)(function*(){return!e.assignMemberForm.invalid||(e.isWaitingForResponse=!1,yield S().fire({type:"warning",title:e.translate.instant("FormSave_S1.TITLE"),html:e.translate.instant("FormSave_S1.TEXT"),confirmButtonText:e.translate.instant("FormSave_S1.BUTTON")}),e.assignMemberForm.markAllAsTouched(),!1)})()}submitAssignMember(){var e=this;return(0,X.Z)(function*(){if(!(yield e.checkFormValidity()))return;let i=[];i=e.data.map(_=>_._id);let s="";for(const _ of e.memberAssigned)s+=(_&&_.member&&_.member.civility&&"neutral"!==_.member.civility?e.translate.instant(_.member.civility)+" ":"")+_.member.first_name+" "+_.member.last_name;const l=[];l.push(e.assignMemberForm.controls.member_id.value),console.log("result",l);let c=3;S().fire({type:"question",title:e.translate.instant("TRANSFER_S1.Title"),html:e.translate.instant("TRANSFER_S1.Text",{memberName:s}),allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:e.translate.instant("TRANSFER_S1.Button 1",{timer:c}),cancelButtonText:e.translate.instant("TRANSFER_S1.Button 2"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{S().disableConfirmButton();const _=S().getConfirmButton();e.intVal=setInterval(()=>{c-=1,_.innerText=e.translate.instant("TRANSFER_S1.Button 1")+` (${c})`},1e3),e.timeOutVal=setTimeout(()=>{_.innerText=e.translate.instant("TRANSFER_S1.Button 1"),S().enableConfirmButton(),clearInterval(e.intVal),clearTimeout(e.timeOutVal)},1e3*c)}}).then(_=>{clearTimeout(e.timeOutVal),_.value?(e.isWaitingForResponse=!0,e.subs.sink=e.candidateService.ChangeAdmissionMemberToManyCandidate(i,l).subscribe(C=>{e.isWaitingForResponse=!1,C&&S().fire({type:"success",title:e.translate.instant("CANDIDAT_S6.TITLE"),html:e.translate.instant("CANDIDAT_S6.TEXT",{memberName:s,them:e.translate.instant(e.memberAssigned&&e.memberAssigned.length>1?"thems":"To inform with all the necessary information")}),allowOutsideClick:!1,confirmButtonText:e.translate.instant("CANDIDAT_S6.BUTTON")}).then(()=>{e.dialogRef.close("reset")})},C=>{e.isWaitingForResponse=!1,e.authService.postErrorLog(C),S().fire({type:"info",title:e.translate.instant("SORRY"),text:C&&C.message?e.translate.instant(C.message.replaceAll("GraphQL error: ","")):C,confirmButtonText:e.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})):e.isWaitingForResponse=!1})})()}selectMember(e){this.memberAssigned=[],this.filterMember(e.value)}filterMember(e){if(console.log(e),e){const i=e,s=Math.ceil(this.totalCandidate/i.length);let l=this.totalCandidate;console.log(this.memberAssigned);const c=f.find(this.userCorrectorList,C=>C._id===i);this.memberAssigned.push({member:c,candidate:s<=l?s:l}),l-=s<=l?s:l;const _=this.userList.filter(C=>C._id===i[0]);console.log("user",_),this.correctorName=_&&_[0]?"neutral"!==_[0].civility?this.translate.instant(_[0].civility)+" "+_[0].first_name+" "+_[0].last_name:_[0].first_name+" "+_[0].last_name:""}}messageAfterSelect(){let e="";return e+=this.translate.instant("Single Candidates Selected",{candidateName:this.correctorName}),e}isNoMemberWithSimilarIntakeChannel(){let e=!1;return this.userCorrectorList.length<1&&(e=!0),e}selectDevMember(e){console.log("_devMember id",e),this.assignMemberForm.controls.member_id.patchValue(e),this.memberAssigned=[],this.filterMember(e)}closeDialog(){this.dialogRef.close()}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(z.so),t.\u0275\u0275directiveInject(P.UntypedFormBuilder),t.\u0275\u0275directiveInject(tt.sK),t.\u0275\u0275directiveInject(ct.o),t.\u0275\u0275directiveInject(z.WI),t.\u0275\u0275directiveInject(st.e))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-assign-member-dialog"]],features:[t.\u0275\u0275ProvidersFeature([et.t])],decls:39,vars:25,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header-div"],["svgIcon","account-switch"],["class","header-text",4,"ngIf"],["mat-icon-button","","type","button",1,"header-icon",3,"click"],[1,"header-form",3,"formGroup"],[2,"color","black"],[1,"content-height"],[1,"p-grid"],[1,"p-col-12"],["class","p-grid",4,"ngIf"],["matInput","","formControlName","memberFilterCtrl","required","",3,"placeholder","matAutocomplete"],[4,"ngIf"],[3,"panelWidth"],["autoMember","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["align","right"],["mat-raised-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary","type","button",3,"click"],["class","loading-indicator",4,"ngIf"],[1,"header-text"],[1,"p-col-12","no-padding-t"],[1,"p-col-12","no-padding","float-left"],[3,"value","click"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,i){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"mat-icon",1),t.\u0275\u0275text(2," account_switch "),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,ft,3,3,"h2",2),t.\u0275\u0275template(4,gt,3,3,"h3",2),t.\u0275\u0275elementStart(5,"button",3),t.\u0275\u0275listener("click",function(){return i.closeDialog()}),t.\u0275\u0275elementStart(6,"mat-icon"),t.\u0275\u0275text(7,"close"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275element(8,"hr"),t.\u0275\u0275elementStart(9,"form",4)(10,"div",5)(11,"mat-dialog-content",6)(12,"div",7)(13,"div",8)(14,"b"),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(17,Ct,8,10,"div",9),t.\u0275\u0275template(18,vt,5,3,"div",9),t.\u0275\u0275element(19,"br"),t.\u0275\u0275elementStart(20,"div",7)(21,"div",8)(22,"mat-form-field"),t.\u0275\u0275element(23,"input",10),t.\u0275\u0275pipe(24,"translate"),t.\u0275\u0275template(25,yt,3,3,"mat-error",11),t.\u0275\u0275elementStart(26,"mat-autocomplete",12,13),t.\u0275\u0275template(28,xt,6,12,"mat-option",14),t.\u0275\u0275pipe(29,"async"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(30,St,4,1,"div",9),t.\u0275\u0275elementStart(31,"mat-dialog-actions",15)(32,"button",16),t.\u0275\u0275listener("click",function(){return i.closeDialog()}),t.\u0275\u0275text(33),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(35,"button",17),t.\u0275\u0275listener("click",function(){return i.submitAssignMember()}),t.\u0275\u0275text(36),t.\u0275\u0275pipe(37,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(38,Tt,2,0,"div",18)),2&e){const s=t.\u0275\u0275reference(27);t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!i.isTitleTrue),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.isTitleTrue),t.\u0275\u0275advance(5),t.\u0275\u0275property("formGroup",i.assignMemberForm),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(16,15,"CANDIDATE_POPUP_1.Please select 1 Rate Profile for")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.isSingleSelected),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.isMultipleSelected),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(24,17,"CANDIDATE_POPUP_1.TITLE")),t.\u0275\u0275property("matAutocomplete",s),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.assignMemberForm.get("member_id").errors),t.\u0275\u0275advance(1),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(29,19,i.filteredMember)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",1===i.assignMemberForm.get("member_id").value.length),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(34,21,"ASSIGN_CORRECTOR_DIALOG.CANCEL")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(37,23,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.isWaitingForResponse)}},dependencies:[it.Zt,it.Bh,dt.XC,dt.ZL,_t.ey,pt.lW,z.xY,z.H8,mt.Hw,lt.TO,lt.KE,ht.Nt,ut.Ou,P.\u0275NgNoValidate,P.DefaultValueAccessor,P.NgControlStatus,P.NgControlStatusGroup,P.RequiredValidator,P.FormGroupDirective,P.FormControlName,k.sg,k.O5,tt.X$,k.Ov,k.gd],styles:["[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.header-form[_ngcontent-%COMP%]{padding:18px}.footer-form[_ngcontent-%COMP%]{padding:0 18px 18px}.no-margin[_ngcontent-%COMP%]{margin:0!important}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-b[_ngcontent-%COMP%], .no-padding-t[_ngcontent-%COMP%]{padding-bottom:0!important}.float-left[_ngcontent-%COMP%]{float:left}[_nghost-%COMP%]     .mat-dialog-content{margin:0!important;padding:0!important;max-height:unset}"]}),n})();var D=v(95017),K=v(51528),y=v(15439),E=v(33296),m=v(92340),u=v(75994),r=v(41076),p=v(12729),x=v(80529),T=v(9962),g=v(84075),O=v(69725),I=v(84130),R=v(87746),J=v(44758),Z=v(67154),bt=v(94442),nt=v(22437),Ot=v(56709),Nt=v(99602),Pt=v(28255),Bt=v(10266),Lt=v(24784),Rt=v(75223),At=v(88796);function Vt(n,o){1&n&&(t.\u0275\u0275elementStart(0,"label",95),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"CARDDETAIL.Scholar Season")," "))}function kt(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.scholar_season," ")}}function Ut(n,o){1&n&&(t.\u0275\u0275elementStart(0,"label",95),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.School")," "))}function Wt(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,e.short_name)," ")}}function Kt(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.selectAllData(s,"school"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("school"))("indeterminate",e.isSomeDropdownSelected("school")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function $t(n,o){1&n&&t.\u0275\u0275template(0,Kt,3,5,"ng-template",97)}function Ht(n,o){1&n&&(t.\u0275\u0275elementStart(0,"label",95),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus")," "))}function Gt(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function jt(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.selectAllData(s,"campus"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("campus"))("indeterminate",e.isSomeDropdownSelected("campus")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllF")," ")}}function zt(n,o){1&n&&t.\u0275\u0275template(0,jt,3,5,"ng-template",97)}function Yt(n,o){1&n&&(t.\u0275\u0275elementStart(0,"label",95),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.Level")," "))}function Qt(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function Xt(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.selectAllData(s,"level"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("level"))("indeterminate",e.isSomeDropdownSelected("level")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllF")," ")}}function Jt(n,o){1&n&&t.\u0275\u0275template(0,Xt,3,5,"ng-template",97)}function Zt(n,o){1&n&&(t.\u0275\u0275elementStart(0,"label",95),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.Sector")," "))}function qt(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function te(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.selectAllData(s,"sector"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("sector"))("indeterminate",e.isSomeDropdownSelected("sector")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllF")," ")}}function ee(n,o){1&n&&t.\u0275\u0275template(0,te,3,5,"ng-template",97)}function ie(n,o){1&n&&(t.\u0275\u0275elementStart(0,"label",95),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.Speciality")," "))}function ne(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function ae(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.selectAllData(s,"speciality"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("speciality"))("indeterminate",e.isSomeDropdownSelected("speciality")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllF")," ")}}function se(n,o){1&n&&t.\u0275\u0275template(0,ae,3,5,"ng-template",97)}function le(n,o){1&n&&(t.\u0275\u0275elementStart(0,"label",95),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"All_Students.Tag")," "))}function oe(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function re(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.selectAllData(s,"tags"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("tags"))("indeterminate",e.isSomeDropdownSelected("tags")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllF")," ")}}function de(n,o){1&n&&t.\u0275\u0275template(0,re,3,5,"ng-template",97)}function ce(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return s.buttonClicked="crm",t.\u0275\u0275resetView(s.controllerButton("crm"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CRM OK")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"CRM OK")," "))}function pe(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return s.buttonClicked="regis",t.\u0275\u0275resetView(s.controllerButton("regis"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Assign Registration Profile")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Assign Registration Profile")," "))}function me(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return s.buttonClicked="call",t.\u0275\u0275resetView(s.controllerButton("call"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"1st Call done")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"1st Call done")," "))}function he(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return s.buttonClicked="announcment",t.\u0275\u0275resetView(s.controllerButton("announcment"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"1st Email of Announcement")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"1st Email of Announcement")," "))}function ue(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return s.buttonClicked="member",t.\u0275\u0275resetView(s.controllerButton("member"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Transfer to another dev")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Transfer to another dev")," "))}function _e(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",100),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return s.buttonClicked="email",t.\u0275\u0275resetView(s.controllerButton("email"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(1,2,"Send Email")," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Send Email")," "))}function fe(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",101),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return s.buttonClicked="export",t.\u0275\u0275resetView(s.controllerButton("export"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",102),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Export the entire table of candidates")),t.\u0275\u0275property("disabled",e.isLoading),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"Export")," ")}}function ge(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",103),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.resetCandidate())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",104),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(1,3,"Reset Filter")," "),t.\u0275\u0275property("disabled",e.isLoading),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"Reset")," ")}}function Ce(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",105),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(2,2,"Selected Data")," : ",e.isCheckedAll?e.dataCount-(null==e.dataUnselectUser?null:e.dataUnselectUser.length):null==e.dataSelected?null:e.dataSelected.length,"")}}function ve(n,o){1&n&&t.\u0275\u0275element(0,"th",106)}function ye(n,o){1&n&&t.\u0275\u0275element(0,"th",107)}function xe(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",107)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",108),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,3,"search")),t.\u0275\u0275property("formControl",e.studentNumberFilter)("readonly",!!e.isLoading)}}function Se(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",107)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",108),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,3,"search")),t.\u0275\u0275property("formControl",e.lastNameFilter)("readonly",!!e.isLoading)}}function Te(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,null==e?null:e.label)," ")}}function Fe(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"nationality"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("nationality"))("indeterminate",e.isSomeDropdownSelected("nationality")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function be(n,o){1&n&&t.\u0275\u0275template(0,Fe,3,5,"ng-template",97)}function Oe(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setNationalityFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Te,3,5,"ng-template",6),t.\u0275\u0275template(5,be,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.nationalityFilterList)("appendTo","body")("multiple",!0)("formControl",e.nationalityFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.nationalityFilterList?null:e.nationalityFilterList.length)}}function De(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.intake_channel," ")}}function Ee(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"intakeChannel"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("intakeChannel"))("indeterminate",e.isSomeDropdownSelected("intakeChannel")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Ie(n,o){1&n&&t.\u0275\u0275template(0,Ee,3,5,"ng-template",97)}function Ae(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",111),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setIntakeChannelFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,De,2,3,"ng-template",6),t.\u0275\u0275template(5,Ie,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.entryWayFilterList)("appendTo","body")("multiple",!0)("formControl",e.entryWayFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.entryWayFilterList?null:e.entryWayFilterList.length)}}function Ne(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function Pe(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"studentStatus"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("studentStatus"))("indeterminate",e.isSomeDropdownSelected("studentStatus")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function we(n,o){1&n&&t.\u0275\u0275template(0,Pe,3,5,"ng-template",97)}function Me(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setStudentStatusFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Ne,2,3,"ng-template",6),t.\u0275\u0275template(5,we,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.studentStatusFilterList)("appendTo","body")("multiple",!0)("formControl",e.studentStatusFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.studentStatusFilterList?null:e.studentStatusFilterList.length)}}function Be(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function Le(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"profilRate"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("profilRate"))("indeterminate",e.isSomeDropdownSelected("profilRate")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Re(n,o){1&n&&t.\u0275\u0275template(0,Le,3,5,"ng-template",97)}function Ve(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",10),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setProfileSelected())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Be,2,3,"ng-template",6),t.\u0275\u0275template(5,Re,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.profileRateFilterList)("appendTo","body")("multiple",!0)("formControl",e.profileRateFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.profileRateFilterList?null:e.profileRateFilterList.length)}}function ke(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function Ue(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"announcement_call"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("announcement_call"))("indeterminate",e.isSomeDropdownSelected("announcement_call")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function We(n,o){1&n&&t.\u0275\u0275template(0,Ue,3,5,"ng-template",97)}function Ke(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setAnnouncementCallFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,ke,2,3,"ng-template",6),t.\u0275\u0275template(5,We,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.announcementCallFilterList)("appendTo","body")("multiple",!0)("formControl",e.announcementCallFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.announcementCallFilterList?null:e.announcementCallFilterList.length)}}function $e(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function He(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"announcement_email"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("announcement_email"))("indeterminate",e.isSomeDropdownSelected("announcement_email")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Ge(n,o){1&n&&t.\u0275\u0275template(0,He,3,5,"ng-template",97)}function je(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setAnnouncementEmailFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,$e,2,3,"ng-template",6),t.\u0275\u0275template(5,Ge,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.announcementEmailFilterList)("appendTo","body")("multiple",!0)("formControl",e.announcementEmailFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.announcementEmailFilterList?null:e.announcementEmailFilterList.length)}}function ze(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function Ye(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"connections"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("connections"))("indeterminate",e.isSomeDropdownSelected("connections")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Qe(n,o){1&n&&t.\u0275\u0275template(0,Ye,3,5,"ng-template",97)}function Xe(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setConnectionsFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,ze,2,3,"ng-template",6),t.\u0275\u0275template(5,Qe,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.connectionFilterList)("appendTo","body")("multiple",!0)("formControl",e.connectionFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.connectionFilterList?null:e.connectionFilterList.length)}}function Je(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function Ze(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"personal"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("personal"))("indeterminate",e.isSomeDropdownSelected("personal")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function qe(n,o){1&n&&t.\u0275\u0275template(0,Ze,3,5,"ng-template",97)}function ti(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setIdentityFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Je,2,3,"ng-template",6),t.\u0275\u0275template(5,qe,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.personalInfoFilterList)("appendTo","body")("multiple",!0)("formControl",e.personalInfoFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.personalInfoFilterList?null:e.personalInfoFilterList.length)}}function ei(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function ii(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"conditions"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("conditions"))("indeterminate",e.isSomeDropdownSelected("conditions")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function ni(n,o){1&n&&t.\u0275\u0275template(0,ii,3,5,"ng-template",97)}function ai(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setConditionFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,ei,2,3,"ng-template",6),t.\u0275\u0275template(5,ni,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.admittedFilterList)("appendTo","body")("multiple",!0)("formControl",e.conditionFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.admittedFilterList?null:e.admittedFilterList.length)}}function si(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function li(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"signature"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("signature"))("indeterminate",e.isSomeDropdownSelected("signature")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function oi(n,o){1&n&&t.\u0275\u0275template(0,li,3,5,"ng-template",97)}function ri(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setSignatureFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,si,2,3,"ng-template",6),t.\u0275\u0275template(5,oi,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.signatureFilterList)("appendTo","body")("multiple",!0)("formControl",e.signatureFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.signatureFilterList?null:e.signatureFilterList.length)}}function di(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function ci(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"downPaymentMethod"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("downPaymentMethod"))("indeterminate",e.isSomeDropdownSelected("downPaymentMethod")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function pi(n,o){1&n&&t.\u0275\u0275template(0,ci,3,5,"ng-template",97)}function mi(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setDownPaymentMethodFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,di,2,3,"ng-template",6),t.\u0275\u0275template(5,pi,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.downPaymentFilterList)("appendTo","body")("multiple",!0)("formControl",e.downPaymentFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.downPaymentFilterList?null:e.downPaymentFilterList.length)}}function hi(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function ui(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"paymentMethod"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("paymentMethod"))("indeterminate",e.isSomeDropdownSelected("paymentMethod")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function _i(n,o){1&n&&t.\u0275\u0275template(0,ui,3,5,"ng-template",97)}function fi(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setPaymentMethodFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,hi,2,3,"ng-template",6),t.\u0275\u0275template(5,_i,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.paymentMethodFilterList)("appendTo","body")("multiple",!0)("formControl",e.paymentMethodFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.paymentMethodFilterList?null:e.paymentMethodFilterList.length)}}function gi(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function Ci(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"downPayment"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("downPayment"))("indeterminate",e.isSomeDropdownSelected("downPayment")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function vi(n,o){1&n&&t.\u0275\u0275template(0,Ci,3,5,"ng-template",97)}function yi(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setDownPaymentFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,gi,2,3,"ng-template",6),t.\u0275\u0275template(5,vi,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.DPFilterList)("appendTo","body")("multiple",!0)("formControl",e.paymentFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.DPFilterList?null:e.DPFilterList.length)}}function xi(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",106)(1,"mat-form-field",112)(2,"input",113),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(s.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",114)(5,"mat-datepicker",115,116),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275reference(6),i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,5,"search")),t.\u0275\u0275property("matDatepicker",e)("formControl",i.registrationDateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",!!i.isLoading)}}function Si(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",106)(1,"mat-form-field")(2,"input",113),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275reference(6);return t.\u0275\u0275resetView(s.open())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-datepicker-toggle",114)(5,"mat-datepicker",115,117),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275reference(6),i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,5,"search")),t.\u0275\u0275property("matDatepicker",e)("formControl",i.dueDateFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",!!i.isLoading)}}function Ti(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function Fi(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"trialDates"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("trialDates"))("indeterminate",e.isSomeDropdownSelected("trialDates")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function bi(n,o){1&n&&t.\u0275\u0275template(0,Fi,3,5,"ng-template",97)}function Oi(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",118)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setTrialDatesFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Ti,2,3,"ng-template",6),t.\u0275\u0275template(5,bi,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.trialDateList)("appendTo","body")("multiple",!0)("formControl",e.trialDateCtrl)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.trialDateList?null:e.trialDateList.length)}}function Di(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",106)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",108),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,3,"search")),t.\u0275\u0275property("formControl",e.devMemberFilter)("readonly",!!e.isLoading)}}function Ei(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function Ii(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"oscarStatus"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("oscarStatus"))("indeterminate",e.isSomeDropdownSelected("oscarStatus")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Ai(n,o){1&n&&t.\u0275\u0275template(0,Ii,3,5,"ng-template",97)}function Ni(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setOscarStatusFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Ei,2,3,"ng-template",6),t.\u0275\u0275template(5,Ai,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.listCrm)("appendTo","body")("multiple",!0)("formControl",e.crmFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.listCrm?null:e.listCrm.length)}}function Pi(n,o){if(1&n&&(t.\u0275\u0275element(0,"input",96),t.\u0275\u0275text(1)),2&n){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function wi(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",98),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.selectAllData(s,"admissionDocument"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("admissionDocument"))("indeterminate",e.isSomeDropdownSelected("admissionDocument")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Mi(n,o){1&n&&t.\u0275\u0275template(0,wi,3,5,"ng-template",97)}function Bi(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",109)(1,"ng-select",110),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.setAdmissionDocumentStatusFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Pi,2,3,"ng-template",6),t.\u0275\u0275template(5,Mi,1,0,null,8),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.listAdmission)("appendTo","body")("multiple",!0)("formControl",e.admissionDocumentFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.listAdmission?null:e.listAdmission.length)}}function Li(n,o){1&n&&t.\u0275\u0275element(0,"th",106)}function Ri(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",106)(1,"mat-checkbox",119),t.\u0275\u0275listener("change",function(s){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s?l.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.showOptions("all",""))}),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function Vi(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",120)(1,"mat-checkbox",121),t.\u0275\u0275listener("click",function(s){return s.stopPropagation()})("change",function(s){const c=t.\u0275\u0275restoreView(e).$implicit,_=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s?_.selection.toggle(c._id):null)})("change",function(){const l=t.\u0275\u0275restoreView(e).$implicit,c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(c.showOptions("one",l))}),t.\u0275\u0275elementEnd()()}if(2&n){const e=o.$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",i.selection.isSelected(null==e?null:e._id)||i.isCheckedAll&&!i.dataUnselectUser.includes(null==e?null:e._id))("aria-label",i.checkboxLabel(e))}}function ki(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",123),t.\u0275\u0275element(3,"img",124),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"AdmissionFollowUp.Type of formation")),t.\u0275\u0275advance(3),t.\u0275\u0275property("src",e.shieldAccountIcon,t.\u0275\u0275sanitizeUrl)}}function Ui(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"type_formation."+(null==e||null==e.type_of_formation_id?null:e.type_of_formation_id.type_of_formation)))}}function Wi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",125),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275template(2,Ui,3,3,"span",8),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null!=e&&null!=e.type_of_formation_id&&e.type_of_formation_id.type_of_formation?t.\u0275\u0275pipeBind1(1,2,"type_formation."+(null==e||null==e.type_of_formation_id?null:e.type_of_formation_id.type_of_formation)):null),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e||null==e.type_of_formation_id?null:e.type_of_formation_id.type_of_formation)}}function Ki(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",126)(3,"mat-icon",127),t.\u0275\u0275text(4," account_box "),t.\u0275\u0275elementEnd()()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"student number"))}function $i(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",125),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.candidate_unique_number),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.candidate_unique_number," ")}}function Hi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",128),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"AdmissionFollowUp.Name")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"AdmissionFollowUp.Name")))}function Gi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",132),t.\u0275\u0275element(1,"img",133),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("src","MR"===(null==e?null:e.civility)?i.maleIcon:i.femaleIcon,t.\u0275\u0275sanitizeUrl)}}function ji(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",132),t.\u0275\u0275element(1,"img",134),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("src",i.serverimgPath+(null==e?null:e.photo),t.\u0275\u0275sanitizeUrl)}}function zi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",135),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e?null:e.last_name)+" "+(null==e?null:e.first_name)+" "+(null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(3,3,null==e?null:e.civility))," ")}}function Yi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",129),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275template(3,Gi,2,1,"div",130),t.\u0275\u0275template(4,ji,2,1,"div",130),t.\u0275\u0275template(5,zi,4,5,"div",131),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","\n            ",t.\u0275\u0275pipeBind1(1,6,null==e?null:e.last_name)," ",null==e?null:e.first_name," ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e?null:e.civility),"\n          "),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!(null!=e&&e.photo)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.photo),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null!==(null==e?null:e.last_name))}}function Qi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",136),t.\u0275\u0275element(3,"mat-icon",137),t.\u0275\u0275elementEnd()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.Nationality"))}function Xi(n,o){if(1&n&&t.\u0275\u0275element(0,"img",140),2&n){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275property("src",i.flagsIconPath+(null==e?null:e.nationality)+".svg",t.\u0275\u0275sanitizeUrl)}}function Ji(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",125),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"span",138),t.\u0275\u0275template(3,Xi,1,1,"img",139),t.\u0275\u0275elementEnd()()),2&n){const e=o.$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.nationality)),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e?null:e.nationality)}}function Zi(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",141),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"AdmissionFollowUp.Intake channel")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"AdmissionFollowUp.Intake channel")))}function qi(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",129),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,i.intakeChannel(e))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",i.intakeChannel(e)," ")}}function tn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",142),t.\u0275\u0275element(3,"mat-icon",143),t.\u0275\u0275elementEnd()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.Status"))}function en(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",146),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Admitted")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Adm.")," "))}function nn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",146),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Eng.")," ")}}function an(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",146),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Bill")," ")}}function sn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",146),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Reg.")," ")}}function ln(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",146),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Resigned after school begins")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"status_resign_after_school_begins")," "))}function on(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",146),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"No.")," ")}}function rn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",146),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Res.")," ")}}function dn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",146),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Postpone Inscription N+1")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Post.")," "))}function cn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",146),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"ResAfter.")," ")}}function pn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",146),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"ResReg.")," ")}}function mn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",146),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Deactivated")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Deac.")," "))}function hn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",146),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"in_scholarship")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Sch.")," "))}function un(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",146),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"resignation_missing_prerequisites")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Ren. PM")," "))}function _n(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",146),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Miss.")," ")}}function fn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144),t.\u0275\u0275template(1,en,4,6,"span",145),t.\u0275\u0275template(2,nn,4,6,"span",145),t.\u0275\u0275template(3,an,4,6,"span",145),t.\u0275\u0275template(4,sn,4,6,"span",145),t.\u0275\u0275template(5,ln,4,6,"span",145),t.\u0275\u0275template(6,on,4,6,"span",145),t.\u0275\u0275template(7,rn,4,6,"span",145),t.\u0275\u0275template(8,dn,4,6,"span",145),t.\u0275\u0275template(9,cn,4,6,"span",145),t.\u0275\u0275template(10,pn,4,6,"span",145),t.\u0275\u0275template(11,mn,4,6,"span",145),t.\u0275\u0275template(12,hn,4,6,"span",145),t.\u0275\u0275template(13,un,4,6,"span",145),t.\u0275\u0275template(14,_n,4,6,"span",145),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","admitted"===(null==e?null:e.candidate_admission_status)||"admission_in_progress"===(null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","engaged"===(null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","bill_validated"===(null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","registered"===(null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","resign_after_school_begins"===(null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","no_show"===(null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","resigned"===(null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","report_inscription"===(null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","resigned_after_engaged"===(null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","resigned_after_registered"===(null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","deactivated"===(null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","in_scholarship"===(null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","resignation_missing_prerequisites"===(null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","mission_card_validated"===(null==e?null:e.candidate_admission_status))}}function gn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",147),t.\u0275\u0275element(3,"mat-icon",148),t.\u0275\u0275elementEnd()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.Registration profile"))}const wt=function(n,o){return{red:n,green:o}};function Cn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144)(1,"mat-icon",149),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",null!=e&&null!=e.registration_profile&&e.registration_profile.name?null==e||null==e.registration_profile?null:e.registration_profile.name:t.\u0275\u0275pipeBind1(2,2,"not_affected"))("ngClass",t.\u0275\u0275pureFunction2(4,wt,!(null!=e&&null!=e.registration_profile&&e.registration_profile.name),null==e||null==e.registration_profile?null:e.registration_profile.name))}}function vn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",150),t.\u0275\u0275element(3,"mat-icon",151),t.\u0275\u0275elementEnd()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.Announcement call"))}function yn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144)(1,"mat-icon",149),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd()()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(2,2,null==e?null:e.announcement_call))("ngClass",t.\u0275\u0275pureFunction2(4,wt,"not_done"===(null==e?null:e.announcement_call),"done"===(null==e?null:e.announcement_call)))}}function xn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",152)(3,"mat-icon",127),t.\u0275\u0275text(4," mark_email_read "),t.\u0275\u0275elementEnd()()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.Registration Email"))}function Sn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",156),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Not sent"))}function Tn(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",157),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",i.transformDate(null==e?null:e.reg_n8_sent_date)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(i.transformDate(null==e?null:e.reg_n8_sent_date))}}function Fn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",157),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",i.transformDate(null==e?null:e.announcement_email)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(i.transformDate(null==e?null:e.announcement_email))}}function bn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144),t.\u0275\u0275template(1,Sn,3,3,"mat-icon",153),t.\u0275\u0275template(2,Tn,3,2,"ng-container",154),t.\u0275\u0275template(3,Fn,2,2,"ng-template",null,155,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,i=t.\u0275\u0275reference(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!((null!=e&&null!=e.reg_n8_sent_date&&e.reg_n8_sent_date.sent_date||null!=e&&null!=e.announcement_email&&e.announcement_email.sent_date)&&(null!==(null==e?null:e.reg_n8_sent_date)||null!=e&&null!=e.announcement_email&&e.announcement_email.sent_date))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.reg_n8_sent_date)&&(null==e||null==e.reg_n8_sent_date?null:e.reg_n8_sent_date.sent_date))("ngIfElse",i)}}function On(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",158),t.\u0275\u0275element(3,"mat-icon",159),t.\u0275\u0275elementEnd()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.Connection"))}function Dn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",161),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,null==e?null:e.connection))}}function En(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",156),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,null==e?null:e.connection))}}function In(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144),t.\u0275\u0275template(1,Dn,3,3,"mat-icon",160),t.\u0275\u0275template(2,En,3,3,"mat-icon",153),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","done"===(null==e?null:e.connection)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","not_done"===(null==e?null:e.connection))}}function An(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",162),t.\u0275\u0275element(3,"mat-icon",163),t.\u0275\u0275elementEnd()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.Identity"))}function Nn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",161),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,null==e?null:e.personal_information))}}function Pn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",156),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,null==e?null:e.personal_information))}}function wn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144),t.\u0275\u0275template(1,Nn,3,3,"mat-icon",160),t.\u0275\u0275template(2,Pn,3,3,"mat-icon",153),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","done"===(null==e?null:e.personal_information)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","not_done"===(null==e?null:e.personal_information))}}function Mn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",164)(3,"mat-icon",127),t.\u0275\u0275text(4," settings "),t.\u0275\u0275elementEnd()()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.Conditions"))}function Bn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",161),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"done"))}function Ln(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",156),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"not_done"))}function Rn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144),t.\u0275\u0275template(1,Bn,3,3,"mat-icon",160),t.\u0275\u0275template(2,Ln,3,3,"mat-icon",153),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.is_admitted),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.is_admitted))}}function Vn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",165),t.\u0275\u0275element(3,"mat-icon",166),t.\u0275\u0275elementEnd()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.School contract"))}function kn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",161),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,null==e?null:e.signature))}}function Un(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",156),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,null==e?null:e.signature))}}function Wn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144),t.\u0275\u0275template(1,kn,3,3,"mat-icon",160),t.\u0275\u0275template(2,Un,3,3,"mat-icon",153),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","done"===(null==e?null:e.signature)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","not_done"===(null==e?null:e.signature))}}function Kn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",167)(3,"mat-icon",127),t.\u0275\u0275text(4," euro_symbol "),t.\u0275\u0275elementEnd()()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.Down payment method"))}function $n(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",168),t.\u0275\u0275text(2,"x"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Hn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",156),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"not_done"))}function Gn(n,o){1&n&&(t.\u0275\u0275element(0,"mat-icon",174),t.\u0275\u0275pipe(1,"translate")),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Credit card"))}function jn(n,o){1&n&&(t.\u0275\u0275element(0,"mat-icon",175),t.\u0275\u0275pipe(1,"translate")),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Credit card"))}function zn(n,o){1&n&&(t.\u0275\u0275element(0,"mat-icon",176),t.\u0275\u0275pipe(1,"translate")),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Check"))}function Yn(n,o){1&n&&(t.\u0275\u0275element(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate")),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Transfer"))}function Qn(n,o){1&n&&(t.\u0275\u0275element(0,"mat-icon",178),t.\u0275\u0275pipe(1,"translate")),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Cash"))}function Xn(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"img",179),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(2,2,"SEPA"))("src",e.sepaLogo,t.\u0275\u0275sanitizeUrl)}}function Jn(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Gn,2,3,"mat-icon",169),t.\u0275\u0275template(2,jn,2,3,"mat-icon",170),t.\u0275\u0275template(3,zn,2,3,"mat-icon",171),t.\u0275\u0275template(4,Yn,2,3,"mat-icon",172),t.\u0275\u0275template(5,Qn,2,3,"mat-icon",173),t.\u0275\u0275template(6,Xn,3,4,"ng-container",8),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","bank"===(null==e?null:e.payment_method)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","credit_card"===(null==e?null:e.payment_method)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","check"===(null==e?null:e.payment_method)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","transfer"===(null==e?null:e.payment_method)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cash"===(null==e?null:e.payment_method)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sepa"===(null==e?null:e.payment_method))}}function Zn(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144)(1,"div",138),t.\u0275\u0275template(2,$n,3,0,"ng-container",8),t.\u0275\u0275template(3,Hn,3,3,"mat-icon",153),t.\u0275\u0275template(4,Jn,7,6,"ng-container",8),t.\u0275\u0275elementEnd()()),2&n){const e=o.$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.checkIfDoesntHaveAnyDP(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",("not_done"===(null==e?null:e.payment_method)||""===(null==e?null:e.payment_method)||null===(null==e?null:e.payment_method))&&!i.checkIfDoesntHaveAnyDP(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",""!==(null==e?null:e.payment_method)&&null!==(null==e?null:e.payment_method)&&!i.checkIfDoesntHaveAnyDP(e))}}function qn(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",180),t.\u0275\u0275element(3,"mat-icon",181),t.\u0275\u0275elementEnd()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.Payment mode"))}function ta(n,o){1&n&&(t.\u0275\u0275elementStart(0,"span",168),t.\u0275\u0275text(1,"x"),t.\u0275\u0275elementEnd())}function ea(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",156),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens"),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"not_done"))}function ia(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ta,2,0,"span",182),t.\u0275\u0275template(2,ea,3,3,"mat-icon",153),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","admitted"!==(null==e?null:e.candidate_admission_status)&&"admission_in_progress"!==(null==e?null:e.candidate_admission_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","admitted"===(null==e?null:e.candidate_admission_status)||"admission_in_progress"===(null==e?null:e.candidate_admission_status))}}function na(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",156),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens"),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"not_done"))}function aa(n,o){1&n&&(t.\u0275\u0275element(0,"mat-icon",176),t.\u0275\u0275pipe(1,"translate")),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Check"))}function sa(n,o){1&n&&(t.\u0275\u0275element(0,"mat-icon",177),t.\u0275\u0275pipe(1,"translate")),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Transfer"))}function la(n,o){1&n&&(t.\u0275\u0275element(0,"mat-icon",174),t.\u0275\u0275pipe(1,"translate")),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Bank Debit"))}function oa(n,o){1&n&&(t.\u0275\u0275element(0,"mat-icon",178),t.\u0275\u0275pipe(1,"translate")),2&n&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Cash"))}function ra(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"img",179),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(2,2,"SEPA"))("src",e.sepaLogo,t.\u0275\u0275sanitizeUrl)}}function da(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,na,3,3,"mat-icon",153),t.\u0275\u0275template(2,aa,2,3,"mat-icon",171),t.\u0275\u0275template(3,sa,2,3,"mat-icon",172),t.\u0275\u0275template(4,la,2,3,"mat-icon",169),t.\u0275\u0275template(5,oa,2,3,"mat-icon",173),t.\u0275\u0275template(6,ra,3,4,"ng-container",8),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","not_done"===(null==e?null:e.method_of_payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","check"===(null==e?null:e.method_of_payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","transfer"===(null==e?null:e.method_of_payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","credit_card"===(null==e?null:e.method_of_payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cash"===(null==e?null:e.method_of_payment)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","sepa"===(null==e?null:e.method_of_payment))}}function ca(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144)(1,"div",138),t.\u0275\u0275template(2,ia,3,2,"ng-container",8),t.\u0275\u0275template(3,da,7,6,"ng-container",8),t.\u0275\u0275elementEnd()()),2&n){const e=o.$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.checkIfFullDiscountAndNoDP(e)||"discount"===(null==e?null:e.finance)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!i.checkIfFullDiscountAndNoDP(e)&&"discount"!==(null==e?null:e.finance))}}function pa(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",183)(3,"mat-icon",127),t.\u0275\u0275text(4," euro_symbol "),t.\u0275\u0275elementEnd()()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.Down payment"))}function ma(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-icon",156),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"DP_Status.not_paid")))}function ha(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-icon",184),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"Refused")))}function ua(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-icon",185),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"Paid")))}function _a(n,o){1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",187),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Partially paid"))}function fa(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,_a,3,3,"mat-icon",186),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","partially_paid"===(null==e||null==e.billing_id?null:e.billing_id.deposit_status))}}function ga(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-icon",156),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"Generated")))}function Ca(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-icon",188),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"Pending")))}function va(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-icon",189),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"chargeback")))}function ya(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-icon",184),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(2,1,"not_billed")))}function xa(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",168),t.\u0275\u0275text(2,"x"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function Sa(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144),t.\u0275\u0275template(1,ma,4,3,"ng-container",8),t.\u0275\u0275template(2,ha,4,3,"ng-container",8),t.\u0275\u0275template(3,ua,4,3,"ng-container",8),t.\u0275\u0275template(4,fa,2,1,"ng-container",8),t.\u0275\u0275template(5,ga,4,3,"ng-container",8),t.\u0275\u0275template(6,Ca,4,3,"ng-container",8),t.\u0275\u0275template(7,va,4,3,"ng-container",8),t.\u0275\u0275template(8,ya,4,3,"ng-container",8),t.\u0275\u0275template(9,xa,3,0,"ng-container",8),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","not_paid"===i.checkIconDownPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","rejected"===i.checkIconDownPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","paid"===i.checkIconDownPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","partially_paid"===i.checkIconDownPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","generated"===i.checkIconDownPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","pending"===i.checkIconDownPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","chargeback"===i.checkIconDownPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","not_billed"===i.checkIconDownPayment(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!i.checkIconDownPayment(e))}}function Ta(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",190),t.\u0275\u0275element(3,"mat-icon",191),t.\u0275\u0275elementEnd()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.Registration Date"))}function Fa(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",157),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",i.transformRegistrationDate(e)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(i.transformRegistrationDate(e))}}function ba(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144),t.\u0275\u0275template(1,Fa,3,2,"ng-container",8),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","registered"===(null==e?null:e.candidate_admission_status))}}function Oa(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",192)(3,"mat-icon",127),t.\u0275\u0275text(4," event "),t.\u0275\u0275elementEnd()()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.Due date"))}function Da(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144)(1,"span",157),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&n){const e=o.$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("matTooltip",i.transformDateDue(null==e?null:e.registration_email_due_date)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(i.transformDateDue(null==e?null:e.registration_email_due_date))}}function Ea(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",193),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Trial date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Trial date")," "))}function Ia(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",194),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.trial_date),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.trial_date," ")}}function Aa(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",195),t.\u0275\u0275element(3,"mat-icon",196),t.\u0275\u0275elementEnd()()),2&n&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"AdmissionFollowUp.Dev member"))}function Na(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275element(1,"img",199),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("src","MR"===(null==e||null==e.admission_member_id?null:e.admission_member_id.civility)?i.maleIcon:"neutral"===(null==e||null==e.admission_member_id?null:e.admission_member_id.civility)?i.neutralStudentIcon:i.femaleIcon,t.\u0275\u0275sanitizeUrl)}}function Pa(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275element(1,"img",199),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("src",i.serverimgPath+(null==e||null==e.admission_member_id?null:e.admission_member_id.profile_picture),t.\u0275\u0275sanitizeUrl)}}function wa(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",198),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275template(3,Na,2,1,"div",8),t.\u0275\u0275template(4,Pa,2,1,"div",8),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,3,null==e||null==e.admission_member_id?null:e.admission_member_id.last_name)+" "+(null==e||null==e.admission_member_id?null:e.admission_member_id.first_name)+" "+(null!=e&&null!=e.admission_member_id&&e.admission_member_id.civility&&"neutral"===(null==e||null==e.admission_member_id?null:e.admission_member_id.civility)?"":t.\u0275\u0275pipeBind1(2,5,null==e||null==e.admission_member_id?null:e.admission_member_id.civility))),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!(null!=e&&null!=e.admission_member_id&&e.admission_member_id.profile_picture)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.admission_member_id?null:e.admission_member_id.profile_picture)}}function Ma(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",198),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"img",200),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"No Dev Member affected")),t.\u0275\u0275advance(2),t.\u0275\u0275property("src",e.maleIcon,t.\u0275\u0275sanitizeUrl)}}function Ba(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144),t.\u0275\u0275template(1,wa,5,7,"div",197),t.\u0275\u0275template(2,Ma,3,4,"div",197),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.admission_member_id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.admission_member_id))}}function La(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",201),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"CRM")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"CRM")," "))}function Ra(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",203),t.\u0275\u0275text(1,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(1,wt,"update_failed"===(null==e?null:e.is_oscar_updated)||"update_failed"===(null==e?null:e.is_hubspot_updated)||"update_failed"===(null==e?null:e.is_manual_updated),"update_success"===(null==e?null:e.is_oscar_updated)||"update_success"===(null==e?null:e.is_hubspot_updated)||"update_success"===(null==e?null:e.is_manual_updated)))}}function Va(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",144),t.\u0275\u0275template(1,Ra,2,4,"mat-icon",202),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.is_oscar_updated)||(null==e?null:e.is_hubspot_updated)||(null==e?null:e.is_manual_updated))}}function ka(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",204),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Admission doc")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Admission doc")," "))}const Ua=function(n,o,e,i){return{red:n,orange:o,yellow:e,green:i}};function Wa(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"mat-icon",203),t.\u0275\u0275text(1,"lens "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction4(1,Ua,"red"===(null==e?null:e.admission_document_process_status),"orange"===(null==e?null:e.admission_document_process_status),"yellow"===(null==e?null:e.admission_document_process_status),"green"===(null==e?null:e.admission_document_process_status)))}}function Ka(n,o){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1,"-"),t.\u0275\u0275elementContainerEnd())}function $a(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",125),t.\u0275\u0275template(1,Wa,2,6,"mat-icon",202),t.\u0275\u0275template(2,Ka,2,0,"ng-container",8),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",i.getTooltip(null==e?null:e.admission_document_process_status)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.admission_document_process_status),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e&&e.admission_document_process_status))}}function Ha(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",122),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function Ga(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",210),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.openAssignRateProfile(s,"one"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(3,"svg",211),t.\u0275\u0275element(4,"path",212),t.\u0275\u0275elementEnd()()()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Assign Registration Profile")),t.\u0275\u0275property("matTooltipDisabled",!1)("disabled",!i.validateActionButtonRate(e))}}function ja(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",210),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.inCallCandidates(s))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(3,"svg",211),t.\u0275\u0275element(4,"path",213),t.\u0275\u0275elementEnd()()()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Call done")),t.\u0275\u0275property("matTooltipDisabled",!1)("disabled",i.validateActionButtonCall(e))}}function za(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",210),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.triggerAnnouncement(s))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"mark_email_read "),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Send 1st Email Registration")),t.\u0275\u0275property("matTooltipDisabled",!1)("disabled",i.validateActionButtonMail(e))}}function Ya(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",214),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.sendMail(s))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3," send "),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Send an email")),t.\u0275\u0275property("matTooltipDisabled",!1)("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function Qa(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",214),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.openAssignMember(s,"one"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",215),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Transfer to another dev")),t.\u0275\u0275property("matTooltipDisabled",!1)("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function Xa(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",214),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.openTransferAdmission(s,"one"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",216),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Transfer to another program")),t.\u0275\u0275property("matTooltipDisabled",!1)("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function Ja(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",217),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.viewCandidateInfo(s._id))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",218),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"View student card")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)("matTooltipDisabled",!1)}}function Za(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",217),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.viewAdmissionFile(s._id))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(3,"svg",211),t.\u0275\u0275element(4,"path",219),t.\u0275\u0275elementEnd()()()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"See admission file")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)("matTooltipDisabled",!1)}}function qa(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",217),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.reSendMail(s))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(3,"svg",211),t.\u0275\u0275element(4,"path",220),t.\u0275\u0275elementEnd()()()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Re send registration email")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)("matTooltipDisabled",!1)}}const ts=function(n){return{"admission-button":n}};function es(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",221),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.changeStatus(s))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(3,"svg",211),t.\u0275\u0275element(4,"path",222),t.\u0275\u0275elementEnd()()()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Report Inscription +1")),t.\u0275\u0275property("disabled",i.dataSelected&&i.dataSelected.length>0||i.isCheckedAll)("ngClass",t.\u0275\u0275pureFunction1(5,ts,"report_inscription"===(null==e?null:e.candidate_admission_status)))}}function is(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"td",205),t.\u0275\u0275template(1,Ga,5,5,"button",206),t.\u0275\u0275template(2,ja,5,5,"button",206),t.\u0275\u0275template(3,za,4,5,"button",206),t.\u0275\u0275template(4,Ya,4,5,"button",207),t.\u0275\u0275template(5,Qa,3,5,"button",207),t.\u0275\u0275template(6,Xa,3,5,"button",207),t.\u0275\u0275template(7,Ja,3,5,"button",208),t.\u0275\u0275template(8,Za,5,5,"button",208),t.\u0275\u0275template(9,qa,5,5,"button",208),t.\u0275\u0275template(10,es,5,7,"button",209),t.\u0275\u0275elementEnd()),2&n){const e=o.$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.hideActionButtonRate(e)&&i.permissionService.assignRegistrationProfileAdmissionFollowUpPerm()&&i.checkStatusButton(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.hideActionButtonCall(e)&&i.permissionService.firstCallDoneAdmissionFollowUpPerm()&&i.checkStatusButton(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.hideActionButtonMail(e)&&i.permissionService.firstEmailOfAnnoucmentAdmissionFollowUpPerm()&&i.checkStatusButton(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permissionService.sendEmailAdmissionFollowUpAdmissionFollowUpPerm()&&i.checkStatusButton(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.admission_member_id)&&i.permissionService.transferToAnotherDevCandidate()&&i.checkStatusButton(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",("admission_in_progress"===(null==e?null:e.candidate_admission_status)||"engaged"===(null==e?null:e.candidate_admission_status)||"report_inscription"===(null==e?null:e.candidate_admission_status)||"registered"===(null==e?null:e.candidate_admission_status))&&i.permissionService.transferToAnotherProgramAdmissionFollowUpPerm()&&i.checkStatusButton(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permissionService.viewStudentCardAdmissionFollowUpPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.hideActionButtonSeeAdmissionFile(e)&&i.permissionService.viewAdmissionFileAdmissionFollowUpPerm()&&i.checkStatusButton(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.hideActionButtonReSendMail(e)&&i.permissionService.resendRegistrationEmailAdmissionFollowUpPerm()&&i.checkStatusButton(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permissionService.postponeActionInCandidatePerm()&&("registered"===(null==e?null:e.candidate_admission_status)||"report_inscription"===(null==e?null:e.candidate_admission_status))&&i.checkStatusButton(e))}}function ns(n,o){1&n&&(t.\u0275\u0275elementStart(0,"th",223)(1,"div",224),t.\u0275\u0275element(2,"mat-spinner",225),t.\u0275\u0275elementEnd()())}function as(n,o){1&n&&t.\u0275\u0275element(0,"tr",226)}function ss(n,o){1&n&&t.\u0275\u0275element(0,"tr",226)}function ls(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",227),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isLoading)}}function os(n,o){if(1&n&&t.\u0275\u0275element(0,"tr",228),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isLoading)}}const Mt=function(n){return{hide:n}};function rs(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",229),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,Mt,e.isLoading)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"NOT RECORD FOUND")," ")}}const ds=function(){return["loading"]},cs=function(n){return{"hide-pagination-buttons":n}},ps=function(){return[10]},us=[{path:"",component:(()=>{class n{constructor(e,i,s,l,c,_,C,b,h,F,A,N,G,w,B,Dt,Et,gs,Cs){this.candidatesService=e,this.exportCsvService=i,this.authService=s,this.utilService=l,this.studentService=c,this.ngxPermissionService=_,this.userService=C,this.permissionService=b,this.translate=h,this.dialog=F,this.route=A,this.pageTitleService=N,this.router=G,this.permissionsService=w,this.fb=B,this.financeService=Dt,this.parseUtcToLocalPipe=Et,this.httpClient=gs,this.filterBreadCrumbService=Cs,this.displayedColumns=["select","typeFormation","studentNumber","name","nationality","entryWay","studentStatus","profileRate","announcementCall","announcementEmail","connection","personalInfo","methodOfPayment","condition","signature","payment","downPayment","registrationDate","admissionDocument","dueDate","trial_date","devMember","crm","action"],this.filterColumns=["selectFilter","typeFormationFilter","studentNumberFilter","lastNameFilter","nationalityFilter","entryWayFilter","studentStatusFilter","profileRateFilter","announcementCallFilter","announcementEmailFilter","connectionFilter","personalInfoFilter","methodOfPaymentFilter","conditionFilter","signatureFilter","paymentFilter","downPaymentFilter","registrationDateFilter","admissionDocumentFilter","dueDateFilter","trialFilter","devMemberFilter","crmFilter","actionFilter"],this.isCheckedAll=!1,this.isSendAnnouncment=!1,this.admittedFilter=new P.UntypedFormControl(""),this.lastNameFilter=new P.UntypedFormControl(""),this.schoolsFilter=new P.UntypedFormControl(null),this.campusFilter=new P.UntypedFormControl(null),this.levelFilter=new P.UntypedFormControl(null),this.tagFilter=new P.UntypedFormControl(null),this.sectorFilter=new P.UntypedFormControl(null),this.specialityFilter=new P.UntypedFormControl(null),this.typeFilter=new P.UntypedFormControl(""),this.nationalityFilter=new P.UntypedFormControl(null),this.announcementCallFilter=new P.UntypedFormControl(null),this.announcementEmailFilter=new P.UntypedFormControl(null),this.entryWayFilter=new P.UntypedFormControl(null),this.entryWayListFilter=new P.UntypedFormControl(""),this.profileRateFilter=new P.UntypedFormControl(null),this.engagementLevelFilter=new P.UntypedFormControl(""),this.studentStatusFilter=new P.UntypedFormControl(null),this.connectionFilter=new P.UntypedFormControl(null),this.personalInfoFilter=new P.UntypedFormControl(null),this.signatureFilter=new P.UntypedFormControl(null),this.paymentMethodFilter=new P.UntypedFormControl(null),this.paymentFilter=new P.UntypedFormControl(null),this.downPaymentFilter=new P.UntypedFormControl(null),this.whatsappFilter=new P.UntypedFormControl(""),this.mentorFilter=new P.UntypedFormControl(""),this.devMemberFilter=new P.UntypedFormControl(""),this.openHouseDayParticipationFilter=new P.UntypedFormControl(""),this.jobMeetingParticipationFilter=new P.UntypedFormControl(""),this.scholarFilter=new P.UntypedFormControl("All"),this.conditionFilter=new P.UntypedFormControl(null),this.studentNumberFilter=new P.UntypedFormControl(""),this.dueDateFilter=new P.UntypedFormControl(null),this.registrationDateFilter=new P.UntypedFormControl(null),this.trialDateCtrl=new P.UntypedFormControl(null),this.admittedFilterList=[],this.typeFilterList=[{value:"All",key:"AllS"},{value:"classic",key:"Classic"},{value:"alternance",key:"Alternance"},{value:"special",key:"Special"}],this.nationalityFilterList=[],this.backupEntryWayFilterList=[],this.backupProfileList=[],this.announcementCallFilterList=[],this.announcementEmailFilterList=[],this.entryWayFilterList=[],this.trialDateList=[],this.profileRateFilterList=[],this.engagementLevelFilterList=[{value:"AllM",key:"AllM"},{value:"lost",key:"Lost"},{value:"low",key:"Low"},{value:"medium",key:"Medium"},{value:"high",key:"High"},{value:"registered",key:"Registered"}],this.studentStatusFilterList=[],this.connectionFilterList=[],this.personalInfoFilterList=[],this.identificationPapersFilterList=[{value:"AllF",key:"AllF"},{value:"done",key:"Done"},{value:"not_done",key:"Not done"}],this.studiesJustificationFilterList=[{value:"AllF",key:"AllF"},{value:"done",key:"Done"},{value:"not_done",key:"Not done"}],this.contactsFilterList=[{value:"AllM",key:"AllM"},{value:"done",key:"Done"},{value:"not_done",key:"Not done"}],this.signatureFilterList=[],this.paymentMethodFilterList=[],this.downPaymentFilterList=[],this.paymentFilterList=[{value:"AllM",key:"AllM"},{value:"paid",key:"Paid"},{value:"not_paid",key:"Not paid"},{value:"partialy_paid",key:"Partially paid"},{value:"pending",key:"pending"},{value:"not_authorized",key:"Rejected"}],this.DPFilterList=[],this.whatsappFilterList=[{value:"All",key:"AllM"},{value:!0,key:"Yes phone is Whatsapp"},{value:!1,key:"No phone is Whatsapp"}],this.openHouseDayParticipationFilterList=[{value:"AllF",key:"AllF"},{value:!0,key:"Yes"},{value:!1,key:"No"}],this.jobMeetingParticipationFilterList=[{value:"AllF",key:"AllF"},{value:!0,key:"Yes"},{value:!1,key:"No"}],this.filterTrialDate={candidate_admission_statuses:["admission_in_progress","bill_validated","engaged","registered","resigned","resigned_after_engaged","resigned_after_registered","report_inscription","in_scholarship","mission_card_validated","resignation_missing_prerequisites","resign_after_school_begins","no_show"]},this.candidate_admission_statuses=["admission_in_progress","bill_validated","engaged","registered","resigned","resigned_after_engaged","resigned_after_registered","report_inscription","in_scholarship","mission_card_validated","resignation_missing_prerequisites","resign_after_school_begins","no_show"],this.filteredValues={candidate_admission_statuses:["admission_in_progress","bill_validated","engaged","registered","resigned","resigned_after_engaged","resigned_after_registered","report_inscription","in_scholarship","mission_card_validated","resignation_missing_prerequisites","resign_after_school_begins","no_show"],candidate_unique_number:"",candidate_admission_status:null,registration_profile_status:null,registration_profile_statuses:null,payment:null,registration_email_due_date:"",registered_at:"",is_admitted:null,type_of_formation_name:"classic",candidate:"",nationality:"",announcement_call:"",registration_email_date:"",intake_channel:"",registration_profile:null,engagement_level:"",connection:"",personal_information:"",identificationPapers:"",studiesJustification:"",contacts:"",signature:"",method_of_payment:"",is_deposit_paid:"",student_mentor:"",admission_member:"",is_whatsapp:null,diploma_status:null,participate_in_open_house_day:null,participate_in_job_meeting:null,payment_method:"",is_oscar_updated:"",admission_document_process_status:null,scholar_season:"",school:"",campus:"",level:"",tags:"",sectors:"",specialities:"",payments:null,is_deposit_paids:null,nationalities:null,intake_channels:null,announcement_calls:null,registration_email_dates:null,connections:null,personal_informations:null,is_admitteds:null,signatures:null,payment_methods:null,method_of_payments:null,diploma_statuses:null,admission_document_process_statuses:null,is_oscar_updateds:null},this.filteredValuesSuperFilter={scholar_season:"",school:"",campus:"",level:"",tags:"",sectors:"",specialities:""},this.searching={trial_date:"",trial_dates:null},this.maleIcon="../../../../../assets/img/student_icon.png",this.femaleIcon="../../../../../assets/img/student_icon_fem.png",this.greenHeartIcon="../../../../../assets/img/enagement_icon_green.png",this.flagsIconPath="../../../../../assets/icons/flags-nationality/",this.shieldAccountIcon="../../../../../assets/img/shield-account.png",this.neutralStudentIcon="../../../../../assets/img/student_icon_neutral.png",this.dataSource=new j.by([]),this.selection=new D.Ov(!0,[]),this.dataCount=0,this.disabledExport=!0,this.isSameData=!1,this.subs=new q.Y,this.isReset=!1,this.dataLoaded=!1,this.sortValue=null,this.titleList=[],this.originalTitleList=[],this.originalNationalityList=[],this.schoolList=[],this.originalCandidateList=[],this.allStudentForExport=[],this.allStudentForCustom=[],this.assignMemberButton="",this.assignMentorButton="",this.who="",this.type="",this.isDifferentMember=!1,this.isDifferentMentor=!1,this.isDifferentIntakeChannel=!1,this.isDifferentAnnoucement=!1,this.isFirstCallActive=!1,this.isFirstMailActive=!1,this.isDirectorAdmission=!1,this.isMemberAdmission=!1,this.isProfileRateActive=!1,this.isEmailSent=!1,this.isCRMOk=!1,this.serverimgPath=`${E.a.baseApi}/fileuploads/`.replace("/graphql",""),this.campusList=[],this.sectorList=[],this.specialityList=[],this.listObjective=[],this.tagList=[],this.levels=[],this.school=[],this.scholars=[],this.originalScholar=[],this.scholarSelected=[],this.isHasRegistrationProfileandCallNotDone=!1,this.isNoRegistrationProfileandCallNotDone=!1,this.isHasRegistrationProfile=!1,this.isRegistrationProfileDone=!1,this.showMultipleCall=!0,this.allCandidateData=[],this.crmFilter=new P.UntypedFormControl(null),this.admissionDocumentFilter=new P.UntypedFormControl(null),this.isWasSelectAll=!1,this.isWasRegistered=!1,this.listCrm=[],this.listDiploma=[],this.listAdmission=[],this.previousLength=0,this.allStudentForCheckbox=[],this.allRegisForCheckbox=[],this.allAnnoucmentForCheckbox=[],this.allCallForCheckbox=[],this.allCRMForCheckbox=[],this.allEmailForCheckbox=[],this.allMemberForCheckbox=[],this.allExportForCheckbox=[],this.dataSelected=[],this.listRegistrationProfile=[],this.sepaLogo="../../../../../assets/img/sepa-wt-logo.png",this.campusListBackup=[],this.levelListBackup=[],this.schoolName="",this.campusName="",this.levelName="",this.dataUnselectUser=[],this.buttonClicked="",this.isDisabled=!0,this.filterBreadcrumbData=[],this.tempDataFilter={nationality:null,downPayments:null,intakeChannels:null,status:null,announcementCall:null,announcementEmail:null,connections:null,identity:null,conditions:null,schoolContract:null,downPaymentMethod:null,paymentMethods:null,admissionDocumentStatus:null,oscarStatus:null,trialDates:null,registrationProfile:null},this.filteredValuesAll={nationalities:"All",intake_channels:"All",registration_profile:"All",announcement_calls:"All",candidate_admission_status:["All"],candidate_admission_statuses:["All"],school:["All"],campus:["All"],level:["All"],candidate_campuses:"All",candidate_levels:"All",sectors:["All"],specialities:["All"],is_oscar_updateds:"All",admission_document_process_statuses:"All",diploma_statuses:"All",is_deposit_paids:"All",payment_methods:"All",signatures:"All",method_of_payments:"All",personal_informations:"All",registration_email_dates:"All",connections:"All",diploma_status:"All",payment:"All",is_deposit_paid:"All",payment_method:"All",signature:"All",trial_dates:"All",is_admitteds:"All",registration_email_date:"All"}}ngOnInit(){this.getDPFilterList(),this.getStudentStatusFilterList(),this.getAnnouncementCall(),this.currentUser=this.authService.getLocalStorageUser(),this.isPermission=this.authService.getPermission();const e=this.currentUser?.entities?.find(s=>s?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id,this.initFilterForm();const i=this.route.snapshot.queryParamMap.get("pop");i&&"six"===i&&this.openTransferCampus("",""),this.isDirectorAdmission=!!this.permissionsService.getPermission("Director of Admissions"),this.isMemberAdmission=!!this.permissionsService.getPermission("Member Admission"),this.getDataNAtionality(),this.getDataTags(),this.initFilter(),this.getCandidatesData("First"),this.getAllIntakeChannelDropdown(),this.getAllRegistrationProfileDropdown(),this.assignMemberButton=this.translate.instant("Assign dev member"),this.assignMentorButton=this.translate.instant("Assign mentor"),this.subs.sink=this.translate.onLangChange.subscribe(s=>{this.scholars=[],this.scholars=this.originalScholar.sort((l,c)=>l.scholar_season>c.scholar_season?1:c.scholar_season>l.scholar_season?-1:0),this.assignText(this.type,this.who),this.trialDateCtrl.value&&("All"===this.trialDateCtrl.value.trim()||"Tous"===this.trialDateCtrl.value.trim())&&!this.searching.trial_date&&this.trialDateCtrl.patchValue(this.translate.instant("All")),this.refetchDataScholarSeasons(),this.getDPFilterList(),this.getStudentStatusFilterList(),this.getAnnouncementCall(),this.getAllRegistrationProfileDropdown()}),this.getDataScholarSeasons(),this.getTrialDate(),this.getAllProfileRate(),this.scholarFilter&&this.scholarFilter.value&&this.getDataForList("All"!==this.scholarFilter.value?this.scholarFilter.value:""),this.pageTitleService.setTitle("List of Candidates")}getAnnouncementCall(){this.listCrm=[{key:"OK",value:"ok",label:this.translate.instant("OK")},{key:"NOT_OK",value:"not_ok",label:this.translate.instant("NOT_OK")}],this.listAdmission=[{key:"Completed",value:"green",label:this.translate.instant("Completed")},{key:"Rejected by the validator",value:"red",label:this.translate.instant("Rejected by the validator")},{key:"In progress",value:"yellow",label:this.translate.instant("in_progress")},{key:"Waiting for validation",value:"orange",label:this.translate.instant("Waiting for validation")}],this.listDiploma=[{key:"yes",value:"yes",label:this.translate.instant("yes")},{key:"no",value:"no",label:this.translate.instant("no")},{key:"retake",value:"retake",label:this.translate.instant("retake")},{key:"sent",value:"sent",label:this.translate.instant("sent")}],this.paymentMethodFilterList=[{value:"not_done",key:"not_done",label:this.translate.instant("not_done")},{value:"check",key:"Check",label:this.translate.instant("Check")},{value:"transfer",key:"Transfer",label:this.translate.instant("Transfer")},{value:"credit_card",key:"Credit card",label:this.translate.instant("Credit card")},{value:"sepa",key:"SEPA",label:this.translate.instant("SEPA")},{value:"cash",key:"Cash",label:this.translate.instant("Cash")}],this.downPaymentFilterList=[{value:"not_done",key:"not_done",label:this.translate.instant("not_done")},{value:"check",key:"Check",label:this.translate.instant("Check")},{value:"transfer",key:"Transfer",label:this.translate.instant("Transfer")},{value:"credit_card",key:"Credit card",label:this.translate.instant("Credit card")},{value:"sepa",key:"SEPA",label:this.translate.instant("SEPA")},{value:"cash",key:"Cash",label:this.translate.instant("Cash")}],this.signatureFilterList=[{value:"done",key:"Done",label:this.translate.instant("Done")},{value:"not_done",key:"Not done",label:this.translate.instant("Not done")}],this.admittedFilterList=[{value:!0,key:"Done",label:this.translate.instant("Done")},{value:!1,key:"Not done",label:this.translate.instant("Not done")}],this.connectionFilterList=[{value:"done",key:"Done",label:this.translate.instant("Done")},{value:"not_done",key:"Not done",label:this.translate.instant("Not done")}],this.personalInfoFilterList=[{value:"done",key:"Done",label:this.translate.instant("Done")},{value:"not_done",key:"Not done",label:this.translate.instant("Not done")}],this.announcementCallFilterList=[{value:"done",key:"Done",label:this.translate.instant("Done")},{value:"not_done",key:"Not done",label:this.translate.instant("Not done")}],this.announcementEmailFilterList=[{value:"not_done",key:"Not sent",label:this.translate.instant("Not sent")},{value:"today",key:"Today",label:this.translate.instant("Today")},{value:"yesterday",key:"Yesterday",label:this.translate.instant("Yesterday")},{value:"last_7_days",key:"Last 7 days",label:this.translate.instant("Last 7 days")},{value:"last_30_days",key:"Last 30 days",label:this.translate.instant("Last 30 days")},{value:"this_month",key:"This month",label:this.translate.instant("This month")}],this.announcementCallFilterList=this.announcementCallFilterList.sort((e,i)=>e.label.toLowerCase().localeCompare(i.label.toLowerCase()))}getStudentStatusFilterList(){this.studentStatusFilterList=[{value:"admission_in_progress",key:"Admitted",label:this.translate.instant("Admitted")},{value:"bill_validated",key:"Bill validated",label:this.translate.instant("Bill validated")},{value:"engaged",key:"Engaged",label:this.translate.instant("Engaged")},{value:"no_show",key:"no_show",label:this.translate.instant("no_show")},{value:"resign_after_school_begins",key:"resign_after_school_begins",label:this.translate.instant("resign_after_school_begins")},{value:"registered",key:"Registered",label:this.translate.instant("Registered")},{value:"resigned",key:"Resigned",label:this.translate.instant("Resigned")},{value:"mission_card_validated",key:"mission_card_validated",label:this.translate.instant("mission_card_validated")},{value:"resigned_after_engaged",key:"Resigned after engaged",label:this.translate.instant("Resigned after engaged")},{value:"resigned_after_registered",key:"Resign after registered",label:this.translate.instant("Resign after registered")},{value:"report_inscription",key:"Report Inscription +1",label:this.translate.instant("Report Inscription +1")},{value:"in_scholarship",key:"in_scholarship",label:this.translate.instant("in_scholarship")},{value:"resignation_missing_prerequisites",key:"resignation_missing_prerequisites",label:this.translate.instant("resignation_missing_prerequisites")}],this.studentStatusFilterList=this.studentStatusFilterList.sort((e,i)=>e.label.toLowerCase().localeCompare(i.label.toLowerCase()))}getDPFilterList(){this.DPFilterList=[{value:"paid",key:"Paid",label:this.translate.instant("DP_Status.paid")},{value:"not_paid",key:"Not Paid",label:this.translate.instant("DP_Status.not_paid")},{value:"pending",key:"Pending",label:this.translate.instant("DP_Status.pending")},{value:"not_authorized",key:"Rejected",label:this.translate.instant("DP_Status.rejected")},{value:"billed",key:"Billed",label:this.translate.instant("DP_Status.billed")},{value:"not_billed",key:"Not billed",label:this.translate.instant("DP_Status.not_billed")},{value:"partialy_paid",key:"Partially paid",label:this.translate.instant("DP_Status.partialy_paid")}],this.DPFilterList=this.DPFilterList.sort((e,i)=>e.label.toLowerCase().localeCompare(i.label.toLowerCase()))}getTrialDate(){this.subs.sink=this.candidatesService.GetAllTrialDateOfCandidateFollowUP(this.filterTrialDate.candidate_admission_statuses).subscribe(e=>{e&&e.length&&(this.trialDateList=f.cloneDeep(e),this.trialDateList=this.trialDateList.map(i=>({value:i,label:i})))},e=>{this.authService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():e&&e.message&&e.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}assignText(e,i){this.type=e,this.who=i,"all"===i?"top"===e?(this.assignMemberButton=this.translate.instant("Assign dev member"),this.assignMentorButton=this.translate.instant("Assign mentor")):(this.assignMemberButton=this.translate.instant("Transfer the file to another dev member"),this.assignMentorButton=this.translate.instant("Change mentor")):"member"===i?this.assignMemberButton=this.translate.instant("top"===e?"Assign dev member":"Transfer the file to another dev member"):"mentor"===i&&(this.assignMentorButton=this.translate.instant("top"===e?"Assign mentor":"Change mentor"))}ngOnDestroy(){this.subs.unsubscribe(),this.pageTitleService.setTitle(null)}ngOnChanges(){}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,L.O)(null),(0,W.b)(()=>{this.isReset||this.getCandidatesData("AfterViewInit"),this.dataLoaded=!0})).subscribe()}getCandidatesData(e){console.log("ini scholar getcandidate",this.scholarFilter.value),this.dataSource.data=[],this.paginator.length=0,this.dataCount=0,this.isLoading=!0;const i={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},s=this.cleanFilterData();this.subs.sink=this.candidatesService.getAllCandidatesFITable(i,this.sortValue,s,this.searching,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(c=>{c&&c.length?(this.dataSource.data=c,this.paginator.length=c[0].count_document,this.dataCount=c[0].count_document,this.isLoading=!1):(this.dataSource.data=[],this.paginator.length=0,this.dataCount=0,this.isLoading=!1),this.noData=this.dataSource.connect().pipe((0,d.U)(_=>0===_.length)),this.isReset=!1,this.isLoading=!1,this.filterBreadcrumbData=[],this.filterBreadcrumbFormat()},c=>{this.isLoading=!1,this.authService.postErrorLog(c),c&&c.message&&(c.message.includes("jwt expired")||c.message.includes("str & salt required")||c.message.includes("Authorization header is missing")||c.message.includes("salt"))?this.authService.handlerSessionExpired():c&&c.message&&c.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:c&&c.message?this.translate.instant(c.message.replaceAll("GraphQL error: ","")):c,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDataNAtionality(){this.cleanFilterData(),this.subs.sink=this.candidatesService.GetAllCandidateNationalities().subscribe(s=>{s?(this.nationalityFilterList=s.filter(l=>l),this.nationalityFilterList=this.nationalityFilterList.map(l=>({value:l,label:l}))):this.nationalityFilterList=[]},s=>{this.nationalityFilterList=[],this.authService.postErrorLog(s),s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt"))?this.authService.handlerSessionExpired():s&&s.message&&s.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("sortData"))}initFilterForm(){this.filterForm=this.fb.group({schools:[null],campuses:[null],levels:[null]})}initFilter(){this.subs.sink=this.studentNumberFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{e?(this.filteredValues.candidate_unique_number=e,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("studentNumberFilter")):(this.filteredValues.candidate_unique_number="",this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("studentNumberFilter"))}),this.subs.sink=this.lastNameFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{e?(this.filteredValues.candidate=e||"",this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("lastNameFilter")):(this.filteredValues.candidate="",this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("lastNameFilter"))}),this.subs.sink=this.mentorFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{e?(this.filteredValues.student_mentor=e||"",this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("mentorFilter")):(this.filteredValues.student_mentor="",this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("mentorFilter"))}),this.subs.sink=this.devMemberFilter.valueChanges.pipe((0,H.b)(600)).subscribe(e=>{e?(this.filteredValues.admission_member=e||"",this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("devMemberFilter")):(this.filteredValues.admission_member="",this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("devMemberFilter"))}),this.subs.sink=this.typeFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{!e||e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.filteredValues.type_of_formation_name="classic",this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("typeFilter")):(this.filteredValues.type_of_formation_name=e,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("typeFilter 1"))}),this.subs.sink=this.dueDateFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{if(e){const i=y(e).format("DD/MM/YYYY");this.filteredValues.registration_email_due_date=i,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("due_date")}}),this.subs.sink=this.registrationDateFilter.valueChanges.pipe((0,H.b)(400)).subscribe(e=>{if(e){const i=y(e).format("DD/MM/YYYY");this.filteredValues.registered_at=i,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("due_date")}}),this.subs.sink=this.engagementLevelFilter.valueChanges.subscribe(e=>{this.filteredValues.engagement_level="AllM"===e?"":e,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("engagementLevelFilter")}),this.subs.sink=this.whatsappFilter.valueChanges.subscribe(e=>{this.filteredValues.is_whatsapp="All"===e?"":e,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("whatsappFilter")}),this.subs.sink=this.openHouseDayParticipationFilter.valueChanges.subscribe(e=>{this.filteredValues.participate_in_open_house_day="AllF"===e?"":e,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("openHouseDayParticipationFilter")}),this.subs.sink=this.jobMeetingParticipationFilter.valueChanges.subscribe(e=>{this.filteredValues.participate_in_job_meeting="AllF"===e?"":e,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("jobMeetingParticipationFilter")}),this.subs.sink=this.schoolsFilter.valueChanges.subscribe(e=>{this.filteredValuesSuperFilter.level="",this.filteredValuesSuperFilter.campus="",this.filteredValuesSuperFilter.school=""===e?"":e,this.filteredValuesSuperFilter.school&&(0===this.filteredValuesSuperFilter.school.length||this.filteredValuesSuperFilter.school.includes("AllF"))&&(this.campusName="",this.levelName=""),this.isDisabled=!1}),this.subs.sink=this.campusFilter.valueChanges.subscribe(e=>{this.filteredValuesSuperFilter.level="",this.filteredValuesSuperFilter.campus=""===e?"":e,this.filteredValuesSuperFilter.campus&&(0===this.filteredValuesSuperFilter.campus.length||this.filteredValuesSuperFilter.campus.includes("AllF"))&&(this.levelName=""),this.isDisabled=!1}),this.subs.sink=this.levelFilter.valueChanges.subscribe(e=>{this.filteredValuesSuperFilter.level=""===e?"":e,this.isDisabled=!1}),this.subs.sink=this.tagFilter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.filteredValuesSuperFilter.tags=""===e||e&&e.includes("All")?"":e}),this.subs.sink=this.sectorFilter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.filteredValuesSuperFilter.sectors=""===e||e&&e.includes("AllF")?"":e}),this.subs.sink=this.specialityFilter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.filteredValuesSuperFilter.specialities=""===e||e&&e.includes("AllF")?"":e}),this.subs.sink=this.scholarFilter.valueChanges.subscribe(e=>{this.filteredValuesSuperFilter.level="",this.filteredValuesSuperFilter.campus="",this.filteredValuesSuperFilter.school="",this.filteredValuesSuperFilter.scholar_season="All"===e?"":e,(!this.filteredValuesSuperFilter.scholar_season||"AllF"===this.filteredValuesSuperFilter.scholar_season)&&(this.campusName="",this.schoolName="",this.levelName=""),this.isDisabled=!1})}applySuperFilter(){this.filteredValues={...this.filteredValues,scholar_season:this.filteredValuesSuperFilter&&"AllF"!==this.filteredValuesSuperFilter.scholar_season?this.filteredValuesSuperFilter.scholar_season:null,school:this.filteredValuesSuperFilter&&this.filteredValuesSuperFilter.school&&!this.filteredValuesSuperFilter.school.includes("AllF")?this.filteredValuesSuperFilter.school:null,campus:this.filteredValuesSuperFilter&&this.filteredValuesSuperFilter.campus&&!this.filteredValuesSuperFilter.campus.includes("AllF")?this.filteredValuesSuperFilter.campus:null,level:this.filteredValuesSuperFilter&&this.filteredValuesSuperFilter.level&&!this.filteredValuesSuperFilter.level.includes("AllF")?this.filteredValuesSuperFilter.level:null,tags:this.filteredValuesSuperFilter&&this.filteredValuesSuperFilter.tags&&!this.filteredValuesSuperFilter.tags.includes("All")?this.filteredValuesSuperFilter.tags:null,sectors:this.filteredValuesSuperFilter?.sectors&&!this.filteredValuesSuperFilter.sectors?.includes("AllF")?this.filteredValuesSuperFilter.sectors:null,specialities:this.filteredValuesSuperFilter?.specialities&&!this.filteredValuesSuperFilter.specialities?.includes("AllF")?this.filteredValuesSuperFilter.specialities:null},this.clearSelectIfFilter(),this.paginator.pageIndex=0,this.isDisabled=!0,this.getCandidatesData("superFilter")}resetSelection(){this.disabledExport=!0,this.selection.clear(),this.dataSelected=[],this.dataUnselectUser=[],this.allRegisForCheckbox=[],this.allAnnoucmentForCheckbox=[],this.allCallForCheckbox=[],this.allCRMForCheckbox=[],this.allEmailForCheckbox=[],this.allMemberForCheckbox=[],this.allExportForCheckbox=[],this.isCheckedAll=!1}resetCandidate(){this.resetSelection(),this.isReset=!0,this.filterBreadcrumbData=[],this.paginator.pageIndex=0,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.schoolName="",this.campusName="",this.levelName="",this.filteredValues={candidate_admission_statuses:["admission_in_progress","bill_validated","engaged","registered","resigned","resigned_after_engaged","resigned_after_registered","report_inscription","in_scholarship","mission_card_validated","resignation_missing_prerequisites","resign_after_school_begins","no_show"],payment:null,candidate_admission_status:null,registration_profile_status:null,registration_profile_statuses:null,candidate_unique_number:"",registration_email_due_date:"",registered_at:"",is_admitted:null,candidate:"",type_of_formation_name:"classic",nationality:"",announcement_call:"",registration_email_date:"",intake_channel:"",registration_profile:null,engagement_level:"",connection:"",personal_information:"",identificationPapers:"",studiesJustification:"",contacts:"",signature:"",method_of_payment:"",is_deposit_paid:"",student_mentor:"",admission_member:"",is_whatsapp:null,diploma_status:null,participate_in_open_house_day:null,participate_in_job_meeting:null,payment_method:"",is_oscar_updated:"",admission_document_process_status:null,school:"",campus:"",level:"",tags:"",scholar_season:"",sectors:"",specialities:"",payments:null,is_deposit_paids:null,nationalities:null,intake_channels:null,announcement_calls:null,registration_email_dates:null,connections:null,personal_informations:null,is_admitteds:null,signatures:null,payment_methods:null,method_of_payments:null,diploma_statuses:null,admission_document_process_statuses:null,is_oscar_updateds:null},this.filteredValuesSuperFilter={tags:"",school:"",campus:"",level:"",scholar_season:"",sectors:"",specialities:""},this.schoolsFilter.setValue(null),this.campusFilter.setValue(null),this.levelFilter.setValue(null),this.tagFilter.setValue(null),this.scholarFilter.setValue("All"),this.sectorFilter.setValue(null),this.specialityFilter.setValue(null),this.lastNameFilter.setValue(""),this.admittedFilter.setValue("All"),this.typeFilter.setValue(""),this.nationalityFilter.setValue(null),this.announcementCallFilter.setValue(null),this.announcementEmailFilter.setValue(null),this.entryWayFilter.setValue(null),this.entryWayListFilter.setValue(""),this.profileRateFilter.setValue(null),this.engagementLevelFilter.setValue(""),this.connectionFilter.setValue(null),this.personalInfoFilter.setValue(null),this.signatureFilter.setValue(null),this.paymentMethodFilter.setValue(null),this.paymentFilter.setValue(null),this.devMemberFilter.setValue(""),this.mentorFilter.setValue(""),this.whatsappFilter.setValue("All"),this.conditionFilter.setValue(null),this.openHouseDayParticipationFilter.setValue("AllF"),this.jobMeetingParticipationFilter.setValue("AllF"),this.downPaymentFilter.setValue(null),this.studentNumberFilter.setValue(""),this.studentStatusFilter.setValue(null),this.dueDateFilter.setValue(""),this.registrationDateFilter.setValue(""),this.crmFilter.setValue(null),this.admissionDocumentFilter.setValue(null),this.searching={trial_date:"",trial_dates:null},this.trialDateCtrl.setValue(null),this.selectType="",this.sort.direction="",this.sort.active="",this.sortValue=null,this.isHasRegistrationProfileandCallNotDone=!1,this.isNoRegistrationProfileandCallNotDone=!1,this.isHasRegistrationProfile=!1,this.getDataNAtionality(),this.getCandidatesData("resetCandidate"),this.school=[],this.campusList=[],this.levels=[],this.sectorList=[],this.specialityList=[],this.isDisabled=!0,this.scholarFilter&&this.scholarFilter.value&&this.getDataForList("All"!==this.scholarFilter.value?this.scholarFilter.value:""),this.tempDataFilter={nationality:null,downPayments:null,intakeChannels:null,status:null,announcementCall:null,announcementEmail:null,connections:null,identity:null,conditions:null,schoolContract:null,downPaymentMethod:null,paymentMethods:null,admissionDocumentStatus:null,oscarStatus:null,trialDates:null,registrationProfile:null}}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}isSomeSelected(){return this.selection.selected.length>0}masterToggle(){this.isAllSelected()?(this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!1,this.allCandidateData=[],this.dataUnselectUser=[],this.allStudentForCheckbox=[],this.allRegisForCheckbox=[],this.allAnnoucmentForCheckbox=[],this.allCallForCheckbox=[],this.allCRMForCheckbox=[],this.allEmailForCheckbox=[],this.allMemberForCheckbox=[],this.allExportForCheckbox=[]):(this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!0,this.allCandidateData=[],this.dataUnselectUser=[],this.allStudentForCheckbox=[],this.allRegisForCheckbox=[],this.allAnnoucmentForCheckbox=[],this.allCallForCheckbox=[],this.allCRMForCheckbox=[],this.allEmailForCheckbox=[],this.allMemberForCheckbox=[],this.allExportForCheckbox=[],this.dataSource.data.forEach(e=>{this.dataUnselectUser.includes(e._id)||this.selection.select(e._id)}))}getDataAllForCheckbox(e,i){const s={limit:300,page:e};this.isLoading=!0;const l=this.cleanFilterData();this.subs.sink=this.candidatesService.getAllCandidatesFICheckbox(s,this.sortValue,l,this.searching,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(_=>{_&&_.length?(this.allStudentForCheckbox.push(..._),this.allCandidateData.push(..._),this.getDataAllForCheckbox(e+1,i)):(console.log("getDataAllForCheckbox",this.selection,this.isCheckedAll),this.isLoading=!1,this.isCheckedAll&&this.allStudentForCheckbox&&this.allStudentForCheckbox.length&&this.allStudentForCheckbox.forEach(C=>{this.selection.select(C._id),this.dataSelected.push(C)}))},_=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(_),S().fire({type:"info",title:this.translate.instant("SORRY"),text:_&&_.message?this.translate.instant(_.message.replaceAll("GraphQL error: ","")):_,confirmButtonText:this.translate.instant("OK")})})}getDataTags(){this.subs.sink=this.candidatesService.getAllTags(!0,"admission_fi",this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[],this.candidate_admission_statuses).subscribe(i=>{i&&i.length&&(this.tagList=i,this.tagList=this.tagList.sort((s,l)=>this.utilService.simplifyRegex(s.name?.toLowerCase())<this.utilService.simplifyRegex(l.name?.toLowerCase())?-1:this.utilService.simplifyRegex(s.name?.toLowerCase())>this.utilService.simplifyRegex(l.name?.toLowerCase())?1:0))},i=>{this.authService.postErrorLog(i),i&&i.message&&(i.message.includes("jwt expired")||i.message.includes("str & salt required")||i.message.includes("Authorization header is missing")||i.message.includes("salt"))?this.authService.handlerSessionExpired():i&&i.message&&i.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}triggerAnnouncement(e){let i=[];e&&e._id?i=[e]:(i=this.dataSelected&&this.dataSelected.length?this.dataSelected:this.selection.selected,i=f.uniqBy(i,"_id")),this.sendEmailValidatorDialogComponent=this.dialog.open(p.k,{width:"800px",minHeight:"300px",panelClass:"no-padding",disableClose:!0,data:{data:i,isNeedValidator:!1,isResendMail:!1,isFc:!1,isReadmission:!1}}),this.subs.sink=this.sendEmailValidatorDialogComponent.afterClosed().subscribe(s=>{s&&(this.resetSelection(),this.getCandidatesData("afterAssignRateProfile")),this.sendEmailValidatorDialogComponent=null})}getAllIntakeChannelDropdown(){this.subs.sink=this.candidatesService.getIntakeChannelDropdown().subscribe(e=>{e&&e.length&&(this.entryWayFilterList=f.cloneDeep(e),this.backupEntryWayFilterList=f.cloneDeep(e))},e=>{this.authService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():e&&e.message&&e.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getAllRegistrationProfileDropdown(){this.subs.sink=this.financeService.GetListProfileRatesDropdown().subscribe(e=>{if(e&&e.length){this.profileRateFilterList=f.cloneDeep(e),this.backupProfileList=f.cloneDeep(e);const i=[{_id:"affected",name:this.translate.instant("Affected")},{_id:"not_affected",name:this.translate.instant("Not affected")}];this.profileRateFilterList=i.concat(this.profileRateFilterList),this.profileRateFilterList=f.uniqBy(this.profileRateFilterList,"_id")}},e=>{this.authService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():e&&e.message&&e.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}sendAnnoucmentAll(e){this.isSendAnnouncment=!1;const s=f.cloneDeep(e).map(c=>c._id);let l="";for(const c of e)l=l?l+", "+(c?"neutral"!==c.civility?this.translate.instant(c.civility)+" "+c.first_name+" "+c.last_name:c.first_name+" "+c.last_name:""):c?"neutral"!==c.civility?this.translate.instant(c.civility)+" "+c.first_name+" "+c.last_name:c.first_name+" "+c.last_name:"";this.subs.sink=this.candidatesService.SendRegistrationN1(s).subscribe(c=>{S().fire({type:"success",title:this.translate.instant("CANDIDAT_S2.TITLE"),html:this.translate.instant("CANDIDAT_S2.TEXT",{candidateName:l}),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S2.BUTTON")}).then(()=>{this.isLoading=!1,this.resetSelection(),this.getCandidatesData("afterAssignRateProfile")})},c=>{this.isLoading=!1,this.authService.postErrorLog(c),c&&c.message&&(c.message.includes("jwt expired")||c.message.includes("str & salt required")||c.message.includes("Authorization header is missing")||c.message.includes("salt"))?this.authService.handlerSessionExpired():c&&c.message&&c.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:c&&c.message?this.translate.instant(c.message.replaceAll("GraphQL error: ","")):c,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showOptions(e,i){if(this.isCheckedAll){if(i)if(this.dataUnselectUser.includes(i._id)){const c=this.dataUnselectUser.findIndex(_=>_===i._id);this.dataUnselectUser.splice(c,1),this.selection.select(i._id)}else this.dataUnselectUser.push(i._id),this.selection.deselect(i._id)}else if(i)if(this.dataSelected&&this.dataSelected.length){const c=this.dataSelected.filter(_=>_._id===i._id);if(c&&c.length<1)this.dataSelected.push(i);else{const _=this.dataSelected.findIndex(C=>C._id===i._id);this.dataSelected.splice(_,1)}}else this.dataSelected.push(i);const s=this.selection.selected.length;"all"===e&&(this.isWasSelectAll=!0),s>0?this.disabledExport=!1:(this.disabledExport=!0,this.isWasSelectAll=!1),this.selectType=e;const l=this.dataSelected&&this.dataSelected.length?this.dataSelected:this.selection.selected;if(this.dataSelected.length>0){if(this.isHasRegistrationProfileandCallNotDone=l.filter(h=>"not_done"===h.announcement_call||!h.registration_profile).length>0,this.dataSelected.length>0&&(this.isHasRegistrationProfile=l.filter(F=>"done"===F.announcement_call&&F.registration_profile).length>0),this.dataSelected.length>0&&(this.isRegistrationProfileDone=l.filter(F=>F.registration_profile).length>0),this.dataSelected.length>0&&(this.isNoRegistrationProfileandCallNotDone=l.filter(F=>"not_done"===F.announcement_call&&!F.registration_profile).length>0),l&&l.length){const h=l.filter(B=>B.admission_member_id);if(h&&h.length)if(h.length===l.length){const B=f.uniqBy(h,"admission_member_id._id");this.assignText("bottom","member"),this.isDifferentMember=!!(B&&B.length>1)}else this.isDifferentMember=!0;else this.assignText("top","member"),this.isDifferentMember=!1;const F=l.filter(B=>B.student_mentor_id);if(F&&F.length)if(F.length===l.length){this.assignText("bottom","mentor");const B=f.uniqBy(F,"student_mentor_id._id");this.isDifferentMentor=!!(B&&B.length>1)}else this.isDifferentMentor=!0;else this.assignText("top","mentor"),this.isDifferentMentor=!1;const A=l.filter(B=>{if(!B.announcement_email.sent_date&&!B.announcement_email.sent_time)return B});this.isDifferentAnnoucement=!A||!A.length||A.length!==l.length;const N=l.filter(B=>{if(null===B.registration_profile)return B});this.isEmailSent=!N||!N.length||N.length!==l.length;const G=l.filter(B=>{if(B.is_oscar_updated&&"update_success"===B.is_oscar_updated||B.is_manual_updated&&"update_success"===B.is_manual_updated||B.is_hubspot_updated&&"update_success"===B.is_hubspot_updated)return B});this.isCRMOk=!1,G&&G.length&&(this.isCRMOk=!0);const w=l.filter(B=>{if("registered"!==B.candidate_admission_status&&"resigned"!==B.candidate_admission_status&&"resigned_after_engaged"!==B.candidate_admission_status&&"resigned_after_registered"!==B.candidate_admission_status&&"report_inscription"!==B.candidate_admission_status)return B});this.isWasRegistered=!1,w&&w.length&&(this.isWasRegistered=!0)}f.uniqBy(l,"intake_channel.scholar_season_id._id");const C=l.map(h=>h.intake_channel._id),b=[];if(this.listRegistrationProfile.length>0){let h;C.forEach((F,A)=>{const N=[];this.listRegistrationProfile.filter(G=>{G.programs.find(w=>{w._id===F&&N.push(G._id)})}),b.push(N)}),this.isSameData=!0,b.forEach((F,A)=>{if(b.length>1){if(b.length-1!==A&&(h=b[0].some(N=>b[A+1].includes(N)),!h))return h=!1,void(this.isSameData=!1)}else h=!0})}}}callCandidates(e){S().fire({type:"info",title:this.translate.instant("CANDIDAT_S3.TITLE"),html:this.translate.instant("CANDIDAT_S3.TEXT",{candidateName:(e&&e.civility&&"neutral"!==e.civility?this.translate.instant(e.civility)+" ":"")+e.first_name+" "+e.last_name}),showCancelButton:!0,allowEscapeKey:!0,allowOutsideClick:!1,reverseButtons:!0,confirmButtonText:this.translate.instant("CANDIDAT_S3.BUTTON_1"),cancelButtonText:this.translate.instant("CANDIDAT_S3.BUTTON_2")}).then(i=>{i.value&&(this.subs.sink=this.candidatesService.UpdateCandidateCall(e._id,{announcement_call:"done"}).subscribe(l=>{this.resetSelection(),this.getCandidatesData("afterAssignRateProfile"),S().fire({type:"success",title:this.translate.instant("CANDIDAT_S4.MESSAGE"),html:this.translate.instant("CANDIDAT_S4.TEXT",{candidateName:(e&&e.civility&&"neutral"!==e.civility?this.translate.instant(e.civility)+" ":"")+e.first_name+" "+e.last_name}),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S4.BUTTON")}).then(c=>{this.viewCandidateInfo(e._id,"Commentaries")})},l=>{if(this.authService.postErrorLog(l),"GraphQL error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===l.message||"GraphQL error: Error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===l.message)S().fire({type:"info",title:this.translate.instant("LEGAL_S5.Title"),text:this.translate.instant("LEGAL_S5.Text"),confirmButtonText:this.translate.instant("LEGAL_S5.Button")});else if("GraphQL error: Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"===l.message||l.message.includes("Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"))S().fire({type:"info",title:this.translate.instant("EUROPEAN_COUNTRIES.TITLE"),html:this.translate.instant("EUROPEAN_COUNTRIES.TEXT"),confirmButtonText:this.translate.instant("EUROPEAN_COUNTRIES.BUTTON")});else if(l.message.includes("is invalid. Please enter a valid IBAN."))S().fire({type:"info",title:this.translate.instant("IBAN_S1.Title"),text:this.translate.instant("IBAN_S1.Text"),confirmButtonText:this.translate.instant("IBAN_S1.Button")});else{if(l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt")))return void this.authService.handlerSessionExpired();l&&l.message&&l.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}}))})}firstCallCandidates(e){S().fire({type:"info",title:this.translate.instant("CANDIDAT_S3.TITLE"),html:this.translate.instant("CANDIDAT_S3.TEXT",{candidateName:(e&&e.civility&&"neutral"!==e.civility?this.translate.instant(e.civility)+" ":"")+e.first_name+" "+e.last_name}),showCancelButton:!0,allowEscapeKey:!0,allowOutsideClick:!1,reverseButtons:!0,confirmButtonText:this.translate.instant("CANDIDAT_S3.BUTTON_1"),cancelButtonText:this.translate.instant("CANDIDAT_S3.BUTTON_2")}).then(i=>{i.value&&(this.subs.sink=this.candidatesService.UpdateCandidateCall(e._id,{announcement_call:"done"}).subscribe(l=>{S().fire({type:"success",title:this.translate.instant("CANDIDAT_S4.MESSAGE"),html:this.translate.instant("CANDIDAT_S4.TEXT",{candidateName:(e&&e.civility&&"neutral"!==e.civility?this.translate.instant(e.civility)+" ":"")+e.first_name+" "+e.last_name}),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S4.BUTTON")}).then(c=>{this.resetSelection(),this.getCandidatesData("afterAssignRateProfile"),this.viewCandidateInfo(e._id,"note-tab")})},l=>{if(this.authService.postErrorLog(l),"GraphQL error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===l.message||"GraphQL error: Error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===l.message)S().fire({type:"info",title:this.translate.instant("LEGAL_S5.Title"),text:this.translate.instant("LEGAL_S5.Text"),confirmButtonText:this.translate.instant("LEGAL_S5.Button")});else if("GraphQL error: Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"===l.message||l.message.includes("Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"))S().fire({type:"info",title:this.translate.instant("EUROPEAN_COUNTRIES.TITLE"),html:this.translate.instant("EUROPEAN_COUNTRIES.TEXT"),confirmButtonText:this.translate.instant("EUROPEAN_COUNTRIES.BUTTON")});else if(l.message.includes("is invalid. Please enter a valid IBAN."))S().fire({type:"info",title:this.translate.instant("IBAN_S1.Title"),text:this.translate.instant("IBAN_S1.Text"),confirmButtonText:this.translate.instant("IBAN_S1.Button")});else{if(l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt")))return void this.authService.handlerSessionExpired();l&&l.message&&l.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}}))})}inCallCandidates(e){S().fire({type:"success",html:this.translate.instant("CANDIDAT_INCOMING.TEXT",{candidateName:(e&&e.civility&&"neutral"!==e.civility?this.translate.instant(e.civility)+" ":"")+e.first_name+" "+e.last_name}),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_INCOMING.BUTTON")}).then(i=>{i.value&&(this.subs.sink=this.candidatesService.UpdateIncamingCall(e._id,{announcement_call:"done"}).subscribe(l=>{this.resetSelection(),this.getCandidatesData("afterAssignRateProfile")},l=>{if(this.authService.postErrorLog(l),"GraphQL error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===l.message||"GraphQL error: Error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===l.message)S().fire({type:"info",title:this.translate.instant("LEGAL_S5.Title"),text:this.translate.instant("LEGAL_S5.Text"),confirmButtonText:this.translate.instant("LEGAL_S5.Button")});else if("GraphQL error: Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"===l.message||l.message.includes("Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"))S().fire({type:"info",title:this.translate.instant("EUROPEAN_COUNTRIES.TITLE"),html:this.translate.instant("EUROPEAN_COUNTRIES.TEXT"),confirmButtonText:this.translate.instant("EUROPEAN_COUNTRIES.BUTTON")});else if(l.message.includes("is invalid. Please enter a valid IBAN."))S().fire({type:"info",title:this.translate.instant("IBAN_S1.Title"),text:this.translate.instant("IBAN_S1.Text"),confirmButtonText:this.translate.instant("IBAN_S1.Button")});else{if(l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt")))return void this.authService.handlerSessionExpired();l&&l.message&&l.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}}))})}cleanFilterData(){const e=f.cloneDeep(this.filteredValues);let s,l,c,_,C,b,i="";return Object.keys(e).forEach(h=>{if(e[h]||!1===e[h])if("candidate"===h||"diploma_status"===h||"nationality"===h||"intake_channel"===h||"admission_member"===h||"student_mentor"===h||"telephone"===h||"email"===h||"scholar_season"===h||"candidate_unique_number"===h||"registered_at"===h||"registration_email_due_date"===h)i+=` ${h}:"${e[h]}"`;else if("registration_profile_statuses"===h)i+=` ${h}:[${e[h]}]`;else if("is_oscar_updateds"===h)i+=` ${h}:[${e[h]}]`;else if("admission_document_process_statuses"===h)i+=` ${h}:[${e[h]}]`;else if("diploma_statuses"===h){const F=e.diploma_statuses.map(A=>'"'+A+'"');i+=` diploma_statuses:[${F}]`}else if("method_of_payments"===h)i+=` ${h}:[${e[h]}]`;else if("payment_methods"===h)i+=` ${h}:[${e[h]}]`;else if("signatures"===h)i+=` ${h}:[${e[h]}]`;else if("is_admitteds"===h)i+=` ${h}:[${e[h]}]`;else if("personal_informations"===h)i+=` ${h}:[${e[h]}]`;else if("connections"===h)i+=` ${h}:[${e[h]}]`;else if("registration_email_dates"===h)i+=` ${h}:[${e[h]}]`;else if("announcement_calls"===h)i+=` ${h}:[${e[h]}]`;else if("intake_channels"===h){const F=e.intake_channels.map(A=>'"'+A+'"');i+=` intake_channels:[${F}]`}else if("payments"===h)i+=` ${h}:[${e[h]}]`;else if("is_deposit_paids"===h)i+=` ${h}:[${e[h]}]`;else if("candidate_admission_statuses"===h)i+=` ${h}:[${e[h]}]`;else if("nationalities"===h){const F=e.nationalities.map(A=>'"'+A+'"');i+=` nationalities:[${F}]`}else"school"===h?(s=e.school.map(F=>'"'+F+'"'),i+=` schools:[${s}]`):"level"===h?(l=e.level.map(F=>'"'+F+'"'),i+=` candidate_levels:[${l}]`):"tags"===h?(_=e.tags.map(F=>'"'+F+'"'),i+=` tags:[${_}]`):"campus"===h?(c=e.campus.map(F=>'"'+F+'"'),i+=` candidate_campuses:[${c}]`):"sectors"===h?(C=e.sectors.map(F=>'"'+F+'"'),i+=` sectors:[${C}]`):"specialities"===h?(b=e.specialities.map(F=>'"'+F+'"'),i+=` specialities:[${b}]`):i+="registration_profile"===h?` ${h}: ${JSON.stringify(this.profileRateFilter.value)}`:` ${h}:${e[h]}`}),this.isDirectorAdmission&&!this.filteredValuesSuperFilter.school&&this.currentUser&&this.currentUser.entities&&(this.schoolsFilter.setValue(this.currentUser.entities[0].candidate_school),i+=` school: "${this.currentUser.entities[0].candidate_school}"`),"filter: {"+i+"}"}cleanFilterDataDownload(){const e=f.cloneDeep(this.filteredValues);let s,l,c,_,C,b,i="";return Object.keys(e).forEach(h=>{if(e[h]||!1===e[h])if("candidate"===h||"diploma_status"===h||"nationality"===h||"intake_channel"===h||"admission_member"===h||"student_mentor"===h||"telephone"===h||"email"===h||"scholar_season"===h||"candidate_unique_number"===h||"registration_email_due_date"===h||"registered_at"===h||"announcement_call"===h||"registration_email_date"===h||"connection"===h||"is_admitted"===h||"personal_information"===h||"signature"===h||"method_of_payment"===h||"is_deposit_paid"===h||"payment_method"===h||"is_oscar_updated"===h||"type_of_formation_name"===h)i=i?i+`,"${h}":"${e[h]}"`:i+`"${h}":"${e[h]}"`;else if("candidate_admission_statuses"!==h&&"candidate_admission_status"!==h)if("registration_profile_statuses"===h){const F=e.registration_profile_statuses.map(A=>'"'+A+'"');i=i?i+`,"registration_profile_statuses":[${F}]`:i+`"registration_profile_statuses":[${F}]`}else if("is_oscar_updateds"===h){const F=e.is_oscar_updateds.map(A=>'"'+A+'"');i=i?i+`,"is_oscar_updateds":[${F}]`:i+`"is_oscar_updateds":[${F}]`}else if("is_admitteds"===h){const F=e.is_admitteds;i=i?i+`,"is_admitteds":[${F}]`:i+`"is_admitteds":[${F}]`}else if("signatures"===h){const F=e.signatures.map(A=>'"'+A+'"');i=i?i+`,"signatures":[${F}]`:i+`"signatures":[${F}]`}else if("payment_methods"===h){const F=e.payment_methods.map(A=>'"'+A+'"');i=i?i+`,"payment_methods":[${F}]`:i+`"payment_methods":[${F}]`}else if("method_of_payments"===h){const F=e.method_of_payments.map(A=>'"'+A+'"');i=i?i+`,"method_of_payments":[${F}]`:i+`"method_of_payments":[${F}]`}else if("diploma_statuses"===h){const F=e.diploma_statuses.map(A=>'"'+A+'"');i=i?i+`,"diploma_statuses":[${F}]`:i+`"diploma_statuses":[${F}]`}else if("admission_document_process_statuses"===h){const F=e.admission_document_process_statuses.map(A=>'"'+A+'"');i=i?i+`,"admission_document_process_statuses":[${F}]`:i+`"admission_document_process_statuses":[${F}]`}else if("is_oscar_updateds"===h){const F=e.is_oscar_updateds.map(A=>'"'+A+'"');i=i?i+`,"is_oscar_updateds":[${F}]`:i+`"is_oscar_updateds":[${F}]`}else if("personal_informations"===h){const F=e.personal_informations.map(A=>'"'+A+'"');i=i?i+`,"personal_informations":[${F}]`:i+`"personal_informations":[${F}]`}else if("connections"===h){const F=e.connections.map(A=>'"'+A+'"');i=i?i+`,"connections":[${F}]`:i+`"connections":[${F}]`}else if("registration_email_dates"===h){const F=e.registration_email_dates.map(A=>'"'+A+'"');i=i?i+`,"registration_email_dates":[${F}]`:i+`"registration_email_dates":[${F}]`}else if("announcement_calls"===h){const F=e.announcement_calls.map(A=>'"'+A+'"');i=i?i+`,"announcement_calls":[${F}]`:i+`"announcement_calls":[${F}]`}else if("is_deposit_paids"===h){const F=e.is_deposit_paids.map(A=>'"'+A+'"');i=i?i+`,"is_deposit_paids":[${F}]`:i+`"is_deposit_paids":[${F}]`}else if("intake_channels"===h){const F=e.intake_channels.map(A=>'"'+A+'"');i=i?i+`,"intake_channels":[${F}]`:i+`"intake_channels":[${F}]`}else if("nationalities"===h){const F=e.nationalities.map(A=>'"'+A+'"');i=i?i+`,"nationalities":[${F}]`:i+`"nationalities":[${F}]`}else if("payments"===h){const F=e.payments.map(A=>'"'+A+'"');i=i?i+`,"payments":[${F}]`:i+`"payments":[${F}]`}else"school"===h?(s=e.school.map(F=>'"'+F+'"'),i=i?i+`,"schools":[${s}]`:i+`"schools":[${s}]`):"level"===h?(l=e.level.map(F=>'"'+F+'"'),i=i?i+`,"candidate_levels":[${l}]`:i+`"candidate_levels":[${l}]`):"tags"===h?(_=e.tags.map(F=>'"'+F+'"'),i=i?i+`,"tags":[${_}]`:i+`"tags":[${_}]`):"campus"===h?(c=e.campus.map(F=>'"'+F+'"'),i=i?i+`,"candidate_campuses":[${c}]`:i+`"candidate_campuses":[${c}]`):"sectors"===h?(C=e.sectors.map(F=>'"'+F+'"'),i=i?i+`,"sectors":[${C}]`:i+`"sectors":[${C}]`):"specialities"===h?(b=e.specialities.map(F=>'"'+F+'"'),i=i?i+`,"specialities":[${b}]`:i+`"specialities":[${b}]`):i="registration_profile"===h?i?i+`,"${h}":${JSON.stringify(this.profileRateFilter.value)}`:i+`"${h}":${JSON.stringify(this.profileRateFilter.value)}`:i?i+`,"${h}":${e[h]}`:i+`"${h}":${e[h]}`}),this.isDirectorAdmission&&!this.filteredValuesSuperFilter.school&&this.currentUser&&this.currentUser.entities&&(this.schoolsFilter.setValue(this.currentUser.entities[0].candidate_school),i+=` school: "${this.currentUser.entities[0].candidate_school}"`),"filter={"+i+"}"}cleanSearchingDataDownload(){const e=f.cloneDeep(this.searching);let i="";return Object.keys(e).forEach(s=>{if(e[s]||!1===e[s])if("trial_date"===s)i=i?i+`,"${s}":"${e[s]}"`:i+`"${s}":"${e[s]}"`;else if("trial_dates"===s){const l=e.trial_dates.map(c=>'"'+c+'"');i=i?i+`,"trial_dates":[${l}]`:i+`"trial_dates":[${l}]`}}),"searching={"+i+"}"}sendMail(e){e&&(this.subs.sink=this.dialog.open(u.v,{width:"600px",minHeight:"100px",disableClose:!0,data:{candidate_id:{candidate_admission_status:e.candidate_admission_status,civility:e.civility,email:e.email,emailDefault:e.school_mail,first_name:e.first_name,last_name:e.last_name},financial_supports:e.payment_supports,fromCandidate:!0}}).afterClosed().subscribe(s=>{!this.isReset&&s&&this.getCandidatesData("send email")}))}reSendMail(e){let i=[];e&&e._id?i=[e]:(i=this.dataSelected&&this.dataSelected.length?this.dataSelected:this.selection.selected,i=f.uniqBy(i,"_id")),this.sendEmailValidatorDialogComponent=this.dialog.open(p.k,{width:"800px",minHeight:"300px",panelClass:"no-padding",disableClose:!0,data:{data:i,isNeedValidator:!1,isResendMail:!0,isFc:!1,isReadmission:!1}}),this.subs.sink=this.sendEmailValidatorDialogComponent.afterClosed().subscribe(s=>{s&&(this.resetSelection(),this.getCandidatesData("afterAssignRateProfile")),this.sendEmailValidatorDialogComponent=null})}triggerPromo(e){S().fire({type:"warning",title:this.translate.instant("PROMO_S1.TITLE"),html:this.translate.instant("PROMO_S1.TEXT",{candidateName:e.civility+" "+e.first_name+" "+e.last_name}),showCancelButton:!0,allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("PROMO_S1.BUTTON_1"),cancelButtonText:this.translate.instant("PROMO_S1.BUTTON_2")}).then(i=>{i.value&&S().fire({type:"success",title:this.translate.instant("PROMO_S2.TITLE"),text:this.translate.instant("PROMO_S2.TEXT"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("PROMO_S2.BUTTON")})})}openAssignRateProfile(e,i){this.isEmailSent=!1,this.isEmailSent=!(this.dataSelected&&this.dataSelected.length&&this.dataSelected.filter(_=>{if(null!==_.registration_profile)return _}).length<1);const s=this.dataSelected.filter(c=>c.intake_channel).map(c=>c.intake_channel._id),l=[];if(this.listRegistrationProfile.length>0){let c;s.forEach((_,C)=>{const b=[];this.listRegistrationProfile.filter(h=>{h.programs.find(F=>{F._id===_&&b.push(h._id)})}),l.push(b)}),this.isSameData=!0,l.forEach((_,C)=>{if(l.length>1){if(l.length-1!==C&&(c=l[0].some(b=>l[C+1].includes(b)),!c))return c=!1,void(this.isSameData=!1)}else c=!0})}if(!("one"===this.selectType&&this.dataSelected.length||"button"!==i||"all"===this.selectType)&&this.selectType||this.isWasSelectAll)this.assignAllRegistrationProfile(f.cloneDeep(this.dataSelected));else if(console.log("yes 1"),"button"===i&&this.dataSelected&&this.dataSelected.length<1)S().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else if("button"===i&&this.isEmailSent)S().fire({type:"info",title:this.translate.instant("Followup_S9.Title"),html:this.translate.instant("Followup_S9.Text"),confirmButtonText:this.translate.instant("Followup_S9.Button")});else{console.log("yes 5");const c=[];c.push(e);let _=f.cloneDeep(this.dataSelected&&this.dataSelected.length?this.dataSelected:c);_=f.uniqBy(_,"_id"),"button"===i&&this.dataSelected&&this.dataSelected.length>0?this.dataSelected[0].isVolumeOfHours=!1:c&&c.length>0&&(c[0].isVolumeOfHours=!1);const C=this.dataSelected.filter(w=>w.school&&w.school._id).map(w=>w.school._id),b=this.dataSelected.filter(w=>w.campus&&w.campus._id).map(w=>w.campus._id),h=this.dataSelected.filter(w=>w.level&&w.level._id).map(w=>w.level._id),F=this.dataSelected.filter(w=>w.sector&&w.sector._id).map(w=>w.sector._id),A=this.dataSelected.filter(w=>w.speciality&&w.speciality._id).map(w=>w.speciality._id),N=this.dataSelected.filter(w=>w.intake_channel&&w.intake_channel.scholar_season_id&&w.intake_channel.scholar_season_id._id).map(w=>w.intake_channel.scholar_season_id._id),G={school_ids:f.uniqBy(C),campus_ids:f.uniqBy(b),level_ids:f.uniqBy(h),scholar_season_ids:f.uniqBy(N),sector_ids:f.uniqBy(F),speciality_ids:f.uniqBy(A)};this.isLoading=!0,this.subs.sink=this.financeService.GetListProfileRates(G).subscribe(w=>{if(this.isLoading=!1,w&&w.length){const Dt=f.cloneDeep(w).filter(Et=>Et.is_admission);if(Dt&&Dt.length<1)return void S().fire({type:"info",title:this.translate.instant("Followup_S10.Title"),html:this.translate.instant("Followup_S10.Text"),confirmButtonText:this.translate.instant("Followup_S10.Button")});this.assignRateProfileDialogComponent=this.dialog.open(U.r,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,data:{selected:_,from:"crm",isVolumeOfHours:!1}}),this.subs.sink=this.assignRateProfileDialogComponent.afterClosed().subscribe(Et=>{Et&&(this.resetSelection(),this.getCandidatesData("afterAssignRateProfile")),this.assignRateProfileDialogComponent=null})}else S().fire({type:"info",title:this.translate.instant("Followup_S10.Title"),html:this.translate.instant("Followup_S10.Text"),confirmButtonText:this.translate.instant("Followup_S10.Button")}),this.resetSelection(),this.getCandidatesData("afterAssignRateProfile")},w=>{this.isLoading=!1,this.authService.postErrorLog(w),S().fire({type:"info",title:this.translate.instant("SORRY"),text:w&&w.message?this.translate.instant(w.message.replaceAll("GraphQL error: ","")):w,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}crmOk(){const e=this.dataSelected.filter(s=>{if(s.is_oscar_updated&&"update_success"===s.is_oscar_updated||s.is_manual_updated&&"update_success"===s.is_manual_updated||s.is_hubspot_updated&&"update_success"===s.is_hubspot_updated)return s});this.isCRMOk=!1,e&&e.length&&(this.isCRMOk=!0);const i=this.dataSelected.filter(s=>{if("registered"!==s.candidate_admission_status&&"resigned"!==s.candidate_admission_status&&"resigned_after_engaged"!==s.candidate_admission_status&&"resigned_after_registered"!==s.candidate_admission_status&&"report_inscription"!==s.candidate_admission_status)return s});if(this.isWasRegistered=!1,i&&i.length&&(this.isWasRegistered=!0),!("one"===this.selectType&&this.dataSelected.length||"all"===this.selectType)&&this.selectType||this.isWasSelectAll)this.crmAllOk(this.dataSelected);else if(this.dataSelected.length<1)S().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else if(this.isCRMOk)S().fire({type:"info",title:this.translate.instant("Followup_S15.Title"),html:this.translate.instant("Followup_S15.Text"),confirmButtonText:this.translate.instant("Followup_S15.Button")});else if(this.isWasRegistered)S().fire({type:"info",title:this.translate.instant("Followup_S16.Title"),html:this.translate.instant("Followup_S16.Text"),confirmButtonText:this.translate.instant("Followup_S16.Button")});else if(this.dataSelected&&this.dataSelected.length){this.isLoading=!0;const s=this.dataSelected.map(l=>l._id);this.subs.sink=this.candidatesService.UpdateCandidateCRMStatus(s).subscribe(l=>{this.isLoading=!1,l&&S().fire({type:"success",title:this.translate.instant("CANDIDAT_CRM.TITLE"),html:this.translate.instant("CANDIDAT_CRM.TEXT"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_CRM.BUTTON")}).then(()=>{this.resetSelection(),this.getCandidatesData("afterUpdateCandidateCRMStatus")})},l=>{this.isLoading=!1,this.authService.postErrorLog(l),l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.authService.handlerSessionExpired():l&&l.message&&l.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}openTransferCampus(e,i){[].push(e),this.subs.sink=this.dialog.open(K.I,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,data:""}).afterClosed().subscribe(l=>{this.resetSelection(),this.getCandidatesData("afterAssignRateProfile")})}openTransferAdmission(e,i){const s=[];s.push(e),this.subs.sink=this.dialog.open($.W,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,data:{data:s,from:"admission"}}).afterClosed().subscribe(l=>{l&&(this.resetSelection(),this.getCandidatesData("afterAssignRateProfile"))})}openAssignMember(e,i){let s=[];e&&e._id?s=[e]:(s=this.dataSelected&&this.dataSelected.length?this.dataSelected:this.selection.selected,s=f.uniqBy(s,"_id")),"button"===i&&this.dataSelected&&this.dataSelected.length<1?S().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")}):(this.assignMemberDialogComponent=this.dialog.open(Ft,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,data:s}),this.subs.sink=this.assignMemberDialogComponent.afterClosed().subscribe(l=>{l&&(this.resetSelection(),this.getCandidatesData("afterAssign")),this.assignMemberDialogComponent=null}))}setIntakeSelected(e){"All"!==e&&this.filteredValues.intake_channel&&this.filteredValues.intake_channel!==e._id&&(this.entryWayFilterList=this.backupEntryWayFilterList),"All"!==e?(this.filteredValues.intake_channel=e._id,this.selectedProgram=e.intake_channel,this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("setIntakeSelected")):(this.filteredValues.intake_channel="",this.paginator.pageIndex=0,this.isReset||this.getCandidatesData("setIntakeSelected"))}setProfileSelected(e){const i=this.profileRateFilter.value?this.profileRateFilter.value:[],c=(i.every(_=>"affected"===_),i.every(_=>"not_affected"===_),i.filter(_=>"not_affected"!==_&&"affected"!==_));if(c?.length>0&&"affected"!==i[i?.length-1]&&"not_affected"!==i[i?.length-1]){const _=f.cloneDeep(this.profileRateFilter.value),C=[];if(_.filter(F=>{"All"!==F&&"not_affected"!==F&&"affected"!==F&&C.push(F)}),this.profileRateFilter.patchValue(C),JSON.stringify(this.tempDataFilter.registrationProfile)===JSON.stringify(this.profileRateFilter.value))return;if(this.profileRateFilter.value?.length)this.filteredValues.registration_profile_statuses=null,this.filteredValues.registration_profile=C,this.tempDataFilter.registrationProfile=C,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("profileRateFilter"));else{if(!this.tempDataFilter.registrationProfile?.length||this.profileRateFilter.value?.length)return;this.filteredValues.registration_profile_statuses=null,this.filteredValues.registration_profile=null,this.tempDataFilter.registrationProfile=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("profileRateFilter"))}}else if(0===i.length){if(JSON.stringify(this.tempDataFilter.registrationProfile)===JSON.stringify(this.profileRateFilter.value))return;if(this.profileRateFilter.value?.length)this.filteredValues.registration_profile_statuses=i,this.filteredValues.registration_profile=null,this.tempDataFilter.registrationProfile=this.profileRateFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("profileRateFilter"));else{if(!this.tempDataFilter.registrationProfile?.length||this.profileRateFilter.value?.length)return;this.filteredValues.registration_profile_statuses=null,this.filteredValues.registration_profile=null,this.tempDataFilter.registrationProfile=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("profileRateFilter"))}}else if((i.includes("not_affected")||i.includes("affected"))&&0===c.length||"affected"===i[i?.length-1]||"not_affected"===i[i?.length-1]){if(i.includes("not_affected")&&!i.includes("affected")){if(JSON.stringify(this.tempDataFilter.registrationProfile)===JSON.stringify(this.profileRateFilter.value))return;if(this.profileRateFilter.value?.length){const C=["not_affected"];this.profileRateFilter.setValue(C),this.filteredValues.registration_profile_statuses=C,this.filteredValues.registration_profile=null,this.tempDataFilter.registrationProfile=this.profileRateFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("profileRateFilter"))}else{if(!this.tempDataFilter.registrationProfile?.length||this.profileRateFilter.value?.length)return;this.filteredValues.registration_profile_statuses=null,this.filteredValues.registration_profile=null,this.tempDataFilter.registrationProfile=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("profileRateFilter"))}}if(i.includes("affected")&&!i.includes("not_affected")){if(JSON.stringify(this.tempDataFilter.registrationProfile)===JSON.stringify(this.profileRateFilter.value))return;if(this.profileRateFilter.value?.length){const C=["affected"];this.profileRateFilter.setValue(C),this.filteredValues.registration_profile_statuses=C,this.filteredValues.registration_profile=null,this.tempDataFilter.registrationProfile=this.profileRateFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("profileRateFilter"))}else{if(!this.tempDataFilter.registrationProfile?.length||this.profileRateFilter.value?.length)return;this.filteredValues.registration_profile_statuses=null,this.filteredValues.registration_profile=null,this.tempDataFilter.registrationProfile=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("profileRateFilter"))}}if(i.includes("affected")&&i.includes("not_affected")){if(JSON.stringify(this.tempDataFilter.registrationProfile)===JSON.stringify(this.profileRateFilter.value))return;if(this.profileRateFilter.value?.length){const C=["affected","not_affected"];this.profileRateFilter.setValue(C),this.filteredValues.registration_profile_statuses=C,this.filteredValues.registration_profile=null,this.tempDataFilter.registrationProfile=this.profileRateFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("profileRateFilter"))}else{if(!this.tempDataFilter.registrationProfile?.length||this.profileRateFilter.value?.length)return;this.filteredValues.registration_profile_statuses=null,this.filteredValues.registration_profile=null,this.tempDataFilter.registrationProfile=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("profileRateFilter"))}}}}enterRegistrationFilter(e){if(e&&e.options&&e.options.length>1){let i="";e.options.forEach((s,l)=>{if(1===l&&s){const c=this.profileRateFilterList.find(_=>s.value===_.name);c&&(i=c,this.profileRateFilter.setValue(c))}})}else this.profileRateFilter.setValue("")}viewCandidateInfo(e,i){const s={selectedCandidate:e,sortValue:JSON.stringify(this.sortValue)||"",tab:i||"",paginator:JSON.stringify({pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize})};if(i){const l=this.router.createUrlTree(["candidate-file"],{queryParams:s});window.open(l.toString(),"_blank")}else{const l=this.router.createUrlTree(["candidate-file"],{queryParams:s});window.open(l.toString(),"_blank")}}viewAdmissionFile(e){const s=this.router.createUrlTree(["/session/register"],{queryParams:{candidate:e}});window.open(s.toString(),"_blank")}validateActionButtonCall(e){let i=!0;return e&&e.registration_profile&&""!==e.registration_profile&&(i=!1),(this.dataSelected&&this.dataSelected.length>0||this.isCheckedAll)&&(i=!0),i}validateActionButtonMail(e){let i=!0;return e&&e.registration_profile&&null!==e.registration_profile&&(i=!1),(this.dataSelected&&this.dataSelected.length>0||this.isCheckedAll)&&(i=!0),i}validateActionButtonRate(e){let i=!0;return(this.dataSelected&&this.dataSelected.length>0||this.isCheckedAll)&&(i=!1),i}hideActionButtonCallIncoming(e){let i=!0;return e&&e.announcement_call&&"done"===e.announcement_call&&(i=!1),i}hideActionButtonCall(e){let i=!0;return e&&e.registration_profile&&""!==e.registration_profile&&(i=!0),e&&e.announcement_call&&"done"===e.announcement_call&&(i=!1),e&&e.engagement_level&&"registered"===e.engagement_level&&(i=!1),i}hideActionButtonCallRegular(e){let i=!1;return(e&&e.announcement_call&&"done"===e.announcement_call||e.telephone)&&(i=!0),i}hideActionButtonMail(e){let i=!0;return e&&e.announcement_call&&"done"===e.announcement_call&&(i=!0),e&&e.announcement_email&&e.announcement_email.sent_date&&e.announcement_email.sent_time&&(i=!1),e&&e.candidate_admission_status&&"registered"===e.candidate_admission_status&&(i=!1),i}hideActionButtonRate(e){let i=!1;return e&&e.admission_member_id&&e.admission_member_id._id&&(i=!0),null!==e.registration_profile&&""!==e.registration_profile.name&&(i=!1),e&&e.engagement_level&&"registered"===e.engagement_level&&(i=!1),i}hideActionButtonReSendMail(e){let i=!1;return e&&e.announcement_email&&e.announcement_email.sent_date&&e.announcement_email.sent_time&&(i=!0),e&&e.candidate_admission_status&&"registered"===e.candidate_admission_status&&(i=!1),i}openWhatsapp(e){const i="https://api.whatsapp.com/send?phone="+e.telephone+"&text=",s=this.translate.instant("whatsapp message",{name:e.first_name,dev:(this.currentUser&&this.currentUser.civility&&"neutral"!==this.currentUser.civility?`${this.translate.instant(this.currentUser.civility)} `:"")+`${this.currentUser.first_name} ${this.currentUser.last_name}`,school:e.school,campus:e.campus,position:this.currentUser.position});window.open(i+s,"_blank")}connectAsUser(e){const i=this.utilService.getCurrentUser(),s=e&&e.user_id&&e.user_id?e.user_id:null;i&&s&&(this.subs.sink=this.authService.loginAsUser(i._id,s).subscribe(l=>{if(l&&l.user){const c=l.user;S().fire({type:"success",title:this.translate.instant("SUCCESS"),html:this.translate.instant("USER_S7_SUPERUSER.TEXT",{UserCivility:"neutral"!==e.civility?this.translate.instant(e.civility):"",UserFirstName:e.first_name,UserLastName:e.last_name}),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("UNDERSTOOD")}).then(_=>{this.authService.backupLocalUserProfileAndToken(),this.authService.setLocalUserProfileAndToken(l),this.authService.setPermission([c.entities[0].type.name]),this.ngxPermissionService.flushPermissions(),this.ngxPermissionService.loadPermissions([c.entities[0].type.name]),this.userService.reloadCurrentUser(!0),"done"===e.connection&&"registered"!==e.engagement_level?this.router.navigate(["/session/register"],{queryParams:{candidate:e._id}}):this.router.navigate(["/rncpTitles"])})}},l=>{this.authService.postErrorLog(l),l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.authService.handlerSessionExpired():S().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}crmAllOk(e){const i=e.filter(l=>{if(l.is_oscar_updated&&"update_success"===l.is_oscar_updated||l.is_manual_updated&&"update_success"===l.is_manual_updated||l.is_hubspot_updated&&"update_success"===l.is_hubspot_updated)return l});this.isCRMOk=!1,i&&i.length&&(this.isCRMOk=!0);const s=e.filter(l=>{if("registered"!==l.candidate_admission_status&&"resigned"!==l.candidate_admission_status&&"resigned_after_engaged"!==l.candidate_admission_status&&"resigned_after_registered"!==l.candidate_admission_status&&"report_inscription"!==l.candidate_admission_status)return l});if(this.isWasRegistered=!1,s&&s.length&&(this.isWasRegistered=!0),this.dataSelected&&this.dataSelected.length<1)S().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else if(this.isCRMOk)S().fire({type:"info",title:this.translate.instant("Followup_S15.Title"),html:this.translate.instant("Followup_S15.Text"),confirmButtonText:this.translate.instant("Followup_S15.Button")});else if(this.isWasRegistered)S().fire({type:"info",title:this.translate.instant("Followup_S16.Title"),html:this.translate.instant("Followup_S16.Text"),confirmButtonText:this.translate.instant("Followup_S16.Button")});else if(e&&e.length){this.isLoading=!0;const l=e.map(c=>c._id);this.subs.sink=this.candidatesService.UpdateCandidateCRMStatus(l).subscribe(c=>{this.isLoading=!1,c&&S().fire({type:"success",title:this.translate.instant("CANDIDAT_CRM.TITLE"),html:this.translate.instant("CANDIDAT_CRM.TEXT"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_CRM.BUTTON")}).then(()=>{this.resetSelection(),this.getCandidatesData("afterUpdateCandidateCRMStatus")})},c=>{this.isLoading=!1,this.authService.postErrorLog(c),c&&c.message&&(c.message.includes("jwt expired")||c.message.includes("str & salt required")||c.message.includes("Authorization header is missing")||c.message.includes("salt"))?this.authService.handlerSessionExpired():c&&c.message&&c.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:c&&c.message?this.translate.instant(c.message.replaceAll("GraphQL error: ","")):c,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}firstEmailAllCandidate(e){this.isHasRegistrationProfileandCallNotDone=e.filter(l=>"not_done"===l.announcement_call||!l.registration_profile).length>0;const s=e.filter(l=>{if(!l.announcement_email||!l.announcement_email.sent_date&&!l.announcement_email.sent_time)return l});if(this.dataSelected.length>0&&(this.isRegistrationProfileDone=this.dataSelected.filter(c=>c.registration_profile).length>0),this.isDifferentAnnoucement=!s||!s.length||s.length!==e.length,this.isRegistrationProfileDone)if(e.length<1)S().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else if(this.isDifferentAnnoucement)S().fire({type:"info",title:this.translate.instant("Followup_S11.Title"),html:this.translate.instant("Followup_S11.Text"),confirmButtonText:this.translate.instant("Followup_S11.Button")});else{let l="";const c=[];for(const C of e)l=l?l+", "+(C?("neutral"!==C.civility?this.translate.instant(C.civility)+" ":"")+C.first_name+" "+C.last_name:""):C?("neutral"!==C.civility?this.translate.instant(C.civility)+" ":"")+C.first_name+" "+C.last_name:"",c.push(C._id);this.sendEmailValidatorDialogComponent=this.dialog.open(p.k,{width:"800px",minHeight:"300px",panelClass:"no-padding",disableClose:!0,data:{data:e,isNeedValidator:!1,isResendMail:!1,isFc:!1,isReadmission:!1}}),this.subs.sink=this.sendEmailValidatorDialogComponent.afterClosed().subscribe(C=>{C&&(this.resetSelection(),this.getCandidatesData("afterSendEmail")),this.sendEmailValidatorDialogComponent=null})}else S().fire({type:"info",title:this.translate.instant("Followup_S12s.Title"),html:this.translate.instant("Followup_S12s.Text"),confirmButtonText:this.translate.instant("Followup_S12s.Button")})}firstCallAllCandidate(e){const i=e.map(c=>c._id);this.isHasRegistrationProfile=e.filter(c=>"done"===c.announcement_call&&c.registration_profile).length>0,this.isNoRegistrationProfileandCallNotDone=e.filter(c=>"not_done"===c.announcement_call&&!c.registration_profile).length>0,e.length<1?S().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")}):this.isNoRegistrationProfileandCallNotDone?S().fire({type:"info",title:this.translate.instant("Followup_S14.Title"),html:this.translate.instant("Followup_S14.Text"),confirmButtonText:this.translate.instant("Followup_S14.Button")}):this.subs.sink=this.financeService.UpdateCandidateAnnouncementCall(i).subscribe(c=>{c&&(this.isHasRegistrationProfile?S().fire({type:"warning",title:this.translate.instant("Followup_S1.TITLE"),html:this.translate.instant("Followup_S1.TEXT"),confirmButtonText:this.translate.instant("Followup_S1.BUTTON1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetSelection(),this.getCandidatesData("afterAssignRateProfile")}):S().fire({type:"success",title:this.translate.instant("CANDIDAT_INCOMING_S2.TITLE"),html:this.translate.instant("CANDIDAT_INCOMING_S2.TEXT"),confirmButtonText:this.translate.instant("CANDIDAT_INCOMING_S2.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetSelection(),this.getCandidatesData("afterAssignRateProfile")}))},c=>{this.authService.postErrorLog(c),c&&c.message&&(c.message.includes("jwt expired")||c.message.includes("str & salt required")||c.message.includes("Authorization header is missing")||c.message.includes("salt"))?this.authService.handlerSessionExpired():c&&c.message&&c.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:c&&c.message?this.translate.instant(c.message.replaceAll("GraphQL error: ","")):c,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}assignAllRegistrationProfile(e){this.isEmailSent=!e||!e.length||e.filter(c=>{if(null===c.registration_profile)return c}).length!==e.length;const i=e.map(l=>l.intake_channel._id),s=[];if(this.listRegistrationProfile.length>0){let l;i.forEach((c,_)=>{const C=[];this.listRegistrationProfile.filter(b=>{b.programs.find(h=>{h._id===c&&C.push(b._id)})}),s.push(C)}),this.isSameData=!0,s.forEach((c,_)=>{if(s.length>1){if(s.length-1!==_&&(l=s[0].some(C=>s[_+1].includes(C)),!l))return l=!1,void(this.isSameData=!1)}else l=!0})}if(e.length<1)S().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else if(this.isEmailSent)S().fire({type:"info",title:this.translate.instant("Followup_S9.Title"),html:this.translate.instant("Followup_S9.Text"),confirmButtonText:this.translate.instant("Followup_S9.Button")});else{[].push(e),e=f.uniqBy(e,"_id");const c=this.dataSelected.filter(N=>N.school&&N.school._id).map(N=>N.school._id),_=this.dataSelected.filter(N=>N.campus&&N.campus._id).map(N=>N.campus._id),C=this.dataSelected.filter(N=>N.level&&N.level._id).map(N=>N.level._id),b=this.dataSelected.filter(N=>N.sector&&N.sector._id).map(N=>N.sector._id),h=this.dataSelected.filter(N=>N.speciality&&N.speciality._id).map(N=>N.speciality._id),F=this.dataSelected.filter(N=>N.intake_channel&&N.intake_channel.scholar_season_id&&N.intake_channel.scholar_season_id._id).map(N=>N.intake_channel.scholar_season_id._id),A={school_ids:f.uniqBy(c),campus_ids:f.uniqBy(_),level_ids:f.uniqBy(C),scholar_season_ids:f.uniqBy(F),sector_ids:f.uniqBy(b),speciality_ids:f.uniqBy(h)};this.isLoading=!0,this.subs.sink=this.financeService.GetListProfileRates(A).subscribe(N=>{if(this.isLoading=!1,N&&N.length){const w=f.cloneDeep(N).filter(B=>B.is_admission);if(w&&w.length<1)return void S().fire({type:"info",title:this.translate.instant("Followup_S10.Title"),html:this.translate.instant("Followup_S10.Text"),confirmButtonText:this.translate.instant("Followup_S10.Button")});this.assignRateProfileDialogComponent=this.dialog.open(U.r,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,data:{selected:e,from:"crm",isVolumeOfHours:!1}}),this.subs.sink=this.assignRateProfileDialogComponent.afterClosed().subscribe(B=>{B&&(this.resetSelection(),this.getCandidatesData("afterAssignRateProfile")),this.assignRateProfileDialogComponent=null})}else S().fire({type:"info",title:this.translate.instant("Followup_S10.Title"),html:this.translate.instant("Followup_S10.Text"),confirmButtonText:this.translate.instant("Followup_S10.Button")}),this.resetSelection(),this.getCandidatesData("afterAssignRateProfile")},N=>{this.isLoading=!1,this.authService.postErrorLog(N),S().fire({type:"info",title:this.translate.instant("SORRY"),text:N&&N.message?this.translate.instant(N.message.replaceAll("GraphQL error: ","")):N,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}getDataForList(e){if(this.isDirectorAdmission)this.subs.sink=this.candidatesService.GetDataForImportObjectives(this.currentUser&&this.currentUser.entities&&this.currentUser.entities[0]?this.currentUser.entities[0].candidate_school:"",this.currentUserTypeId).subscribe(s=>{if(s){if(this.currentUser&&this.currentUser.entities&&this.currentUser.entities.length&&this.currentUser.app_data&&this.currentUser.app_data.school_package&&this.currentUser.app_data.school_package.length){const l=[];this.currentUser.app_data.school_package.forEach(c=>{l.push(c.school)}),this.listObjective=l,this.school=this.listObjective,this.school=this.school.sort((c,_)=>c.short_name>_.short_name?1:_.short_name>c.short_name?-1:0)}else this.listObjective=s,this.school=this.listObjective,this.school=this.school.sort((l,c)=>l.short_name>c.short_name?1:c.short_name>l.short_name?-1:0);this.getDataCampus()}},s=>{this.authService.postErrorLog(s),s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt"))?this.authService.handlerSessionExpired():s&&s.message&&s.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})});else{const i=e||"";this.subs.sink=this.candidatesService.GetAllSchoolDropdown({scholar_season_id:i},i,this.currentUserTypeId).subscribe(l=>{if(l)if(this.currentUser&&this.currentUser.entities&&this.currentUser.entities.length&&this.currentUser.app_data&&this.currentUser.app_data.school_package&&this.currentUser.app_data.school_package.length){const c=[];this.currentUser.app_data.school_package.forEach(_=>{c.push(_.school)}),this.listObjective=c,this.school=this.listObjective,this.school=this.school.sort((_,C)=>_.short_name>C.short_name?1:C.short_name>_.short_name?-1:0)}else this.listObjective=l,this.school=this.listObjective,this.school=this.school.sort((c,_)=>c.short_name>_.short_name?1:_.short_name>c.short_name?-1:0)},l=>{this.authService.postErrorLog(l),l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.authService.handlerSessionExpired():l&&l.message&&l.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}getDataScholarSeasons(){this.subs.sink=this.financeService.GetAllScholarSeasonsPublished().subscribe(e=>{e&&e.length&&(this.originalScholar=f.cloneDeep(e),this.scholars=[],this.scholars=this.originalScholar.sort((i,s)=>i.scholar_season>s.scholar_season?1:s.scholar_season>i.scholar_season?-1:0),this.scholars.unshift({_id:"All",scholar_season:this.translate.instant("AllF")}),this.scholars=f.uniqBy(this.scholars,"_id"))},e=>{this.authService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():e&&e.message&&e.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}refetchDataScholarSeasons(){this.scholars=[],this.scholars=this.originalScholar.sort((e,i)=>e.scholar_season>i.scholar_season?1:i.scholar_season>e.scholar_season?-1:0),this.scholars.unshift({_id:"All",scholar_season:this.translate.instant("AllF")}),this.scholars=f.uniqBy(this.scholars,"_id")}scholarSelect(){this.campusList=[],this.school=[],this.levels=[],this.sectorList=[],this.specialityList=[],this.schoolName="",this.campusName="",this.levelName="",this.campusFilter.value&&(console.log(this.campusFilter),this.campusFilter.setValue(null)),this.levelFilter.value&&this.levelFilter.setValue(null),this.schoolsFilter.value&&this.schoolsFilter.setValue(null),this.sectorFilter.value&&this.sectorFilter.setValue(null),this.specialityFilter.value&&this.specialityFilter.setValue(null),this.scholarFilter.value&&0!==this.scholarFilter.value.length?(this.scholarSelected=this.scholarFilter.value,this.getDataForList(this.scholarFilter.value&&"All"!==this.scholarFilter.value?this.scholarFilter.value:"")):(this.scholarSelected=[],this.school=[],this.levels=[],this.campusList=[])}selectSchoolFilter(){const e=this.schoolsFilter.value;this.schoolsFilter.patchValue(e&&e.length?e:null),this.getDataCampus()}getDataCampus(){this.levels=[],this.campusList=[],this.schoolName="",this.sectorList=[],this.specialityList=[],this.campusFilter.value&&this.campusFilter.setValue(null),this.levelFilter.value&&this.levelFilter.setValue(null),this.sectorFilter.value&&this.sectorFilter.setValue(null),this.specialityFilter.value&&this.specialityFilter.setValue(null),console.log("listobjective",this.listObjective,this.schoolsFilter);const e=this.schoolsFilter.value;this.currentUser&&this.currentUser.entities&&this.currentUser.entities[0].campus&&e&&e.length&&!e.includes("AllF")?this.currentUser&&this.currentUser.entities&&this.currentUser.entities.length&&this.currentUser.app_data&&this.currentUser.app_data.school_package&&this.currentUser.app_data.school_package.length&&this.schoolsFilter.value&&this.schoolsFilter.value.length?(this.filteredValuesSuperFilter.school=this.schoolsFilter.value,e.forEach(s=>{const l=this.school.find(c=>c._id===s);this.schoolName=this.schoolName?this.schoolName+","+l.short_name:l.short_name}),this.currentUser.app_data.school_package.forEach(s=>{s&&s.school&&s.school._id&&e.includes(s.school._id)&&(this.campusList=f.concat(this.campusList,s.school.campuses))})):this.currentUser.entities.forEach(s=>{this.listObjective.filter((l,c)=>{l.campuses&&l.campuses.length&&l.campuses.filter((_,C)=>{_&&s&&s.campus&&s.campus.name&&_.name.toLowerCase()===s.campus.name.toLowerCase()&&this.campusList.push(_)})})}):e&&e.length&&!e.includes("AllF")?(e.forEach(l=>{const c=this.school.find(_=>_._id===l);this.schoolName=this.schoolName?this.schoolName+","+c.short_name:c.short_name}),this.listObjective.filter(l=>e.includes(l._id)).filter((l,c)=>{l.campuses&&l.campuses.length&&l.campuses.filter((_,C)=>{this.campusList.push(_)})})):this.listObjective&&this.listObjective.length&&e&&e.length&&e.includes("AllF")&&this.listObjective.filter((s,l)=>{s.campuses&&s.campuses.length&&s.campuses.forEach((c,_)=>{this.campusList.push(c)})}),this.getDataLevel();const i=f.chain(this.campusList).groupBy("name").map((s,l)=>({name:l,_id:s&&s.length?s[0]._id:null,campuses:s})).value();i&&i.length&&i.forEach((s,l)=>{let c=[];s&&s.campuses&&s.campuses.length&&s.campuses.forEach((_,C)=>{c=f.concat(c,_.levels)}),i[l].levels=f.uniqBy(c,"name")}),this.campusList=f.uniqBy(i,"_id"),this.campusList=this.campusList.sort((s,l)=>s.name>l.name?1:l.name>s.name?-1:0)}selectCampusFilter(){const e=this.campusFilter.value;this.campusFilter.patchValue(e&&e.length?e:null),this.getDataLevel()}getDataLevel(){this.levels=[],this.sectorList=[],this.specialityList=[],this.campusName="",this.levelName="",this.levelFilter.value&&this.levelFilter.setValue(null),this.sectorFilter.value&&this.sectorFilter.setValue(null),this.specialityFilter.value&&this.specialityFilter.setValue(null);const e=this.schoolsFilter.value,i=this.campusFilter.value;this.currentUser&&this.currentUser.entities&&this.currentUser.entities.length&&this.currentUser.app_data&&this.currentUser.app_data.school_package&&this.currentUser.app_data.school_package.length&&this.campusFilter.value&&this.campusFilter.value.length&&this.schoolsFilter.value?i&&i.length&&!i.includes("AllF")&&this.campusList&&this.campusList.length?(i.forEach(s=>{const l=this.campusList.find(c=>c.name===s);this.campusName=this.campusName?this.campusName+","+l.name:l.name}),this.currentUser.app_data.school_package.forEach(s=>{s&&s.school&&s.school._id&&(e.includes(s.school._id)||e.includes("AllF"))&&this.campusList.filter(c=>i.includes(c.name)).forEach(c=>{c&&c.levels&&c.levels.length&&(this.levels=f.concat(this.levels,c.levels))})})):i&&i.length&&i.includes("AllF")&&this.campusList.forEach(s=>{s&&s.levels&&s.levels.length&&(this.levels=f.concat(this.levels,s.levels))}):i&&i.length&&!i.includes("AllF")?(i.forEach(l=>{const c=this.campusList.find(_=>_.name===l);this.campusName=this.campusName?this.campusName+","+c.name:c.name}),this.campusList.filter(l=>i.includes(l.name)).forEach(l=>{l&&l.levels&&l.levels.length&&l.levels.forEach(c=>{this.levels.push(c),this.levelListBackup=this.levels})})):this.campusList&&this.campusList.length&&this.campusFilter.value&&this.campusFilter.value.includes("AllF")&&this.campusList.forEach(s=>{s&&s.levels&&s.levels.length&&s.levels.forEach(l=>{this.levels.push(l)})}),this.levels=f.uniqBy(this.levels,"name"),this.levels=this.levels.sort((s,l)=>s.name>l.name?1:l.name>s.name?-1:0)}selectLevelFilter(){const e=this.levelFilter.value;this.levelFilter.patchValue(e&&e.length?e:null),this.getDataByLevel()}checkSuperFilterTags(){const e=this.tagFilter.value;this.tagFilter.patchValue(e&&e.length?e:null)}getDataByLevel(){this.levelName="",this.levelFilter.value&&!this.levelFilter.value.includes("AllF")&&this.levelFilter.value.forEach(i=>{const s=this.levels.find(l=>l.name===i);this.levelName=this.levelName?this.levelName+","+s.name:s.name}),this.levels=f.uniqBy(this.levels,"name"),this.levels=this.levels.sort((e,i)=>e.name>i.name?1:i.name>e.name?-1:0),this.getAllSector()}getAllSector(){let e=[],i=[],s=[],l=[],c=[];if(this.sectorList=[],this.specialityList=[],this.sectorFilter.setValue(null),this.specialityFilter.setValue(null),this.filteredValuesSuperFilter.sectors=null,this.filteredValuesSuperFilter.specialities=null,this.schoolsFilter.value?.length&&this.schoolsFilter.value.includes("AllF")&&this.listObjective?.length&&(e=this.listObjective.map(C=>C._id)),this.campusFilter.value?.length&&this.campusList?.length)if(this.campusFilter.value.includes("AllF"))i=this.campusList.map(C=>C._id);else{const C=this.campusFilter.value;l=this.campusList.filter(b=>C.includes(b?.name))?.map(b=>b._id)}if(this.levelFilter.value?.length&&this.levels?.length)if(this.levelFilter.value.includes("AllF"))s=this.levels.map(C=>C._id);else{const C=this.levelFilter.value;c=this.levels.filter(b=>C.includes(b.name))?.map(b=>b?._id)}const _={scholar_season_id:this.scholarFilter.value&&!this.scholarFilter.value?.includes("All")?this.scholarFilter.value:null,candidate_school_ids:e?.length?e:this.schoolsFilter.value?.length?this.schoolsFilter.value:null,campuses:i?.length?i:l?.length?l:null,levels:s?.length?s:c?.length?c:null};this.levelFilter.value?.length&&(this.subs.sink=this.financeService.GetAllSectorsDropdown(_).subscribe(C=>{C?.length&&(this.sectorList=f.cloneDeep(C))},C=>{this.authService.postErrorLog(C),C&&C.message&&C.message.includes("Network error: Http failure response for")&&S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})}))}selectSectorFilter(){const e=this.sectorFilter.value;this.sectorFilter.patchValue(e&&e.length?e:null),this.getAllSpeciality()}getAllSpeciality(){let e=[],i=[],s=[],l=[],c=[],_=[];if(this.specialityList=[],this.specialityFilter.setValue(null),this.filteredValuesSuperFilter.specialities=null,this.schoolsFilter.value?.length&&this.schoolsFilter.value.includes("AllF")&&this.listObjective?.length&&(e=this.listObjective.map(b=>b._id)),this.campusFilter.value?.length&&this.campusList?.length)if(this.campusFilter.value.includes("AllF"))i=this.campusList.map(b=>b._id);else{const b=this.campusFilter.value;l=this.campusList.filter(h=>b.includes(h?.name))?.map(h=>h._id)}if(this.levelFilter.value?.length&&this.levels?.length)if(this.levelFilter.value.includes("AllF"))s=this.levels.map(b=>b._id);else{const b=this.levelFilter.value;c=this.levels.filter(h=>b.includes(h.name))?.map(h=>h?._id)}this.sectorFilter?.value?.length&&this.sectorList?.length&&(_=this.sectorList.map(b=>b._id));const C={scholar_season_id:this.scholarFilter.value&&!this.scholarFilter.value?.includes("All")?this.scholarFilter.value:null,candidate_school_ids:e?.length?e:this.schoolsFilter.value?.length?this.schoolsFilter.value:null,campuses:i?.length?i:l?.length?l:null,levels:s?.length?s:c?.length?c:null,sectors:_&&_.length?_:this.sectorFilter?.value?.lenth?this.sectorFilter.value:null};this.sectorFilter?.value?.length&&(this.subs.sink=this.candidatesService.GetAllSpecializationsByScholar(C).subscribe(b=>{b?.length&&(this.specialityList=f.cloneDeep(b))},b=>{this.authService.postErrorLog(b),b&&b.message&&b.message.includes("Network error: Http failure response for")&&S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})}))}selectSpecialityFilter(){const e=this.specialityFilter.value;this.specialityFilter.patchValue(e&&e.length?e:null)}transformDate(e){return e&&e.sent_date&&e.sent_time?this.parseUtcToLocalPipe.transformDate(e.sent_date,e.sent_time):""}transformDateDue(e){return e&&e.due_date&&e.due_time?this.parseUtcToLocalPipe.transformDate(e.due_date,e.due_time):""}transformRegistrationDate(e){return e&&e.registered_at&&e.registered_at.date&&e.registered_at.time&&"registered"===e.candidate_admission_status?this.parseUtcToLocalPipe.transformDate(e.registered_at.date,e.registered_at.time):""}sendMultipleEmail(){if(this.dataSelected&&this.dataSelected.length<1)S().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else{let e;e=this.isCheckedAll?this.allCandidateData:this.dataSelected,e&&(e=e.map(i=>{let s;return s=i.payment_supports&&i.payment_supports.length>0?i.payment_supports.filter(l=>l.relation).map(l=>l.email):[],{candidate:{email:i.email,emailDefault:i.school_mail},financial_supp:{email:s}}}),console.log("_masuk",e),S().fire({title:this.translate.instant("Followup_S3.Title"),html:this.translate.instant("Followup_S3.Text"),type:"question",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("Followup_S3.BUTTON 1"),cancelButtonText:this.translate.instant("Followup_S3.BUTTON 2")}).then(i=>{i.value?(this.sendMultipleEmailComponent=this.dialog.open(r.v,{disableClose:!0,width:"750px",data:e,autoFocus:!1}),this.subs.sink=this.sendMultipleEmailComponent.afterClosed().subscribe(s=>{s&&(this.resetSelection(),this.getCandidatesData("afterSendMail")),this.sendMultipleEmailComponent=null})):(e=e.map(s=>(delete s.financial_supp,s)),this.sendMultipleEmailComponent=this.dialog.open(r.v,{disableClose:!0,width:"750px",data:e,autoFocus:!1}),this.subs.sink=this.sendMultipleEmailComponent.afterClosed().subscribe(s=>{s&&(this.resetSelection(),this.getCandidatesData("afterSendMail")),this.sendMultipleEmailComponent=null}))}))}}triggerAnnouncementMultiple(){this.isRegistrationProfileDone=!0,this.isDifferentAnnoucement=!1;const e=this.dataSelected.filter(l=>"not_done"===l.announcement_call||!l.registration_profile);let i=this.dataSelected.filter(l=>l.registration_profile);i=f.uniqBy(i,"_id"),console.log(e),this.isHasRegistrationProfileandCallNotDone=e.length>0;const s=this.dataSelected.filter(l=>{if(l&&l.announcement_email&&(l.announcement_email.sent_date||l.announcement_email.sent_time))return l});if(this.dataSelected.length>0&&(this.isRegistrationProfileDone=this.dataSelected.filter(c=>c.registration_profile).length>0),this.isDifferentAnnoucement=s.length>0,!("one"===this.selectType&&this.dataSelected.length||"all"===this.selectType)&&this.selectType||this.isWasSelectAll)this.firstEmailAllCandidate(this.dataSelected);else if(this.isRegistrationProfileDone){if(this.dataSelected&&this.dataSelected.length<1)S().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else if(this.isDifferentAnnoucement)S().fire({type:"info",title:this.translate.instant("Followup_S11.Title"),html:this.translate.instant("Followup_S11.Text"),confirmButtonText:this.translate.instant("Followup_S11.Button")});else if(this.isRegistrationProfileDone){let l="";const c=[];for(const C of i)l=l?l+", "+(C?("neutral"!==C.civility?this.translate.instant(C.civility)+" ":"")+C.first_name+" "+C.last_name:""):C?("neutral"!==C.civility?this.translate.instant(C.civility)+" ":"")+C.first_name+" "+C.last_name:"",c.push(C._id);this.sendEmailValidatorDialogComponent=this.dialog.open(p.k,{width:"800px",minHeight:"300px",panelClass:"no-padding",disableClose:!0,data:{data:i,isNeedValidator:!1,isResendMail:!1,isFc:!1,isReadmission:!1}}),this.subs.sink=this.sendEmailValidatorDialogComponent.afterClosed().subscribe(C=>{C&&(this.resetSelection(),this.getCandidatesData("afterSendEmail")),this.sendEmailValidatorDialogComponent=null})}}else S().fire({type:"info",title:this.translate.instant("Followup_S12s.Title"),html:this.translate.instant("Followup_S12s.Text"),confirmButtonText:this.translate.instant("Followup_S12s.Button")})}intakeChannel(e){let i="";return e&&e.intake_channel&&e.scholar_season&&e.intake_channel.program&&e.scholar_season.scholar_season?(i=e.scholar_season.scholar_season.concat(" ",e.intake_channel.program),i):""}csvDownloadAdmission(){if(this.dataSelected&&this.dataSelected.length<1&&!this.isCheckedAll)S().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else{const e={",":this.translate.instant("IMPORT_DECISION_S1.COMMA"),";":this.translate.instant("IMPORT_DECISION_S1.SEMICOLON"),tab:this.translate.instant("IMPORT_DECISION_S1.TAB")};S().fire({type:"question",title:this.translate.instant("EXPORT_DECISION.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translate.instant("IMPORT_DECISION_S1.CANCEL"),confirmButtonText:this.translate.instant("IMPORT_DECISION_S1.OK"),input:"radio",inputOptions:e,inputValue:this.translate&&"fr"===this.translate.currentLang?";":"",inputValidator:i=>new Promise((s,l)=>{i?(s(""),S().enableConfirmButton()):(S().disableConfirmButton(),l(this.translate.instant("IMPORT_DECISION_S1.INVALID")))}),onOpen:function(){S().disableConfirmButton(),S().getContent().addEventListener("click",function(l){S().enableConfirmButton()}),";"===S().getInput().getAttribute("value")&&S().enableConfirmButton()}}).then(i=>{i.value&&this.openDownloadCsv(i.value)})}}openDownloadCsv(e){this.filteredValues.type_of_formation_name="classic";let i=m.N.apiUrl;i=i.replace("graphql",""),document.createElement("a");const l=this.translate.currentLang.toLowerCase(),c=this.cleanFilterDataDownload(),_=this.cleanSearchingDataDownload();let C,b,h;if(this.filteredValues.candidate_admission_status?(h=`"${this.filteredValues.candidate_admission_status}"`,b='"candidate_admission_status":'+h):(h=this.filteredValues.candidate_admission_statuses.map(B=>'"'+B+'"'),b='"candidate_admission_statuses":['+h.toString()+"]"),this.dataSelected.length&&!this.isCheckedAll||this.dataUnselectUser&&this.dataUnselectUser.length){const Dt='"candidate_ids":['+this.dataSelected.map(Et=>'"'+Et._id+'"').toString()+"]";C=c.length>9?c.slice(0,8)+b+","+Dt+","+c.slice(8):c.slice(0,8)+b+","+Dt+c.slice(8)}else this.isCheckedAll&&(C=c.slice(0,8)+b+","+c.slice(8));let F="sorting={}";this.sortValue&&(F="sorting="+JSON.stringify(this.sortValue));const A=this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id.map(B=>'"'+B+'"'):[],N="downloadCandidateData/";let G;G=_?i+N+e+"/"+l+"/"+this.currentUser._id+"/"+this.currentUserTypeId+"?"+C+"&"+_+"&"+F+"&user_type_ids=["+A+"]":i+N+e+"/"+l+"/"+this.currentUser._id+"/"+this.currentUserTypeId+"?"+C+"&"+F+"&user_type_ids=["+A+"]",console.log("fullURL",G);const w={headers:new x.WM({Authorization:JSON.parse(localStorage.getItem("admtc-token-encryption"))})};this.isLoading=!0,this.httpClient.get(`${encodeURI(G)}`,w).subscribe(B=>{B?(this.isLoading=!1,S().fire({type:"success",title:this.translate.instant("ReAdmission_S3.TITLE"),text:this.translate.instant("ReAdmission_S3.TEXT"),confirmButtonText:this.translate.instant("ReAdmission_S3.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>this.resetSelection())):this.isLoading=!1},B=>{this.isLoading=!1})}hideActionButtonSeeAdmissionFile(e){let i;return i=!!(e&&e.announcement_email&&e.announcement_email.sent_date&&e.announcement_email.sent_time),i}checkIfDoesntHaveAnyDP(e){return!(!e.registration_profile||!e.registration_profile.is_down_payment||"no"!==e.registration_profile.is_down_payment)}checkIfFullDiscountAndNoDP(e){return!!(e.registration_profile&&e.registration_profile.is_down_payment&&"no"===e.registration_profile.is_down_payment&&e.registration_profile.discount_on_full_rate&&100===e.registration_profile.discount_on_full_rate&&0===e.selected_payment_plan.additional_expense)}checkConditionStatusDownPayment(e){return e.payment&&"not_authorized"===e.payment?"magenta":e.payment&&"chargeback"===e.payment?"purple":e?.billing_id?.deposit>=0&&e?.billing_id?.deposit_pay_amount&&e?.billing_id?.deposit_pay_amount>=e?.billing_id?.deposit||"paid"===e?.billing_id?.deposit_status?"green":e?.billing_id?.deposit>=0&&e?.billing_id?.deposit_pay_amount&&e?.billing_id?.deposit_pay_amount<e?.billing_id?.deposit||"partially_paid"===e?.billing_id?.deposit_status?"orange":"red"}checkDpIsNotPaid(e){let i=!1;return e&&e.billing_id&&(i=!e.billing_id.deposit&&!e.billing_id.deposit_pay_amount||!e.payment_method&&!e.billing_id.deposit_pay_amount||!("check"!==e.payment_method&&"transfer"!==e.payment_method||e.billing_id.deposit_pay_amount)),i}checkDpIsPaidPartial(e){let i=!1;return e&&e.billing_id&&(i=!(!e.billing_id.deposit&&!e.billing_id.deposit_pay_amount||!e.payment_method&&!e.billing_id.deposit_pay_amount||!(e.payment_method&&"check"!==e.payment_method&&"transfer"!==e.payment_method||e.billing_id.deposit_pay_amount))),i}renderTooltipStatusDP(e){return this.translate.instant("not_authorized"===e.payment?"Rejecteds":"chargeback"===e.payment?"Chargeback":e.billing_id&&e.billing_id.deposit>=0&&e.billing_id.deposit_pay_amount&&e.billing_id.deposit_pay_amount>=e.billing_id.deposit||"paid"===e?.billing_id?.deposit_status?"Paid":e.billing_id&&e.billing_id.deposit>=0&&e.billing_id.deposit_pay_amount&&e.billing_id.deposit_pay_amount<e.billing_id.deposit||"partially_paid"===e?.billing_id?.deposit_status?"Partially paid":"Not paid")}triggerCallDoneMultiple(){const e=this.dataSelected.filter(l=>!this.dataUnselectUser.includes(l._id)).map(l=>l._id);this.isHasRegistrationProfile=this.dataSelected.filter(l=>"done"===l.announcement_call&&l.registration_profile&&!this.dataUnselectUser.includes(l._id)).length>0,this.isNoRegistrationProfileandCallNotDone=this.dataSelected.filter(l=>"not_done"===l.announcement_call&&!l.registration_profile).length>0,!("one"===this.selectType&&this.dataSelected.length||"all"===this.selectType)&&this.selectType||this.isWasSelectAll?(this.isLoading=!1,this.firstCallAllCandidate(this.dataSelected)):this.dataSelected&&this.dataSelected.length<1?S().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")}):this.isNoRegistrationProfileandCallNotDone?S().fire({type:"info",title:this.translate.instant("Followup_S14.Title"),html:this.translate.instant("Followup_S14.Text"),confirmButtonText:this.translate.instant("Followup_S14.Button")}):(this.isLoading=!0,this.subs.sink=this.financeService.UpdateCandidateAnnouncementCall(e).subscribe(l=>{this.isLoading=!1,l&&(this.isHasRegistrationProfile?S().fire({type:"warning",title:this.translate.instant("Followup_S1.TITLE"),html:this.translate.instant("Followup_S1.TEXT"),confirmButtonText:this.translate.instant("Followup_S1.BUTTON1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetSelection(),this.getCandidatesData("afterUpdateCandidateAnnouncementCall")}):S().fire({type:"success",title:this.translate.instant("CANDIDAT_INCOMING_S2.TITLE"),html:this.translate.instant("CANDIDAT_INCOMING_S2.TEXT"),confirmButtonText:this.translate.instant("CANDIDAT_INCOMING_S2.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.resetSelection(),this.getCandidatesData("afterUpdateCandidateAnnouncementCall")}))},l=>{this.isLoading=!1,this.authService.postErrorLog(l),l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.authService.handlerSessionExpired():l&&l.message&&l.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}clearSelectIfFilter(){this.selection?.clear(),this.isCheckedAll=!1,this.dataSelected=[]}getAllProfileRate(){this.subs.sink=this.financeService.GetListProfileRatesForSameData().subscribe(e=>{e&&(this.listRegistrationProfile=e)},e=>{this.authService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():e&&e.message&&e.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}changeStatus(e){const i={candidate_admission_status:"registered"===e.candidate_admission_status?"report_inscription":"registered"},s=e.civility&&"neutral"===e.civility?"":this.translate.instant(e.civility),l=e.last_name,c=e.first_name;let _=3;"registered"===e.candidate_admission_status?S().fire({title:this.translate.instant("INSCRIPTION_REPORT_S1.TITLE"),html:this.translate.instant("INSCRIPTION_REPORT_S1.TEXT",{candidateName:s+" "+c+" "+l}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("INSCRIPTION_REPORT_S1.BUTTON_1",{timer:_}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{S().disableConfirmButton();const C=S().getConfirmButton(),b=setInterval(()=>{_-=1,C.innerText=this.translate.instant("INSCRIPTION_REPORT_S1.BUTTON_1")+` (${_})`},1e3);this.timeOutVal=setTimeout(()=>{C.innerText=this.translate.instant("INSCRIPTION_REPORT_S1.BUTTON_1"),S().enableConfirmButton(),clearInterval(b),clearTimeout(this.timeOutVal)},1e3*_)}}).then(C=>{clearTimeout(this.timeOutVal),C.value&&this.updateToPostpone(e,i)}):S().fire({title:this.translate.instant("INSCRIPTION_REPORT_S2.TITLE"),html:this.translate.instant("INSCRIPTION_REPORT_S2.TEXT",{candidateName:s+" "+c+" "+l}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("INSCRIPTION_REPORT_S2.BUTTON_1",{timer:_}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{S().disableConfirmButton();const C=S().getConfirmButton(),b=setInterval(()=>{_-=1,C.innerText=this.translate.instant("INSCRIPTION_REPORT_S2.BUTTON_1")+` (${_})`},1e3);this.timeOutVal=setTimeout(()=>{C.innerText=this.translate.instant("INSCRIPTION_REPORT_S2.BUTTON_1"),S().enableConfirmButton(),clearInterval(b),clearTimeout(this.timeOutVal)},1e3*_)}}).then(C=>{clearTimeout(this.timeOutVal),C.value&&this.updateToPostpone(e,i)})}updateToPostpone(e,i){this.isLoading=!0,this.subs.sink=this.candidatesService.UpdateCandidateStatus(e._id,i).subscribe(s=>{this.isLoading=!1,S().fire({type:"success",title:this.translate.instant("Bravo!"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S4.BUTTON")}).then(l=>{this.resetSelection(),this.getCandidatesData("afterAssignRateProfile")})},s=>{if(this.isLoading=!0,this.authService.postErrorLog(s),"GraphQL error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===s.message||"GraphQL error: Error: You type the IBAN or BIC from the legal entity. Please enter your IBAN and BIC"===s.message)S().fire({type:"info",title:this.translate.instant("LEGAL_S5.Title"),text:this.translate.instant("LEGAL_S5.Text"),confirmButtonText:this.translate.instant("LEGAL_S5.Button")});else if("GraphQL error: Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"===s.message||s.message.includes("Sorry This IBAN is related to an account outside Euro Zone not allowing SEPA Direct Debit"))S().fire({type:"info",title:this.translate.instant("EUROPEAN_COUNTRIES.TITLE"),html:this.translate.instant("EUROPEAN_COUNTRIES.TEXT"),confirmButtonText:this.translate.instant("EUROPEAN_COUNTRIES.BUTTON")});else if(s.message.includes("is invalid. Please enter a valid IBAN."))S().fire({type:"info",title:this.translate.instant("IBAN_S1.Title"),text:this.translate.instant("IBAN_S1.Text"),confirmButtonText:this.translate.instant("IBAN_S1.Button")});else{if(s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt")))return void this.authService.handlerSessionExpired();s&&s.message&&s.message.includes("Network error: Http failure response for")?S().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):S().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}})}setStatusFilter(e){const i=this.studentStatusFilter.value;if(e&&"All"===e||i&&0===i.length)i&&i.length>0&&this.studentStatusFilter.setValue(["All"]),this.filteredValues.candidate_admission_status=null,this.filteredValues.candidate_admission_statuses=["admission_in_progress","bill_validated","engaged","registered","resigned","resigned_after_engaged","resigned_after_registered","report_inscription","in_scholarship","mission_card_validated","resignation_missing_prerequisites","no_show","resign_after_school_begins"],this.paginator.pageIndex=0,this.getCandidatesData("setStatusFIlter all");else{const s=f.cloneDeep(this.studentStatusFilter.value),l=[];s.filter(_=>{"All"!==_&&l.push(_)}),this.studentStatusFilter.setValue(l),this.filteredValues.candidate_admission_status=null,this.filteredValues.candidate_admission_statuses=this.studentStatusFilter.value,this.paginator.pageIndex=0,this.getCandidatesData("setStatusFIlter selected")}}getTooltip(e){return"green"===e?this.translate.instant("Completed"):"red"===e?this.translate.instant("Rejected by the validator"):"yellow"===e?this.translate.instant("in_progress"):"orange"===e?this.translate.instant("Waiting for validation"):void 0}getAllIdForCheckbox(e,i){if("export"===this.buttonClicked)if(this.isCheckedAll)if(this.dataUnselectUser.length<1)this.csvDownloadAdmission();else{0===e&&(this.allExportForCheckbox=[],this.dataSelected=[],this.allCandidateData=[]);const s={limit:500,page:e};this.isLoading=!0;const l=this.cleanFilterData();this.subs.sink=this.candidatesService.getAllFiIdForCheckbox(s,this.sortValue,l,this.searching,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(_=>{if(_&&_.length){const C=f.cloneDeep(_);this.allExportForCheckbox=f.concat(this.allExportForCheckbox,C),this.getAllIdForCheckbox(e+1,i)}else this.isLoading=!1,this.isCheckedAll&&this.allExportForCheckbox&&this.allExportForCheckbox.length&&(this.dataSelected=this.allExportForCheckbox.filter(C=>!this.dataUnselectUser.includes(C._id)),this.allCandidateData=this.allExportForCheckbox.filter(C=>!this.dataUnselectUser.includes(C._id)),this.dataSelected=f.uniqBy(this.dataSelected,"_id"),console.log("getAllIdForCheckbox",this.dataSelected),this.dataSelected&&this.dataSelected.length&&this.csvDownloadAdmission())},_=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(_),S().fire({type:"info",title:this.translate.instant("SORRY"),text:_&&_.message?this.translate.instant(_.message.replaceAll("GraphQL error: ","")):_,confirmButtonText:this.translate.instant("OK")})})}else this.csvDownloadAdmission()}getDataCrmOk(e,i){if("crm"===this.buttonClicked)if(this.isCheckedAll){0===e&&(this.allCRMForCheckbox=[],this.dataSelected=[],this.allCandidateData=[]);const s={limit:500,page:e};this.isLoading=!0;const l=this.cleanFilterData();this.subs.sink=this.candidatesService.getFIDataCrmOk(s,this.sortValue,l,this.searching,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(_=>{if(_&&_.length){const C=f.cloneDeep(_);this.allCRMForCheckbox=f.concat(this.allCRMForCheckbox,C),this.getDataCrmOk(e+1,i)}else this.isLoading=!1,this.isCheckedAll&&this.allCRMForCheckbox&&this.allCRMForCheckbox.length&&(this.dataSelected=this.allCRMForCheckbox.filter(C=>!this.dataUnselectUser.includes(C._id)),this.allCandidateData=this.allCRMForCheckbox.filter(C=>!this.dataUnselectUser.includes(C._id)),this.dataSelected=f.uniqBy(this.dataSelected,"_id"),console.log("getDataCrmOk",this.dataSelected),this.dataSelected&&this.dataSelected.length&&this.crmOk())},_=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(_),S().fire({type:"info",title:this.translate.instant("SORRY"),text:_&&_.message?this.translate.instant(_.message.replaceAll("GraphQL error: ","")):_,confirmButtonText:this.translate.instant("OK")})})}else this.crmOk()}getDataRegisProfil(e,i){if("regis"===this.buttonClicked)if(this.isCheckedAll){0===e&&(this.allRegisForCheckbox=[],this.dataSelected=[],this.allCandidateData=[]);const s={limit:500,page:e};this.isLoading=!0;const l=this.cleanFilterData();this.subs.sink=this.candidatesService.getFIDataRegisProfil(s,this.sortValue,l,this.searching,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(_=>{if(_&&_.length){const C=f.cloneDeep(_);this.allRegisForCheckbox=f.concat(this.allRegisForCheckbox,C),this.getDataRegisProfil(e+1,i)}else this.isLoading=!1,this.isCheckedAll&&this.allRegisForCheckbox&&this.allRegisForCheckbox.length&&(this.dataSelected=this.allRegisForCheckbox.filter(C=>!this.dataUnselectUser.includes(C._id)),this.allCandidateData=this.allRegisForCheckbox.filter(C=>!this.dataUnselectUser.includes(C._id)),console.log("getFIDataRegisProfil",this.dataSelected),this.dataSelected=f.uniqBy(this.dataSelected,"_id"),this.dataSelected&&this.dataSelected.length&&this.openAssignRateProfile("","button"))},_=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(_),S().fire({type:"info",title:this.translate.instant("SORRY"),text:_&&_.message?this.translate.instant(_.message.replaceAll("GraphQL error: ","")):_,confirmButtonText:this.translate.instant("OK")})})}else this.openAssignRateProfile(this.dataSelected,"button")}getDataForCall(e,i){if("call"===this.buttonClicked)if(this.isCheckedAll){0===e&&(this.allCallForCheckbox=[],this.dataSelected=[],this.allCandidateData=[]);const s={limit:500,page:e};this.isLoading=!0;const l=this.cleanFilterData();this.subs.sink=this.candidatesService.getFIDataForCall(s,this.sortValue,l,this.searching,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(_=>{if(_&&_.length){const C=f.cloneDeep(_);this.allCallForCheckbox=f.concat(this.allCallForCheckbox,C),this.getDataForCall(e+1,i)}else this.isLoading=!1,this.isCheckedAll&&this.allCallForCheckbox&&this.allCallForCheckbox.length&&(this.dataSelected=this.allCallForCheckbox.filter(C=>!this.dataUnselectUser.includes(C._id)),this.allCandidateData=this.allCallForCheckbox.filter(C=>!this.dataUnselectUser.includes(C._id)),console.log("getFIDataForCall",this.dataSelected),this.dataSelected=f.uniqBy(this.dataSelected,"_id"),this.dataSelected&&this.dataSelected.length&&this.triggerCallDoneMultiple())},_=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(_),S().fire({type:"info",title:this.translate.instant("SORRY"),text:_&&_.message?this.translate.instant(_.message.replaceAll("GraphQL error: ","")):_,confirmButtonText:this.translate.instant("OK")})})}else this.triggerCallDoneMultiple()}getDataForFirstMail(e,i){if("announcment"===this.buttonClicked)if(this.isCheckedAll){0===e&&(this.allAnnoucmentForCheckbox=[],this.dataSelected=[],this.allCandidateData=[]);const s={limit:500,page:e};this.isLoading=!0;const l=this.cleanFilterData();this.subs.sink=this.candidatesService.getFIDataForFirstMail(s,this.sortValue,l,this.searching,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(_=>{if(_&&_.length){const C=f.cloneDeep(_);this.allAnnoucmentForCheckbox=f.concat(this.allAnnoucmentForCheckbox,C),this.getDataForFirstMail(e+1,i)}else this.isLoading=!1,this.isCheckedAll&&this.allAnnoucmentForCheckbox&&this.allAnnoucmentForCheckbox.length&&(this.dataSelected=this.allAnnoucmentForCheckbox.filter(C=>!this.dataUnselectUser.includes(C._id)),this.allCandidateData=this.allAnnoucmentForCheckbox.filter(C=>!this.dataUnselectUser.includes(C._id)),console.log("getFIDataForFirstMail",this.dataSelected),this.dataSelected=f.uniqBy(this.dataSelected,"_id"),this.dataSelected&&this.dataSelected.length&&this.triggerAnnouncementMultiple())},_=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(_),S().fire({type:"info",title:this.translate.instant("SORRY"),text:_&&_.message?this.translate.instant(_.message.replaceAll("GraphQL error: ","")):_,confirmButtonText:this.translate.instant("OK")})})}else this.triggerAnnouncementMultiple()}getFIDataForDevMember(e,i){if("member"===this.buttonClicked)if(this.isCheckedAll){0===e&&(this.allMemberForCheckbox=[],this.dataSelected=[],this.allCandidateData=[]);const s={limit:500,page:e};this.isLoading=!0;const l=this.cleanFilterData();this.subs.sink=this.candidatesService.getFIDataForDevMember(s,this.sortValue,l,this.searching,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(_=>{if(_&&_.length){const C=f.cloneDeep(_);this.allMemberForCheckbox=f.concat(this.allMemberForCheckbox,C),this.getFIDataForDevMember(e+1,i)}else this.isLoading=!1,this.isCheckedAll&&this.allMemberForCheckbox&&this.allMemberForCheckbox.length&&(this.dataSelected=this.allMemberForCheckbox.filter(C=>!this.dataUnselectUser.includes(C._id)),this.allCandidateData=this.allMemberForCheckbox.filter(C=>!this.dataUnselectUser.includes(C._id)),console.log("getFIDataRegisProfil",this.dataSelected),this.dataSelected=f.uniqBy(this.dataSelected,"_id"),this.dataSelected&&this.dataSelected.length&&this.openAssignMember("","button"))},_=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(_),S().fire({type:"info",title:this.translate.instant("SORRY"),text:_&&_.message?this.translate.instant(_.message.replaceAll("GraphQL error: ","")):_,confirmButtonText:this.translate.instant("OK")})})}else this.openAssignMember(this.dataSelected,"button")}getFIDataForSendMail(e,i){if("email"===this.buttonClicked)if(this.isCheckedAll){0===e&&(this.allEmailForCheckbox=[],this.dataSelected=[],this.allCandidateData=[]);const s={limit:500,page:e};this.isLoading=!0;const l=this.cleanFilterData();this.subs.sink=this.candidatesService.getFIDataForSendMail(s,this.sortValue,l,this.searching,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(_=>{if(_&&_.length){const C=f.cloneDeep(_);this.allEmailForCheckbox=f.concat(this.allEmailForCheckbox,C),this.getFIDataForSendMail(e+1,i)}else this.isLoading=!1,this.isCheckedAll&&this.allEmailForCheckbox&&this.allEmailForCheckbox.length&&(this.dataSelected=this.allEmailForCheckbox.filter(C=>!this.dataUnselectUser.includes(C._id)),this.allCandidateData=this.allEmailForCheckbox.filter(C=>!this.dataUnselectUser.includes(C._id)),console.log("getFIDataForFirstMail",this.dataSelected),this.dataSelected=f.uniqBy(this.dataSelected,"_id"),this.dataSelected&&this.dataSelected.length&&this.sendMultipleEmail())},_=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(_),S().fire({type:"info",title:this.translate.instant("SORRY"),text:_&&_.message?this.translate.instant(_.message.replaceAll("GraphQL error: ","")):_,confirmButtonText:this.translate.instant("OK")})})}else this.sendMultipleEmail()}compareUnselectStudent(e){let i=!1;return this.isCheckedAll&&(i=!0,this.dataUnselectUser.includes(e._id)&&(i=!1)),i}controllerButton(e){switch(e){case"export":setTimeout(()=>{this.getAllIdForCheckbox(0,"export")},500);break;case"regis":setTimeout(()=>{this.getDataRegisProfil(0,"regis")},500);break;case"announcment":setTimeout(()=>{this.getDataForFirstMail(0,"announcment")},500);break;case"email":setTimeout(()=>{this.getFIDataForSendMail(0,"email")},500);break;case"call":setTimeout(()=>{this.getDataForCall(0,"call")},500);break;case"member":setTimeout(()=>{this.getFIDataForDevMember(0,"member")},500);break;case"crm":setTimeout(()=>{this.getDataCrmOk(0,"crm")},500);break;default:this.resetCandidate()}}filterBreadcrumb(e){const{type:i,column:s}=e,l=this.filterBreadcrumbData.findIndex(c=>c?.type===i&&c?.column===s);-1!==l?(this.filterBreadcrumbData[l]=e,!this.filterBreadcrumbData[l]?.value?.length&&!this.filterBreadcrumbData[l]?.key?.length&&this.filterBreadcrumbData.splice(l,1)):-1===l&&e?.value?.length&&this.filterBreadcrumbData.push(e)}removeFilterBreadcrumb(e){this.filterBreadcrumbData=[],"super_filter"===e.type?(this.filteredValuesSuperFilter[e?.name]=null,this.filteredValues[e?.name]=null):"table_filter"===e.type&&(this.filteredValues[e?.name]=null),"scholar_season"===e?.name&&"super_filter"===e.type?(this.scholarFilter.patchValue("All"),this.filteredValues.school=null,this.filteredValues.campus=null,this.filteredValues.level=null,this.filteredValues.sectors=null,this.filteredValues.specialities=null,this.scholarSelect()):"school"===e?.name&&"super_filter"===e.type?(this.schoolsFilter.patchValue(null),this.filteredValues.campus=null,this.filteredValues.level=null,this.filteredValues.sectors=null,this.filteredValues.specialities=null,this.selectSchoolFilter()):"campus"===e?.name&&"super_filter"===e.type?(this.campusFilter.patchValue(null),this.filteredValues.level=null,this.filteredValues.sectors=null,this.filteredValues.specialities=null,this.selectCampusFilter()):"level"===e?.name&&"super_filter"===e.type?(this.levelFilter.patchValue(null),this.filteredValues.sectors=null,this.filteredValues.specialities=null,this.selectLevelFilter()):"sectors"===e?.name&&"super_filter"===e.type?(this.sectorFilter.patchValue(null),this.filteredValues.specialities=null,this.selectSectorFilter()):"specialities"===e?.name&&"super_filter"===e.type?(this.specialityFilter.patchValue(null),this.selectSpecialityFilter()):"AdmissionFollowUp.Down payment"===e.column?e.filterRef.patchValue("AllM",{emitEvent:!1}):"registration_profile_status"===e.name?e.filterRef.patchValue(["All"]):"admission_document_process_status"===e.name?this.admissionDocumentFilter.setValue("AllF"):"trial_date"===e.name?(this.searching.trial_date="",this.trialDateCtrl.setValue(this.translate.instant("All")),this.filteredTrialDateList=(0,rt.of)(this.trialDateList)):"announcement_call"===e.name?this.announcementCallFilter.setValue("AllF"):"registration_email_date"===e.name?this.announcementEmailFilter.setValue("AllF"):"candidate_admission_statuses"===e.name||"candidate_admission_status"===e.name?this.studentStatusFilter.setValue(["All"]):"personal_information"===e.name?this.personalInfoFilter.setValue("AllF"):"connection"===e.name?this.connectionFilter.setValue("AllF"):"method_of_payment"===e.name?this.paymentMethodFilter.setValue("AllF"):"is_oscar_updated"===e.name?this.crmFilter.setValue("AllF"):"is_admitted"===e.name?this.conditionFilter.setValue("All"):"signature"===e.name?this.signatureFilter.setValue("AllF"):"payment_method"===e.name?this.downPaymentFilter.setValue("AllF"):e.filterRef.patchValue(e.isMultiple?[e.resetValue]:e.resetValue,{emitEvent:!1}),this.clearSelectIfFilter(),this.getCandidatesData("resetCandidate")}filterBreadcrumbFormat(){const e=this.studentStatusFilter.value,l=this.admittedFilterList.map(h=>({key:h.key,value:"Admitted"===h.value?"true":"Not admitted"===h.value?"false":h.value})),c=[{type:"super_filter",name:"scholar_season",column:"CARDDETAIL.Scholar Season",isMultiple:!1,filterValue:this.filteredValues,filterList:this.scholars,filterRef:this.scholarFilter,isSelectionInput:!0,displayKey:"scholar_season",savedValue:"_id"},{type:"super_filter",name:"school",column:"ADMISSION.TABLE_ADMISSION_CHANNEL.School",isMultiple:!0,filterValue:this.school?.length===this.schoolsFilter?.value?.length?this.filteredValuesAll:this.filteredValues,filterList:this.school?.length===this.schoolsFilter?.value?.length?null:this.school,filterRef:this.schoolsFilter,displayKey:this.school?.length===this.schoolsFilter?.value?.length?null:"short_name",savedValue:this.school?.length===this.schoolsFilter?.value?.length?null:"_id",isSelectionInput:this.school?.length!==this.schoolsFilter?.value?.length},{type:"super_filter",name:"campus",column:"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus",isMultiple:!0,filterValue:this.campusList?.length===this.campusFilter?.value?.length?this.filteredValuesAll:this.filteredValues,filterList:this.campusList?.length===this.campusFilter?.value?.length?null:this.campusList,filterRef:this.campusFilter,displayKey:this.campusList?.length===this.campusFilter?.value?.length?null:"name",savedValue:this.campusList?.length===this.campusFilter?.value?.length?null:"name",isSelectionInput:this.campusList?.length!==this.campusFilter?.value?.length},{type:"super_filter",name:"level",column:"ADMISSION.TABLE_ADMISSION_CHANNEL.Level",isMultiple:!0,filterValue:this.levels?.length===this.levelFilter?.value?.length?this.filteredValuesAll:this.filteredValues,filterList:this.levels?.length===this.levelFilter?.value?.length?null:this.levels,filterRef:this.levelFilter,displayKey:this.levels?.length===this.levelFilter?.value?.length?null:"name",savedValue:this.levels?.length===this.levelFilter?.value?.length?null:"name",isSelectionInput:this.levels?.length!==this.levelFilter?.value?.length},{type:"super_filter",name:"sectors",column:"ADMISSION.TABLE_ADMISSION_CHANNEL.Sector",isMultiple:!0,filterValue:this.sectorList?.length===this.sectorFilter?.value?.length?this.filteredValuesAll:this.filteredValuesSuperFilter,filterList:this.sectorList?.length===this.sectorFilter?.value?.length?null:this.sectorList,filterRef:this.sectorFilter,displayKey:this.sectorList?.length===this.sectorFilter?.value?.length?null:"name",savedValue:this.sectorList?.length===this.sectorFilter?.value?.length?null:"_id",isSelectionInput:this.sectorList?.length!==this.sectorFilter?.value?.length},{type:"super_filter",name:"specialities",column:"ADMISSION.TABLE_ADMISSION_CHANNEL.Speciality",isMultiple:!0,filterValue:this.specialityList?.length===this.specialityFilter?.value?.length?this.filteredValuesAll:this.filteredValuesSuperFilter,filterList:this.specialityList?.length===this.specialityFilter?.value?.length?null:this.specialityList,displayKey:this.specialityList?.length===this.specialityFilter?.value?.length?null:"name",filterRef:this.specialityFilter,savedValue:this.specialityList?.length===this.specialityFilter?.value?.length?null:"_id",isSelectionInput:this.specialityList?.length!==this.specialityFilter?.value?.length},{type:"table_filter",name:"candidate_unique_number",column:"student number",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.studentNumberFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"candidate",column:"AdmissionFollowUp.Name",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.lastNameFilter,displayKey:null,savedValue:null,isSelectionInput:!1,noTranslate:!0},{type:"table_filter",name:"nationalities",column:"AdmissionFollowUp.Nationality",isMultiple:this.nationalityFilter?.value?.length!==this.nationalityFilterList?.length,filterValue:this.nationalityFilter?.value?.length===this.nationalityFilterList?.length?this.filteredValuesAll:this.filteredValues,filterList:this.nationalityFilter?.value?.length===this.nationalityFilterList?.length?null:this.nationalityFilterList,filterRef:this.nationalityFilter,displayKey:this.nationalityFilter?.value?.length===this.nationalityFilterList?.length?null:"value",savedValue:this.nationalityFilter?.value?.length===this.nationalityFilterList?.length?null:"value",isSelectionInput:this.nationalityFilter?.value?.length!==this.nationalityFilterList?.length,resetValue:null},{type:"table_filter",name:"intake_channels",column:"AdmissionFollowUp.Intake channel",isMultiple:this.entryWayFilter?.value?.length!==this.entryWayFilterList?.length,filterValue:this.entryWayFilter?.value?.length===this.entryWayFilterList?.length?this.filteredValuesAll:this.filteredValues,filterList:this.entryWayFilter?.value?.length===this.entryWayFilterList?.length?null:this.entryWayFilterList,filterRef:this.entryWayFilter,displayKey:this.entryWayFilter?.value?.length===this.entryWayFilterList?.length?null:"intake_channel",savedValue:this.entryWayFilter?.value?.length===this.entryWayFilterList?.length?null:"_id",isSelectionInput:this.entryWayFilter?.value?.length!==this.entryWayFilterList?.length,resetValue:null},{type:"table_filter",name:e?.length&&JSON.stringify(e)!==JSON.stringify(["All"])?"candidate_admission_statuses":"candidate_admission_status",column:"AdmissionFollowUp.Status",isMultiple:!0,filterValue:this.studentStatusFilterList?.length===this.studentStatusFilter?.value?.length?this.filteredValuesAll:this.filteredValues,filterList:this.studentStatusFilterList?.length===this.studentStatusFilter?.value?.length?null:this.studentStatusFilterList,filterRef:this.studentStatusFilter,displayKey:this.studentStatusFilterList?.length===this.studentStatusFilter?.value?.length?null:"key",savedValue:this.studentStatusFilterList?.length===this.studentStatusFilter?.value?.length?null:"value",isSelectionInput:this.studentStatusFilterList?.length!==this.studentStatusFilter?.value?.length},{type:"table_filter",name:this.filteredValues.registration_profile_statuses?"registration_profile_statuses":"registration_profile",column:"AdmissionFollowUp.Registration profile",isMultiple:this.profileRateFilter?.value?.length!==this.profileRateFilterList?.length-2,filterValue:this.profileRateFilter?.value?.length===this.profileRateFilterList?.length-2?this.filteredValuesAll:this.filteredValues,filterList:this.profileRateFilter?.value?.length===this.profileRateFilterList?.length-2?null:this.profileRateFilterList,filterRef:this.profileRateFilter,displayKey:this.profileRateFilter?.value?.length===this.profileRateFilterList?.length-2?null:"name",savedValue:this.profileRateFilter?.value?.length===this.profileRateFilterList?.length-2?null:"_id",isSelectionInput:this.profileRateFilter?.value?.length!==this.profileRateFilterList?.length-2,resetValue:null},{type:"table_filter",name:"announcement_calls",column:"AdmissionFollowUp.Announcement call",isMultiple:this.announcementCallFilter?.value?.length!==this.announcementCallFilterList?.length,filterValue:this.announcementCallFilter?.value?.length===this.announcementCallFilterList?.length?this.filteredValuesAll:this.filteredValues,filterList:this.announcementCallFilter?.value?.length===this.announcementCallFilterList?.length?null:this.announcementCallFilterList,filterRef:this.announcementCallFilter,displayKey:this.announcementCallFilter?.value?.length===this.announcementCallFilterList?.length?null:"key",savedValue:this.announcementCallFilter?.value?.length===this.announcementCallFilterList?.length?null:"value",isSelectionInput:this.announcementCallFilter?.value?.length!==this.announcementCallFilterList?.length,resetValue:null},{type:"table_filter",name:"registration_email_dates",column:"AdmissionFollowUp.Registration Email",isMultiple:this.announcementEmailFilterList?.length!==this.announcementEmailFilter?.value?.length,filterValue:this.announcementEmailFilterList?.length===this.announcementEmailFilter?.value?.length?this.filteredValuesAll:this.filteredValues,filterList:this.announcementEmailFilterList?.length===this.announcementEmailFilter?.value?.length?null:this.announcementEmailFilterList,filterRef:this.announcementEmailFilter,displayKey:this.announcementEmailFilterList?.length===this.announcementEmailFilter?.value?.length?null:"key",savedValue:this.announcementEmailFilterList?.length===this.announcementEmailFilter?.value?.length?null:"value",isSelectionInput:this.announcementEmailFilterList?.length!==this.announcementEmailFilter?.value?.length},{type:"table_filter",name:"connections",column:"AdmissionFollowUp.Connection",isMultiple:this.connectionFilterList?.length!==this.connectionFilter?.value?.length,filterValue:this.connectionFilterList?.length===this.connectionFilter?.value?.length?this.filteredValuesAll:this.filteredValues,filterList:this.connectionFilterList?.length===this.connectionFilter?.value?.length?null:this.connectionFilterList,filterRef:this.connectionFilter,displayKey:this.connectionFilterList?.length===this.connectionFilter?.value?.length?null:"key",savedValue:this.connectionFilterList?.length===this.connectionFilter?.value?.length?null:"value",isSelectionInput:this.connectionFilterList?.length!==this.connectionFilter?.value?.length},{type:"table_filter",name:"personal_informations",column:"AdmissionFollowUp.Identity",isMultiple:this.personalInfoFilterList?.length!==this.personalInfoFilter?.value?.length,filterValue:this.personalInfoFilterList?.length===this.personalInfoFilter?.value?.length?this.filteredValuesAll:this.filteredValues,filterList:this.personalInfoFilterList?.length===this.personalInfoFilter?.value?.length?null:this.personalInfoFilterList,filterRef:this.personalInfoFilter,displayKey:this.personalInfoFilterList?.length===this.personalInfoFilter?.value?.length?null:"key",savedValue:this.personalInfoFilterList?.length===this.personalInfoFilter?.value?.length?null:"value",isSelectionInput:this.personalInfoFilterList?.length!==this.personalInfoFilter?.value?.length},{type:"table_filter",name:"method_of_payments",column:"AdmissionFollowUp.Payment mode",isMultiple:this.paymentMethodFilterList?.length!==this.paymentMethodFilter?.value?.length,filterValue:this.paymentMethodFilterList?.length===this.paymentMethodFilter?.value?.length?this.filteredValuesAll:this.filteredValues,filterList:this.paymentMethodFilterList?.length===this.paymentMethodFilter?.value?.length?null:this.paymentMethodFilterList,filterRef:this.paymentMethodFilter,displayKey:this.paymentMethodFilterList?.length===this.paymentMethodFilter?.value?.length?null:"key",savedValue:this.paymentMethodFilterList?.length===this.paymentMethodFilter?.value?.length?null:"value",isSelectionInput:this.paymentMethodFilterList?.length!==this.paymentMethodFilter?.value?.length},{type:"table_filter",name:"is_admitteds",column:"AdmissionFollowUp.Conditions",isMultiple:l?.length!==this.conditionFilter?.value?.length,filterValue:l?.length===this.conditionFilter?.value?.length?this.filteredValuesAll:this.filteredValues,filterList:l?.length===this.conditionFilter?.value?.length?null:l,filterRef:this.conditionFilter,displayKey:l?.length===this.conditionFilter?.value?.length?null:"key",savedValue:l?.length===this.conditionFilter?.value?.length?null:"value",isSelectionInput:l?.length!==this.conditionFilter?.value?.length},{type:"table_filter",name:"signatures",column:"AdmissionFollowUp.School contract",isMultiple:this.signatureFilterList?.length!==this.signatureFilter?.value?.length,filterValue:this.signatureFilterList?.length===this.signatureFilter?.value?.length?this.filteredValuesAll:this.filteredValues,filterList:this.signatureFilterList?.length===this.signatureFilter?.value?.length?null:this.signatureFilterList,filterRef:this.signatureFilter,displayKey:this.signatureFilterList?.length===this.signatureFilter?.value?.length?null:"key",savedValue:this.signatureFilterList?.length===this.signatureFilter?.value?.length?null:"value",isSelectionInput:this.signatureFilterList?.length!==this.signatureFilter?.value?.length},{type:"table_filter",name:"payment_methods",column:"AdmissionFollowUp.Down payment method",isMultiple:this.downPaymentFilterList?.length!==this.downPaymentFilter?.value?.length,filterValue:this.downPaymentFilterList?.length===this.downPaymentFilter?.value?.length?this.filteredValuesAll:this.filteredValues,filterList:this.downPaymentFilterList?.length===this.downPaymentFilter?.value?.length?null:this.downPaymentFilterList,filterRef:this.downPaymentFilterList,displayKey:this.downPaymentFilterList?.length===this.downPaymentFilter?.value?.length?null:"key",savedValue:this.downPaymentFilterList?.length===this.downPaymentFilter?.value?.length?null:"value",isSelectionInput:this.downPaymentFilterList?.length!==this.downPaymentFilter?.value?.length},{type:"table_filter",name:this.filteredValues.payment?"payment":"is_deposit_paids",column:"AdmissionFollowUp.Down payment",isMultiple:this.DPFilterList?.length!==this.paymentFilter?.value?.length,filterValue:this.DPFilterList?.length===this.paymentFilter?.value?.length?this.filteredValuesAll:this.filteredValues,filterList:this.DPFilterList?.length===this.paymentFilter?.value?.length?null:this.DPFilterList,filterRef:this.paymentFilter,displayKey:this.DPFilterList?.length===this.paymentFilter?.value?.length?null:"label",savedValue:this.DPFilterList?.length===this.paymentFilter?.value?.length?null:"value",isSelectionInput:this.DPFilterList?.length!==this.paymentFilter?.value?.length},{type:"table_filter",name:"registered_at",column:"AdmissionFollowUp.Registration Date",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.registrationDateFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"admission_document_process_statuses",column:"Admission doc",isMultiple:this.listAdmission?.length!==this.admissionDocumentFilter?.value?.length,filterValue:this.listAdmission?.length===this.admissionDocumentFilter?.value?.length?this.filteredValuesAll:this.filteredValues,filterList:this.listAdmission?.length===this.admissionDocumentFilter?.value?.length?null:this.listAdmission,filterRef:this.admissionDocumentFilter,displayKey:this.listAdmission?.length===this.admissionDocumentFilter?.value?.length?null:"key",savedValue:this.listAdmission?.length===this.admissionDocumentFilter?.value?.length?null:"value",isSelectionInput:this.listAdmission?.length!==this.admissionDocumentFilter?.value?.length},{type:"table_filter",name:"registration_email_due_date",column:"AdmissionFollowUp.Due date",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.dueDateFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"trial_dates",column:"Trial date",isMultiple:this.trialDateList?.length!==this.trialDateCtrl?.value?.length,filterValue:this.trialDateList?.length===this.trialDateCtrl?.value?.length?this.filteredValuesAll:this.searching,filterList:this.trialDateList?.length===this.trialDateCtrl?.value?.length?null:this.trialDateList,filterRef:this.trialDateCtrl,displayKey:this.trialDateList?.length===this.trialDateCtrl?.value?.length?null:"label",savedValue:this.trialDateList?.length===this.trialDateCtrl?.value?.length?null:"value",isSelectionInput:this.trialDateList?.length!==this.trialDateCtrl?.value?.length},{type:"table_filter",name:"admission_member",column:"AdmissionFollowUp.Dev member",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.devMemberFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"is_oscar_updateds",column:"CRM",isMultiple:this.listCrm?.length!==this.crmFilter?.value?.length,filterValue:this.listCrm?.length===this.crmFilter?.value?.length?this.filteredValuesAll:this.filteredValues,filterList:this.listCrm?.length===this.crmFilter?.value?.length?null:this.listCrm,filterRef:this.crmFilter,displayKey:this.listCrm?.length===this.crmFilter?.value?.length?null:"key",savedValue:this.listCrm?.length===this.crmFilter?.value?.length?null:"value",isSelectionInput:this.listCrm?.length!==this.crmFilter?.value?.length}],b=h=>{const F="boolean"==typeof h?.filterValue?.[h?.name]?String(h?.filterValue?.[h.name]):h.filterValue[h.name];return F?h.isSelectionInput?h.isMultiple?((h,F,A,N)=>h?.filter(G=>F?.includes(G[A]))?.map(G=>G[N]))(h.filterList,h.filterValue[h?.name],h.savedValue,h.displayKey):((h,F,A,N)=>h?.find(G=>G[A]===F)?.[N])(h.filterList,F,h.savedValue,h.displayKey):F:null};console.log("filterInfo",c),c.forEach(h=>{const F="boolean"==typeof h?.filterValue?.[h.name]?String(h?.filterValue?.[h.name]):h?.filterValue?.[h.name],A={type:h.type,name:h.name,column:h.column,value:F||null,key:b(h),noTranslate:h?.noTranslate,isMultiple:h.isMultiple,filterRef:h.filterRef};this.filterBreadcrumb(A)})}isAllDropdownSelected(e){if("scholar"===e){const i=this.scholarFilter.value;return i&&0!==i.length&&i.length===this.scholars.length}if("school"===e){const i=this.schoolsFilter.value;return i&&0!==i.length&&i.length===this.school.length}if("campus"===e){const i=this.campusFilter.value;return i&&0!==i.length&&i.length===this.campusList.length}if("level"===e){const i=this.levelFilter.value;return i&&0!==i.length&&i.length===this.levels.length}if("sector"===e){const i=this.sectorFilter.value;return i&&0!==i.length&&i.length===this.sectorList.length}if("speciality"===e){const i=this.specialityFilter.value;return i&&0!==i.length&&i.length===this.specialityList.length}if("tags"===e);else{if("downPayment"===e){const i=this.paymentFilter.value;return i&&0!==i.length&&i.length===this.DPFilterList.length}if("nationality"===e){const i=this.nationalityFilter.value;return i&&0!==i.length&&i.length===this.nationalityFilterList.length}if("intakeChannel"===e){const i=this.nationalityFilter.value;return i&&0!==i.length&&i.length===this.entryWayFilterList.length}if("studentStatus"===e){const i=this.studentStatusFilter.value;return i&&0!==i.length&&i.length===this.studentStatusFilterList.length}if("announcement_call"===e){const i=this.announcementCallFilter.value;return i&&0!==i.length&&i.length===this.announcementCallFilterList.length}if("connections"===e){const i=this.connectionFilter.value;return i&&0!==i.length&&i.length===this.connectionFilterList.length}if("personal"===e){const i=this.personalInfoFilter.value;return i&&0!==i.length&&i.length===this.personalInfoFilterList.length}if("conditions"===e){const i=this.conditionFilter.value;return i&&0!==i.length&&i.length===this.admittedFilterList.length}if("signature"===e){const i=this.signatureFilter.value;return i&&0!==i.length&&i.length===this.signatureFilterList.length}if("downPaymentMethod"===e){const i=this.downPaymentFilter.value;return i&&0!==i.length&&i.length===this.downPaymentFilterList.length}if("paymentMethod"===e){const i=this.paymentMethodFilter.value;return i&&0!==i.length&&i.length===this.paymentMethodFilterList.length}if("admissionDocument"===e){const i=this.admissionDocumentFilter.value;return i&&0!==i.length&&i.length===this.listAdmission.length}if("oscarStatus"===e){const i=this.crmFilter.value;return i&&0!==i.length&&i.length===this.listCrm.length}if("trialDates"===e){const i=this.trialDateCtrl.value;return i&&0!==i.length&&i.length===this.trialDateList.length}if("profilRate"===e){const i=this.profileRateFilter.value;return i&&0!==i.length&&i.length===this.profileRateFilterList.length}}}isSomeDropdownSelected(e){if("scholar"===e){const i=this.scholarFilter.value;return i&&0!==i.length&&i.length!==this.scholars.length}if("school"===e){const i=this.schoolsFilter.value;return i&&0!==i.length&&i.length!==this.school.length}if("campus"===e){const i=this.campusFilter.value;return i&&0!==i.length&&i.length!==this.campusList.length}if("level"===e){const i=this.levelFilter.value;return i&&0!==i.length&&i.length!==this.levels.length}if("sector"===e){const i=this.sectorFilter.value;return i&&0!==i.length&&i.length!==this.sectorList.length}if("speciality"===e){const i=this.specialityFilter.value;return i&&0!==i.length&&i.length!==this.specialityList.length}if("tags"===e);else{if("downPayment"===e){const i=this.paymentFilter.value;return i&&0!==i.length&&i.length!==this.DPFilterList.length}if("nationality"===e){const i=this.nationalityFilter.value;return i&&0!==i.length&&i.length!==this.nationalityFilterList.length}if("intakeChannel"===e){const i=this.entryWayFilter.value;return i&&0!==i.length&&i.length!==this.entryWayFilterList.length}if("studentStatus"===e){const i=this.studentStatusFilter.value;return i&&0!==i.length&&i.length!==this.studentStatusFilterList.length}if("announcement_call"===e){const i=this.announcementCallFilter.value;return i&&0!==i.length&&i.length!==this.announcementCallFilterList.length}if("connections"===e){const i=this.connectionFilter.value;return i&&0!==i.length&&i.length!==this.connectionFilterList.length}if("personal"===e){const i=this.personalInfoFilter.value;return i&&0!==i.length&&i.length!==this.personalInfoFilterList.length}if("conditions"===e){const i=this.conditionFilter.value;return i&&0!==i.length&&i.length!==this.admittedFilterList.length}if("signature"===e){const i=this.signatureFilter.value;return i&&0!==i.length&&i.length!==this.signatureFilterList.length}if("downPaymentMethod"===e){const i=this.downPaymentFilter.value;return i&&0!==i.length&&i.length!==this.downPaymentFilterList.length}if("paymentMethod"===e){const i=this.paymentMethodFilter.value;return i&&0!==i.length&&i.length!==this.paymentMethodFilterList.length}if("admissionDocument"===e){const i=this.admissionDocumentFilter.value;return i&&0!==i.length&&i.length!==this.listAdmission.length}if("oscarStatus"===e){const i=this.crmFilter.value;return i&&0!==i.length&&i.length!==this.listCrm.length}if("trialDates"===e){const i=this.trialDateCtrl.value;return i&&0!==i.length&&i.length!==this.trialDateList.length}if("profilRate"===e){const i=this.profileRateFilter.value;return i&&0!==i.length&&i.length!==this.profileRateFilterList.length}}}selectAllData(e,i){if("scholar"===i)this.scholarFilter.patchValue(e.checked?"All":null,{emitEvent:!1});else if("school"===i)if(e.checked){const s=this.school.map(l=>l._id);this.schoolsFilter.patchValue(s,{emitEvent:!1})}else this.schoolsFilter.patchValue(null,{emitEvent:!1});else if("campus"===i)if(e.checked){const s=this.campusList.map(l=>l.name);this.campusFilter.patchValue(s,{emitEvent:!1})}else this.campusFilter.patchValue(null,{emitEvent:!1});else if("level"===i)if(e.checked){const s=this.levels.map(l=>l.name);this.levelFilter.patchValue(s,{emitEvent:!1})}else this.levelFilter.patchValue(null,{emitEvent:!1});else if("sector"===i)if(e.checked){const s=this.sectorList.map(l=>l._id);this.sectorFilter.patchValue(s,{emitEvent:!1})}else this.sectorFilter.patchValue(null,{emitEvent:!1});else if("speciality"===i)if(e.checked){const s=this.specialityList.map(l=>l._id);this.specialityFilter.patchValue(s,{emitEvent:!1})}else this.specialityFilter.patchValue(null,{emitEvent:!1});else if("tags"===i)if(e.checked){const s=this.tagList.map(l=>l._id);this.tagFilter.patchValue(s,{emitEvent:!1})}else this.tagFilter.patchValue(null,{emitEvent:!1});else if("downPayment"===i)if(e.checked){const s=this.DPFilterList.map(l=>l.value);this.paymentFilter.patchValue(s,{emitEvent:!1})}else this.paymentFilter.patchValue(null,{emitEvent:!1});else if("nationality"===i)if(e.checked){const s=this.nationalityFilterList.map(l=>l.value);this.nationalityFilter.patchValue(s,{emitEvent:!1})}else this.nationalityFilter.patchValue(null,{emitEvent:!1});else if("intakeChannel"===i)if(e.checked){const s=this.entryWayFilterList.map(l=>l._id);this.entryWayFilter.patchValue(s,{emitEvent:!1})}else this.entryWayFilter.patchValue(null,{emitEvent:!1});else if("studentStatus"===i)if(e.checked){const s=this.studentStatusFilterList.map(l=>l.value);this.studentStatusFilter.patchValue(s,{emitEvent:!1})}else this.studentStatusFilter.patchValue(null,{emitEvent:!1});else if("announcement_call"===i)if(e.checked){const s=this.announcementCallFilterList.map(l=>l.value);this.announcementCallFilter.patchValue(s,{emitEvent:!1})}else this.announcementCallFilter.patchValue(null,{emitEvent:!1});else if("announcement_email"===i)if(e.checked){const s=this.announcementEmailFilterList.map(l=>l.value);this.announcementEmailFilter.patchValue(s,{emitEvent:!1})}else this.announcementEmailFilter.patchValue(null,{emitEvent:!1});else if("connections"===i)if(e.checked){const s=this.connectionFilterList.map(l=>l.value);this.connectionFilter.patchValue(s,{emitEvent:!1})}else this.connectionFilter.patchValue(null,{emitEvent:!1});else if("personal"===i)if(e.checked){const s=this.personalInfoFilterList.map(l=>l.value);this.personalInfoFilter.patchValue(s,{emitEvent:!1})}else this.personalInfoFilter.patchValue(null,{emitEvent:!1});else if("conditions"===i)if(e.checked){const s=this.admittedFilterList.map(l=>l.value);this.conditionFilter.patchValue(s,{emitEvent:!1})}else this.conditionFilter.patchValue(null,{emitEvent:!1});else if("signature"===i)if(e.checked){const s=this.signatureFilterList.map(l=>l.value);this.signatureFilter.patchValue(s,{emitEvent:!1})}else this.signatureFilter.patchValue(null,{emitEvent:!1});else if("downPaymentMethod"===i)if(e.checked){const s=this.downPaymentFilterList.map(l=>l.value);this.downPaymentFilter.patchValue(s,{emitEvent:!1})}else this.downPaymentFilter.patchValue(null,{emitEvent:!1});else if("paymentMethod"===i)if(e.checked){const s=this.paymentMethodFilterList.map(l=>l.value);this.paymentMethodFilter.patchValue(s,{emitEvent:!1})}else this.paymentMethodFilter.patchValue(null,{emitEvent:!1});else if("admissionDocument"===i)if(e.checked){const s=this.listAdmission.map(l=>l.value);this.admissionDocumentFilter.patchValue(s,{emitEvent:!1})}else this.admissionDocumentFilter.patchValue(null,{emitEvent:!1});else if("oscarStatus"===i)if(e.checked){const s=this.listCrm.map(l=>l.value);this.crmFilter.patchValue(s,{emitEvent:!1})}else this.crmFilter.patchValue(null,{emitEvent:!1});else if("trialDates"===i)if(e.checked){const s=this.trialDateList.map(l=>l.value);this.trialDateCtrl.patchValue(s,{emitEvent:!1})}else this.trialDateCtrl.patchValue(null,{emitEvent:!1});else if("profilRate"===i)if(e.checked){const s=this.profileRateFilterList.map(l=>l._id);this.profileRateFilter.patchValue(s,{emitEvent:!1})}else this.profileRateFilter.patchValue(null,{emitEvent:!1})}setDownPaymentFilter(){this.dataSelected=[],this.isCheckedAll=!1,this.dataUnselectUser=[];const e=this.paymentFilter?.value?.filter(c=>"not_authorized"===c||"pending"===c),i=this.paymentFilter?.value?.filter(c=>"not_authorized"!==c&&"pending"!==c),s=JSON.stringify(this.tempDataFilter.downPayments)===JSON.stringify(this.paymentFilter.value);s||(this.paymentFilter.value?.length&&e?.length&&(e?.length?(this.filteredValues.payments=e,this.filteredValues.is_deposit_paids=i?.length?i:null,this.tempDataFilter.downPayments=this.paymentFilter.value,this.isReset||this.getCandidatesData("paymentFilter")):this.tempDataFilter.downPayments?.length&&this.paymentFilter.value?.length&&!e?.length&&(this.filteredValues.payments=null,this.tempDataFilter.downPayments=this.paymentFilter.value,this.isReset||this.getCandidatesData("paymentFilter"))),!s&&(this.paymentFilter.value?.length&&i?.length&&(i?.length?(this.filteredValues.is_deposit_paids=i,this.filteredValues.payments=e?.length?e:null,this.tempDataFilter.downPayments=this.paymentFilter.value,this.isReset||this.getCandidatesData("paymentFilter")):this.tempDataFilter.downPayments?.length&&this.paymentFilter.value?.length&&!i?.length&&(this.filteredValues.is_deposit_paids=null,this.tempDataFilter.downPayments=this.paymentFilter.value,this.isReset||this.getCandidatesData("paymentFilter"))),!this.paymentFilter.value?.length&&!i?.length&&!e?.length&&(this.filteredValues.is_deposit_paids=null,this.filteredValues.payments=null,this.tempDataFilter.downPayments=null,this.isReset||this.getCandidatesData("paymentFilter"))))}setNationalityFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.nationality)!==JSON.stringify(this.nationalityFilter.value))if(this.nationalityFilter.value?.length)this.filteredValues.nationalities=this.nationalityFilter.value,this.tempDataFilter.nationality=this.nationalityFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("nationalityFilter"));else{if(!this.tempDataFilter.nationality?.length||this.nationalityFilter.value?.length)return;this.filteredValues.nationalities=this.nationalityFilter.value,this.tempDataFilter.nationality=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("nationalityFilter"))}}setIntakeChannelFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.intakeChannels)!==JSON.stringify(this.entryWayFilter.value))if(this.entryWayFilter.value?.length)this.filteredValues.intake_channels=this.entryWayFilter.value,this.tempDataFilter.intakeChannels=this.entryWayFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("entryWayFilter"));else{if(!this.tempDataFilter.intakeChannels?.length||this.entryWayFilter.value?.length)return;this.filteredValues.intake_channels=this.entryWayFilter.value,this.tempDataFilter.intakeChannels=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("entryWayFilter"))}}setStudentStatusFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.status)!==JSON.stringify(this.studentStatusFilter.value))if(this.studentStatusFilter.value?.length)this.filteredValues.candidate_admission_statuses=this.studentStatusFilter.value,this.tempDataFilter.status=this.studentStatusFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("studentStatusFilter"));else{if(!this.tempDataFilter.status?.length||this.studentStatusFilter.value?.length)return;this.filteredValues.candidate_admission_statuses=["admission_in_progress","bill_validated","engaged","registered","resigned","resigned_after_engaged","resigned_after_registered","report_inscription","in_scholarship","mission_card_validated","resignation_missing_prerequisites","no_show","resign_after_school_begins"],this.tempDataFilter.status=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("studentStatusFilter"))}}setAnnouncementCallFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.announcementCall)!==JSON.stringify(this.announcementCallFilter.value))if(this.announcementCallFilter.value?.length)this.filteredValues.announcement_calls=this.announcementCallFilter.value,this.tempDataFilter.announcementCall=this.announcementCallFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("announcementCallFilter"));else{if(!this.tempDataFilter.announcementCall?.length||this.announcementCallFilter.value?.length)return;this.filteredValues.announcement_calls=this.announcementCallFilter.value,this.tempDataFilter.announcementCall=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("announcementCallFilter"))}}setAnnouncementEmailFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.announcementEmail)!==JSON.stringify(this.announcementEmailFilter.value))if(this.announcementEmailFilter.value?.length)this.filteredValues.registration_email_dates=this.announcementEmailFilter.value,this.tempDataFilter.announcementEmail=this.announcementEmailFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("announcementEmailFilter"));else{if(!this.tempDataFilter.announcementEmail?.length||this.announcementEmailFilter.value?.length)return;this.filteredValues.registration_email_dates=this.announcementEmailFilter.value,this.tempDataFilter.announcementEmail=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("announcementEmailFilter"))}}setConnectionsFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.connections)!==JSON.stringify(this.connectionFilter.value))if(this.connectionFilter.value?.length)this.filteredValues.connections=this.connectionFilter.value,this.tempDataFilter.connections=this.connectionFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("connectionFilter"));else{if(!this.tempDataFilter.connections?.length||this.connectionFilter.value?.length)return;this.filteredValues.connections=this.connectionFilter.value,this.tempDataFilter.connections=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("connectionFilter"))}}setIdentityFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.identity)!==JSON.stringify(this.personalInfoFilter.value))if(this.personalInfoFilter.value?.length)this.filteredValues.personal_informations=this.personalInfoFilter.value,this.tempDataFilter.identity=this.personalInfoFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("personalInfoFilter"));else{if(!this.tempDataFilter.identity?.length||this.personalInfoFilter.value?.length)return;this.filteredValues.personal_informations=this.personalInfoFilter.value,this.tempDataFilter.identity=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("personalInfoFilter"))}}setConditionFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.conditions)!==JSON.stringify(this.conditionFilter.value))if(this.conditionFilter.value?.length)this.filteredValues.is_admitteds=this.conditionFilter.value,this.tempDataFilter.conditions=this.conditionFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("conditionFilter"));else{if(!this.tempDataFilter.conditions?.length||this.conditionFilter.value?.length)return;this.filteredValues.is_admitteds=this.conditionFilter.value,this.tempDataFilter.conditions=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("conditionFilter"))}}setSignatureFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.schoolContract)!==JSON.stringify(this.signatureFilter.value))if(this.signatureFilter.value?.length)this.filteredValues.signatures=this.signatureFilter.value,this.tempDataFilter.schoolContract=this.signatureFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("signatureFilter"));else{if(!this.tempDataFilter.schoolContract?.length||this.signatureFilter.value?.length)return;this.filteredValues.signatures=this.signatureFilter.value,this.tempDataFilter.schoolContract=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("signatureFilter"))}}setDownPaymentMethodFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.downPaymentMethod)!==JSON.stringify(this.downPaymentFilter.value))if(this.downPaymentFilter.value?.length)this.filteredValues.payment_methods=this.downPaymentFilter.value,this.tempDataFilter.downPaymentMethod=this.downPaymentFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("downPaymentFilter"));else{if(!this.tempDataFilter.downPaymentMethod?.length||this.downPaymentFilter.value?.length)return;this.filteredValues.payment_methods=this.downPaymentFilter.value,this.tempDataFilter.downPaymentMethod=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("downPaymentFilter"))}}setPaymentMethodFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.paymentMethods)!==JSON.stringify(this.paymentMethodFilter.value))if(this.paymentMethodFilter.value?.length)this.filteredValues.method_of_payments=this.paymentMethodFilter.value,this.tempDataFilter.paymentMethods=this.paymentMethodFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("paymentMethodFilter"));else{if(!this.tempDataFilter.paymentMethods?.length||this.paymentMethodFilter.value?.length)return;this.filteredValues.method_of_payments=this.paymentMethodFilter.value,this.tempDataFilter.paymentMethods=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("paymentMethodFilter"))}}setAdmissionDocumentStatusFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.admissionDocumentStatus)!==JSON.stringify(this.admissionDocumentFilter.value))if(this.admissionDocumentFilter.value?.length)this.filteredValues.admission_document_process_statuses=this.admissionDocumentFilter.value,this.tempDataFilter.admissionDocumentStatus=this.admissionDocumentFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("admissionDocumentFilter"));else{if(!this.tempDataFilter.admissionDocumentStatus?.length||this.admissionDocumentFilter.value?.length)return;this.filteredValues.admission_document_process_statuses=this.admissionDocumentFilter.value,this.tempDataFilter.admissionDocumentStatus=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("admissionDocumentFilter"))}}setOscarStatusFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.oscarStatus)!==JSON.stringify(this.crmFilter.value))if(this.crmFilter.value?.length)this.filteredValues.is_oscar_updateds=this.crmFilter.value,this.tempDataFilter.oscarStatus=this.crmFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("crmFilter"));else{if(!this.tempDataFilter.oscarStatus?.length||this.crmFilter.value?.length)return;this.filteredValues.is_oscar_updateds=this.crmFilter.value,this.tempDataFilter.oscarStatus=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("crmFilter"))}}setTrialDatesFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.trialDates)!==JSON.stringify(this.trialDateCtrl.value))if(this.trialDateCtrl.value?.length)this.searching.trial_dates=this.trialDateCtrl.value,this.tempDataFilter.trialDates=this.trialDateCtrl.value,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("trialDateCtrl"));else{if(!this.tempDataFilter.trialDates?.length||this.trialDateCtrl.value?.length)return;this.searching.trial_dates=this.trialDateCtrl.value,this.tempDataFilter.trialDates=null,this.isReset||(this.paginator.pageIndex=0,this.getCandidatesData("trialDateCtrl"))}}checkIconDownPayment(e){let i="";return"sepa_pending"!==e?.payment&&"pending"!==e?.payment&&"not_authorized"!==e?.payment&&"chargeback"!==e?.payment?e?.billing_id?.deposit_pay_amount||"billed"===e?.billing_id?.deposit_status||"not_billed"===e?.billing_id?.deposit_status?"paid"===e?.billing_id?.deposit_status?i="paid":"partially_paid"===e?.billing_id?.deposit_status?i="partially_paid":e?.billing_id?.deposit&&"billed"===e?.billing_id?.deposit_status?i="generated":"not_billed"===e?.billing_id?.deposit_status&&"no_down_payment"===e?.payment||this.checkIfDoesntHaveAnyDP(e)?i="":"not_billed"===e?.billing_id?.deposit_status&&!this.checkIfDoesntHaveAnyDP(e)&&(i="not_billed"):i="not_paid":"not_authorized"===e?.payment?i="rejected":"chargeback"===e?.payment?i="chargeback":("pending"===e?.payment||"sepa_pending"===e?.payment)&&(i="pending"),i}checkStatusButton(e){return!("registered"===e?.candidate_admission_status&&e?.is_future_program_assigned)}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(ct.o),t.\u0275\u0275directiveInject(T.J),t.\u0275\u0275directiveInject(st.e),t.\u0275\u0275directiveInject(g.t),t.\u0275\u0275directiveInject(O.P),t.\u0275\u0275directiveInject(I.YI),t.\u0275\u0275directiveInject(R.K),t.\u0275\u0275directiveInject(J.$),t.\u0275\u0275directiveInject(tt.sK),t.\u0275\u0275directiveInject(z.uw),t.\u0275\u0275directiveInject(ot.gz),t.\u0275\u0275directiveInject(Z.Z),t.\u0275\u0275directiveInject(ot.F0),t.\u0275\u0275directiveInject(I.YI),t.\u0275\u0275directiveInject(P.UntypedFormBuilder),t.\u0275\u0275directiveInject(bt.N),t.\u0275\u0275directiveInject(et.t),t.\u0275\u0275directiveInject(x.eN),t.\u0275\u0275directiveInject(nt.q))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ms-candidates"]],viewQuery:function(e,i){if(1&e&&(t.\u0275\u0275viewQuery(a.NW,7),t.\u0275\u0275viewQuery(Y.YE,7)),2&e){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(i.paginator=s.first),t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(i.sort=s.first)}},features:[t.\u0275\u0275ProvidersFeature([et.t]),t.\u0275\u0275NgOnChangesFeature],decls:210,vars:140,consts:[[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"p-grid","p-align-baseline",2,"position","relative"],[1,"p-col-fixed","no-padding",2,"width","180px","float","left","padding-right","15px !important"],[1,"p-col-12","no-padding","filter-input"],["class","float-label",4,"ngIf"],["bindValue","_id","bindLabel","scholar_season",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["ng-option-tmp",""],["bindValue","_id","bindLabel","short_name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],[4,"ngIf"],["bindValue","name","bindLabel","name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["bindValue","_id","bindLabel","name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],[1,"p-col-fixed","no-padding","super-filter"],[1,"p-col-fixed","no-padding",2,"float","left","padding-right","15px !important"],["mat-button","","mat-raised-button","","color","accent",3,"disabled","click"],[2,"margin-top","15px"],[1,"horizontal","header-button","header-action"],[1,"text-right",2,"display","inline-block","float","right"],["mat-raised-button","","color","accent",2,"padding","0px 7px !important",3,"matTooltip","disabled","matMenuTriggerFor"],["action","matMenu"],["mat-menu-item","","class","border-button",3,"matTooltip","click",4,"ngIf"],["mat-menu-item","",3,"matTooltip","click",4,"ngIf"],["style","padding: 0px 7px !important","mat-raised-button","","color","primary",3,"disabled","matTooltip","click",4,"ngIf"],["style","padding: 0px 7px !important","color","primary","mat-raised-button","",3,"disabled","matTooltip","click",4,"ngIf"],[1,"text-right","text-count"],["style","font-family: 'firaSans' !important",4,"ngIf"],[1,"horizontal","mat-elevation-z8","finance-table",2,"font-family","'firaSans' !important"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","selectFilter","sticky",""],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["matColumnDef","typeFormationFilter","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","studentNumberFilter","sticky",""],["matColumnDef","lastNameFilter","sticky",""],["matColumnDef","nationalityFilter","sticky",""],["mat-header-cell","","class","text-center custom-filter-table",4,"matHeaderCellDef"],["matColumnDef","entryWayFilter","sticky",""],["matColumnDef","studentStatusFilter"],["matColumnDef","profileRateFilter"],["matColumnDef","announcementCallFilter"],["matColumnDef","announcementEmailFilter"],["matColumnDef","connectionFilter"],["matColumnDef","personalInfoFilter"],["matColumnDef","conditionFilter"],["matColumnDef","signatureFilter"],["matColumnDef","paymentFilter"],["matColumnDef","methodOfPaymentFilter"],["matColumnDef","downPaymentFilter"],["matColumnDef","registrationDateFilter"],["matColumnDef","dueDateFilter"],["matColumnDef","trialFilter"],["mat-header-cell","","class","custom-filter-table",4,"matHeaderCellDef"],["matColumnDef","devMemberFilter"],["matColumnDef","crmFilter"],["matColumnDef","admissionDocumentFilter"],["matColumnDef","actionFilter","stickyEnd",""],["matColumnDef","select","sticky",""],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","typeFormation","sticky",""],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","studentNumber","sticky",""],["matColumnDef","name","sticky",""],["mat-cell","","style","text-align: start; padding-left: 0.5rem !important",3,"matTooltip",4,"matCellDef"],["matColumnDef","nationality","sticky",""],["matColumnDef","entryWay","sticky",""],["matColumnDef","studentStatus"],["mat-cell","",4,"matCellDef"],["matColumnDef","profileRate"],["matColumnDef","announcementCall"],["matColumnDef","announcementEmail"],["matColumnDef","connection"],["matColumnDef","personalInfo"],["matColumnDef","condition"],["matColumnDef","signature"],["matColumnDef","payment"],["matColumnDef","methodOfPayment"],["matColumnDef","downPayment"],["matColumnDef","registrationDate"],["matColumnDef","dueDate"],["matColumnDef","trial_date"],["mat-cell","","class","pad-l-xs","style","font-size: 11px",3,"matTooltip",4,"matCellDef"],["matColumnDef","devMember"],["matColumnDef","crm"],["matColumnDef","admissionDocument"],["matColumnDef","action","stickyEnd",""],["mat-cell","","class","action-buttons",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","23","style","text-align: center !important",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],[1,"horizontal",2,"margin-bottom","40px"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["class","no-records",3,"ngClass",4,"ngIf"],[1,"float-label"],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],["mat-menu-item","",1,"border-button",3,"matTooltip","click"],["mat-menu-item","",3,"matTooltip","click"],["mat-raised-button","","color","primary",2,"padding","0px 7px !important",3,"disabled","matTooltip","click"],["svgIcon","file-excel",1,"mat-icon-svgIcon"],["color","primary","mat-raised-button","",2,"padding","0px 7px !important",3,"disabled","matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],[2,"font-family","'firaSans' !important"],["mat-header-cell","",1,"text-center"],["mat-header-cell",""],["matInput","",1,"form-field",3,"formControl","placeholder","readonly"],["mat-header-cell","",1,"text-center","custom-filter-table"],["bindValue","value","bindLabel","label",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["bindValue","_id","bindLabel","intake_channel",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],[2,"margin-bottom","2px"],["matInput","","readonly","",1,"form-field",3,"placeholder","matDatepicker","formControl","click"],["matSuffix","",3,"for"],[3,"disabled"],["registrationDatePick",""],["dueDatePick",""],["mat-header-cell","",1,"custom-filter-table"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"text-center"],[3,"checked","aria-label","click","change"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-sort-header","type_formation"],[1,"img-responsive","engagement-level-icon",3,"src"],["mat-cell","",3,"matTooltip"],["mat-sort-header","candidate_unique_number"],[1,"mat-icon-status"],["mat-sort-header","candidate"],["mat-cell","",2,"text-align","start","padding-left","0.5rem !important",3,"matTooltip"],["class","person-image",4,"ngIf"],["style","display: contents",4,"ngIf"],[1,"person-image"],["height","20","width","20",1,"img-responsive","img-circle","person-image",3,"src"],["height","20","width","20",1,"img-responsive","img-circle","person-image",2,"cursor","pointer","object-fit","cover",3,"src"],[2,"display","contents"],["mat-sort-header","nationality"],["svgIcon","flag-variant-outline",1,"mat-icon-svgIcon"],[1,"tw-flex","tw-justify-center"],["class","flag-icon",3,"src",4,"ngIf"],[1,"flag-icon",3,"src"],["mat-sort-header","intake_channel"],["mat-sort-header","candidate_admission_status"],["svgIcon","file-document-edit",1,"mat-icon-svgIcon","mat-icon-default"],["mat-cell",""],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],["mat-sort-header","registration_profile_status"],["svgIcon","clipboard-account-outline",1,"mat-icon-svgIcon"],["aria-hidden","true",1,"mat-icon-status",3,"matTooltip","ngClass"],["mat-sort-header","announcement_call"],["svgIcon","phone-check-outline",1,"mat-icon-svgIcon"],["mat-sort-header","registration_email_date"],["class","red mat-icon-status","aria-hidden","true",3,"matTooltip",4,"ngIf"],[4,"ngIf","ngIfElse"],["announcementEmail",""],["aria-hidden","true",1,"red","mat-icon-status",3,"matTooltip"],[2,"cursor","default",3,"matTooltip"],["mat-sort-header","connection"],["svgIcon","login",1,"mat-icon-svgIcon"],["class","green mat-icon-status","aria-hidden","true",3,"matTooltip",4,"ngIf"],["aria-hidden","true",1,"green","mat-icon-status",3,"matTooltip"],["mat-sort-header","personal_information"],["svgIcon","badge-account-horizontal-outline",1,"mat-icon-svgIcon"],["mat-sort-header","is_admitted"],["mat-sort-header","signature"],["svgIcon","signature-freehand",1,"mat-icon-svgIcon"],["mat-sort-header","payment_method"],[2,"color","#b7b7b7"],["class","mat-icon-svgIcon mat-icon-default mrg-tminus","aria-hidden","true","svgIcon","credit-card-fast-outline",3,"matTooltip",4,"ngIf"],["class","mat-icon-svgIcon mat-icon-default mrg-tminus","aria-hidden","true","svgIcon","credit-card",3,"matTooltip",4,"ngIf"],["class","mat-icon-svgIcon mat-icon-default mrg-tminus","aria-hidden","true","svgIcon","checkbook",3,"matTooltip",4,"ngIf"],["class","mat-icon-svgIcon mat-icon-default mrg-tminus","aria-hidden","true","svgIcon","cash",3,"matTooltip",4,"ngIf"],["class","mat-icon-svgIcon mat-icon-default mrg-tminus","aria-hidden","true","svgIcon","cash-100",3,"matTooltip",4,"ngIf"],["aria-hidden","true","svgIcon","credit-card-fast-outline",1,"mat-icon-svgIcon","mat-icon-default","mrg-tminus",3,"matTooltip"],["aria-hidden","true","svgIcon","credit-card",1,"mat-icon-svgIcon","mat-icon-default","mrg-tminus",3,"matTooltip"],["aria-hidden","true","svgIcon","checkbook",1,"mat-icon-svgIcon","mat-icon-default","mrg-tminus",3,"matTooltip"],["aria-hidden","true","svgIcon","cash",1,"mat-icon-svgIcon","mat-icon-default","mrg-tminus",3,"matTooltip"],["aria-hidden","true","svgIcon","cash-100",1,"mat-icon-svgIcon","mat-icon-default","mrg-tminus",3,"matTooltip"],[1,"payment-success",3,"matTooltip","src"],["mat-sort-header","method_of_payment"],["svgIcon","credit-card-outline",1,"mat-icon-svgIcon"],["style","color: #b7b7b7",4,"ngIf"],["mat-sort-header","payment"],["matTooltipPosition","above","aria-hidden","true",1,"mat-icon-status","red",3,"matTooltip"],["matTooltipPosition","above","aria-hidden","true",1,"mat-icon-status","green",3,"matTooltip"],["matTooltipPosition","above","class","mat-icon-status yellow","aria-hidden","true",3,"matTooltip",4,"ngIf"],["matTooltipPosition","above","aria-hidden","true",1,"mat-icon-status","yellow",3,"matTooltip"],["matTooltipPosition","above","aria-hidden","true",1,"mat-icon-status","orange",3,"matTooltip"],["matTooltipPosition","above","aria-hidden","true",1,"mat-icon-status","magenta",3,"matTooltip"],["mat-sort-header","registered_at"],["svgIcon","calendar-check-outline",1,"mat-icon-svgIcon"],["mat-sort-header","registration_email_due_date"],["mat-sort-header","trial_date",2,"text-align","center !important"],["mat-cell","",1,"pad-l-xs",2,"font-size","11px",3,"matTooltip"],["mat-sort-header","admission_member"],["svgIcon","target-account",1,"mat-icon-svgIcon"],["class","person-image",3,"matTooltip",4,"ngIf"],[1,"person-image",3,"matTooltip"],["height","30","width","30",1,"img-responsive","img-circle",2,"width","20px","height","20px",3,"src"],["height","30","width","30",1,"img-responsive","img-circle",3,"src"],["mat-sort-header","is_oscar_updated"],["aria-hidden","true","class","mat-icon-status",3,"ngClass",4,"ngIf"],["aria-hidden","true",1,"mat-icon-status",3,"ngClass"],["mat-sort-header","admission_document_process_status"],["mat-cell","",1,"action-buttons"],["mat-icon-button","","class","margin-right-button admission-button",3,"matTooltipDisabled","disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","","class","margin-right-button",3,"matTooltipDisabled","disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","","class","margin-right-button",3,"disabled","matTooltipDisabled","matTooltip","click",4,"ngIf"],["mat-icon-button","","class","margin-right-button",3,"disabled","ngClass","matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"margin-right-button","admission-button",3,"matTooltipDisabled","disabled","matTooltip","click"],["viewBox","0 0 24 24",2,"width","18px","height","18px"],["fill","currentColor","d","M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3H9.18C9.6,1.84 10.7,1 12,1C13.3,1 14.4,1.84 14.82,3H19M12,3A1,1 0 0,0 11,4A1,1 0 0,0 12,5A1,1 0 0,0 13,4A1,1 0 0,0 12,3M7,7V5H5V19H19V5H17V7H7M12,9A2,2 0 0,1 14,11A2,2 0 0,1 12,13A2,2 0 0,1 10,11A2,2 0 0,1 12,9M8,17V16C8,14.9 9.79,14 12,14C14.21,14 16,14.9 16,16V17H8Z"],["fill","currentColor","d","M6.62 10.79A15.1 15.1 0 0 0 13.21 17.38L15.41 15.18A1 1 0 0 1 16.41 14.93A11.36 11.36 0 0 0 20 15.5A1 1 0 0 1 21 16.5V20A1 1 0 0 1 20 21A17 17 0 0 1 3 4A1 1 0 0 1 4 3H7.5A1 1 0 0 1 8.5 4A11.36 11.36 0 0 0 9.07 7.57A1 1 0 0 1 8.82 8.57M21.71 4.71L20.29 3.29L15 8.59L12.71 6.29L11.29 7.71L15 11.41Z"],["mat-icon-button","",1,"margin-right-button",3,"matTooltipDisabled","disabled","matTooltip","click"],["svgIcon","account-switch"],["svgIcon","bank-transfer"],["mat-icon-button","",1,"margin-right-button",3,"disabled","matTooltipDisabled","matTooltip","click"],["svgIcon","eye"],["fill","currentColor","d","M22,3H2C0.91,3.04 0.04,3.91 0,5V19C0.04,20.09 0.91,20.96 2,21H22C23.09,20.96 23.96,20.09 24,19V5C23.96,3.91 23.09,3.04 22,3M22,19H2V5H22V19M14,17V15.75C14,14.09 10.66,13.25 9,13.25C7.34,13.25 4,14.09 4,15.75V17H14M9,7A2.5,2.5 0 0,0 6.5,9.5A2.5,2.5 0 0,0 9,12A2.5,2.5 0 0,0 11.5,9.5A2.5,2.5 0 0,0 9,7M14,7V8H20V7H14M14,9V10H20V9H14M14,11V12H18V11H14"],["fill","currentColor","d","M19 15V18H16V20H19V23H21V20H24V18H21V15H19M14 18H3V8L11 13L19 8V13H21V6C21 4.9 20.1 4 19 4H3C1.9 4 1 4.9 1 6V18C1 19.1 1.9 20 3 20H14V18M19 6L11 11L3 6H19Z"],["mat-icon-button","",1,"margin-right-button",3,"disabled","ngClass","matTooltip","click"],["fill","currentColor","d","M13 7V9H15V17H17V7H13M11 13H9V15H7V13H5V11H7V9H9V11H11V13Z"],["mat-header-cell","","colspan","23",2,"text-align","center !important"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records",3,"ngClass"]],template:function(e,i){if(1&e&&(t.\u0275\u0275elementStart(0,"ms-filter-breadcrumb",0),t.\u0275\u0275listener("removeFilterTrigger",function(l){return i.removeFilterBreadcrumb(l)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275template(4,Vt,3,3,"label",4),t.\u0275\u0275elementStart(5,"ng-select",5),t.\u0275\u0275listener("close",function(){return i.scholarSelect()}),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275template(8,kt,2,3,"ng-template",6),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(9,"div",2),t.\u0275\u0275template(10,Ut,3,3,"label",4),t.\u0275\u0275elementStart(11,"ng-select",7),t.\u0275\u0275listener("close",function(){return i.selectSchoolFilter()}),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275template(14,Wt,3,5,"ng-template",6),t.\u0275\u0275template(15,$t,1,0,null,8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(16,"div",2),t.\u0275\u0275template(17,Ht,3,3,"label",4),t.\u0275\u0275elementStart(18,"ng-select",9),t.\u0275\u0275listener("close",function(){return i.selectCampusFilter()}),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275template(21,Gt,2,3,"ng-template",6),t.\u0275\u0275template(22,zt,1,0,null,8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",2),t.\u0275\u0275template(24,Yt,3,3,"label",4),t.\u0275\u0275elementStart(25,"ng-select",9),t.\u0275\u0275listener("close",function(){return i.selectLevelFilter()}),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275template(28,Qt,2,3,"ng-template",6),t.\u0275\u0275template(29,Jt,1,0,null,8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(30,"div",2),t.\u0275\u0275template(31,Zt,3,3,"label",4),t.\u0275\u0275elementStart(32,"ng-select",10),t.\u0275\u0275listener("close",function(){return i.selectSectorFilter()}),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275template(35,qt,2,3,"ng-template",6),t.\u0275\u0275template(36,ee,1,0,null,8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(37,"div",2),t.\u0275\u0275template(38,ie,3,3,"label",4),t.\u0275\u0275elementStart(39,"ng-select",10),t.\u0275\u0275listener("close",function(){return i.selectSpecialityFilter()}),t.\u0275\u0275pipe(40,"translate"),t.\u0275\u0275pipe(41,"translate"),t.\u0275\u0275template(42,ne,2,3,"ng-template",6),t.\u0275\u0275template(43,se,1,0,null,8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(44,"div",11),t.\u0275\u0275template(45,le,3,3,"label",4),t.\u0275\u0275elementStart(46,"ng-select",10),t.\u0275\u0275listener("close",function(){return i.checkSuperFilterTags()}),t.\u0275\u0275pipe(47,"translate"),t.\u0275\u0275pipe(48,"translate"),t.\u0275\u0275template(49,oe,2,3,"ng-template",6),t.\u0275\u0275template(50,de,1,0,null,8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(51,"div",12)(52,"button",13),t.\u0275\u0275listener("click",function(){return i.applySuperFilter()}),t.\u0275\u0275text(53),t.\u0275\u0275pipe(54,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(55,"div",14)(56,"div",15)(57,"div",16)(58,"button",17),t.\u0275\u0275pipe(59,"translate"),t.\u0275\u0275text(60),t.\u0275\u0275pipe(61,"translate"),t.\u0275\u0275elementStart(62,"mat-icon"),t.\u0275\u0275text(63,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(64,"mat-menu",null,18),t.\u0275\u0275template(66,ce,4,6,"button",19),t.\u0275\u0275template(67,pe,4,6,"button",19),t.\u0275\u0275template(68,me,4,6,"button",19),t.\u0275\u0275template(69,he,4,6,"button",19),t.\u0275\u0275template(70,ue,4,6,"button",19),t.\u0275\u0275template(71,_e,4,6,"button",20),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(72,fe,5,7,"button",21),t.\u0275\u0275template(73,ge,5,7,"button",22),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(74,"div",23),t.\u0275\u0275template(75,Ce,3,4,"span",24),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(76,"div",25)(77,"table",26),t.\u0275\u0275listener("matSortChange",function(l){return i.sortData(l)}),t.\u0275\u0275elementContainerStart(78,27),t.\u0275\u0275template(79,ve,1,0,"th",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(80,29),t.\u0275\u0275template(81,ye,1,0,"th",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(82,31),t.\u0275\u0275template(83,xe,4,5,"th",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(84,32),t.\u0275\u0275template(85,Se,4,5,"th",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(86,33),t.\u0275\u0275template(87,Oe,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(88,35),t.\u0275\u0275template(89,Ae,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(90,36),t.\u0275\u0275template(91,Me,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(92,37),t.\u0275\u0275template(93,Ve,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(94,38),t.\u0275\u0275template(95,Ke,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(96,39),t.\u0275\u0275template(97,je,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(98,40),t.\u0275\u0275template(99,Xe,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(100,41),t.\u0275\u0275template(101,ti,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(102,42),t.\u0275\u0275template(103,ai,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(104,43),t.\u0275\u0275template(105,ri,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(106,44),t.\u0275\u0275template(107,mi,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(108,45),t.\u0275\u0275template(109,fi,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(110,46),t.\u0275\u0275template(111,yi,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(112,47),t.\u0275\u0275template(113,xi,7,7,"th",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(114,48),t.\u0275\u0275template(115,Si,7,7,"th",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(116,49),t.\u0275\u0275template(117,Oi,6,13,"th",50),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(118,51),t.\u0275\u0275template(119,Di,4,5,"th",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(120,52),t.\u0275\u0275template(121,Ni,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(122,53),t.\u0275\u0275template(123,Bi,6,13,"th",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(124,54),t.\u0275\u0275template(125,Li,1,0,"th",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(126,55),t.\u0275\u0275template(127,Ri,2,3,"th",28),t.\u0275\u0275template(128,Vi,2,2,"td",56),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(129,57),t.\u0275\u0275template(130,ki,4,4,"th",58),t.\u0275\u0275template(131,Wi,3,4,"td",59),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(132,60),t.\u0275\u0275template(133,Ki,5,3,"th",58),t.\u0275\u0275template(134,$i,2,2,"td",59),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(135,61),t.\u0275\u0275template(136,Hi,5,6,"th",58),t.\u0275\u0275template(137,Yi,6,10,"td",62),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(138,63),t.\u0275\u0275template(139,Qi,4,3,"th",58),t.\u0275\u0275template(140,Ji,4,4,"td",59),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(141,64),t.\u0275\u0275template(142,Zi,5,6,"th",58),t.\u0275\u0275template(143,qi,3,4,"td",62),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(144,65),t.\u0275\u0275template(145,tn,4,3,"th",58),t.\u0275\u0275template(146,fn,15,14,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(147,67),t.\u0275\u0275template(148,gn,4,3,"th",58),t.\u0275\u0275template(149,Cn,4,7,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(150,68),t.\u0275\u0275template(151,vn,4,3,"th",58),t.\u0275\u0275template(152,yn,4,7,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(153,69),t.\u0275\u0275template(154,xn,5,3,"th",58),t.\u0275\u0275template(155,bn,5,3,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(156,70),t.\u0275\u0275template(157,On,4,3,"th",58),t.\u0275\u0275template(158,In,3,2,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(159,71),t.\u0275\u0275template(160,An,4,3,"th",58),t.\u0275\u0275template(161,wn,3,2,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(162,72),t.\u0275\u0275template(163,Mn,5,3,"th",58),t.\u0275\u0275template(164,Rn,3,2,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(165,73),t.\u0275\u0275template(166,Vn,4,3,"th",58),t.\u0275\u0275template(167,Wn,3,2,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(168,74),t.\u0275\u0275template(169,Kn,5,3,"th",58),t.\u0275\u0275template(170,Zn,5,3,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(171,75),t.\u0275\u0275template(172,qn,4,3,"th",58),t.\u0275\u0275template(173,ca,4,2,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(174,76),t.\u0275\u0275template(175,pa,5,3,"th",58),t.\u0275\u0275template(176,Sa,10,9,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(177,77),t.\u0275\u0275template(178,Ta,4,3,"th",58),t.\u0275\u0275template(179,ba,2,1,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(180,78),t.\u0275\u0275template(181,Oa,5,3,"th",58),t.\u0275\u0275template(182,Da,3,2,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(183,79),t.\u0275\u0275template(184,Ea,5,6,"th",58),t.\u0275\u0275template(185,Ia,2,2,"td",80),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(186,81),t.\u0275\u0275template(187,Aa,4,3,"th",58),t.\u0275\u0275template(188,Ba,3,2,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(189,82),t.\u0275\u0275template(190,La,5,6,"th",58),t.\u0275\u0275template(191,Va,2,1,"td",66),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(192,83),t.\u0275\u0275template(193,ka,5,6,"th",58),t.\u0275\u0275template(194,$a,3,3,"td",59),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(195,84),t.\u0275\u0275template(196,Ha,5,6,"th",58),t.\u0275\u0275template(197,is,11,10,"td",85),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(198,86),t.\u0275\u0275template(199,ns,3,0,"th",87),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(200,as,1,0,"tr",88),t.\u0275\u0275template(201,ss,1,0,"tr",88),t.\u0275\u0275template(202,ls,1,1,"tr",89),t.\u0275\u0275template(203,os,1,1,"tr",90),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(204,"div",91)(205,"div",92),t.\u0275\u0275pipe(206,"async"),t.\u0275\u0275element(207,"mat-paginator",93),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(208,rs,3,6,"div",94),t.\u0275\u0275pipe(209,"async"),t.\u0275\u0275elementEnd()()),2&e){const s=t.\u0275\u0275reference(65);t.\u0275\u0275property("filterBreadcrumbData",i.filterBreadcrumbData),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",(null==i.scholarFilter?null:i.scholarFilter.value)&&0!==(null==i.scholarFilter||null==i.scholarFilter.value?null:i.scholarFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(6,96,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(7,98,"CARDDETAIL.Scholar Season")),t.\u0275\u0275property("items",i.scholars)("appendTo","body")("multiple",!1)("formControl",i.scholarFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",(null==i.schoolsFilter?null:i.schoolsFilter.value)&&0!==(null==i.schoolsFilter||null==i.schoolsFilter.value?null:i.schoolsFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(12,100,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(13,102,"ADMISSION.TABLE_ADMISSION_CHANNEL.School")),t.\u0275\u0275property("items",i.school)("appendTo","body")("multiple",!0)("formControl",i.schoolsFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==i.school?null:i.school.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==i.campusFilter?null:i.campusFilter.value)&&0!==(null==i.campusFilter||null==i.campusFilter.value?null:i.campusFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(19,104,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(20,106,"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus")),t.\u0275\u0275property("items",i.campusList)("appendTo","body")("multiple",!0)("formControl",i.campusFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==i.campusList?null:i.campusList.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==i.levelFilter?null:i.levelFilter.value)&&0!==(null==i.levelFilter||null==i.levelFilter.value?null:i.levelFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(26,108,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(27,110,"ADMISSION.TABLE_ADMISSION_CHANNEL.Level")),t.\u0275\u0275property("items",i.levels)("appendTo","body")("multiple",!0)("formControl",i.levelFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==i.levels?null:i.levels.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==i.sectorFilter?null:i.sectorFilter.value)&&0!==(null==i.sectorFilter||null==i.sectorFilter.value?null:i.sectorFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(33,112,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(34,114,"ADMISSION.TABLE_ADMISSION_CHANNEL.Sector")),t.\u0275\u0275property("items",i.sectorList)("appendTo","body")("multiple",!0)("formControl",i.sectorFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==i.sectorList?null:i.sectorList.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==i.specialityFilter?null:i.specialityFilter.value)&&0!==(null==i.specialityFilter||null==i.specialityFilter.value?null:i.specialityFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(40,116,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(41,118,"ADMISSION.TABLE_ADMISSION_CHANNEL.Speciality")),t.\u0275\u0275property("items",i.specialityList)("appendTo","body")("multiple",!0)("formControl",i.specialityFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==i.specialityList?null:i.specialityList.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==i.tagFilter?null:i.tagFilter.value)&&0!==(null==i.tagFilter||null==i.tagFilter.value?null:i.tagFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(47,120,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(48,122,"All_Students.Tag")),t.\u0275\u0275property("items",i.tagList)("appendTo","body")("multiple",!0)("formControl",i.tagFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==i.tagList?null:i.tagList.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",i.isDisabled||i.isLoading),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(54,124,"Apply Filter")," "),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(59,126,"Action")," "),t.\u0275\u0275property("disabled",i.isLoading)("matMenuTriggerFor",s),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(61,128,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",i.permissionService.crmOkAdmissionFollowUpPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permissionService.assignRegistrationProfileMultiple()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.showMultipleCall&&i.permissionService.firstCallDoneMultipleCandidates()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permissionService.firstEmailOfAnnoucmentMultipleCandidates()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permissionService.transferToAnotherDevAdmissionFollowUpPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permissionService.sendEmailMultipleAdmissionFollowUpPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permissionService.exportCsvAdmissionFollowUpPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permissionService.resetAdmissionFollowUpPerm()),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==i.dataSelected?null:i.dataSelected.length)||i.isCheckedAll&&i.dataCount),t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",i.dataSource),t.\u0275\u0275advance(123),t.\u0275\u0275property("matHeaderRowDef",i.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",i.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(134,ds)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",i.displayedColumns),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(135,Mt,t.\u0275\u0275pipeBind1(206,130,i.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(137,cs,i.dataCount<=10))("length",i.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(139,ps)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(209,132,i.noData))}},dependencies:[k.mk,k.O5,pt.lW,Ot.oG,Nt.Mq,Nt.hl,Nt.nW,mt.Hw,lt.KE,lt.R9,ht.Nt,Pt.VK,Pt.OP,Pt.p6,a.NW,ut.Ou,Y.YE,Y.nU,j.BZ,j.fO,j.as,j.w1,j.Dz,j.nj,j.ge,j.ev,j.XQ,j.Gk,Bt.gM,P.DefaultValueAccessor,P.CheckboxControlValueAccessor,P.NgControlStatus,P.NgModel,P.FormControlDirective,Lt.oO,Rt.r,At.w9,At.ir,At.Cm,k.Ov,k.gd,tt.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{margin-top:6px}.finance-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:unset!important}.horizontal[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#212121}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:50px;background:#eaa11c!important}.person-image[_ngcontent-%COMP%]{display:inline-block;margin-right:0;min-height:20px;max-height:20px;min-width:20px;max-width:20px}.flag-icon[_ngcontent-%COMP%]{vertical-align:text-top;height:17px;width:17px}img.engagement-level-icon[_ngcontent-%COMP%]{height:15px;width:15px;display:inline;margin:0}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}th.mat-header-cell[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{align-items:center;font-size:10pt}.mat-column-select[_ngcontent-%COMP%], .mat-column-selectFilter[_ngcontent-%COMP%], .mat-column-typeFormation[_ngcontent-%COMP%], .mat-column-typeFormationFilter[_ngcontent-%COMP%], .mat-column-studentNumber[_ngcontent-%COMP%], .mat-column-studentNumberFilter[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-nameFilter[_ngcontent-%COMP%], .mat-column-nationality[_ngcontent-%COMP%], .mat-column-nationalityFilter[_ngcontent-%COMP%], .mat-column-entryWay[_ngcontent-%COMP%], .mat-column-entryWayFilter[_ngcontent-%COMP%]{text-align:center;z-index:999!important;box-shadow:1px 1px #545454}.header-action[_ngcontent-%COMP%]{font-family:firaSans!important;height:50px;padding:8px;background:#424242}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{align-items:center!important;border-right:1px solid #545454;padding:4px!important}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:2%;z-index:999!important}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:3%;font-size:11px;max-width:65px;min-width:65px;z-index:999!important;text-align:left}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:3%;font-size:11px;min-width:85px;max-width:85px;z-index:999!important;text-align:left}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:90%;padding-top:2px}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:6%;font-size:11px;min-width:190px;max-width:190px;z-index:999!important;text-align:left}[_nghost-%COMP%]     table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(4) .mat-form-field{width:90%;padding-top:2px}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){text-align:center!important;width:3%;z-index:999!important;padding-left:0!important;padding-right:0!important;min-width:125px;max-width:125px}[_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{padding-top:7px;width:90%}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){width:7%;min-width:155px;max-width:155px;z-index:999!important;font-size:11px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(6) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(6) .mat-form-field{padding-top:0;width:100%}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){width:2%;min-width:125px;max-width:125px}[_nghost-%COMP%]     table tr td:nth-child(7) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(7) .mat-form-field{padding-top:6px;width:90%}[_nghost-%COMP%]     table tr td:nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){width:2%;font-size:11px;min-width:110px;max-width:110px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(8) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(8) .mat-form-field{padding-top:6px;width:100%}[_nghost-%COMP%]     table tr td:nth-child(9), [_nghost-%COMP%]     table tr th:nth-child(9){width:2%;min-width:125px;max-width:125px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(9) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(9) .mat-form-field{padding-top:6px;width:100%}[_nghost-%COMP%]     table tr td:nth-child(10), [_nghost-%COMP%]     table tr th:nth-child(10){text-align:center!important;width:5%;font-size:11px;min-width:125px;max-width:125px}[_nghost-%COMP%]     table tr td:nth-child(10) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(10) .mat-form-field{padding-top:6px;width:100%}[_nghost-%COMP%]     table tr td:nth-child(11), [_nghost-%COMP%]     table tr th:nth-child(11){width:2%;font-size:11px;min-width:125px;max-width:125px}[_nghost-%COMP%]     table tr td:nth-child(11) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(11) .mat-form-field{padding-top:6px;width:100%}[_nghost-%COMP%]     table tr td:nth-child(12), [_nghost-%COMP%]     table tr th:nth-child(12){width:2%;font-size:11px;min-width:125px;max-width:125px}[_nghost-%COMP%]     table tr td:nth-child(12) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(12) .mat-form-field{padding-top:6px;width:100%}[_nghost-%COMP%]     table tr td:nth-child(13), [_nghost-%COMP%]     table tr th:nth-child(13){width:2%;font-size:11px;min-width:125px;max-width:125px}[_nghost-%COMP%]     table tr td:nth-child(13) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(13) .mat-form-field{padding-top:6px;width:100%}[_nghost-%COMP%]     table tr td:nth-child(14), [_nghost-%COMP%]     table tr th:nth-child(14){width:2%;font-size:11px;min-width:125px;max-width:125px}[_nghost-%COMP%]     table tr td:nth-child(14) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(14) .mat-form-field{padding-top:6px;width:100%}[_nghost-%COMP%]     table tr td:nth-child(15), [_nghost-%COMP%]     table tr th:nth-child(15){width:2%;font-size:11px;min-width:125px;max-width:125px}[_nghost-%COMP%]     table tr td:nth-child(15) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(15) .mat-form-field{padding-top:6px;width:100%}[_nghost-%COMP%]     table tr td:nth-child(16), [_nghost-%COMP%]     table tr th:nth-child(16){width:2%;font-size:11px;min-width:125px;max-width:125px}[_nghost-%COMP%]     table tr td:nth-child(16) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(16) .mat-form-field{padding-top:6px;width:100%}[_nghost-%COMP%]     table tr td:nth-child(17), [_nghost-%COMP%]     table tr th:nth-child(17){width:2%;text-align:center!important;min-width:110px;max-width:110px}[_nghost-%COMP%]     table tr td:nth-child(17) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(17) .mat-form-field{padding-top:6px;width:100%}[_nghost-%COMP%]     table tr td:nth-child(18), [_nghost-%COMP%]     table tr td:nth-child(19), [_nghost-%COMP%]     table tr th:nth-child(18), [_nghost-%COMP%]     table tr th:nth-child(19){text-align:center!important;width:5%;font-size:11px;min-width:110px;max-width:110px}[_nghost-%COMP%]     table tr td:nth-child(18) .mat-form-field, [_nghost-%COMP%]     table tr td:nth-child(19) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(18) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(19) .mat-form-field{padding-left:3px;padding-right:3px;padding-top:4px;font-size:11px;width:100%}[_nghost-%COMP%]     table tr td:nth-child(20), [_nghost-%COMP%]     table tr th:nth-child(20){width:5%;min-width:115px!important;font-size:11px}[_nghost-%COMP%]     table tr td:nth-child(20) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(20) .mat-form-field{padding-top:4px;width:100%}[_nghost-%COMP%]     table tr td:nth-child(21), [_nghost-%COMP%]     table tr th:nth-child(21){width:2%;text-align:center!important;font-size:11px;min-width:110px;max-width:110px}[_nghost-%COMP%]     table tr td:nth-child(21) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(21) .mat-form-field{padding-top:3px}[_nghost-%COMP%]     table tr td:nth-child(22), [_nghost-%COMP%]     table tr th:nth-child(22){width:2%;font-size:11px;min-width:110px;max-width:110px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(22) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(22) .mat-form-field{padding-top:3px;width:98%}[_nghost-%COMP%]     table tr td:nth-child(23), [_nghost-%COMP%]     table tr th:nth-child(23){width:3%;font-size:11px;min-width:110px;max-width:110px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(23) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(23) .mat-form-field{padding-top:6px;width:100%}[_nghost-%COMP%]     table tr td:nth-child(24), [_nghost-%COMP%]     table tr th:nth-child(24){width:8%;max-width:300px!important;min-width:300px!important;text-align:center!important;box-shadow:-2px 0 #545454}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr td:nth-child(1){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(2){padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(3){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(4){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(6){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(7){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(7) .mat-icon-status{padding-right:0!important}[_nghost-%COMP%]     table tr td:nth-child(9){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(10){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(11){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(12){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(13){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(14){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(15){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(16){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(17){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(18){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(19){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(20){padding-left:.5rem!important;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(21){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(22){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto;min-width:125px;max-width:125px}[_nghost-%COMP%]     table tr td:nth-child(23){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr td:nth-child(24) .margin-right-button{margin-right:3px}[_nghost-%COMP%]     table tr td:nth-child(24) .mat-icon-button{height:24px!important;width:24px!important}[_nghost-%COMP%]     table tr td:nth-child(24) .mat-icon{font-size:16px;width:18px!important}[_nghost-%COMP%]     table tr td *{vertical-align:middle}[_nghost-%COMP%]     table tr td .mat-icon-status{font-size:14px;text-align:center;vertical-align:middle;padding-right:0}[_nghost-%COMP%]     table tr th{align-items:center;text-align:center!important;font-size:10pt!important}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr th button.mat-sort-header-button{display:inline!important}[_nghost-%COMP%]     table thead tr:nth-child(1), [_nghost-%COMP%]     table thead tr:nth-child(2){background:#212121;border-bottom:none!important;font-size:10pt!important;height:auto}[_nghost-%COMP%]     table thead tr:nth-child(1) th, [_nghost-%COMP%]     table thead tr:nth-child(2) th{color:#fff}[_nghost-%COMP%]     table thead tr:nth-child(1) th .mat-icon-status, [_nghost-%COMP%]     table thead tr:nth-child(2) th .mat-icon-status{vertical-align:text-bottom}[_nghost-%COMP%]     table thead tr:nth-child(1) th .mat-icon-svgIcon, [_nghost-%COMP%]     table thead tr:nth-child(2) th .mat-icon-svgIcon{vertical-align:text-bottom}[_nghost-%COMP%]     table thead tr:nth-child(1) th:nth-child(23) .mat-icon, [_nghost-%COMP%]     table thead tr:nth-child(2) th:nth-child(23) .mat-icon{display:inline-flex;margin:8%}[_nghost-%COMP%]     table thead tr:nth-child(1) th:nth-child(11){background-color:#607d8b!important}[_nghost-%COMP%]     table thead tr:nth-child(1) th:nth-child(12){background-color:#607d8b!important}[_nghost-%COMP%]     table thead tr:nth-child(1) th:nth-child(13){background-color:#607d8b!important}[_nghost-%COMP%]     table thead tr:nth-child(1) th:nth-child(14){background-color:#607d8b!important}[_nghost-%COMP%]     table thead tr:nth-child(1) th:nth-child(15){background-color:#607d8b!important}[_nghost-%COMP%]     table thead tr:nth-child(1) th:nth-child(16){background-color:#607d8b!important}[_nghost-%COMP%]     table thead tr:nth-child(3) th:nth-child(4){padding-top:0!important}[_nghost-%COMP%]     table thead tr:nth-child(1), [_nghost-%COMP%]     table thead tr:nth-child(2){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(1) th, [_nghost-%COMP%]     table thead tr:nth-child(2) th{color:#fff}[_nghost-%COMP%]     table thead tr:nth-child(1) th .mat-icon-status, [_nghost-%COMP%]     table thead tr:nth-child(2) th .mat-icon-status{vertical-align:text-bottom}[_nghost-%COMP%]     table thead tr:nth-child(1) th .mat-icon-svgIcon, [_nghost-%COMP%]     table thead tr:nth-child(2) th .mat-icon-svgIcon{vertical-align:text-bottom}[_nghost-%COMP%]     table thead tr:nth-child(1) th:nth-child(26) .mat-icon, [_nghost-%COMP%]     table thead tr:nth-child(2) th:nth-child(26) .mat-icon{display:inline-flex}.mat-icon-status[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:middle;padding-right:5px}.action-header-column[_ngcontent-%COMP%]{text-align:right!important;vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.hide[_ngcontent-%COMP%]{display:none}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.icon-thumbsup[_ngcontent-%COMP%]{width:13px;padding:2px 0 0}.icon-certifier[_ngcontent-%COMP%]{width:15px}.loading-indicator[_ngcontent-%COMP%]{position:fixed;z-index:999;height:2em;width:6em;overflow:show;margin:auto;inset:0}.loading-indicator[_ngcontent-%COMP%]:before{content:"";display:block;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000004d}.yellow[_ngcontent-%COMP%]{color:#ffd740}.orange[_ngcontent-%COMP%]{color:#f49f36}.blue[_ngcontent-%COMP%]{color:#36ebf4}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:purple}.magenta[_ngcontent-%COMP%]{color:#f0f}.black[_ngcontent-%COMP%]{color:#000}.cyan[_ngcontent-%COMP%]{color:#0ff}.greenyellow[_ngcontent-%COMP%]{color:#adff2f}.green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#adff2f}.red-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#ff4040}.black-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#000}.cyan-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#0ff}.magenta-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#f0f}.width-size[_ngcontent-%COMP%]{width:300px;padding:9px;font-size:11px}.width-sizes[_ngcontent-%COMP%]{width:300px;padding:9px;font-size:12px}[_nghost-%COMP%]  .mat-autocomplete-panel{min-width:190px!important}.mat-autocomplete-panel[_ngcontent-%COMP%]{min-width:190px!important}.mat-autocomplete-panel[_nghost-%COMP%]{min-width:190px!important}  .mat-autocomplete-panel{min-width:190px!important}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid #bdbdbd!important;min-height:36px;align-items:center;margin-bottom:6px}[_nghost-%COMP%]  .ng-select .ng-arrow-wrapper{margin-top:10px;width:25px;padding-right:5px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{color:#000}[_nghost-%COMP%]  ng-dropdown-panel.dropdown{width:200px!important}[_nghost-%COMP%]  .ng-dropdown-panel{width:auto!important}.mrg-tminus[_ngcontent-%COMP%]{margin-top:-10px!important}.admission-button[_ngcontent-%COMP%]{background:#4aa744!important}.border-group-button[_ngcontent-%COMP%]{display:inline-block;border-right:1px solid white;margin:0 10px;padding:13px 0}img.payment-success[_ngcontent-%COMP%]{height:11px!important}.icon-svgIcon-menu[_ngcontent-%COMP%]{margin-top:-1px!important;width:18px!important;height:18px!important}.icon-menu[_ngcontent-%COMP%]{margin-right:0!important;font-size:18px!important;width:18px!important}.mr-left[_ngcontent-%COMP%]{margin-left:-1px!important;margin-right:3px!important}.border-button[_ngcontent-%COMP%]{border-bottom:1px solid #dadada}  .filterPanelFI{margin-top:25px!important}  .custom-matselect-dropdown.mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}[_nghost-%COMP%]  ng-dropdown-panel.program-dropdown{width:-moz-fit-content!important;width:fit-content!important}  .custom-style-ngselect-fi.ng-dropdown-panel{width:auto!important;max-width:-moz-fit-content!important;max-width:fit-content!important}  .custom-style-ngselect-fi.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{white-space:normal!important}[_nghost-%COMP%]  .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-color:#ffffffb3!important;background-image:none!important}.text-count[_ngcontent-%COMP%]{display:inline-block;float:left;padding-top:4px}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgba(255,255,255,.7)!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container{width:12px;height:12px;margin-left:7px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background{background-color:transparent}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-checkmark .mat-checkbox-checkmark-path{stroke:#000!important}  .all-input.mat-checkbox-indeterminate .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-mixedmark{background-color:#000!important}.super-filter[_ngcontent-%COMP%]{width:150px;padding-right:15px!important}.float-label[_ngcontent-%COMP%]{font-size:.82rem;color:#ffffff78;font-weight:600;position:absolute;top:-3px}  .filterPanel{margin-top:25px!important}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:0!important;top:auto!important;padding-bottom:0!important}.super-filter[_ngcontent-%COMP%]{width:250px}.custom-filter-table[_ngcontent-%COMP%]     .ng-select{width:90%!important;padding:2px!important;margin:2px 0 0 5px!important}  .mat-form-field-underline{background-color:#ffffffb3!important}']}),n})(),canActivate:[v(25360).n],data:{permission:"candidate.show_perm"}},{path:"**",redirectTo:"",pathMatch:"full"}];let _s=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[ot.Bz.forChild(us),ot.Bz]}),n})(),fs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[k.ez,M.m,_s,V.ii.forRoot(),At.A0]}),n})()},90610:(It,at,v)=>{v.d(at,{W:()=>E});var k=v(65938),M=v(24006),V=v(17489),rt=v(35226),f=v.n(rt),L=v(62416),W=v(68745),d=v(1059),H=v(24850),a=v(94650),Y=v(89383),j=v(79710),q=v(52688),P=v(97679),Q=v(94442),S=v(84130),U=v(73555),$=v(47957),X=v(3238),z=v(4859),et=v(97392),t=v(59549),tt=v(284),ct=v(51572),st=v(36895);function it(m,u){1&m&&(a.\u0275\u0275elementStart(0,"mat-error"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&m&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(2,1,"This field is mandatory")))}function dt(m,u){if(1&m){const r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-option",45),a.\u0275\u0275listener("click",function(){const T=a.\u0275\u0275restoreView(r).$implicit,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.getSchoolDropdown(null==T?null:T._id))}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(2&m){const r=u.$implicit;a.\u0275\u0275property("value",null==r?null:r.scholar_season),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",null==r?null:r.scholar_season," ")}}function _t(m,u){1&m&&(a.\u0275\u0275elementStart(0,"mat-error"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&m&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(2,1,"This field is mandatory")))}function pt(m,u){if(1&m){const r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-option",46),a.\u0275\u0275listener("click",function(){const T=a.\u0275\u0275restoreView(r).$implicit,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.getCampusDropdown(null==T?null:T._id))}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(2&m){const r=u.$implicit;a.\u0275\u0275property("value",null==r?null:r.short_name),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",null==r?null:r.short_name," ")}}function mt(m,u){1&m&&(a.\u0275\u0275elementStart(0,"mat-error"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&m&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(2,1,"This field is mandatory")))}function lt(m,u){if(1&m){const r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-option",47),a.\u0275\u0275listener("click",function(){const T=a.\u0275\u0275restoreView(r).$implicit,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.getLevelDropdown(null==T?null:T._id))}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(2&m){const r=u.$implicit;a.\u0275\u0275property("value",null==r?null:r.name),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",null==r?null:r.name," ")}}function ht(m,u){1&m&&(a.\u0275\u0275elementStart(0,"mat-error"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&m&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(2,1,"This field is mandatory")))}function ut(m,u){if(1&m){const r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-option",48),a.\u0275\u0275listener("click",function(){const T=a.\u0275\u0275restoreView(r).$implicit,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.getSectorDropdown(null==T?null:T._id))}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(2&m){const r=u.$implicit;a.\u0275\u0275property("value",null==r?null:r.name),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",null==r?null:r.name," ")}}function ft(m,u){1&m&&(a.\u0275\u0275elementStart(0,"mat-error"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&m&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(2,1,"This field is mandatory")))}function gt(m,u){if(1&m){const r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-option",49),a.\u0275\u0275listener("click",function(){const T=a.\u0275\u0275restoreView(r).$implicit,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.getSpecialityDropdown(null==T?null:T._id))}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(2&m){const r=u.$implicit;a.\u0275\u0275property("value",null==r?null:r.name),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",null==r?null:r.name," ")}}function Ct(m,u){if(1&m){const r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-option",50),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(r);const x=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(x.getTypeFormationDropdown("none"))}),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()}2&m&&(a.\u0275\u0275property("value",a.\u0275\u0275pipeBind1(1,2,"None")),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(3,4,"None")," "))}function vt(m,u){if(1&m){const r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-option",50),a.\u0275\u0275listener("click",function(){const T=a.\u0275\u0275restoreView(r).$implicit,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.getTypeFormationDropdown(null==T?null:T._id))}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(2&m){const r=u.$implicit;a.\u0275\u0275property("value",null==r?null:r.name),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",null==r?null:r.name," ")}}function yt(m,u){1&m&&(a.\u0275\u0275elementStart(0,"mat-error"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&m&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(2,1,"This field is mandatory")))}function xt(m,u){if(1&m){const r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-option",51),a.\u0275\u0275listener("click",function(){const T=a.\u0275\u0275restoreView(r).$implicit,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.getDevMemberDropdown(null==T?null:T._id,null==T?null:T.type_of_formation))}),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()}if(2&m){const r=u.$implicit;a.\u0275\u0275property("value",null==r?null:r.type_of_formation),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(2,2,"type_formation."+(null==r?null:r.type_of_formation))," ")}}function St(m,u){if(1&m){const r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-option",56),a.\u0275\u0275listener("click",function(){const T=a.\u0275\u0275restoreView(r).$implicit,g=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(g.selectOptionContinousFormationManager(T))}),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()}if(2&m){const r=u.$implicit;a.\u0275\u0275property("value",(null!=r&&r.civility&&"neutral"===(null==r?null:r.civility)?"":a.\u0275\u0275pipeBind1(1,4,null==r?null:r.civility))+" "+(null==r?null:r.first_name)+" "+(null==r?null:r.last_name)),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate3(" ",null!=r&&r.civility&&"neutral"===(null==r?null:r.civility)?"":a.\u0275\u0275pipeBind1(3,6,null==r?null:r.civility)," ",null==r?null:r.first_name," ",null==r?null:r.last_name," ")}}function Tt(m,u){1&m&&(a.\u0275\u0275elementStart(0,"mat-error"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&m&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ft(m,u){if(1&m&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div",11)(2,"mat-form-field",52),a.\u0275\u0275element(3,"input",53),a.\u0275\u0275pipe(4,"translate"),a.\u0275\u0275elementStart(5,"mat-autocomplete",15,54),a.\u0275\u0275template(7,St,4,8,"mat-option",55),a.\u0275\u0275pipe(8,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(9,Tt,3,3,"mat-error",14),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerEnd()),2&m){const r=a.\u0275\u0275reference(6),p=a.\u0275\u0275nextContext();let x;a.\u0275\u0275advance(3),a.\u0275\u0275propertyInterpolate1("placeholder","",a.\u0275\u0275pipeBind1(4,5,"Continuous Formation Manager"),"*"),a.\u0275\u0275property("matAutocomplete",r),a.\u0275\u0275advance(2),a.\u0275\u0275property("panelWidth","fit"),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(8,7,p.filteredManager)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",null==p.filterFormCtrl||null==(x=p.filterFormCtrl.get("continuous_formation_manager_id"))?null:x.errors)}}function D(m,u){1&m&&(a.\u0275\u0275elementStart(0,"mat-error"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&m&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(2,1,"This field is required")))}function K(m,u){if(1&m){const r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-option",57),a.\u0275\u0275listener("click",function(){const T=a.\u0275\u0275restoreView(r).$implicit,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.selectDevMember(null==T?null:T._id))}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(2&m){const r=u.$implicit;a.\u0275\u0275property("value",null==r?null:r.name),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",null==r?null:r.name," ")}}function y(m,u){1&m&&(a.\u0275\u0275elementStart(0,"div",58),a.\u0275\u0275element(1,"mat-spinner",59),a.\u0275\u0275elementEnd()),2&m&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("diameter",100))}let E=(()=>{class m{constructor(r,p,x,T,g,O,I,R,J){this.dialogRef=r,this.fb=p,this.translate=x,this.candidateService=T,this.userService=g,this.data=O,this.admissionEntrypointService=I,this.financeService=R,this.permissions=J,this.subs=new W.Y,this.isTitleTrue=!1,this.noUsers=!1,this.correctorName="",this.isUserAdmissionMember=!1,this.userTypes=[],this.devMemberList=[],this.devLeaderList=[],this.userCorrectorList=[],this.userList=[],this.memberAssigned=[],this.isGroupTest=!1,this.isContinous=!1,this.isWaitingForResponse=!1,this.isWaitingForUserList=!0,this.isMultipleSelected=!1,this.isSingleSelected=!0,this.dataMemberAssigned=[],this.candidateAssignedMember=[],this.campusList=[],this.isSameData=!1,this.listCampusTransfer=[],this.selectedCfm="",this.scholarList=[],this.schoolList=[],this.campusesList=[],this.levelList=[],this.sectorList=[],this.specialityList=[],this.formationList=[],this.memberList=[],this.listContinousManager=[],this.isDisplayNone=!1}ngOnInit(){this.isOPERATORAdmin=!!this.permissions.getPermission("operator_admin"),this.currentUser=this.userService.getLocalStorageUser(),this.isPermission=this.userService.getPermission();const r=this.currentUser?.entities?.find(p=>p?.type?.name===this.isPermission[0]);this.currentUserTypeId=r?.type?._id,this.isUserAdmissionMember=!!this.permissions.getPermission("Admission Member"),this.singleCandidate=this.data.data[0],this.initProgramForm(),this.initFilterForm(),this.getScholarSeason()}initForm(){this.assignCampusForm=this.fb.group({campus:["",M.Validators.required]})}checkFormValidity(){return!!this.filterFormCtrl.invalid&&(f().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.filterFormCtrl.markAllAsTouched(),!0)}submitAssignMember(){if(this.isContinous&&!this.assignProgramForm.get("continuous_formation_manager_id").value)this.filterFormCtrl.get("continuous_formation_manager_id").setValidators(M.Validators.required),this.filterFormCtrl.get("continuous_formation_manager_id").updateValueAndValidity(),this.checkFormValidity();else{if(this.filterFormCtrl.get("continuous_formation_manager_id").clearValidators(),this.filterFormCtrl.get("continuous_formation_manager_id").updateValueAndValidity(),this.checkFormValidity())return;const r=V.cloneDeep(this.assignProgramForm.value),p=!1;p&&f().fire({type:"info",title:this.translate.instant("TransferSameProgram.Title"),html:this.translate.instant("TransferSameProgram.Text"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("TransferSameProgram.Button")}).then(O=>{this.isWaitingForResponse=!1}),(null===r.speciality||""===r.speciality||null==this.selectedSpeciality)&&delete r.speciality;const x={scholar:this.selectedScholar.scholar_season,school:this.selectedSchool.short_name,campus:this.selectedCampuses.name,level:this.selectedLevel.name,sector:this.selectedSector.name,speciality:this.selectedSpeciality?this.selectedSpeciality.name:this.translate.instant("None"),formation:this.translate.instant("type_formation."+this.selectedFormation.type_of_formation),member:this.selectedMember.name,cfmName:this.selectedCfm};this.isWaitingForResponse=!0;let T=3,g=!1;if(this.data?.data?.length&&(g=this.data.data.some(O=>"partially_paid"===O?.billing_id?.deposit_status)),g){if(!1===p){const O=`${x?.scholar} ${x?.school?.slice(0,3).toUpperCase()}${x?.campus?.slice(0,3).toUpperCase()} ${x?.level} ${x?.sector} ${x?.speciality!==this.translate.instant("None")?x?.speciality:""}`;f().fire({type:"warning",title:this.translate.instant("Transfer_Partialy_Paid_S1.TITLE"),html:this.translate.instant("Transfer_Partialy_Paid_S1.TEXT",{newProgram:O}),allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("Transfer_Partialy_Paid_S1.BUTTON_1"),cancelButtonText:this.translate.instant("Transfer_Partialy_Paid_S1.BUTTON_2"),allowOutsideClick:!1,allowEnterKey:!1}).then(I=>{I.value?(this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.TransferProgramOfCandidate(this.singleCandidate._id,r).subscribe(R=>{this.isWaitingForResponse=!1,R&&(this.isWaitingForResponse=!1,f().fire({type:"success",title:this.translate.instant("CANDIDAT_S8.TITLE"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S8.BUTTON")}).then(()=>{this.dialogRef.close("reset")}))},R=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(R),"GraphQL error: Legal Entity not found!"===R.message?f().fire({type:"info",title:this.translate.instant("OSCAR_S3.TITLE"),text:this.translate.instant("OSCAR_S3.TEXT"),confirmButtonText:this.translate.instant("OSCAR_S3.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("reset")}):"GraphQL error: Program not found!"===R.message?f().fire({type:"info",title:this.translate.instant("Oscar_S5.TITLE"),text:this.translate.instant("Oscar_S5.TEXT"),confirmButtonText:this.translate.instant("Oscar_S5.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("reset")}):"GraphQL error: cannot assign the same program with the current program"===R.message?f().fire({type:"info",title:this.translate.instant("TransferSameProgram.Title"),html:this.translate.instant("TransferSameProgram.Text"),confirmButtonText:this.translate.instant("TransferSameProgram.Button"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("reset")}):"GraphQL error: There is term that already paid"===R.message?f().fire({type:"info",title:this.translate.instant("VALIDATION_BILLING_S2.TITLE"),text:this.translate.instant("VALIDATION_BILLING_S2.TEXT"),confirmButtonText:this.translate.instant("VALIDATION_BILLING_S2.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("reset")}):"GraphQL error: There is term still pending"===R.message?f().fire({type:"info",title:this.translate.instant("PAY_SUM_S3.Title"),text:this.translate.instant("PAY_SUM_S3.Text"),confirmButtonText:this.translate.instant("PAY_SUM_S3.Button"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("reset")}):R&&R.message&&R.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:R&&R.message?this.translate.instant(R.message.replaceAll("GraphQL error: ","")):R,confirmButtonText:this.translate.instant("OK")}).then(()=>{this.dialogRef.close("reset")})})):this.isWaitingForResponse=!1})}}else!1===p&&f().fire({type:"question",title:this.translate.instant("TRANSFER_S2.Title"),html:this.translate.instant("TRANSFER_S2.Text",{scholarName:x.scholar,schoolName:x.school,campusName:x.campus,levelName:x.level,sectorName:x.sector,specialityName:x.speciality,formationName:x.formation,devMember:x.member,cfmName:x.cfmName}),allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("TRANSFER_S2.Button 1",{timer:T}),cancelButtonText:this.translate.instant("TRANSFER_S2.Button 2"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{f().disableConfirmButton();const O=f().getConfirmButton();this.intVal=setInterval(()=>{T-=1,O.innerText=this.translate.instant("TRANSFER_S2.Button 1")+` (${T})`},1e3),this.timeOutVal=setTimeout(()=>{O.innerText=this.translate.instant("TRANSFER_S2.Button 1"),f().enableConfirmButton(),clearInterval(this.intVal),clearTimeout(this.timeOutVal)},1e3*T)}}).then(O=>{clearTimeout(this.timeOutVal),this.isWaitingForResponse=!1,O.value?(this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.TransferProgramOfCandidate(this.singleCandidate._id,r).subscribe(I=>{this.isWaitingForResponse=!1,I&&(this.isWaitingForResponse=!1,f().fire({type:"success",title:this.translate.instant("CANDIDAT_S8.TITLE"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S8.BUTTON")}).then(()=>{this.dialogRef.close("reset")}))},I=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(I),"GraphQL error: Legal Entity not found!"===I.message?f().fire({type:"info",title:this.translate.instant("OSCAR_S3.TITLE"),text:this.translate.instant("OSCAR_S3.TEXT"),confirmButtonText:this.translate.instant("OSCAR_S3.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("reset")}):"GraphQL error: Program not found!"===I.message?f().fire({type:"info",title:this.translate.instant("Oscar_S5.TITLE"),text:this.translate.instant("Oscar_S5.TEXT"),confirmButtonText:this.translate.instant("Oscar_S5.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("reset")}):"GraphQL error: cannot assign the same program with the current program"===I.message?f().fire({type:"info",title:this.translate.instant("TransferSameProgram.Title"),html:this.translate.instant("TransferSameProgram.Text"),confirmButtonText:this.translate.instant("TransferSameProgram.Button"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("reset")}):"GraphQL error: There is term that already paid"===I.message?f().fire({type:"info",title:this.translate.instant("VALIDATION_BILLING_S2.TITLE"),text:this.translate.instant("VALIDATION_BILLING_S2.TEXT"),confirmButtonText:this.translate.instant("VALIDATION_BILLING_S2.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("reset")}):"GraphQL error: There is term still pending"===I.message?f().fire({type:"info",title:this.translate.instant("PAY_SUM_S3.Title"),text:this.translate.instant("PAY_SUM_S3.Text"),confirmButtonText:this.translate.instant("PAY_SUM_S3.Button"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close("reset")}):I&&I.message&&I.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:I&&I.message?this.translate.instant(I.message.replaceAll("GraphQL error: ","")):I,confirmButtonText:this.translate.instant("OK")}).then(()=>{this.dialogRef.close("reset")})})):this.isWaitingForResponse=!1})}}selectCampus(r){const p=r.value;this.selectedCampus=this.campusList.find(x=>x._id===p),this.subs.sink=this.candidateService.GetDevLeader(this.selectedCampus.name).subscribe(x=>{this.devLeaderList=x},x=>{this.userService.postErrorLog(x),x&&x.message&&x.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:x&&x.message?this.translate.instant(x.message.replaceAll("GraphQL error: ","")):x,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.subs.sink=this.candidateService.GetDevMember(this.selectedCampus.name).subscribe(x=>{this.devMemberList=x},x=>{this.userService.postErrorLog(x),x&&x.message&&x.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:x&&x.message?this.translate.instant(x.message.replaceAll("GraphQL error: ","")):x,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}messageAfterSelect(){let r="";return r+=this.translate.instant("Single Candidates Selected",{candidateName:this.correctorName}),r}closeDialog(){this.dialogRef.close()}ngOnDestroy(){this.subs.unsubscribe()}getMessage(r){let p="";this.campusList.filter(g=>g.campus===r);let T="";return this.devLeaderList&&this.devLeaderList.length&&(T=("neutral"!==this.devLeaderList[0].civility?this.translate.instant(this.devLeaderList[0].civility)+" ":"")+this.devLeaderList[0].first_name+" "+this.devLeaderList[0].last_name,p+=this.translate.instant("CANDIDATE_POPUP_3.Where Will be",{candidateName:("neutral"!==this.singleCandidate.civility?this.translate.instant(this.singleCandidate.civility)+" ":"")+this.singleCandidate.first_name+" "+this.singleCandidate.last_name+" "})),p+=this.translate.instant("MR"===this.singleCandidate.civility?"CANDIDATE_POPUP_3.transferred":"CANDIDATE_POPUP_3.transferreed"),p+=this.translate.instant("CANDIDATE_POPUP_3.devLeader",{devLeader:T}),p}getDataCampus(){this.singleCandidate&&(this.subs.sink=this.candidateService.getAllCandidateCampus({scholar_season_id:this.singleCandidate.scholar_season&&this.singleCandidate.scholar_season._id?this.singleCandidate.scholar_season._id:"",school_id:this.singleCandidate.school?this.singleCandidate.school._id:""},!0).subscribe(p=>{p&&(this.campusList=p,this.listCampusTransfer=p)},p=>{this.userService.postErrorLog(p),p&&p.message&&p.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}initProgramForm(){this.assignProgramForm=this.fb.group({scholar_season:["",M.Validators.required],school:["",M.Validators.required],campus:["",M.Validators.required],level:["",M.Validators.required],sector:["",M.Validators.required],type_of_formation_id:["",M.Validators.required],continuous_formation_manager_id:[null],speciality:[""],dev_member:["",M.Validators.required]})}initFilterForm(){this.filterFormCtrl=this.fb.group({scholarSeason:["",M.Validators.required],school:["",M.Validators.required],campus:["",M.Validators.required],level:["",M.Validators.required],sector:["",M.Validators.required],type_of_formation_id:["",M.Validators.required],continuous_formation_manager_id:[null],speciality:[""],devMember:["",M.Validators.required]})}getScholarSeason(){this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.getAllScholarSeasons({is_published:!0}).subscribe(p=>{if(p){const x=this.data?.data[0]?.scholar_season?.scholar_season?this.data?.data[0]?.scholar_season?.scholar_season:"",T=p?.filter(g=>{if(g)return g?.scholar_season>=x});this.scholarList=this.isOPERATORAdmin?V.cloneDeep(p):T,this.isWaitingForResponse=!1,this.initFilter()}},p=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(p),p&&p.message&&p.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("OK")})})}initFilter(){this.filteredScholar=this.filterFormCtrl.controls.scholarSeason.valueChanges.pipe((0,d.O)(""),(0,H.U)(r=>this.scholarList.filter(p=>!p||p.scholar_season.toLowerCase().includes(r.toString().toLowerCase())))),this.filteredSchool=this.filterFormCtrl.controls.school.valueChanges.pipe((0,d.O)(""),(0,H.U)(r=>this.schoolList.filter(p=>!p||p.short_name.toLowerCase().includes(r?r?.toLowerCase():"")))),this.filteredCampus=this.filterFormCtrl.controls.campus.valueChanges.pipe((0,d.O)(""),(0,H.U)(r=>this.campusesList.filter(p=>!p||p.name.toLowerCase().includes(r?r?.toLowerCase():"")))),this.filteredLevel=this.filterFormCtrl.controls.level.valueChanges.pipe((0,d.O)(""),(0,H.U)(r=>r?this.levelList.filter(p=>!p||p.name.toLowerCase().includes(r.toString().toLowerCase())).sort((p,x)=>p.name-x.name):this.levelList.sort((p,x)=>p.name-x.name))),this.filteredSector=this.filterFormCtrl.controls.sector.valueChanges.pipe((0,d.O)(""),(0,H.U)(r=>this.sectorList.filter(p=>!p||p.name.toLowerCase().includes(r?r?.toLowerCase():"")))),this.filteredSpeciality=this.filterFormCtrl.controls.speciality.valueChanges.pipe((0,d.O)(""),(0,H.U)(r=>this.specialityList.filter(p=>!p||p.name.toLowerCase().includes(r?r?.toLowerCase():"")))),this.filteredFormation=this.filterFormCtrl.controls.type_of_formation_id.valueChanges.pipe((0,d.O)(""),(0,H.U)(r=>this.formationList.filter(p=>!p||this.translate.instant("type_formation."+p.type_of_information).toLowerCase().includes(r?r?.toLowerCase():"")))),this.filteredMember=this.filterFormCtrl.controls.devMember.valueChanges.pipe((0,d.O)(""),(0,H.U)(r=>this.memberList.filter(p=>!p||p.name.toLowerCase().includes(r?r?.toLowerCase():""))))}getUserTypeIdList(){const r=this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type:[],p=[];if(r){const x=r.filter(T=>"operator_dir"===T.name);if(x?.length)p.push(x[0]?._id);else{const T=r.filter(g=>"operator_admin"===g.name);T?.length?p.push(T[0]?._id):r.forEach(g=>{("Admission Director"===g.name||"Admission Member"===g.name||"Academic Director"===g.name||"Continuous formation manager"===g.name)&&p.push(g._id)})}}return p}getSchoolDropdown(r){this.isWaitingForResponse=!0,this.isDisplayNone=!1,this.schoolList=[],this.campusesList=[],this.levelList=[],this.sectorList=[],this.specialityList=[],this.memberList=[],this.formationList=[],this.listContinousManager=[],this.isContinous=!1,this.assignProgramForm.controls.school.patchValue(""),this.assignProgramForm.controls.campus.patchValue(""),this.assignProgramForm.controls.level.patchValue(""),this.assignProgramForm.controls.sector.patchValue(""),this.assignProgramForm.controls.speciality.patchValue(""),this.assignProgramForm.controls.type_of_formation_id.patchValue(""),this.assignProgramForm.controls.continuous_formation_manager_id.patchValue(""),this.filterFormCtrl.controls.school.patchValue(""),this.filterFormCtrl.controls.campus.patchValue(""),this.filterFormCtrl.controls.level.patchValue(""),this.filterFormCtrl.controls.sector.patchValue(""),this.filterFormCtrl.controls.speciality.patchValue(""),this.filterFormCtrl.controls.type_of_formation_id.patchValue(""),this.filterFormCtrl.controls.continuous_formation_manager_id.patchValue(""),this.isUserAdmissionMember||(this.memberList=[],this.assignProgramForm.controls.dev_member.patchValue(""),this.filterFormCtrl.controls.devMember.patchValue(""));const p=this.getUserTypeIdList();this.selectedScholar=this.scholarList.find(T=>T._id===r),this.assignProgramForm.controls.scholar_season.patchValue(r);const x=`filter: { scholar_season_id:"${r}"}`;console.log(x),this.subs.sink=this.candidateService.GetAllSchoolFilter(r,x,p,!0,!0).subscribe(T=>{T&&(this.schoolList=T,this.initFilter(),this.isWaitingForResponse=!1)},T=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(T),T&&T.message&&T.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:T&&T.message?this.translate.instant(T.message.replaceAll("GraphQL error: ","")):T,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCampusDropdown(r){this.isWaitingForResponse=!0,this.isDisplayNone=!1,this.campusesList=[],this.levelList=[],this.sectorList=[],this.specialityList=[],this.memberList=[],this.listContinousManager=[],this.formationList=[],this.isContinous=!1,this.assignProgramForm.controls.campus.patchValue(""),this.assignProgramForm.controls.level.patchValue(""),this.assignProgramForm.controls.sector.patchValue(""),this.assignProgramForm.controls.speciality.patchValue(""),this.assignProgramForm.controls.type_of_formation_id.patchValue(""),this.assignProgramForm.controls.continuous_formation_manager_id.patchValue(""),this.filterFormCtrl.controls.campus.patchValue(""),this.filterFormCtrl.controls.level.patchValue(""),this.filterFormCtrl.controls.sector.patchValue(""),this.filterFormCtrl.controls.speciality.patchValue(""),this.filterFormCtrl.controls.type_of_formation_id.patchValue(""),this.filterFormCtrl.controls.continuous_formation_manager_id.patchValue(""),this.isUserAdmissionMember||(this.memberList=[],this.assignProgramForm.controls.dev_member.patchValue(""),this.filterFormCtrl.controls.devMember.patchValue(""));const p=this.getUserTypeIdList();this.selectedSchool=this.schoolList.find(T=>T._id===r),this.assignProgramForm.controls.school.patchValue(r),this.subs.sink=this.candidateService.GetAllCampuses({scholar_season_id:this.selectedScholar._id,school_id:r},p,!0,!0).subscribe(T=>{T&&(this.campusesList=T,this.initFilter(),this.isWaitingForResponse=!1)},T=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(T),T&&T.message&&T.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:T&&T.message?this.translate.instant(T.message.replaceAll("GraphQL error: ","")):T,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getLevelDropdown(r){this.isWaitingForResponse=!0,this.isDisplayNone=!1,this.levelList=[],this.sectorList=[],this.specialityList=[],this.memberList=[],this.formationList=[],this.listContinousManager=[],this.isContinous=!1,this.assignProgramForm.controls.level.patchValue(""),this.assignProgramForm.controls.sector.patchValue(""),this.assignProgramForm.controls.speciality.patchValue(""),this.assignProgramForm.controls.type_of_formation_id.patchValue(""),this.assignProgramForm.controls.continuous_formation_manager_id.patchValue(""),this.filterFormCtrl.controls.level.patchValue(""),this.filterFormCtrl.controls.sector.patchValue(""),this.filterFormCtrl.controls.speciality.patchValue(""),this.filterFormCtrl.controls.type_of_formation_id.patchValue(""),this.filterFormCtrl.controls.continuous_formation_manager_id.patchValue(""),this.isUserAdmissionMember||(this.memberList=[],this.assignProgramForm.controls.dev_member.patchValue(""),this.filterFormCtrl.controls.devMember.patchValue(""));const p=this.getUserTypeIdList();this.selectedCampuses=this.campusesList.find(T=>T._id===r),this.assignProgramForm.controls.campus.patchValue(r),this.subs.sink=this.candidateService.GetAllLevels({scholar_season_id:this.selectedScholar._id,school_id:this.selectedSchool._id,campus_id:r},p,!0,!0).subscribe(T=>{T&&(this.levelList=T,this.initFilter(),this.isWaitingForResponse=!1)},T=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(T),T&&T.message&&T.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:T&&T.message?this.translate.instant(T.message.replaceAll("GraphQL error: ","")):T,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getSectorDropdown(r){this.isWaitingForResponse=!0,this.isDisplayNone=!1,this.sectorList=[],this.specialityList=[],this.memberList=[],this.formationList=[],this.listContinousManager=[],this.isContinous=!1,this.assignProgramForm.controls.sector.patchValue(""),this.assignProgramForm.controls.speciality.patchValue(""),this.assignProgramForm.controls.type_of_formation_id.patchValue(""),this.assignProgramForm.controls.continuous_formation_manager_id.patchValue(""),this.filterFormCtrl.controls.sector.patchValue(""),this.filterFormCtrl.controls.speciality.patchValue(""),this.filterFormCtrl.controls.type_of_formation_id.patchValue(""),this.filterFormCtrl.controls.continuous_formation_manager_id.patchValue(""),this.isUserAdmissionMember||(this.memberList=[],this.assignProgramForm.controls.dev_member.patchValue(""),this.filterFormCtrl.controls.devMember.patchValue("")),this.selectedLevel=this.levelList.find(x=>x._id===r),this.assignProgramForm.controls.level.patchValue(r),this.subs.sink=this.financeService.GetAllSectorsDropdown({scholar_season_id:this.selectedScholar._id,candidate_school_ids:[this.selectedSchool._id],campuses:[this.selectedCampuses._id],levels:[r]}).subscribe(x=>{x&&(this.sectorList=x,this.initFilter(),this.isWaitingForResponse=!1)},x=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(x),x&&x.message&&x.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:x&&x.message?this.translate.instant(x.message.replaceAll("GraphQL error: ","")):x,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getSpecialityDropdown(r){this.isWaitingForResponse=!0,this.specialityList=[],this.memberList=[],this.formationList=[],this.formationList=[],this.listContinousManager=[],this.isContinous=!1,this.assignProgramForm.controls.type_of_formation_id.patchValue(""),this.assignProgramForm.controls.speciality.patchValue(""),this.assignProgramForm.controls.continuous_formation_manager_id.patchValue(""),this.filterFormCtrl.controls.speciality.patchValue(""),this.filterFormCtrl.controls.type_of_formation_id.patchValue(""),this.filterFormCtrl.controls.continuous_formation_manager_id.patchValue(""),this.isUserAdmissionMember||(this.memberList=[],this.assignProgramForm.controls.dev_member.patchValue(""),this.filterFormCtrl.controls.devMember.patchValue("")),this.selectedSector=this.sectorList.find(x=>x._id===r),this.assignProgramForm.controls.sector.patchValue(r),this.subs.sink=this.candidateService.getAllProgramsToGetSpeciality({scholar_season_id:this.selectedScholar._id,school_id:[this.selectedSchool._id],campus:[this.selectedCampuses._id],level:[this.selectedLevel._id],sector:[r]}).subscribe(x=>{const T=V.cloneDeep(x),g=T.find(I=>!I?.speciality_id?._id),O=[];T.forEach(I=>{I?.speciality_id?._id&&O.push(I?.speciality_id)}),console.log("_speciality",x,g,O),this.isDisplayNone=!!g,O&&O?.length?(this.specialityList=O,this.initFilter(),this.isWaitingForResponse=!1):(this.getTypeFormationDropdown(null),this.isWaitingForResponse=!1)},x=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(x),x&&x.message&&x.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:x&&x.message?this.translate.instant(x.message.replaceAll("GraphQL error: ","")):x,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getTypeFormationDropdown(r){this.isWaitingForResponse=!0,r&&("none"!==r?(this.selectedSpeciality=this.specialityList.find(p=>p._id===r),this.assignProgramForm.controls.speciality.patchValue(r)):(this.selectedSpeciality=null,this.assignProgramForm.controls.speciality.patchValue(null))),this.subs.sink=this.admissionEntrypointService.getAllTypeOfInformationByScholar(this.selectedScholar._id).subscribe(p=>{p&&(this.formationList=p.filter(x=>x.type_of_formation),this.initFilter(),this.isWaitingForResponse=!1)},p=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(p),p&&p.message&&p.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}displayWithType(r){if(r){const p=this.formationList.find(x=>x.type_of_formation.toLowerCase().trim().includes(r));return p?this.translate.instant("type_formation."+p.type_of_formation):r}return r}getDevMemberDropdown(r,p){"classic"!==p?this.isContinous=!0:(this.isContinous=!1,this.selectedCfm=""),this.isWaitingForResponse=!0,this.memberList=[],this.assignProgramForm.get("continuous_formation_manager_id").setValue(null),this.filterFormCtrl.get("continuous_formation_manager_id").setValue(null),this.isUserAdmissionMember||(this.assignProgramForm.controls.dev_member.patchValue(""),this.filterFormCtrl.controls.devMember.patchValue("")),"none"!==r?(this.selectedFormation=this.formationList.find(O=>O._id===r),this.assignProgramForm.controls.type_of_formation_id.patchValue(r)):(this.selectedFormation=null,this.assignProgramForm.controls.type_of_formation_id.patchValue(null));const x=this.assignProgramForm.controls.school.value,T=this.assignProgramForm.controls.campus.value,g=this.assignProgramForm.controls.level.value;this.subs.sink="readmission-transfer"!==this.data.from?this.candidateService.getDevMemberDropdown(T,x,g).subscribe(O=>{O&&(V.cloneDeep(O).forEach(R=>{if(R&&R._id){const J={_id:R._id,name:("neutral"!==R.civility?this.translate.instant(R.civility)+" ":"")+R.last_name.toUpperCase()+" "+R.first_name};this.memberList.push(J)}}),this.isUserAdmissionMember&&this.selectDevMember(this.currentUser._id),this.isWaitingForResponse=!1,this.initFilter(),this.getContinuousFormationManagerList(T,x,g))},O=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(O),O&&O.message&&O.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:O&&O.message?this.translate.instant(O.message.replaceAll("GraphQL error: ","")):O,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.candidateService.getAcadMemberDropdown(T,x,g).subscribe(O=>{O&&(V.cloneDeep(O).forEach(R=>{if(R&&R._id){const J={_id:R._id,name:("neutral"!==R.civility?this.translate.instant(R.civility)+" ":"")+R.last_name.toUpperCase()+" "+R.first_name};this.memberList.push(J)}}),this.isUserAdmissionMember&&this.selectDevMember(this.currentUser._id),this.isWaitingForResponse=!1,this.initFilter(),this.getContinuousFormationManagerList(T,x,g))},O=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(O),O&&O.message&&O.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:O&&O.message?this.translate.instant(O.message.replaceAll("GraphQL error: ","")):O,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}selectDevMember(r){this.selectedMember=this.memberList.find(p=>p._id===r),console.log("_devMember id",r,this.selectedMember,this.memberList),this.selectedMember?._id&&(this.assignProgramForm.get("dev_member").setValue(this.selectedMember?._id),this.filterFormCtrl.get("devMember").setValue(this.selectedMember?.name))}getContinuousFormationManagerList(r,p,x){this.subs.sink=this.candidateService.getUserContinuousFormationManager(["61ceb560688f572138e023b2"],r,p,x).subscribe(g=>{g&&(this.listContinousManager=g,this.filteredManager=this.filterFormCtrl.get("continuous_formation_manager_id").valueChanges.pipe((0,d.O)(""),(0,H.U)(O=>this.listContinousManager.filter(I=>!I||I.first_name.toLowerCase().includes(O?O.toString().toLowerCase():"")))))},g=>{this.userService.postErrorLog(g),g&&g.message&&g.message.includes("Network error: Http failure response for")?f().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):f().fire({type:"info",title:this.translate.instant("SORRY"),text:g&&g.message?this.translate.instant(g.message.replaceAll("GraphQL error: ","")):g,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}selectOptionContinousFormationManager(r){this.assignProgramForm.get("continuous_formation_manager_id").setValue(r._id);const p=(r.civility&&"neutral"===r.civility?"":this.translate.instant(r.civility))+" "+r.first_name+" "+r.last_name;this.selectedCfm=p,this.filterFormCtrl.get("continuous_formation_manager_id").patchValue(p)}}return m.\u0275fac=function(r){return new(r||m)(a.\u0275\u0275directiveInject(k.so),a.\u0275\u0275directiveInject(M.UntypedFormBuilder),a.\u0275\u0275directiveInject(Y.sK),a.\u0275\u0275directiveInject(j.o),a.\u0275\u0275directiveInject(q.e),a.\u0275\u0275directiveInject(k.WI),a.\u0275\u0275directiveInject(P.l),a.\u0275\u0275directiveInject(Q.N),a.\u0275\u0275directiveInject(S.YI))},m.\u0275cmp=a.\u0275\u0275defineComponent({type:m,selectors:[["ms-transfer-admission-member-dialog"]],features:[a.\u0275\u0275ProvidersFeature([L.t])],decls:96,vars:85,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper","header-dialog"],[1,"p-grid"],[1,"w-30","no-padding"],["mat-icon-button","","svgIcon","bank-transfer",1,"mt-2px"],[1,"p-col-10","no-padding"],["data-cy","title-transfer",1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",3,"formGroup"],[1,"p-grid","dropdown-pad"],[1,"p-col-6","pad-y-none"],[1,"full-wid"],["data-cy","input-scholar-season","matInput","","formControlName","scholarSeason","required","",3,"placeholder","matAutocomplete"],[4,"ngIf"],[3,"panelWidth"],["autoScholar","matAutocomplete"],["data-cy","input-scholar-season-option",3,"value","click",4,"ngFor","ngForOf"],["data-cy","input-school","matInput","","formControlName","school","required","",3,"placeholder","matAutocomplete"],["autoSchool","matAutocomplete"],["data-cy","input-school-option",3,"value","click",4,"ngFor","ngForOf"],["data-cy","input-campus","matInput","","formControlName","campus","required","",3,"placeholder","matAutocomplete"],["autoCampus","matAutocomplete"],["data-cy","input-campus-option",3,"value","click",4,"ngFor","ngForOf"],["data-cy","input-level","matInput","","formControlName","level","required","",3,"placeholder","matAutocomplete"],["autoLevel","matAutocomplete"],["data-cy","input-level-option",3,"value","click",4,"ngFor","ngForOf"],["data-cy","input-sector","matInput","","formControlName","sector","required","",3,"placeholder","matAutocomplete"],["autoSector","matAutocomplete"],["data-cy","input-sector-option",3,"value","click",4,"ngFor","ngForOf"],["data-cy","input-speciality","matInput","","formControlName","speciality",3,"placeholder","matAutocomplete"],["autoSpeciality","matAutocomplete"],["data-cy","input-speciality-option",3,"value","click",4,"ngIf"],["data-cy","input-speciality-option",3,"value","click",4,"ngFor","ngForOf"],["data-cy","input-type-of-formation","matInput","","formControlName","type_of_formation_id",3,"placeholder","matAutocomplete"],[3,"displayWith","panelWidth"],["autoFormation","matAutocomplete"],["data-cy","input-type-of-formation-option",3,"value","click",4,"ngFor","ngForOf"],["data-cy","input-dev-member","matInput","","formControlName","devMember","required","",3,"placeholder","matAutocomplete"],["autoMember","matAutocomplete"],["data-cy","input-dev-member-option",3,"value","click",4,"ngFor","ngForOf"],["data-cy","spinner-dialog","class","inner-loading-indicator",4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end","mr-10"],["data-cy","button-cancel","mat-raised-button","","color","warn","type","button",3,"click"],["data-cy","button-validate","mat-raised-button","","color","primary","type","button",1,"mr-0",3,"click"],["data-cy","input-scholar-season-option",3,"value","click"],["data-cy","input-school-option",3,"value","click"],["data-cy","input-campus-option",3,"value","click"],["data-cy","input-level-option",3,"value","click"],["data-cy","input-sector-option",3,"value","click"],["data-cy","input-speciality-option",3,"value","click"],["data-cy","input-type-of-formation-option",3,"value","click"],["floatLabel","auto"],["data-cy","input-continous-formation-manager","matInput","","formControlName","continuous_formation_manager_id",3,"placeholder","matAutocomplete"],["autoContinuousManager","matAutocomplete"],["data-cy","input-continous-formation-manager-option",3,"value","click",4,"ngFor","ngForOf"],["data-cy","input-continous-formation-manager-option",3,"value","click"],["data-cy","input-dev-member-option",3,"value","click"],["data-cy","spinner-dialog",1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(r,p){if(1&r&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a.\u0275\u0275element(4,"mat-icon",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"div",5)(6,"h3",6),a.\u0275\u0275text(7),a.\u0275\u0275pipe(8,"translate"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(9,"div",7)(10,"button",8),a.\u0275\u0275listener("click",function(){return p.closeDialog()}),a.\u0275\u0275elementStart(11,"mat-icon"),a.\u0275\u0275text(12,"close"),a.\u0275\u0275elementEnd()()()()()(),a.\u0275\u0275elementStart(13,"div",9)(14,"div",10)(15,"div",11)(16,"mat-form-field",12),a.\u0275\u0275element(17,"input",13),a.\u0275\u0275pipe(18,"translate"),a.\u0275\u0275template(19,it,3,3,"mat-error",14),a.\u0275\u0275elementStart(20,"mat-autocomplete",15,16),a.\u0275\u0275template(22,dt,2,2,"mat-option",17),a.\u0275\u0275pipe(23,"async"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(24,"div",11)(25,"mat-form-field",12),a.\u0275\u0275element(26,"input",18),a.\u0275\u0275pipe(27,"translate"),a.\u0275\u0275template(28,_t,3,3,"mat-error",14),a.\u0275\u0275elementStart(29,"mat-autocomplete",15,19),a.\u0275\u0275template(31,pt,2,2,"mat-option",20),a.\u0275\u0275pipe(32,"async"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(33,"div",11)(34,"mat-form-field",12),a.\u0275\u0275element(35,"input",21),a.\u0275\u0275pipe(36,"translate"),a.\u0275\u0275template(37,mt,3,3,"mat-error",14),a.\u0275\u0275elementStart(38,"mat-autocomplete",15,22),a.\u0275\u0275template(40,lt,2,2,"mat-option",23),a.\u0275\u0275pipe(41,"async"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(42,"div",11)(43,"mat-form-field",12),a.\u0275\u0275element(44,"input",24),a.\u0275\u0275pipe(45,"translate"),a.\u0275\u0275template(46,ht,3,3,"mat-error",14),a.\u0275\u0275elementStart(47,"mat-autocomplete",15,25),a.\u0275\u0275template(49,ut,2,2,"mat-option",26),a.\u0275\u0275pipe(50,"async"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(51,"div",11)(52,"mat-form-field",12),a.\u0275\u0275element(53,"input",27),a.\u0275\u0275pipe(54,"translate"),a.\u0275\u0275template(55,ft,3,3,"mat-error",14),a.\u0275\u0275elementStart(56,"mat-autocomplete",15,28),a.\u0275\u0275template(58,gt,2,2,"mat-option",29),a.\u0275\u0275pipe(59,"async"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(60,"div",11)(61,"mat-form-field",12),a.\u0275\u0275element(62,"input",30),a.\u0275\u0275pipe(63,"translate"),a.\u0275\u0275elementStart(64,"mat-autocomplete",15,31),a.\u0275\u0275template(66,Ct,4,6,"mat-option",32),a.\u0275\u0275template(67,vt,2,2,"mat-option",33),a.\u0275\u0275pipe(68,"async"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(69,"div",11)(70,"mat-form-field",12),a.\u0275\u0275element(71,"input",34),a.\u0275\u0275pipe(72,"translate"),a.\u0275\u0275template(73,yt,3,3,"mat-error",14),a.\u0275\u0275elementStart(74,"mat-autocomplete",35,36),a.\u0275\u0275template(76,xt,3,4,"mat-option",37),a.\u0275\u0275pipe(77,"async"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275template(78,Ft,10,9,"ng-container",14),a.\u0275\u0275elementStart(79,"div",11)(80,"mat-form-field",12),a.\u0275\u0275element(81,"input",38),a.\u0275\u0275pipe(82,"translate"),a.\u0275\u0275template(83,D,3,3,"mat-error",14),a.\u0275\u0275elementStart(84,"mat-autocomplete",15,39),a.\u0275\u0275template(86,K,2,2,"mat-option",40),a.\u0275\u0275pipe(87,"async"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275template(88,y,2,1,"div",41),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(89,"div",42)(90,"button",43),a.\u0275\u0275listener("click",function(){return p.closeDialog()}),a.\u0275\u0275text(91),a.\u0275\u0275pipe(92,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(93,"button",44),a.\u0275\u0275listener("click",function(){return p.submitAssignMember()}),a.\u0275\u0275text(94),a.\u0275\u0275pipe(95,"translate"),a.\u0275\u0275elementEnd()()),2&r){const x=a.\u0275\u0275reference(21),T=a.\u0275\u0275reference(30),g=a.\u0275\u0275reference(39),O=a.\u0275\u0275reference(48),I=a.\u0275\u0275reference(57),R=a.\u0275\u0275reference(65),J=a.\u0275\u0275reference(75),Z=a.\u0275\u0275reference(85);a.\u0275\u0275advance(7),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(8,47,"CANDIDATE_POPUP_3.TITLE")),a.\u0275\u0275advance(6),a.\u0275\u0275property("formGroup",p.filterFormCtrl),a.\u0275\u0275advance(4),a.\u0275\u0275propertyInterpolate("placeholder",a.\u0275\u0275pipeBind1(18,49,"Scholar Season")),a.\u0275\u0275property("matAutocomplete",x),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",null==p.filterFormCtrl?null:p.filterFormCtrl.get("scholarSeason").errors),a.\u0275\u0275advance(1),a.\u0275\u0275property("panelWidth","fit"),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(23,51,p.filteredScholar)),a.\u0275\u0275advance(4),a.\u0275\u0275propertyInterpolate("placeholder",a.\u0275\u0275pipeBind1(27,53,"INTERN_FOLLOW_UP.School")),a.\u0275\u0275property("matAutocomplete",T),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",null==p.filterFormCtrl?null:p.filterFormCtrl.get("school").errors),a.\u0275\u0275advance(1),a.\u0275\u0275property("panelWidth","fit"),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(32,55,p.filteredSchool)),a.\u0275\u0275advance(4),a.\u0275\u0275propertyInterpolate("placeholder",a.\u0275\u0275pipeBind1(36,57,"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus")),a.\u0275\u0275property("matAutocomplete",g),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",null==p.filterFormCtrl?null:p.filterFormCtrl.get("campus").errors),a.\u0275\u0275advance(1),a.\u0275\u0275property("panelWidth","fit"),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(41,59,p.filteredCampus)),a.\u0275\u0275advance(4),a.\u0275\u0275propertyInterpolate("placeholder",a.\u0275\u0275pipeBind1(45,61,"ADMISSION.TABLE_ADMISSION_CHANNEL.Level")),a.\u0275\u0275property("matAutocomplete",O),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",null==p.filterFormCtrl?null:p.filterFormCtrl.get("level").errors),a.\u0275\u0275advance(1),a.\u0275\u0275property("panelWidth","fit"),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(50,63,p.filteredLevel)),a.\u0275\u0275advance(4),a.\u0275\u0275propertyInterpolate("placeholder",a.\u0275\u0275pipeBind1(54,65,"Sector")),a.\u0275\u0275property("matAutocomplete",I),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",null==p.filterFormCtrl?null:p.filterFormCtrl.get("sector").errors),a.\u0275\u0275advance(1),a.\u0275\u0275property("panelWidth","fit"),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(59,67,p.filteredSector)),a.\u0275\u0275advance(4),a.\u0275\u0275propertyInterpolate("placeholder",a.\u0275\u0275pipeBind1(63,69,"Speciality")),a.\u0275\u0275property("matAutocomplete",R),a.\u0275\u0275advance(2),a.\u0275\u0275property("panelWidth","fit"),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",p.isDisplayNone),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(68,71,p.filteredSpeciality)),a.\u0275\u0275advance(4),a.\u0275\u0275propertyInterpolate("placeholder",a.\u0275\u0275pipeBind1(72,73,"ADMISSION.Type Of formation")),a.\u0275\u0275property("matAutocomplete",J),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",null==p.filterFormCtrl?null:p.filterFormCtrl.get("type_of_formation_id").errors),a.\u0275\u0275advance(1),a.\u0275\u0275property("displayWith",p.displayWithType.bind(p))("panelWidth","fit"),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(77,75,p.filteredFormation)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",p.isContinous),a.\u0275\u0275advance(3),a.\u0275\u0275propertyInterpolate("placeholder",a.\u0275\u0275pipeBind1(82,77,"readmission-transfer"===(null==p.data?null:p.data.from)?"Academic Member":"Dev Member")),a.\u0275\u0275property("matAutocomplete",Z),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",null==p.filterFormCtrl?null:p.filterFormCtrl.get("devMember").errors),a.\u0275\u0275advance(1),a.\u0275\u0275property("panelWidth","fit"),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(87,79,p.filteredMember)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",p.isWaitingForResponse),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(92,81,"ASSIGN_CORRECTOR_DIALOG.CANCEL")," "),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(95,83,"Validate")," ")}},dependencies:[U.Zt,U.Bh,$.XC,$.ZL,X.ey,z.lW,k.xY,k.H8,et.Hw,t.TO,t.KE,tt.Nt,ct.Ou,M.DefaultValueAccessor,M.NgControlStatus,M.NgControlStatusGroup,M.RequiredValidator,M.FormGroupDirective,M.FormControlName,st.sg,st.O5,Y.X$,st.Ov],styles:["[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black}.no-padding[_ngcontent-%COMP%]{padding:0}.float-right[_ngcontent-%COMP%]{float:right}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.mat-dialog-content[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:15px}.w-30[_ngcontent-%COMP%]{width:30px}.w-65[_ngcontent-%COMP%]{width:65px}.mt-2px[_ngcontent-%COMP%]{margin-top:2px}"]}),m})()},51528:(It,at,v)=>{v.d(at,{I:()=>P});var k=v(65938),M=v(35226),V=v.n(M),ot=v(62416),rt=v(68745),f=v(94650),L=v(24006),W=v(89383),d=v(79710),H=v(52688),a=v(610),Y=v(73555),j=v(4859),q=v(97392);let P=(()=>{class Q{constructor(U,$,X,z,et,t,tt){this.dialogRef=U,this.fb=$,this.translate=X,this.candidateService=z,this.userService=et,this.data=t,this.route=tt,this.subs=new rt.Y,this.isTitleTrue=!1,this.noUsers=!1,this.correctorName="",this.userTypes=[],this.userCorrectorList=[],this.userList=[],this.memberAssigned=[],this.isGroupTest=!1,this.isWaitingForResponse=!1,this.isWaitingForUserList=!0,this.isMultipleSelected=!1,this.isSingleSelected=!0,this.dataMemberAssigned=[],this.candidateAssignedMember=[],this.campusList=[{campus:"PARIS",dev_leader:{civility:"MR",first_name:"R\xe9mi",last_name:"Barrault"}},{campus:"TOULOUSE",dev_leader:{civility:"MRS",first_name:"Michel",last_name:"Lema\xeetre"}},{campus:"Lyon",dev_leader:{civility:"MR",first_name:"L\xe9on",last_name:"Blanc"}},{campus:"SHANGHAI",dev_leader:{civility:"MR",first_name:"L\xe9on",last_name:"Blanc"}}],this.campus="PARIS",this.candidate=""}ngOnInit(){console.log("Candidate Selected is => ",this.data);const U=this.route.snapshot.queryParamMap.get("campus"),$=this.route.snapshot.queryParamMap.get("candidate");U&&(this.campus=U),U&&(this.candidate=$),this.getCanididate(),this.currentUser=this.userService.getLocalStorageUser()}getCanididate(){this.subs.sink=this.candidateService.getCandidateRegistration(this.candidate).subscribe(U=>{this.singleCandidate=U},U=>{this.userService.postErrorLog(U),V().fire({type:"info",title:this.translate.instant("SORRY"),text:U&&U.message?this.translate.instant(U.message.replaceAll("GraphQL error: ","")):U,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}submitCampus(U){this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.AcceptRejectTransferCampus(this.candidate,this.campus,U).subscribe($=>{this.isWaitingForResponse=!1,$&&V().fire({type:"success",title:"Bravo!",allowOutsideClick:!1,confirmButtonText:"OK"}).then(()=>{this.dialogRef.close("reset")})},$=>{this.isWaitingForResponse=!1,this.userService.postErrorLog($),V().fire({type:"info",title:this.translate.instant("SORRY"),text:$&&$.message?this.translate.instant($.message.replaceAll("GraphQL error: ","")):$,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(()=>{this.dialogRef.close("reset")})})}closeDialog(){this.dialogRef.close()}ngOnDestroy(){this.subs.unsubscribe()}messageDialog(){let U="";return U+=this.translate.instant("CANDIDATE_POPUP_C6.CANDIDATE_TEXT",{candidateName:this.singleCandidate?("neutral"!==this.singleCandidate.civility?this.translate.instant(this.singleCandidate.civility)+" ":"")+this.singleCandidate.first_name+" "+this.singleCandidate.last_name:""}),U}}return Q.\u0275fac=function(U){return new(U||Q)(f.\u0275\u0275directiveInject(k.so),f.\u0275\u0275directiveInject(L.UntypedFormBuilder),f.\u0275\u0275directiveInject(W.sK),f.\u0275\u0275directiveInject(d.o),f.\u0275\u0275directiveInject(H.e),f.\u0275\u0275directiveInject(k.WI),f.\u0275\u0275directiveInject(a.gz))},Q.\u0275cmp=f.\u0275\u0275defineComponent({type:Q,selectors:[["ms-transfer-campus-dialog"]],features:[f.\u0275\u0275ProvidersFeature([ot.t])],decls:25,vars:10,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header-div"],["svgIcon","bank-transfer"],[1,"header-text"],["mat-icon-button","","type","button",1,"header-icon",3,"click"],[1,"header-form"],[2,"color","black"],[1,"content-height"],[1,"p-grid"],[1,"p-col-12"],["align","center"],["mat-raised-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary","type","button",3,"click"]],template:function(U,$){1&U&&(f.\u0275\u0275elementStart(0,"div",0)(1,"mat-icon",1),f.\u0275\u0275text(2," bank_transfer "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"h3",2),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"button",3),f.\u0275\u0275listener("click",function(){return $.closeDialog()}),f.\u0275\u0275elementStart(7,"mat-icon"),f.\u0275\u0275text(8,"close"),f.\u0275\u0275elementEnd()()(),f.\u0275\u0275element(9,"hr"),f.\u0275\u0275elementStart(10,"form",4)(11,"div",5)(12,"mat-dialog-content",6)(13,"div",7)(14,"div",8)(15,"b"),f.\u0275\u0275text(16),f.\u0275\u0275elementEnd()()(),f.\u0275\u0275element(17,"br"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"mat-dialog-actions",9)(19,"button",10),f.\u0275\u0275listener("click",function(){return $.submitCampus(!1)}),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"button",11),f.\u0275\u0275listener("click",function(){return $.submitCampus(!0)}),f.\u0275\u0275text(23),f.\u0275\u0275pipe(24,"translate"),f.\u0275\u0275elementEnd()()()()),2&U&&(f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,4,"CANDIDATE_POPUP_C6.TITLE")," "),f.\u0275\u0275advance(12),f.\u0275\u0275textInterpolate1("",$.messageDialog()," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(21,6,"CANDIDATE_POPUP_C6.Reject")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(24,8,"CANDIDATE_POPUP_C6.Accept")," "))},dependencies:[Y.Zt,Y.Bh,j.lW,k.xY,k.H8,q.Hw,L.\u0275NgNoValidate,L.NgControlStatusGroup,L.NgForm,W.X$],styles:["[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.header-form[_ngcontent-%COMP%]{padding:18px}.footer-form[_ngcontent-%COMP%]{padding:0 18px 18px}.no-margin[_ngcontent-%COMP%]{margin:0!important}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-b[_ngcontent-%COMP%], .no-padding-t[_ngcontent-%COMP%]{padding-bottom:0!important}.float-left[_ngcontent-%COMP%]{float:left}[_nghost-%COMP%]     .mat-dialog-content{margin:0!important;padding:0!important;max-height:unset}"]}),Q})()},75817:(It,at,v)=>{v.d(at,{r:()=>Ft});var k=v(65938),M=v(24006),V=v(17489),rt=v(62416),f=v(68745),L=v(35226),W=v.n(L),d=v(94650),H=v(89383),a=v(79710),Y=v(94442),j=v(52688),q=v(73555),P=v(3238),Q=v(4859),S=v(56709),U=v(97392),$=v(59549),X=v(284),z=v(51572),et=v(84385),t=v(36895);function tt(D,K){1&D&&(d.\u0275\u0275elementStart(0,"span"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&D&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"Registration Profile")))}function ct(D,K){1&D&&(d.\u0275\u0275elementStart(0,"span"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&D&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"Readmission profile")))}function st(D,K){if(1&D&&(d.\u0275\u0275elementStart(0,"div",11)(1,"div",22)(2,"div",23)(3,"b"),d.\u0275\u0275text(4),d.\u0275\u0275pipe(5,"translate"),d.\u0275\u0275pipe(6,"translate"),d.\u0275\u0275pipe(7,"uppercase"),d.\u0275\u0275elementEnd()()()()),2&D){const y=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate4("",d.\u0275\u0275pipeBind1(5,4,"CANDIDATE_POPUP_4.Please select 1 Rate Profile for")," ",d.\u0275\u0275pipeBind1(6,6,"CANDIDATE_POPUP_1.the Candidate")," ",y.singleCandidate.first_name," ",d.\u0275\u0275pipeBind1(7,8,y.singleCandidate.last_name),"")}}function it(D,K){if(1&D&&(d.\u0275\u0275elementStart(0,"div",11)(1,"div",22)(2,"b"),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275pipe(5,"translate"),d.\u0275\u0275elementEnd()()()),2&D){const y=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate3("",d.\u0275\u0275pipeBind1(4,3,"CANDIDATE_POPUP_4.Candidates selected according to the following criteria")," ",y.totalCandidate," ",d.\u0275\u0275pipeBind1(5,5,"CANDIDATE_POPUP_4.selected candidates"),"")}}function dt(D,K){if(1&D&&(d.\u0275\u0275elementStart(0,"mat-option",25),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&D){const y=K.$implicit;d.\u0275\u0275property("value",y._id),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,2,y.name)," ")}}function _t(D,K){1&D&&(d.\u0275\u0275elementStart(0,"mat-error"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&D&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"This field is mandatory")))}function pt(D,K){if(1&D&&(d.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",24),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275template(3,dt,3,4,"mat-option",17),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(4,_t,3,3,"mat-error",3),d.\u0275\u0275elementEnd()),2&D){const y=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(1),d.\u0275\u0275property("placeholder",d.\u0275\u0275pipeBind1(2,4,"CANDIDATE_POPUP_4.Assign one of several Rate Profile"))("disableOptionCentering",!0),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngForOf",y.rateProfilList),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",y.assignProfilRateForm.get("profile_rate").errors)}}function mt(D,K){1&D&&(d.\u0275\u0275elementStart(0,"mat-form-field"),d.\u0275\u0275element(1,"input",26),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&D&&(d.\u0275\u0275advance(1),d.\u0275\u0275property("placeholder",d.\u0275\u0275pipeBind1(2,1,"CANDIDATE_POPUP_4.Assign one of several Rate Profile")))}function lt(D,K){if(1&D&&(d.\u0275\u0275elementStart(0,"mat-option",25),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&D){const y=K.$implicit;d.\u0275\u0275property("value",y.value),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,2,y.name)," ")}}function ht(D,K){1&D&&(d.\u0275\u0275elementStart(0,"mat-error"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&D&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"This field is mandatory")))}function ut(D,K){1&D&&(d.\u0275\u0275elementStart(0,"mat-error")(1,"span",30),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd()()),2&D&&(d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(3,1,"This field is mandatory"),""))}function ft(D,K){1&D&&(d.\u0275\u0275elementStart(0,"mat-error",30)(1,"span",30),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd()()),2&D&&(d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(3,1,"Please input number only")," "))}function gt(D,K){if(1&D){const y=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",13)(1,"div",14)(2,"mat-form-field")(3,"div",27)(4,"input",28),d.\u0275\u0275listener("wheel",function(m){d.\u0275\u0275restoreView(y);const u=d.\u0275\u0275nextContext(2);return d.\u0275\u0275resetView(u.onWheel(m))}),d.\u0275\u0275pipe(5,"translate"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275template(6,ut,4,3,"mat-error",3),d.\u0275\u0275template(7,ft,4,3,"mat-error",29),d.\u0275\u0275elementEnd()()()}if(2&D){const y=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(4),d.\u0275\u0275propertyInterpolate("placeholder",d.\u0275\u0275pipeBind1(5,3,"Volume of hours")),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",y.assignProfilRateForm.get("volume_hour").hasError("required")&&(y.assignProfilRateForm.get("volume_hour").dirty||y.assignProfilRateForm.get("volume_hour").touched)),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",y.assignProfilRateForm.get("volume_hour").hasError("pattern")&&(y.assignProfilRateForm.get("volume_hour").dirty||y.assignProfilRateForm.get("volume_hour").touched))}}function Ct(D,K){if(1&D){const y=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",13)(1,"div",14)(2,"mat-checkbox",31),d.\u0275\u0275listener("change",function(m){d.\u0275\u0275restoreView(y);const u=d.\u0275\u0275nextContext(2);return d.\u0275\u0275resetView(u.onSelectSend(m))}),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275elementEnd()()()}2&D&&(d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(4,1,"READMISSION.Send readmission email2")," "))}function vt(D,K){if(1&D&&(d.\u0275\u0275elementStart(0,"div",11)(1,"div",32)(2,"b"),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275elementEnd()()()),2&D){const y=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate2(" ",d.\u0275\u0275pipeBind1(4,2,"CANDIDATE_POPUP_4.You have selected the Rate Profile")," ",y.getProfileName(y.assignProfilRateForm.get("profile_rate").value),"")}}function yt(D,K){if(1&D&&(d.\u0275\u0275elementStart(0,"div",11)(1,"div",22)(2,"b"),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275pipe(5,"translate"),d.\u0275\u0275pipe(6,"uppercase"),d.\u0275\u0275elementEnd()()()),2&D){const y=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate4("",d.\u0275\u0275pipeBind1(4,4,"CANDIDATE_POPUP_4.For")," ",null!=y.singleCandidate&&y.singleCandidate.civility&&"neutral"===(null==y.singleCandidate?null:y.singleCandidate.civility)?"":d.\u0275\u0275pipeBind1(5,6,null==y.singleCandidate?null:y.singleCandidate.civility)," ",y.singleCandidate.first_name," ",d.\u0275\u0275pipeBind1(6,8,y.singleCandidate.last_name)," ")}}function xt(D,K){1&D&&(d.\u0275\u0275elementStart(0,"div",11)(1,"div",22)(2,"b"),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275elementEnd()()()),2&D&&(d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(4,1,"CANDIDATE_POPUP_4.por the selected Candidates.")))}function St(D,K){if(1&D){const y=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"form",7)(1,"div",8)(2,"mat-dialog-content",9),d.\u0275\u0275template(3,st,8,10,"div",10),d.\u0275\u0275template(4,it,6,7,"div",10),d.\u0275\u0275element(5,"br"),d.\u0275\u0275elementStart(6,"div",11)(7,"div",12)(8,"b"),d.\u0275\u0275text(9),d.\u0275\u0275pipe(10,"translate"),d.\u0275\u0275elementEnd()()(),d.\u0275\u0275elementStart(11,"div",13)(12,"div",14),d.\u0275\u0275template(13,pt,5,6,"mat-form-field",3),d.\u0275\u0275template(14,mt,3,3,"mat-form-field",3),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(15,"div",13)(16,"div",14)(17,"mat-form-field",15)(18,"mat-select",16),d.\u0275\u0275pipe(19,"translate"),d.\u0275\u0275template(20,lt,3,4,"mat-option",17),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(21,ht,3,3,"mat-error",3),d.\u0275\u0275elementEnd()()(),d.\u0275\u0275template(22,gt,8,5,"div",18),d.\u0275\u0275template(23,Ct,5,3,"div",18),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(24,vt,5,4,"div",10),d.\u0275\u0275template(25,yt,7,10,"div",10),d.\u0275\u0275template(26,xt,5,3,"div",10),d.\u0275\u0275elementStart(27,"mat-dialog-actions",19)(28,"button",20),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(y);const m=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(m.closeDialog())}),d.\u0275\u0275text(29),d.\u0275\u0275pipe(30,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(31,"button",21),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(y);const m=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(m.submitAssignMember())}),d.\u0275\u0275text(32),d.\u0275\u0275pipe(33,"translate"),d.\u0275\u0275elementEnd()()()()}if(2&D){const y=d.\u0275\u0275nextContext();d.\u0275\u0275property("formGroup",y.assignProfilRateForm),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngIf",y.isSingleSelected),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",y.isMultipleSelected),d.\u0275\u0275advance(5),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(10,17,"CANDIDATE_POPUP_4.Profile Rates available for this Intake Channel"),". "),d.\u0275\u0275advance(4),d.\u0275\u0275property("ngIf",!y.isSameData&&0!==(null==y.rateProfilList?null:y.rateProfilList.length)),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",y.isSameData||0===(null==y.rateProfilList?null:y.rateProfilList.length)),d.\u0275\u0275advance(4),d.\u0275\u0275propertyInterpolate("placeholder",d.\u0275\u0275pipeBind1(19,19,"Rate type")),d.\u0275\u0275property("disableOptionCentering",!0),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngForOf",y.registrationProfileTypeList),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",y.assignProfilRateForm.get("registration_profile_type").errors),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",y.showVolumeofHour),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf","readmission"===y.data.from),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",y.assignProfilRateForm.get("profile_rate").value),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",y.isSingleSelected&&y.assignProfilRateForm.get("profile_rate").value),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",y.isMultipleSelected&&y.assignProfilRateForm.get("profile_rate").value),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(30,21,"ASSIGN_CORRECTOR_DIALOG.CANCEL")," "),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(33,23,"Validate")," ")}}function Tt(D,K){1&D&&(d.\u0275\u0275elementStart(0,"div",33),d.\u0275\u0275element(1,"mat-spinner",34),d.\u0275\u0275elementEnd()),2&D&&(d.\u0275\u0275advance(1),d.\u0275\u0275property("diameter",100))}let Ft=(()=>{class D{constructor(y,E,m,u,r,p,x){this.dialogRef=y,this.fb=E,this.translate=m,this.candidateService=u,this.financeService=r,this.authService=p,this.data=x,this.subs=new f.Y,this.isTitleTrue=!1,this.noUsers=!1,this.correctorName="",this.userTypes=[],this.userCorrectorList=[],this.userList=[],this.memberAssigned=[],this.isGroupTest=!1,this.isWaitingForResponse=!1,this.isWaitingForUserList=!0,this.isMultipleSelected=!1,this.isSingleSelected=!0,this.dataMemberAssigned=[],this.candidateAssignedMember=[],this.intakeChannel="",this.nationality="",this.rateProfilList=[],this.correctorAssigned=[],this.isSendReadmission=!1,this.isSameData=!1,this.registrationProfileTypeList=[{name:"Internal",value:"internal"},{name:"External",value:"external"}],this.showVolumeofHour=!1}ngOnInit(){console.log("Candidate Selected is => ",this.data.selected),console.log("Candidate Selected from => ",this.data.from),this.data&&this.data.selected&&(console.log(this.data),(this.data.selected.find(E=>E.isVolumeOfHours)||this.data.isVolumeOfHours)&&(this.showVolumeofHour=!!this.data.selected.find(E=>"61892e7367e6e4135fe90271"!==E.type_of_formation_id._id))),this.initForm(),this.getProfileRates(),this.getDataCandidate(),this.validateIntakeChannelNationality(),this.showVolumeofHour?(this.assignProfilRateForm.get("volume_hour").setValidators([M.Validators.required,M.Validators.min(0),M.Validators.pattern("^[0-9]+$")]),this.assignProfilRateForm.get("volume_hour").updateValueAndValidity()):(this.assignProfilRateForm.get("volume_hour").setValue(null),this.assignProfilRateForm.get("volume_hour").clearValidators(),this.assignProfilRateForm.get("volume_hour").updateValueAndValidity())}getProfileRates(){this.rateProfilList=[];const y=this.data.selected.filter(g=>g.school&&g.school._id).map(g=>g.school._id),E=this.data.selected.filter(g=>g.campus&&g.campus._id).map(g=>g.campus._id),m=this.data.selected.filter(g=>g.level&&g.level._id).map(g=>g.level._id),u=this.data.selected.filter(g=>g.sector&&g.sector._id).map(g=>g.sector._id),r=this.data.selected.filter(g=>g.speciality&&g.speciality._id).map(g=>g.speciality._id),p=this.data.selected.filter(g=>g.type_of_formation_id&&g.type_of_formation_id._id).map(g=>g.type_of_formation_id._id),x=this.data.selected.filter(g=>g.intake_channel&&g.intake_channel.scholar_season_id&&g.intake_channel.scholar_season_id._id).map(g=>g.intake_channel.scholar_season_id._id),T={school_ids:V.uniqBy(y),campus_ids:V.uniqBy(E),level_ids:V.uniqBy(m),scholar_season_ids:V.uniqBy(x),sector_ids:V.uniqBy(u),speciality_ids:V.uniqBy(r),type_of_formation_ids:V.uniqBy(p)};this.isWaitingForResponse=!0,this.subs.sink=this.financeService.GetListProfileRates(T).subscribe(g=>{if(g&&g.length){const O=V.cloneDeep(g);this.rateProfilList=O.filter("readmission"===this.data.from?I=>I.is_readmission:I=>I.is_admission)}this.isWaitingForResponse=!1},g=>{this.authService.postErrorLog(g),this.isWaitingForResponse=!1,this.authService.postErrorLog(g),g&&g.message&&g.message.includes("Network error: Http failure response for")?W().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):W().fire({type:"info",title:this.translate.instant("SORRY"),text:g&&g.message?this.translate.instant(g.message.replaceAll("GraphQL error: ","")):g,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getProfileName(y){let E="";if(y&&this.rateProfilList&&this.rateProfilList.length){const m=this.rateProfilList.find(u=>u._id===y);E=m?m.name:""}return E}onWheel(y){y?.preventDefault()}initForm(){this.assignProfilRateForm=this.fb.group({profile_rate:[null,M.Validators.required],registration_profile_type:[null,M.Validators.required],volume_hour:[null,M.Validators.required],isVolumeOfHours:[!1]})}getDataCandidate(){this.totalCandidate=this.data.selected.length,this.data.selected.length>1?(this.isMultipleSelected=!0,this.isSingleSelected=!1):(this.isMultipleSelected=!1,this.isSingleSelected=!0,this.singleCandidate=this.data.selected[0],this.intakeChannel=this.singleCandidate.intake_channel,this.nationality=this.singleCandidate.nationality)}checkFormValidity(){return!!this.assignProfilRateForm.invalid&&(W().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.assignProfilRateForm.markAllAsTouched(),!0)}submitAssignMember(){"crm"===this.data.from?(this.submitAssignMemberCRM(),console.log("_from",this.data.from),console.log("FORM",this.assignProfilRateForm.value)):"readmission"===this.data.from&&this.SubmitAssignMemberReadmission()}SubmitAssignMemberReadmission(){if(this.checkFormValidity())return;this.data.selected=V.uniqBy(this.data.selected,"_id");let y=[];y=this.data.selected.map(r=>r._id);let E="";for(const r of this.data.selected)E+=(r&&r.civility&&"neutral"!==r.civility?this.translate.instant(r.civility)+" ":"")+r.first_name+" "+r.last_name+"<br>";const m=this.assignProfilRateForm.value;m.volume_hour=parseFloat(m.volume_hour),this.isWaitingForResponse=!0,console.log("_test",m);const u={candidates_id:y,profil_rate:m.profile_rate,registration_profile_type:m.registration_profile_type,volume_hour:m.volume_hour};this.subs.sink=u&&u.volume_hour?this.candidateService.AssignProfilRateToManyCandidateForReadmission(null,u).subscribe(r=>{this.isWaitingForResponse=!1,r&&W().fire({type:"success",title:this.translate.instant("CANDIDAT_S5.TITLE"),html:this.translate.instant("CANDIDAT_S5.TEXT",{candidate:this.translate.instant(this.data.selected&&this.data.selected.length>1?"the candidates":"the candidate"),canidateName:E}),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S5.BUTTON")}).then(()=>{this.dialogRef.close(this.isSendReadmission?{send:!0,candidate:this.data.selected}:{send:!1})})},r=>{this.authService.postErrorLog(r),this.isWaitingForResponse=!1,this.authService.postErrorLog(r),"GraphQL error: This program does not have Down Payment and Full Rate yet."===r.message?W().fire({type:"info",title:this.translate.instant("Oscar_S7.TITLE"),html:this.translate.instant("Oscar_S7.TEXT"),confirmButtonText:this.translate.instant("Oscar_S7.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{}):"GraphQL error: Down Payment / Full Rate not found"===r.message?W().fire({type:"info",title:this.translate.instant("Profile_S1.Title"),text:this.translate.instant("Profile_S1.Text"),confirmButtonText:this.translate.instant("Profile_S1.Button"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}):r&&r.message&&r.message.includes("Network error: Http failure response for")?W().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):W().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.candidateService.AssignProfilRateToManyCandidateForReadmission(u,null).subscribe(r=>{this.isWaitingForResponse=!1,r&&W().fire({type:"success",title:this.translate.instant("CANDIDAT_S5.TITLE"),html:this.translate.instant("CANDIDAT_S5.TEXT",{candidate:this.translate.instant(this.data.selected&&this.data.selected.length>1?"the candidates":"the candidate"),canidateName:E}),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S5.BUTTON")}).then(()=>{this.dialogRef.close(this.isSendReadmission?{send:!0,candidate:this.data.selected}:{send:!1})})},r=>{this.authService.postErrorLog(r),this.isWaitingForResponse=!1,this.authService.postErrorLog(r),"GraphQL error: This program does not have Down Payment and Full Rate yet."===r.message?W().fire({type:"info",title:this.translate.instant("Oscar_S7.TITLE"),html:this.translate.instant("Oscar_S7.TEXT"),confirmButtonText:this.translate.instant("Oscar_S7.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{}):"GraphQL error: Down Payment / Full Rate not found"===r.message?W().fire({type:"info",title:this.translate.instant("Profile_S1.Title"),text:this.translate.instant("Profile_S1.Text"),confirmButtonText:this.translate.instant("Profile_S1.Button"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}):r&&r.message&&r.message.includes("Network error: Http failure response for")?W().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):W().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}submitAssignMemberCRM(){if(this.checkFormValidity())return;this.data.selected=V.uniqBy(this.data.selected,"_id");let y=[];y=this.data.selected.map(u=>u._id);let E="";for(const u of this.data.selected)E+=(u&&u.civility&&"neutral"!==u.civility?this.translate.instant(u.civility)+" ":"")+u.first_name+" "+u.last_name+"<br>";const m=this.assignProfilRateForm.value;m.volume_hour=parseFloat(m.volume_hour),this.isWaitingForResponse=!0,console.log(m),this.subs.sink=this.candidateService.AssignProfilRateToManyCandidate(y,m.profile_rate,m.registration_profile_type,m.volume_hour).subscribe(u=>{this.isWaitingForResponse=!1,u&&W().fire({type:"success",title:this.translate.instant("CANDIDAT_S5.TITLE"),html:this.translate.instant("CANDIDAT_S5.TEXT",{candidate:this.translate.instant(this.data.selected&&this.data.selected.length>1?"the candidates":"the candidate"),canidateName:E}),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S5.BUTTON")}).then(()=>{this.dialogRef.close("reset")})},u=>{this.authService.postErrorLog(u),this.isWaitingForResponse=!1,this.authService.postErrorLog(u),"GraphQL error: This program does not have Down Payment and Full Rate yet."===u.message?W().fire({type:"info",title:this.translate.instant("Oscar_S7.TITLE"),html:this.translate.instant("Oscar_S7.TEXT"),confirmButtonText:this.translate.instant("Oscar_S7.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{}):"GraphQL error: Down Payment / Full Rate not found"===u.message?W().fire({type:"info",title:this.translate.instant("Profile_S1.Title"),text:this.translate.instant("Profile_S1.Text"),confirmButtonText:this.translate.instant("Profile_S1.Button"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}):u&&u.message&&u.message.includes("Network error: Http failure response for")?W().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):W().fire({type:"info",title:this.translate.instant("SORRY"),text:u&&u.message?this.translate.instant(u.message.replaceAll("GraphQL error: ","")):u,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}validateIntakeChannelNationality(){if(this.isSameData=!1,this.data.selected.length>1){const y=V.uniqBy(this.data.selected,"intake_channel.scholar_season_id._id"),E=V.uniqBy(this.data.selected,"nationality");console.log("Validate ",y,E,this.data.selected),this.isSameData=1!==y.length,1===y.length&&(this.lengthIntakeChannel=y,this.intakeChannel=y[0].intake_channel),1===E.length&&(this.lengthNationality=E,this.nationality=E[0].nationality)}}triggerAnnouncment(){let y=[],E="";const m=this.data.selected.filter(u=>"not_sent"===u.announcement_email);if(m&&m.length){if(m.length>1){y=m.map(r=>r._id);for(const r of m)E=E?E+", "+(r?"neutral"!==r.civility?this.translate.instant(r.civility)+" "+r.first_name+" "+r.last_name:r.first_name+" "+r.last_name:""):r?"neutral"!==r.civility?this.translate.instant(r.civility)+" "+r.first_name+" "+r.last_name:r.first_name+" "+r.last_name:""}else y.push(this.singleCandidate._id),E=(this.singleCandidate&&this.singleCandidate.civility&&"neutral"!==this.singleCandidate.civility?this.translate.instant(this.singleCandidate.civility)+" ":"")+this.singleCandidate.first_name+" "+this.singleCandidate.last_name;const u=this.assignProfilRateForm.value;this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.AssignProfilRateToManyCandidate(y,u.correctors_id,u.registration_profile_type).subscribe(r=>{this.isWaitingForResponse=!1,r&&(this.subs.sink=this.candidateService.SendNotifN1(y).subscribe(p=>{console.log(p),this.dialogRef.close("reset"),W().fire({type:"success",title:this.translate.instant("CANDIDAT_S2.TITLE"),html:this.translate.instant("CANDIDAT_S2.TEXT",{candidateName:E}),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S2.BUTTON")})}))},r=>{this.authService.postErrorLog(r),this.isWaitingForResponse=!1,this.authService.postErrorLog(r),"GraphQL error: Down Payment / Full Rate not found"===r.message?W().fire({type:"info",title:this.translate.instant("Profile_S1.Title"),text:this.translate.instant("Profile_S1.Text"),confirmButtonText:this.translate.instant("Profile_S1.Button"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}):r&&r.message&&r.message.includes("Network error: Http failure response for")?W().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):W().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}isAllAnnouncementIsSent(){let y=!1;const E=this.data.selected.filter(m=>"not_sent"===m.announcement_email);return E&&E.length&&(y=!0),y}closeDialog(){this.dialogRef.close()}ngOnDestroy(){this.subs.unsubscribe()}onSelectSend(y){this.isSendReadmission=!!y.checked}}return D.\u0275fac=function(y){return new(y||D)(d.\u0275\u0275directiveInject(k.so),d.\u0275\u0275directiveInject(M.UntypedFormBuilder),d.\u0275\u0275directiveInject(H.sK),d.\u0275\u0275directiveInject(a.o),d.\u0275\u0275directiveInject(Y.N),d.\u0275\u0275directiveInject(j.e),d.\u0275\u0275directiveInject(k.WI))},D.\u0275cmp=d.\u0275\u0275defineComponent({type:D,selectors:[["ms-assign-rate-dialog"]],features:[d.\u0275\u0275ProvidersFeature([rt.t])],decls:11,vars:4,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header-div","header-registarion-profile-dialog"],["svgIcon","clipboard-account-outline",1,"svg-style-account"],[1,"header-text"],[4,"ngIf"],["mat-icon-button","","type","button",1,"header-icon",3,"click"],["class","header-form",3,"formGroup",4,"ngIf"],["class","inner-loading-indicator",4,"ngIf"],[1,"header-form",3,"formGroup"],[2,"color","black"],[1,"content-height"],["class","p-grid",4,"ngIf"],[1,"p-grid"],[1,"p-col-12","no-padding-b"],[1,"p-grid","no-padding"],[1,"p-col-12"],["floatLabel","auto"],["color","accent","formControlName","registration_profile_type","panelClass","filterPanel",3,"placeholder","disableOptionCentering"],[3,"value",4,"ngFor","ngForOf"],["class","p-grid no-padding",4,"ngIf"],["align","right"],["mat-raised-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"p-col-12","no-padding-t"],[1,"p-col-12","no-padding","float-left"],["color","accent","formControlName","profile_rate","panelClass","filterPanel",3,"placeholder","disableOptionCentering"],[3,"value"],["type","text","readonly","","matInput","","disabled","",1,"text-normal",3,"placeholder"],[1,"field-wrap"],["formControlName","volume_hour","matInput","","type","number",3,"placeholder","wheel"],["class","error-message",4,"ngIf"],[1,"error-message"],[2,"margin-right","10px",3,"change"],[1,"p-col-12","no-padding-y"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"]],template:function(y,E){1&y&&(d.\u0275\u0275elementStart(0,"div",0),d.\u0275\u0275element(1,"mat-icon",1),d.\u0275\u0275elementStart(2,"h2",2),d.\u0275\u0275template(3,tt,3,3,"span",3),d.\u0275\u0275template(4,ct,3,3,"span",3),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"button",4),d.\u0275\u0275listener("click",function(){return E.closeDialog()}),d.\u0275\u0275elementStart(6,"mat-icon"),d.\u0275\u0275text(7,"close"),d.\u0275\u0275elementEnd()()(),d.\u0275\u0275element(8,"hr"),d.\u0275\u0275template(9,St,34,25,"form",5),d.\u0275\u0275template(10,Tt,2,1,"div",6)),2&y&&(d.\u0275\u0275advance(3),d.\u0275\u0275property("ngIf","crm"===E.data.from),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf","readmission"===E.data.from),d.\u0275\u0275advance(5),d.\u0275\u0275property("ngIf",!E.isWaitingForResponse),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",E.isWaitingForResponse))},dependencies:[q.Zt,q.Bh,P.ey,Q.lW,S.oG,k.xY,k.H8,U.Hw,$.TO,$.KE,X.Nt,z.Ou,et.gD,M.\u0275NgNoValidate,M.DefaultValueAccessor,M.NumberValueAccessor,M.NgControlStatus,M.NgControlStatusGroup,M.FormGroupDirective,M.FormControlName,t.sg,t.O5,H.X$,t.gd],styles:["[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.header-form[_ngcontent-%COMP%]{padding:18px}.footer-form[_ngcontent-%COMP%]{padding:0 18px 18px}.no-margin[_ngcontent-%COMP%]{margin:0!important}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-b[_ngcontent-%COMP%], .no-padding-t[_ngcontent-%COMP%]{padding-bottom:0!important}.float-left[_ngcontent-%COMP%]{float:left}[_nghost-%COMP%]     .mat-dialog-content{margin:0!important;padding:0!important;max-height:unset}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.text-normal[_ngcontent-%COMP%]{color:#000}.error-message[_ngcontent-%COMP%]{font-size:12px}.header-registarion-profile-dialog[_ngcontent-%COMP%]{display:flex!important;align-items:center!important}.header-registarion-profile-dialog[_ngcontent-%COMP%]   .svg-style-account[_ngcontent-%COMP%]{width:35px!important;height:35px!important;line-height:1}[_nghost-%COMP%]  .mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}  .filterPanel{margin-top:25px!important}"]}),D})()},12729:(It,at,v)=>{v.d(at,{k:()=>K});var k=v(24006),M=v(65938),V=v(17489),rt=v(68745),f=v(35226),L=v.n(f),W=v(15439),H=v(83515),a=v(94650),Y=v(71122),j=v(79710),q=v(89383),P=v(84075),Q=v(36746),S=v(52688),U=v(73555),$=v(4859),X=v(56709),z=v(99602),et=v(97392),t=v(59549),tt=v(284),ct=v(51572),st=v(24784),it=v(36895),dt=v(88796);function _t(y,E){1&y&&(a.\u0275\u0275elementStart(0,"h2",16),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&y&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(2,1,"CANDIDAT_S1.TITLE")," "))}function pt(y,E){1&y&&(a.\u0275\u0275elementStart(0,"h2",16),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&y&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(2,1,"CANDIDAT_S9.TITLE")," "))}function mt(y,E){1&y&&(a.\u0275\u0275elementStart(0,"h2",16),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&y&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(2,1,"Re Send the Announcement of Re-Admission")," "))}function lt(y,E){1&y&&(a.\u0275\u0275elementStart(0,"h2",16),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&y&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(2,1,"Send readmission email")," "))}function ht(y,E){1&y&&(a.\u0275\u0275elementStart(0,"mat-error",17),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&y&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function ut(y,E){if(1&y&&(a.\u0275\u0275elementStart(0,"div",24),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275pipe(3,"uppercase"),a.\u0275\u0275pipe(4,"translate"),a.\u0275\u0275elementEnd()),2&y){const m=a.\u0275\u0275nextContext().$implicit,u=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate5(" ",a.\u0275\u0275pipeBind1(2,5,"USER_TYPES."+u.getNameOfUserType(m,"validator"))," (",null==m||null==m.value||null==m.value.student_admission_process_step_input?null:m.value.student_admission_process_step_input.step_title," - ",a.\u0275\u0275pipeBind1(3,7,null==m||null==m.value?null:m.value.last_name)," ",null==m||null==m.value?null:m.value.first_name," ",null!=m&&null!=m.value&&m.value.civility&&"neutral"===(null==m||null==m.value?null:m.value.civility)?"":a.\u0275\u0275pipeBind1(4,9,null==m||null==m.value?null:m.value.civility),")* ")}}function ft(y,E){1&y&&(a.\u0275\u0275elementStart(0,"ng-option",30),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&y&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")))}function gt(y,E){if(1&y&&(a.\u0275\u0275elementStart(0,"ng-option",31),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"uppercase"),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()),2&y){const m=E.$implicit;a.\u0275\u0275property("value",m),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate3(" ",a.\u0275\u0275pipeBind1(2,4,null==m?null:m.last_name)," ",null==m?null:m.first_name," ",null!=m&&m.civility&&"neutral"===(null==m?null:m.civility)?"":a.\u0275\u0275pipeBind1(3,6,null==m?null:m.civility)," ")}}const Ct=function(y){return{"invalid-validator":y}};function vt(y,E){if(1&y&&(a.\u0275\u0275elementStart(0,"ng-select",27),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275template(2,ft,3,3,"ng-option",28),a.\u0275\u0275template(3,gt,4,8,"ng-option",29),a.\u0275\u0275elementEnd()),2&y){const m=a.\u0275\u0275nextContext(2),u=m.$implicit,r=m.index,p=a.\u0275\u0275nextContext(2);a.\u0275\u0275propertyInterpolate("placeholder",a.\u0275\u0275pipeBind1(1,5,"search")),a.\u0275\u0275property("appendTo","body")("ngClass",a.\u0275\u0275pureFunction1(7,Ct,!(null!=u&&null!=u.value&&null!=u.value.student_admission_process_step_input&&u.value.student_admission_process_step_input.user_validator)&&p.checkRequired(r))),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",0===(null==p.validatorUserList[r]?null:p.validatorUserList[r].length)||!(null!=p.validatorUserList[r]&&p.validatorUserList[r].length)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",p.validatorUserList[r])}}function yt(y,E){1&y&&(a.\u0275\u0275elementStart(0,"mat-error",17),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&y&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function xt(y,E){if(1&y&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div",25),a.\u0275\u0275template(2,vt,4,9,"ng-select",26),a.\u0275\u0275template(3,yt,3,3,"mat-error",10),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&y){const m=a.\u0275\u0275nextContext(),u=m.$implicit,r=m.index,p=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",null==u||null==u.value||null==u.value.student_admission_process_step_input?null:u.value.student_admission_process_step_input.validator),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!(null!=u&&null!=u.value&&null!=u.value.student_admission_process_step_input&&u.value.student_admission_process_step_input.user_validator)&&p.checkRequired(r))}}function St(y,E){if(1&y&&(a.\u0275\u0275elementStart(0,"div",21),a.\u0275\u0275elementContainerStart(1,22),a.\u0275\u0275template(2,ut,5,11,"div",23),a.\u0275\u0275template(3,xt,4,2,"ng-container",11),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()),2&y){const m=E.$implicit;a.\u0275\u0275property("formGroupName",E.index),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",null==m||null==m.value||null==m.value.student_admission_process_step_input?null:m.value.student_admission_process_step_input.validator),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",null==m||null==m.value||null==m.value.student_admission_process_step_input?null:m.value.student_admission_process_step_input.validator)}}function Tt(y,E){if(1&y&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div",18)(2,"h4",19),a.\u0275\u0275text(3),a.\u0275\u0275pipe(4,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(5,St,4,3,"div",20),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&y){const m=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1("",a.\u0275\u0275pipeBind1(4,2,"Some of the students selected have a step that will to be validated")," :"),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",null==m.validatorArr?null:m.validatorArr.controls)}}function Ft(y,E){1&y&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div",5)(2,"div",32)(3,"mat-checkbox",33),a.\u0275\u0275text(4),a.\u0275\u0275pipe(5,"translate"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementContainerEnd()),2&y&&(a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(5,1,"Include flyer")))}function D(y,E){1&y&&(a.\u0275\u0275elementStart(0,"div",34),a.\u0275\u0275element(1,"mat-progress-spinner",35),a.\u0275\u0275elementEnd())}let K=(()=>{class y{constructor(m,u,r,p,x,T,g,O,I,R){this.data=m,this.fb=u,this.dialogRef=r,this.contractService=p,this.candidateService=x,this.translate=T,this.utilService=g,this.academicService=O,this.parseLocalToUTCPipe=I,this.authService=R,this.subs=new rt.Y,this.isAllEmpty=!0,this.templates=[],this.today=new Date,this.userTypeList=[],this.validatorUserList=[],this.generalValidatorUserList=[],this.isWaitingForResponse=!1,this.isWaitingForFormat=!1,this.isValid=!0,this.dataAdmissions=[],this.admissionNeedValidator=[],this.admissionNeedValidatorMap=[],this.listEntitiesNonProgram=["operator","company"]}ngOnInit(){this.initForm(),this.getAllUserType(),this.data&&this.data.isNeedValidator&&this.getDataAdmission()}getDataAdmission(){if(this.data&&this.data.data&&this.data.data.length){const u={candidates_id:this.data.data.map(r=>r._id),template_type:"student_admission"};this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.getDataAdmissionProcessForValidator(u).subscribe(r=>{this.isWaitingForResponse=!1,r&&r.length&&(this.dataAdmissions=V.cloneDeep(r),this.admissionNeedValidator=[],this.getDataAdmissionValidator(r))},r=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(r),r&&r.message&&r.message.includes("Network error: Http failure response for")?L().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):L().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}getDataAdmissionValidator(m){let u=[];this.data.data.forEach(g=>{const O=m.find(I=>g.admission_process_id._id===I._id&&g._id===I.candidate_id._id);O&&u.push(O)}),u.forEach(g=>{if(g&&g.steps&&g.steps.length){const O=g.steps.filter(I=>I.is_validation_required).map(I=>({...g,...I}));O&&O.length&&(this.admissionNeedValidator=V.concat(this.admissionNeedValidator,O))}}),this.admissionNeedValidator=V.uniqBy(this.admissionNeedValidator,"_id"),this.admissionNeedValidatorMap=this.admissionNeedValidator.map(g=>({school_id:g.candidate_id&&g.candidate_id.school&&g.candidate_id.school._id?g.candidate_id.school._id:null,campus_id:g.candidate_id&&g.candidate_id.campus&&g.candidate_id.campus._id?g.candidate_id.campus._id:null,level_id:g.candidate_id&&g.candidate_id.level&&g.candidate_id.level._id?g.candidate_id.level._id:null,civility:g.candidate_id&&g.candidate_id.civility?g.candidate_id.civility:null,last_name:g.candidate_id&&g.candidate_id.last_name?g.candidate_id.last_name:null,first_name:g.candidate_id&&g.candidate_id.first_name?g.candidate_id.first_name:null,step_id:g._id,student_admission_process_step_input:{step_title:g.step_title,user_validator:null,step_type:g.step_type,validator:g.validator._id,entity_user_type:g.validator.entity}}));let r=this.data.data.filter(g=>g.school&&g.school._id).map(g=>g.school._id),p=this.data.data.filter(g=>g.campus&&g.campus._id).map(g=>g.campus._id),x=this.data.data.filter(g=>g.level&&g.level._id).map(g=>g.level._id),T=this.admissionNeedValidatorMap.filter(g=>g.student_admission_process_step_input&&g.student_admission_process_step_input.validator).map(g=>g.student_admission_process_step_input.validator);r=V.uniqBy(r),p=V.uniqBy(p),x=V.uniqBy(x),T=V.uniqBy(T),this.getValidatorUser(T,r,p,x)}initForm(){this.templateForm=this.fb.group({registration_email_due_date:this.fb.group({due_date:[null,k.Validators.required],due_time:["15:59"]}),is_include_flyer:[!1],input:this.fb.array([])})}initValidatorsForm(){return this.fb.group({step_id:[null,[k.Validators.required]],civility:[null],last_name:[null],first_name:[null],student_admission_process_step_input:this.fb.group({user_validator:[null],step_type:[null],step_title:[null],validator:[null]})})}pushValidator(){this.getValidatorArray().push(this.initValidatorsForm())}getValidatorArray(){return this.templateForm.get("input")}get validatorArr(){return this.templateForm.get("input")}saveResendMail(){const m=this.getUserId(!0);this.isWaitingForResponse=!0,this.checkFormValidityDueDate()?this.isWaitingForResponse=!1:this.subs.sink=this.candidateService.SendNotifRegistrationN8(this.data.data[0]._id).subscribe(u=>{this.isWaitingForResponse=!1,L().fire({type:"success",title:this.translate.instant("CANDIDAT_S10.TITLE"),html:this.translate.instant("CANDIDAT_S10.TEXT",{candidateName:m}),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S10.BUTTON")}).then(()=>{this.dialogRef.close(!0)})},u=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(u),u&&u.message&&u.message.includes("Network error: Http failure response for")?L().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):L().fire({type:"info",title:this.translate.instant("SORRY"),text:u&&u.message?this.translate.instant(u.message.replaceAll("GraphQL error: ","")):u,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}saveCandidateDate(m){const u=this.getUserId();if(this.isWaitingForResponse=!0,this.checkFormValidityDueDate())return void(this.isWaitingForResponse=!1);const r=W(this.today).format("HH:mm");let p=this.templateForm.get("registration_email_due_date").get("due_date").value;p=W(p).format("DD/MM/YYYY");const x={registration_email_due_date:{due_date:this.parseLocalToUTCPipe.transformDate(p,r),due_time:this.parseLocalToUTCPipe.transform(r)}};this.subs.sink=this.candidateService.UpdateManyCandidates(u,x).subscribe(T=>{this.isWaitingForResponse=!1,m?this.data?.isResendNewForm?this.triggerResendNewForm():this.data?.isResendNewForm||this.saveResendMail():this.data.isReadmission?this.triggerReadmission():this.triggerAnnoucment()},T=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(T),T&&T.message&&T.message.includes("Network error: Http failure response for")?L().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):L().fire({type:"info",title:this.translate.instant("SORRY"),text:T&&T.message?this.translate.instant(T.message.replaceAll("GraphQL error: ","")):T,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getAllUserType(){this.subs.sink=this.academicService.getAllUserTypes().subscribe(m=>{m&&(this.userTypeList=m)},m=>{this.authService.postErrorLog(m),m&&m.message&&m.message.includes("Network error: Http failure response for")?L().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):L().fire({type:"info",title:this.translate.instant("SORRY"),text:m&&m.message?this.translate.instant(m.message.replaceAll("GraphQL error: ","")):m,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getFilterValidatorUser(m,u,r){this.subs.sink=this.contractService.GetAllUsers(m,r).subscribe(p=>{this.validatorUserList[u]=p&&p.length?p:[]},p=>{this.authService.postErrorLog(p),p&&p.message&&p.message.includes("Network error: Http failure response for")?L().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):L().fire({type:"info",title:this.translate.instant("SORRY"),text:p&&p.message?this.translate.instant(p.message.replaceAll("GraphQL error: ","")):p,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getValidatorUser(m,u,r,p){this.isWaitingForFormat=!0,this.subs.sink=this.contractService.GetAllUserValidators(..."5fe98eeadb866c403defdc6b"===m[0]?[m]:[m,u,r,p]).subscribe(T=>{if(this.isWaitingForFormat=!1,T&&T.length){this.generalValidatorUserList=T;const g=this.templateForm.get("input").value;for(let I=V.cloneDeep(g).length-1;I>=0;I--)this.validatorArr.removeAt(I);this.admissionNeedValidatorMap.forEach((I,R)=>{let J=[];this.pushValidator(),I&&I.student_admission_process_step_input&&(J=I.student_admission_process_step_input.entity_user_type&&this.listEntitiesNonProgram.includes(I.student_admission_process_step_input.entity_user_type)?T.filter(Z=>{if(Z.entities&&Z.entities.length){const bt=Z.entities.filter(nt=>nt.entity_name===I.student_admission_process_step_input.entity_user_type&&nt.type._id===I.student_admission_process_step_input.validator);if(bt&&bt.length)return Z}}):T.filter(Z=>{if(Z.entities&&Z.entities.length){const bt=Z.entities.filter(nt=>nt.type._id===I.student_admission_process_step_input.validator&&I.campus_id&&nt.programs&&nt.programs.length&&nt.programs.map(Ot=>Ot.campus._id).includes(I.campus_id)&&I.level_id&&nt.programs.map(Ot=>Ot.level._id).includes(I.level_id)&&I.school_id&&nt.programs.map(Ot=>Ot.school._id).includes(I.school_id));if(bt&&bt.length)return Z}})),this.validatorUserList[R]=J}),this.templateForm.get("input").patchValue(this.admissionNeedValidatorMap),setTimeout(()=>{},500)}else this.generalValidatorUserList=[],this.admissionNeedValidatorMap.forEach((g,O)=>{this.pushValidator()}),this.templateForm.get("input").patchValue(this.admissionNeedValidatorMap)},T=>{this.generalValidatorUserList=[],this.admissionNeedValidatorMap.forEach((g,O)=>{this.pushValidator()}),this.templateForm.get("input").patchValue(this.admissionNeedValidatorMap),this.isWaitingForFormat=!1,this.authService.postErrorLog(T),T&&T.message&&T.message.includes("Network error: Http failure response for")?L().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):L().fire({type:"info",title:this.translate.instant("SORRY"),text:T&&T.message?this.translate.instant(T.message.replaceAll("GraphQL error: ","")):T,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}filterValidatorUser(m,u,r){if(m.length>2||0===m.length){const p=this.utilService.simpleDiacriticSensitiveRegex(m.toLowerCase());this.getFilterValidatorUser(r,u,p)}}getNameOfUserType(m,u){let r;const p=m.value;return this.userTypeList&&this.userTypeList.length&&(r=this.userTypeList.find(x=>x._id===p.student_admission_process_step_input.validator)),r?r.name:""}checkFormValidity(){return!!this.templateForm.invalid&&(this.isWaitingForResponse=!1,L().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.templateForm.markAllAsTouched(),!0)}checkFormValidityDueDate(){return!!this.templateForm.get("registration_email_due_date").invalid&&(this.isWaitingForResponse=!1,L().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.templateForm.markAllAsTouched(),!0)}triggerSwal(){return this.isWaitingForResponse=!1,L().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.templateForm.markAllAsTouched(),this.isValid=!1,null}checkRequired(m){return this.getValidatorArray()?.at(m)?.get("student_admission_process_step_input")?.get("user_validator")?.dirty||this.getValidatorArray()?.at(m)?.get("student_admission_process_step_input")?.get("user_validator")?.touched}onSubmit(){if(this.isWaitingForResponse=!0,this.checkIsNeedValidator()||this.checkIsResendMail()||this.data.isReadmission)if(this.checkIsResendMail())this.saveCandidateDate(!0);else if(this.data.isReadmission){if(this.checkFormValidity())return void(this.isWaitingForResponse=!1);if(this.isWaitingForResponse=!0,this.checkIsNeedValidator()||this.checkIsResendMail()){if(this.checkFormValidity())return void(this.isWaitingForResponse=!1);let m=this.templateForm.value;if(m=m.input.map(u=>({step_id:u.step_id,student_admission_process_step_input:{step_title:u.student_admission_process_step_input.step_title,user_validator:u.student_admission_process_step_input&&u.student_admission_process_step_input.user_validator&&u.student_admission_process_step_input.user_validator._id?u.student_admission_process_step_input.user_validator._id:this.triggerSwal(),step_type:u.student_admission_process_step_input.step_type,validator:u.student_admission_process_step_input.validator}})),!this.isValid)return void(this.isValid=!0);this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.UpdateManyStudentAdmissionProcessStep(m).subscribe(u=>{this.saveCandidateDate()},u=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(u),u&&u.message&&u.message.includes("Network error: Http failure response for")?L().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):L().fire({type:"info",title:this.translate.instant("SORRY"),text:u&&u.message?this.translate.instant(u.message.replaceAll("GraphQL error: ","")):u,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(()=>{this.dialogRef.close()})})}else this.saveCandidateDate()}else{if(this.checkFormValidity())return void(this.isWaitingForResponse=!1);let m=this.templateForm.value;if(m=m.input.map(u=>({step_id:u.step_id,student_admission_process_step_input:{step_title:u.student_admission_process_step_input.step_title,user_validator:u.student_admission_process_step_input&&u.student_admission_process_step_input.user_validator&&u.student_admission_process_step_input.user_validator._id?u.student_admission_process_step_input.user_validator._id:this.triggerSwal(),step_type:u.student_admission_process_step_input.step_type,validator:u.student_admission_process_step_input.validator}})),!this.isValid)return void(this.isValid=!0);this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.UpdateManyStudentAdmissionProcessStep(m).subscribe(u=>{this.saveCandidateDate()},u=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(u),u&&u.message&&u.message.includes("Network error: Http failure response for")?L().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):L().fire({type:"info",title:this.translate.instant("SORRY"),text:u&&u.message?this.translate.instant(u.message.replaceAll("GraphQL error: ","")):u,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(()=>{this.dialogRef.close()})})}else this.saveCandidateDate()}triggerReadmission(){this.isWaitingForResponse=!0;const m=this.data.data.map(r=>r._id),u=this.templateForm.get("is_include_flyer").value;this.subs.sink=this.candidateService.SendReadRegN1(m,u).subscribe(r=>{this.isWaitingForResponse=!1,L().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},r=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(r),r&&r.message&&r.message.includes("Network error: Http failure response for")?L().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):L().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(()=>{this.dialogRef.close(!0)})})}triggerResendNewForm(){this.isWaitingForResponse=!0;const m=this.data.data.map(u=>u._id);this.subs.sink=this.candidateService.SendNotifRegistrationN8ResendNewForm(m[0],!0).subscribe(u=>{this.isWaitingForResponse=!1,L().fire({type:"success",title:"Bravo!",confirmButtonText:"OK",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},u=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(u),u&&u.message&&u.message.includes("Network error: Http failure response for")?L().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):L().fire({type:"info",title:this.translate.instant("SORRY"),text:u&&u.message?this.translate.instant(u.message.replaceAll("GraphQL error: ","")):u,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}).then(()=>{this.dialogRef.close(!0)})})}triggerAnnoucment(){const m=this.getUserId(!0),u=this.getUserId();this.isWaitingForResponse=!0,this.subs.sink=this.candidateService.SendRegistrationN1WithFlyer(u,this.templateForm.get("is_include_flyer").value).subscribe(r=>{r&&(this.isWaitingForResponse=!1,L().fire({type:"success",title:this.translate.instant("CANDIDAT_S2.TITLE"),html:this.translate.instant("CANDIDAT_S2.TEXT",{candidateName:m}),allowOutsideClick:!1,confirmButtonText:this.translate.instant("CANDIDAT_S2.BUTTON")}).then(()=>{this.dialogRef.close(!0)}))},r=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(r),r&&r.message&&r.message.includes("Network error: Http failure response for")?L().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):L().fire({type:"info",title:this.translate.instant("SORRY"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}displayFullName(m){if(m){const u=m.civility&&"neutral"!==m.civility&&m.civility?this.translate?this.translate.instant(m.civility):m.civility:"";return m.last_name.toUpperCase()+" "+m.first_name+" "+u}return null}closeDialog(){this.dialogRef.close()}checkIsNeedValidator(){let m=!1;return this.data&&this.data.isNeedValidator&&(m=!0),m}checkIsResendMail(){let m=!1;return this.data&&this.data.isResendMail&&(m=!0),m}getUserId(m){let u="";const r=[];for(const p of this.data.data)u=u?u+", "+(p?("neutral"!==p.civility?this.translate.instant(p.civility)+" ":"")+p.first_name+" "+p.last_name:""):p?("neutral"!==p.civility?this.translate.instant(p.civility)+" ":"")+p.first_name+" "+p.last_name:"",r.push(p._id);return m?u:r}}return y.\u0275fac=function(m){return new(m||y)(a.\u0275\u0275directiveInject(M.WI),a.\u0275\u0275directiveInject(k.UntypedFormBuilder),a.\u0275\u0275directiveInject(M.so),a.\u0275\u0275directiveInject(Y.I),a.\u0275\u0275directiveInject(j.o),a.\u0275\u0275directiveInject(q.sK),a.\u0275\u0275directiveInject(P.t),a.\u0275\u0275directiveInject(Q.P),a.\u0275\u0275directiveInject(H.w),a.\u0275\u0275directiveInject(S.e))},y.\u0275cmp=a.\u0275\u0275defineComponent({type:y,selectors:[["ms-send-email-validator-dialog"]],features:[a.\u0275\u0275ProvidersFeature([H.w])],decls:30,vars:22,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header-div"],[1,"dialog-header-icon","icon-size",2,"margin-bottom","5px"],["class","header-text",4,"ngIf"],["mat-icon-button","","type","button",1,"header-icon",3,"click"],[3,"formGroup"],[1,"p-grid"],["formGroupName","registration_email_due_date",1,"p-col-12"],["matInput","","readonly","","formControlName","due_date",1,"form-field",3,"placeholder","matDatepicker","min","click"],["matSuffix","",3,"for"],["dueDatePick",""],["class","invalid-field",4,"ngIf"],[4,"ngIf"],["align","end"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"disabled","click"],["class","loading-indicator",4,"ngIf"],[1,"header-text"],[1,"invalid-field"],["formArrayName","input",1,"assign-border"],[1,"section-title"],["class","p-grid",3,"formGroupName",4,"ngFor","ngForOf"],[1,"p-grid",3,"formGroupName"],["formGroupName","student_admission_process_step_input"],["class","p-col-7 section-field-title",4,"ngIf"],[1,"p-col-7","section-field-title"],[1,"p-col-5","no-padding","custom-input"],["aria-required","true","class","mrgn-btn custom-ngselect-content","clearAllText","Clear","formControlName","user_validator",3,"appendTo","placeholder","ngClass",4,"ngIf"],["aria-required","true","clearAllText","Clear","formControlName","user_validator",1,"mrgn-btn","custom-ngselect-content",3,"appendTo","placeholder","ngClass"],["disabled","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["disabled",""],[3,"value"],[1,"p-col-12"],["formControlName","is_include_flyer"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(m,u){if(1&m){const r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",0)(1,"mat-icon",1),a.\u0275\u0275text(2,"pending_actions"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,_t,3,3,"h2",2),a.\u0275\u0275template(4,pt,3,3,"h2",2),a.\u0275\u0275template(5,mt,3,3,"h2",2),a.\u0275\u0275template(6,lt,3,3,"h2",2),a.\u0275\u0275elementStart(7,"button",3),a.\u0275\u0275listener("click",function(){return u.closeDialog()}),a.\u0275\u0275elementStart(8,"mat-icon"),a.\u0275\u0275text(9,"close"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(10,"mat-dialog-content",4)(11,"div",5)(12,"div",6)(13,"mat-form-field")(14,"input",7),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(r);const x=a.\u0275\u0275reference(18);return a.\u0275\u0275resetView(x.open())}),a.\u0275\u0275pipe(15,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(16,"mat-datepicker-toggle",8)(17,"mat-datepicker",null,9),a.\u0275\u0275template(19,ht,3,3,"mat-error",10),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275template(20,Tt,6,4,"ng-container",11),a.\u0275\u0275template(21,Ft,6,3,"ng-container",11),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(22,"mat-dialog-actions",12)(23,"button",13),a.\u0275\u0275text(24),a.\u0275\u0275pipe(25,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(26,"button",14),a.\u0275\u0275listener("click",function(){return u.onSubmit()}),a.\u0275\u0275text(27),a.\u0275\u0275pipe(28,"translate"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275template(29,D,2,0,"div",15)}if(2&m){const r=a.\u0275\u0275reference(18);let p,x;a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",!u.checkIsResendMail()&&!1===u.data.isReadmission),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",u.checkIsResendMail()&&!u.data.isReadmission),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",u.checkIsResendMail()&&u.data.isReadmission),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!0===u.data.isReadmission&&!u.checkIsResendMail()),a.\u0275\u0275advance(4),a.\u0275\u0275property("formGroup",u.templateForm),a.\u0275\u0275advance(4),a.\u0275\u0275propertyInterpolate("placeholder",a.\u0275\u0275pipeBind1(15,16,"AdmissionFollowUp.Due date")),a.\u0275\u0275property("matDatepicker",r)("min",u.today),a.\u0275\u0275advance(2),a.\u0275\u0275property("for",r),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",(null==u.templateForm||null==(p=u.templateForm.get("registration_email_due_date"))||null==(x=p.get("due_date"))?null:x.invalid)&&((null==u.templateForm||null==(p=u.templateForm.get("registration_email_due_date"))||null==(x=p.get("due_date"))?null:x.dirty)||(null==u.templateForm||null==(p=u.templateForm.get("registration_email_due_date"))||null==(x=p.get("due_date"))?null:x.touched))),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",(null==u.validatorArr||null==u.validatorArr.controls?null:u.validatorArr.controls.length)&&u.checkIsNeedValidator()),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!(null!=u.data&&u.data.isResendMail)&&(null==u.data?null:u.data.isFc)||(null==u.data?null:u.data.isReadmission)),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(25,18,"CANCEL")),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",u.isWaitingForResponse||u.isWaitingForFormat),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(28,20,"SUBMIT")," "),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",u.isWaitingForResponse||u.isWaitingForFormat)}},dependencies:[U.Zt,U.Bh,$.lW,X.oG,z.Mq,z.hl,z.nW,M.ZT,M.xY,M.H8,et.Hw,t.TO,t.KE,t.R9,tt.Nt,ct.Ou,k.DefaultValueAccessor,k.NgControlStatus,k.NgControlStatusGroup,k.FormGroupDirective,k.FormControlName,k.FormGroupName,k.FormArrayName,st.oO,it.mk,it.sg,it.O5,dt.w9,dt.jq,q.X$,it.gd],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:2rem}.mat-dialog-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:center}.header-div[_ngcontent-%COMP%]   .dialog-header-icon[_ngcontent-%COMP%]{font-size:30px}.header-div[_ngcontent-%COMP%]   .icon-size[_ngcontent-%COMP%]{max-width:100%;max-height:30px!important}.mat-dialog-content[_ngcontent-%COMP%]{margin:0!important;padding:1rem!important;min-height:170px!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#000;border:none;border-radius:0!important;border-bottom:1px solid rgb(241,241,241)!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#000;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}.assign-border[_ngcontent-%COMP%]{border:2px solid #fdd835;padding:5px;margin:5px}.section-field-title[_ngcontent-%COMP%]{align-self:center}.section-title[_ngcontent-%COMP%]{padding-left:10px}  .custom-ngselect-content .ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}  .custom-ngselect-content .ng-dropdown-panel-items .ng-option{white-space:break-spaces!important}  .custom-ngselect-content.ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.invalid-field[_ngcontent-%COMP%]{color:red!important;font-size:13px}[_nghost-%COMP%]  .invalid-validator.ng-select .ng-select-container{border-color:red!important}[_nghost-%COMP%]  .invalid-validator.ng-select .ng-select-container .ng-placeholder{color:red!important}"]}),y})()}}]);