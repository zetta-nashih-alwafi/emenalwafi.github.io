"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[1883],{75223:(z,R,p)=>{p.d(R,{r:()=>X});var r=p(94650),D=p(89383),E=p(36895),F=p(97392);function S(c,C){1&c&&(r.\u0275\u0275elementStart(0,"span",12),r.\u0275\u0275text(1," , "),r.\u0275\u0275elementEnd())}function k(c,C){if(1&c&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"translate"),r.\u0275\u0275template(3,S,2,0,"span",11),r.\u0275\u0275elementContainerEnd()),2&c){const d=C.$implicit,v=C.last;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(2,2,d)," "),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",!v)}}function h(c,C){if(1&c){const d=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"mat-icon",13),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(d);const T=r.\u0275\u0275nextContext(3),y=T.$implicit,M=T.index,A=r.\u0275\u0275nextContext(3);return r.\u0275\u0275resetView(A.removeFilter(y,M))}),r.\u0275\u0275text(1,"close"),r.\u0275\u0275elementEnd()}}function u(c,C){if(1&c&&(r.\u0275\u0275elementStart(0,"span",9),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"translate"),r.\u0275\u0275template(3,k,4,4,"ng-container",7),r.\u0275\u0275template(4,h,2,0,"mat-icon",10),r.\u0275\u0275elementEnd()),2&c){const d=r.\u0275\u0275nextContext(2).$implicit,v=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1("",r.\u0275\u0275pipeBind1(2,3,null==d?null:d.column)," : "),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",null==d?null:d.key),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!(v.isReadmission&&"scholar_season"===(null==d?null:d.name)))}}function t(c,C){if(1&c){const d=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"mat-icon",13),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(d);const T=r.\u0275\u0275nextContext(3),y=T.$implicit,M=T.index,A=r.\u0275\u0275nextContext(3);return r.\u0275\u0275resetView(A.removeFilter(y,M))}),r.\u0275\u0275text(1,"close"),r.\u0275\u0275elementEnd()}}function b(c,C){if(1&c&&(r.\u0275\u0275elementStart(0,"span",9),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"translate"),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275template(4,t,2,0,"mat-icon",10),r.\u0275\u0275elementEnd()),2&c){const d=r.\u0275\u0275nextContext(2).$implicit,v=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate2("",r.\u0275\u0275pipeBind1(2,3,null==d?null:d.column)," : ",r.\u0275\u0275pipeBind1(3,5,null==d?null:d.key)," "),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf",!(v.isReadmission&&"scholar_season"===(null==d?null:d.name)))}}function O(c,C){if(1&c&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,u,5,5,"span",8),r.\u0275\u0275template(2,b,5,7,"span",8),r.\u0275\u0275elementContainerEnd()),2&c){const d=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",null==d?null:d.isMultiple),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!(null!=d&&d.isMultiple))}}function x(c,C){if(1&c&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,O,3,2,"ng-container",1),r.\u0275\u0275elementContainerEnd()),2&c){const d=C.$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","super_filter"===(null==d?null:d.type))}}function w(c,C){if(1&c&&(r.\u0275\u0275elementStart(0,"div",4)(1,"span",5),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"span"),r.\u0275\u0275text(5,":"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(6,"span",6),r.\u0275\u0275template(7,x,2,1,"ng-container",7),r.\u0275\u0275elementEnd()()),2&c){const d=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass","en"===d.translate.currentLang?"filter-type":"filter-type-fr"),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1("",r.\u0275\u0275pipeBind1(3,3,"Super Filter")," "),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngForOf",d.filterBreadcrumbData)}}function P(c,C){1&c&&(r.\u0275\u0275elementStart(0,"span",12),r.\u0275\u0275text(1," , "),r.\u0275\u0275elementEnd())}function G(c,C){if(1&c&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"translate"),r.\u0275\u0275template(3,P,2,0,"span",11),r.\u0275\u0275elementContainerEnd()),2&c){const d=C.$implicit,v=C.last,T=r.\u0275\u0275nextContext(3).$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",null!=T&&T.noTranslate?d:r.\u0275\u0275pipeBind1(2,2,d)," "),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",!v)}}function q(c,C){if(1&c){const d=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"span",9),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"translate"),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275template(4,G,4,4,"ng-container",7),r.\u0275\u0275elementStart(5,"mat-icon",13),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(d);const T=r.\u0275\u0275nextContext(2),y=T.$implicit,M=T.index,A=r.\u0275\u0275nextContext(3);return r.\u0275\u0275resetView(A.removeFilter(y,M))}),r.\u0275\u0275text(6,"close"),r.\u0275\u0275elementEnd()()}if(2&c){const d=r.\u0275\u0275nextContext(2).$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1("",null!=d&&d.stepColumnName?r.\u0275\u0275pipeBind1(2,2,null==d?null:d.stepColumnName)+" "+(null==d?null:d.column):r.\u0275\u0275pipeBind1(3,4,null==d?null:d.column)," : "),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",null==d?null:d.key)}}function I(c,C){if(1&c){const d=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"span",9),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"translate"),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275pipe(4,"translate"),r.\u0275\u0275elementStart(5,"mat-icon",13),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(d);const T=r.\u0275\u0275nextContext(2),y=T.$implicit,M=T.index,A=r.\u0275\u0275nextContext(3);return r.\u0275\u0275resetView(A.removeFilter(y,M))}),r.\u0275\u0275text(6,"close"),r.\u0275\u0275elementEnd()()}if(2&c){const d=r.\u0275\u0275nextContext(2).$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate2("",null!=d&&d.stepColumnName?r.\u0275\u0275pipeBind1(2,2,null==d?null:d.stepColumnName)+" "+(null==d?null:d.column):r.\u0275\u0275pipeBind1(3,4,null==d?null:d.column)," : ",!0===(null==d?null:d.noTranslate)?null==d?null:d.key:r.\u0275\u0275pipeBind1(4,6,null==d?null:d.key)," ")}}function Q(c,C){if(1&c&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,q,7,6,"span",8),r.\u0275\u0275template(2,I,7,8,"span",8),r.\u0275\u0275elementContainerEnd()),2&c){const d=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",null==d?null:d.isMultiple),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!(null!=d&&d.isMultiple))}}function B(c,C){if(1&c&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,Q,3,2,"ng-container",1),r.\u0275\u0275elementContainerEnd()),2&c){const d=C.$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","table_filter"===(null==d?null:d.type))}}function W(c,C){if(1&c&&(r.\u0275\u0275elementStart(0,"div",14)(1,"span",5),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"span"),r.\u0275\u0275text(5,":"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(6,"span",6),r.\u0275\u0275template(7,B,2,1,"ng-container",7),r.\u0275\u0275elementEnd()()),2&c){const d=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass","en"===d.translate.currentLang?"filter-type":"filter-type-fr"),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1("",r.\u0275\u0275pipeBind1(3,3,"Table Filter")," "),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngForOf",d.filterBreadcrumbData)}}function $(c,C){if(1&c){const d=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"span",9),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementStart(4,"mat-icon",13),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(d);const T=r.\u0275\u0275nextContext(),y=T.$implicit,M=T.index,A=r.\u0275\u0275nextContext(3);return r.\u0275\u0275resetView(A.removeFilter(y,M))}),r.\u0275\u0275text(5,"close"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementContainerEnd()}if(2&c){const d=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1("",r.\u0275\u0275pipeBind1(3,1,null==d?null:d.key)," ")}}function g(c,C){if(1&c&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,$,6,3,"ng-container",1),r.\u0275\u0275elementContainerEnd()),2&c){const d=C.$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","action_filter"===(null==d?null:d.type))}}function Z(c,C){if(1&c&&(r.\u0275\u0275elementStart(0,"div",14)(1,"span",5),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"span"),r.\u0275\u0275text(5,":"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(6,"span",6),r.\u0275\u0275template(7,g,2,1,"ng-container",7),r.\u0275\u0275elementEnd()()),2&c){const d=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass","en"===d.translate.currentLang?"filter-type":"filter-type-fr"),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1("",r.\u0275\u0275pipeBind1(3,3,"Action Filter")," "),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngForOf",d.filterBreadcrumbData)}}function L(c,C){if(1&c&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,w,8,5,"div",2),r.\u0275\u0275template(2,W,8,5,"div",3),r.\u0275\u0275template(3,Z,8,5,"div",3),r.\u0275\u0275elementContainerEnd()),2&c){const d=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",d.filterDataExist("super_filter")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",d.filterDataExist("table_filter")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",d.filterDataExist("action_filter"))}}let X=(()=>{class c{constructor(d){this.translate=d,this.removeFilterTrigger=new r.EventEmitter}ngOnInit(){}filterDataExist(d){return!!this.filterBreadcrumbData.find(T=>T?.type===d)}removeFilter(d,v){this.filterBreadcrumbData.splice(v,1),this.removeFilterTrigger.emit(d)}}return c.\u0275fac=function(d){return new(d||c)(r.\u0275\u0275directiveInject(D.sK))},c.\u0275cmp=r.\u0275\u0275defineComponent({type:c,selectors:[["ms-filter-breadcrumb"]],inputs:{filterBreadcrumbData:"filterBreadcrumbData",isReadmission:"isReadmission"},outputs:{removeFilterTrigger:"removeFilterTrigger"},decls:2,vars:1,consts:[[1,"filter-breadcrumb"],[4,"ngIf"],["class","filter-breadcrumb-container mt-10",4,"ngIf"],["class","filter-breadcrumb-container",4,"ngIf"],[1,"filter-breadcrumb-container","mt-10"],[3,"ngClass"],[1,"breadcrumb-value"],[4,"ngFor","ngForOf"],["class","breadcrumb-filter",4,"ngIf"],[1,"breadcrumb-filter"],["class","icon-remove",3,"click",4,"ngIf"],["class","comma",4,"ngIf"],[1,"comma"],[1,"icon-remove",3,"click"],[1,"filter-breadcrumb-container"]],template:function(d,v){1&d&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275template(1,L,4,3,"ng-container",1),r.\u0275\u0275elementEnd()),2&d&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",null==v.filterBreadcrumbData?null:v.filterBreadcrumbData.length))},dependencies:[E.mk,E.sg,E.O5,F.Hw,D.X$],styles:[".filter-breadcrumb[_ngcontent-%COMP%]{padding:1rem}.filter-breadcrumb-container[_ngcontent-%COMP%]{display:flex;align-items:baseline}.filter-breadcrumb-container[_ngcontent-%COMP%] ~ .filter-breadcrumb-container[_ngcontent-%COMP%]{margin-top:1rem}.breadcrumb-value[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:0 1rem;gap:4px}.filter-type[_ngcontent-%COMP%]{width:100px}.filter-type-fr[_ngcontent-%COMP%]{width:150px}.breadcrumb-filter[_ngcontent-%COMP%]{background-color:#ffd740;color:#000;padding:.25rem .5rem;border-radius:.375rem;font-size:.75rem;display:flex;flex-wrap:wrap;align-items:center}.comma[_ngcontent-%COMP%]{margin-right:4px}.icon-remove[_ngcontent-%COMP%]{vertical-align:middle;margin-left:.25rem;font-size:inherit;cursor:pointer}"]}),c})()},9035:(z,R,p)=>{p.d(R,{_:()=>k});var r=p(13125),D=p(24850),E=p(591),F=p(94650),S=p(18497);let k=(()=>{class h{constructor(t){this.apollo=t,this.isSaved=new E.X(!1),this.isChanged=new E.X(!1)}setDataCertificationStatus(t){this.isSaved.next(t)}getDataCertificationStatus(){return this.isSaved.value}setDataCertificationChanged(t){this.isChanged.next(t)}getDataCertificationChanged(){return this.isChanged.value}getCertificationRule(t,b){return this.apollo.query({query:r.ZP`
        query GetOneCertificationRule{
          GetOneCertificationRule(rncp_id: "${t}", class_id: "${b}") {
            _id
            title
            message
            documents {
              s3_file_name
              document_name
              file_path
              document_id {
                _id
              }
            }
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,D.U)(O=>O.data.GetOneCertificationRule))}getCertificationRuleSent(t,b){return this.apollo.query({query:r.ZP`
        query {
          GetOneCertificationRuleSent(rncp_id: "${t}", class_id: "${b}") {
            _id
            title
            message
            documents {
              s3_file_name
              document_name
              file_path
              document_id {
                _id
              }
            }
            students_accepted {
              student_id {
                _id
              }
              acceptance_date {
                date_utc
                time_utc
              }
            }
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,D.U)(O=>O.data.GetOneCertificationRuleSent))}getCertificationRuleSentWithStudent(t,b,O){return this.apollo.query({query:r.ZP`
        query {
          GetOneCertificationRuleSent(rncp_id: "${t}", class_id: "${b}", user_id: "${O}") {
            _id
            title
            message
            documents {
              s3_file_name
              document_name
              file_path
              document_id {
                _id
              }
            }
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,D.U)(x=>x.data.GetOneCertificationRuleSent))}getAllCertificationRule(){return this.apollo.query({query:r.ZP`
        query {
          GetAllCertificationRule() {
            _id
            title
            message
            documents {
              file_name
              file_path
            }
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,D.U)(t=>t.data.GetOneCertificationRule))}createCertificationRuleSent(t){return this.apollo.mutate({mutation:r.ZP`
        mutation SentCertificationRule($dataInput: CertificationRuleSentInput) {
          SentCertificationRule(certification_rule_sent_input: $dataInput) {
            _id
          }
        }
      `,variables:{dataInput:t}}).pipe((0,D.U)(b=>b.data.SentCertificationRule))}downloadDocumentAsZipFile(t,b){return this.apollo.mutate({mutation:r.ZP`
      mutation {
        DownloadDocumentAsZipFile (rncpId: "${t}", classId: "${b}") {
          pathName
        }
      }
      `}).pipe((0,D.U)(O=>O.data.DownloadDocumentAsZipFile))}studentAcceptCertificationRule(t,b,O){return this.apollo.mutate({mutation:r.ZP`
        mutation {
          StudentAcceptanceCertificationRule(rncp_id: "${t}", class_id: "${b}", user_id: "${O}") {
            _id
            students_accepted {
              student_id {
                _id
              }
              acceptance_date {
                date_utc
                time_utc
              }
            }
          }
        }
      `}).pipe((0,D.U)(x=>x.data.StudentAcceptanceCertificationRule))}createCertificationRule(t){return this.apollo.mutate({mutation:r.ZP`
        mutation CreateCertificationRule($dataInput: CertificationRuleInput) {
          CreateCertificationRule(certification_rule_input: $dataInput) {
            _id
          }
        }
      `,variables:{dataInput:t}}).pipe((0,D.U)(b=>b.data.CreateCertificationRule))}updateCertificationRule(t,b){return this.apollo.mutate({mutation:r.ZP`
        mutation UpdateCertificationRule($id: ID!, $dataInput: CertificationRuleInput) {
          UpdateCertificationRule(_id: $id, certification_rule_input: $dataInput) {
            _id
          }
        }
      `,variables:{id:t,dataInput:b}}).pipe((0,D.U)(O=>O.data.UpdateCertificationRule))}}return h.\u0275fac=function(t){return new(t||h)(F.\u0275\u0275inject(S._M))},h.\u0275prov=F.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},83515:(z,R,p)=>{p.d(R,{w:()=>F});var r=p(15439),E=p(94650);let F=(()=>{class S{transform(h,u){return h?r(h,"HH:mm").add(-r().utcOffset(),"m").format("HH:mm"):""}transformDate(h,u){return h?r(h+u,"DD/MM/YYYYHH:mm").add(-r().utcOffset(),"m").format("DD/MM/YYYY"):""}transformDateTime(h,u){return h?r(h+u,"DD/MM/YYYYHH:mm").add(-r().utcOffset(),"m").format("DD/MM/YYYYHH:mm"):""}transformJavascriptDate(h){if(h){const u=r(h).format("DD/MM/YYYY"),t=r(h).format("HH:mm"),b=r(u+t,"DD/MM/YYYYHH:mm").add(-r().utcOffset(),"m");return{date:b.format("DD/MM/YYYY"),time:b.format("HH:mm")}}return""}}return S.\u0275fac=function(h){return new(h||S)},S.\u0275pipe=E.\u0275\u0275definePipe({name:"parseLocalToUtc",type:S,pure:!0}),S})()},41883:(z,R,p)=>{p.r(R),p.d(R,{TaskModule:()=>si});var r=p(36895),D=p(610),E=p(98739),F=p(96308),S=p(53626),k=p(68745),h=p(17489),u=p(24006),t=p(94650),b=p(3238),O=p(4859),x=p(65938),w=p(97392),P=p(59549),G=p(284),q=p(84385),I=p(89383);let Q=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-add-test-task-dialog"]],decls:36,vars:25,consts:[[2,"color","black"],["mat-dialog-title",""],["svgIcon","tick-checkbox",2,"margin-bottom","5px"],["appearance","outline"],[3,"placeholder"],["value","all"],["matInput","",3,"placeholder"],["align","center"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"h1",1),t.\u0275\u0275element(2,"mat-icon",2),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-dialog-content")(6,"mat-form-field",3)(7,"mat-select",4),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementStart(9,"mat-option",5),t.\u0275\u0275text(10,"All"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(11,"mat-form-field",3)(12,"mat-select",4),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementStart(14,"mat-option",5),t.\u0275\u0275text(15,"All"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(16,"mat-form-field",3)(17,"mat-select",4),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementStart(19,"mat-option",5),t.\u0275\u0275text(20,"All"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(21,"mat-form-field",3)(22,"mat-select",4),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementStart(24,"mat-option",5),t.\u0275\u0275text(25,"All"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(26,"mat-form-field",3),t.\u0275\u0275element(27,"input",6),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(29,"mat-dialog-actions",7)(30,"button",8),t.\u0275\u0275text(31),t.\u0275\u0275pipe(32,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(33,"button",9),t.\u0275\u0275text(34),t.\u0275\u0275pipe(35,"translate"),t.\u0275\u0275elementEnd()()()),2&e&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,9,"Add_Test_Task")," "),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(8,11,"JURY_ORGANIZATION.RNCP_TITLES"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(13,13,"CLASS"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(18,15,"DASHBOARD.TEST"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(23,17,"NAV.TASKS"),"*"),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(28,19,"NAV.USERS"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(32,21,"CANCEL")),t.\u0275\u0275advance(2),t.\u0275\u0275property("mat-dialog-close",!0),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(35,23,"SUBMIT")))},dependencies:[b.ey,O.lW,x.ZT,x.uh,x.xY,x.H8,w.Hw,P.KE,G.Nt,q.gD,I.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}"]}),i})();var B=p(15439),W=p(30567),$=p(1059),g=p(24850),Z=p(80013),L=p(62416),X=p(35226),c=p.n(X),C=p(87791),d=p(52688),v=p(73555),T=p(51572),y=p(30277);function M(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"div",7)(1,"div",8)(2,"div",9)(3,"b"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",10)(7,"b"),t.\u0275\u0275text(8,":"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",11),t.\u0275\u0275text(10),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(5,2,"ASSIGN_CORRECTOR_DIALOG.TOTAL_STUDENT")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",e.studentCount," ")}}function A(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"div",7)(1,"div",8)(2,"div",9)(3,"b"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",10)(7,"b"),t.\u0275\u0275text(8,":"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",11),t.\u0275\u0275text(10),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(5,2,"ASSIGN_CORRECTOR_DIALOG.TOTAL_GROUP")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",e.studentCount," ")}}function gt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",25),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"uppercase"),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(2,4,null==e?null:e.civility)," ",e.first_name," ",t.\u0275\u0275pipeBind1(3,6,e.last_name)," ")}}function ft(i,l){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ct(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",13)(1,"div",21)(2,"div",14)(3,"div",22)(4,"mat-form-field")(5,"mat-select",23),t.\u0275\u0275listener("selectionChange",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.selectCorrectors(a))}),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275template(7,gt,4,8,"mat-option",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,ft,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()()()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(5),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(6,3,"ASSIGN_CORRECTOR_DIALOG.ASSIGN_CORRECTOR")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.userCorrectorList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.assignCorrrectorForm.get("correctors_id").errors)}}function vt(i,l){1&i&&(t.\u0275\u0275elementStart(0,"div",13)(1,"div",8)(2,"div",14),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()()),2&i&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,1,"ASSIGN_CORRECTOR_DIALOG.SCHOOL_0_CORRECTOR")," "))}function bt(i,l){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ct,9,5,"div",20),t.\u0275\u0275template(2,vt,5,3,"div",20),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.userCorrectorList?null:e.userCorrectorList.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.userCorrectorList&&e.userCorrectorList.length))}}function Tt(i,l){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",7)(2,"div",8)(3,"div",14)(4,"b"),t.\u0275\u0275element(5,"span",26),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(5),t.\u0275\u0275property("innerHTML",e.getTranslatedTextOneCorrector(),t.\u0275\u0275sanitizeHtml)}}function xt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"div",32),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",null!=e&&e.student?null==e?null:e.student:0," ",t.\u0275\u0275pipeBind1(2,2,(null==e?null:e.student)>1?"ASSIGN_CORRECTOR_DIALOG.Students":"ASSIGN_CORRECTOR_DIALOG.Student")," ")}}function yt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"div",32),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",null!=e&&e.student?null==e?null:e.student:0," ",t.\u0275\u0275pipeBind1(2,2,(null==e?null:e.student)>1?"ASSIGN_CORRECTOR_DIALOG.Groups":"ASSIGN_CORRECTOR_DIALOG.Group")," ")}}function St(i,l){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",8)(2,"div",9)(3,"b"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"uppercase"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",10),t.\u0275\u0275text(8," : "),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,xt,3,4,"div",31),t.\u0275\u0275template(10,yt,3,4,"div",31),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=l.$implicit,n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate3(" ",null!=e&&null!=e.corrector&&e.corrector.civility&&"neutral"===(null==e||null==e.corrector?null:e.corrector.civility)?"":t.\u0275\u0275pipeBind1(5,5,null==e||null==e.corrector?null:e.corrector.civility)," ",null==e||null==e.corrector?null:e.corrector.first_name," ",t.\u0275\u0275pipeBind1(6,7,null==e||null==e.corrector?null:e.corrector.last_name)," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",!n.isGroupTest),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isGroupTest)}}function Ot(i,l){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",7)(2,"div",27)(3,"div",14)(4,"span",28)(5,"b"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(8,St,11,9,"ng-container",29),t.\u0275\u0275elementStart(9,"span",30)(10,"b"),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,3,"ASSIGN_CORRECTOR_DIALOG.SCHOOL_MANY_CORRECTOR_HEAD")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.correctorAssigned),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(12,5,"ASSIGN_CORRECTOR_DIALOG.SCHOOL_MANY_CORRECTOR_FOOT"))}}function Dt(i,l){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Tt,6,1,"ng-container",15),t.\u0275\u0275template(2,Ot,13,7,"ng-container",15),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.assignCorrrectorForm.get("correctors_id").value&&1===e.assignCorrrectorForm.get("correctors_id").value.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.assignCorrrectorForm.get("correctors_id").value&&e.assignCorrrectorForm.get("correctors_id").value.length>1&&!e.isCorrectorMoreThanStudent())}}function It(i,l){1&i&&(t.\u0275\u0275elementStart(0,"div",14)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,1,"ASSIGN_CORRECTOR_DIALOG.CORRECTOR_MORE_THAN_STUDENT")," "))}function Pt(i,l){1&i&&(t.\u0275\u0275elementStart(0,"div",14)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,1,"ASSIGN_CORRECTOR_DIALOG.CORRECTOR_MORE_THAN_GROUP")," "))}function kt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"div",7)(1,"div",8),t.\u0275\u0275template(2,It,4,3,"div",33),t.\u0275\u0275template(3,Pt,4,3,"div",33),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.isGroupTest),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.isGroupTest)}}function Et(i,l){1&i&&(t.\u0275\u0275elementStart(0,"div",34),t.\u0275\u0275element(1,"mat-progress-spinner",35),t.\u0275\u0275elementEnd())}let Mt=(()=>{class i{constructor(e,n,a,o,s,m,f){this.dialogRef=e,this.fb=n,this.taskService=a,this.parseUTCtoLocal=o,this.translate=s,this.autService=m,this.data=f,this.subs=new k.Y,this.noUsers=!1,this.userTypes=[],this.userCorrectorList=[],this.correctorAssigned=[],this.isGroupTest=!1,this.isWaitingForResponse=!1,this.isWaitingForUserList=!0}ngOnInit(){this.currentUser=this.autService.getLocalStorageUser(),this.initForm(),this.getUserTypesId(),this.data&&this.data.task&&this.data.task.test&&this.data.task.test._id&&this.getTestData(this.data.task.test._id),this.data&&this.data.edit&&this.editData(),console.log("Assign corrector dialog data: ",this.data)}initForm(){this.assignCorrrectorForm=this.fb.group({test_id:[this.data.task.test&&this.data.task.test._id?this.data.task.test._id:"",u.Validators.required],school_id:[this.data.task.school&&this.data.task.school._id?this.data.task.school._id:"",u.Validators.required],update_corrector:[!1,u.Validators.required],correctors_id:["",u.Validators.required]})}editData(){this.assignCorrrectorForm.get("update_corrector").patchValue(!0)}getUserTypesId(){this.userTypes=this.taskService.getUserTypesCorrectorsID()}getTestData(e){this.isWaitingForResponse=!0,this.subs.sink=this.taskService.getTestDetail(e).subscribe(n=>{this.isWaitingForResponse=!1,n&&(this.testData=n,this.backupTestData=h.cloneDeep(n),n&&n.correction_type&&this.getCorrectorUsers(n.correction_type,this.data.titleId,this.data.task.school&&this.data.task.school._id?this.data.task.school._id:""),this.isGroupTest=!(!n||!n.group_test),this.testData&&this.testData.block_of_competence_condition_id&&this.testData.block_of_competence_condition_id._id&&this.testData.class_id&&"expertise"===this.testData.class_id.type_evaluation&&(this.blockConditionId=this.testData.block_of_competence_condition_id._id),n&&n.block_of_competence_condition_id&&n.block_of_competence_condition_id.specialization&&n.block_of_competence_condition_id.specialization._id&&(this.specializationId=n.block_of_competence_condition_id.specialization._id),this.backupTestData&&this.backupTestData.corrector_assigned&&this.backupTestData.corrector_assigned.length&&(this.backupTestData.corrector_assigned=h.filter(this.backupTestData.corrector_assigned,a=>(a&&a.school_id&&a.school_id._id?a.school_id._id:"")===this.data.task.school._id))),this.data.task&&"retake_assign_corrector"===this.data.task.type?this.getRetakeStudentCount(this.data.titleId,this.data.task.school._id,this.data.task.class_id._id):this.getStudentCount(this.data.titleId,this.data.task.school._id,this.data.task.class_id._id)},n=>{this.isWaitingForResponse=!1,this.autService.postErrorLog(n),c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getStudentCount(e,n,a){this.subs.sink=this.isGroupTest?this.taskService.getTestGroups(this.data.task.test._id,n).subscribe(o=>{this.studentCount=o&&o.length?o.length:0,this.filterCorrector(this.assignCorrrectorForm.get("correctors_id").value)},o=>{this.autService.postErrorLog(o),c().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.taskService.getStudentCount(e,n,a,this.specializationId,this.blockConditionId).subscribe(o=>{o&&o.length?(console.log(o),this.studentCount=o[0].count_document):this.studentCount=0,this.filterCorrector(this.assignCorrrectorForm.get("correctors_id").value)},o=>{this.autService.postErrorLog(o),c().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getRetakeStudentCount(e,n,a){this.subs.sink=this.isGroupTest?this.taskService.getTestGroups(this.data.task.test._id,n).subscribe(o=>{console.log(o),this.studentCount=o&&o.length?o.length:0},o=>{this.autService.postErrorLog(o),c().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.taskService.getRetakeStudentCount(e,n,a,this.specializationId,this.blockConditionId,this.data.task.test._id,this.data.task.test.evaluation_id._id).subscribe(o=>{this.studentCount=o&&o.length?o[0].count_document:0},o=>{this.autService.postErrorLog(o),c().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCorrectorUsers(e,n,a){let o="";if(e)if("prep_center"===e){const s=h.find(this.userTypes,m=>"Corrector"===m.name);s._id&&(o=s._id)}else if("certifier"===e){const s=h.find(this.userTypes,m=>"Corrector Certifier"===m.name);s._id&&(o=s._id)}else if("operator"===e){const s=h.find(this.userTypes,m=>"operator_admin"===m.name);s._id&&(o=s._id)}else if("cross_correction"===e){const s=h.find(this.userTypes,m=>"Corrector Certifier"===m.name);s._id&&(o=s._id)}o&&("certifier"===e?(this.isWaitingForUserList=!0,this.subs.sink=this.taskService.getCorrectorCertifierUsers([n],[o]).subscribe(s=>{this.isWaitingForUserList=!1,this.setUserCorrectorList(s)},s=>{this.isWaitingForUserList=!1,this.autService.postErrorLog(s),c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})):(this.isWaitingForUserList=!0,this.subs.sink=this.taskService.getCorrectorUsers([n],[a],[o]).subscribe(s=>{this.isWaitingForUserList=!1,this.setUserCorrectorList(s)},s=>{this.isWaitingForUserList=!1,this.autService.postErrorLog(s),c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})))}setUserCorrectorList(e){if(e){if(this.userCorrectorList=e,this.data&&this.data.edit&&this.backupTestData.corrector_assigned&&this.backupTestData.corrector_assigned.length){const n=[];this.backupTestData.corrector_assigned.forEach(a=>{a.corrector_id&&a.corrector_id._id&&n.push(a.corrector_id._id)}),this.assignCorrrectorForm.get("correctors_id").patchValue(n),this.studentCount&&this.filterCorrector(this.assignCorrrectorForm.get("correctors_id").value)}}else this.userCorrectorList=[]}selectCorrectors(e){this.correctorAssigned=[],this.filterCorrector(e.value)}filterCorrector(e){if(console.log(e),e){const n=e,a=Math.ceil(this.studentCount/n.length);let o=this.studentCount;n.forEach(s=>{const m=h.find(this.userCorrectorList,f=>f._id===s);console.log(m),this.correctorAssigned.push({corrector:m,student:a<=o?a:o}),console.log(a,o),o-=a<=o?a:o}),console.log(this.correctorAssigned)}}getTranslatedDate(e){return e&&e.date_utc&&e.time_utc?this.parseUTCtoLocal.transformDateToStringFormat(e.date_utc,e.time_utc):""}getTranslatedTextOneCorrector(){const n=this.assignCorrrectorForm.get("correctors_id").value[0],a=h.find(this.userCorrectorList,m=>m._id===n);console.log(this.assignCorrrectorForm),console.log(this.userCorrectorList),console.log(a);const o=a&&a.civility&&"neutral"!==a.civility?this.translate.instant(a.civility):"";let s="";return this.currentUser._id===n?s=this.translate.instant("ASSIGN_CORRECTOR_DIALOG.ASSIGN_MYSELF"):a&&(s=this.translate.instant("ASSIGN_CORRECTOR_DIALOG.SCHOOL_1_CORRECTOR",{civility:o,firstname:a.first_name,lastname:a.last_name})),s}submitAssignCorrector(){this.data.task&&"retake_assign_corrector"===this.data.task.type?this.saveAssignedCorrectorForRetake():this.saveAssignedCorrector()}saveAssignedCorrector(){const e=this.assignCorrrectorForm.value;this.isWaitingForResponse=!0,this.subs.sink=this.taskService.assignCorrector(e.test_id,e.school_id,e.correctors_id,e.update_corrector).subscribe(n=>{this.isWaitingForResponse=!1,n&&(this.isWaitingForResponse=!0,this.subs.sink=this.taskService.startNextTask(this.data.task._id,e.correctors_id,e.update_corrector,this.translate.currentLang).subscribe(a=>{this.isWaitingForResponse=!1,a&&c().fire({type:"success",title:"Bravo !",allowOutsideClick:!1}).then(()=>{this.dialogRef.close("reset")})},a=>{this.isWaitingForResponse=!1,this.autService.postErrorLog(a),this.swalError(a)}))},n=>{this.isWaitingForResponse=!1,this.autService.postErrorLog(n),c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}saveAssignedCorrectorForRetake(){const e=this.assignCorrrectorForm.value;this.isWaitingForResponse=!0,this.subs.sink=this.taskService.assignCorrectorForRetake(e.test_id,e.school_id,e.correctors_id,e.update_corrector,this.data.task._id).subscribe(n=>{this.isWaitingForResponse=!1,n&&c().fire({type:"success",title:"Bravo !",allowOutsideClick:!1}).then(()=>{this.dialogRef.close("reset")})},n=>{this.autService.postErrorLog(n),c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}isCorrectorMoreThanStudent(){return(this.assignCorrrectorForm.get("correctors_id").value?this.assignCorrrectorForm.get("correctors_id").value.length:0)>this.studentCount}swalError(e){this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}closeDialog(){this.dialogRef.close()}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(x.so),t.\u0275\u0275directiveInject(u.UntypedFormBuilder),t.\u0275\u0275directiveInject(C.M),t.\u0275\u0275directiveInject(L.t),t.\u0275\u0275directiveInject(I.sK),t.\u0275\u0275directiveInject(d.e),t.\u0275\u0275directiveInject(x.WI))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-assign-corrector-dialog"]],features:[t.\u0275\u0275ProvidersFeature([L.t])],decls:88,vars:40,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header-div"],["svgIcon","account-question"],[1,"header-text"],["mat-icon-button","","type","button",1,"header-icon",3,"click"],[1,"header-form",3,"formGroup"],["fxLayout","row"],["fxFlex","","fxLayout","column"],["fxFlex",""],["fxLayout","row wrap","fxLayoutAlign","start start"],["fxFlex","35"],["fxFlex","5"],["fxFlex","60"],["fxFlex","",4,"ngIf"],["fxFlex","",1,"pad-t-md"],["fxFlex","100"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center",1,"footer-form"],["mat-raised-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary","type","button",3,"disabled","click"],["class","loading-indicator",4,"ngIf"],["fxFlex","","class","pad-t-md",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","center start"],[1,"px-1","select-input-container"],["color","accent","formControlName","correctors_id","multiple","",2,"margin-bottom","-1.4em",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"innerHTML"],["fxLayout","row","fxLayoutAlign","start start"],[1,"mrgn-b-xs"],[4,"ngFor","ngForOf"],[1,"mrgn-t-xs"],["fxFlex","20",4,"ngIf"],["fxFlex","20"],["fxFlex","100",4,"ngIf"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"mat-icon",1),t.\u0275\u0275elementStart(2,"h2",2),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"button",3),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275elementStart(6,"mat-icon"),t.\u0275\u0275text(7,"close"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275element(8,"hr"),t.\u0275\u0275elementStart(9,"form",4)(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"b"),t.\u0275\u0275text(16),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(18,"div",10)(19,"b"),t.\u0275\u0275text(20,":"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(21,"div",11),t.\u0275\u0275text(22),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(23,"div",7)(24,"div",8)(25,"div",9)(26,"b"),t.\u0275\u0275text(27),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(29,"div",10)(30,"b"),t.\u0275\u0275text(31,":"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(32,"div",11),t.\u0275\u0275text(33),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(34,"div",7)(35,"div",8)(36,"div",9)(37,"b"),t.\u0275\u0275text(38),t.\u0275\u0275pipe(39,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(40,"div",10)(41,"b"),t.\u0275\u0275text(42,":"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(43,"div",11),t.\u0275\u0275text(44),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(45,"div",7)(46,"div",8)(47,"div",9)(48,"b"),t.\u0275\u0275text(49),t.\u0275\u0275pipe(50,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(51,"div",10)(52,"b"),t.\u0275\u0275text(53,":"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(54,"div",11),t.\u0275\u0275text(55),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(56,"div",7)(57,"div",8)(58,"div",9)(59,"b"),t.\u0275\u0275text(60),t.\u0275\u0275pipe(61,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(62,"div",10)(63,"b"),t.\u0275\u0275text(64,":"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(65,"div",11),t.\u0275\u0275text(66),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(67,M,11,4,"div",12),t.\u0275\u0275template(68,A,11,4,"div",12),t.\u0275\u0275elementStart(69,"div",13)(70,"div",8)(71,"div",14)(72,"b"),t.\u0275\u0275text(73),t.\u0275\u0275pipe(74,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(75,bt,3,2,"ng-container",15),t.\u0275\u0275template(76,Dt,3,2,"ng-container",15),t.\u0275\u0275template(77,kt,4,2,"div",12),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(78,"div",16)(79,"div")(80,"button",17),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275text(81),t.\u0275\u0275pipe(82,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(83,"div")(84,"button",18),t.\u0275\u0275listener("click",function(){return n.submitAssignCorrector()}),t.\u0275\u0275text(85),t.\u0275\u0275pipe(86,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(87,Et,2,0,"div",19)),2&e&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,22,"ASSIGN_CORRECTOR_DIALOG.TITLE_DIALOG")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",n.assignCorrrectorForm),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(17,24,"ASSIGN_CORRECTOR_DIALOG.TITLE_RNCP")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",null==n.testData||null==n.testData.parent_rncp_title?null:n.testData.parent_rncp_title.long_name," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(28,26,"ASSIGN_CORRECTOR_DIALOG.CLASS")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",null==n.testData||null==n.testData.class_id?null:n.testData.class_id.name," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(39,28,"ASSIGN_CORRECTOR_DIALOG.SUBJECT_NAME")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",null==n.testData||null==n.testData.subject_id?null:n.testData.subject_id.subject_name," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(50,30,"ASSIGN_CORRECTOR_DIALOG.TEST_NAME")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",null==n.testData||null==n.testData.evaluation_id?null:n.testData.evaluation_id.evaluation," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(61,32,"ASSIGN_CORRECTOR_DIALOG.DATE")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",n.getTranslatedDate(null==n.testData?null:n.testData.date)," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.isGroupTest),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isGroupTest),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(74,34,"ASSIGN_CORRECTOR_DIALOG.TEXT_1")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.isWaitingForUserList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.isCorrectorMoreThanStudent()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isCorrectorMoreThanStudent()),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(82,36,"ASSIGN_CORRECTOR_DIALOG.CANCEL")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",!n.assignCorrrectorForm.valid||n.isCorrectorMoreThanStudent()),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(86,38,"ASSIGN_CORRECTOR_DIALOG.SUBMIT")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[r.sg,r.O5,v.Zt,v.Bh,b.ey,O.lW,w.Hw,P.TO,P.KE,T.Ou,q.gD,u.\u0275NgNoValidate,u.NgControlStatus,u.NgControlStatusGroup,u.FormGroupDirective,u.FormControlName,y.xw,y.Wh,y.yH,r.gd,I.X$],styles:[".header-form[_ngcontent-%COMP%]{padding:18px}.footer-form[_ngcontent-%COMP%]{padding:0 18px 18px}"]}),i})();var nt=p(83515),it=p(18206),_=p(13125),J=p(18497);let At=(()=>{class i{constructor(e){this.apollo=e}getStudentsDataForProblematic(e){return this.apollo.query({query:_.ZP`
        query GetStudentsDataForProblematic {
          GetOneStudent(_id: "${e}"){
            _id
            civility
            first_name
            last_name
            problematic_id{
              _id
            }
          }
        }`,fetchPolicy:"network-only"}).pipe((0,g.U)(n=>n.data.GetOneStudent))}getStudentsPrevCourseProblematic(e,n,a,o){return this.apollo.query({query:_.ZP`
        query GetStudentsDataForProblematic {
          GetAllStudents(
            sorting: { last_name: asc },
            school: "${e}",
            rncp_title: "${n}",
            current_class: "${a}",
            status: student_card_active_completed,
            student_ids: ["${o}"]
          ){
            _id
            civility
            first_name
            last_name
            problematic_id{
              _id
            }
          }
        }`,fetchPolicy:"network-only"}).pipe((0,g.U)(s=>s.data.GetAllStudents))}getOneProblematic(e){return this.apollo.query({query:_.ZP`
        query GetOneProblematic{
          GetOneProblematic(_id: "${e}") {
            _id
            problematic_status
            questionnaire_template_response_id {
              _id
            }
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,g.U)(n=>n.data.GetOneProblematic))}getOneProblematicImported(e){return this.apollo.query({query:_.ZP`
        query GetOneProblematicImported{
          GetOneProblematic(_id: "${e}") {
            _id
            number_of_rejection
            problematic_status
            student_id{
              _id
            }
            school_id{
              _id
            }
            rncp_id{
              _id
            }
            class_id{
              _id
            }
            date {
              date_utc
              time_utc
            }
            question_1{
              question
              answer
              comments{
                comment
                date{
                  date_utc
                  time_utc
                }
              }
            }
            question_2{
              question
              answer
              comments{
                comment
                date{
                  date_utc
                  time_utc
                }
              }
            }
            question_3{
              question
              answer
              comments{
                comment
                date{
                  date_utc
                  time_utc
                }
              }
            }
            signature_of_the_student
            signature_of_the_acad_dir
            signature_of_the_certifier
            general_comments{
              comment
              date{
                date_utc
                time_utc
              }
            }
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,g.U)(n=>n.data.GetOneProblematic))}getOneProblematicTemplate(e){return this.apollo.query({query:_.ZP`
        query GetOneProblematicTemplate{
          GetOneProblematic(_id: "${e}") {
            _id
            number_of_rejection
            problematic_status
            student_id{
              _id
            }
            school_id{
              _id
            }
            rncp_id{
              _id
            }
            class_id{
              _id
            }
            date {
              date_utc
              time_utc
            }
            signature_of_the_student
            signature_of_the_acad_dir
            signature_of_the_certifier
            general_comments{
              comment
              date{
                date_utc
                time_utc
              }
            }
            questionnaire_template_response_id{
              _id
              questionnaire_status
              questionnaire_name
              questionnaire_type
              questionnaire_grid{
                orientation
                header {
                  title
                  text
                  direction
                  fields {
                    type
                    value
                    data_type
                    align
                  }
                }
                footer {
                  text
                  text_below
                  fields{
                    type
                    value
                    data_type
                    align
                  }
                }
              }
              competence{
                competence_name
                sort_order
                block_type
                tied_to_option {
                  block
                  segment
                  question
                  answer
                }
                segment {
                  segment_name
                  sort_order
                  question {
                    question_name
                    sort_order
                    question_type
                    questionnaire_field_key
                    is_field
                    is_answer_required
                    answer
                    answer_number
                    answer_date {
                      date
                      time
                    }
                    answer_multiple
                    options{
                      option_text
                      position
                      related_block_index
                      tied_to_block
                    }
                    missions_activities_autonomy{
                      mission
                      activity
                      autonomy_level
                    }
                    multiple_textbox {
                      text
                    }
                    comments {
                      comment
                      date {
                        date_utc
                        time_utc
                      }
                    }
                    parent_child_options{
                      option_text
                      position
                      questions {
                        question_name
                        sort_order
                        question_type
                        questionnaire_field_key
                        is_field
                        is_answer_required
                        answer
                        answer_multiple
                        options{
                          option_text
                          position
                          related_block_index
                          tied_to_block
                        }
                        missions_activities_autonomy{
                          mission
                          activity
                          autonomy_level
                        }
                        parent_child_options{
                          option_text
                          position
                          questions{
                            question_name
                            sort_order
                            question_type
                            questionnaire_field_key
                            is_field
                            is_answer_required
                            answer
                            answer_multiple
                            options{
                              option_text
                              position
                              related_block_index
                              tied_to_block
                            }
                            missions_activities_autonomy{
                              mission
                              activity
                              autonomy_level
                            }
                            parent_child_options{
                              option_text
                              position
                              questions{
                                question_name
                                sort_order
                                question_type
                                questionnaire_field_key
                                is_field
                                is_answer_required
                                answer
                                answer_multiple
                                options{
                                  option_text
                                  position
                                  related_block_index
                                  tied_to_block
                                }
                                missions_activities_autonomy{
                                  mission
                                  activity
                                  autonomy_level
                                }
                                parent_child_options{
                                  option_text
                                  position
                                  questions{
                                    question_name
                                    sort_order
                                    question_type
                                    questionnaire_field_key
                                    is_field
                                    is_answer_required
                                    answer
                                    answer_multiple
                                    options {
                                      option_text
                                      position
                                      related_block_index
                                      tied_to_block
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,g.U)(n=>n.data.GetOneProblematic))}getAllProblematicCorrector(e,n,a){return this.apollo.query({query:_.ZP`
        query GetAllProblematicCorrector{
          GetAllProblematicCorrectors(rncp_title: "${e}", school: "${n}", user_login_id: "${a}") {
            _id
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,g.U)(o=>o.data.GetAllProblematicCorrectors))}sendOneProblematic(e,n){return this.apollo.mutate({mutation:_.ZP`
          mutation CreateProblematic($problematic_input: ProblematicInput, $lang: String) {
            CreateProblematic(problematic_input: $problematic_input, lang: $lang) {
              _id
            }
          }
        `,variables:{problematic_input:e,lang:n},errorPolicy:"all"}).pipe((0,g.U)(a=>a.data.CreateProblematic))}updateProblematic(e,n,a){return this.apollo.mutate({mutation:_.ZP`
        mutation UpdateProblematic($problematic_input: ProblematicInput, $_id: ID!, $lang: String) {
          UpdateProblematic(_id: $_id, problematic_input: $problematic_input, lang: $lang) {
            _id
          }
        }
      `,variables:{_id:n,problematic_input:e,lang:a},errorPolicy:"all"})}submitStudentFormProblematic(e,n){return this.apollo.mutate({mutation:_.ZP`
        mutation SubmitProblematic($_id: ID!, $lang: String) {
          SubmitProblematic(_id: $_id, lang: $lang) {
            _id
          }
        }
      `,variables:{_id:e,lang:n},errorPolicy:"all"})}rejectFormProblematicAcad(e){return this.apollo.mutate({mutation:_.ZP`
        mutation RejectProblematic(
          $_id: ID!
          $reason_of_rejection: String
          $rejection_date: RejectionDateInput
          $task_input: AcadTaskInput
          $lang: String
        ) {
          RejectProblematic(
            _id: $_id
            reason_of_rejection: $reason_of_rejection
            rejection_date: $rejection_date
            task_input: $task_input
            lang: $lang
          ) {
            _id
          }
        }
      `,variables:{_id:e._id,reason_of_rejection:e.reason_of_rejection,rejection_date:e.rejection_date,task_input:e.task_input,lang:e.lang},errorPolicy:"all"})}rejectFormProblematicCertifier(e){return this.apollo.mutate({mutation:_.ZP`
        mutation RejectProblematic($_id: ID!, $rejection_date: RejectionDateInput, $lang: String) {
          RejectProblematic(_id: $_id, rejection_date: $rejection_date, lang: $lang) {
            _id
          }
        }
      `,variables:{_id:e._id,rejection_date:e.rejection_date,lang:e.lang},errorPolicy:"all"})}getAllSchoolsProblematic(e,n){return this.apollo.query({query:_.ZP`
          query GetAllSchoolsForCorrectorProblematic($rncp_title_ids: [ID], $class_id: ID) {
            GetAllSchools(rncp_title_ids: $rncp_title_ids, class_id: $class_id) {
              _id
              short_name
              count_document
            }
          }
        `,variables:{rncp_title_ids:e,class_id:n},fetchPolicy:"network-only"}).pipe((0,g.U)(a=>a.data.GetAllSchools))}getProblematicCorrectorDropdown(e,n){return this.apollo.query({query:_.ZP`
          query GetAllUsers($title: [ID!], $user_type: [ID!]) {
            GetAllUsers(title: $title, user_type: $user_type) {
              _id
              civility
              first_name
              last_name
            }
          }
        `,fetchPolicy:"network-only",variables:{title:e,user_type:n}}).pipe((0,g.U)(a=>a.data.GetAllUsers))}getOneDetailedTask(e){return this.apollo.query({query:_.ZP`
        query GetOneDetailedTask{
          GetOneTask(_id: "${e}") {
            _id
            rncp {
              _id
              short_name
              long_name
            }
            class_id {
              _id
              name
            }
          }
        }
      `,fetchPolicy:"network-only"}).pipe((0,g.U)(n=>n.data.GetOneTask))}assignCorrectorProblematic(e){return this.apollo.mutate({mutation:_.ZP`
        mutation AssignCorrectorProblematic($rncp_title: ID, $class_id: ID, $task_id: ID, $corrector_problematic: [ID], $lang: String) {
          AssignCorrectorProblematic(
            rncp_title: $rncp_title
            class_id: $class_id
            task_id: $task_id
            corrector_problematic: $corrector_problematic
            lang: $lang
          )
        }
      `,errorPolicy:"all",variables:{rncp_title:e.rncp_title,class_id:e.class_id,task_id:e.task_id,corrector_problematic:e.corrector_problematic,lang:e.lang}})}updateQuestionnaireResponse(e,n){return this.apollo.mutate({mutation:_.ZP`
        mutation UpdateQuestionnaireTemplateResponse($ques_temp_response_input: QuestionnaireTemplateResponseInput, $_id: ID!) {
          UpdateQuestionnaireTemplateResponse(_id: $_id, ques_temp_response_input: $ques_temp_response_input) {
            _id
          }
        }
      `,variables:{_id:n,ques_temp_response_input:e},errorPolicy:"all"})}sendMultipleProblematic(e,n){return this.apollo.mutate({mutation:_.ZP`
          mutation CreateProblematic($student_ids: [ID], $lang: String) {
            CreateProblematic(student_ids: $student_ids, lang: $lang) {
              _id
            }
          }
        `,variables:{student_ids:e,lang:n},errorPolicy:"all"}).pipe((0,g.U)(a=>a.data.CreateProblematic))}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275inject(J._M))},i.\u0275prov=t.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ft(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",25),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"uppercase"),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit;t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(2,4,null==e?null:e.civility)," ",e.first_name," ",t.\u0275\u0275pipeBind1(3,6,e.last_name)," ")}}function Lt(i,l){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function wt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"mat-form-field")(5,"mat-select",23),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275template(7,Ft,4,8,"mat-option",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,Lt,3,3,"mat-error",17),t.\u0275\u0275elementEnd()()()()()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(5),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(6,3,"PROBLEMATIC_019.assign_one_or_sevetal_correctors_of_problematic")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.userCorrectorList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.assignCorrrectorForm.get("corrector_problematic").errors)}}function Rt(i,l){1&i&&(t.\u0275\u0275elementStart(0,"div",19)(1,"div",20)(2,"div",21),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()()),2&i&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ","PROBLEMATIC_019.there_is_no_corrector_of_problematic"," "))}function Bt(i,l){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,wt,9,5,"div",18),t.\u0275\u0275template(2,Rt,4,1,"div",18),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.userCorrectorList?null:e.userCorrectorList.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=e.userCorrectorList&&e.userCorrectorList.length))}}function Ut(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"form",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"div",14)(6,"b"),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",15)(10,"b"),t.\u0275\u0275text(11,":"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",16),t.\u0275\u0275text(13),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(14,"div",12)(15,"div",13)(16,"div",14)(17,"b"),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"div",15)(21,"b"),t.\u0275\u0275text(22,":"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",16),t.\u0275\u0275text(24),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(25,"div",12)(26,"div",13)(27,"div",14)(28,"b"),t.\u0275\u0275text(29),t.\u0275\u0275pipe(30,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(31,"div",15)(32,"b"),t.\u0275\u0275text(33,":"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(34,"div",16),t.\u0275\u0275text(35),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(36,"div",12)(37,"div",13)(38,"div",14)(39,"b"),t.\u0275\u0275text(40),t.\u0275\u0275pipe(41,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(42,"div",15)(43,"b"),t.\u0275\u0275text(44,":"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(45,"div",16),t.\u0275\u0275text(46),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(47,Bt,3,2,"ng-container",17),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("formGroup",e.assignCorrrectorForm),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(8,11,"PROBLEMATIC_019.title_rncp")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate2(" ",null==e.taskDataTitle||null==e.taskDataTitle.rncp?null:e.taskDataTitle.rncp.short_name," - ",null==e.taskDataTitle||null==e.taskDataTitle.rncp?null:e.taskDataTitle.rncp.long_name," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(19,13,"PROBLEMATIC_019.class")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",null==e.taskData||null==e.taskData.class_id?null:e.taskData.class_id.name," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(30,15,"PROBLEMATIC_019.due_date")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",e.getTranslatedDate(null==e.taskData?null:e.taskData.due_date)," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(41,17,"PROBLEMATIC_019.number_of_school")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",e.schoolData&&e.schoolData.length?e.schoolData.length:"0"," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.isWaitingForUserList)}}function Vt(i,l){1&i&&(t.\u0275\u0275elementStart(0,"div",26),t.\u0275\u0275element(1,"mat-progress-spinner",27),t.\u0275\u0275elementEnd())}let $t=(()=>{class i{constructor(e,n,a,o,s,m,f,V){this.data=e,this.dialogRef=n,this.fb=a,this.taskService=o,this.parseUTCtoLocal=s,this.translate=m,this.problematicService=f,this.authService=V,this.subs=new k.Y,this.isWaitingForUserList=!0,this.isWaitingForResponse=!1}ngOnInit(){this.data&&this.data.task&&(this.taskData=h.cloneDeep(this.data.task)),this.initForm(),this.getFormData()}initForm(){this.assignCorrrectorForm=this.fb.group({corrector_problematic:["",u.Validators.required],rncp_title:[this.taskData&&this.taskData.rncp&&this.taskData.rncp._id?this.taskData.rncp._id:"",[u.Validators.required]],class_id:[this.taskData&&this.taskData.class_id&&this.taskData.class_id._id?this.taskData.class_id._id:"",[u.Validators.required]],task_id:[this.taskData&&this.taskData._id?this.taskData._id:"",[u.Validators.required]],lang:[this.translate.currentLang,[u.Validators.required]]})}getFormData(){const n=[];n.push(this.problematicService.getAllSchoolsProblematic([this.taskData.rncp._id],this.taskData.class_id._id)),n.push(this.problematicService.getProblematicCorrectorDropdown([this.taskData.rncp._id],["5a2e1ecd53b95d22c82f9550","5a2e1ecd53b95d22c82f9551"])),n.push(this.problematicService.getOneDetailedTask(this.taskData._id)),this.subs.sink=(0,W.D)(n).subscribe(a=>{if(console.log(a),this.isWaitingForUserList=!1,a&&a.length){let o=0;a[o]&&(this.schoolData=a[o],o++),a[o]&&(this.userCorrectorList=a[o],o++),a[o]&&(this.taskDataTitle=a[o],o++)}},a=>{this.authService.postErrorLog(a),c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getTranslatedDate(e){return e&&e.date&&e.time?this.parseUTCtoLocal.transformDateToStringFormat(e.date,e.time):""}isCorrectorMoreThanSchool(){const e=this.assignCorrrectorForm.get("corrector_problematic").value;let o=!1;return(e&&e.length?e.length:0)>(this.schoolData&&this.schoolData.length?this.schoolData.length:0)&&(o=!0),o}submitAssignCorrector(){const e=this.assignCorrrectorForm.value;let a,n=[];e.corrector_problematic.forEach(m=>{a=this.userCorrectorList.filter(f=>f._id===m),n=n.concat(a)});let o="";if(n&&n.length){let m=0;n.forEach(f=>{f&&(m++,m>1?(o+=", ",o=o+(f.civility&&"neutral"!==f.civility?this.translate.instant(f.civility):"")+" "+f.first_name+" "+f.last_name):o=o+(f.civility&&"neutral"!==f.civility?this.translate.instant(f.civility):"")+" "+f.first_name+" "+f.last_name)})}let s=3;c().fire({title:this.translate.instant("PROB_S14.TITLE"),html:this.translate.instant("PROB_S14.TEXT",{problematic:o}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("PROB_S14.BUTTON_1",{timer:s}),cancelButtonText:this.translate.instant("PROB_S14.BUTTON_2"),onOpen:()=>{c().disableConfirmButton();const m=c().getConfirmButton(),f=setInterval(()=>{s-=1,m.innerText=this.translate.instant("PROB_S14.BUTTON_1")+" in "+s+" sec"},1e3);this.timeOutVal=setTimeout(()=>{m.innerText=this.translate.instant("PROB_S14.BUTTON_1"),c().enableConfirmButton(),clearInterval(f),clearTimeout(this.timeOutVal)},1e3*s)}}).then(m=>{m.value&&(this.subs.sink=this.problematicService.assignCorrectorProblematic(e).subscribe(f=>{f&&(c().fire({title:"Bravo!",type:"success"}),this.dialogRef.close("reset"))},f=>{this.authService.postErrorLog(f),c().fire({type:"info",title:this.translate.instant("SORRY"),text:f&&f.message?this.translate.instant(f.message.replaceAll("GraphQL error: ","")):f,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}closeDialog(){this.dialogRef.close()}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(x.WI),t.\u0275\u0275directiveInject(x.so),t.\u0275\u0275directiveInject(u.UntypedFormBuilder),t.\u0275\u0275directiveInject(C.M),t.\u0275\u0275directiveInject(L.t),t.\u0275\u0275directiveInject(I.sK),t.\u0275\u0275directiveInject(At),t.\u0275\u0275directiveInject(d.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-assign-corrector-problematic-dialog"]],features:[t.\u0275\u0275ProvidersFeature([L.t])],decls:20,vars:12,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header-div"],["svgIcon","account-question"],[1,"header-text"],["mat-icon-button","","type","button",1,"header-icon",3,"click"],["class","header-form",3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center",1,"footer-form"],["mat-raised-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary","type","button",3,"disabled","click"],["class","loading-indicator",4,"ngIf"],[1,"header-form",3,"formGroup"],["fxLayout","row"],["fxFlex","","fxLayout","column"],["fxFlex",""],["fxLayout","row wrap","fxLayoutAlign","start start"],["fxFlex","35"],["fxFlex","5"],["fxFlex","60"],[4,"ngIf"],["fxFlex","","class","pad-t-md",4,"ngIf"],["fxFlex","",1,"pad-t-md"],["fxLayout","row wrap","fxLayoutAlign","center start"],["fxFlex","100"],[1,"px-1","select-input-container"],["color","accent","formControlName","corrector_problematic","multiple","",2,"margin-bottom","-1.4em",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"mat-icon",1),t.\u0275\u0275elementStart(2,"h2",2),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"button",3),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275elementStart(6,"mat-icon"),t.\u0275\u0275text(7,"close"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275element(8,"hr"),t.\u0275\u0275template(9,Ut,48,19,"form",4),t.\u0275\u0275elementStart(10,"div",5)(11,"div")(12,"button",6),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div")(16,"button",7),t.\u0275\u0275listener("click",function(){return n.submitAssignCorrector()}),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(19,Vt,2,0,"div",8)),2&e&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,6,"PROBLEMATIC_019.assign_corrector_of_problematic")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",n.taskDataTitle),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(14,8,"ASSIGN_CORRECTOR_DIALOG.CANCEL")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",n.assignCorrrectorForm.invalid||n.isCorrectorMoreThanSchool()),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,10,"ASSIGN_CORRECTOR_DIALOG.SUBMIT")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[v.Zt,v.Bh,b.ey,O.lW,w.Hw,P.TO,P.KE,T.Ou,q.gD,u.\u0275NgNoValidate,u.NgControlStatus,u.NgControlStatusGroup,u.FormGroupDirective,u.FormControlName,y.xw,y.Wh,y.yH,r.sg,r.O5,I.X$,r.gd],styles:[".header-form[_ngcontent-%COMP%]{padding:18px}.footer-form[_ngcontent-%COMP%]{padding:0 18px 18px}"]}),i})();var Nt=p(22055),at=p(84075);function Gt(i,l){1&i&&(t.\u0275\u0275elementStart(0,"div",17),t.\u0275\u0275element(1,"mat-progress-spinner",18),t.\u0275\u0275elementEnd())}let jt=(()=>{class i{constructor(e,n,a,o,s,m){this.data=e,this.dialogRef=n,this.translate=a,this.utilService=o,this.router=s,this.parseUTCtoLocal=m,this.subs=new k.Y,this.isWaitingForResponse=!1}ngOnInit(){console.log(this.data)}closeDialog(){this.dialogRef.close()}goToValidateProblematic(e){this.utilService.isCorrectorOfProblematic()?(this.router.navigate(["/students-card-problematic",e.school._id],{queryParams:{title:e.rncp._id,class:e.class_id._id,open:"student-cards"}}),this.closeDialog()):(this.router.navigate(["/school",e.school._id],{queryParams:{title:e.rncp._id,class:e.class_id._id,open:"student-cards"}}),this.closeDialog())}translateValidateProblematicDesc(e,n){if("en"===this.translate.currentLang.toLowerCase()){let a=e.split(" : ");return a[a.length-1]="Validate Problematics",a=a.join(" : "),a}{let a=e.split(" : ");return a[a.length-1]="Notes de probl\xe9matique \xe0 valider",a=a.join(" : "),a}}translateDate(e){return e&&"object"==typeof e&&e.time&&e.date?this.parseUTCtoLocal.transformDate(e.date,e.time):""}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(x.WI),t.\u0275\u0275directiveInject(x.so),t.\u0275\u0275directiveInject(I.sK),t.\u0275\u0275directiveInject(at.t),t.\u0275\u0275directiveInject(D.F0),t.\u0275\u0275directiveInject(L.t))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-validate-problematic-task-dialog"]],features:[t.\u0275\u0275ProvidersFeature([L.t])],decls:46,vars:18,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header-div"],["viewBox","0 0 24 24",2,"width","24px","height","24px","margin-bottom","-0.3rem"],["fill","currentColor","d","M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z"],[1,"header-text"],["mat-icon-button","","type","button",1,"header-icon",3,"click"],[1,"header-form"],["fxLayout","row"],["fxFlex","","fxLayout","column"],["fxFlex",""],["fxLayout","row wrap","fxLayoutAlign","start start"],["fxFlex","35"],["fxFlex","5"],["fxFlex","60"],["fxLayout","row","fxLayoutAlign","end center",1,"footer-form"],["mat-raised-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary","type","button",3,"click"],["class","loading-indicator",4,"ngIf"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"mat-icon"),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(2,"svg",1),t.\u0275\u0275element(3,"path",2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275namespaceHTML(),t.\u0275\u0275elementStart(4,"h2",3),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"button",4),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275elementStart(8,"mat-icon"),t.\u0275\u0275text(9,"close"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275element(10,"hr"),t.\u0275\u0275elementStart(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"div",10)(17,"b"),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"div",11)(21,"b"),t.\u0275\u0275text(22,":"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",12),t.\u0275\u0275text(24),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(25,"div",8)(26,"div",9)(27,"div",10)(28,"b"),t.\u0275\u0275text(29),t.\u0275\u0275pipe(30,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(31,"div",11)(32,"b"),t.\u0275\u0275text(33,":"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(34,"div",12),t.\u0275\u0275text(35),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(36,"div",13)(37,"div")(38,"button",14),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275text(39),t.\u0275\u0275pipe(40,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(41,"div")(42,"button",15),t.\u0275\u0275listener("click",function(){return n.goToValidateProblematic(n.data)}),t.\u0275\u0275text(43),t.\u0275\u0275pipe(44,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(45,Gt,2,0,"div",16)),2&e&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,8,"PROBLEMATIC_019.Problematic")," "),t.\u0275\u0275advance(13),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(19,10,"TASK.Due_Date")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",n.translateDate(null==n.data?null:n.data.due_date)," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(30,12,"Description")," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",n.translateValidateProblematicDesc(n.data.description,n.data)," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(40,14,"ASSIGN_CORRECTOR_DIALOG.CANCEL")," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(44,16,"PROBLEMATIC_019.Go To Problematic")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[v.Zt,v.Bh,O.lW,w.Hw,T.Ou,y.xw,y.Wh,y.yH,r.O5,I.X$],styles:[".header-form[_ngcontent-%COMP%]{padding:18px}.footer-form[_ngcontent-%COMP%]{padding:0 18px 18px}"]}),i})();var Y=p(591),ot=p(24742),qt=p(80529),rt=function(i,l,e,n){var s,a=arguments.length,o=a<3?l:null===n?n=Object.getOwnPropertyDescriptor(l,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(i,l,e,n);else for(var m=i.length-1;m>=0;m--)(s=i[m])&&(o=(a<3?s(o):a>3?s(l,e,o):s(l,e))||o);return a>3&&o&&Object.defineProperty(l,e,o),o};class U{constructor(l,e,n){this.httpClient=l,this.apollo=e,this.translate=n,this.AllStudentsSource=new Y.X([]),this.AllStudentsLists$=this.AllStudentsSource.asObservable(),this.isStudentAllAssigned=!1}setAllStudentsLists(l){this.AllStudentsSource.next(l)}resetAllStudentsLists(){this.AllStudentsSource.next([])}getValuetAllStudentsLists(){this.AllStudentsSource.getValue()}getCrossCorrectionStudents(){return this.httpClient.get("assets/data/cross-correction-students.json")}getCrossCorrectionSchools(){return this.httpClient.get("assets/data/cross-correction-schools.json")}getTaskCrossCorrectionList(l,e,n,a,o,s){return this.apollo.query({query:_.ZP`
          query GetAllTests(
            $correction_type: EnumCorrectionType
            $pagination: PaginationInput
            $rncp_title_id: ID
            $class_id: ID
            $keyword: String
            $sorting: TestSorting
          ) {
            GetAllTests(
              correction_type: $correction_type
              pagination: $pagination
              rncp_title_id: $rncp_title_id
              class_id: $class_id
              keyword: $keyword
              sorting: $sorting
            ) {
              _id
              name
              parent_rncp_title {
                _id
                short_name
              }
              class_id {
                _id
                name
              }
              count_document
            }
          }
        `,variables:{correction_type:l,pagination:e,sorting:n,rncp_title_id:a,class_id:o,keyword:s},fetchPolicy:"network-only"}).pipe((0,g.U)(m=>m.data.GetAllTests))}getCrossCorrectionList(l){return this.apollo.query({query:_.ZP`
          query GetAllCrossCorrectors($filter: crossCorrectionFilter) {
            GetAllCrossCorrectors(filter: $filter) {
              _id
              scholar_season_id {
                _id
              }
              test_id {
                _id
              }
              rncp_title_id {
                _id
              }
              class_id {
                _id
              }
              student_id {
                _id
                first_name
                last_name
              }
              school_origin_id {
                _id
                short_name
              }
              school_correcting_id {
                _id
                short_name
              }
              school_correcting_corrector_id {
                _id
                first_name
                last_name
              }
              status
              count_document
            }
          }
        `,variables:{filter:l},fetchPolicy:"network-only"}).pipe((0,g.U)(e=>e.data.GetAllCrossCorrectors))}getCorrectorsAndStudents(l,e,n){return this.apollo.query({query:_.ZP`
          query GetCorrectorsAndStudents($rncpId: ID, $testId: ID, $classId: ID) {
            GetCorrectorsAndStudents(rncpId: $rncpId, testId: $testId, classId: $classId) {
              acadDirDetails {
                _id
                first_name
                last_name
              }
              schoolDetails {
                _id
                short_name
              }
              studentsAssignToSchoolCorrecting {
                _id
                first_name
                last_name
              }
            }
          }
        `,variables:{rncpId:l,testId:e,classId:n},fetchPolicy:"network-only"}).pipe((0,g.U)(a=>a.data.GetCorrectorsAndStudents))}GetDataForCrossCorrectorCsv(l,e){return this.apollo.query({query:_.ZP`
          query {
            GetDataForCrossCorrectorCsv(rncp_id: "${l}", test_id: "${e}") {
                rncp
                school_origin
                school_origin_address
                school_correcting
                school_correcting_address
                students_count_school_origin
                students_count_school_correcting
              }
          }
        `,fetchPolicy:"network-only"}).pipe((0,g.U)(n=>n.data.GetDataForCrossCorrectorCsv))}getSchoolsAndCrossCorrectors(l,e){return this.apollo.query({query:_.ZP`
          query GetSchoolsAndCrossCorrectors($rncpId: ID!, $classId: ID!) {
            GetSchoolsAndCrossCorrectors(rncpId: $rncpId, classId: $classId) {
              school {
                _id
                short_name
              }
            }
          }
        `,variables:{rncpId:l,classId:e},fetchPolicy:"network-only"}).pipe((0,g.U)(n=>n.data.GetSchoolsAndCrossCorrectors))}getSchoolsCorrectingDropdown(l,e){return this.apollo.query({query:_.ZP`
          query GetSchoolsAndCrossCorrectors($rncpId: ID!, $classId: ID!) {
            GetSchoolsAndCrossCorrectors(rncpId: $rncpId, classId: $classId) {
              school {
                _id
                short_name
              }
              cross_correctors {
                _id
                first_name
                last_name
              }
            }
          }
        `,variables:{rncpId:l,classId:e},fetchPolicy:"network-only"}).pipe((0,g.U)(n=>n.data.GetSchoolsAndCrossCorrectors))}getAllTitlesDropdown(){return this.apollo.query({query:_.ZP`
          query GetAllTitles {
            GetAllTitles {
              _id
              short_name
            }
          }
        `,fetchPolicy:"network-only"}).pipe((0,g.U)(l=>l.data.GetAllTitles))}getAllClassesDropdown(){return this.apollo.query({query:_.ZP`
          query GetAllClasses {
            GetAllClasses {
              _id
              name
              parent_rncp_title {
                _id
                short_name
              }
            }
          }
        `,fetchPolicy:"network-only"}).pipe((0,g.U)(l=>l.data.GetAllClasses))}getAllTestsDropdown(){return this.apollo.query({query:_.ZP`
          query GetAllTests {
            GetAllTests {
              _id
              name
              class_id {
                _id
                name
              }
            }
          }
        `,fetchPolicy:"network-only"}).pipe((0,g.U)(l=>l.data.GetAllTests))}CreateAndUpdateCrossCorrector(l){return this.apollo.mutate({mutation:_.ZP`
        mutation CreateAndUpdateCrossCorrector($payload: [CrossCorrectorInput]) {
          CreateAndUpdateCrossCorrector(cross_corrector_input: $payload) {
            _id
          }
        }
      `,variables:{payload:l}})}sendNotificationButton(l,e,n){return this.apollo.mutate({mutation:_.ZP`
        mutation SendNotificationButton($rncpId: ID!, $classId: ID!, $testId: ID!, $lang: String) {
          SendNotificationButton(rncpId: $rncpId, classId: $classId, testId: $testId, lang: $lang)
        }
      `,variables:{rncpId:l,classId:e,testId:n,lang:this.translate.currentLang}})}getCrossCorrectorDropdown(l){return this.apollo.query({query:_.ZP`
          query GetAllCrossCorrectors($filter: crossCorrectionFilter) {
            GetAllCrossCorrectors(filter: $filter) {
              school_correcting_corrector_id {
                _id
                civility
                first_name
                last_name
              }
            }
          }
        `,variables:{filter:l},fetchPolicy:"network-only"}).pipe((0,g.U)(e=>e.data.GetAllCrossCorrectors))}getSchoolOriginDropdown(l){return this.apollo.query({query:_.ZP`
          query GetAllCrossCorrectors($filter: crossCorrectionFilter) {
            GetAllCrossCorrectors(filter: $filter) {
              school_origin_id {
                _id
                short_name
              }
            }
          }
        `,variables:{filter:l},fetchPolicy:"network-only"}).pipe((0,g.U)(e=>e.data.GetAllCrossCorrectors))}getCorrectorCsv(l){return this.apollo.query({query:_.ZP`
          query GetAllCrossCorrectors($filter: crossCorrectionFilter) {
            GetAllCrossCorrectors(filter: $filter) {
              school_correcting_id {
                short_name
                school_address {
                  address1
                  postal_code
                  city
                }
              }
            }
          }
        `,variables:{filter:l},fetchPolicy:"network-only"}).pipe((0,g.U)(e=>e.data.GetAllCrossCorrectors))}getSchoolCorrectingDropdown(l){return this.apollo.query({query:_.ZP`
          query GetAllCrossCorrectors($filter: crossCorrectionFilter) {
            GetAllCrossCorrectors(filter: $filter) {
              school_correcting_id {
                _id
                short_name
              }
            }
          }
        `,variables:{filter:l},fetchPolicy:"network-only"}).pipe((0,g.U)(e=>e.data.GetAllCrossCorrectors))}getOneTest(l){return this.apollo.query({query:_.ZP`
          query GetOneTest($_id: ID!) {
            GetOneTest(_id: $_id) {
              _id
              name
              parent_rncp_title {
                _id
                short_name
              }
              class_id {
                _id
                name
              }
            }
          }
        `,variables:{_id:l},fetchPolicy:"network-only"}).pipe((0,g.U)(e=>e.data.GetOneTest))}getAllStudentCrossCorrectionFirstTime(l,e){return this.apollo.query({query:_.ZP`
          query GetAllStudents {
            GetAllStudents(rncp_title: "${l}", current_class: "${e}", status: active_pending) {
              _id
              school {
                _id
              }
            }
          }
        `,fetchPolicy:"network-only"}).pipe((0,g.U)(n=>n.data.GetAllStudents))}getCorrectorsAndStudentsSendCopies(l,e,n,a){return this.apollo.query({query:_.ZP`
          query GetCorrectorsAndStudents($rncpId: ID, $testId: ID, $classId: ID, $taskId: ID) {
            GetCorrectorsAndStudents(rncpId: $rncpId, testId: $testId, classId: $classId, taskId: $taskId) {
              acadDirDetails {
                _id
                first_name
                last_name
                civility
              }
              schoolDetails {
                _id
                short_name
                long_name
              }
              studentsAssignToSchoolCorrecting {
                _id
                first_name
                last_name
                school {
                  _id
                  short_name
                }
                civility
              }
            }
          }
        `,variables:{rncpId:l,testId:e,classId:n,taskId:a},fetchPolicy:"network-only"}).pipe((0,g.U)(o=>o.data.GetCorrectorsAndStudents))}markSendCopiesAsDoneAndCreateMarkEntry(l,e){return this.apollo.mutate({mutation:_.ZP`
        mutation MarkSendCopiesAsDoneAndCreateMarkEntry($taskId: ID!, $actionTaken: String, $lang: String) {
          MarkSendCopiesAsDoneAndCreateMarkEntry(taskId: $taskId, actionTaken: $actionTaken, lang: $lang)
        }
      `,variables:{taskId:l,actionTaken:e,lang:this.translate.currentLang}})}getValidateSendCopies(l){return this.apollo.mutate({mutation:_.ZP`
          mutation ValidateSendCopies($taskId: ID!) {
            ValidateSendCopies(taskId: $taskId) {
              adminCertifier {
                _id
                first_name
                last_name
                civility
              }
              school {
                _id
                short_name
                long_name
                school_address {
                  address1
                  address2
                  postal_code
                  city
                  region
                }
              }
            }
          }
        `,variables:{taskId:l}}).pipe((0,g.U)(e=>e.data.ValidateSendCopies))}markSendCopiesValidateAsDone(l,e){return this.apollo.mutate({mutation:_.ZP`
        mutation MarkSendCopiesValidateAsDone($taskId: ID!, $actionTaken: String) {
          MarkSendCopiesValidateAsDone(taskId: $taskId, actionTaken: $actionTaken)
        }
      `,variables:{taskId:l,actionTaken:e}})}}U.\u0275fac=function(l){return new(l||U)(t.\u0275\u0275inject(qt.eN),t.\u0275\u0275inject(J._M),t.\u0275\u0275inject(I.sK))},U.\u0275prov=t.\u0275\u0275defineInjectable({token:U,factory:U.\u0275fac,providedIn:"root"}),rt([(0,ot.q)()],U.prototype,"getCrossCorrectionStudents",null),rt([(0,ot.q)()],U.prototype,"getCrossCorrectionSchools",null);var Yt=p(44850),lt=p(90455);function Ht(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"h2",26)(1,"span",27),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span",27),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"SEND_COPY_CROSS.SENT_TO")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.schoolDetails?null:e.crossCorrectionDetails.schoolDetails.short_name)}}function Kt(i,l){1&i&&(t.\u0275\u0275elementStart(0,"h2",26),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(2,2,"SEND_COPY_CROSS.SENT_TO")," ",t.\u0275\u0275pipeBind1(3,4,"SEND_COPY_CROSS.CERTIFIER"),""))}function Wt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(2,2,"SEND_COPY_CROSS.SENT_TO")," ",null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.schoolDetails?null:e.crossCorrectionDetails.schoolDetails.short_name," ")}}function Zt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(2,4,"SEND_COPY_CROSS.SENT_TO_CERTIFIER")," ",null!=e.crossCorrectionDetails&&null!=e.crossCorrectionDetails.adminCertifier&&e.crossCorrectionDetails.adminCertifier.civility&&"neutral"===(null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.adminCertifier?null:e.crossCorrectionDetails.adminCertifier.civility)?"":t.\u0275\u0275pipeBind1(3,6,null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.adminCertifier?null:e.crossCorrectionDetails.adminCertifier.civility)," ",null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.adminCertifier?null:e.crossCorrectionDetails.adminCertifier.first_name," ",t.\u0275\u0275pipeBind1(4,8,null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.adminCertifier?null:e.crossCorrectionDetails.adminCertifier.last_name)," ")}}function zt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"li"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"uppercase"),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(2,3,null==e?null:e.civility)," ",null==e?null:e.first_name," ",t.\u0275\u0275pipeBind1(3,5,null==e?null:e.last_name)," ")}}function Qt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"div")(1,"div"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"uppercase"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div"),t.\u0275\u0275text(9),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div"),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div")(14,"ul",28),t.\u0275\u0275template(15,zt,4,7,"li",29),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,8,"SEND_COPY_CROSS.PAPER_COPIES_TO")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",null!=e.crossCorrectionDetails&&null!=e.crossCorrectionDetails.acadDirDetails&&e.crossCorrectionDetails.acadDirDetails.civility&&"neutral"===(null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.acadDirDetails?null:e.crossCorrectionDetails.acadDirDetails.civility)?"":t.\u0275\u0275pipeBind1(6,10,null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.acadDirDetails?null:e.crossCorrectionDetails.acadDirDetails.civility)," ",null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.acadDirDetails?null:e.crossCorrectionDetails.acadDirDetails.first_name," ",t.\u0275\u0275pipeBind1(7,12,null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.acadDirDetails?null:e.crossCorrectionDetails.acadDirDetails.last_name)," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2("",null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.schoolDetails?null:e.crossCorrectionDetails.schoolDetails.short_name," - ",null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.schoolDetails?null:e.crossCorrectionDetails.schoolDetails.long_name,""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(12,14,"SEND_COPY_CROSS.LIST_OF_STUDENT")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",null==e.crossCorrectionDetails?null:e.crossCorrectionDetails.studentsAssignToSchoolCorrecting)}}function Xt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.school?null:e.crossCorrectionDetails.school.short_name," ")}}function Jt(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("- ",null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.school?null:e.crossCorrectionDetails.school.long_name,"")}}function te(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"div"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"uppercase"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div"),t.\u0275\u0275template(8,Xt,2,1,"span",30),t.\u0275\u0275template(9,Jt,2,1,"span",30),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div"),t.\u0275\u0275text(11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"div"),t.\u0275\u0275text(13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"div"),t.\u0275\u0275text(15),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"div"),t.\u0275\u0275text(17),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,10,"SEND_COPY_CROSS.SENT_TO_CERTIFIER_DESCP")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",null!=e.crossCorrectionDetails&&null!=e.crossCorrectionDetails.adminCertifier&&e.crossCorrectionDetails.adminCertifier.civility&&"neutral"===(null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.adminCertifier?null:e.crossCorrectionDetails.adminCertifier.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.adminCertifier?null:e.crossCorrectionDetails.adminCertifier.civility)," ",null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.adminCertifier?null:e.crossCorrectionDetails.adminCertifier.first_name," ",t.\u0275\u0275pipeBind1(6,14,null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.adminCertifier?null:e.crossCorrectionDetails.adminCertifier.last_name)," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.school?null:e.crossCorrectionDetails.school.short_name),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.school?null:e.crossCorrectionDetails.school.long_name),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.school?null:e.crossCorrectionDetails.school.school_address[0].address1," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.school?null:e.crossCorrectionDetails.school.school_address[0].address2," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.school?null:e.crossCorrectionDetails.school.school_address[0].city," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e.crossCorrectionDetails||null==e.crossCorrectionDetails.school?null:e.crossCorrectionDetails.school.school_address[0].postal_code," ")}}const ee=function(){return{standalone:!0}};let ne=(()=>{class i{constructor(e,n,a,o,s){this.dialogRef=e,this.crossCorrectionService=n,this.translate=a,this.data=o,this.authService=s,this.subs=new k.Y,this.isForCertifier=!1,this.isTaskDone=!1,this.action=new u.UntypedFormControl("")}ngOnInit(){this.isForCertifier="send_copies_validate"===this.data.type,this.isForCertifier?this.getDetailCertifier():this.getDetail()}getDetail(){this.subs.sink=this.crossCorrectionService.getCorrectorsAndStudentsSendCopies(this.data.rncp._id,this.data.test._id,this.data.class_id._id,this.data._id).subscribe(e=>{this.crossCorrectionDetails=e[0]},e=>{this.authService.postErrorLog(e),c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDetailCertifier(){this.subs.sink=this.crossCorrectionService.getValidateSendCopies(this.data._id).subscribe(e=>{this.crossCorrectionDetails=e},e=>{this.authService.postErrorLog(e),c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}closeDialog(){this.dialogRef.close()}save(){this.subs.sink=this.isForCertifier?this.crossCorrectionService.markSendCopiesValidateAsDone(this.data._id,this.action.value).subscribe(e=>{e&&c().fire({type:"success",title:this.translate.instant("Bravo !")}).then(n=>{this.dialogRef.close(!0)})},e=>{this.authService.postErrorLog(e),c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.crossCorrectionService.markSendCopiesAsDoneAndCreateMarkEntry(this.data._id,this.action.value).subscribe(e=>{e&&c().fire({type:"success",title:this.translate.instant("Bravo !")}).then(n=>{this.dialogRef.close(!0)})},e=>{this.authService.postErrorLog(e),c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(x.so),t.\u0275\u0275directiveInject(U),t.\u0275\u0275directiveInject(I.sK),t.\u0275\u0275directiveInject(x.WI),t.\u0275\u0275directiveInject(d.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-send-copies-dialog"]],decls:95,vars:50,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"header-div"],["svgIcon","check-revise"],["class","header-text",4,"ngIf","ngIfElse"],["isCertifier1",""],["mat-icon-button","","type","button",1,"header-icon",3,"click"],[1,"header-form"],["fxLayout","row"],["fxFlex","","fxLayout","column"],["fxFlex",""],["fxLayout","row wrap","fxLayoutAlign","start start"],["fxFlex","30"],["fxFlex","5"],["fxFlex","65"],[4,"ngIf","ngIfElse"],["isCertifier2",""],["isCertifier3",""],["fxLayout","row wrap"],["fxLayout","row wrap",2,"margin-top","10px"],["fxFlex","100","fxLayoutAlign","center center"],[3,"ngModel","ngModelOptions","ngModelChange"],["fxFlex","100"],[1,"example-full-width"],["matInput","",3,"formControl"],["fxFlex","100","fxLayoutAlign","end end","fxLayoutGap","10px"],["mat-raised-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary","type","button",3,"disabled","click"],[1,"header-text"],[2,"display","block"],[1,"student-list-scroll"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"mat-icon",1),t.\u0275\u0275template(2,Ht,6,4,"h2",2),t.\u0275\u0275template(3,Kt,4,6,"ng-template",null,3,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(5,"button",4),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275elementStart(6,"mat-icon"),t.\u0275\u0275text(7,"close"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275element(8,"mat-divider"),t.\u0275\u0275elementStart(9,"form",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"b"),t.\u0275\u0275text(16),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(18,"div",11),t.\u0275\u0275text(19,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"div",12),t.\u0275\u0275text(21),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(22,"div",8)(23,"div",9)(24,"div",10)(25,"b"),t.\u0275\u0275text(26),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(28,"div",11),t.\u0275\u0275text(29,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(30,"div",12),t.\u0275\u0275text(31),t.\u0275\u0275pipe(32,"translate"),t.\u0275\u0275pipe(33,"uppercase"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(34,"div",8)(35,"div",9)(36,"div",10)(37,"b"),t.\u0275\u0275text(38),t.\u0275\u0275pipe(39,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(40,"div",11),t.\u0275\u0275text(41,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(42,"div",12),t.\u0275\u0275template(43,Wt,3,4,"span",13),t.\u0275\u0275template(44,Zt,5,10,"ng-template",null,14,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(46,"div",8)(47,"div",9)(48,"div",10)(49,"b"),t.\u0275\u0275text(50),t.\u0275\u0275pipe(51,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(52,"div",11),t.\u0275\u0275text(53,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(54,"div",12),t.\u0275\u0275template(55,Qt,16,16,"div",13),t.\u0275\u0275template(56,te,18,16,"ng-template",null,15,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(58,"div",9)(59,"div",10)(60,"b"),t.\u0275\u0275text(61),t.\u0275\u0275pipe(62,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(63,"div",11),t.\u0275\u0275text(64,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(65,"div",12),t.\u0275\u0275text(66),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(67,"div",16)(68,"div",8),t.\u0275\u0275element(69,"mat-divider"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(70,"div",17)(71,"div",18)(72,"span"),t.\u0275\u0275text(73),t.\u0275\u0275pipe(74,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(75,"mat-slide-toggle",19),t.\u0275\u0275listener("ngModelChange",function(o){return n.isTaskDone=o}),t.\u0275\u0275text(76),t.\u0275\u0275pipe(77,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(78,"div",17)(79,"div",20)(80,"mat-form-field",21)(81,"mat-label"),t.\u0275\u0275text(82),t.\u0275\u0275pipe(83,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(84,"textarea",22),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(85,"div",17)(86,"div",23)(87,"div")(88,"button",24),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275text(89),t.\u0275\u0275pipe(90,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(91,"div")(92,"button",25),t.\u0275\u0275listener("click",function(){return n.save()}),t.\u0275\u0275text(93),t.\u0275\u0275pipe(94,"translate"),t.\u0275\u0275elementEnd()()()()()()()),2&e){const a=t.\u0275\u0275reference(4),o=t.\u0275\u0275reference(45),s=t.\u0275\u0275reference(57);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.isForCertifier)("ngIfElse",a),t.\u0275\u0275advance(14),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(17,25,"DASHBOARD.DUEDATE")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",null==n.data||null==n.data.due_date?null:n.data.due_date.date," "),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(27,27,"DASHBOARD.ASSIGNEDTO"),":"),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate3(" ",null!=n.data&&null!=n.data.user_selection&&null!=n.data.user_selection.user_id&&n.data.user_selection.user_id.civility&&"neutral"===(null==n.data||null==n.data.user_selection||null==n.data.user_selection.user_id?null:n.data.user_selection.user_id.civility)?"":t.\u0275\u0275pipeBind1(32,29,null==n.data||null==n.data.user_selection||null==n.data.user_selection.user_id?null:n.data.user_selection.user_id.civility)," ",null==n.data||null==n.data.user_selection||null==n.data.user_selection.user_id?null:n.data.user_selection.user_id.first_name," ",t.\u0275\u0275pipeBind1(33,31,null==n.data||null==n.data.user_selection||null==n.data.user_selection.user_id?null:n.data.user_selection.user_id.last_name)," "),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(39,33,"DASHBOARD.TASK"),":"),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",!n.isForCertifier)("ngIfElse",o),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(51,35,"DASHBOARD.DESCRIPTION"),":"),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",!n.isForCertifier)("ngIfElse",s),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(62,37,"DASHBOARD.PRIORITY")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(n.data.priority),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(74,39,"TASK.TASKDETAILS.PENDING")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngModel",n.isTaskDone)("ngModelOptions",t.\u0275\u0275pureFunction0(49,ee)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(77,41,"TASK.TASKDETAILS.ACHIEVED")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(83,43,"TASK.TASKDETAILS.ACTIONTAKEN")),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",n.action),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(90,45,"CANCEL")," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",!n.isTaskDone),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(94,47,"SAVE")," ")}},dependencies:[v.Zt,v.Bh,O.lW,Yt.d,w.Hw,P.KE,P.hX,G.Nt,lt.Rr,u.\u0275NgNoValidate,u.DefaultValueAccessor,u.NgControlStatus,u.NgControlStatusGroup,u.NgModel,u.NgForm,u.FormControlDirective,y.xw,y.SQ,y.Wh,y.yH,r.sg,r.O5,I.X$,r.gd],styles:[".header-form[_ngcontent-%COMP%]{padding:18px}.footer-form[_ngcontent-%COMP%]{padding:0 18px 18px}.student-list-scroll[_ngcontent-%COMP%]{overflow-y:scroll;max-height:90px}"]}),i})();var st=p(10830),ct=p(84130),dt=p(79710),ie=p(87746),pt=p(50777),ut=p(44758),mt=p(47957),j=p(99602),_t=p(71948),H=p(88796);function ae(i,l){1&i&&(t.\u0275\u0275elementStart(0,"div",28)(1,"h3",29),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"Add_Task")))}function oe(i,l){1&i&&(t.\u0275\u0275elementStart(0,"div",28)(1,"h3",29),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"Edit_Task")))}function re(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",9)(1,"mat-slide-toggle",30),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.intenalTaskToggleChange(a))}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.internalChecked),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,2,"Internal_Task")," ")}}function le(i,l){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",36),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function se(i,l){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",36),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ce(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",9)(1,"div",11)(2,"ng-select",31),t.\u0275\u0275listener("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.getDataCampus())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,le,3,3,"mat-error",32),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",11)(6,"ng-select",33),t.\u0275\u0275listener("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.getDataLevel())}),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,se,3,3,"mat-error",32),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",9)(10,"div",2)(11,"div",34)(12,"label"),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"mat-slide-toggle",35),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.categoryChange(a))}),t.\u0275\u0275elementStart(16,"span"),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()()()()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(3,13,"School"),"*"),t.\u0275\u0275property("items",e.school)("multiple",!1)("hideSelected",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.form.get("school").errors&&(e.form.get("school").dirty||e.form.get("school").touched)),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(7,15,"Campus"),"*"),t.\u0275\u0275property("items",e.campusList)("multiple",!0)("hideSelected",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.form.get("campus").errors&&(e.form.get("campus").dirty||e.form.get("campus").touched)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(14,17,"User"),":*"),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",e.toggelUsers),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,19,"Category of user")," ")}}function de(i,l){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"USER_TYPES."+(null==e?null:e.name))," ")}}function pe(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",41),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.selectUser(null==o?null:o._id))}),t.\u0275\u0275template(1,de,3,3,"ng-container",12),t.\u0275\u0275elementEnd()}if(2&i){const e=l.$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.name)&&n.toggelUsers.value)}}function ue(i,l){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",36),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function me(i,l){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-form-field",22),t.\u0275\u0275element(2,"input",37),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-autocomplete",38,39),t.\u0275\u0275template(6,pe,2,2,"mat-option",40),t.\u0275\u0275pipe(7,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,ue,3,3,"mat-error",32),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275reference(5),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(3,6,"TUTORIAL_MENU.CATEGORY"),"*"),t.\u0275\u0275property("matAutocomplete",e)("readonly",n.form.get("campus").invalid),t.\u0275\u0275advance(2),t.\u0275\u0275property("displayWith",n.displayWithUserTypes.bind(n)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(7,8,n.filteredUserType)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.form.get("userTypes").errors&&(n.form.get("userTypes").dirty||n.form.get("userTypes").touched))}}function _e(i,l){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==e?null:e.name)," ")}}function he(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",41),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.selectUser(null==o?null:o._id))}),t.\u0275\u0275template(1,_e,3,3,"ng-container",12),t.\u0275\u0275elementEnd()}if(2&i){const e=l.$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("value",e._id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.name)&&!n.toggelUsers.value)}}function ge(i,l){1&i&&(t.\u0275\u0275elementStart(0,"mat-error",36),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function fe(i,l){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-form-field",22),t.\u0275\u0275element(2,"input",42),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-autocomplete",38,43),t.\u0275\u0275template(6,he,2,2,"mat-option",40),t.\u0275\u0275pipe(7,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,ge,3,3,"mat-error",32),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275reference(5),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,6,"User")),t.\u0275\u0275property("matAutocomplete",e)("readonly",n.form.get("campus").invalid&&!n.internalTaskToggle),t.\u0275\u0275advance(2),t.\u0275\u0275property("displayWith",n.displayWithUsers.bind(n)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(7,8,n.filteredUser)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.form.get("users").errors&&(n.form.get("users").dirty||n.form.get("users").touched))}}function Ce(i,l){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ve(i,l){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function be(i,l){1&i&&(t.\u0275\u0275elementStart(0,"div",44),t.\u0275\u0275element(1,"mat-progress-spinner",45),t.\u0275\u0275elementEnd())}let ht=(()=>{class i{constructor(e,n,a,o,s,m,f,V,N,K,et){this.dialogRef=e,this.fb=n,this.parentData=a,this.translate=o,this.permissionsService=s,this.parseStringDatePipe=m,this.authService=f,this.candidateService=V,this.userService=N,this.rncpTitleService=K,this.permissionService=et,this.subs=new k.Y,this.campusList=[],this.toggelUsers=new u.UntypedFormControl(!1),this.internalTaskToggle=!1}ngOnInit(){this.currentUser=this.authService.getLocalStorageUser(),this.isPermission=this.authService.getPermission();const e=this.currentUser?.entities?.find(n=>n?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id,this.initializeForm(),this.getDataForList(),this.today=new Date,this.isDirectorAdmission=!!this.permissionsService.getPermission("Director of Admissions"),this.isMemberAdmission=!!this.permissionsService.getPermission("Member Admission"),this.isOperator=!!this.permissionsService.getPermission("operator_admin")||!!this.permissionsService.getPermission("operator_dir"),this.subs.sink=this.toggelUsers.valueChanges.subscribe(n=>{this.checkListUsers(n)}),this.subs.sink=this.form.get("school").valueChanges.subscribe(n=>{this.form.get("users").patchValue(null,{emitEvent:!1}),this.form.get("userTypes").patchValue(null,{emitEvent:!1}),this.userList=[]}),this.subs.sink=this.translate.onLangChange.subscribe(n=>{this.getAllUsersOperator()})}checkListUsers(e){e?this.getAllUsers():this.getUserSchoolAndCampusSelected()}getAllUsers(){this.userList=[],this.subs.sink=this.userService.getUserTypesAddTasks().subscribe(e=>{if(e){if(this.userList=h.cloneDeep(e),this.parentData.taskData){const n=this.form.get("userTypes").value;this.form.get("userTypes").setValue(n)}this.filteredUserType=this.form.get("userTypes").valueChanges.pipe((0,$.O)(""),(0,g.U)(n=>n?this.userList.filter(a=>a&&a?a.name.toLowerCase().includes(n.toString().toLowerCase()):""):this.userList))}},e=>{this.authService.postErrorLog(e),c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getAllUsersOperator(){this.userList=[],this.subs.sink=this.userService.getAllUserOperator().subscribe(e=>{if(e){if(console.log("user",e),this.userList=e.map(n=>({_id:n._id,name:"neutral"!==n.civility?this.translate.instant(n.civility)+" "+n.last_name+" "+n.first_name:n.last_name+" "+n.first_name})),this.parentData.taskData){const n=this.form.get("users").value;this.form.get("users").setValue(n)}this.filteredUser=this.form.get("users").valueChanges.pipe((0,$.O)(""),(0,g.U)(n=>n?this.userList.filter(a=>a&&a?a.name.toLowerCase().includes(n.toString().toLowerCase()):""):this.userList))}},e=>{this.authService.postErrorLog(e),c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getUserSchoolAndCampusSelected(){this.userList=[],this.form.get("school").value&&this.form.get("campus").value?this.subs.sink=this.userService.getUserBasedonSchoolandCampuses(this.form.get("school").value,this.form.get("campus").value).subscribe(e=>{if(e){const n=e.map(a=>({_id:a._id,name:"neutral"!==a.civility?a.last_name+" "+a.first_name+" "+this.translate.instant(a.civility):a.last_name+" "+a.first_name}));if(this.userList=h.cloneDeep(n),this.parentData.taskData){const a=this.form.get("users").value;this.form.get("users").setValue(a)}this.filteredUser=this.form.get("users").valueChanges.pipe((0,$.O)(""),(0,g.U)(a=>a?this.userList.filter(o=>o&&o?o.name.toLowerCase().includes(a.toString().toLowerCase()):""):this.userList))}},e=>{this.authService.postErrorLog(e),c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.userList=[]}initializeForm(){this.form=this.fb.group({school:[null,u.Validators.required],campus:[null,u.Validators.required],users:[null],userTypes:[null],priority:["1",u.Validators.required],due_date:["",u.Validators.required],description:["",u.Validators.required]})}selectUser(e){this.selectedUserId=e}categoryChange(e){e.checked?(this.form.get("users").patchValue(null),this.form.get("users").updateValueAndValidity(),this.form.get("users").clearValidators(),this.form.get("users").updateValueAndValidity(),this.form.get("userTypes").setValidators([u.Validators.required]),this.form.get("userTypes").updateValueAndValidity()):(this.form.get("userTypes").patchValue(null),this.form.get("userTypes").updateValueAndValidity(),this.form.get("userTypes").clearValidators(),this.form.get("userTypes").updateValueAndValidity(),this.form.get("users").setValidators([u.Validators.required]),this.form.get("users").updateValueAndValidity())}getDataSchool(){this.school=[],this.campusList=[],this.userList=[],this.school=this.listObjective.sort((e,n)=>e.short_name>n.short_name?1:n.short_name>e.short_name?-1:0)}getDataForList(){this.subs.sink=this.isDirectorAdmission?this.candidateService.GetDataForImportObjectives(this.currentUser&&this.currentUser.entities&&this.currentUser.entities[0]?this.currentUser.entities[0].candidate_school:"",this.currentUserTypeId).subscribe(n=>{if(n&&(this.listObjective=n,this.getDataSchool(),this.parentData.taskData)){this.patchvalue();const a=this.parentData.taskData;a&&a.type&&"internal_task"===a.type&&this.getAllUsersOperator()}},n=>{this.authService.postErrorLog(n),c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.candidateService.GetDataForImportObjectives("",this.currentUserTypeId).subscribe(n=>{if(n&&(this.listObjective=n,this.getDataSchool(),this.parentData.taskData)){this.patchvalue();const a=this.parentData.taskData;a&&a.type&&"internal_task"===a.type&&this.getAllUsersOperator()}},n=>{this.authService.postErrorLog(n),c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDataPatchCampus(){this.campusList=[],this.realCampusList=[];const e=this.form.get("school").value;if(e){const n=this.listObjective.filter(o=>e.includes(o._id)),a={_id:"ALL",name:this.translate.instant("ALL")};n.filter((o,s)=>{o.campuses&&o.campuses.length&&o.campuses.filter((m,f)=>{this.campusList.push(m),this.realCampusList.push(m)})}),this.campusList=h.uniqBy(this.campusList,"_id").sort((o,s)=>o.name>s.name?1:s.name>o.name?-1:0),this.campusList.unshift(a)}else this.campusList=[]}getDataCampus(){this.campusList=[],this.realCampusList=[],this.form.get("campus").setValue(null);const e=this.form.get("school").value;if(e){const n=this.listObjective.filter(o=>e.includes(o._id)),a={_id:"ALL",name:this.translate.instant("ALL")};n.filter((o,s)=>{o.campuses&&o.campuses.length&&o.campuses.filter((m,f)=>{this.campusList.push(m),this.realCampusList.push(m)})}),this.campusList=h.uniqBy(this.campusList,"_id").sort((o,s)=>o.name>s.name?1:s.name>o.name?-1:0),this.campusList.unshift(a)}else this.campusList=[]}getDataLevel(){let e=h.cloneDeep(this.form.get("campus").value);if(e=e.filter(n=>"ALL"===n||"Tous"===n),e&&e.length&&("ALL"===e[0]||"Tous"===e[0])){const n=[];this.realCampusList.filter(o=>"ALL"!==o._id&&"Tous"!==o._id).forEach(o=>{n.push(o._id)}),this.form.get("campus").patchValue(n),this.getUserSchoolAndCampusSelected()}else this.getUserSchoolAndCampusSelected()}closeDialog(){this.dialogRef.close()}submit(){if(this.form.invalid)c().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),html:this.translate.instant("Invalid_Form_Warning.TEXT"),confirmButtonText:this.translate.instant("Invalid_Form_Warning.BUTTON")}),this.form.markAllAsTouched();else{if("Add"===this.parentData.type){const e=this.createPayload();this.subs.sink=this.rncpTitleService.createTaskNonSchool(e).subscribe(n=>{c().fire({title:this.translate.instant("TASKCREATED.TITLE"),html:this.translate.instant("TASKCREATED.TEXT"),allowEscapeKey:!0,type:"success",confirmButtonText:this.translate.instant("TASKCREATED.BUTTON")}).then(a=>{this.dialogRef.close(!0)})},n=>{this.authService.postErrorLog(n),c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}if("Edit"===this.parentData.type){const e=this.createPayload();e.rncp=this.parentData.taskData.rncp,this.subs.sink=this.rncpTitleService.updateTask(e,this.parentData.taskData._id).subscribe(n=>{c().fire({title:this.translate.instant("TASKCREATED.TITLE"),html:this.translate.instant("TASKCREATED.TEXT"),allowEscapeKey:!0,type:"success",confirmButtonText:this.translate.instant("TASKCREATED.BUTTON")}).then(a=>{this.dialogRef.close(!0)})},n=>{this.authService.postErrorLog(n),c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}}createPayload(){const e=h.cloneDeep(this.form.value);return e.user_selection=this.toggelUsers.value?{selection_type:"user_type",user_type_id:e.userTypes}:{selection_type:"user",user_id:e.users},e.priority=Number(e.priority),e.created_by=this.currentUser._id,e.created_date={date:this.getCurrentUtcDate(),time:this.getCurrentUtcTime()},e.due_date={date:B(e.due_date).format("DD/MM/YYYY"),time:"15:59"},this.internalTaskToggle&&(e.type="internal_task"),e.campuses=e.campus,delete e.campus,delete e.users,delete e.userTypes,e}getCurrentUtcDate(){return B.utc().format("DD/MM/YYYY")}getCurrentUtcTime(){return B.utc().format("HH:mm")}patchvalue(){const e=h.cloneDeep(this.parentData.taskData);e&&e.school&&(e.school=e.school._id),e&&e.campuses&&e.campuses.length&&(e.campus=e.campuses.map(n=>n._id)),e&&e.user_selection&&e.user_selection.user_id&&(e.users=e.user_selection.user_id._id),e&&e.user_selection&&e.user_selection.user_type_id&&(this.toggelUsers.setValue(!0),e.userTypes=e.user_selection.user_type_id._id),e&&e.type&&"internal_task"===e.type&&(this.internalChecked=!0,this.internalTaskToggle=!0,this.form.get("school").clearValidators(),this.form.get("school").updateValueAndValidity(),this.form.get("school").setErrors(null),this.form.get("campus").clearValidators(),this.form.get("campus").updateValueAndValidity(),this.form.get("campus").setErrors(null)),e.due_date=this.parseStringDatePipe.transformStringToDate(e.due_date.date),e.priority=e.priority.toString(),this.form.patchValue(e),this.getDataPatchCampus(),this.toggelUsers.value?this.getAllUsers():this.getUserSchoolAndCampusSelected()}intenalTaskToggleChange(e){this.internalTaskToggle=e.checked,this.form.get("users").patchValue(null,{emitEvent:!1}),this.userList=[],this.internalTaskToggle?(this.getAllUsersOperator(),this.form.get("school").clearValidators(),this.form.get("school").updateValueAndValidity(),this.form.get("school").setErrors(null),this.form.get("campus").clearValidators(),this.form.get("campus").updateValueAndValidity(),this.form.get("campus").setErrors(null),this.form.get("campus").patchValue(null,{emitEvent:!1}),this.form.get("school").patchValue(null,{emitEvent:!1})):(this.form.get("school").setValidators(u.Validators.required),this.form.get("campus").setValidators(u.Validators.required),this.getUserSchoolAndCampusSelected())}displayWithUsers(e){if(e){const n=this.userList.find(a=>a._id.toLowerCase().trim().includes(e));return n?n.name:e}return e}displayWithUserTypes(e){if(e){const n=this.userList.find(a=>a._id.toLowerCase().trim().includes(e));return n?this.toggelUsers.value?this.translate.instant("USER_TYPES."+n.name):n.name:e}return e}setUserValidator(e){e.checked?(this.form.get("users").setErrors(null),this.form.get("users").clearValidators(),this.form.get("users").updateValueAndValidity()):(this.form.get("userTypes").setErrors(null),this.form.get("userTypes").clearValidators(),this.form.get("userTypes").updateValueAndValidity())}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(x.so),t.\u0275\u0275directiveInject(u.UntypedFormBuilder),t.\u0275\u0275directiveInject(x.WI),t.\u0275\u0275directiveInject(I.sK),t.\u0275\u0275directiveInject(ct.YI),t.\u0275\u0275directiveInject(st.n),t.\u0275\u0275directiveInject(d.e),t.\u0275\u0275directiveInject(dt.o),t.\u0275\u0275directiveInject(ie.K),t.\u0275\u0275directiveInject(pt.r),t.\u0275\u0275directiveInject(ut.$))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-add-manual-task-dialog"]],features:[t.\u0275\u0275ProvidersFeature([st.n])],decls:54,vars:29,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],["svgIcon","tick-checkbox",2,"margin-bottom","3px"],["class","p-col-9 no-padding",4,"ngIf"],[1,"w-100","no-padding"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",3,"formGroup"],[1,"p-col-12","no-padding"],["class","p-col-12 no-padding",4,"ngIf"],[1,"p-col-12","pad-y-none"],[4,"ngIf"],[1,"p-col-6"],["formControlName","priority"],["value","1",1,"radio-marging-left","m-right-10","m-left-10"],["value","2",1,"radio-marging-left","m-right-10"],["value","3",1,"radio-marging-left","m-right-10"],[3,"hideRequiredMarker"],["matInput","","readonly","","formControlName","due_date",1,"form-field",3,"min","placeholder","matDatepicker","click"],["matSuffix","",3,"for"],["dueDatePick",""],[1,"full-wid"],["matInput","","formControlName","description","required","",3,"placeholder"],["mat-dialog-actions","",1,"justify-content-end","mr-10"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-button","","mat-raised-button","","color","primary",1,"mr-0",3,"click"],["class","loading-indicator",4,"ngIf"],[1,"p-col-9","no-padding"],[1,"dialogTitle"],[3,"checked","change"],["bindLabel","short_name","bindValue","_id","clearAllText","Clear","formControlName","school",1,"mrgn-btn",3,"items","multiple","hideSelected","placeholder","change"],["style","margin-bottom: 10px",4,"ngIf"],["bindLabel","name","bindValue","_id","clearAllText","Clear","formControlName","campus",1,"mrgn-btn",3,"items","multiple","hideSelected","placeholder","change"],[1,"p-col-12"],["color","accent",1,"toggle",3,"formControl","change"],[2,"margin-bottom","10px"],["matInput","","formControlName","userTypes","required","",3,"placeholder","matAutocomplete","readonly"],[3,"displayWith"],["autoUserTypes","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["matInput","","formControlName","users","required","",3,"placeholder","matAutocomplete","readonly"],["autoUser","matAutocomplete"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){if(1&e){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275element(4,"mat-icon",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,ae,4,3,"div",5),t.\u0275\u0275template(6,oe,4,3,"div",5),t.\u0275\u0275elementStart(7,"div",6)(8,"button",7),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275elementStart(9,"mat-icon"),t.\u0275\u0275text(10,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(11,"div",8)(12,"div",2)(13,"div",9)(14,"div",2),t.\u0275\u0275template(15,re,4,4,"div",10),t.\u0275\u0275template(16,ce,19,21,"div",10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(17,"div",11),t.\u0275\u0275template(18,me,9,10,"ng-container",12),t.\u0275\u0275template(19,fe,9,10,"ng-container",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"div",9)(21,"div",2)(22,"div",13)(23,"span"),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(26,"mat-radio-group",14)(27,"mat-radio-button",15),t.\u0275\u0275text(28,"1"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(29,"mat-radio-button",16),t.\u0275\u0275text(30,"2"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(31,"mat-radio-button",17),t.\u0275\u0275text(32,"3"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(33,"div",13)(34,"mat-form-field",18)(35,"input",19),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(a);const s=t.\u0275\u0275reference(39);return t.\u0275\u0275resetView(s.open())}),t.\u0275\u0275pipe(36,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(37,"mat-datepicker-toggle",20)(38,"mat-datepicker",null,21),t.\u0275\u0275template(40,Ce,3,3,"mat-error",12),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(41,"div",11)(42,"mat-form-field",22),t.\u0275\u0275element(43,"textarea",23),t.\u0275\u0275pipe(44,"translate"),t.\u0275\u0275template(45,ve,3,3,"mat-error",12),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(46,"div",24)(47,"button",25),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275text(48),t.\u0275\u0275pipe(49,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(50,"button",26),t.\u0275\u0275listener("click",function(){return n.submit()}),t.\u0275\u0275text(51),t.\u0275\u0275pipe(52,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(53,be,2,0,"div",27)}if(2&e){const a=t.\u0275\u0275reference(39);t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf","Edit"!==n.parentData.type),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","Edit"===n.parentData.type),t.\u0275\u0275advance(5),t.\u0275\u0275property("formGroup",n.form),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",n.isOperator),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.internalTaskToggle),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.toggelUsers.value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.toggelUsers.value),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(25,19,"Priority")),t.\u0275\u0275advance(10),t.\u0275\u0275property("hideRequiredMarker",!0),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(36,21,"Due Date"),"*"),t.\u0275\u0275property("min",n.today)("matDatepicker",a),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",a),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.form.get("due_date").errors),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(44,23,"Description")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.form.get("description").errors),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(49,25,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(52,27,"Submit")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse)}},dependencies:[r.sg,r.O5,v.Zt,v.Bh,mt.XC,mt.ZL,b.ey,O.lW,j.Mq,j.hl,j.nW,x.xY,x.H8,w.Hw,P.TO,P.KE,P.R9,G.Nt,T.Ou,_t.VQ,_t.U0,lt.Rr,u.DefaultValueAccessor,u.NgControlStatus,u.NgControlStatusGroup,u.RequiredValidator,u.FormControlDirective,u.FormGroupDirective,u.FormControlName,H.w9,r.Ov,I.X$],styles:[".dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black}.no-padding[_ngcontent-%COMP%]{padding:0}.float-right[_ngcontent-%COMP%]{float:right}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.mat-dialog-content[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:15px;padding:0}.w-30[_ngcontent-%COMP%]{width:30px}.w-100[_ngcontent-%COMP%]{width:100px}.mt-5px[_ngcontent-%COMP%]{margin-top:5px}.m-left-10[_ngcontent-%COMP%]{margin-left:10px}.m-right-10[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#000;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:20px}.p-col-3[_ngcontent-%COMP%]{display:inherit}.toggle[_ngcontent-%COMP%]{margin-left:25px}.mat-icon[_ngcontent-%COMP%]{max-width:none!important;max-height:none!important}"]}),i})();var Te=p(95017),xe=p(91013),ye=p(9035);let Se=(()=>{class i{constructor(e){this.apollo=e,this.groupCreationSource=new Y.X(null),this.groupCreationData$=this.groupCreationSource.asObservable(),this.groupCreationFirst=new Y.X(null),this.groupCreationFirst$=this.groupCreationFirst.asObservable(),this.studentListSource=new Y.X(null),this.studentListData=this.studentListSource.asObservable(),this.groupListSource=new Y.X(null),this.groupListData=this.groupListSource.asObservable()}setGroupCreationData(e){h.isEqual(e,this.groupCreationSource.value)||this.groupCreationSource.next(e)}setStudentListData(e){h.isEqual(e,this.studentListSource.value)||this.studentListSource.next(e)}setGroupFirstData(e){h.isEqual(e,this.groupCreationFirst.value)||this.groupCreationFirst.next(e)}setGroupListData(e){h.isEqual(e,this.groupListSource.value)||this.groupListSource.next(e)}resetGroupCreationData(){this.groupCreationSource.next(null)}resetStudentListData(){this.studentListSource.next(null)}resetGroupListData(){this.groupListSource.next(null)}resetGroupFirstData(){this.groupCreationFirst.next(null)}getGroupCreationDataNoSub(){return this.groupCreationSource.value}getGroupCreationFirstDataNoSub(){return this.groupCreationFirst.value}getStudentListDataNoSub(){return this.studentListSource.value}getGroupListDataNoSub(){return this.groupListSource.value}getTitle(e){return this.apollo.query({query:_.ZP`
      query getTitleDataOfGroupCreation {
        GetOneTitle(_id: "${e}") {
          _id
          short_name
          long_name
        }
      }
      `,fetchPolicy:"network-only"}).pipe((0,g.U)(n=>n.data.GetOneTitle))}getTest(e){return this.apollo.query({query:_.ZP`
      query getTestDataOfGroupCreation {
        GetOneTest(_id: "${e}") {
          _id
          name
          date_type
          block_type
          date {
            date_utc
            time_utc
          }
          correction_grid {
            group_detail {
              no_of_student
              min_no_of_student
            }
          }
          corrector_assigned {
            corrector_id {
              _id
              first_name
              last_name
            }
            students {
              _id
              first_name
              last_name
            }
          }
          class_id {
            type_evaluation
          }
          block_of_competence_condition_id {
            _id
            specialization {
              _id
            }
          }
        }
      }
      `,fetchPolicy:"network-only"}).pipe((0,g.U)(n=>n.data.GetOneTest))}getTask(e){return this.apollo.query({query:_.ZP`
      query getTaskDataOfGroupCreation{
        GetOneTask(_id: "${e}") {
          _id
          description
          task_status
          user_selection {
            user_id {
              _id
              first_name
              last_name
            }
          }
          school {
            _id
          }
          class_id {
            _id
          }
        }
      }
      `,fetchPolicy:"network-only"}).pipe((0,g.U)(n=>n.data.GetOneTask))}getTestProgress(e,n){return this.apollo.query({query:_.ZP`
      query getTestProgressOfGroupCreation{
        GetTestProgress(_id: "${e}", school_id: "${n}") {
          document_expected_done_count {
            document_expected_id
            count
          }
          create_group_done {
            _id
            short_name
          }
          assign_corrector_done {
            _id
          }
          mark_entry_done {
            _id
          }
          validate_done {
            _id
          }
          school_count
        }
      }
      `,fetchPolicy:"network-only"}).pipe((0,g.U)(a=>a.data.GetTestProgress))}CheckIfTestCorrectionMarkExistsForStudentGroupTest(e,n){return this.apollo.query({query:_.ZP`
      query CheckIfTestCorrectionMarkExistsForStudentGroupTestOfGroupCreation{
        CheckIfTestCorrectionMarkExistsForStudentGroupTest(test_id: "${e}", school_id: "${n}")
      }
      `,fetchPolicy:"network-only"}).pipe((0,g.U)(a=>a.data.CheckIfTestCorrectionMarkExistsForStudentGroupTest))}getAllStudentForGroupCreation(e,n,a,o,s){return this.apollo.query({query:_.ZP`
      query getStudentListOfGroupCreation{
        GetAllStudents(
          school: "${e}",
          rncp_title: "${n}",
          status: active_completed,
          current_class: "${a}",
          ${o?`specialization_id: "${o}"`:""}
          ${s?`block_of_competence_condition_id: "${s}"`:""}
        ) {
          _id
          first_name
          last_name
        }
      }
      `,fetchPolicy:"network-only"}).pipe((0,g.U)(m=>m.data.GetAllStudents))}getTestGroups(e,n){return this.apollo.query({query:_.ZP`
      query getAllGroupsOfGroupCreation{
        GetAllTestGroups(test_id: "${e}", school_id: "${n}") {
          _id
          test {
            _id
          }
          name
          students {
            student_id {
              _id
            }
          }
          school {
            _id
          }
          rncp {
            _id
          }
          is_published
        }
      }
      `,fetchPolicy:"network-only"}).pipe((0,g.U)(a=>a.data.GetAllTestGroups))}createTestGroups(e){return this.apollo.mutate({mutation:_.ZP`
          mutation CreateGroupsForTest($test_group_inputs: [TestGroupInput]) {
            CreateTestGroups(test_group_inputs: $test_group_inputs) {
              _id
            }
          }
        `,variables:{test_group_inputs:e}}).pipe((0,g.U)(n=>n.data.CreateTestGroups))}updateTestGroups(e){return this.apollo.mutate({mutation:_.ZP`
          mutation UpdateGroupsForTest($test_group_inputs: [TestGroupUpdateInput]) {
            UpdateTestGroups(test_group_inputs: $test_group_inputs) {
              _id
            }
          }
        `,variables:{test_group_inputs:e}}).pipe((0,g.U)(n=>n.data.UpdateTestGroups))}deleteTestGroups(e){return this.apollo.mutate({mutation:_.ZP`
          mutation DeleteTestGroupsForGroupCreation($_ids: [ID]!) {
            DeleteTestGroups(_ids: $_ids)
          }
        `,variables:{_ids:e}}).pipe((0,g.U)(n=>n.data.DeleteTestGroups))}createAutomaticTestGroups(e,n){return this.apollo.mutate({mutation:_.ZP`
      mutation createAutomaticTestGroupsForGroupCreation{
        CreateAutomaticTestGroup(test_id: "${e}", school_id: "${n}") {
          _id
          test {
            _id
          }
          name
          students {
            student_id {
              _id
            }
          }
          school {
            _id
          }
          rncp {
            _id
          }
        }
      }
      `}).pipe((0,g.U)(a=>a.data.CreateAutomaticTestGroup))}markDoneTask(e,n,a){return this.apollo.mutate({mutation:_.ZP`
          mutation doneTaskCreateGroup($done_task_id: ID!, $lang: String, $nextAssignedGroups: [ID!]) {
            DoneAndStartNextTask(done_task_id: $done_task_id, lang: $lang, next_assigned_groups: $nextAssignedGroups) {
              _id
            }
          }
        `,variables:{done_task_id:e,lang:n,nextAssignedGroups:a}}).pipe((0,g.U)(o=>o.data.DoneAndStartNextTask))}getAllTest(e,n,a){return this.apollo.query({query:_.ZP`
          query getAllTestForDuplicateDropdown($rncp_title_id: ID, $class_id: ID, $school_id: ID, $is_group_test: Boolean) {
            GetAllTests(rncp_title_id: $rncp_title_id, class_id: $class_id, school_id: $school_id, is_group_test: $is_group_test) {
              _id
              name
            }
          }
        `,variables:{rncp_title_id:e,class_id:n,school_id:a,is_group_test:!0},fetchPolicy:"network-only"}).pipe((0,g.U)(o=>o.data.GetAllTests))}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275inject(J._M))},i.\u0275prov=t.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Oe=p(25046),De=p(22437),Ie=p(67154),Pe=p(56709),tt=p(28255),ke=p(10266),Ee=p(24784),Me=p(75223);function Ae(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",54),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.addTask())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Add_Task")," "))}function Fe(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",47)(1,"button",48),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementStart(5,"mat-icon"),t.\u0275\u0275text(6,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"mat-menu",49,50),t.\u0275\u0275template(9,Ae,3,3,"button",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"button",52),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.reset())}),t.\u0275\u0275element(11,"mat-icon",53),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(8),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(2,7,"Action")," "),t.\u0275\u0275property("matMenuTriggerFor",e)("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,9,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",n.permissionService.addTaskInTaskTablePerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",n.isWaitingForResponse),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(13,11,"RESET")," ")}}function Le(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",55)(1,"mat-form-field",56)(2,"input",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275reference(5);return t.\u0275\u0275resetView(a.open())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"mat-datepicker-toggle",58)(4,"mat-datepicker",null,59),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(5),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",n.dueDateFilter)("matDatepicker",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("for",e)}}function we(i,l){if(1&i&&(t.\u0275\u0275element(0,"input",63),t.\u0275\u0275text(1)),2&i){const e=l.item,n=l.item$;t.\u0275\u0275propertyInterpolate1("id","item-",l.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function Re(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",65),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllDataTable(a,"task_statuses"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelectedTable("task_statuses"))("indeterminate",e.isSomeDropdownSelectedTable("task_statuses")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Be(i,l){1&i&&t.\u0275\u0275template(0,Re,3,5,"ng-template",64)}function Ue(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",55)(1,"ng-select",60),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setStatusFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,we,2,3,"ng-template",61),t.\u0275\u0275template(5,Be,1,0,null,62),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.statusList)("appendTo","body")("multiple",!0)("formControl",e.taskStatusFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.statusList?null:e.statusList.length)}}function Ve(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"th",55)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",66),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.createdByFilter)}}function $e(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"th",55)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",66),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.assignedFilter)}}function Ne(i,l){if(1&i&&(t.\u0275\u0275element(0,"input",63),t.\u0275\u0275text(1)),2&i){const e=l.item,n=l.item$;t.\u0275\u0275propertyInterpolate1("id","item-",l.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function Ge(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",65),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllDataTable(a,"priorities"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelectedTable("priorities"))("indeterminate",e.isSomeDropdownSelectedTable("priorities")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function je(i,l){1&i&&t.\u0275\u0275template(0,Ge,3,5,"ng-template",64)}function qe(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",55)(1,"ng-select",60),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setPriorityFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,Ne,2,3,"ng-template",61),t.\u0275\u0275template(5,je,1,0,null,62),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.priorityList)("appendTo","body")("multiple",!0)("formControl",e.priorityFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.priorityList?null:e.priorityList.length)}}function Ye(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",55)(1,"mat-form-field",56)(2,"input",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275reference(5);return t.\u0275\u0275resetView(a.open())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"mat-datepicker-toggle",58)(4,"mat-datepicker",null,67),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(5),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",n.createdDateFilter)("matDatepicker",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("for",e)}}function He(i,l){if(1&i&&(t.\u0275\u0275element(0,"input",63),t.\u0275\u0275text(1)),2&i){const e=l.item,n=l.item$;t.\u0275\u0275propertyInterpolate1("id","item-",l.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.short_name," ")}}function Ke(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",65),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllDataTable(a,"school_ids"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelectedTable("school_ids"))("indeterminate",e.isSomeDropdownSelectedTable("school_ids")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function We(i,l){1&i&&t.\u0275\u0275template(0,Ke,3,5,"ng-template",64)}function Ze(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",55)(1,"ng-select",68),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setSchoolFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,He,2,3,"ng-template",61),t.\u0275\u0275template(5,We,1,0,null,62),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.filterSchoolList)("appendTo","body")("multiple",!0)("formControl",e.schoolFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.filterSchoolList?null:e.filterSchoolList.length)}}function ze(i,l){if(1&i&&(t.\u0275\u0275element(0,"input",63),t.\u0275\u0275text(1)),2&i){const e=l.item,n=l.item$;t.\u0275\u0275propertyInterpolate1("id","item-",l.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function Qe(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",65),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllDataTable(a,"campuses"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelectedTable("campuses"))("indeterminate",e.isSomeDropdownSelectedTable("campuses")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Xe(i,l){1&i&&t.\u0275\u0275template(0,Qe,3,5,"ng-template",64)}function Je(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",55)(1,"ng-select",69),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setCampusFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,ze,2,3,"ng-template",61),t.\u0275\u0275template(5,Xe,1,0,null,62),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.filterCampusList)("appendTo","body")("multiple",!0)("formControl",e.campusFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.filterCampusList?null:e.filterCampusList.length)}}function tn(i,l){if(1&i&&(t.\u0275\u0275element(0,"input",63),t.\u0275\u0275text(1)),2&i){const e=l.item,n=l.item$;t.\u0275\u0275propertyInterpolate1("id","item-",l.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function en(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",65),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(o.selectAllDataTable(a,"descriptions"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelectedTable("descriptions"))("indeterminate",e.isSomeDropdownSelectedTable("descriptions")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function nn(i,l){1&i&&t.\u0275\u0275template(0,en,3,5,"ng-template",64)}function an(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",55)(1,"ng-select",70),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.setTaskTypeFilter())}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,tn,2,3,"ng-template",61),t.\u0275\u0275template(5,nn,1,0,null,62),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,9,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,11,"search")),t.\u0275\u0275property("items",e.taskTypeList)("appendTo","body")("multiple",!0)("formControl",e.descriptionFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.statusList?null:e.statusList.length)}}function on(i,l){1&i&&t.\u0275\u0275element(0,"th",55)}function rn(i,l){1&i&&t.\u0275\u0275element(0,"th",71)}function ln(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",71)(1,"mat-checkbox",72),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?o.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.showOptions("all",""))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function sn(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",73)(1,"mat-checkbox",74),t.\u0275\u0275listener("click",function(a){return a.stopPropagation()})("change",function(a){const s=t.\u0275\u0275restoreView(e).$implicit,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?m.selection.toggle(s._id):null)})("change",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.showOptions("one",o))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=l.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(null==e?null:e._id)||n.isCheckedAll&&!n.dataUnselectUser.includes(null==e?null:e._id))("aria-label",n.checkboxLabel(e))}}function cn(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",75),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"TASK.Due_Date")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"TASK.Due_Date")))}function dn(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",76),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",n.translateDate(null==e?null:e.due_date)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.translateDate(null==e?null:e.due_date)," ")}}function pn(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",75),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"TASK.Status")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"TASK.Status")))}function un(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",76),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit;t.\u0275\u0275propertyInterpolate1("matTooltip"," ",t.\u0275\u0275pipeBind1(1,2,"TASK."+e.task_status),""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"TASK."+e.task_status)," ")}}function mn(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",75),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"TASK.From")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"TASK.From")))}function _n(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",76),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.created_by?null:e.created_by.last_name)," ",null==e||null==e.created_by?null:e.created_by.first_name," \n          ",null!=e&&null!=e.created_by&&e.created_by.civility&&"neutral"===(null==e||null==e.created_by?null:e.created_by.civility)?"":t.\u0275\u0275pipeBind1(2,8,null==e||null==e.created_by?null:e.created_by.civility),"\n          "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.created_by?null:e.created_by.last_name)," ",null==e||null==e.created_by?null:e.created_by.first_name," ",null!=e&&null!=e.created_by&&e.created_by.civility&&"neutral"===(null==e||null==e.created_by?null:e.created_by.civility)?"":t.\u0275\u0275pipeBind1(5,12,null==e||null==e.created_by?null:e.created_by.civility)," ")}}function hn(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",75),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"TASK.Assigned_To")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"TASK.Assigned_To")))}function gn(i,l){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(2,3,null==e.user_selection||null==e.user_selection.user_id?null:e.user_selection.user_id.last_name)," ",null==e.user_selection||null==e.user_selection.user_id?null:e.user_selection.user_id.first_name," ",null!=e&&null!=e.user_selection&&null!=e.user_selection.user_id&&e.user_selection.user_id.civility&&"neutral"===(null==e||null==e.user_selection||null==e.user_selection.user_id?null:e.user_selection.user_id.civility)?"":t.\u0275\u0275pipeBind1(3,5,null==e||null==e.user_selection||null==e.user_selection.user_id?null:e.user_selection.user_id.civility)," ")}}function fn(i,l){if(1&i&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"translate")),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(1,1,null==e||null==e.user_selection||null==e.user_selection.user_type_id?null:e.user_selection.user_type_id.name)," ")}}function Cn(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",76),t.\u0275\u0275template(1,gn,4,7,"ng-container",77),t.\u0275\u0275template(2,fn,2,3,"ng-template",null,78,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit,n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",a.getToolTipUser(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.user_selection?null:e.user_selection.user_id)("ngIfElse",n)}}function vn(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",75),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",79),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Priority")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"P")))}function bn(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",76),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.priority),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e?null:e.priority)}}function Tn(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",75),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"TASK.Created")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"TASK.Created")))}function xn(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",76),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",n.translateDate(null==e?null:e.created_date)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.translateDate(null==e?null:e.created_date)," ")}}function yn(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",75),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"TASK.School")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"TASK.School")))}function Sn(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",80)(1,"span",81),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=l.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",null==e||null==e.school?null:e.school.short_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.school?null:e.school.short_name," ")}}function On(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"TASK.Campus")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"TASK.Campus")))}function Dn(i,l){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",85),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=l.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function In(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",83),t.\u0275\u0275template(1,Dn,3,1,"ng-container",84),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.renderTooltipCampuses(null==e?null:e.campuses)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e?null:e.campuses)}}function Pn(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Description")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Description")))}function kn(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span",81),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate4("matTooltip","\n            ",t.\u0275\u0275pipeBind1(1,8,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ",null==e||null==e.candidate_id?null:e.candidate_id.first_name," - ",t.\u0275\u0275pipeBind1(2,10,"Step validation required")," - ",null==e?null:e.admission_process_step_name,""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(4,12,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ",null==e||null==e.candidate_id?null:e.candidate_id.first_name," - ",t.\u0275\u0275pipeBind1(5,14,"Step validation required")," - ",null==e?null:e.admission_process_step_name," ")}}function En(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span",89),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate4("matTooltip","\n            ",t.\u0275\u0275pipeBind1(1,8,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ",null==e||null==e.candidate_id?null:e.candidate_id.first_name," ",null!=e&&null!=e.candidate_id&&e.candidate_id.civility?" - ":""," ",t.\u0275\u0275pipeBind1(2,10,"PENDING_TASK_TYPE.Validate Student Admission Process"),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(4,12,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ",null==e||null==e.candidate_id?null:e.candidate_id.first_name," ",null!=e&&null!=e.candidate_id&&e.candidate_id.civility?" - ":""," ",t.\u0275\u0275pipeBind1(5,14,"PENDING_TASK_TYPE.Validate Student Admission Process")," ")}}function Mn(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span",89),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate4("matTooltip","",t.\u0275\u0275pipeBind1(1,8,null==e||null==e.form_process_id?null:e.form_process_id.last_name)," ",null==e||null==e.form_process_id?null:e.form_process_id.first_name," ",null!=e&&null!=e.form_process_id&&e.form_process_id.civility?" - ":""," ",t.\u0275\u0275pipeBind1(2,10,"Validate Contract Process Step"),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(4,12,null==e||null==e.form_process_id?null:e.form_process_id.last_name)," ",null==e||null==e.form_process_id?null:e.form_process_id.first_name," ",null!=e&&null!=e.form_process_id&&e.form_process_id.civility?" - ":""," ",t.\u0275\u0275pipeBind1(5,14,"Validate Contract Process Step")," ")}}function An(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span",89),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate4("matTooltip","",t.\u0275\u0275pipeBind1(1,8,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ",null==e||null==e.candidate_id?null:e.candidate_id.first_name," ",null!=e&&null!=e.candidate_id&&e.candidate_id.civility?" - ":""," ",t.\u0275\u0275pipeBind1(2,10,"Validate FC Contract"),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(4,12,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ",null==e||null==e.candidate_id?null:e.candidate_id.first_name," ",null!=e&&null!=e.candidate_id&&e.candidate_id.civility?" - ":""," ",t.\u0275\u0275pipeBind1(5,14,"Validate FC Contract")," ")}}function Fn(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span",89),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate4("matTooltip","",t.\u0275\u0275pipeBind1(1,8,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ",null==e||null==e.candidate_id?null:e.candidate_id.first_name," ",null!=e&&null!=e.candidate_id&&e.candidate_id.civility?" - ":""," ",t.\u0275\u0275pipeBind1(2,10,"Validate One Time Form"),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate4(" ",t.\u0275\u0275pipeBind1(4,12,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ",null==e||null==e.candidate_id?null:e.candidate_id.first_name," ",null!=e&&null!=e.candidate_id&&e.candidate_id.civility?" - ":""," ",t.\u0275\u0275pipeBind1(5,14,"Validate One Time Form")," ")}}function Ln(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span",81),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","\n            ",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.candidate_id?null:e.candidate_id.last_name),"\n            ",null==e||null==e.candidate_id?null:e.candidate_id.first_name," - ",t.\u0275\u0275pipeBind1(2,8,null==e?null:e.description),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ",null==e||null==e.candidate_id?null:e.candidate_id.first_name," - ",t.\u0275\u0275pipeBind1(5,12,null==e?null:e.description)," ")}}function wn(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span",81),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate4("matTooltip","\n            ","neutral"===(null==e||null==e.contract_process?null:e.contract_process.civility)?"":t.\u0275\u0275pipeBind1(1,8,null==e||null==e.contract_process?null:e.contract_process.civility),"\n            ",null==e||null==e.contract_process?null:e.contract_process.first_name," ",null==e||null==e.contract_process?null:e.contract_process.last_name,": ",t.\u0275\u0275pipeBind1(2,10,"Validate Contract Process Step"),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate4(" ","neutral"===(null==e||null==e.contract_process?null:e.contract_process.civility)?"":t.\u0275\u0275pipeBind1(4,12,null==e||null==e.contract_process?null:e.contract_process.civility)," ",null==e||null==e.contract_process?null:e.contract_process.first_name," ",null==e||null==e.contract_process?null:e.contract_process.last_name,": ",t.\u0275\u0275pipeBind1(5,14,"Validate Contract Process Step")," ")}}function Rn(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span",81),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","\n            ",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ",null==e||null==e.candidate_id?null:e.candidate_id.first_name," ",t.\u0275\u0275pipeBind1(2,8,"Signing the contract"),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ",null==e||null==e.candidate_id?null:e.candidate_id.first_name," ",t.\u0275\u0275pipeBind1(5,12,"Signing the contract")," ")}}function Bn(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span",81),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate3("matTooltip","\n            ",t.\u0275\u0275pipeBind1(1,6,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ",null==e||null==e.candidate_id?null:e.candidate_id.first_name," - ",t.\u0275\u0275pipeBind1(2,8,"Complete contract/convention form"),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",t.\u0275\u0275pipeBind1(4,10,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ",null==e||null==e.candidate_id?null:e.candidate_id.first_name," - ",t.\u0275\u0275pipeBind1(5,12,"Complete contract/convention form")," ")}}function Un(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"span",81),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.description)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.description," ")}}function Vn(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",86),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.openTask(o))}),t.\u0275\u0275template(1,kn,6,16,"span",87),t.\u0275\u0275template(2,En,6,16,"span",88),t.\u0275\u0275template(3,Mn,6,16,"span",88),t.\u0275\u0275template(4,An,6,16,"span",88),t.\u0275\u0275template(5,Fn,6,16,"span",88),t.\u0275\u0275template(6,Ln,6,14,"span",87),t.\u0275\u0275template(7,wn,6,16,"span",87),t.\u0275\u0275template(8,Rn,6,14,"span",87),t.\u0275\u0275template(9,Bn,6,14,"span",87),t.\u0275\u0275template(10,Un,3,4,"span",87),t.\u0275\u0275elementEnd()}if(2&i){const e=l.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","validate_student_admission_process"===(null==e?null:e.type)&&"Step validation required"===(null==e?null:e.description)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","validate_form_process"===(null==e?null:e.type)&&"Validate Student Admission Process"===(null==e?null:e.description)&&"student_admission"===(null==e||null==e.form_process_id||null==e.form_process_id.form_builder_id?null:e.form_process_id.form_builder_id.template_type)||"validate_form_process"===(null==e?null:e.type)&&"student_admission"===(null==e||null==e.form_process_id||null==e.form_process_id.form_builder_id?null:e.form_process_id.form_builder_id.template_type)||"validate_form_process"===(null==e?null:e.type)&&"admission_document"===(null==e||null==e.form_process_id||null==e.form_process_id.form_builder_id?null:e.form_process_id.form_builder_id.template_type)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","validate_form_process"===(null==e?null:e.type)&&"teacher_contract"===(null==e||null==e.form_process_id||null==e.form_process_id.form_builder_id?null:e.form_process_id.form_builder_id.template_type)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","validate_form_process"===(null==e?null:e.type)&&"fc_contract"===(null==e||null==e.form_process_id||null==e.form_process_id.form_builder_id?null:e.form_process_id.form_builder_id.template_type)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","validate_form_process"===(null==e?null:e.type)&&"one_time_form"===(null==e||null==e.form_process_id||null==e.form_process_id.form_builder_id?null:e.form_process_id.form_builder_id.template_type)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","Validate Financement"===(null==e?null:e.description)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","validate_contract_process"===(null==e?null:e.type)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","fc_contract_process"===(null==e?null:e.type)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","complete_form_process"===(null==e?null:e.type)&&"fc_contract"===(null==e||null==e.form_process_id||null==e.form_process_id.form_builder_id?null:e.form_process_id.form_builder_id.template_type)&&"Complete contract/convention form"===(null==e?null:e.description)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","validate_form_process"!==(null==e?null:e.type)&&"validate_contract_process"!==(null==e?null:e.type)&&"Validate Financement"!==(null==e?null:e.description)&&"validate_student_admission_process"!==(null==e?null:e.type))}}function $n(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",90),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function Nn(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",92),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.editTask(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"View - Edit")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function Gn(i,l){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",92),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.deleteTask(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",93),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Delete")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function jn(i,l){if(1&i&&(t.\u0275\u0275elementStart(0,"td",80),t.\u0275\u0275template(1,Nn,4,4,"button",91),t.\u0275\u0275template(2,Gn,4,4,"button",91),t.\u0275\u0275elementEnd()),2&i){const e=l.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permissionService.editTaskActionInTaskTablePerm()&&n.validateEditTask(e)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permissionService.deleteTaskActionInTaskTablePerm()&&n.validateDeleteTask(e))}}function qn(i,l){1&i&&(t.\u0275\u0275elementStart(0,"th",94)(1,"div",95),t.\u0275\u0275element(2,"mat-spinner",96),t.\u0275\u0275elementEnd()())}function Yn(i,l){1&i&&t.\u0275\u0275element(0,"tr",97)}function Hn(i,l){1&i&&t.\u0275\u0275element(0,"tr",97)}function Kn(i,l){1&i&&t.\u0275\u0275element(0,"tr",97)}function Wn(i,l){if(1&i&&t.\u0275\u0275element(0,"tr",98),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function Zn(i,l){if(1&i&&t.\u0275\u0275element(0,"tr",99),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}function zn(i,l){1&i&&(t.\u0275\u0275elementStart(0,"div",100),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NOT RECORD FOUND")," "))}function Qn(i,l){1&i&&(t.\u0275\u0275elementStart(0,"div",101),t.\u0275\u0275element(1,"mat-progress-spinner",102),t.\u0275\u0275elementEnd())}const Xn=function(){return["reset"]},Jn=function(){return["loading"]},ti=function(i){return{hide:i}},ei=function(i){return{"hide-pagination-buttons":i}},ni=function(){return[10]},oi=[{path:"",component:(()=>{class i{constructor(e,n,a,o,s,m,f,V,N,K,et,ci,di,pi,ui,mi,_i,hi,gi,fi,Ci,vi){this.taskService=e,this.datepipe=n,this.dialog=a,this.parseUTCtoLocal=o,this.translate=s,this.utilService=m,this.parseLocalToUTCPipe=f,this.rncpTitlesService=V,this.cdref=N,this.router=K,this.route=et,this.authService=ci,this.mailboxService=di,this.permissions=pi,this.certificationRuleService=ui,this.permissionService=mi,this.dateAdapter=_i,this.groupCreationService=hi,this.candidateService=gi,this.formFillingService=fi,this.filterBreadCrumbService=Ci,this.pageTitleService=vi,this.dataSource=new S.by([]),this.searchInternalTask=!1,this.displayedColumns=["select","dueDate","taskStatus","createdBy","assigned","priority","createdDate","school","campus","description","Action"],this.filterColumns=["selectFilter","dueDateFilter","taskStatusFilter","createdByFilter","assignedFilter","priorityFilter","createdDateFilter","schoolFilter","campusFilter","descriptionFilter","ActionFilter"],this.selection=new Te.Ov(!0,[]),this.userSelected=[],this.userSelectedId=[],this.isCheckedAll=!1,this.disabledButtonAction=!1,this.subs=new k.Y,this.configCertificatioRule={disableClose:!0},this.config={autoFocus:!1,disableClose:!0,width:"600px"},this.taskDetails=[],this.createdDateArray=[],this.rncpTitleArray=[],this.dueDateFilter=new u.UntypedFormControl(""),this.taskStatusFilter=new u.UntypedFormControl(null),this.createdByFilter=new u.UntypedFormControl,this.assignedFilter=new u.UntypedFormControl,this.priorityFilter=new u.UntypedFormControl(null),this.createdDateFilter=new u.UntypedFormControl(""),this.schoolFilter=new u.UntypedFormControl(null),this.campusFilter=new u.UntypedFormControl(null),this.rncpFilter=new u.UntypedFormControl(""),this.subjectFilter=new u.UntypedFormControl,this.descriptionFilter=new u.UntypedFormControl(null),this.isWaitingForResponse=!1,this.isWaitingForResponseTask=!1,this.isReset=!1,this.pagination={limit:10,page:0},this.filterValues={test_id:"",is_not_parent_task:!0,task_statuses:[],from:"",to:"",rncp_title:"",priorities:null,due_date:{date:"",time:""},created_at:{date:"",time:""},descriptions:null,school_ids:null,campuses:null,offset:null},this.filteredValuesAll={task_statuses:"All",priorities:"All",descriptions:"All",school_ids:"All",campuses:"All"},this.sortingValues={due_date:"desc",status:"",from:"",to:"",priority:"",created_at:"",school:""},this.tempDataFilter={task_status:null,priority:null,campus:null,school:null,description:null},this.filterSchoolList=[],this.filterCampusList=[],this.filterTitleList=[],this.taskTypeList=[],this.taskId="",this.isEditable=!0,this.accessInternal=!0,this.isAcadDir=!1,this.isOperator=!1,this.allStudentForCheckbox=[],this.dataSelected=[],this.pageSelected=[],this.disabledExport=!0,this.dataUnselectUser=[],this.buttonClicked="",this.priorityList=[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3}],this.statusListUnmap=[{label:"ToDo",value:"todo"},{label:"Done",value:"done"}],this.statusList=[],this.filterBreadcrumbData=[]}ngOnInit(){this.dateAdapter.setLocale(this.translate.currentLang),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.dateAdapter.setLocale(this.translate.currentLang),this.mappingList(),this.getEnumTaskTypeDropdownList()}),this.isAcadDir=!!this.permissions.getPermission("Academic Director"),this.isOperator=!!this.permissions.getPermission("Operator Director")||!!this.permissions.getPermission("Operator Admin"),this.fromNotifURL(),this.CurUser=this.authService.getLocalStorageUser(),this.currentUser=this.utilService.getCurrentUserType(),this.userTypeChecking(),this.getSchoolList(),this.getTitleList(),this.getEnumTaskTypeDropdownList(),this.getMyTask(),this.filterListener(),this.mappingList(),this.permissions.getPermission("Student")?this.getCertificationRule():this.getUrgentMail(),this.pageTitleService.setTitle("List of tasks"),this.filterBreadcrumbFormat()}ngAfterViewChecked(){this.cdref.detectChanges()}mappingList(){this.statusList=this.statusListUnmap.map(e=>({value:e.value,label:this.translate.instant(e.label)}))}fromNotifURL(){this.subs.sink=this.route.queryParamMap.subscribe(e=>{this.taskId=e.get("task"),this.taskId&&this.taskService.getOneTask(this.taskId).subscribe(n=>{n&&n.task_status&&"todo"===n.task_status?this.openTask(n):n&&n.task_status&&"done"===n.task_status&&this.editTask(n)})})}getSchoolList(){this.subs.sink=this.taskService.getAllSchool().subscribe(e=>{this.filterSchoolList=e},e=>{this.authService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCampusList(){let e;this.filterCampusList=[],this.campusFilter.setValue(null),this.filterValues.campuses=null,this.tempDataFilter.campus=null,e=this.schoolFilter.value?this.schoolFilter.value.map(n=>{const a=this.filterSchoolList.find(o=>o?._id===n);if(a)return a?.short_name}):null,this.subs.sink=this.candidateService.GetDataSchoolCampusByShortNames(e).subscribe(n=>{if(n&&n.length>1){const a=[];n?.forEach(o=>{o?.campuses?.forEach(s=>{a.push(s)})}),this.filterCampusList=h.uniqBy(a,"name")}else this.filterCampusList=n[0].campuses},n=>{this.authService.postErrorLog(n),n&&n.message&&(n.message.includes("jwt expired")||n.message.includes("str & salt required")||n.message.includes("Authorization header is missing")||n.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}renderTooltipCampuses(e){let n="";if(e&&e.length){for(let a=0;a<e.length;a++)n=n+e[a].name+", ";return n.substring(0,n.length-2)}return n}getTitleList(){if(this.utilService.isUserEntityOPERATOR())this.subs.sink=this.taskService.GetADMTCTitleDropdownList().subscribe(e=>{this.filterTitleList=e,this.filteredTitle=this.rncpFilter.valueChanges.pipe((0,$.O)(""),(0,g.U)(n=>this.filterTitleList.filter(a=>a.short_name.toLowerCase().includes(n.toLowerCase()))))},e=>{this.authService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})});else{const e=this.CurUser?.entities&&this.CurUser?.entities?.length?this.CurUser?.entities[0].type.name:"";this.subs.sink=this.authService.getUserById(this.CurUser?._id).subscribe(n=>{const a=n?.entities?.filter(o=>o?.type?.name===e);this.filterTitleList=this.utilService.getAllAssignedTitles(a),this.filteredTitle=this.rncpFilter.valueChanges.pipe((0,$.O)(""),(0,g.U)(o=>this.filterTitleList.filter(s=>s.short_name.toLowerCase().includes(o.toLowerCase()))))},n=>{this.authService.postErrorLog(n),n&&n.message&&(n.message.includes("jwt expired")||n.message.includes("str & salt required")||n.message.includes("Authorization header is missing")||n.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}getEnumTaskTypeDropdownList(){this.taskTypeList=this.rncpTitlesService.getEnumTaskTypeEdh().map(e=>({name:e.name,label:this.translate.instant("PENDING_TASK_TYPE."+e.name),value:e.value}))}getMyTask(){this.pagination={limit:10,page:this.paginator.pageIndex},this.filterValues.offset=this.filterValues.due_date.date||this.filterValues.due_date.time||this.filterValues.created_at.date||this.filterValues.created_at.time?B().utcOffset():null;const n=this.cleanSortingPayload(),a=this.cleanFilterPayload();this.isWaitingForResponse=!0,this.isReset=!1,this.taskService.getMyTask(this.pagination,n,a,this.currentUser).subscribe(o=>{this.isWaitingForResponse=!1,this.dataSource.data=o,this.paginator.length=o&&o.length&&o[0].count_document?o[0].count_document:0,this.filterBreadcrumbData=[],this.filterBreadcrumbFormat()},o=>{this.authService.postErrorLog(o),this.isWaitingForResponse=!1,o&&o.message&&(o.message.includes("jwt expired")||o.message.includes("str & salt required")||o.message.includes("Authorization header is missing")||o.message.includes("salt"))?this.authService.handlerSessionExpired():this.swalError(o)})}changePage(e){this.getMyTask()}sortData(e){this.sortingValues={due_date:"",status:"",from:"",to:"",priority:"",created_at:"",school:""},"dueDate"===e.active&&e.direction?this.sortingValues.due_date=`${e.direction}`:"taskStatus"===e.active&&e.direction?this.sortingValues.status=`${e.direction}`:"createdBy"===e.active&&e.direction?this.sortingValues.from=`${e.direction}`:"assigned"===e.active&&e.direction?this.sortingValues.to=`${e.direction}`:"priority"===e.active&&e.direction?this.sortingValues.priority=`${e.direction}`:"createdDate"===e.active&&e.direction?this.sortingValues.created_at=`${e.direction}`:"school"===e.active&&e.direction?this.sortingValues.school=`${e.direction}`:this.sortingValues.due_date="desc",this.clearSelectifFilter(),this.paginator.pageIndex=0,this.getMyTask()}filterListener(){this.subs.sink=this.dueDateFilter.valueChanges.subscribe(e=>{if(e){const n=B(e).format("DD/MM/YYYY"),a=this.parseLocalToUTCPipe.transformDate(n,"15:59"),o=this.parseLocalToUTCPipe.transform("15:59");this.filterValues.due_date.date=a,this.filterValues.due_date.time=o,this.filterValues.due_date.date="Invalid date"!==this.filterValues.due_date.date?this.filterValues.due_date.date:"",this.filterValues.due_date.time=this.filterValues.due_date.date?this.filterValues.due_date.time:"",this.paginator.pageIndex=0,this.getMyTask()}}),this.subs.sink=this.createdDateFilter.valueChanges.subscribe(e=>{if(e){const n=B(e).format("DD/MM/YYYY"),a=this.parseLocalToUTCPipe.transformDate(n,"15:59"),o=this.parseLocalToUTCPipe.transform("15:59");this.filterValues.created_at.date=a,this.filterValues.created_at.time=o,this.filterValues.created_at.date="Invalid date"!==this.filterValues.created_at.date?this.filterValues.created_at.date:"",this.filterValues.created_at.time=this.filterValues.created_at.date?this.filterValues.created_at.time:"",this.paginator.pageIndex=0,this.getMyTask()}}),this.subs.sink=this.createdByFilter.valueChanges.pipe((0,Z.b)(800)).subscribe(e=>{this.filterValues.from=e,this.paginator.pageIndex=0,this.getMyTask()}),this.subs.sink=this.assignedFilter.valueChanges.pipe((0,Z.b)(800)).subscribe(e=>{this.filterValues.to=e,this.paginator.pageIndex=0,this.getMyTask()})}setSchoolFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.school)!==JSON.stringify(this.schoolFilter.value))if(this.schoolFilter.value?.length)this.filterValues.school_ids=this.schoolFilter.value,this.tempDataFilter.school=this.schoolFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getCampusList(),this.getMyTask());else{if(!this.tempDataFilter.school?.length||this.schoolFilter.value?.length)return;this.filterValues.school_ids=this.schoolFilter.value,this.tempDataFilter.school=null,this.isReset||(this.paginator.pageIndex=0,this.getCampusList(),this.getMyTask())}}setCampusFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.campus)!==JSON.stringify(this.campusFilter.value))if(this.campusFilter.value?.length)this.filterValues.campuses=this.campusFilter.value,this.tempDataFilter.campus=this.campusFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getMyTask());else{if(!this.tempDataFilter.campus?.length||this.campusFilter.value?.length)return;this.filterValues.campuses=this.campusFilter.value,this.tempDataFilter.campus=null,this.isReset||(this.paginator.pageIndex=0,this.getMyTask())}}setTitleFilter(e){this.filterValues.rncp_title=e,this.paginator.pageIndex=0,this.getMyTask()}setTaskTypeFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.description)!==JSON.stringify(this.descriptionFilter.value))if(this.descriptionFilter.value?.length)this.filterValues.descriptions=this.descriptionFilter.value,this.tempDataFilter.description=this.descriptionFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getMyTask());else{if(!this.tempDataFilter.description?.length||this.descriptionFilter.value?.length)return;this.filterValues.descriptions=this.descriptionFilter.value,this.tempDataFilter.description=null,this.isReset||(this.paginator.pageIndex=0,this.getMyTask())}}clearSelectifFilter(){this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!1}cleanFilterPayload(){const e=h.cloneDeep(this.filterValues);if(e){e.test_id||delete e.test_id,(!e.task_statuses||!e.task_statuses?.length)&&delete e.task_status,e.from||delete e.from,e.to||delete e.to,e.rncp_title||delete e.rncp_title,(!e.priorities||!e.priorities?.length)&&delete e.priorities,(!e.school_ids||!e.school_ids?.length)&&delete e.school_ids,(!e.campuses||!e.campuses?.length)&&delete e.campuses,(!e.descriptions||!e.descriptions?.length)&&delete e.descriptions,e.due_date&&(!e.due_date.date||!e.due_date.time)&&delete e.due_date,e.created_at&&(!e.created_at.date||!e.created_at.time)&&delete e.created_at,e.offset||delete e.offset;const n=this.utilService.getCurrentUser();n&&n.entities&&n.entities[0]&&"preparation_center"===n.entities[0].school_type&&n.entities[0].school&&n.entities[0].school?._id&&(e.school_id=n.entities[0].school?._id),e.school_id||delete e.school_id}return e}cleanSortingPayload(){const e=h.cloneDeep(this.sortingValues);return e&&(e.due_date||delete e.due_date,e.status||delete e.status,e.from||delete e.from,e.to||delete e.to,e.priority||delete e.priority,e.created_at||delete e.created_at,e.school||delete e.school),e}translateDate(e){return e&&"object"==typeof e&&e.time&&e.date?this.parseUTCtoLocal.transformDate(e.date,e.time):""}reset(){this.isReset=!0,this.selection.clear(),this.dataSelected=[],this.dataUnselectUser=[],this.isCheckedAll=!1,this.pagination={limit:10,page:0},this.filterValues={test_id:"",is_not_parent_task:!0,task_statuses:[],from:"",to:"",priorities:null,rncp_title:"",due_date:{date:"",time:""},created_at:{date:"",time:""},descriptions:null,school_ids:null,campuses:null,offset:null},this.sortingValues={due_date:"desc",status:"",from:"",to:"",priority:"",created_at:"",school:""},this.tempDataFilter={task_status:null,priority:null,campus:null,school:null,description:null},this.filterBreadcrumbData=[],this.dueDateFilter.patchValue("",{emitEvent:!1}),this.taskStatusFilter.patchValue(null,{emitEvent:!1}),this.createdByFilter.patchValue("",{emitEvent:!1}),this.assignedFilter.patchValue("",{emitEvent:!1}),this.priorityFilter.patchValue(null,{emitEvent:!1}),this.createdDateFilter.patchValue("",{emitEvent:!1}),this.schoolFilter.patchValue(null,{emitEvent:!1}),this.campusFilter.patchValue(null,{emitEvent:!1}),this.getCampusList(),this.getSchoolList(),this.descriptionFilter.patchValue(null,{emitEvent:!1}),this.sort.sort({id:null,start:"desc",disableClear:!1}),this.getMyTask(),this.getEnumTaskTypeDropdownList()}getTranslateWhat(e,n){if(n){const a=n.form_process_id&&n.form_process_id.form_builder_id&&n.form_process_id.form_builder_id.template_type?n.form_process_id.form_builder_id.template_type:"";if("employability_survey_for_student"===n.type.toLowerCase()){const o=this.translateDate(n.due_date);return"en"===this.translate.currentLang.toLowerCase()?"Employability Survey to complete before "+o:"Enqu\xeate d'employabilit\xe9 \xe0 completer avant le "+o}if("certifier_validation"===n.type)return"en"===this.translate.currentLang?`Validate the test correction - ${n.school?n.school.short_name:""}`:`Valider la correction - ${n.school?n.school.short_name:""}`;if("operator_jury_decision"===n.type.toLowerCase()||"retake_assign_corrector"===n.type||"validate_test_correction_for_final_retake"===n.type||"final_retake_marks_entry"===n.type){let o=this.translate.instant("TEST.AUTOTASK."+e.toUpperCase());return o=o!=="TEST.AUTOTASK."+e.toUpperCase()?o:e,o=n.classId?o+" - "+n.classId.name+" - "+n.school.short_name:o+" - "+n.school.short_name,o}if("student_upload_grand_oral_cv"===n.type||"student_upload_grand_oral_presentation"===n.type)return this.translate.instant(n.description);if("online_jury_student_attendance_justification"===n.type||"online_jury_jury_member_attendance_justification"===n.type)return this.translate.instant(n.description);if("jury_organization_marks_entry"===n.type)return`${this.translate.instant("Mark Entry")} - ${n&&n.student_id&&n.student_id.last_name?n.student_id.last_name:""} ${n&&n.student_id&&n.student_id.first_name?n.student_id.first_name:""} ${n&&n.student_id&&n.student_id.civility&&"neutral"!==n.student_id.civility?this.translate.instant(n.student_id.civility):""}`;if("document_expected"===n.type||"reupload_expected_document"===n.type||"upload_final_retake_document"===n.type)return"upload_final_retake_document"===n.type?(n.rncp&&n.rncp.short_name?n.rncp.short_name:"")+" - "+this.translate.instant("UPLOAD")+" "+n.description+" "+this.translate.instant("DASHBOARD.EXPECTED_DOC_TASK.FOR_FINAL_RETAKE"):"document_expected"===n.type?n.for_each_student?(n.student_id?n.student_id.last_name+" "+n.student_id.first_name+" "+("neutral"!==n.student_id.civility?this.translate.instant(n.student_id.civility):""):"")+" "+(n&&n.test_group_id?n.test_group_id.name:"")+" "+this.translate.instant("UPLOAD")+" "+n.description:(n&&n.test_group_id?n.test_group_id.name:"")+" "+this.translate.instant("UPLOAD")+" "+n.description+" / "+(n.test?n.test.name:""):this.translate.instant("UPLOAD")+" "+n.description;if("calendar_step"===n.type&&n.test&&n.test.groupTest&&"certifier"===n.test.correctionType&&"assign corrector"===n.description.toLowerCase()){let o=this.translate.instant("TEST.AUTOTASK."+e.toUpperCase());return o=o+" - "+n.school.short_name,o}if("assign_president_jury"===n.type)return`${this.translate.instant("JURY_ORGANIZATION.ASSIGN_PRESIDENT_JURY")} - ${n.description}`;if("assign_student_for_jury"===n.type)return`${this.translate.instant("JURY_ORGANIZATION.TASK_ASSIGN_STUDENT_GROUP")} - ${n.jury_id.name} - ${n.school.short_name}`;if("student_accept_decision_transcript"===n.type)return`${this.translate.instant("TRANSCRIPT_PROCESS.student_accept_decision")}`;if("assign_members_of_final_jury"===n.type)return`${this.translate.instant("JURY_ORGANIZATION.ASSIGN_MEMBER")} - ${n.jury_id.name}`;if("create_members_of_final_jury"===n.type)return`${this.translate.instant("JURY_ORGANIZATION.CREATE_PRESIDENT_JURY")} - ${n.description}`;if("assign_jury"===n.type)return`${this.translate.instant("JURY_ORGANIZATION.ASSIGN_JURY")} - ${n.description}`;if("jury_organization_marks_entry"===n.type)return`${n.due_date&&n.due_date.date?n.due_date.date:""} - ${n.school&&n.school.short_name?n.school.short_name:""} - ${this.translate.instant("QUALITY_CONTROL_TABLE.MARK_ENTRY")}`;if("input_student_decision_for_retake_v2"===n.type)return`${this.translate.instant("RETAKE_EXAM.RETAKE_TASK_DECISION")}`;if("assign_corrector_of_problematic"===n.type)return`${this.translate.instant("PROBLEMATIC_019.assign_corrector_of_problematic")}`;if(n&&"validate_problematic_task"===n.type){if("en"===this.translate.currentLang.toLowerCase()){let o=e.split(" : ");return o[o.length-1]="Validate Problematics",o=o.join(" : "),o}{let o=e.split(" : ");return o[o.length-1]="Notes de probl\xe9matique \xe0 valider",o=o.join(" : "),o}}if(n&&n.type&&"validate_cross_correction"===n.type.toLowerCase()){if(n.crossCorrectionFor)return"";if(e){const o=this.translate.instant("TEST.AUTOTASK."+e.toUpperCase());return o!=="TEST.AUTOTASK."+e.toUpperCase()?o:e}}else if(!n||!n.type||"calendar_step"!==n.type&&!n.test||"certifier"!==n.test.correction_type||"Assign Corrector"!==e&&"Marks Entry"!==e&&"Validate Test"!==e){if(n&&n.type&&"problematic_task"===n.type)return this.translate.instant("PROBLEMATIC_019.PROBLEMATICFORM.problematic_rejected_by_school");if(e){const o=this.translate.instant("TEST.AUTOTASK."+e.toUpperCase());return o!=="TEST.AUTOTASK."+e.toUpperCase()?o:e}if("complete_form_process"===n.type){if("fc_contract"===a||"teacher_contract"===a||"alumni"===a||"one_time_form"===a)return this.translate.instant("complete_form_process");if("student_admission"===a)return this.translate.instant("163_TASKS.student_complete_admission_process")}else if("revision_form_proses"===n.type){if("fc_contract"===a||"teacher_contract"===a||"alumni"===a||"one_time_form"===a)return this.translate.instant("revision_form_proses");if("student_admission"===a)return this.translate.instant("163_TASKS.revision_admission_proses")}else if("validate_form_process"===n.type){if("fc_contract"===a||"teacher_contract"===a||"alumni"===a||"one_time_form"===a)return this.translate.instant("validate_form_process");if("student_admission"===a)return this.translate.instant("163_TASKS.validate_admission_process",{stepName:n.student_admission_process_step_id&&n.student_admission_process_step_id.step_title?n.student_admission_process_step_id.step_title:""})}else{if("final_validate_form_process"!==n.type)return"";if("fc_contract"===a||"teacher_contract"===a||"alumni"===a)return this.translate.instant("final_validate_form_process");if("student_admission"===a)return this.translate.instant("163_TASKS.final_validate_admission_process")}}else{if(n.school&&n.type)return this.translate.instant("TEST.AUTOTASK."+e.replace(/_/g," ").toUpperCase())+" "+this.translate.instant("for")+" "+n.school.short_name;if(e){const o=this.translate.instant("TEST.AUTOTASK."+e.toUpperCase());return o!=="TEST.AUTOTASK."+e.toUpperCase()?o:e}}}}openTask(e){e&&e.task_status&&"todo"===e.task_status&&(e&&e.description&&e&&"Validate Financement"===e.description&&this.viewCandidateInfo(e,"Student","Financement"),e&&e.type&&("fc_contract_process"===e.type?this.goToFCContractForm(e):("add_task"===e.type||"addTask"===e.type||"internal_task"===e.type)&&this.openManualTask(e)),"student_confirm_certificate"===e.type&&this.utilService.isUserStudent()&&this.redirectToMyFileDetailOfCertificationTab(),e.type&&"validate_contract_process"===e.type&&this.goToForm(e),e.type&&"validate_student_admission_process"===e.type&&this.goToFormContinousAdmissionFC(e),("complete_form_process"===e.type||"revision_form_proses"===e.type||"validate_form_process"===e.type||"final_validate_form_process"===e.type)&&this.goToAdmissionProcessForm(e))}redirectToMyFileDetailOfCertificationTab(){this.router.navigate(["/my-file"],{queryParams:{identity:"verification"}})}redirectToAssignJury(e){const n=e&&e.jury_id&&e.jury_id._id?e.jury_id._id:null;n&&this.router.navigate(["jury-organization",n,"organize-juries","assign-jury"])}redirectToAssignStudentTable(e){const n=e&&e.jury_id&&e.jury_id._id?e.jury_id._id:null;n&&this.router.navigate(["jury-organization",n,"organize-juries","assign-student-table"])}goToForm(e){const n=this.router.createUrlTree(["/form-teacher-contract"],{queryParams:{formId:e.contract_process._id,userId:e.user_selection.user_id._id,formType:"teacher_contract"}});window.open(n.toString(),"_blank")}goToFCContractForm(e){if(e&&e.fc_contract_process_id&&e.fc_contract_process_id._id){const n=this.router.createUrlTree(["form-fc-contract"],{queryParams:{formId:e.fc_contract_process_id._id,userId:this.CurUser._id,candidateId:e.candidate_id&&e.candidate_id._id?e.candidate_id._id:"",formType:"fc_contract",type:"edit"}});window.open(n.toString(),"_blank")}}goToFormContinousAdmissionFC(e){const n=this.authService.getCurrentUser().entities[0].type._id,a=this.router.createUrlTree(["/form-fill"],{queryParams:{formId:e.admission_process_id._id,formType:"student_admission",userId:e.user_selection.user_id._id,userTypeId:n}});window.open(a.toString(),"_blank")}editTask(e){if(this.selection.selected.length>1)c().fire({type:"warning",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:"task"}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else if(e&&e.task_status&&"done"===e.task_status){if(e&&e.description)if("Assign Corrector"===e.description||"retake_assign_corrector"===e.type){const n=[];n.push(this.groupCreationService.CheckIfTestCorrectionMarkExistsForStudentGroupTest(e.test._id,e.school._id)),n.push(this.taskService.getTestProgress(e.test._id,e.school._id)),this.isWaitingForResponseTask=!0,this.subs.sink=(0,W.D)(n).subscribe(a=>{this.isWaitingForResponseTask=!1;let o=!0;if(a&&a.length){const m=a[1];a[0]&&(o=!1),m&&m.mark_entry_done&&m.mark_entry_done.length&&(o=!1)}o?this.openAssignCorrectorDialog(e,!0):c().fire({type:"info",title:this.translate.instant("TEST.CHANGE_S1.title"),text:this.translate.instant("TEST.CHANGE_S1.text"),confirmButtonText:this.translate.instant("TEST.CHANGE_S1.confirm_btn")})},a=>{this.authService.postErrorLog(a),this.isWaitingForResponseTask=!1,a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.authService.handlerSessionExpired():this.swalError(a)})}else"Marks Entry"===e.description||"final_retake_marks_entry"===e.type||"Validate Test"===e.description||"validate_test_correction_for_final_retake"===e.type?this.goToMarkEntry(e):"Create Groups"===e.description&&this.goToGroupCreation(e)}else("add_task"===e.type||"addTask"===e.type||"internal_task"===e.type)&&this.editManualTask(e)}showEditTask(e){if(e&&e.task_status&&"done"===e.task_status){if(e&&e.description&&("Assign Corrector"===e.description||"retake_assign_corrector"===e.type))return!0}else if("add_task"===e.type||"addTask"===e.type)return!0;return!1}openEmployabilitySurvey(e){this.router.navigate(["/academic/employability-survey",e.school._id,e.student_id._id,e.employability_survey_id._id])}goToMarkEntryGrandOral(e){this.router.navigate(["/grand-oral"],{queryParams:{juryId:e.jury_id._id,studentId:e.student_id?e.student_id._id:null}})}openManualTask(e){const n=this.dialog.open(Nt.E,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,data:{taskData:e}});this.subs.sink=n.afterClosed().subscribe(a=>{this.getMyTask()})}openValidateProblematicDialog(e){this.dialog.open(jt,{width:"500px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,data:e})}goToAdmissionProcessForm(e){this.isWaitingForResponseTask=!0,this.subs.sink=this.formFillingService.getOneTaskForFormFilling(e._id).subscribe(n=>{if(this.isWaitingForResponseTask=!1,n){const a=h.cloneDeep(n),o=this.router.url.split("/")[0],s=n.form_process_id&&n.form_process_id._id?n.form_process_id._id:null,m=n.user_selection&&n.user_selection.user_id&&n.user_selection.user_id._id?n.user_selection.user_id._id:null;let f=null;const V=n?.user_selection?.user_type_id?._id?n?.user_selection?.user_type_id?._id:null;if(V&&this.CurUser?.app_data?.user_type_id?.length&&(f=this.CurUser?.app_data?.user_type_id?.find(N=>N===V)),f||(f=this.authService.getCurrentUser().entities[0].type._id),s&&m)if(a&&a.form_process_id&&a.form_process_id.form_builder_id&&"student_admission"===a.form_process_id.form_builder_id.template_type)window.open(`${o}/form-fill?formId=${s}&formType=student_admission&userId=${m}&userTypeId=${f}`,"_blank");else if(a&&a.form_process_id&&a.form_process_id.form_builder_id&&"fc_contract"===a.form_process_id.form_builder_id.template_type){const N=n?.form_process_step_id?.user_who_complete_step?._id;window.open(`${o}/form-fill?formId=${s}&formType=fc_contract&userId=${m}&userTypeId=${a?.user_selection?.user_type_id?._id?a?.user_selection?.user_type_id?._id:N}`,"_blank")}else a&&a.form_process_id&&a.form_process_id.form_builder_id&&"teacher_contract"===a.form_process_id.form_builder_id.template_type?window.open(`${o}/form-fill?formId=${s}&formType=teacher_contract&userId=${m}&userTypeId=${f}`,"_blank"):a&&a.form_process_id&&a.form_process_id.form_builder_id&&"one_time_form"===a.form_process_id.form_builder_id.template_type?window.open(`${o}/form-fill?formId=${s}&formType=one_time_form&userId=${m}&userTypeId=${f}`,"_blank"):a&&a.form_process_id&&a.form_process_id.form_builder_id&&"admission_document"===a.form_process_id.form_builder_id.template_type&&window.open(`${o}/form-fill?formId=${s}&formType=admissionDocument&userId=${m}&userTypeId=${f}`,"_blank")}},n=>{this.authService.postErrorLog(n),this.isWaitingForResponseTask=!1,this.swalError(n)})}editManualTask(e){this.subs.sink=this.dialog.open(ht,{...this.config,data:{taskData:e,type:"Edit"}}).afterClosed().subscribe(n=>{this.getMyTask()})}openAssignCorrectorDialog(e,n=!1){const a=this.dialog.open(Mt,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,data:{edit:n,task:e,titleId:e.rncp._id}});this.subs.sink=a.afterClosed().subscribe(o=>{"reset"===o&&this.getMyTask()})}openSendCopiesDialog(e){this.dialog.open(ne,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,data:e}).afterClosed().subscribe(a=>{a&&this.getMyTask()})}openAssignCorrectorOfProblematicDialog(e,n=!1){const a=this.dialog.open($t,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,data:{edit:n,task:e}});this.subs.sink=a.afterClosed().subscribe(o=>{"reset"===o&&this.getMyTask()})}goToMarkEntry(e){this.router.navigate(["/test-correction",e.rncp._id,e.test._id],{queryParams:{task:e._id,school:e.school._id}})}goToGroupCreation(e){this.router.navigate(["/group-creation",e.rncp._id,e.test._id,e._id])}openExpectedDocumentDialog(e){}openCvDialog(e){}openPresentationDialog(e){}openAbsenceJuryDialog(e){}addTask(){this.subs.sink=this.dialog.open(ht,{...this.config,data:{taskData:"",type:"Add"}}).afterClosed().subscribe(e=>{e&&this.getMyTask()})}addTestTask(){this.testTaskDialogComponent=this.dialog.open(Q,this.config),this.subs.sink=this.taskDialogComponent.afterClosed().subscribe(e=>{this.getMyTask()})}displayTranslatedType(e){if(e){const a=h.find(this.taskTypeList,o=>o?.name===e)?.name;return this.translate.instant("PENDING_TASK_TYPE."+a)}return""}getToolTipUser(e){return e&&e.user_selection&&e.user_selection.user_id?e.user_selection.user_id.last_name.toUpperCase()+" "+e.user_selection.user_id.first_name+" "+("neutral"!==e.user_selection.user_id.civility?this.translate.instant(e.user_selection.user_id.civility)+" ":""):e&&e.user_selection&&e.user_selection.user_type_id?this.translate.instant(e.user_selection.user_type_id.name):""}userTypeChecking(){const e=h.filter(this.CurUser?.entities,function(n){return"CR School Director"===n.type.name||"Certifier Admin"===n.type.name||"Academic Director"===n.type.name||"Academic Admin"===n.type.name||"Corrector"===n.type.name||"Animator Business game"===n.type.name||"Cross Corrector"===n.type.name||"Teacher"===n.type.name});e&&e.length?(this.isEditable=!1,this.accessInternal=!1):(this.isEditable=!0,this.accessInternal=!0)}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(e=>{e&&e.length&&(this.subs.sink=this.dialog.open(it.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:e}).afterClosed().subscribe(n=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(a=>{a&&a.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(it.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:a}))},a=>{this.authService.postErrorLog(a),a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))},e=>{this.authService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getCertificationRule(){const e=this.authService.getLocalStorageUser(),n=e.entities[0].assigned_rncp_title._id,a=e.entities[0].class._id,o=e._id;this.subs.sink=this.rncpTitlesService.getRncpTitleById(n).subscribe(s=>{this.selectedRncpTitleName=s.short_name,this.selectedRncpTitleLongName=s.long_name},s=>{this.authService.postErrorLog(s),s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.subs.sink=this.certificationRuleService.getCertificationRuleSentWithStudent(n,a,o).subscribe(s=>{s||this.getUrgentMail()},s=>{this.authService.postErrorLog(s),s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}showCertificationRule(e,n){}validateEditTask(e){let n=!1;return"done"!==e.task_status&&(e.created_by&&e.created_by._id===this.CurUser._id||this.isOperator)&&(n=!0),n}validateDeleteTask(e){let n=!1;return"done"!==e.task_status&&(e.created_by&&e.created_by._id===this.CurUser._id||this.isOperator)&&(n=!0),n}deleteTask(e){if(this.selection.selected.length>1)c().fire({type:"warning",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:"task"}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else if(e&&"add_task"===e.type||e&&"addTask"===e.type||e&&"internal_task"===e.type){let n=6;c().fire({type:"warning",title:this.translate.instant("SWAL_DELETE_TASK.TITLE"),html:this.translate.instant("SWAL_DELETE_TASK.TEXT"),allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("SWAL_DELETE_TASK.BUTTON_1",{timer:n}),cancelButtonText:this.translate.instant("SWAL_DELETE_TASK.BUTTON_2"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{c().disableConfirmButton();const a=c().getConfirmButton();this.intVal=setInterval(()=>{n-=1,a.innerText=this.translate.instant("SWAL_DELETE_TASK.BUTTON_1")+` (${n})`},1e3),this.timeOutVal=setTimeout(()=>{a.innerText=this.translate.instant("SWAL_DELETE_TASK.BUTTON_1"),c().enableConfirmButton(),clearInterval(this.intVal),clearTimeout(this.timeOutVal)},1e3*n)}}).then(a=>{clearTimeout(this.timeOutVal),a.value&&(this.subs.sink=this.taskService.deleteManualTask(e._id).subscribe(o=>{o&&c().fire({type:"success",title:this.translate.instant("SWAL_DELETE_SUCCESS.TITLE"),text:this.translate.instant("SWAL_DELETE_SUCCESS.TEXT"),confirmButtonText:this.translate.instant("SWAL_DELETE_SUCCESS.BUTTON")}).then(s=>{this.getMyTask()})},o=>{this.authService.postErrorLog(o),o&&o.message&&(o.message.includes("jwt expired")||o.message.includes("str & salt required")||o.message.includes("Authorization header is missing")||o.message.includes("salt"))?this.authService.handlerSessionExpired():c().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}}swalError(e){c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}showOptions(e,n){if(this.isCheckedAll){if(n)if(this.dataUnselectUser.includes(n._id)){const a=this.dataUnselectUser.findIndex(o=>o===n._id);this.dataUnselectUser.splice(a,1),this.selection.select(n._id)}else this.dataUnselectUser.push(n._id),this.selection.deselect(n._id)}else if(n)if(this.dataSelected&&this.dataSelected.length){const a=this.dataSelected.filter(o=>o._id===n._id);if(a&&a.length<1)this.dataSelected.push(n);else{const o=this.dataSelected.findIndex(s=>s._id===n._id);this.dataSelected.splice(o,1)}}else this.dataSelected.push(n);this.selectType=e}isAllSelected(){const e=this.selection.selected.length,n=this.dataSource.data.length;return e===n||e>n}masterToggle(){this.isAllSelected()?(this.selection.clear(),this.dataSelected=[],this.dataUnselectUser=[],this.pageSelected=[],this.isCheckedAll=!1):(this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!0,this.dataUnselectUser=[],this.dataSource.data.forEach(e=>{this.dataUnselectUser.includes(e._id)||this.selection.select(e._id)}))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}viewCandidateInfo(e,n,a){const o=e?.candidate_id?.intake_channel?._id,s={selectedCandidate:e?.candidate_id?._id,tab:n||"",subTab:a||"",paginator:JSON.stringify({pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize})};if(o&&(s.selectedProgram=o),n){const m=this.router.createUrlTree(["candidate-file"],{queryParams:s});window.open(m.toString(),"_blank")}else{const m=this.router.createUrlTree(["candidate-file"],{queryParams:s});window.open(m.toString(),"_blank")}}setStatusFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.task_status)!==JSON.stringify(this.taskStatusFilter.value))if(this.taskStatusFilter.value?.length)this.filterValues.task_statuses=this.taskStatusFilter.value,this.tempDataFilter.task_status=this.taskStatusFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getMyTask());else{if(!this.tempDataFilter.task_status?.length||this.taskStatusFilter.value?.length)return;this.filterValues.task_statuses=this.taskStatusFilter.value,this.tempDataFilter.task_status=null,this.isReset||(this.paginator.pageIndex=0,this.getMyTask())}}setPriorityFilter(){if(this.dataSelected=[],this.isCheckedAll=!1,JSON.stringify(this.tempDataFilter.priority)!==JSON.stringify(this.priorityFilter.value))if(this.priorityFilter.value?.length)this.filterValues.priorities=this.priorityFilter.value,this.tempDataFilter.priority=this.priorityFilter.value,this.isReset||(this.paginator.pageIndex=0,this.getMyTask());else{if(!this.tempDataFilter.priority?.length||this.priorityFilter.value?.length)return;this.filterValues.priorities=this.priorityFilter.value,this.tempDataFilter.priority=null,this.isReset||(this.paginator.pageIndex=0,this.getMyTask())}}isAllDropdownSelectedTable(e){if("task_statuses"===e){const n=this.taskStatusFilter.value;return n&&0!==n.length&&n.length===this.statusList.length}if("priorities"===e){const n=this.priorityFilter.value;return n&&0!==n.length&&n.length===this.priorityList.length}if("school_ids"===e){const n=this.schoolFilter.value;return n&&0!==n.length&&n.length===this.filterSchoolList.length}if("campuses"===e){const n=this.campusFilter.value;return n&&0!==n.length&&n.length===this.filterCampusList.length}if("descriptions"===e){const n=this.descriptionFilter.value;return n&&0!==n.length&&n.length===this.taskTypeList.length}}isSomeDropdownSelectedTable(e){if("task_statuses"===e){const n=this.taskStatusFilter.value;return n&&0!==n.length&&n.length!==this.statusList.length}if("priorities"===e){const n=this.priorityFilter.value;return n&&0!==n.length&&n.length!==this.priorityList.length}if("school_ids"===e){const n=this.schoolFilter.value;return n&&0!==n.length&&n.length!==this.filterSchoolList.length}if("campuses"===e){const n=this.campusFilter.value;return n&&0!==n.length&&n.length!==this.filterCampusList.length}if("descriptions"===e){const n=this.descriptionFilter.value;return n&&0!==n.length&&n.length!==this.taskTypeList.length}}selectAllDataTable(e,n){if("task_statuses"===n)if(e.checked){const a=this.statusList.map(o=>o?.value);this.taskStatusFilter.patchValue(a,{emitEvent:!1})}else this.taskStatusFilter.patchValue(null,{emitEvent:!1});else if("priorities"===n)if(e.checked){const a=this.priorityList.map(o=>o?.value);this.priorityFilter.patchValue(a,{emitEvent:!1})}else this.priorityFilter.patchValue(null,{emitEvent:!1});else if("school_ids"===n)if(e.checked){const a=this.filterSchoolList.map(o=>o?._id);this.schoolFilter.patchValue(a,{emitEvent:!1})}else this.schoolFilter.patchValue(null,{emitEvent:!1});else if("campuses"===n)if(e.checked){const a=this.filterCampusList.map(o=>o?.name);this.campusFilter.patchValue(a,{emitEvent:!1})}else this.campusFilter.patchValue(null,{emitEvent:!1});else if("descriptions"===n)if(e.checked){const a=this.taskTypeList.map(o=>o?.name);this.descriptionFilter.patchValue(a,{emitEvent:!1})}else this.descriptionFilter.patchValue(null,{emitEvent:!1})}filterBreadcrumbFormat(){this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat([{type:"table_filter",name:"due_date",column:"TASK.Due_Date",isMultiple:!1,filterValue:this.filterValues?.due_date?.date?this.filterValues:null,filterList:null,filterRef:this.dueDateFilter,isSelectionInput:!1,displayKey:null,savedValue:null,nestedKey:"date"},{type:"table_filter",name:"task_statuses",column:"TASK.Status",isMultiple:this.taskStatusFilter?.value?.length!==this.statusListUnmap?.length,filterValue:this.taskStatusFilter?.value?.length===this.statusListUnmap?.length?this.filteredValuesAll:this.filterValues,filterList:this.taskStatusFilter?.value?.length===this.statusListUnmap?.length?null:this.statusListUnmap,filterRef:this.taskStatusFilter,isSelectionInput:this.taskStatusFilter?.value?.length!==this.statusListUnmap?.length,displayKey:this.taskStatusFilter?.value?.length===this.statusListUnmap?.length?null:"label",savedValue:this.taskStatusFilter?.value?.length===this.statusListUnmap?.length?null:"value"},{type:"table_filter",name:"from",column:"TASK.From",isMultiple:!1,filterValue:this.filterValues,filterList:null,filterRef:this.createdByFilter,isSelectionInput:!1,displayKey:null,savedValue:null},{type:"table_filter",name:"to",column:"TASK.Assigned_To",isMultiple:!1,filterValue:this.filterValues,filterList:null,filterRef:this.assignedFilter,isSelectionInput:!1,displayKey:null,savedValue:null},{type:"table_filter",name:"priorities",column:"P",isMultiple:this.priorityFilter?.value?.length!==this.priorityList?.length,filterValue:this.priorityFilter?.value?.length===this.priorityList?.length?this.filteredValuesAll:this.filterValues,filterList:this.priorityFilter?.value?.length===this.priorityList?.length?null:this.priorityList,filterRef:this.priorityFilter,isSelectionInput:this.priorityFilter?.value?.length!==this.priorityList?.length,displayKey:this.priorityFilter?.value?.length===this.priorityList?.length?null:"label",savedValue:this.priorityFilter?.value?.length===this.priorityList?.length?null:"value"},{type:"table_filter",name:"created_at",column:"TASK.Created",isMultiple:!1,filterValue:this.filterValues?.created_at?.date?this.filterValues:null,filterList:null,filterRef:this.createdDateFilter,isSelectionInput:!1,displayKey:null,savedValue:null,nestedKey:"date"},{type:"table_filter",name:"school_ids",column:"TASK.School",isMultiple:this.schoolFilter?.value?.length!==this.filterSchoolList?.length,filterValue:this.schoolFilter?.value?.length===this.filterSchoolList?.length?this.filteredValuesAll:this.filterValues,filterList:this.schoolFilter?.value?.length===this.filterSchoolList?.length?null:this.filterSchoolList,filterRef:this.schoolFilter,isSelectionInput:this.schoolFilter?.value?.length!==this.filterSchoolList?.length,displayKey:this.schoolFilter?.value?.length===this.filterSchoolList?.length?null:"short_name",savedValue:this.schoolFilter?.value?.length===this.filterSchoolList?.length?null:"_id"},{type:"table_filter",name:"campuses",column:"TASK.Campus",isMultiple:this.campusFilter?.value?.length!==this.filterCampusList?.length,filterValue:this.campusFilter?.value?.length===this.filterCampusList?.length?this.filteredValuesAll:this.filterValues,filterList:this.campusFilter?.value?.length===this.filterCampusList?.length?null:this.filterCampusList,filterRef:this.campusFilter,isSelectionInput:this.campusFilter?.value?.length!==this.filterCampusList?.length,displayKey:this.campusFilter?.value?.length===this.filterCampusList?.length?null:"name",savedValue:this.campusFilter?.value?.length===this.filterCampusList?.length?null:"name"},{type:"table_filter",name:"descriptions",column:"Description",isMultiple:this.descriptionFilter?.value?.length!==this.taskTypeList?.length,filterValue:this.descriptionFilter?.value?.length===this.taskTypeList?.length?this.filteredValuesAll:this.filterValues,filterList:this.descriptionFilter?.value?.length===this.taskTypeList?.length?null:this.taskTypeList,filterRef:this.descriptionFilter,isSelectionInput:this.descriptionFilter?.value?.length!==this.taskTypeList?.length,displayKey:this.descriptionFilter?.value?.length===this.taskTypeList?.length?null:"name",savedValue:this.descriptionFilter?.value?.length===this.taskTypeList?.length?null:"name"}],this.filterBreadcrumbData)}removeFilterBreadcrumb(e){e&&(this.filterBreadCrumbService.removeFilterBreadcrumb(e,null,this.filterValues),"due_date"===e.name?(this.dueDateFilter.setValue(""),this.filterValues.due_date={date:"",time:""}):"created_at"===e.name&&(this.createdDateFilter.setValue(""),this.filterValues.created_at={date:"",time:""}),this.resetDropdownAutoComplete(e?.name),this.clearSelectifFilter(),this.getMyTask())}resetDropdownAutoComplete(e){"school_id"===e?this.schoolFilter.patchValue(null):"campus"===e?this.schoolFilter.value?this.getCampusList():this.campusFilter.patchValue(null):"description"===e&&this.descriptionFilter.patchValue(null)}ngOnDestroy(){this.subs.unsubscribe(),this.pageTitleService.setTitle(null)}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(C.M),t.\u0275\u0275directiveInject(r.uU),t.\u0275\u0275directiveInject(x.uw),t.\u0275\u0275directiveInject(L.t),t.\u0275\u0275directiveInject(I.sK),t.\u0275\u0275directiveInject(at.t),t.\u0275\u0275directiveInject(nt.w),t.\u0275\u0275directiveInject(pt.r),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(D.F0),t.\u0275\u0275directiveInject(D.gz),t.\u0275\u0275directiveInject(d.e),t.\u0275\u0275directiveInject(xe.e),t.\u0275\u0275directiveInject(ct.YI),t.\u0275\u0275directiveInject(ye._),t.\u0275\u0275directiveInject(ut.$),t.\u0275\u0275directiveInject(b._A),t.\u0275\u0275directiveInject(Se),t.\u0275\u0275directiveInject(dt.o),t.\u0275\u0275directiveInject(Oe.d),t.\u0275\u0275directiveInject(De.q),t.\u0275\u0275directiveInject(Ie.Z))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-task"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(E.NW,7),t.\u0275\u0275viewQuery(F.YE,7)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.sort=a.first)}},features:[t.\u0275\u0275ProvidersFeature([L.t,nt.w])],decls:72,vars:20,consts:[[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"top-space"],[1,"horizontal"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","11","class","action-header-column","style","text-align: right !important",4,"matHeaderCellDef"],["matColumnDef","dueDateFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","taskStatusFilter"],["matColumnDef","createdByFilter"],["matColumnDef","assignedFilter"],["matColumnDef","priorityFilter"],["matColumnDef","createdDateFilter"],["matColumnDef","schoolFilter"],["matColumnDef","campusFilter"],["matColumnDef","descriptionFilter"],["matColumnDef","ActionFilter"],["matColumnDef","selectFilter","sticky",""],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["matColumnDef","select","sticky",""],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","dueDate"],["mat-header-cell","","mat-sort-header","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","matTooltipPosition","above",3,"matTooltip",4,"matCellDef"],["matColumnDef","taskStatus"],["matColumnDef","createdBy"],["matColumnDef","assigned"],["matColumnDef","priority"],["matColumnDef","createdDate"],["matColumnDef","school"],["mat-cell","",4,"matCellDef"],["matColumnDef","campus"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","description"],["mat-cell","","style","cursor: pointer !important",3,"click",4,"matCellDef"],["matColumnDef","Action"],["mat-header-cell","","style","padding-right: 0","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","11","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","hidePageSize","pageSizeOptions","page"],["class","loading-indicator",4,"ngIf"],["mat-header-cell","","colspan","11",1,"action-header-column",2,"text-align","right !important"],["mat-raised-button","","color","accent",3,"matTooltip","matMenuTriggerFor","disabled"],[1,"action-dropdown-button-above-table"],["action","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-menu-item","",3,"click"],["mat-header-cell",""],[1,"example-full-width",2,"margin-top","5px"],["matInput","","readonly","","placeholder","Date",3,"formControl","matDatepicker","click"],["matSuffix","",2,"margin-right","5px",3,"for"],["picker",""],["bindValue","value","bindLabel","label",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["ng-option-tmp",""],[4,"ngIf"],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],["matInput","",1,"form-field",3,"formControl","placeholder"],["pickerCreated",""],["bindValue","_id","bindLabel","short_name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["bindValue","name","bindLabel","name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["bindValue","name","bindLabel","label",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["mat-header-cell","",1,"text-center"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"text-center"],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header","","matTooltipPosition","above",3,"matTooltip"],["mat-cell","","matTooltipPosition","above",3,"matTooltip"],[4,"ngIf","ngIfElse"],["userType",""],[1,"priority"],["mat-cell",""],["matTooltipPosition","above",3,"matTooltip"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-cell","",3,"matTooltip"],[4,"ngFor","ngForOf"],[1,"tags"],["mat-cell","",2,"cursor","pointer !important",3,"click"],["matTooltipPosition","above",3,"matTooltip",4,"ngIf"],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],["mat-header-cell","","matTooltipPosition","above",2,"padding-right","0",3,"matTooltip"],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"disabled","matTooltip","click"],["svgIcon","close"],["mat-header-cell","","colspan","11",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"ms-filter-breadcrumb",0),t.\u0275\u0275listener("removeFilterTrigger",function(o){return n.removeFilterBreadcrumb(o)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"table",3),t.\u0275\u0275listener("matSortChange",function(o){return n.sortData(o)}),t.\u0275\u0275elementContainerStart(4,4),t.\u0275\u0275template(5,Fe,14,13,"th",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(6,6),t.\u0275\u0275template(7,Le,6,3,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,8),t.\u0275\u0275template(9,Ue,6,13,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,9),t.\u0275\u0275template(11,Ve,4,4,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,10),t.\u0275\u0275template(13,$e,4,4,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,11),t.\u0275\u0275template(15,qe,6,13,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(16,12),t.\u0275\u0275template(17,Ye,6,3,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,13),t.\u0275\u0275template(19,Ze,6,13,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(20,14),t.\u0275\u0275template(21,Je,6,13,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,15),t.\u0275\u0275template(23,an,6,13,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(24,16),t.\u0275\u0275template(25,on,1,0,"th",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(26,17),t.\u0275\u0275template(27,rn,1,0,"th",18),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(28,19),t.\u0275\u0275template(29,ln,2,3,"th",18),t.\u0275\u0275template(30,sn,2,2,"td",20),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(31,21),t.\u0275\u0275template(32,cn,5,6,"th",22),t.\u0275\u0275template(33,dn,2,2,"td",23),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(34,24),t.\u0275\u0275template(35,pn,5,6,"th",22),t.\u0275\u0275template(36,un,4,6,"td",23),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(37,25),t.\u0275\u0275template(38,mn,5,6,"th",22),t.\u0275\u0275template(39,_n,6,14,"td",23),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(40,26),t.\u0275\u0275template(41,hn,5,6,"th",22),t.\u0275\u0275template(42,Cn,4,3,"td",23),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(43,27),t.\u0275\u0275template(44,vn,5,6,"th",22),t.\u0275\u0275template(45,bn,2,2,"td",23),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(46,28),t.\u0275\u0275template(47,Tn,5,6,"th",22),t.\u0275\u0275template(48,xn,2,2,"td",23),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(49,29),t.\u0275\u0275template(50,yn,5,6,"th",22),t.\u0275\u0275template(51,Sn,3,2,"td",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(52,31),t.\u0275\u0275template(53,On,5,6,"th",32),t.\u0275\u0275template(54,In,2,2,"td",33),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(55,34),t.\u0275\u0275template(56,Pn,5,6,"th",32),t.\u0275\u0275template(57,Vn,11,10,"td",35),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(58,36),t.\u0275\u0275template(59,$n,5,6,"th",37),t.\u0275\u0275template(60,jn,3,2,"td",30),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(61,38),t.\u0275\u0275template(62,qn,3,0,"th",39),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(63,Yn,1,0,"tr",40),t.\u0275\u0275template(64,Hn,1,0,"tr",40),t.\u0275\u0275template(65,Kn,1,0,"tr",40),t.\u0275\u0275template(66,Wn,1,1,"tr",41),t.\u0275\u0275template(67,Zn,1,1,"tr",42),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(68,zn,3,3,"div",43),t.\u0275\u0275elementStart(69,"div",44)(70,"mat-paginator",45),t.\u0275\u0275listener("page",function(o){return n.changePage(o)}),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(71,Qn,2,0,"div",46)),2&e&&(t.\u0275\u0275property("filterBreadcrumbData",n.filterBreadcrumbData),t.\u0275\u0275advance(3),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(60),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(13,Xn)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(14,Jn)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.paginator.length<1&&!n.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(15,ti,n.paginator.length<1||n.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(17,ei,n.paginator.length<=10))("hidePageSize",!0)("pageSizeOptions",t.\u0275\u0275pureFunction0(19,ni)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponseTask))},dependencies:[r.mk,r.sg,r.O5,O.lW,Pe.oG,j.Mq,j.hl,j.nW,w.Hw,P.KE,P.R9,G.Nt,tt.VK,tt.OP,tt.p6,E.NW,T.Ou,F.YE,F.nU,S.BZ,S.fO,S.as,S.w1,S.Dz,S.nj,S.ge,S.ev,S.XQ,S.Gk,ke.gM,u.DefaultValueAccessor,u.CheckboxControlValueAccessor,u.NgControlStatus,u.NgModel,u.FormControlDirective,Ee.oO,Me.r,H.w9,H.ir,H.Cm,r.gd,I.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{margin-top:6px}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}.mat-datepicker-toggle[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;margin-bottom:5px}th.mat-header-cell.cdk-header-cell.cdk-column-descriptionFilter.mat-column-descriptionFilter[_ngcontent-%COMP%]{padding-right:10px}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454;padding-left:.5rem!important;padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:3rem}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:7rem}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:3.5%;max-width:100px;min-width:100px}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:14.5%}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:14.5%}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){width:3%;text-align:center!important;max-width:35px;min-width:35px}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){width:7rem}[_nghost-%COMP%]     table tr td:nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){width:7%;max-width:75px;min-width:75px}[_nghost-%COMP%]     table tr td:nth-child(9), [_nghost-%COMP%]     table tr th:nth-child(9){width:14%;max-width:165px;min-width:165px}[_nghost-%COMP%]     table tr td:nth-child(10), [_nghost-%COMP%]     table tr th:nth-child(10){width:16%;max-width:190px;min-width:190px}[_nghost-%COMP%]     table tr td:nth-child(11), [_nghost-%COMP%]     table tr th:nth-child(11){min-width:100px;max-width:100px;padding-right:0!important;text-align:center!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top;text-align:center}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.non-sort-header[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:center}.horizontal[_ngcontent-%COMP%]{overflow:hidden}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.icon-svgIcon-menu[_ngcontent-%COMP%]{margin-top:-4px!important;width:19px!important;height:19px!important}  .filterPanel{margin-top:26px!important}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgba(255,255,255,.7)!important;min-height:42px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container{width:12px;height:12px;margin-left:7px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background{background-color:transparent}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-checkmark .mat-checkbox-checkmark-path{stroke:#000!important}  .all-input.mat-checkbox-indeterminate .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-mixedmark{background-color:#000!important}.float-label[_ngcontent-%COMP%]{font-size:.82rem;color:#ffffff78;font-weight:600;position:absolute;top:-3px}  .filterPanel{margin-top:25px!important}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:0!important;top:auto!important;padding-bottom:0!important}.super-filter[_ngcontent-%COMP%]{width:250px}.custom-filter-table[_ngcontent-%COMP%]     .ng-select{width:90%!important;padding:2px!important;margin:7px 0 0 5px!important}  .mat-form-field-underline{background-color:#ffffffb3!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{color:#fff}  .custom-ngselect-content .ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}  .custom-ngselect-content .ng-dropdown-panel-items .ng-option{white-space:break-spaces!important}  .custom-ngselect-content.ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}']}),i})(),canActivate:[p(25360).n],data:{permission:"tasks.show_perm"}},{path:"**",redirectTo:"",pathMatch:"full"}];let ri=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[D.Bz.forChild(oi),D.Bz]}),i})();var li=p(93730);let si=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({providers:[r.uU],imports:[r.ez,li.m,ri,H.A0]}),i})()}}]);