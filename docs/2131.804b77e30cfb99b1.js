"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[2131],{75223:(J,R,p)=>{p.d(R,{r:()=>x});var l=p(94650),T=p(89383),w=p(36895),U=p(97392);function m(f,P){1&f&&(l.\u0275\u0275elementStart(0,"span",12),l.\u0275\u0275text(1," , "),l.\u0275\u0275elementEnd())}function y(f,P){if(1&f&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275template(3,m,2,0,"span",11),l.\u0275\u0275elementContainerEnd()),2&f){const c=P.$implicit,F=P.last;l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",l.\u0275\u0275pipeBind1(2,2,c)," "),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",!F)}}function d(f,P){if(1&f){const c=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"mat-icon",13),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(c);const k=l.\u0275\u0275nextContext(3),I=k.$implicit,L=k.index,H=l.\u0275\u0275nextContext(3);return l.\u0275\u0275resetView(H.removeFilter(I,L))}),l.\u0275\u0275text(1,"close"),l.\u0275\u0275elementEnd()}}function u(f,P){if(1&f&&(l.\u0275\u0275elementStart(0,"span",9),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275template(3,y,4,4,"ng-container",7),l.\u0275\u0275template(4,d,2,0,"mat-icon",10),l.\u0275\u0275elementEnd()),2&f){const c=l.\u0275\u0275nextContext(2).$implicit,F=l.\u0275\u0275nextContext(3);l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1("",l.\u0275\u0275pipeBind1(2,3,null==c?null:c.column)," : "),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngForOf",null==c?null:c.key),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!(F.isReadmission&&"scholar_season"===(null==c?null:c.name)))}}function M(f,P){if(1&f){const c=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"mat-icon",13),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(c);const k=l.\u0275\u0275nextContext(3),I=k.$implicit,L=k.index,H=l.\u0275\u0275nextContext(3);return l.\u0275\u0275resetView(H.removeFilter(I,L))}),l.\u0275\u0275text(1,"close"),l.\u0275\u0275elementEnd()}}function b(f,P){if(1&f&&(l.\u0275\u0275elementStart(0,"span",9),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275pipe(3,"translate"),l.\u0275\u0275template(4,M,2,0,"mat-icon",10),l.\u0275\u0275elementEnd()),2&f){const c=l.\u0275\u0275nextContext(2).$implicit,F=l.\u0275\u0275nextContext(3);l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate2("",l.\u0275\u0275pipeBind1(2,3,null==c?null:c.column)," : ",l.\u0275\u0275pipeBind1(3,5,null==c?null:c.key)," "),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",!(F.isReadmission&&"scholar_season"===(null==c?null:c.name)))}}function v(f,P){if(1&f&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275template(1,u,5,5,"span",8),l.\u0275\u0275template(2,b,5,7,"span",8),l.\u0275\u0275elementContainerEnd()),2&f){const c=l.\u0275\u0275nextContext().$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",null==c?null:c.isMultiple),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!(null!=c&&c.isMultiple))}}function N(f,P){if(1&f&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275template(1,v,3,2,"ng-container",1),l.\u0275\u0275elementContainerEnd()),2&f){const c=P.$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf","super_filter"===(null==c?null:c.type))}}function V(f,P){if(1&f&&(l.\u0275\u0275elementStart(0,"div",4)(1,"span",5),l.\u0275\u0275text(2),l.\u0275\u0275pipe(3,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(4,"span"),l.\u0275\u0275text(5,":"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"span",6),l.\u0275\u0275template(7,N,2,1,"ng-container",7),l.\u0275\u0275elementEnd()()),2&f){const c=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(1),l.\u0275\u0275property("ngClass","en"===c.translate.currentLang?"filter-type":"filter-type-fr"),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1("",l.\u0275\u0275pipeBind1(3,3,"Super Filter")," "),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngForOf",c.filterBreadcrumbData)}}function B(f,P){1&f&&(l.\u0275\u0275elementStart(0,"span",12),l.\u0275\u0275text(1," , "),l.\u0275\u0275elementEnd())}function K(f,P){if(1&f&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275template(3,B,2,0,"span",11),l.\u0275\u0275elementContainerEnd()),2&f){const c=P.$implicit,F=P.last,k=l.\u0275\u0275nextContext(3).$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",null!=k&&k.noTranslate?c:l.\u0275\u0275pipeBind1(2,2,c)," "),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",!F)}}function _(f,P){if(1&f){const c=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"span",9),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275pipe(3,"translate"),l.\u0275\u0275template(4,K,4,4,"ng-container",7),l.\u0275\u0275elementStart(5,"mat-icon",13),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(c);const k=l.\u0275\u0275nextContext(2),I=k.$implicit,L=k.index,H=l.\u0275\u0275nextContext(3);return l.\u0275\u0275resetView(H.removeFilter(I,L))}),l.\u0275\u0275text(6,"close"),l.\u0275\u0275elementEnd()()}if(2&f){const c=l.\u0275\u0275nextContext(2).$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1("",null!=c&&c.stepColumnName?l.\u0275\u0275pipeBind1(2,2,null==c?null:c.stepColumnName)+" "+(null==c?null:c.column):l.\u0275\u0275pipeBind1(3,4,null==c?null:c.column)," : "),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngForOf",null==c?null:c.key)}}function it(f,P){if(1&f){const c=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"span",9),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275pipe(3,"translate"),l.\u0275\u0275pipe(4,"translate"),l.\u0275\u0275elementStart(5,"mat-icon",13),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(c);const k=l.\u0275\u0275nextContext(2),I=k.$implicit,L=k.index,H=l.\u0275\u0275nextContext(3);return l.\u0275\u0275resetView(H.removeFilter(I,L))}),l.\u0275\u0275text(6,"close"),l.\u0275\u0275elementEnd()()}if(2&f){const c=l.\u0275\u0275nextContext(2).$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate2("",null!=c&&c.stepColumnName?l.\u0275\u0275pipeBind1(2,2,null==c?null:c.stepColumnName)+" "+(null==c?null:c.column):l.\u0275\u0275pipeBind1(3,4,null==c?null:c.column)," : ",!0===(null==c?null:c.noTranslate)?null==c?null:c.key:l.\u0275\u0275pipeBind1(4,6,null==c?null:c.key)," ")}}function D(f,P){if(1&f&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275template(1,_,7,6,"span",8),l.\u0275\u0275template(2,it,7,8,"span",8),l.\u0275\u0275elementContainerEnd()),2&f){const c=l.\u0275\u0275nextContext().$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",null==c?null:c.isMultiple),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!(null!=c&&c.isMultiple))}}function Y(f,P){if(1&f&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275template(1,D,3,2,"ng-container",1),l.\u0275\u0275elementContainerEnd()),2&f){const c=P.$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf","table_filter"===(null==c?null:c.type))}}function $(f,P){if(1&f&&(l.\u0275\u0275elementStart(0,"div",14)(1,"span",5),l.\u0275\u0275text(2),l.\u0275\u0275pipe(3,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(4,"span"),l.\u0275\u0275text(5,":"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"span",6),l.\u0275\u0275template(7,Y,2,1,"ng-container",7),l.\u0275\u0275elementEnd()()),2&f){const c=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(1),l.\u0275\u0275property("ngClass","en"===c.translate.currentLang?"filter-type":"filter-type-fr"),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1("",l.\u0275\u0275pipeBind1(3,3,"Table Filter")," "),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngForOf",c.filterBreadcrumbData)}}function t(f,P){if(1&f){const c=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"span",9),l.\u0275\u0275text(2),l.\u0275\u0275pipe(3,"translate"),l.\u0275\u0275elementStart(4,"mat-icon",13),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(c);const k=l.\u0275\u0275nextContext(),I=k.$implicit,L=k.index,H=l.\u0275\u0275nextContext(3);return l.\u0275\u0275resetView(H.removeFilter(I,L))}),l.\u0275\u0275text(5,"close"),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementContainerEnd()}if(2&f){const c=l.\u0275\u0275nextContext().$implicit;l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("",l.\u0275\u0275pipeBind1(3,1,null==c?null:c.key)," ")}}function E(f,P){if(1&f&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275template(1,t,6,3,"ng-container",1),l.\u0275\u0275elementContainerEnd()),2&f){const c=P.$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf","action_filter"===(null==c?null:c.type))}}function at(f,P){if(1&f&&(l.\u0275\u0275elementStart(0,"div",14)(1,"span",5),l.\u0275\u0275text(2),l.\u0275\u0275pipe(3,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(4,"span"),l.\u0275\u0275text(5,":"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"span",6),l.\u0275\u0275template(7,E,2,1,"ng-container",7),l.\u0275\u0275elementEnd()()),2&f){const c=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(1),l.\u0275\u0275property("ngClass","en"===c.translate.currentLang?"filter-type":"filter-type-fr"),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1("",l.\u0275\u0275pipeBind1(3,3,"Action Filter")," "),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngForOf",c.filterBreadcrumbData)}}function ot(f,P){if(1&f&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275template(1,V,8,5,"div",2),l.\u0275\u0275template(2,$,8,5,"div",3),l.\u0275\u0275template(3,at,8,5,"div",3),l.\u0275\u0275elementContainerEnd()),2&f){const c=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",c.filterDataExist("super_filter")),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",c.filterDataExist("table_filter")),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",c.filterDataExist("action_filter"))}}let x=(()=>{class f{constructor(c){this.translate=c,this.removeFilterTrigger=new l.EventEmitter}ngOnInit(){}filterDataExist(c){return!!this.filterBreadcrumbData.find(k=>k?.type===c)}removeFilter(c,F){this.filterBreadcrumbData.splice(F,1),this.removeFilterTrigger.emit(c)}}return f.\u0275fac=function(c){return new(c||f)(l.\u0275\u0275directiveInject(T.sK))},f.\u0275cmp=l.\u0275\u0275defineComponent({type:f,selectors:[["ms-filter-breadcrumb"]],inputs:{filterBreadcrumbData:"filterBreadcrumbData",isReadmission:"isReadmission"},outputs:{removeFilterTrigger:"removeFilterTrigger"},decls:2,vars:1,consts:[[1,"filter-breadcrumb"],[4,"ngIf"],["class","filter-breadcrumb-container mt-10",4,"ngIf"],["class","filter-breadcrumb-container",4,"ngIf"],[1,"filter-breadcrumb-container","mt-10"],[3,"ngClass"],[1,"breadcrumb-value"],[4,"ngFor","ngForOf"],["class","breadcrumb-filter",4,"ngIf"],[1,"breadcrumb-filter"],["class","icon-remove",3,"click",4,"ngIf"],["class","comma",4,"ngIf"],[1,"comma"],[1,"icon-remove",3,"click"],[1,"filter-breadcrumb-container"]],template:function(c,F){1&c&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275template(1,ot,4,3,"ng-container",1),l.\u0275\u0275elementEnd()),2&c&&(l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",null==F.filterBreadcrumbData?null:F.filterBreadcrumbData.length))},dependencies:[w.mk,w.sg,w.O5,U.Hw,T.X$],styles:[".filter-breadcrumb[_ngcontent-%COMP%]{padding:1rem}.filter-breadcrumb-container[_ngcontent-%COMP%]{display:flex;align-items:baseline}.filter-breadcrumb-container[_ngcontent-%COMP%] ~ .filter-breadcrumb-container[_ngcontent-%COMP%]{margin-top:1rem}.breadcrumb-value[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:0 1rem;gap:4px}.filter-type[_ngcontent-%COMP%]{width:100px}.filter-type-fr[_ngcontent-%COMP%]{width:150px}.breadcrumb-filter[_ngcontent-%COMP%]{background-color:#ffd740;color:#000;padding:.25rem .5rem;border-radius:.375rem;font-size:.75rem;display:flex;flex-wrap:wrap;align-items:center}.comma[_ngcontent-%COMP%]{margin-right:4px}.icon-remove[_ngcontent-%COMP%]{vertical-align:middle;margin-left:.25rem;font-size:inherit;cursor:pointer}"]}),f})()},22437:(J,R,p)=>{p.d(R,{q:()=>T});var l=p(94650);let T=(()=>{class w{constructor(){this.filterSingle=(m,y,d,u,M="")=>null==y?"":M+m?.find(b=>b[d]===y)?.[u],this.filterSingleBoolean=(m,y,d,u,M="")=>null==y?"":M+m?.find(b=>"boolean"==typeof b[d]?JSON.stringify(b[d])===y:"string"==typeof b[d]?b[d]===y:void 0)?.[u],this.filterMultiple=(m,y,d,u,M="")=>y?.length?null===d&&null===u?m.filter(b=>y?.includes(b)).map(b=>M+b):m.filter(b=>y?.includes(b[d]))?.map(b=>M+b[u]):[],this.isValueObject=m=>"object"==typeof m&&!Array.isArray(m)&&null!==m,this.getNestedObjectValue=(m,y)=>{for(const d in m){if(d===y)return m[y];if(this.isValueObject(m[y]))return this.getNestedObjectValue(m[d],y)}},this.getKey=m=>{if(null===m?.filterValue)return null;const y=null===m?.name?m?.filterValue:"boolean"==typeof m?.filterValue?.[m?.name]?String(m?.filterValue?.[m.name]):m.filterValue?.[m.name],d=m.isMultiple,u=m.isSelectionInput,M=m?.fixedValues,b=m?.translationPrefix??"";if(null==y)return null;if(!u&&this.isValueObject(y)&&m?.nestedKey)return b+this.getNestedObjectValue(y,m.nestedKey);if(!u)return b+y;let v;if(M)if(Array.isArray(y))v=M?.filter(V=>y?.includes(V));else if("string"==typeof y||"boolean"==typeof y)return v=M?.find(V=>y===V),v;const N=d?this.filterMultiple(m.filterList,y,m.savedValue,m.displayKey,m.translationPrefix):"boolean"==typeof m?.filterValue?.[m?.name]||"false"===m?.filterValue?.[m?.name]||"true"===m?.filterValue?.[m?.name]?this.filterSingleBoolean(m.filterList,y,m.savedValue,m.displayKey,m.translationPrefix):this.filterSingle(m.filterList,y,m.savedValue,m.displayKey,m.translationPrefix);return d&&v?N.concat(...M):N}}filterBreadcrumb(m,y){const{type:d,column:u}=m,M=y.findIndex(b=>b?.type===d&&b?.column===u);-1!==M?(y[M]=m,!(Array.isArray(y[M]?.value)?y[M]?.value?.length:y[M]?.value)&&!(Array.isArray(y[M]?.key)?y[M]?.key?.length:y[M]?.key)&&y.splice(M,1)):(-1===M&&Array.isArray(m?.value)?m?.value?.length:m?.value)&&y.push(m)}removeFilterBreadcrumb(m,y,d,u,M=!1){"super_filter"===m.type&&y?y[m.name]=null:"table_filter"===m.type&&d?d[m.name]=null:"action_filter"===m.type&&u&&(u[m.name]=null),m?.filterRef?.patchValue(m?.resetValue??null,{emitEvent:M})}filterBreadcrumbFormat(m,y){const d=[...y];for(const u of m){const M=null===u.name?u?.filterValue:"boolean"==typeof u?.filterValue?.[u.name]?String(u?.filterValue?.[u.name]):u?.filterValue?.[u.name],b={type:u.type,name:u.name,column:u.column,filterList:u?.filterList,value:M||null,isMultiple:u.isMultiple,filterRef:u.filterRef,resetValue:u.resetValue,noTranslate:u?.noTranslate,stepColumnName:u?.stepColumnName,key:this.getKey(u)};this.filterBreadcrumb(b,d)}return d}}return w.\u0275fac=function(m){return new(m||w)},w.\u0275prov=l.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},72131:(J,R,p)=>{p.r(R),p.d(R,{FinanceHistoryModule:()=>ri});var l=p(36895),T=p(93730),w=p(30160),U=p(33300),m=p(610),y=p(25360),d=p(17489),u=p(1059),M=p(22868),b=p(24850),v=p(80013),N=p(98739),V=p(96308),B=p(53626),K=p(68745),_=p(24006),it=p(95017),D=p(15439),Y=p(10830),$=p(62416),t=p(94650),E=p(65938),at=p(9749),ot=p(35226),x=p.n(ot),f=p(29521),P=p(89383),c=p(52688),F=p(91013),k=p(80484),I=p(73555),L=p(47957),H=p(3238),Q=p(4859),tt=p(77331),q=p(97392),G=p(59549),lt=p(284),et=p(51572),ct=p(10266),bt=p(37204);const Ct=["languagesInput"],yt=["recipientCc"],xt=["recipientBcc"],Ot=["auto"],vt=["myInput"];function Mt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",27),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.sendMail())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"send"),t.\u0275\u0275elementEnd()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"MailBox.SEND"))}function Pt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-icon",28),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2,"send"),t.\u0275\u0275elementEnd()),2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"MailBox.SEND"))}function St(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-icon",31),t.\u0275\u0275text(1,"cancel"),t.\u0275\u0275elementEnd())}function Tt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-chip",29),t.\u0275\u0275listener("removed",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.removeTo(o))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,St,2,0,"mat-icon",30),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("selectable",n.selectable)("removable",n.removable),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.removable)}}function Et(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",32),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function wt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-icon",31),t.\u0275\u0275text(1,"cancel"),t.\u0275\u0275elementEnd())}function kt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-chip",29),t.\u0275\u0275listener("removed",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.removeCc(o))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,wt,2,0,"mat-icon",30),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("selectable",n.selectable)("removable",n.removable),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.removable)}}function Ft(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",37),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.resetValueCc())}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function Dt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-form-field",12)(1,"mat-chip-list",null,33),t.\u0275\u0275template(3,kt,3,4,"mat-chip",14),t.\u0275\u0275elementStart(4,"input",34,35),t.\u0275\u0275listener("matChipInputTokenEnd",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.addCc(a))}),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"mat-autocomplete",17,18),t.\u0275\u0275listener("optionSelected",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.setSelectedEmailCc(a))}),t.\u0275\u0275template(9,Ft,2,2,"mat-option",36),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(2),n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",a.selectedEmailCc),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder"," ",t.\u0275\u0275pipeBind1(6,8,"MailBox.composeMail.cc"),""),t.\u0275\u0275property("matAutocomplete",n)("matChipInputFor",e)("matChipInputSeparatorKeyCodes",a.separatorKeysCodesCc)("matChipInputAddOnBlur",a.addOnBlurCc),t.\u0275\u0275advance(3),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.emailAddressesListCc)}}function It(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-icon",31),t.\u0275\u0275text(1,"cancel"),t.\u0275\u0275elementEnd())}function Bt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-chip",29),t.\u0275\u0275listener("removed",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.removeBcc(o))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,It,2,0,"mat-icon",30),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("selectable",n.selectable)("removable",n.removable),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.removable)}}function At(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",32),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function Nt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-form-field",12)(1,"mat-chip-list",null,38),t.\u0275\u0275template(3,Bt,3,4,"mat-chip",14),t.\u0275\u0275elementStart(4,"input",39,40),t.\u0275\u0275listener("matChipInputTokenEnd",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.addBcc(a))}),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"mat-autocomplete",17,18),t.\u0275\u0275listener("optionSelected",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.setSelectedEmailBcc(a))}),t.\u0275\u0275template(9,At,2,2,"mat-option",19),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275reference(2),n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",a.selectedEmailBcc),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder"," ",t.\u0275\u0275pipeBind1(6,8,"MailBox.composeMail.bcc"),""),t.\u0275\u0275property("matAutocomplete",n)("matChipInputFor",e)("matChipInputSeparatorKeyCodes",a.separatorKeysCodesBcc)("matChipInputAddOnBlur",a.addOnBlurBcc),t.\u0275\u0275advance(3),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.emailAddressesListBcc)}}function Lt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ht(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",41)(1,"button",42)(2,"mat-icon"),t.\u0275\u0275text(3,"insert_drive_file"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"label"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",43),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.removeAttachment(o))}),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8," close "),t.\u0275\u0275elementEnd()()()}if(2&i){const e=r.$implicit;t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(e.name)}}function Vt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",44),t.\u0275\u0275element(1,"mat-progress-spinner",45),t.\u0275\u0275elementEnd())}var j=(()=>{return(i=j||(j={})).LABEL="LABEL",i.VALUE="VALUE",i.OBJECT="OBJECT",j;var i})();let Rt=(()=>{class i{constructor(e,n,a,o,s,h,O){this.data=e,this.translate=n,this.userService=a,this.mailboxService=o,this.fileUploadService=s,this.dialogref=h,this.fb=O,this.subs=new K.Y,this.Editor=at,this.showCC=!1,this.showBCC=!1,this.config={},this.selectedEmailTo=[],this.selectedEmailCc=[],this.selectedEmailBcc=[],this.selectedRecepientsList=[],this.ccselectedRecepientsList=[],this.bccselectedRecepientsList=[],this.recpList=[],this.recpListCc=[],this.recpListBcc=[],this.listIntakeChannel=[{value:"20-21 EFANEW 1",name:"20-21 EFANEW 1"},{value:"20-21 EFANEW 2",name:"20-21 EFANEW 2"},{value:"20-21 EFANEW 3",name:"20-21 EFANEW 3"},{value:"20-21 EFANEW 4",name:"20-21 EFANEW 4"},{value:"20-21 EFANEW 5",name:"20-21 EFANEW 5"}],this.emailAddressesListTo=[],this.emailAddressesListCc=[],this.emailAddressesListBcc=[],this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.addOnBlurCc=!0,this.addOnBlurBcc=!0,this.showCCInput=!1,this.showBCCInput=!1,this.allowOther=!1,this.returnType=j.LABEL,this.optionSelected=new t.EventEmitter,this.separatorKeysCodes=[f.K5,f.OC],this.separatorKeysCodesCc=[f.K5,f.OC],this.separatorKeysCodesBcc=[f.K5,f.OC],this.attachmnetsPaths=[],this.isGroupEmail=!1,this.isWaitingForResponse=!1,this.sendEmailForm=this.fb.group({to:["",_.Validators.required],cc:["",_.Validators.required],bcc:["",_.Validators.required],subject:["",_.Validators.required],message:["",_.Validators.required]})}ngOnInit(){this.isPermission=this.userService.getPermission(),this.currentUser=this.userService.getLocalStorageUser(),this.getRecipientsData(),this.getDataStudent(),console.log("parent data ",this.data)}removeAttachment(e){this.attachmnetsPaths.splice(this.attachmnetsPaths.indexOf(e),1)}getDataStudent(){this.data&&this.data.length&&this.data.forEach(n=>{this.preSelectedEmail=("neutral"!==n.civility?this.translate.instant(n.civility)+" ":"")+n.first_name+" "+n.last_name+" <"+n.email+">",this.selectedEmailTo.push(("neutral"!==n.civility?this.translate.instant(n.civility)+" ":"")+n.first_name+" "+n.last_name+" <"+n.email+">"),this.emailAddressesListTo.push(this.preSelectedEmail),this.validateEmail(n.email)?(this.selectedRecepientsList.push(n.email),console.log("Success")):console.log("Eror"),this.recpList.push(n.email)}),this.sendEmailForm.get("to").setValue(null),this.sendEmailForm.get("subject").setValue(""),this.getEmailMessage()}getEmailMessage(){let e="";this.data&&this.data.length&&(e+=this.translate.instant("Hello")+" ",this.data.forEach((s,h)=>{e+=this.translate.instant(s.civility)+" "+s.first_name+" "+s.last_name,e+=h!==this.data.length-1?", ":"."}));let n="";n+="<p></p><p></p><p></p><p></p>",n+=("neutral"!==this.currentUser.civility?this.translate.instant(this.currentUser.civility)+" ":"")+this.currentUser.first_name+" "+this.currentUser.last_name;const a=this.currentUser.entities.filter(s=>s.type.name===this.isPermission[0]),o=d.uniqBy(a,"school.short_name");n+=this.currentUser?.position?",<br>"+this.currentUser?.position:"",n+=o&&o.length&&o[0].school&&o[0].school.short_name?",<br>"+o[0].school.short_name:"",this.sendEmailForm.get("message").setValue(e+n)}validateEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}setSelectedEmail(e,n){n.setValue(e)}closeDialog(){x().fire({title:this.translate.instant("MailBox.composeMail.DRAFT.TITLE"),html:this.translate.instant("MailBox.composeMail.DRAFT.TEXT"),type:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("MailBox.composeMail.DRAFT.CONFIRMBTN"),cancelButtonText:this.translate.instant("MailBox.composeMail.DRAFT.DECBTN")}).then(e=>{e.value?(this.saveDraft(),this.dialogref.close()):this.dialogref.close()})}saveDraft(){const e=this.sendEmailForm.value;if(""!==e.subject||""!==e.message&&void 0!==e.message){const n=[];this.mailData={};const a=this.recpList,o=this.recpListCc,s=this.recpListBcc;this.currentUser=this.userService.getLocalStorageUser();const h={sender:this.currentUser.email,is_read:!1,mail_type:"draft"};if(a){const g=a.toString().split(",");for(let C=0;C<g.length;C++)g[C]=g[C].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(g[C])&&n.push({recipients:[g[C]],rank:"a",is_read:!1,mail_type:"draft"})}if(o){const g=o.toString().split(",");for(let C=0;C<g.length;C++)g[C]=g[C].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(g[C])&&n.push({recipients:[g[C]],rank:"cc",is_read:!1,mail_type:"draft"})}if(s){const g=s.toString().split(",");for(let C=0;C<g.length;C++)g[C]=g[C].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(g[C])&&n.push({recipients:[g[C]],rank:"c",is_read:!1,mail_type:"draft"})}const O=[],S=[];this.attachmnetsPaths.forEach(g=>{const C={file_name:g.name,path:g.path};S.push(g.name),O.push(C)}),this.mailData.sender_property=h,this.mailData.recipient_properties=n,this.mailData.subject=e.subject,this.mailData.message=e.message,this.mailData.is_sent=!1,this.mailData.status="active",this.mailData.is_urgent_mail=!1,this.mailData.attachments=S,this.mailData.file_attachments=O,this.mailData.tags=["draft"],this.isGroupEmail&&(this.mailData.is_group_parent=this.isGroupEmail,this.mailData.user_type_selection=e.user_type_selection,this.mailData.group_detail=this.computeGroupDetails()),this.subs.sink=this.mailboxService.createMail(this.mailData).subscribe(g=>{x().fire({type:"info",title:this.translate.instant("MailBox.MESSAGES.DRAFTMSG"),text:"",confirmButtonText:this.translate.instant("MailBox.MESSAGES.THANK"),allowOutsideClick:!1})},g=>{this.userService.postErrorLog(g),g&&g.message&&g.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:g&&g.message?this.translate.instant(g.message.replaceAll("GraphQL error: ","")):g,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}sendMail(){this.isWaitingForResponse=!0;const e=this.sendEmailForm.value;if(""!==e.subject||""!==e.message&&void 0!==e.message){const n=[];this.mailData={};const a=this.recpList,o=this.recpListCc,s=this.recpListBcc;this.currentUser=this.userService.getLocalStorageUser();const h={sender:this.currentUser.email,is_read:!1,mail_type:"sent"};if(a){const g=a.toString().split(",");for(let C=0;C<g.length;C++)g[C]=g[C].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(g[C])&&n.push({recipients:[g[C]],rank:"a",is_read:!1,mail_type:"inbox"})}if(o){const g=o.toString().split(",");for(let C=0;C<g.length;C++)g[C]=g[C].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(g[C])&&n.push({recipients:[g[C]],rank:"cc",is_read:!1,mail_type:"inbox"})}if(s){const g=s.toString().split(",");for(let C=0;C<g.length;C++)g[C]=g[C].replace(/^\s*/,"").replace(/\s*$/,""),this.validateEmail(g[C])&&n.push({recipients:[g[C]],rank:"c",is_read:!1,mail_type:"inbox"})}const O=[],S=[];this.attachmnetsPaths.forEach(g=>{const C={file_name:g.name,path:g.path};S.push(g.name),O.push(C)}),this.mailData.sender_property=h,this.mailData.recipient_properties=n,this.mailData.subject=e.subject,this.mailData.message=e.message,this.mailData.is_sent=!0,this.mailData.status="active",this.mailData.attachments=S,this.mailData.file_attachments=O,this.mailData.tags=["sent"],this.isGroupEmail&&(this.mailData.is_group_parent=this.isGroupEmail,this.mailData.user_type_selection=e.user_type_selection,this.mailData.group_detail=this.computeGroupDetails()),console.log("Mail Student : ",this.mailData),this.subs.sink=this.mailboxService.createMail(this.mailData).subscribe(g=>{this.isWaitingForResponse=!1,this.dialogref.close(),x().fire({allowOutsideClick:!1,title:this.translate.instant("MailBox.composeMail.MESSAGES.TITLE"),text:this.translate.instant("MailBox.composeMail.MESSAGES.TEXT"),allowEscapeKey:!0,type:"success",confirmButtonText:this.translate.instant("MailBox.composeMail.MESSAGES.CONFIRMBTN")})},g=>{this.isWaitingForResponse=!1,this.userService.postErrorLog(g),g&&g.message&&g.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:g&&g.message?this.translate.instant(g.message.replaceAll("GraphQL error: ","")):g,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}setSelectedEmailTo(e){const n=e.option.value,a=n.split(" ");let o="";a.forEach(A=>{o=A});const h=o.replace("<","").replace(">","");this.validateEmail(h)?(this.selectedEmailTo.push(n),this.selectedRecepientsList.push(n),console.log("Success")):console.log("Eror");const O=n.split(" ");let S="";O.forEach(A=>{S=A});const C=S.replace("<","").replace(">","");this.recpList.push(C),this.languagesInput.nativeElement.value="",this.sendEmailForm.get("to").setValue(null),this.emitSelectedLanguagesTo()}setSelectedEmailCc(e){const n=e.option.value,a=n.split(" ");let o="";a.forEach(A=>{o=A});const h=o.replace("<","").replace(">","");this.validateEmail(h)?(this.selectedEmailCc.push(n),this.selectedRecepientsList.push(n),console.log("Success")):console.log("Eror");const O=n.split(" ");let S="";O.forEach(A=>{S=A});const C=S.replace("<","").replace(">","");this.recpListCc.push(C),this.recipientCc.nativeElement.value="",this.sendEmailForm.get("cc").patchValue("",{emitEvent:!0}),this.sendEmailForm.get("cc").setValue("")}setSelectedEmailBcc(e){const n=e.option.value,a=n.split(" ");let o="";a.forEach(A=>{o=A});const h=o.replace("<","").replace(">","");this.validateEmail(h)?(this.selectedEmailBcc.push(n),this.selectedRecepientsList.push(n),console.log("Success")):console.log("Eror");const O=n.split(" ");let S="";O.forEach(A=>{S=A});const C=S.replace("<","").replace(">","");this.recpListBcc.push(C),this.sendEmailForm.get("bcc").setValue(null),this.sendEmailForm.get("bcc").setValue(""),this.recipientBcc.nativeElement.value=""}emitSelectedLanguagesTo(){this.optionSelected.emit(this.returnType===j.OBJECT?this.selectedEmailTo:this.selectedEmailTo.map(this.returnType===j.VALUE?e=>e.value:e=>e.label))}emitSelectedLanguagesCc(){this.optionSelected.emit(this.returnType===j.OBJECT?this.selectedEmailCc:this.selectedEmailCc.map(this.returnType===j.VALUE?e=>e.value:e=>e.label))}emitSelectedLanguagesBcc(){this.optionSelected.emit(this.returnType===j.OBJECT?this.selectedEmailBcc:this.selectedEmailBcc.map(this.returnType===j.VALUE?e=>e.value:e=>e.label))}removeTo(e){const n=this.selectedEmailTo.findIndex(o=>o===e),a=this.selectedRecepientsList.findIndex(o=>o===e);n>=0&&this.selectedEmailTo.splice(n,1),a>=0&&this.selectedRecepientsList.splice(a,1),this.emitSelectedLanguagesTo()}removeCc(e){const n=this.selectedEmailCc.findIndex(o=>o===e),a=this.selectedRecepientsList.findIndex(o=>o===e);n>=0&&this.selectedEmailCc.splice(n,1),a>=0&&this.selectedRecepientsList.splice(a,1),this.emitSelectedLanguagesCc()}removeBcc(e){const n=this.selectedEmailBcc.findIndex(o=>o===e),a=this.selectedRecepientsList.findIndex(o=>o===e);n>=0&&this.selectedEmailBcc.splice(n,1),a>=0&&this.selectedRecepientsList.splice(a,1),this.emitSelectedLanguagesBcc()}addTo(e){if(!this.matAutocomplete.isOpen){const n=e.chipInput.inputElement,a=e.value,o=a.split(" ");let s="";o.forEach(S=>{s=S});const O=s.replace("<","").replace(">","");this.validateEmail(O)?(a||"").trim()&&this.allowOther&&this.selectedEmailTo.push({label:a.trim(),value:a.trim()}):console.log("Error not email type!! : ",a),n&&(n.value=""),this.sendEmailForm.get("to").setValue(null),this.sendEmailForm.get("to").setValue("")}this.emitSelectedLanguagesTo()}addCc(e){if(!this.matAutocomplete.isOpen){const n=e.chipInput.inputElement,a=e.value,o=a.split(" ");let s="";o.forEach(S=>{s=S});const O=s.replace("<","").replace(">","");this.validateEmail(O)?(a||"").trim()&&this.allowOther&&this.selectedEmailCc.push({label:a.trim(),value:a.trim()}):console.log("Error not email type!! : ",a),n&&(n.value=""),this.sendEmailForm.get("cc").setValue(null),this.sendEmailForm.get("cc").setValue("")}this.emitSelectedLanguagesCc()}addBcc(e){if(!this.matAutocomplete.isOpen){const n=e.chipInput.inputElement,a=e.value,o=a.split(" ");let s="";o.forEach(S=>{s=S});const O=s.replace("<","").replace(">","");this.validateEmail(O)?(a||"").trim()&&this.allowOther&&this.selectedEmailBcc.push({label:a.trim(),value:a.trim()}):console.log("Error not email type!! : ",a),n&&(n.value=""),this.sendEmailForm.get("bcc").setValue(null),this.sendEmailForm.get("bcc").setValue("")}this.emitSelectedLanguagesBcc()}resetValueTo(){this.sendEmailForm.get("to").patchValue("",{emitEvent:!0})}resetValueCc(){this.sendEmailForm.get("cc").patchValue("",{emitEvent:!0})}resetValueBcc(){this.sendEmailForm.get("bcc").patchValue("",{emitEvent:!0})}computeGroupDetails(){const e=this.sendEmailForm.get("rncp_titles").value.map(a=>a.id);let n=[];return this.sendEmailForm.get("user_type_selection").value&&(n=this.sendEmailForm.get("user_types").value.map(a=>a.id)),{rncp_titles:e,user_types:n}}handleInputChange(e){const n=e.target.files[0];n&&(this.subs.sink=this.fileUploadService.singleUpload(n).subscribe(a=>{a?this.attachmnetsPaths.push({path:a.file_url,name:a.file_name}):x().fire({type:"info",title:this.translate.instant("SORRY"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("OK")})},a=>{this.userService.postErrorLog(a),a&&a.message&&a.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})),this.resetFileState()}resetFileState(){this.currentFile.nativeElement.value=""}getRecipientsData(){this.subs.sink=this.sendEmailForm.get("to").valueChanges.pipe((0,v.b)(800)).subscribe(e=>{this.emailAddressesListTo=[],e&&e.length&&(this.subs.sink=this.mailboxService.getRecipientDataUsingName(e.toString()).subscribe(n=>{n&&n.length&&n.filter(o=>!this.selectedRecepientsList.includes(("neutral"!==o.civility?this.translate.instant(o.civility)+" ":"")+o.first_name+" "+o.last_name+" <"+o.email+">")).concat(this.selectedRecepientsList.filter(o=>!this.selectedRecepientsList.includes(o.civility+" "+o.first_name+" "+o.last_name+" <"+o.email+">"))).forEach(o=>{void 0!==o.email&&this.emailAddressesListTo.push(("neutral"!==o.civility?this.translate.instant(o.civility)+" ":"")+o.first_name+" "+o.last_name+" <"+o.email+">")})},n=>{this.userService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}),this.subs.sink=this.sendEmailForm.get("cc").valueChanges.pipe((0,v.b)(800)).subscribe(e=>{this.emailAddressesListCc=[],e&&e.length&&(this.subs.sink=this.mailboxService.getRecipientDataUsingName(e.toString()).subscribe(n=>{n&&n.length&&n.filter(o=>!this.selectedRecepientsList.includes(("neutral"!==o.civility?this.translate.instant(o.civility)+" ":"")+o.first_name+" "+o.last_name+" <"+o.email+">")).concat(this.selectedRecepientsList.filter(o=>!this.selectedRecepientsList.includes(o.civility+" "+o.first_name+" "+o.last_name+" <"+o.email+">"))).forEach(o=>{void 0!==o.email&&this.emailAddressesListCc.push(("neutral"!==o.civility?this.translate.instant(o.civility)+" ":"")+o.first_name+" "+o.last_name+" <"+o.email+">")})},n=>{this.userService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}),this.subs.sink=this.sendEmailForm.get("bcc").valueChanges.pipe((0,v.b)(800)).subscribe(e=>{this.emailAddressesListBcc=[],e&&e.length&&(this.subs.sink=this.mailboxService.getRecipientDataUsingName(e.toString()).subscribe(n=>{n&&n.length&&n.filter(o=>!this.selectedRecepientsList.includes(this.translate.instant(o.civility)+" "+o.first_name+" "+o.last_name+" <"+o.email+">")).concat(this.selectedRecepientsList.filter(o=>!this.selectedRecepientsList.includes(o.civility+" "+o.first_name+" "+o.last_name+" <"+o.email+">"))).forEach(o=>{void 0!==o.email&&this.emailAddressesListBcc.push(("neutral"!==o.civility?this.translate.instant(o.civility)+" ":"")+o.first_name+" "+o.last_name+" <"+o.email+">")})},n=>{this.userService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}getCurrentUser(){this.currentUser=this.userService.getLocalStorageUser()}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(E.WI),t.\u0275\u0275directiveInject(P.sK),t.\u0275\u0275directiveInject(c.e),t.\u0275\u0275directiveInject(F.e),t.\u0275\u0275directiveInject(k.J),t.\u0275\u0275directiveInject(E.so),t.\u0275\u0275directiveInject(_.UntypedFormBuilder))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-mail-history-finance-dialog"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(Ct,5),t.\u0275\u0275viewQuery(yt,5),t.\u0275\u0275viewQuery(xt,5),t.\u0275\u0275viewQuery(Ot,5),t.\u0275\u0275viewQuery(vt,5)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.languagesInput=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.recipientCc=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.recipientBcc=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.matAutocomplete=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.currentFile=a.first)}},inputs:{allowOther:"allowOther",returnType:"returnType"},outputs:{optionSelected:"optionSelected"},decls:46,vars:35,consts:[[3,"formGroup"],[1,"fontColor"],["mat-dialog-title","","cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle",""],["svgIcon","pencil",1,"icon-style"],[1,"alignment"],[1,"icon-style",3,"matTooltip","click"],[1,"icon-style",3,"click"],[1,"icon-style",3,"matTooltip"],["type","file","name","file","multiple","","accept",".jpeg,.png,.rar,.zip,.doc,.docx,.ppt,.pdf,.xls",2,"display","none",3,"change"],["myInput",""],["class","vertical-align-mid cursorStyle",3,"matTooltip","click",4,"ngIf"],["style","color: rgb(170, 168, 168)","class","vertical-align-mid cursorStyle",3,"matTooltip",4,"ngIf"],[1,"chip-list"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","email","formControlName","to",3,"placeholder","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["languagesInput",""],[3,"panelWidth","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["class","chip-list",4,"ngIf"],["matInput","","formControlName","subject",3,"placeholder"],[4,"ngIf"],[1,"file-section","p-col-12"],["class","fileInfo",4,"ngFor","ngForOf"],["formControlName","message",3,"editor","config","ready"],["class","loading-indicator",4,"ngIf"],[1,"vertical-align-mid","cursorStyle",3,"matTooltip","click"],[1,"vertical-align-mid","cursorStyle",2,"color","rgb(170, 168, 168)",3,"matTooltip"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],["chipListCc",""],["formControlName","cc",3,"placeholder","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["recipientCc",""],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["chipListBcc",""],["formControlName","bcc",3,"placeholder","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["recipientBcc",""],[1,"fileInfo"],["mat-icon-button","","type","button"],["mat-icon-button","","type","button",3,"click"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"form",0)(1,"div",1)(2,"h1",2),t.\u0275\u0275element(3,"mat-icon",3),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementStart(6,"div",4)(7,"mat-icon",5),t.\u0275\u0275listener("click",function(){return n.closeDialog()}),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275text(9,"close"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"label")(11,"a",6),t.\u0275\u0275listener("click",function(){return n.showCC=!n.showCC}),t.\u0275\u0275text(12,"CC"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(13,"label")(14,"a",6),t.\u0275\u0275listener("click",function(){return n.showBCC=!n.showBCC}),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(17,"label")(18,"mat-icon",7),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275text(20,"attachment"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"input",8,9),t.\u0275\u0275listener("change",function(o){return n.handleInputChange(o)}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(23,Mt,3,3,"mat-icon",10),t.\u0275\u0275template(24,Pt,3,3,"mat-icon",11),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(25,"mat-dialog-content")(26,"mat-form-field",12)(27,"mat-chip-list",null,13),t.\u0275\u0275template(29,Tt,3,4,"mat-chip",14),t.\u0275\u0275elementStart(30,"input",15,16),t.\u0275\u0275listener("matChipInputTokenEnd",function(o){return n.addTo(o)}),t.\u0275\u0275pipe(32,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(33,"mat-autocomplete",17,18),t.\u0275\u0275listener("optionSelected",function(o){return n.setSelectedEmailTo(o)}),t.\u0275\u0275template(35,Et,2,2,"mat-option",19),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(36,Dt,10,10,"mat-form-field",20),t.\u0275\u0275template(37,Nt,10,10,"mat-form-field",20),t.\u0275\u0275elementStart(38,"mat-form-field"),t.\u0275\u0275element(39,"input",21),t.\u0275\u0275pipe(40,"translate"),t.\u0275\u0275template(41,Lt,3,3,"mat-error",22),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(42,"div",23),t.\u0275\u0275template(43,Ht,9,1,"div",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(44,"ckeditor",25),t.\u0275\u0275listener("ready",function(o){return n.onReady(o)}),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(45,Vt,2,0,"div",26)),2&e){const a=t.\u0275\u0275reference(28),o=t.\u0275\u0275reference(34);t.\u0275\u0275property("formGroup",n.sendEmailForm),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,23,"MailBox.composeMail.title")," "),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(8,25,"CLOSE")),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(16,27,"MailBox.composeMail.bcc")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(19,29,"MailBox.ATTACH_FILE")),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",n.sendEmailForm.get("subject").value&&n.selectedEmailTo.length&&!n.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(n.sendEmailForm.get("subject").value&&n.selectedEmailTo.length&&!n.isWaitingForResponse)),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngForOf",n.selectedEmailTo),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder"," ",t.\u0275\u0275pipeBind1(32,31,"MailBox.composeMail.to"),""),t.\u0275\u0275property("matAutocomplete",o)("matChipInputFor",a)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes)("matChipInputAddOnBlur",n.addOnBlur),t.\u0275\u0275advance(3),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.emailAddressesListTo),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.showCC||n.showCCInput),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.showBCC||n.showBCCInput),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(40,33,"MailBox.subject")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.sendEmailForm.get("subject").hasError("required")&&(n.sendEmailForm.get("subject").dirty||n.sendEmailForm.get("subject").touched)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.attachmnetsPaths),t.\u0275\u0275advance(1),t.\u0275\u0275property("editor",n.Editor)("config",n.config),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWaitingForResponse)}},dependencies:[I.Zt,I.Bh,L.XC,L.ZL,H.ey,Q.lW,tt.qn,tt.HS,tt.oH,tt.qH,E.uh,E.xY,q.Hw,G.TO,G.KE,lt.Nt,et.Ou,ct.gM,_.\u0275NgNoValidate,_.DefaultValueAccessor,_.NgControlStatus,_.NgControlStatusGroup,_.FormGroupDirective,_.FormControlName,l.sg,l.O5,bt.u,P.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}[_nghost-%COMP%]     .mat-dialog-content{max-height:520px;height:auto}[_nghost-%COMP%]     .ck-editor__editable_inline{height:45vh}.alignment[_ngcontent-%COMP%]{float:right}.cursorStyle[_ngcontent-%COMP%]{cursor:pointer}.fileInfo[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin:5px!important;display:inline-block!important;border:1px solid rgba(0,0,0,.1);z-index:10;box-shadow:inset 1px 1px #0000001a,inset 0 -1px #00000012}.chip-list[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}"]}),i})();var dt=p(83515),Ut=p(87746),Yt=p(84075),$t=p(84130),pt=p(44758),rt=p(94442),W=p(99602),mt=p(71948),nt=p(24784);function jt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",31),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.selectedUser(o))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit;t.\u0275\u0275property("value",e.first_name+" "+e.last_name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.first_name," ",t.\u0275\u0275pipeBind1(2,3,e.last_name)," ")}}function zt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"p",39),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}const Kt=function(i){return{"invalid-input":i}};function Gt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",14)(2,"div",32)(3,"mat-form-field",33)(4,"input",34,35),t.\u0275\u0275listener("focusout",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275reference(5),o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.documentNameErrorValidation(a))})("keypress",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275reference(5),o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.documentNameErrorValidation(a))}),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(7,zt,3,3,"p",36),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",37)(9,"button",38),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275reference(5),o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.addDocument(a))}),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275reference(5),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(9,Kt,n.documentNameError)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(6,5,"TASK.NAMEDOCUMENT")," *"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.documentNameError),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(11,7,"TASK.ADDEXPECTEDDOCUMENT")," ")}}function Wt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",14)(2,"div",32)(3,"mat-form-field"),t.\u0275\u0275element(4,"input",40,41),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",37)(8,"button",38),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275reference(5),o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.addDocument(a))}),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd()}if(2&i){const e=t.\u0275\u0275reference(5);t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(6,3,"TASK.NAMEDOCUMENT")),t.\u0275\u0275advance(4),t.\u0275\u0275property("disabled",!e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(10,5,"TASK.ADDEXPECTEDDOCUMENT")," ")}}function Jt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",42)(1,"mat-form-field",43),t.\u0275\u0275element(2,"input",44),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"a",45),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.removeDocument(o))}),t.\u0275\u0275elementStart(4,"mat-icon"),t.\u0275\u0275text(5,"remove_circle"),t.\u0275\u0275elementEnd()()()}if(2&i){const e=r.index,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroupName",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("readonly",n.form.value.documents[e].isDocumentAssigned)}}function Qt(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",46),t.\u0275\u0275element(1,"mat-progress-spinner",47),t.\u0275\u0275elementEnd())}let qt=(()=>{class i{constructor(e,n,a,o,s,h,O,S,g,C,A,X,st,z){this.fb=e,this.dialogRef=n,this.parentData=a,this.translate=o,this.userService=s,this.utilService=h,this.auth=O,this.permission=S,this.permissionService=g,this.parseLocaltoUTC=C,this.parseStringDatePipe=A,this.parseUTCToLocalPipe=X,this.dateAdapter=st,this.financeService=z,this.subs=new K.Y,this.toggleValue=!1,this.internalTaskToggle=!0,this.users=[],this.isWaitingForResponse=!1,this.isUserCertifierAdmin=!1,this.isUserCertifierDir=!1,this.isCRDir=!1,this.isCRAdmin=!1,this.selectedTitleId=[],this.selectedUserTypeId=[],this.titleReady=!1,this.userReady=!1,this.userTypeReady=!1,this.today=new Date,this.isADMTC=!1,this.documentNameError=!1}ngOnInit(){this.dateAdapter.setLocale(this.translate.currentLang),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.dateAdapter.setLocale(this.translate.currentLang)}),this.isPermission=this.auth.getPermission(),this.isADMTC=this.utilService.isUserEntityADMTC(),this.isCRAdmin=!!this.permission.getPermission("Certifier Admin"),this.isCRDir=!!this.permission.getPermission("CR School Director"),this.currentUser=this.auth.getLocalStorageUser(),this.isUserCertifierAdmin=this.utilService.isCertifierAdmin(),this.isUserCertifierDir=this.utilService.isCertifierDirector(),this.initializeForm(),this.getDataUser()}getDataUser(){this.isWaitingForResponse=!0;const e=!this.parentData.to||["-","null"].includes(this.parentData.to)?"":this.parentData.to;this.subs.sink=this.financeService.GetAllUsersByLegal(e).subscribe(n=>{this.isWaitingForResponse=!1,this.listUser=n,this.userList=d.uniqBy(this.listUser,"first_name"),this.originalUserList=d.uniqBy(this.listUser,"first_name"),this.users=this.userList},n=>{this.isWaitingForResponse=!1,this.auth.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}initializeForm(){this.form=this.fb.group({users:["",_.Validators.required],class_id:[""],userTypes:[""],priority:["1",_.Validators.required],date:["",_.Validators.required],description:["",_.Validators.required],originalRncpTitle:[""],originalClass:[""],originalUserTypes:[""],originalUser:[""],documents:this.fb.array([])})}getDataTask(e){if(e){const n={internalTask:!1,rncpTitle:e.rncp.short_name,users:e.user_selection.user_id?e.user_selection.user_id.first_name+" "+e.user_selection.user_id.last_name:"",userTypes:e.user_selection.user_type_id?e.user_selection.user_type_id.name:"",priority:e.priority?e.priority.toString():"",date:e.due_date?this.parseStringDatePipe.transformStringToDate(this.parseUTCToLocalPipe.transformDate(e.due_date.date,e.due_date.time)):"",description:e.description,documents:e.expected_document?e.expected_document:[],originalRncpTitle:e.rncp._id,originalUserTypes:e.user_selection.user_type_id?e.user_selection.user_type_id._id:"",originalUser:e.user_selection.user_id?e.user_selection.user_id._id:""};n.originalUser&&this.selectedUser(n.originalUser),n.originalUserTypes&&this.selectedUserType(n.originalUserTypes),this.form.patchValue(n)}}categoryChange(e){e.checked?(console.log("Check"),this.form.get("users").patchValue(null),this.form.get("users").updateValueAndValidity(),this.form.get("users").clearValidators(),this.form.get("users").updateValueAndValidity(),this.form.get("userTypes").setValidators([_.Validators.required]),this.form.get("userTypes").updateValueAndValidity()):(console.log("Unceck"),this.form.get("userTypes").patchValue(null),this.form.get("userTypes").updateValueAndValidity(),this.form.get("userTypes").clearValidators(),this.form.get("userTypes").updateValueAndValidity(),this.form.get("users").setValidators([_.Validators.required]),this.form.get("users").updateValueAndValidity())}selectedUser(e){this.userReady=!1,this.form.get("originalUser").setValue(e._id)}selectedUserType(e){this.userReady=!1,this.form.get("originalUserTypes").setValue(e);const n=[];n.push(this.form.get("originalRncpTitle").value),"5a067bba1c0217218c75f8ab"===e?this.userService.getUserTypeStudent(n,e).subscribe(a=>{this.userRecipientList=a},a=>{this.auth.postErrorLog(a)}):this.userService.getUserType(n,e).subscribe(a=>{this.userRecipientList=a},a=>{this.auth.postErrorLog(a)}),this.selectedTitleId=[this.form.get("originalRncpTitle").value],this.selectedUserTypeId=[e]}intenalTaskToggleChange(e){this.internalTaskToggle=e.checked,this.internalTaskToggle&&(this.users=this.userList)}documentNameErrorValidation(e){this.documentNameError=!e.value}addDocument(e){e.value?(this.documents=this.form.get("documents"),this.documents.push(this.buildDocuments(e.value))):this.documentNameError=!0,e.value=""}buildDocuments(e){return new _.UntypedFormGroup({name:new _.UntypedFormControl(e||""),isDocumentAssigned:new _.UntypedFormControl(!!e)})}removeDocument(e){if(JSON.stringify(this.documents.value[e])!==JSON.stringify(this.buildDocuments("").value)){let o=3;x().fire({title:this.translate.instant("DASHBOARD_DELETE.deletedTitle"),html:this.translate.instant("This action will delete document expected !"),type:"warning",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("THUMBSUP.SWEET_ALERT.CONFIRM",{timer:o}),cancelButtonText:this.translate.instant("DASHBOARD_DELETE.NO"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{x().disableConfirmButton();const s=x().getConfirmButton(),h=setInterval(()=>{o-=1,s.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1")+` (${o})`},1e3);this.timeOutVal=setTimeout(()=>{s.innerText=this.translate.instant("DELETE_ITEM_TEMPLATE.BUTTON_1"),x().enableConfirmButton(),clearInterval(h),clearTimeout(this.timeOutVal)},1e3*o)}}).then(s=>{clearTimeout(this.timeOutVal),s.value&&(this.documents=this.form.get("documents"),this.documents.removeAt(e),x().fire({type:"success",title:this.translate.instant("EVENT_S1.TITLE"),html:this.translate.instant("Document Expected Deleted"),confirmButtonText:this.translate.instant("EVENT_S1.BUTTON")}))})}else this.documents=this.form.get("documents"),this.documents.removeAt(e)}keyupUser(e){this.userReady=!0}keyupUserType(e){this.userTypeReady=!0}keyupTitle(e){this.titleReady=!0}valueChange(e){"title"===e?this.titleReady=!1:"user"===e?this.userReady=!1:"type"===e&&(this.userTypeReady=!1)}createTask(){x().fire({title:this.translate.instant("TASKCREATED.TITLE"),html:this.translate.instant("TASKCREATED.TEXT"),allowEscapeKey:!0,type:"success",confirmButtonText:this.translate.instant("TASKCREATED.BUTTON")}).then(e=>{this.dialogRef.close()})}getDueDate(){return this.parseLocaltoUTC.transformDate(D(this.form.get("date").value).format("DD/MM/YYYY"),"00:00")}getTodayTime(){return this.parseLocaltoUTC.transform("00:00")}getTodayDate(){return this.parseLocaltoUTC.transformDate(D(this.today).format("DD/MM/YYYY"),"00:00")}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(_.UntypedFormBuilder),t.\u0275\u0275directiveInject(E.so),t.\u0275\u0275directiveInject(E.WI),t.\u0275\u0275directiveInject(P.sK),t.\u0275\u0275directiveInject(Ut.K),t.\u0275\u0275directiveInject(Yt.t),t.\u0275\u0275directiveInject(c.e),t.\u0275\u0275directiveInject($t.YI),t.\u0275\u0275directiveInject(pt.$),t.\u0275\u0275directiveInject(dt.w),t.\u0275\u0275directiveInject(Y.n),t.\u0275\u0275directiveInject($.t),t.\u0275\u0275directiveInject(H._A),t.\u0275\u0275directiveInject(rt.N))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-add-history-task-dialog"]],features:[t.\u0275\u0275ProvidersFeature([Y.n,dt.w,$.t])],decls:64,vars:41,consts:[[3,"formGroup"],[2,"color","black"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"p-grid","p-0","dialog-border"],[1,"p-col"],["mat-dialog-title","",2,"display","flex","margin-bottom","0 !important"],["svgIcon","tick-checkbox"],[2,"margin-left","5px"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],["appearance","outline"],["type","text","matInput","","formControlName","users",3,"placeholder","matAutocomplete","keyup"],["autoActiveFirstOption","",3,"panelWidth","optionSelected"],["autoUsers","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[2,"margin-top","5px","margin-left","-10px"],[1,"p-grid"],[1,"p-col-6","pad-t-md","pad-l-none"],["formControlName","priority"],["value","1","id","one"],["value","2","id","two"],["value","3","id","three"],[1,"p-col-6"],["matInput","","readonly","","formControlName","date",3,"matDatepicker","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["matInput","","rows","2","formControlName","description",3,"placeholder"],[4,"ngIf"],["formArrayName","documents",4,"ngFor","ngForOf"],["align","center"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"disabled","click"],["class","loading-indicator",4,"ngIf"],[3,"value","click"],[1,"p-col-7","pad-l-none"],[3,"ngClass"],["matInput","",3,"placeholder","focusout","keypress"],["docAdd",""],["style","color: red; margin-top: -15px; font-size: 10.5px",4,"ngIf"],[1,"p-col-5","pad-r-none"],["mat-raised-button","","color","primary","type","button",1,"float-right",3,"disabled","click"],[2,"color","red","margin-top","-15px","font-size","10.5px"],["matInput","",3,"placeholder"],["docAdd1",""],["formArrayName","documents"],[2,"width","80%",3,"formGroupName"],["matInput","","type","text","formControlName","name",3,"readonly"],["color","primary","type","button",2,"cursor","pointer",3,"click"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){if(1&e){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275elementContainerStart(4),t.\u0275\u0275elementStart(5,"h1",4),t.\u0275\u0275element(6,"mat-icon",5),t.\u0275\u0275elementStart(7,"span",6),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",3)(11,"button",7)(12,"mat-icon"),t.\u0275\u0275text(13,"close"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(14,"mat-dialog-content")(15,"mat-form-field",8)(16,"input",9),t.\u0275\u0275listener("keyup",function(){return n.keyupUser("type")}),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"mat-autocomplete",10,11),t.\u0275\u0275listener("optionSelected",function(){return n.valueChange("user")}),t.\u0275\u0275template(20,jt,3,5,"mat-option",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"mat-error",13),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"div",14)(25,"div",15)(26,"label"),t.\u0275\u0275text(27),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(29,"mat-radio-group",16)(30,"mat-radio-button",17),t.\u0275\u0275text(31,"1"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(32,"mat-radio-button",18),t.\u0275\u0275text(33,"2"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(34,"mat-radio-button",19),t.\u0275\u0275text(35,"3"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(36,"div",20)(37,"mat-form-field")(38,"input",21),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(a);const s=t.\u0275\u0275reference(42);return t.\u0275\u0275resetView(s.open())}),t.\u0275\u0275pipe(39,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(40,"mat-datepicker-toggle",22)(41,"mat-datepicker",null,23),t.\u0275\u0275elementStart(43,"mat-error"),t.\u0275\u0275text(44),t.\u0275\u0275pipe(45,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(46,"mat-form-field"),t.\u0275\u0275element(47,"textarea",24),t.\u0275\u0275pipe(48,"translate"),t.\u0275\u0275elementStart(49,"mat-error"),t.\u0275\u0275text(50),t.\u0275\u0275pipe(51,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerStart(52),t.\u0275\u0275template(53,Gt,12,11,"ng-container",25),t.\u0275\u0275template(54,Wt,11,7,"ng-container",25),t.\u0275\u0275template(55,Jt,6,2,"div",26),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(56,"mat-dialog-actions",27)(57,"button",28),t.\u0275\u0275text(58),t.\u0275\u0275pipe(59,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(60,"button",29),t.\u0275\u0275listener("click",function(){return n.createTask()}),t.\u0275\u0275text(61),t.\u0275\u0275pipe(62,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(63,Qt,2,0,"div",30)}if(2&e){const a=t.\u0275\u0275reference(19),o=t.\u0275\u0275reference(42);t.\u0275\u0275property("formGroup",n.form),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,21,"Add_Task_Internal")),t.\u0275\u0275advance(8),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(17,23,"User")," *"),t.\u0275\u0275property("matAutocomplete",a),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelWidth","fit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.userList),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(23,25,"This field is required")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(28,27,"DASHBOARD.PRIORITY"),":"),t.\u0275\u0275advance(11),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(39,29,"DASHBOARD.DUEDATE")),t.\u0275\u0275property("matDatepicker",o),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",o),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(45,31,"This field is required")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(48,33,"Description")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(51,35,"This field is required")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!(null!=n.documents&&null!=n.documents.value&&n.documents.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.documents||null==n.documents.value?null:n.documents.value.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==n.documents?null:n.documents.value),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(59,37,"CANCEL")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",n.isWaitingForResponse||!n.form.valid||n.userReady),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(62,39,"SUBMIT")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse)}},dependencies:[I.Zt,I.Bh,L.XC,L.ZL,H.ey,Q.lW,W.Mq,W.hl,W.nW,E.ZT,E.uh,E.xY,E.H8,q.Hw,G.TO,G.KE,G.R9,lt.Nt,et.Ou,mt.VQ,mt.U0,_.\u0275NgNoValidate,_.DefaultValueAccessor,_.NgControlStatus,_.NgControlStatusGroup,_.FormGroupDirective,_.FormControlName,_.FormGroupName,_.FormArrayName,nt.oO,l.mk,l.sg,l.O5,P.X$,l.gd],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}mat-slide-toggle[_ngcontent-%COMP%], button[_ngcontent-%COMP%], mat-radio-button[_ngcontent-%COMP%]{font-size:.87rem}label[_ngcontent-%COMP%], mat-radio-button[_ngcontent-%COMP%]{margin-right:1rem}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}[_nghost-%COMP%]  .mat-form-field-outline-thick{height:40px!important}[_nghost-%COMP%]  .mat-form-field-outline{height:40px!important}[_nghost-%COMP%]  .mat-form-field-invalid .mat-input-element::placeholder{color:#f44336!important}[_nghost-%COMP%]  .mat-form-field.invalid-input .mat-input-element{color:#ff5722!important}[_nghost-%COMP%]  .mat-form-field.invalid-input .mat-form-field-label{color:#ff5722!important}[_nghost-%COMP%]  .mat-form-field.invalid-input .mat-form-field-label .mat-form-field-required-marker{color:#ff5722!important}[_nghost-%COMP%]  .mat-form-field.invalid-input .mat-form-field-underline{background-color:#ff5722!important}.mat-icon[_ngcontent-%COMP%]{max-width:none!important;max-height:none!important}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:20px}"]}),i})();var ht=p(95321),Z=p(88796);const ut=function(i){return{"card-selected":i}};function Zt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",36),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.selectedWhoCall(o))}),t.\u0275\u0275elementStart(2,"div",37)(3,"h5",24),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"uppercase"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(8,ut,(null==n.selectedStudent?null:n.selectedStudent._id)===e._id)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3(" ",null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(5,4,null==e?null:e.civility)," ",null==e?null:e.first_name," ",t.\u0275\u0275pipeBind1(6,6,null==e?null:e.last_name),"")}}function Xt(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",36),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.selectedWhoFinanceCall(o))}),t.\u0275\u0275elementStart(1,"div",37)(2,"h5",24),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(6,ut,(null==n.selectedPayer?null:n.selectedPayer.name)===e.name)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate3("",t.\u0275\u0275pipeBind1(4,4,null==e?null:e.civility)," ",null==e?null:e.name," ",null==e?null:e.family_name,"")}}function te(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,Xt,5,8,"div",38),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.selectedStudent||null==e.selectedStudent.candidate_id?null:e.selectedStudent.candidate_id.payment_supports)}}function ee(i,r){1&i&&(t.\u0275\u0275elementStart(0,"div",39),t.\u0275\u0275element(1,"mat-progress-spinner",40),t.\u0275\u0275elementEnd())}let ne=(()=>{class i{constructor(e,n,a,o,s,h,O,S,g){this.dialogRef=e,this.fb=n,this.translate=a,this.parseStringDatePipe=o,this.parseUTCToLocalPipe=s,this.acadJourneyService=h,this.data=O,this.financeService=S,this.authService=g,this.subs=new K.Y,this.isMainAddressSelected=!1,this.isStudentFinanceSelected=!1,this.isParentSelected=!1,this.isParentFinanceSelected=!1,this.isUncleSelected=!1,this.nationalitiesList=[],this.nationalList=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.currencyList=[],this.mappingBilling=[],this.studentFilter=new _.UntypedFormControl(null),this.isLoading=!1,this.toFilterList=[{value:"Student",key:"Student"},{value:"Finance Support",key:"Finance Support"}]}ngOnInit(){this.today=new Date,this.iniVerificationForm(),this.subs.sink=this.acadJourneyService.getCurrency().subscribe(e=>{this.currencyList=e}),this.subs.sink=this.financeService.reconciliationImport.subscribe(e=>{e&&(this.reconciliationImport=e)}),this.getDataStudent()}translateDate(e,n){if(e){const o=this.parseStringDatePipe.transformStringToDate(this.parseUTCToLocalPipe.transformDate(e,n||"15:59"));return D(o,"DD/MM/YYYY").format("DD/MM/YY")}return""}iniVerificationForm(){this.identityForm=this.fb.group({civility:[null,_.Validators.required],from:[null,_.Validators.required],to:[null,_.Validators.required],amount:[null],method:[null],currency:["EUR"],date_of_birth:[null,_.Validators.required],reference:[null,_.Validators.required],note:[null,_.Validators.required]})}submitVerification(){if(this.selectedStudent&&(this.data.student_id=this.selectedStudent,this.selectedStudent.candidate_id&&this.selectedStudent.candidate_id._id&&(this.data.candidate_id=this.selectedStudent.candidate_id._id)),this.selectedPayer){const e="neutral"!==this.selectedPayer.civility?this.selectedPayer.civility:"";this.data.payment_support=`${this.translate.instant(e)} ${this.selectedPayer.name} ${this.selectedPayer.family_name}`,this.data.from=`${this.translate.instant(e)} ${this.selectedPayer.name} ${this.selectedPayer.family_name}`}this.data.letter=!0,this.data.student_id&&(this.isLoading=!0,this.financeService.getAcountingNumber(this.data.student_id._id,this.data.totalStudentAssigned).subscribe(e=>{this.isLoading=!1,this.data.accounting_document=e,delete this.data.totalStudentAssigned,x().fire({type:"success",title:this.translate.instant("Bravo!"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("INTERNSHIP_S4.BUTTON")}).then(n=>this.dialogRef.close(this.data))},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")&&x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})}))}getDataStudent(){this.subs.sink=this.financeService.getAllBillingForReconciliation('filter: { legal_entity: "'+(this.data.to?this.data.to:"")+'"}').subscribe(n=>{n&&n.length&&(this.mappingBilling=n.map(a=>({candidate_id:a.candidate_id,civility:a.student_id.civility,email:a.student_id.email,first_name:a.student_id.first_name,last_name:a.student_id.last_name,_id:a.student_id._id,full_name:a.student_id.last_name+" "+a.student_id.first_name+" "+("neutral"!==a.student_id.civility?this.translate.instant(a.student_id.civility):"")})))},n=>{this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}closeDialog(){this.dialogRef.close()}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}selectedWhoCall(e){this.studentFilter.setValue(null),this.selectedStudent=e}selectStudentFromOption(e){if(console.log(e),e){const n={candidate_id:e.candidate_id,civility:e.civility,email:e.email,first_name:e.first_name,last_name:e.last_name,_id:e._id};this.selectedStudent=n,console.log(this.selectedStudent,n)}else this.selectedStudent=null}selectedWhoFinanceCall(e){this.selectedPayer=e}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(E.so),t.\u0275\u0275directiveInject(_.UntypedFormBuilder),t.\u0275\u0275directiveInject(P.sK),t.\u0275\u0275directiveInject(Y.n),t.\u0275\u0275directiveInject($.t),t.\u0275\u0275directiveInject(ht.g),t.\u0275\u0275directiveInject(E.WI),t.\u0275\u0275directiveInject(rt.N),t.\u0275\u0275directiveInject(c.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-history-reconciliation-dialog"]],features:[t.\u0275\u0275ProvidersFeature([Y.n,$.t])],decls:107,vars:36,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],[2,"vertical-align","middle"],[1,"p-col-10","acad-title"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding"],[1,"card-lettrage"],[1,"p-col-12"],[1,"p-col-12","inline","no-padding"],[1,"p-col-12","no-padding",2,"margin-bottom","10px"],[1,"inline","no-padding"],[1,"p-col-6","inline","no-padding"],[1,"p-col-4","inline","no-padding"],[1,"p-col-8","inline","no-padding"],[1,"p-col-12","no-padding","header-who"],[1,"cards"],[1,"icon-who","no-padding"],[1,"name-who",2,"text-align","left"],[1,"dialogTitles"],[4,"ngFor","ngForOf"],[1,"p-col-fixed","search-manual","no-padding"],[1,"p-col","option-list","no-padding"],[1,"p-grid","baseline"],["bindLabel","full_name","bindValue","full_name",1,"mrgn-btn","custom-style-ngselect",2,"width","100%",3,"items","multiple","placeholder","formControl","change"],["svgIcon","account-heart",2,"vertical-align","middle"],[4,"ngIf"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"disabled","click"],["class","loading-indicator",4,"ngIf"],[1,"card",3,"ngClass","click"],[1,"name-who"],["class","card",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5,"help"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",5)(7,"h3",6),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",7)(11,"button",8)(12,"mat-icon"),t.\u0275\u0275text(13,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(14,"form",9)(15,"div",10)(16,"mat-dialog-content")(17,"div",2)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14)(22,"div",2)(23,"div",15)(24,"div",16),t.\u0275\u0275text(25),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(26,"div",17)(27,"div",2)(28,"div",11)(29,"div",17),t.\u0275\u0275text(30,"Pi\xe8ce Comptable:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(31,"div",17),t.\u0275\u0275text(32),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(33,"div",2)(34,"div",11)(35,"div",17),t.\u0275\u0275text(36,"Type de transaction:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(37,"div",17),t.\u0275\u0275text(38),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(39,"div",2)(40,"div",11)(41,"div",17),t.\u0275\u0275text(42,"De:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(43,"div",17),t.\u0275\u0275text(44),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(45,"div",17)(46,"div",2)(47,"div",11)(48,"div",18),t.\u0275\u0275text(49,"Date:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(50,"div",19),t.\u0275\u0275text(51),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(52,"div",2)(53,"div",11)(54,"div",18),t.\u0275\u0275text(55,"Montant:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(56,"div",19),t.\u0275\u0275text(57),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(58,"div",2)(59,"div",11)(60,"div",18),t.\u0275\u0275text(61,"A:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(62,"div",19),t.\u0275\u0275text(63),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275elementStart(64,"div",20)(65,"div",12)(66,"div",11)(67,"div",21)(68,"div",22)(69,"mat-icon",4),t.\u0275\u0275text(70,"school"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(71,"div",23)(72,"h4",24),t.\u0275\u0275text(73),t.\u0275\u0275pipe(74,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(75,Zt,7,10,"div",25),t.\u0275\u0275elementStart(76,"div")(77,"div")(78,"div",11)(79,"div",26)(80,"h5"),t.\u0275\u0275text(81),t.\u0275\u0275pipe(82,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(83,"div",27)(84,"div",28)(85,"ng-select",29),t.\u0275\u0275listener("change",function(o){return n.selectStudentFromOption(o)}),t.\u0275\u0275pipe(86,"translate"),t.\u0275\u0275elementEnd()()()()()()()()(),t.\u0275\u0275elementStart(87,"div",20)(88,"div",12)(89,"div",11)(90,"div",21)(91,"div",22)(92,"mat-icon",30),t.\u0275\u0275text(93,"account-heart"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(94,"div",23)(95,"h4",24),t.\u0275\u0275text(96),t.\u0275\u0275pipe(97,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(98,te,2,1,"div",31),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(99,"mat-dialog-actions",32)(100,"button",33),t.\u0275\u0275text(101),t.\u0275\u0275pipe(102,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(103,"button",34),t.\u0275\u0275listener("click",function(){return n.submitVerification()}),t.\u0275\u0275text(104),t.\u0275\u0275pipe(105,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(106,ee,2,0,"div",35)),2&e&&(t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,22,"Manual Reconciliation")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",n.identityForm),t.\u0275\u0275advance(11),t.\u0275\u0275textInterpolate(null==n.data?null:n.data.reference),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(null==n.data?null:n.data.accounting_document),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(null==n.data?null:n.data.transaction_type),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(null==n.data?null:n.data.from),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(n.translateDate(null==n.data?null:n.data.transaction_date,null==n.data?null:n.data.transaction_time)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",null==n.data?null:n.data.amount," \u20ac"),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(n.reconciliationImport&&null!=n.reconciliationImport&&n.reconciliationImport.billing_entity?null==n.reconciliationImport?null:n.reconciliationImport.billing_entity:null==n.data?null:n.data.to),t.\u0275\u0275advance(10),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(74,24,"Apprenant Possible pour cette Transaction")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==n.data?null:n.data.student_ids),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(82,26,"Recherche manuelle :")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(86,28,"Student"),"*"),t.\u0275\u0275property("items",n.mappingBilling)("multiple",!1)("formControl",n.studentFilter),t.\u0275\u0275advance(11),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(97,30,"R\xe9pondant Financier Possible")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.selectedStudent),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(102,32,"CANCEL")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!n.selectedStudent||n.isLoading),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(105,34,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isLoading))},dependencies:[I.Zt,I.Bh,Q.lW,E.ZT,E.xY,E.H8,q.Hw,et.Ou,_.\u0275NgNoValidate,_.NgControlStatus,_.NgControlStatusGroup,_.FormControlDirective,_.FormGroupDirective,nt.oO,l.mk,l.sg,l.O5,Z.w9,P.X$,l.gd],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-15px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}.header-who[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.icon-who[_ngcontent-%COMP%]{width:30px;float:left;padding-top:0!important}.name-who[_ngcontent-%COMP%]{display:inline-block;text-align:center;margin-right:0!important;width:645px}.card-selected[_ngcontent-%COMP%]{background-color:#fdd835}.card[_ngcontent-%COMP%]{width:100%;padding-bottom:3px!important;padding:10px;vertical-align:middle;border:1px solid #252525;text-align:center;align-self:center;display:inline-block;cursor:pointer}.cards[_ngcontent-%COMP%]{width:100%;padding-bottom:3px!important;padding:10px;vertical-align:middle;border:1px solid #252525;text-align:center;align-self:center;display:inline-block}.inline[_ngcontent-%COMP%]{display:inline-block;text-align:left}.card-lettrage[_ngcontent-%COMP%]{border:1px solid black}.pad-v-none[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.search-manual[_ngcontent-%COMP%]{width:200px;display:inline-block;line-height:40px;float:left}.option-list[_ngcontent-%COMP%]{display:inline-block;width:446px}[_nghost-%COMP%]  .ng-select .ng-select-container{color:#000;background-color:#fff0;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option{text-align:left}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#000;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}[_nghost-%COMP%]  .custom-style-ngselect.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{white-space:normal!important}"]}),i})();const ie=function(i){return{"card-selected":i}};function ae(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",30),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.selectedDeposit())}),t.\u0275\u0275elementStart(2,"div",31)(3,"h5",25),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ie,e.isDepositSelected)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,2,"Deposit")," ")}}function oe(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",31)(1,"h5",25),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext(),n=e.index,a=e.$implicit,o=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate5(" ",o.data.transaction_type," ",n+1,"/",null==o.data||null==o.data.student_id||null==o.data.student_id.billing_id||null==o.data.student_id.billing_id.terms?null:o.data.student_id.billing_id.terms.length," - ",null==a||null==a.term_payment?null:a.term_payment.date," - ",null==a?null:a.term_amount," ")}}const le=function(i,r){return{"card-selected":i,hide:r}};function re(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",30),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e),o=a.$implicit,s=a.index,h=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(h.selectedTerm(o,s))}),t.\u0275\u0275template(1,oe,3,5,"div",33),t.\u0275\u0275elementEnd()}if(2&i){const e=r.$implicit;t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(2,le,null==e?null:e.status,null==e?null:e.is_term_paid)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0!==(null==e?null:e.term_amount))}}function se(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,re,2,5,"div",32),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==e.data||null==e.data.student_id||null==e.data.student_id.billing_id?null:e.data.student_id.billing_id.terms)}}let ce=(()=>{class i{constructor(e,n,a,o,s,h,O){this.dialogRef=e,this.fb=n,this.translate=a,this.parseUTCToLocalPipe=o,this.parseStringDatePipe=s,this.acadJourneyService=h,this.data=O,this.subs=new K.Y,this.isMainAddressSelected=!1,this.isStudentSelected=!1,this.isStudentFinanceSelected=!1,this.isParentSelected=!1,this.isParentFinanceSelected=!1,this.isUncleSelected=!1,this.nationalitiesList=[],this.nationalList=[],this.filteredCountry=[],this.cities=[],this.filteredCities=[],this.departments=[],this.filteredDepartments=[],this.regions=[],this.filteredRegions=[],this.currencyList=[],this.termSelected=!1,this.isDepositSelected=!1,this.termSelecteds="",this.toFilterList=[{value:"Student",key:"Student"},{value:"Finance Support",key:"Finance Support"}]}ngOnInit(){this.today=new Date,this.iniVerificationForm(),this.subs.sink=this.acadJourneyService.getCurrency().subscribe(e=>{this.currencyList=e},e=>{e&&e.message&&e.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.patchData()}patchData(){let e="",n=0;if(this.data&&this.data.student_id&&this.data.student_id.billing_id&&this.data.student_id.billing_id.terms&&this.data.student_id.billing_id.terms.length&&this.data.student_id.billing_id.terms.map(a=>({is_term_paid:a.is_term_paid,term_amount:a.term_amount,term_pay_amount:a.term_pay_amount,term_payment:a.term_payment,_id:a._id,term_index:null,status:!!a.status&&a.status})),this.data&&this.data.transaction&&"deposit"===this.data.transaction&&(this.data.transaction="deposit",this.isDepositSelected=!0),this.data&&this.data.student_id&&this.data.student_id.billing_id&&this.data.student_id.billing_id.terms&&this.data.student_id.billing_id.terms.length){const a=this.data.student_id.billing_id.terms.filter(o=>!0===o.status);if(a&&a.length){for(const o of a)n++,n>1||this.isDepositSelected?o&&(e+=", ",e=e+(this.translate.instant("Term")+" ")+o.term_index+"/"+this.data.student_id.billing_id.terms.length):o&&(e=e+(this.translate.instant("Term")+" ")+o.term_index+"/"+this.data.student_id.billing_id.terms.length);this.termSelecteds=e}else e=this.isDepositSelected?this.translate.instant("Deposit"):"",this.termSelecteds=e}else e=this.isDepositSelected?this.translate.instant("Deposit"):"",this.termSelecteds=e}iniVerificationForm(){this.identityForm=this.fb.group({civility:[null,_.Validators.required],from:[null,_.Validators.required],to:[null,_.Validators.required],amount:[null],method:[null],currency:["EUR"],date_of_birth:[null,_.Validators.required],reference:[null,_.Validators.required],note:[null,_.Validators.required]})}submitVerification(){this.data.letter=!0,x().fire({type:"success",title:this.translate.instant("Bravo!"),allowOutsideClick:!1,confirmButtonText:this.translate.instant("INTERNSHIP_S4.BUTTON")}).then(e=>this.dialogRef.close(this.data))}closeDialog(){this.dialogRef.close()}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}selectedDeposit(){let e="",n=0;if(this.data.term_index=null,this.data.transaction="deposit",this.isDepositSelected=!this.isDepositSelected,this.isDepositSelected&&(e+=this.translate.instant("Deposit")),this.data&&this.data.student_id&&this.data.student_id.billing_id&&this.data.student_id.billing_id.terms&&this.data.student_id.billing_id.terms.length){const a=this.data.student_id.billing_id.terms.filter(o=>!0===o.status);if(a&&a.length){for(const o of a)n++,n>1||this.isDepositSelected?o&&(e+=", ",e=e+(this.translate.instant("Term")+" ")+o.term_index+"/"+this.data.student_id.billing_id.terms.length):o&&(e=e+(this.translate.instant("Term")+" ")+o.term_index+"/"+this.data.student_id.billing_id.terms.length);this.termSelecteds=e}else e=this.isDepositSelected?this.translate.instant("Deposit"):"",this.termSelecteds=e}else e=this.isDepositSelected?this.translate.instant("Deposit"):""}selectedTerm(e,n){let a="",o=0;this.isDepositSelected&&(a+=this.translate.instant("Deposit")),this.data.student_id.billing_id.terms[n].status=!this.data.student_id.billing_id.terms[n].status,this.data.student_id.billing_id.terms[n].term_index=n;const s=this.data.student_id.billing_id.terms.filter(h=>!0===h.status);if(s&&s.length){this.termSelected=!0;for(const h of s)o++,o>1||this.isDepositSelected?h&&(a+=", ",a=a+(this.translate.instant("Term")+" ")+h.term_index+"/"+this.data.student_id.billing_id.terms.length):h&&(a=a+(this.translate.instant("Term")+" ")+h.term_index+"/"+this.data.student_id.billing_id.terms.length);this.termSelecteds=a}else this.termSelected=!1,a=this.isDepositSelected?this.translate.instant("Deposit"):"",this.termSelecteds=a}selectedWhoFinanceCall(e){"student"===e?(this.isStudentFinanceSelected=!0,this.isParentFinanceSelected=!1):"parent"===e&&(this.isStudentFinanceSelected=!1,this.isParentFinanceSelected=!0)}translateDate(e,n){if(e){const o=this.parseStringDatePipe.transformStringToDate(this.parseUTCToLocalPipe.transformDate(e,n||"15:59"));return D(o,"DD/MM/YYYY").format("DD/MM/YY")}return""}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(E.so),t.\u0275\u0275directiveInject(_.UntypedFormBuilder),t.\u0275\u0275directiveInject(P.sK),t.\u0275\u0275directiveInject($.t),t.\u0275\u0275directiveInject(Y.n),t.\u0275\u0275directiveInject(ht.g),t.\u0275\u0275directiveInject(E.WI))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-history-lettrage-dialog"]],features:[t.\u0275\u0275ProvidersFeature([$.t,Y.n])],decls:104,vars:32,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],["svgIcon","checkbox-marked-circle-outline",2,"vertical-align","middle"],[1,"p-col-10","acad-title"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding"],[1,"card-lettrage"],[1,"p-col-12"],[1,"p-col-12","inline","no-padding"],[1,"p-col-12","no-padding",2,"margin-bottom","10px"],[1,"inline","no-padding"],[1,"p-col-6","inline","no-padding"],[1,"p-col-4","inline","no-padding"],[1,"p-col-8","inline","no-padding"],[1,"p-col-12","no-padding","header-who"],[1,"cards"],[1,"icon-who","no-padding"],[2,"vertical-align","middle"],[1,"name-who",2,"text-align","left"],[1,"dialogTitles"],[4,"ngIf"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"card",3,"ngClass","click"],[1,"name-who"],["class","card",3,"ngClass","click",4,"ngFor","ngForOf"],["class","name-who",4,"ngIf"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5,"checkbox-marked-circle-outline"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",5)(7,"h3",6),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",7)(11,"button",8)(12,"mat-icon"),t.\u0275\u0275text(13,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(14,"form",9)(15,"div",10)(16,"mat-dialog-content")(17,"div",2)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14)(22,"div",2)(23,"div",15)(24,"div",16),t.\u0275\u0275text(25),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(26,"div",17)(27,"div",2)(28,"div",11)(29,"div",17),t.\u0275\u0275text(30,"Pi\xe8ce Comptable:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(31,"div",17),t.\u0275\u0275text(32),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(33,"div",2)(34,"div",11)(35,"div",17),t.\u0275\u0275text(36,"Date:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(37,"div",17),t.\u0275\u0275text(38),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(39,"div",2)(40,"div",11)(41,"div",17),t.\u0275\u0275text(42,"Type de transaction:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(43,"div",17),t.\u0275\u0275text(44),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(45,"div",2)(46,"div",11)(47,"div",17),t.\u0275\u0275text(48,"De:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(49,"div",17),t.\u0275\u0275text(50),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(51,"div",2)(52,"div",11)(53,"div",17),t.\u0275\u0275text(54,"Apprenant:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(55,"div",17),t.\u0275\u0275text(56),t.\u0275\u0275pipe(57,"translate"),t.\u0275\u0275pipe(58,"uppercase"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(59,"div",17)(60,"div",2)(61,"div",11)(62,"div",18),t.\u0275\u0275text(63,"Montant:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(64,"div",19),t.\u0275\u0275text(65),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(66,"div",2)(67,"div",11)(68,"div",18),t.\u0275\u0275text(69,"Transaction:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(70,"div",19),t.\u0275\u0275text(71),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(72,"div",2)(73,"div",11)(74,"div",18),t.\u0275\u0275text(75,"A:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(76,"div",19),t.\u0275\u0275text(77),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(78,"div",2)(79,"div",11)(80,"div",18),t.\u0275\u0275text(81,"Programme:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(82,"div",19),t.\u0275\u0275text(83),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275elementStart(84,"div",20)(85,"div",12)(86,"div",11)(87,"div",21)(88,"div",22)(89,"mat-icon",23),t.\u0275\u0275text(90,"school"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(91,"div",24)(92,"h4",25),t.\u0275\u0275text(93),t.\u0275\u0275pipe(94,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(95,ae,6,6,"div",26),t.\u0275\u0275template(96,se,2,1,"div",26),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(97,"mat-dialog-actions",27)(98,"button",28),t.\u0275\u0275text(99),t.\u0275\u0275pipe(100,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(101,"button",29),t.\u0275\u0275listener("click",function(){return n.submitVerification()}),t.\u0275\u0275text(102),t.\u0275\u0275pipe(103,"translate"),t.\u0275\u0275elementEnd()()()()),2&e&&(t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,20,"Lettrage")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",n.identityForm),t.\u0275\u0275advance(11),t.\u0275\u0275textInterpolate(null==n.data?null:n.data.reference),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(null==n.data?null:n.data.accounting_document),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(n.translateDate(null==n.data?null:n.data.transaction_date,null==n.data?null:n.data.transaction_time)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(null==n.data?null:n.data.transaction_type),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(null==n.data?null:n.data.from),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate3(" ",null!=n.data&&null!=n.data.student_id&&n.data.student_id.civility&&"neutral"===(null==n.data||null==n.data.student_id?null:n.data.student_id.civility)?"":t.\u0275\u0275pipeBind1(57,22,null==n.data||null==n.data.student_id?null:n.data.student_id.civility)," ",null==n.data||null==n.data.student_id?null:n.data.student_id.first_name," ",t.\u0275\u0275pipeBind1(58,24,null==n.data||null==n.data.student_id?null:n.data.student_id.last_name),""),t.\u0275\u0275advance(9),t.\u0275\u0275textInterpolate1("",null==n.data?null:n.data.amount," \u20ac"),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",n.termSelecteds?n.termSelecteds:""," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(null==n.data?null:n.data.to),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(null==n.data?null:n.data.intake_channel),t.\u0275\u0275advance(10),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(94,26,"Facture Possible pour cette Transaction")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!(null!=n.data&&null!=n.data.student_id&&null!=n.data.student_id.billing_id&&n.data.student_id.billing_id.is_deposit_completed)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==n.data||null==n.data.student_id||null==n.data.student_id.billing_id||null==n.data.student_id.billing_id.terms?null:n.data.student_id.billing_id.terms.length),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(100,28,"CANCEL")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!n.termSelected&&!n.isDepositSelected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(103,30,"Validate")," "))},dependencies:[I.Zt,I.Bh,Q.lW,E.ZT,E.xY,E.H8,q.Hw,_.\u0275NgNoValidate,_.NgControlStatusGroup,_.FormGroupDirective,nt.oO,l.mk,l.sg,l.O5,P.X$,l.gd],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-15px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}.header-who[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.icon-who[_ngcontent-%COMP%]{width:30px;float:left;padding-top:0!important}.name-who[_ngcontent-%COMP%]{display:inline-block;text-align:center;margin-right:0!important;width:645px}.card-selected[_ngcontent-%COMP%]{background-color:#fdd835}.card[_ngcontent-%COMP%]{width:100%;padding-bottom:3px!important;padding:10px;vertical-align:middle;border:1px solid #252525;text-align:center;align-self:center;display:inline-block;cursor:pointer}.cards[_ngcontent-%COMP%]{width:100%;padding-bottom:3px!important;padding:10px;vertical-align:middle;border:1px solid #252525;text-align:center;align-self:center;display:inline-block}.inline[_ngcontent-%COMP%]{display:inline-block;text-align:left}.card-lettrage[_ngcontent-%COMP%]{border:1px solid black}.pad-v-none[_ngcontent-%COMP%]{padding-left:0;padding-right:0}"]}),i})();var de=p(92340),gt=p(80529),pe=p(79710),me=p(67154),he=p(22437),ue=p(56709),ge=p(84385),_e=p(75223);function fe(i,r){1&i&&(t.\u0275\u0275elementStart(0,"label",65),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"CARDDETAIL.Scholar Season")," "))}function be(i,r){if(1&i&&(t.\u0275\u0275element(0,"input",66),t.\u0275\u0275text(1)),2&i){const e=r.item,n=r.item$;t.\u0275\u0275propertyInterpolate1("id","item-",r.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.scholar_season," ")}}function Ce(i,r){1&i&&(t.\u0275\u0275elementStart(0,"label",65),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.School")," "))}function ye(i,r){if(1&i&&(t.\u0275\u0275element(0,"input",66),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&i){const e=r.item,n=r.item$;t.\u0275\u0275propertyInterpolate1("id","item-",r.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,e.short_name)," ")}}function xe(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",68),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.selectAllData(a,"school"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("school"))("indeterminate",e.isSomeDropdownSelected("school")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Oe(i,r){1&i&&t.\u0275\u0275template(0,xe,3,5,"ng-template",67)}function ve(i,r){1&i&&(t.\u0275\u0275elementStart(0,"label",65),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus")," "))}function Me(i,r){if(1&i&&(t.\u0275\u0275element(0,"input",66),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&i){const e=r.item,n=r.item$;t.\u0275\u0275propertyInterpolate1("id","item-",r.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,e.name)," ")}}function Pe(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",68),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.selectAllData(a,"campus"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("campus"))("indeterminate",e.isSomeDropdownSelected("campus")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Se(i,r){1&i&&t.\u0275\u0275template(0,Pe,3,5,"ng-template",67)}function Te(i,r){1&i&&(t.\u0275\u0275elementStart(0,"label",65),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.Level")," "))}function Ee(i,r){if(1&i&&(t.\u0275\u0275element(0,"input",66),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&i){const e=r.item,n=r.item$;t.\u0275\u0275propertyInterpolate1("id","item-",r.index,""),t.\u0275\u0275property("ngModel",n.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,e.name)," ")}}function we(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",68),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.selectAllData(a,"level"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("level"))("indeterminate",e.isSomeDropdownSelected("level")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function ke(i,r){1&i&&t.\u0275\u0275template(0,we,3,5,"ng-template",67)}function Fe(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",69),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return a.buttonClicked="export",t.\u0275\u0275resetView(a.controllerButton("export"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",70),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Export")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Export")," "))}function De(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",71),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.todayDetails())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",72),t.\u0275\u0275text(3," date_range "),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Today")),t.\u0275\u0275property("color","today"===e.whichFilterOn?"accent":"primary"),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,5,"Today")," ")}}function Ie(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",71),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterDateRange("yesterday"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",72),t.\u0275\u0275text(3," date_range "),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(1,3,"Yesterday")," "),t.\u0275\u0275property("color","yesterday"===e.whichFilterOn?"accent":"primary"),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,5,"Yesterday")," ")}}function Be(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",71),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterDateRange("lastWeek"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",72),t.\u0275\u0275text(3," date_range "),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(1,3,"Last 7 days")," "),t.\u0275\u0275property("color","lastWeek"===e.whichFilterOn?"accent":"primary"),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,5,"Last 7 days")," ")}}function Ae(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",71),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterDateRange("lastMonth"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",72),t.\u0275\u0275text(3," date_range "),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Last 30 days")),t.\u0275\u0275property("color","lastMonth"===e.whichFilterOn?"accent":"primary"),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,5,"Last 30 days")," ")}}function Ne(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",71),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.filterDateRange("thisMonth"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",72),t.\u0275\u0275text(3," date_range "),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"This month")),t.\u0275\u0275property("color","thisMonth"===e.whichFilterOn?"accent":"primary"),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,5,"This month")," ")}}function Le(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",73),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.resetTable())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",74),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Reset Filter")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Reset")," "))}function He(i,r){1&i&&t.\u0275\u0275element(0,"th",75)}function Ve(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",76)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",77),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.accountDocumentFilter)}}function Re(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",76)(1,"mat-form-field",78),t.\u0275\u0275element(2,"input",79)(3,"mat-datepicker-toggle",80)(4,"mat-datepicker",null,81),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275reference(5),n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",n.dateFilyer)("matDatepicker",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("for",e)}}function Ue(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",84),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("","Decaissement"===e?t.\u0275\u0275pipeBind1(2,2,"refund_finance"):t.\u0275\u0275pipeBind1(3,4,e)," ")}}function Ye(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",76)(1,"mat-form-field")(2,"mat-select",82),t.\u0275\u0275template(3,Ue,4,6,"mat-option",83),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",e.transactionFilter)("disableOptionCentering",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.titleList)}}function $e(i,r){1&i&&t.\u0275\u0275element(0,"th",76)}function je(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",76)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",77),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.fromFilter)}}function ze(i,r){1&i&&t.\u0275\u0275element(0,"th",76)}function Ke(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"mat-option",84),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(2,2,e)," ")}}function Ge(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",76)(1,"mat-form-field")(2,"mat-select",82)(3,"mat-option",85),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,Ke,3,4,"mat-option",83),t.\u0275\u0275elementEnd()()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("formControl",e.bankFilter)("disableOptionCentering",!0),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,4,"All")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.bank)}}function We(i,r){1&i&&t.\u0275\u0275element(0,"th",76)}function Je(i,r){1&i&&t.\u0275\u0275element(0,"th",76)}function Qe(i,r){1&i&&t.\u0275\u0275element(0,"th",76)}function qe(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",76)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",77),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.studentNameFilter)}}function Ze(i,r){1&i&&t.\u0275\u0275element(0,"th",76)}function Xe(i,r){1&i&&t.\u0275\u0275element(0,"th",76)}function tn(i,r){1&i&&t.\u0275\u0275element(0,"th",75)}function en(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",75)(1,"mat-checkbox",86),t.\u0275\u0275listener("change",function(a){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?o.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.showOptions("all",""))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function nn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",87)(1,"mat-checkbox",88),t.\u0275\u0275listener("click",function(a){return a.stopPropagation()})("change",function(a){const s=t.\u0275\u0275restoreView(e).$implicit,h=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a?h.selection.toggle(s._id):null)})("change",function(){const o=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.showOptions("one",o))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",n.selection.isSelected(null==e?null:e._id)||n.isCheckedAll&&!n.dataUnselected.includes(null==e?null:e._id))("aria-label",n.checkboxLabel(e))}}function an(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",89),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Accounting Document")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Accounting Document")))}function on(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",90)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.accounting_document),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.accounting_document)}}function ln(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",89),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5")(3,"mat-icon",72),t.\u0275\u0275text(4," date_range "),t.\u0275\u0275elementEnd()()()),2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Date"))}function rn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",90),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.translateDate(null==e?null:e.transaction_date,null==e?null:e.transaction_time)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.translateDate(null==e?null:e.transaction_date,null==e?null:e.transaction_time)," ")}}function sn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",89),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Type of transaction")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Type of transaction")))}function cn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",90),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"span"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip","Decaissement"===(null==e?null:e.transaction_type)?t.\u0275\u0275pipeBind1(1,2,"refund_finance"):t.\u0275\u0275pipeBind1(2,4,null==e?null:e.transaction_type)),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate("Decaissement"===(null==e?null:e.transaction_type)?t.\u0275\u0275pipeBind1(5,6,"refund_finance"):t.\u0275\u0275pipeBind1(6,8,null==e?null:e.transaction_type))}}function dn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",89),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Transaction")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Transaction")))}function pn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"span",93),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.transaction)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,null==e?null:e.transaction)," ")}}function mn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"span",93),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate5("matTooltip","",t.\u0275\u0275pipeBind1(1,10,"Term")," ",n.parseIndex(null==e?null:e.term_index)+1,"/",null==e||null==e.candidate_id||null==e.candidate_id.billing_id||null==e.candidate_id.billing_id.terms?null:e.candidate_id.billing_id.terms.length," -\n        ",n.getDate(e)," - ",n.getCreditOrDebitAmount(e),""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate5(" ",t.\u0275\u0275pipeBind1(3,12,"Term")," ",n.parseIndex(null==e?null:e.term_index)+1,"/",null==e||null==e.candidate_id||null==e.candidate_id.billing_id||null==e.candidate_id.billing_id.terms?null:e.candidate_id.billing_id.terms.length," - ",n.getDate(e)," - ",n.getCreditOrDebitAmount(e),"")}}function hn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"span",93),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate5("matTooltip","",t.\u0275\u0275pipeBind1(1,10,"Chargeback")," ",n.parseIndex(null==e?null:e.term_index)+1,"/",null==e||null==e.candidate_id||null==e.candidate_id.billing_id||null==e.candidate_id.billing_id.terms?null:e.candidate_id.billing_id.terms.length," -\n        ",n.getDate(e)," - ",n.getCreditOrDebitAmount(e),""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate5(" ",t.\u0275\u0275pipeBind1(3,12,"Chargeback")," ",n.parseIndex(null==e?null:e.term_index)+1,"/",null==e||null==e.candidate_id||null==e.candidate_id.billing_id||null==e.candidate_id.billing_id.terms?null:e.candidate_id.billing_id.terms.length," - ",n.getDate(e)," - ",n.getCreditOrDebitAmount(e),"")}}function un(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",91),t.\u0275\u0275template(1,pn,4,6,"span",92),t.\u0275\u0275template(2,mn,4,14,"span",92),t.\u0275\u0275template(3,hn,4,14,"span",92),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","term"!==e.transaction&&"chargeback"!==e.transaction),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","term"===e.transaction),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","chargeback"===e.transaction)}}function gn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",89),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"From")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"From")))}function _n(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",96),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(n.replaceToName(null==e?null:e.from))}}function fn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(n.replaceToName(null==e?null:e.from))}}function bn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",94),t.\u0275\u0275template(1,_n,2,1,"div",95),t.\u0275\u0275template(2,fn,2,1,"div",8),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.replaceToName(null==e?null:e.from)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","-"===(null==e?null:e.from)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","-"!==(null==e?null:e.from))}}function Cn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",89),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"To")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"To")))}function yn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",90)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.replaceToName(null==e?null:e.to)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.replaceToName(null==e?null:e.to))}}function xn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",89),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Bank")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Bank")))}function On(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",90)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.bank),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==e?null:e.bank)}}function vn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",89),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Reference")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Reference")))}function Mn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",96),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e?null:e.reference)}}function Pn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e?null:e.reference)}}function Sn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",90),t.\u0275\u0275template(1,Mn,2,1,"div",95),t.\u0275\u0275template(2,Pn,2,1,"div",8),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.reference),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","-"===(null==e?null:e.reference)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","-"!==(null==e?null:e.reference))}}function Tn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("(",e.formatCurrency(e.totalDebit),")")}}function En(i,r){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"(0)"),t.\u0275\u0275elementEnd())}function wn(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Tn,2,1,"span",8),t.\u0275\u0275template(2,En,2,0,"span",8),t.\u0275\u0275element(3,"br"),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0!==e.totalDebit),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===e.totalDebit)}}function kn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",89),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275template(2,wn,4,2,"ng-container",8),t.\u0275\u0275elementStart(3,"h5"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Debit")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.displayOnProd),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,5,"Debit"))}}function Fn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",90)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.formatCurrency(null==e||null==e.billing_id?null:e.billing_id.debit)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.formatCurrency(null==e?null:e.debit))}}function Dn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("(",e.formatCurrency(e.totalCredit),")")}}function In(i,r){1&i&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"(0)"),t.\u0275\u0275elementEnd())}function Bn(i,r){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Dn,2,1,"span",8),t.\u0275\u0275template(2,In,2,0,"span",8),t.\u0275\u0275element(3,"br"),t.\u0275\u0275elementContainerEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0!==e.totalCredit),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===e.totalCredit)}}function An(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"th",89),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275template(2,Bn,4,2,"ng-container",8),t.\u0275\u0275elementStart(3,"h5"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Credit")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.displayOnProd),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,5,"Credit"))}}function Nn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",90)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.formatCurrency(null==e||null==e.billing_id?null:e.billing_id.credit)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.formatCurrency(null==e?null:e.credit))}}function Ln(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",89),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Student")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Student")))}function Hn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",94),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"uppercase"),t.\u0275\u0275elementEnd()),2&i){const e=r.$implicit;t.\u0275\u0275property("matTooltip",(null!=e&&null!=e.candidate_id&&e.candidate_id.civility&&"neutral"===(null==e||null==e.candidate_id?null:e.candidate_id.civility)?"":t.\u0275\u0275pipeBind1(1,2,null==e||null==e.candidate_id?null:e.candidate_id.civility))+" "+(null==e||null==e.candidate_id?null:e.candidate_id.first_name)+" "+t.\u0275\u0275pipeBind1(2,4,null==e||null==e.candidate_id?null:e.candidate_id.last_name)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",(null!=e&&null!=e.candidate_id&&e.candidate_id.civility&&"neutral"===(null==e||null==e.candidate_id?null:e.candidate_id.civility)?"":t.\u0275\u0275pipeBind1(4,6,null==e||null==e.candidate_id?null:e.candidate_id.civility))+" "+(null==e||null==e.candidate_id?null:e.candidate_id.first_name)+" "+t.\u0275\u0275pipeBind1(5,8,null==e||null==e.candidate_id?null:e.candidate_id.last_name)," ")}}function Vn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",89),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Program")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Program")))}function Rn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",90)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",n.intakeChannel(null==e||null==e.candidate_id?null:e.candidate_id.billing_id)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.intakeChannel(null==e||null==e.candidate_id?null:e.candidate_id.billing_id))}}function Un(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",89),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Reconciliation and Lettrage")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Reconciliation and Lettrage")))}const _t=function(i,r){return{red:i,green:r}};function Yn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",91)(1,"mat-icon",97),t.\u0275\u0275text(2,"lens "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"mat-icon",97),t.\u0275\u0275text(4,"lens "),t.\u0275\u0275elementEnd()()),2&i){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(2,_t,!(null!=e&&e.candidate_id),null==e?null:e.candidate_id)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(5,_t,!(null!=e&&e.letter),null==e?null:e.letter))}}function $n(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",89),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function jn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.sendMailDialog(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3," send "),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Send this transaction by email")),t.\u0275\u0275property("disabled",(null==e.dataSelected?null:e.dataSelected.length)>0||e.isCheckedAll)}}function zn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.addTask(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",100),t.\u0275\u0275text(3," clipboard_check_outline "),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Create an Internal Task link to that Candidate")),t.\u0275\u0275property("disabled",(null==e.dataSelected?null:e.dataSelected.length)>0||e.isCheckedAll)}}function Kn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.viewProfileInfo(null==a||null==a.candidate_id?null:a.candidate_id._id,"respondant-tab"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3," school "),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"see the student file")),t.\u0275\u0275property("disabled",(null==e.dataSelected?null:e.dataSelected.length)>0||e.isCheckedAll)}}function Gn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.reconciliationDialog(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3," help "),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Reconciliation")),t.\u0275\u0275property("disabled",(null==e?null:e.candidate_id)||(null==n.dataSelected?null:n.dataSelected.length)>0||n.isCheckedAll)}}function Wn(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",99),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.lettrageDialog(a))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",101),t.\u0275\u0275elementEnd()}if(2&i){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Lettrage")),t.\u0275\u0275property("disabled",(null==e?null:e.letter)||!(null!=e&&e.candidate_id)||(null==n.dataSelected?null:n.dataSelected.length)>0||n.isCheckedAll)}}function Jn(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"td",91),t.\u0275\u0275template(1,jn,4,4,"button",98),t.\u0275\u0275template(2,zn,4,4,"button",98),t.\u0275\u0275template(3,Kn,4,4,"button",98),t.\u0275\u0275template(4,Gn,4,4,"button",98),t.\u0275\u0275template(5,Wn,3,4,"button",98),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.sendEmailFinanceHistoryPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.createInternalTaskFinanceHistoryPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.seeStudentFileFinanceHistoryPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.reconciliationFinanceHistoryPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.lettrageFinanceHistoryPerm())}}function Qn(i,r){1&i&&(t.\u0275\u0275elementStart(0,"th",102)(1,"div",103),t.\u0275\u0275element(2,"mat-spinner",104),t.\u0275\u0275elementEnd()())}function qn(i,r){1&i&&t.\u0275\u0275element(0,"tr",105)}function Zn(i,r){1&i&&t.\u0275\u0275element(0,"tr",105)}function Xn(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",106),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isLoading)}}function ti(i,r){if(1&i&&t.\u0275\u0275element(0,"tr",107),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isLoading)}}const ft=function(i){return{hide:i}};function ei(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",108),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,ft,e.isLoading)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"NOT RECORD FOUND")," ")}}const ni=function(){return["loading"]},ii=function(i){return{"hide-pagination-buttons":i}},ai=function(){return[10]},oi=[{path:"",component:(()=>{class i{constructor(e,n,a,o,s,h,O,S,g,C,A,X){this.candidatesService=e,this.dialog=n,this.financeService=a,this.parseUTCToLocalPipe=o,this.parseStringDatePipe=s,this.router=h,this.http=O,this.pageTitleService=S,this.translate=g,this.userService=C,this.permission=A,this.filterBreadCrumbService=X,this.displayedColumns=["select","accounting","date","type","transaction","from","to","bank","reference","debit","amount","student","program","lettrage","action"],this.filterColumns=["selectFilter","accountingFilter","dateFilter","typeFilter","transactionFilter","fromFilter","toFilter","bankFilter","referenceFilter","debitFilter","amountFilter","studentFilter","programFilter","lettrageFilter","actionFilter"],this.filterDate="",this.accountDocumentFilter=new _.UntypedFormControl(""),this.dateFilyer=new _.UntypedFormControl(""),this.transactionFilter=new _.UntypedFormControl("All"),this.descriptionFilter=new _.UntypedFormControl(""),this.bankFilter=new _.UntypedFormControl("All"),this.fromFilter=new _.UntypedFormControl(""),this.toFilter=new _.UntypedFormControl(""),this.studentNameFilter=new _.UntypedFormControl(""),this.studentFilter=new _.UntypedFormControl(""),this.selection=new it.Ov(!0,[]),this.nationalityFilterList=[{value:"All",key:"AllF"},{value:"FR",key:"French"},{value:"US",key:"American"},{value:"GB",key:"United Kingdom"}],this.intakeChannelFilterList=[{value:"AllF",key:"AllF"},{value:"20-21_EFAPAR_1",key:"20-21 EFAPAR 1"},{value:"21-22_EFATOU_2",key:"21-22 EFATOU 2"},{value:"20-21_ICABOR_1",key:"20-21 ICABOR 1"}],this.actionFilterList=[{value:"AllF",key:"AllF"},{value:"wap_sms",key:"Whatsapp or SMS"},{value:"email",key:"Email"},{value:"note",key:"Note"}],this.engagementLevelFilterList=[{value:"AllM",key:"AllM"},{value:"lost",key:"Lost"},{value:"low",key:"Low"},{value:"medium",key:"Medium"},{value:"high",key:"High"},{value:"registered",key:"Registered"}],this.filteredValues={accounting_document:"",date:"",transaction_type:"",description:"",from:"",to:"",student_last_name:"",student_id:"",date_from:"",date_to:"",school:"",bank:"",campus:"",level:"",scholar_season:""},this.superFilter={level:"",campus:"",school:"",scholar_season:""},this.schoolName="",this.maleIcon="../../../../../assets/img/student_icon.png",this.femaleIcon="../../../../../assets/img/student_icon_fem.png",this.greenHeartIcon="../../../../../assets/img/enagement_icon_green.png",this.flagsIconPath="../../../../../assets/icons/flags/",this.dataSource=new B.by([]),this.config={disableClose:!0,width:"600px"},this.bank=[],this.dataCount=0,this.subs=new K.Y,this.isReset=!1,this.dataLoaded=!1,this.sortValue=null,this.disableExport=!0,this.disableToday=!0,this.disableYesterday=!0,this.disableLast7Days=!0,this.disableLast30Days=!0,this.isThereFilter=!1,this.disableThisMonth=!0,this.titleList=["All","Avoir","Decaissement","Encaissement","payment"],this.originalTitleList=[],this.schoolList=[],this.originalCandidateList=[],this.dummyData=[],this.campusList=[],this.listObjective=[],this.levels=[],this.school=[],this.scholars=[],this.originalScholar=[],this.scholarSelected=[],this.studentType=[],this.paymentMode=[],this.intakeList=[],this.schoolsFilter=new _.UntypedFormControl(null),this.campusFilter=new _.UntypedFormControl(null),this.levelFilter=new _.UntypedFormControl(null),this.scholarFilter=new _.UntypedFormControl("All"),this.allStudentForCheckbox=[],this.dataSelected=[],this.dataUnselected=[],this.buttonClicked="",this.allHistoryForExport=[],this.isCheckedAll=!1,this.pageSelected=[],this.disabledExport=!0,this.isSelectAllSchool=!1,this.isSelectAllCampous=!1,this.isSelectAllLevel=!1,this.displayOnProd=!0,this.campusListBackup=[],this.name=[],this.whichFilterOn=null,this.isDisabled=!0,this.filterBreadcrumbData=[],this.actionFilterDate={date:""}}ngOnInit(){this.currentUser=this.userService.getLocalStorageUser(),this.isPermission=this.userService.getPermission();const e=this.currentUser?.entities?.find(n=>n?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id,this.initFilter(),this.getCandidatesHistoryData(),this.getDataScholarSeasons(),this.getBankDropdown(),this.subs.sink=this.translate.onLangChange.subscribe(n=>{this.getFirstScholarSelect(),this.getBankDropdown()}),this.scholarFilter.value&&this.getDataForList("All"!==this.scholarFilter.value?this.scholarFilter.value:"")}getFirstScholarSelect(){this.scholars=[],this.scholars=this.originalScholar.sort((e,n)=>e.scholar_season>n.scholar_season?1:n.scholar_season>e.scholar_season?-1:0),this.scholarFilter.value&&("All"===this.scholarFilter.value.trim()||"Tous"===this.scholarFilter.value.trim())&&(this.scholars.unshift({_id:"All",scholar_season:this.translate.instant("All")}),this.scholars=d.uniqBy(this.scholars,"_id"))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}masterToggle(){this.isAllSelected()||this.isCheckedAll&&this.dataUnselected&&this.dataUnselected.length?(this.selection.clear(),this.dataSelected=[],this.dataUnselected=[],this.pageSelected=[],this.isCheckedAll=!1,this.allHistoryForExport=[],this.enableAllTopActions(),this.dataSource.data&&this.dataSource.data.length?(this.totalDebit=this.dataSource.data[0].total_debit?this.dataSource.data[0].total_debit:0,this.totalCredit=this.dataSource.data[0].total_credit?this.dataSource.data[0].total_credit:0):(this.totalDebit=0,this.totalCredit=0)):(this.selection.clear(),this.dataSelected=[],this.dataUnselected=[],this.isCheckedAll=!0,this.allHistoryForExport=[],this.disableAllTopActions(),this.dataSource.data.map(e=>{this.dataUnselected.includes(e?._id)||this.selection.select(e?._id)}))}showOptions(e,n){if(this.isCheckedAll){if(n)if(this.dataUnselected.includes(n._id)){const s=this.dataUnselected.findIndex(h=>h===n._id);this.dataUnselected.splice(s,1),this.selection.select(n._id)}else this.dataUnselected.push(n._id),this.selection.deselect(n._id)}else if(n){const s=this.dataSelected.filter(h=>h._id===n._id);if(s&&s.length<1)this.dataSelected.push(n);else{const h=this.dataSelected.findIndex(O=>O._id===n._id);this.dataSelected.splice(h,1)}}this.disabledExport=!(this.dataSelected.length>0),this.userSelected=[],this.userSelectedId=[],this.selectType=e,(this.dataSelected&&this.dataSelected.length?this.dataSelected:this.selection.selected).forEach(s=>{this.userSelected.push(s),this.userSelectedId.push(s._id)}),this.dataSelected.length>0&&(this.totalCredit=0,this.totalDebit=0,this.dataSelected.forEach(s=>{this.totalCredit+=s.credit,this.totalDebit+=s.debit}))}getDataScholarSeasons(){this.subs.sink=this.financeService.GetAllScholarSeasons().subscribe(e=>{e&&e.length&&(this.originalScholar=d.cloneDeep(e),this.scholars=[],this.scholars=this.originalScholar.sort((n,a)=>n.scholar_season>a.scholar_season?1:a.scholar_season>n.scholar_season?-1:0),this.scholars.unshift({_id:"All",scholar_season:this.translate.instant("All")}),this.scholars=d.uniqBy(this.scholars,"_id"))},e=>{this.userService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():e&&e.message&&e.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDataForList(e){const n=e||"";this.subs.sink=this.candidatesService.GetAllSchoolFilter(n,`filter: { scholar_season_id:"${n}"}`,this.currentUserTypeId).subscribe(o=>{if(o)if(this.currentUser&&this.currentUser.entities&&this.currentUser.entities.length&&this.currentUser.app_data&&this.currentUser.app_data.school_package&&this.currentUser.app_data.school_package.length){const s=[];this.currentUser.app_data.school_package.forEach(h=>{s.push(h.school)}),this.listObjective=s,this.school=this.listObjective,this.school=this.school.sort((h,O)=>h.short_name>O.short_name?1:O.short_name>h.short_name?-1:0)}else this.listObjective=o,this.school=this.listObjective,this.school=this.school.sort((s,h)=>s.short_name>h.short_name?1:h.short_name>s.short_name?-1:0)},o=>{this.userService.postErrorLog(o),o&&o.message&&(o.message.includes("jwt expired")||o.message.includes("str & salt required")||o.message.includes("Authorization header is missing")||o.message.includes("salt"))?this.userService.handlerSessionExpired():o&&o.message&&o.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}scholarSelect(){this.schoolName="",this.school=[],this.campusList=[],this.levels=[],this.schoolsFilter.value&&this.schoolsFilter.setValue(null),this.campusFilter.value&&this.campusFilter.setValue(null),this.levelFilter.value&&this.levelFilter.setValue(null),this.scholarFilter.value&&0!==this.scholarFilter.value.length?(this.scholarSelected="All"!==this.scholarFilter.value?this.scholarFilter.value:null,this.getDataForList("All"!==this.scholarFilter.value?this.scholarFilter.value:"")):(this.scholarSelected=[],this.school=[],this.campusList=[],this.levels=[])}selectSchoolFilter(){const e=this.schoolsFilter.value;this.schoolsFilter.patchValue(e&&e.length?e:null),this.getDataCampus()}selectCampusFilter(){const e=this.campusFilter.value;this.campusFilter.patchValue(e&&e.length?e:null),this.getDataLevel()}selectLevelFilter(){const e=this.levelFilter.value;this.levelFilter.patchValue(e&&e.length?e:null),this.getDataByLevel()}getDataCampus(){this.schoolName="",this.levels=[],this.campusList=[],this.campusFilter.value&&this.campusFilter.setValue(null),this.levelFilter.value&&this.levelFilter.setValue(null);const e=this.schoolsFilter.value;this.currentUser&&this.currentUser.entities&&this.currentUser.entities.length&&this.currentUser.app_data&&this.currentUser.app_data.school_package&&this.currentUser.app_data.school_package.length&&this.schoolsFilter.value&&this.schoolsFilter.value.length?(e&&!e.includes("All")&&e.forEach(a=>{const o=this.school.find(s=>s._id===a);this.schoolName=this.schoolName?this.schoolName+","+o.short_name:o.short_name}),this.currentUser.app_data.school_package.forEach(a=>{a&&a.school&&a.school._id&&(e.includes(a.school._id)||e.includes("All"))&&(this.campusList=d.concat(this.campusList,a.school.campuses))})):e&&!e.includes("All")?(e.forEach(o=>{const s=this.school.find(h=>h._id===o);this.schoolName=this.schoolName?this.schoolName+","+s.short_name:s.short_name}),this.listObjective.filter(o=>e.includes(o._id)).filter((o,s)=>{o.campuses&&o.campuses.length&&o.campuses.filter((h,O)=>{this.campusList.push(h),this.campusListBackup=this.campusList})})):e&&e.includes("All")&&this.listObjective&&this.listObjective.length?this.listObjective.forEach((a,o)=>{a.campuses&&a.campuses.length&&a.campuses.forEach((s,h)=>{this.campusList.push(s),this.campusListBackup=this.campusList})}):this.campusList=[],this.getDataLevel();const n=d.chain(this.campusList).groupBy("name").map((a,o)=>({name:o,_id:a&&a.length?a[0]._id:null,campuses:a})).value();n&&n.length&&n.forEach((a,o)=>{let s=[];a&&a.campuses&&a.campuses.length&&a.campuses.forEach((h,O)=>{s=d.concat(s,h.levels)}),n[o].levels=d.uniqBy(s,"name")}),this.campusList=d.uniqBy(n,"_id"),this.campusList=this.campusList.sort((a,o)=>a.name>o.name?1:o.name>a.name?-1:0)}getDataLevel(){this.levels=[],this.levelFilter.value&&this.levelFilter.setValue(null);const e=this.schoolsFilter.value,n=this.campusFilter.value;this.currentUser&&this.currentUser.entities&&this.currentUser.entities.length&&this.currentUser.app_data&&this.currentUser.app_data.school_package&&this.currentUser.app_data.school_package.length&&this.campusFilter.value&&this.campusFilter.value.length?n&&n.length&&!n.includes("All")?this.currentUser.app_data.school_package.forEach(a=>{a&&a.school&&a.school._id&&(e.includes(a.school._id)||e.includes("All"))&&this.campusList.filter(s=>n.includes(s.name)).forEach(s=>{s&&s.levels&&s.levels.length&&(this.levels=d.concat(this.levels,s.levels))})}):n&&n.length&&n.includes("All")&&this.campusList&&this.campusList.length&&this.campusList.forEach(a=>{a&&a.levels&&a.levels.length&&(this.levels=d.concat(this.levels,a.levels))}):e&&n&&!n.includes("All")?this.campusList.filter(o=>n.includes(o.name)).forEach(o=>{o&&o.levels&&o.levels.length&&o.levels.forEach(s=>{this.levels.push(s)})}):n&&n.includes("All")&&this.campusList&&this.campusList.length?this.campusList.forEach(a=>{a&&a.levels&&a.levels.length&&a.levels.forEach(o=>{this.levels.push(o)})}):this.levels=[],this.levels=d.uniqBy(this.levels,"name"),this.levels=this.levels.sort((a,o)=>a.name>o.name?1:o.name>a.name?-1:0)}replaceToName(e){let n=e;return e&&(e.includes("MR ")&&(n=e.replaceAll("MR",this.translate.instant("MR"))),e.includes("MRS ")&&(n=e.replaceAll("MRS",this.translate.instant("MRS"))),e.includes("neutral")&&(n=e.replaceAll("neutral",""))),n}getDataByLevel(){this.levels=d.uniqBy(this.levels,"name"),this.levels=this.levels.sort((e,n)=>e.name>n.name?1:n.name>e.name?-1:0)}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,u.O)(null),(0,M.b)(()=>{this.isReset||this.getCandidatesHistoryData(),this.dataLoaded=!0})).subscribe()}filterBreadcrumbFormat(){this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat([{type:"table_filter",name:"accounting_document",column:"Accounting Document",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.accountDocumentFilter,isSelectionInput:!1,displayKey:null,savedValue:null,noTranslate:!0},{type:"table_filter",name:"date",column:"Date",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.dateFilyer,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"transaction_type",column:"Type of transaction",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.transactionFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"from",column:"From",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.fromFilter,displayKey:null,savedValue:null,isSelectionInput:!1,noTranslate:!0},{type:"table_filter",name:"bank",column:"Bank",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.bankFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"student_last_name",column:"Student",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.studentNameFilter,displayKey:null,savedValue:null,isSelectionInput:!1,noTranslate:!0},{type:"super_filter",name:"scholar_season",column:"CARDDETAIL.Scholar Season",isMultiple:!1,filterValue:this.filteredValues,filterList:this.scholars,filterRef:this.scholarFilter,displayKey:"scholar_season",savedValue:"_id",isSelectionInput:!0,resetValue:"All"},{type:"super_filter",name:"school",column:"ADMISSION.TABLE_ADMISSION_CHANNEL.School",isMultiple:!0,filterValue:this.filteredValues,filterList:this.school,filterRef:this.schoolsFilter,displayKey:"short_name",savedValue:"_id",isSelectionInput:!0},{type:"super_filter",name:"campus",column:"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus",isMultiple:!0,filterValue:this.filteredValues,filterList:this.campusList,filterRef:this.campusFilter,displayKey:"name",savedValue:"name",isSelectionInput:!0},{type:"super_filter",name:"level",column:"ADMISSION.TABLE_ADMISSION_CHANNEL.Level",isMultiple:!0,filterValue:this.filteredValues,filterList:this.levels,filterRef:this.levelFilter,displayKey:"name",savedValue:"name",isSelectionInput:!0},{type:"action_filter",name:"date",column:"",isMultiple:!1,filterValue:this.actionFilterDate,filterList:null,filterRef:null,displayKey:null,savedValue:null,isSelectionInput:!1}],this.filterBreadcrumbData)}removeSuperFilter(e){this.filterBreadcrumbData?.length&&e?.length&&e.forEach(n=>{const a=this.filterBreadcrumbData.find(o=>o.name===n);a&&(a.filterRef.setValue(null,{emitEvent:!1}),this.superFilter[a.name]=null,this.filteredValues[a.name]=null)})}removeFilterBreadcrumb(e){this.filterBreadCrumbService.removeFilterBreadcrumb(e,this.filteredValues,this.filteredValues,this.actionFilterDate),"action_filter"===e.type?(this.filterDate="",this.whichFilterOn=null,this.filteredValues.date_from="",this.filteredValues.date_to=""):"super_filter"===e.type&&(this.superFilter[e.name]=null,"scholar_season"===e.name?(this.removeSuperFilter(["school","campus","level"]),this.getDataForList("All"!==this.scholarFilter.value?this.scholarFilter.value:"")):"school"===e.name?(this.removeSuperFilter(["campus","level"]),this.getDataCampus()):"campus"===e.name&&(this.removeSuperFilter(["level"]),this.getDataLevel()),this.applySuperFilter()),"super_filter"!==e.type&&this.getCandidatesHistoryData()}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getCandidatesHistoryData())}resetTable(){this.isReset=!0,this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.dataUnselected=[],this.isCheckedAll=!1,this.paginator.pageIndex=0,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.whichFilterOn=null,this.schoolName="",this.filterDate="",this.filteredValues={accounting_document:"",date:"",transaction_type:"",description:"",from:"",to:"",student_last_name:"",student_id:"",date_from:"",date_to:"",school:"",campus:"",bank:"",level:"",scholar_season:""},this.superFilter={level:"",campus:"",school:"",scholar_season:""},this.schoolsFilter.setValue(null,{emitEvent:!1}),this.campusFilter.setValue(null,{emitEvent:!1}),this.levelFilter.setValue(null,{emitEvent:!1}),this.scholarFilter.setValue("All",{emitEvent:!1}),this.accountDocumentFilter.setValue("",{emitEvent:!1}),this.dateFilyer.setValue("",{emitEvent:!1}),this.transactionFilter.setValue("All",{emitEvent:!1}),this.bankFilter.setValue("All",{emitEvent:!1}),this.descriptionFilter.setValue("",{emitEvent:!1}),this.fromFilter.setValue("",{emitEvent:!1}),this.toFilter.setValue("",{emitEvent:!1}),this.studentNameFilter.setValue("",{emitEvent:!1}),this.studentFilter.setValue("",{emitEvent:!1}),this.school=[],this.campusList=[],this.levels=[],this.scholarSelected=[],this.sort.direction="",this.sort.active="",this.sortValue=null,this.getCandidatesHistoryData(),this.isDisabled=!0,this.scholarFilter.value&&this.getDataForList("All"!==this.scholarFilter.value?this.scholarFilter.value:""),this.filterBreadcrumbData=[],this.actionFilterDate.date=""}getCandidatesHistoryData(){this.isLoading=!0;const e={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},n=this.cleanFilterData();this.subs.sink=this.financeService.GetAllTransactionHistories(e,n,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(o=>{o&&o.length?(this.dataSource.data=o,this.dataSource.data.forEach(s=>{s&&s.from&&s.from.includes("neutral")&&(s.from=s.from.replace("neutral ",""))}),this.paginator.length=o[0].count_document,this.dataCount=o[0].count_document):(this.dataSource.data=[],this.paginator.length=0,this.dataCount=0),0===this.dataSelected.length&&this.dataSource.data&&this.dataSource.data.length?(this.totalDebit=this.dataSource.data[0].total_debit?this.dataSource.data[0].total_debit:0,this.totalCredit=this.dataSource.data[0].total_credit?this.dataSource.data[0].total_credit:0):0===this.dataSelected.length&&(this.totalDebit=0,this.totalCredit=0),this.noData=this.dataSource.connect().pipe((0,b.U)(s=>0===s.length)),this.isReset=!1,this.isLoading=!1,this.filterBreadcrumbData=[],this.filterBreadcrumbFormat()},o=>{this.noData=this.dataSource.connect().pipe((0,b.U)(s=>0===s.length)),this.isReset=!1,this.isLoading=!1,this.userService.postErrorLog(o),o&&o.message&&(o.message.includes("jwt expired")||o.message.includes("str & salt required")||o.message.includes("Authorization header is missing")||o.message.includes("salt"))?this.userService.handlerSessionExpired():o&&o.message&&o.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:o&&o.message?this.translate.instant(o.message.replaceAll("GraphQL error: ","")):o,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getBankDropdown(){this.subs.sink=this.financeService.GetAllBanksFromTransactionhistory().subscribe(e=>{this.bank=e.filter(Boolean)},e=>{this.userService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.userService.handlerSessionExpired():e&&e.message&&e.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}parseIndex(e){return parseInt(e)}isAllSelected(){const e=this.selection.selected.length,n=this.dataSource.data.length;return e?this.enableAllTopActions():this.disableAllTopActions(),e===n}initFilter(){this.subs.sink=this.accountDocumentFilter.valueChanges.pipe((0,v.b)(400)).subscribe(e=>{const n=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g;if(e)if(e.match(n)||e.match(/\\/)){const o=e.replace(n,"");this.accountDocumentFilter.setValue(o)}else this.filteredValues.accounting_document=e||"",this.paginator.pageIndex=0,this.isReset||(this.pageSelected=[],this.getCandidatesHistoryData());else this.filteredValues.accounting_document="",this.paginator.pageIndex=0,this.isReset||(this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.isCheckedAll=!1,this.getCandidatesHistoryData())}),this.subs.sink=this.fromFilter.valueChanges.pipe((0,v.b)(400)).subscribe(e=>{const n=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g;if(e)if(!e||e.match(n)||e.match(/\\/)){const o=e.replace(n,"");this.fromFilter.setValue(o)}else this.filteredValues.from=e||"",this.paginator.pageIndex=0,this.isReset||(this.pageSelected=[],this.getCandidatesHistoryData());else this.filteredValues.from="",this.paginator.pageIndex=0,this.isReset||(this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.isCheckedAll=!1,this.getCandidatesHistoryData())}),this.subs.sink=this.studentNameFilter.valueChanges.pipe((0,v.b)(400)).subscribe(e=>{const n=/[()|{}\[\]:;<>?,+*$&#%^!\/]/g;if(e)if(!e||e.match(n)||e.match(/\\/)){const o=e.replace(n,"");this.studentNameFilter.setValue(o)}else this.filteredValues.student_last_name=e||"",this.paginator.pageIndex=0,this.isReset||(this.pageSelected=[],this.getCandidatesHistoryData());else this.filteredValues.student_last_name="",this.paginator.pageIndex=0,this.isReset||(this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.isCheckedAll=!1,this.getCandidatesHistoryData())}),this.subs.sink=this.dateFilyer.valueChanges.pipe((0,v.b)(400)).subscribe(e=>{if(e){const n=D(e).format("DD/MM/YYYY");this.filteredValues.date=n,this.paginator.pageIndex=0,this.isReset||(this.pageSelected=[],this.getCandidatesHistoryData())}}),this.subs.sink=this.transactionFilter.valueChanges.subscribe(e=>{this.filteredValues.transaction_type="All"===e?"":e,this.paginator.pageIndex=0,this.isReset||(this.pageSelected=[],this.getCandidatesHistoryData())}),this.subs.sink=this.bankFilter.valueChanges.subscribe(e=>{this.filteredValues.bank="All"===e?"":e,this.paginator.pageIndex=0,this.isReset||(this.pageSelected=[],this.getCandidatesHistoryData())}),this.subs.sink=this.descriptionFilter.valueChanges.subscribe(e=>{this.filteredValues.description="All"===e?"":e,this.paginator.pageIndex=0,this.isReset||(this.pageSelected=[],this.getCandidatesHistoryData())}),this.subs.sink=this.schoolsFilter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.level="",this.superFilter.campus="",this.superFilter.school=""===e||e&&e.includes("All")?"":e,this.isReset||(this.pageSelected=[])}),this.subs.sink=this.campusFilter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.level="",this.superFilter.campus=""===e||e&&e.includes("All")?"":e,this.isReset||(this.pageSelected=[])}),this.subs.sink=this.levelFilter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.level=""===e||e&&e.includes("All")?"":e,this.isReset||(this.pageSelected=[])}),this.subs.sink=this.scholarFilter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.level="",this.superFilter.campus="",this.superFilter.school="",this.superFilter.scholar_season=""===e||"All"===e?"":e,this.isReset||(this.pageSelected=[])})}disableAllTopActions(){this.disableExport=!0,this.disableToday=!0,this.disableYesterday=!0,this.disableLast7Days=!0,this.disableLast30Days=!0,this.disableThisMonth=!0}enableAllTopActions(){this.disableExport=!1,this.disableToday=!1,this.disableYesterday=!1,this.disableLast7Days=!1,this.disableLast30Days=!1,this.disableThisMonth=!1}cleanFilterData(){const e=d.cloneDeep(this.filteredValues);let a,o,s,n="";return Object.keys(e).forEach(h=>{(e[h]||!1===e[h])&&("school"===h?(a=e.school.map(O=>'"'+O+'"'),n+=` schools:[${a}]`):"scholar_season"===h?n+=` scholar_season:"${e[h]}"`:"level"===h?(s=e.level.map(O=>'"'+O+'"'),n+=` candidate_levels:[${s}]`):"campus"===h?(o=e.campus.map(O=>'"'+O+'"'),n+=` candidate_campuses:[${o}]`):n+=` ${h}:"${e[h]}"`)}),"filter: {"+n+"}"}lettrageDialog(e){this.subs.sink=this.dialog.open(ce,{width:"800px",minHeight:"100px",disableClose:!0,data:e}).afterClosed().subscribe(n=>{this.updateTransactionLettrage(n)})}reconciliationDialog(e){const n=this.dummyData.reduce((o,s)=>(s.accounting_document&&(o+=1),o),0),a=[];e&&e.student_id&&a.push(e.student_id),e.student_ids=a,this.subs.sink=this.dialog.open(ne,{width:"800px",minHeight:"100px",disableClose:!0,data:{...e,totalStudentAssigned:n}}).afterClosed().subscribe(o=>{this.updateTransactionReconciliation(o)})}translateDate(e,n){if(e){const o=this.parseStringDatePipe.transformStringToDate(this.parseUTCToLocalPipe.transformDate(e,n||"15:59"));return D(o,"DD/MM/YYYY").format("DD/MM/YY")}return""}updateTransactionReconciliation(e){this.subs.sink=this.financeService.UpdateTransactionHistory({candidate_id:e.candidate_id?e.candidate_id:null,student_id:e.student_id?e.student_id._id:null,from:e.from},e._id).subscribe(a=>{a&&this.getCandidatesHistoryData()},a=>{this.userService.postErrorLog(a),a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.userService.handlerSessionExpired():a&&a.message&&a.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}updateTransactionLettrage(e){if(e&&e._id){const n=[],a=this.dummyData.findIndex(s=>s._id===e._id);let o=e.student_id.billing_id.terms.filter(s=>s.status&&!0===s.status);this.dummyData[a]=e,e.transaction&&"deposit"===e.transaction&&n.push({transaction:"deposit",term_index:null,term_payment:null}),o&&o.length&&(o=o.sort((s,h)=>s.term_index>h.term_index?1:-1),o.forEach(s=>{n.push({transaction:"term",term_index:s.term_index,term_payment:s.term_payment})})),this.subs.sink=this.financeService.ChangeLetterage(n,e._id).subscribe(s=>{s&&this.getCandidatesHistoryData()},s=>{this.userService.postErrorLog(s),s&&s.message&&(s.message.includes("jwt expired")||s.message.includes("str & salt required")||s.message.includes("Authorization header is missing")||s.message.includes("salt"))?this.userService.handlerSessionExpired():s&&s.message&&s.message.includes("Network error: Http failure response for")?x().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):x().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}formatCurrency(e){let n="";return e&&(n=parseInt(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$& "),n=n.toString().slice(0,-3)),n}resetFilterObject(){this.whichFilterOn=null,this.filteredValues={accounting_document:"",date:"",transaction_type:"",description:"",from:"",to:"",student_last_name:"",student_id:"",date_from:"",date_to:"",school:"",bank:"",campus:"",level:"",scholar_season:""}}todayDetails(){this.filterDate="today",this.actionFilterDate.date="Today",this.whichFilterOn="today",this.filteredValues.date_from=D().format("DD/MM/YYYY"),this.filteredValues.date_to=D().add(1,"days").format("DD/MM/YYYY"),this.getCandidatesHistoryData()}filterDateRange(e){this.filterDate=e,this.whichFilterOn=e,"yesterday"===e?(this.actionFilterDate.date="Yesterday",this.filteredValues.date_from=D().subtract(1,"days").format("DD/MM/YYYY"),this.filteredValues.date_to=D().format("DD/MM/YYYY")):"lastWeek"===e?(this.actionFilterDate.date="Last 7 days",this.filteredValues.date_from=D().subtract(6,"days").format("DD/MM/YYYY"),this.filteredValues.date_to=D().add(1,"days").format("DD/MM/YYYY")):"lastMonth"===e?(this.actionFilterDate.date="Last 30 days",this.filteredValues.date_from=D().subtract(29,"days").format("DD/MM/YYYY"),this.filteredValues.date_to=D().add(1,"days").format("DD/MM/YYYY")):"thisMonth"===e&&(this.actionFilterDate.date="This month",this.filteredValues.date_to=D().endOf("month").add(1,"days").format("DD/MM/YYYY"),this.filteredValues.date_from=D().startOf("month").format("DD/MM/YYYY")),this.getCandidatesHistoryData()}viewProfileInfo(e,n){const a={selectedCandidate:e,sortValue:this.sortValue||"",tab:n||"",paginator:JSON.stringify({pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize})},o=this.router.createUrlTree(["candidate-file"],{queryParams:a});window.open(o.toString(),"_blank")}sendMailDialog(e){this.mailStudentsDialog=this.dialog.open(Rt,{disableClose:!0,width:"750px",data:e})}addTask(e){this.subs.sink=this.dialog.open(qt,{width:"600px",disableClose:!0,data:e}).afterClosed().subscribe(n=>{})}getDate(e){let n;return e&&e.candidate_id&&e.candidate_id.billing_id&&e.candidate_id.billing_id.terms&&e.candidate_id.billing_id.terms.length&&e.term_index&&e.candidate_id.billing_id.terms[parseInt(e.term_index)]&&(n=e.candidate_id.billing_id.terms[parseInt(e.term_index)].term_payment.date),n}getAmount(e){let n;return e&&e.candidate_id&&e.candidate_id.billing_id&&e.candidate_id.billing_id.terms&&e.candidate_id.billing_id.terms.length&&e.term_index&&e.candidate_id.billing_id.terms[parseInt(e.term_index)]&&(n=e.candidate_id.billing_id.terms[parseInt(e.term_index)].term_amount),n}getCreditOrDebitAmount(e){return e&&e.credit&&e.credit>0?e.credit:e&&e.debit&&e.debit>0?e.debit:0}intakeChannel(e){let n="";return e&&e.intake_channel&&e.intake_channel.scholar_season_id&&e.intake_channel.program&&e.intake_channel.scholar_season_id.scholar_season?(n=e.intake_channel.scholar_season_id.scholar_season.concat(" ",e.intake_channel.program),n):""}downloadCSV(){if(this.dataSelected.length||this.isCheckedAll&&!(this.isCheckedAll&&this.dataUnselected&&this.dataUnselected.length)){const e={",":this.translate.instant("IMPORT_DECISION_S1.COMMA"),";":this.translate.instant("IMPORT_DECISION_S1.SEMICOLON"),tab:this.translate.instant("IMPORT_DECISION_S1.TAB")};x().fire({type:"question",title:this.translate.instant("IMPORT_DECISION_S1.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translate.instant("IMPORT_DECISION_S1.CANCEL"),confirmButtonText:this.translate.instant("IMPORT_DECISION_S1.OK"),input:"radio",inputOptions:e,inputValue:this.translate&&"fr"===this.translate.currentLang?";":"",inputValidator:n=>new Promise((a,o)=>{n?(a(""),x().enableConfirmButton()):(x().disableConfirmButton(),o(this.translate.instant("IMPORT_DECISION_S1.INVALID")))}),onOpen:function(){x().disableConfirmButton(),x().getContent().addEventListener("click",function(o){x().enableConfirmButton()}),";"===x().getInput().getAttribute("value")&&x().enableConfirmButton()}}).then(n=>{n.value&&this.openDownloadCsv(n.value)})}else x().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Finance History")}),confirmButtonText:this.translate.instant("Followup_S8.Button")})}openDownloadCsv(e){let n=de.N.apiUrl;n=n.replace("graphql",""),document.createElement("a");const o=this.translate.currentLang.toLowerCase(),s=this.cleanFilterDataExport();let O="",S="";console.log("check",this.isCheckedAll,this.dataSelected),(this.dataSelected.length&&!this.isCheckedAll||this.isCheckedAll&&this.dataUnselected&&this.dataUnselected.length&&this.dataSelected.length)&&(S='"transaction_ids":['+this.dataSelected.map(si=>'"'+si._id+'"').toString()+"]"),O=s.slice(0,10)+S+(s&&"}"!==s.slice(10)&&this.dataSelected.length&&(!this.isCheckedAll||this.isCheckedAll&&this.dataUnselected&&this.dataUnselected.length)?",":"")+s.slice(10);const g=this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id.map(z=>'"'+z+'"'):[],C=n+"downloadFinanceHistory/"+e+"/"+o+"/"+this.currentUser._id;console.log("fullURL",C);const A=encodeURI(C),X={headers:new gt.WM({Authorization:JSON.parse(localStorage.getItem("admtc-token-encryption")),"Content-Type":"application/json"})},st="{"+O+',"user_type_ids":['+g+`],"user_type_id":"${this.currentUserTypeId}"}`;this.isLoading=!0,this.subs.sink=this.http.post(A,st,X).subscribe(z=>{this.isLoading=!1,z&&x().fire({type:"success",title:this.translate.instant("ReAdmission_S3.TITLE"),text:this.translate.instant("ReAdmission_S3.TEXT"),confirmButtonText:this.translate.instant("ReAdmission_S3.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getCandidatesHistoryData(),this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.dataUnselected=[],this.allStudentForCheckbox=[],this.isCheckedAll=!1})},z=>{this.isLoading=!1})}cleanFilterDataExport(){this.isThereFilter=!1;const e=d.cloneDeep(this.filteredValues);let a,o,s,n="";return Object.keys(e).forEach(h=>{(e[h]||!1===e[h])&&("school"===h?(a=e.school.map(O=>'"'+O+'"'),n=n?n+`, "schools":[${a}]`:n+` "schools":[${a}]`):"campus"===h?(o=e.campus.map(O=>'"'+O+'"'),n=n?n+`, "candidate_campuses":[${o}]`:n+` "candidate_campuses":[${o}]`):"level"===h?(s=e.level.map(O=>'"'+O+'"'),n=n?n+`, "candidate_levels":[${s}]`:n+` "candidate_levels":[${s}]`):n=n?n+`,"${h}":"${e[h]}"`:n+`"${h}":"${e[h]}"`)}),n&&(this.isThereFilter=!0),'"filter":{'+n+"}"}applySuperFilter(){this.pageSelected=[],this.paginator.pageIndex=0,this.filteredValues={...this.filteredValues,scholar_season:this.superFilter.scholar_season,school:this.superFilter.school,campus:this.superFilter.campus,level:this.superFilter.level},this.isDisabled=!0,this.getCandidatesHistoryData()}getAllFinanceForExport(e){if("export"===this.buttonClicked)if(this.isCheckedAll)if(this.dataUnselected.length<1)this.downloadCSV();else{0===e&&(this.allHistoryForExport=[],this.dataSelected=[]);const n=this.cleanFilterData(),a={limit:500,page:e};this.isLoading=!0,this.subs.sink=this.financeService.GetAllTransactionHistoriesForExport(a,n,this.currentUserTypeId).subscribe(o=>{o?.length?(this.allHistoryForExport=d.concat(this.allHistoryForExport,d.cloneDeep(o)),this.getAllFinanceForExport(e+1)):(this.isLoading=!1,this.isCheckedAll&&this.allHistoryForExport.length>0&&(this.dataSelected=this.allHistoryForExport.filter(s=>!this.dataUnselected.includes(s?._id)),this.dataSelected=d.uniqBy(this.dataSelected,"_id"),this.downloadCSV()))},o=>{this.isReset=!1,this.isLoading=!1,x().fire({type:"info",title:this.translate.instant("SORRY"),text:o?.message||o,confirmButtonText:this.translate.instant("OK"),allowOutsideClick:!1})})}else this.downloadCSV()}controllerButton(e){"export"===e?setTimeout(()=>{this.getAllFinanceForExport(0)},500):this.resetFilterObject()}isAllDropdownSelected(e){if("scholar"===e){const n=this.scholarFilter.value;return n&&0!==n.length&&n.length===this.scholars.length}if("school"===e){const n=this.schoolsFilter.value;return n&&0!==n.length&&n.length===this.school.length}if("campus"===e){const n=this.campusFilter.value;return n&&0!==n.length&&n.length===this.campusList.length}if("level"===e){const n=this.levelFilter.value;return n&&0!==n.length&&n.length===this.levels.length}}isSomeDropdownSelected(e){if("scholar"===e){const n=this.scholarFilter.value;return n&&0!==n.length&&n.length!==this.scholars.length}if("school"===e){const n=this.schoolsFilter.value;return n&&0!==n.length&&n.length!==this.school.length}if("campus"===e){const n=this.campusFilter.value;return n&&0!==n.length&&n.length!==this.campusList.length}if("level"===e){const n=this.levelFilter.value;return n&&0!==n.length&&n.length!==this.levels.length}}selectAllData(e,n){if("scholar"===n)this.scholarFilter.patchValue(e.checked?"All":null,{emitEvent:!1});else if("school"===n)if(e.checked){const a=this.school.map(o=>o._id);this.schoolsFilter.patchValue(a,{emitEvent:!1})}else this.schoolsFilter.patchValue(null,{emitEvent:!1});else if("campus"===n)if(e.checked){const a=this.campusList.map(o=>o.name);this.campusFilter.patchValue(a,{emitEvent:!1})}else this.campusFilter.patchValue(null,{emitEvent:!1});else if("level"===n)if(e.checked){const a=this.levels.map(o=>o.name);this.levelFilter.patchValue(a,{emitEvent:!1})}else this.levelFilter.patchValue(null,{emitEvent:!1})}ngOnDestroy(){this.pageTitleService.setMessage(""),this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(pe.o),t.\u0275\u0275directiveInject(E.uw),t.\u0275\u0275directiveInject(rt.N),t.\u0275\u0275directiveInject($.t),t.\u0275\u0275directiveInject(Y.n),t.\u0275\u0275directiveInject(m.F0),t.\u0275\u0275directiveInject(gt.eN),t.\u0275\u0275directiveInject(me.Z),t.\u0275\u0275directiveInject(P.sK),t.\u0275\u0275directiveInject(c.e),t.\u0275\u0275directiveInject(pt.$),t.\u0275\u0275directiveInject(he.q))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-finance-history"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(N.NW,7),t.\u0275\u0275viewQuery(V.YE,7)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.sort=a.first)}},features:[t.\u0275\u0275ProvidersFeature([$.t,Y.n])],decls:135,vars:88,consts:[[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"p-grid",2,"margin-bottom","10px","font-family","firaSans !important","position","relative"],[1,"p-col-fixed","no-padding",2,"width","180px","float","left","padding-right","15px !important"],[1,"p-col-12","no-padding","filter-input"],["class","float-label",4,"ngIf"],["bindValue","_id","bindLabel","scholar_season",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["ng-option-tmp",""],["bindValue","_id","bindLabel","short_name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],[4,"ngIf"],["bindValue","name","bindLabel","name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],[1,"p-col-fixed",2,"float","left","padding-right","15px !important","margin-top","2px !important"],["mat-button","","mat-raised-button","","color","accent",3,"disabled","click"],[1,"horizontal","header-button","header-action"],[1,"text-right",2,"display","inline-block","float","right"],["mat-raised-button","","color","primary",3,"matTooltip","click",4,"ngIf"],["mat-raised-button","",3,"color","matTooltip","click",4,"ngIf"],["color","primary","mat-raised-button","",3,"matTooltip","click",4,"ngIf"],[1,"horizontal","mat-elevation-z8","finance-table"],["mat-table","","matSort","",1,"mat-elevation-z8",2,"font-family","firaSans",3,"dataSource","matSortChange"],["matColumnDef","selectFilter",1,"mat-column-select"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["matColumnDef","accountingFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","dateFilter"],["matColumnDef","typeFilter"],["matColumnDef","transactionFilter"],["matColumnDef","fromFilter"],["matColumnDef","toFilter"],["matColumnDef","bankFilter"],["matColumnDef","referenceFilter"],["matColumnDef","debitFilter"],["matColumnDef","amountFilter"],["matColumnDef","studentFilter"],["matColumnDef","programFilter"],["matColumnDef","lettrageFilter"],["matColumnDef","actionFilter"],["matColumnDef","select",1,"mat-column-select"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","accounting"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","type"],["matColumnDef","transaction"],["mat-cell","",4,"matCellDef"],["matColumnDef","from"],["mat-cell","","class","pad-l-xs",3,"matTooltip",4,"matCellDef"],["matColumnDef","to"],["matColumnDef","bank"],["matColumnDef","reference"],["matColumnDef","debit"],["matColumnDef","amount"],["matColumnDef","student"],["matColumnDef","program"],["matColumnDef","lettrage"],["matColumnDef","action"],["matColumnDef","loading"],["mat-header-cell","","colspan","15","style","text-align: center !important",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],[1,"horizontal",2,"margin-bottom","40px"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["class","no-records",3,"ngClass",4,"ngIf"],[1,"float-label"],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],["mat-raised-button","","color","primary",3,"matTooltip","click"],["svgIcon","file-excel",1,"mat-icon-svgIcon"],["mat-raised-button","",3,"color","matTooltip","click"],[1,"mat-icon-status"],["color","primary","mat-raised-button","",3,"matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-header-cell","",1,"text-center"],["mat-header-cell",""],["matInput","",1,"form-field",3,"formControl","placeholder"],[1,"example-full-width",2,"margin-top","5px"],["matInput","","placeholder","Date","readonly","",3,"formControl","matDatepicker"],["matSuffix","",2,"margin-right","5px",3,"for"],["picker",""],["panelClass","filterPanel",3,"formControl","disableOptionCentering"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["value","All"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"text-center"],[3,"checked","aria-label","click","change"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-cell","",3,"matTooltip"],["mat-cell",""],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],["mat-cell","",1,"pad-l-xs",3,"matTooltip"],["style","text-align: center",4,"ngIf"],[2,"text-align","center"],["aria-hidden","true",1,"mat-icon-status",3,"ngClass"],["mat-icon-button","","class","margin-right-button",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"margin-right-button",3,"disabled","matTooltip","click"],["svgIcon","clipboard-check-outline"],["svgIcon","checkbox-marked-circle-outline"],["mat-header-cell","","colspan","15",2,"text-align","center !important"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records",3,"ngClass"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"ms-filter-breadcrumb",0),t.\u0275\u0275listener("removeFilterTrigger",function(o){return n.removeFilterBreadcrumb(o)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275template(4,fe,3,3,"label",4),t.\u0275\u0275elementStart(5,"ng-select",5),t.\u0275\u0275listener("close",function(){return n.scholarSelect()}),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275template(8,be,2,3,"ng-template",6),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(9,"div",2)(10,"div",3),t.\u0275\u0275template(11,Ce,3,3,"label",4),t.\u0275\u0275elementStart(12,"ng-select",7),t.\u0275\u0275listener("close",function(){return n.selectSchoolFilter()}),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275template(15,ye,3,5,"ng-template",6),t.\u0275\u0275template(16,Oe,1,0,null,8),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(17,"div",2)(18,"div",3),t.\u0275\u0275template(19,ve,3,3,"label",4),t.\u0275\u0275elementStart(20,"ng-select",9),t.\u0275\u0275listener("close",function(){return n.selectCampusFilter()}),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275template(23,Me,3,5,"ng-template",6),t.\u0275\u0275template(24,Se,1,0,null,8),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(25,"div",2)(26,"div",3),t.\u0275\u0275template(27,Te,3,3,"label",4),t.\u0275\u0275elementStart(28,"ng-select",9),t.\u0275\u0275listener("close",function(){return n.selectLevelFilter()}),t.\u0275\u0275pipe(29,"translate"),t.\u0275\u0275pipe(30,"translate"),t.\u0275\u0275template(31,Ee,3,5,"ng-template",6),t.\u0275\u0275template(32,ke,1,0,null,8),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(33,"div",10)(34,"button",11),t.\u0275\u0275listener("click",function(){return n.applySuperFilter()}),t.\u0275\u0275text(35),t.\u0275\u0275pipe(36,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(37,"div",12)(38,"div",13),t.\u0275\u0275template(39,Fe,5,6,"button",14),t.\u0275\u0275template(40,De,6,7,"button",15),t.\u0275\u0275template(41,Ie,6,7,"button",15),t.\u0275\u0275template(42,Be,6,7,"button",15),t.\u0275\u0275template(43,Ae,6,7,"button",15),t.\u0275\u0275template(44,Ne,6,7,"button",15),t.\u0275\u0275template(45,Le,5,6,"button",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(46,"div",17)(47,"table",18),t.\u0275\u0275listener("matSortChange",function(o){return n.sortData(o)}),t.\u0275\u0275elementContainerStart(48,19),t.\u0275\u0275template(49,He,1,0,"th",20),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(50,21),t.\u0275\u0275template(51,Ve,4,4,"th",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(52,23),t.\u0275\u0275template(53,Re,6,3,"th",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(54,24),t.\u0275\u0275template(55,Ye,4,3,"th",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(56,25),t.\u0275\u0275template(57,$e,1,0,"th",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(58,26),t.\u0275\u0275template(59,je,4,4,"th",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(60,27),t.\u0275\u0275template(61,ze,1,0,"th",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(62,28),t.\u0275\u0275template(63,Ge,7,6,"th",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(64,29),t.\u0275\u0275template(65,We,1,0,"th",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(66,30),t.\u0275\u0275template(67,Je,1,0,"th",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(68,31),t.\u0275\u0275template(69,Qe,1,0,"th",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(70,32),t.\u0275\u0275template(71,qe,4,4,"th",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(72,33),t.\u0275\u0275template(73,Ze,1,0,"th",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(74,34),t.\u0275\u0275template(75,Xe,1,0,"th",22),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(76,35),t.\u0275\u0275template(77,tn,1,0,"th",20),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(78,36),t.\u0275\u0275template(79,en,2,3,"th",20),t.\u0275\u0275template(80,nn,2,2,"td",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(81,38),t.\u0275\u0275template(82,an,5,6,"th",39),t.\u0275\u0275template(83,on,3,2,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(84,41),t.\u0275\u0275template(85,ln,5,3,"th",39),t.\u0275\u0275template(86,rn,2,2,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(87,42),t.\u0275\u0275template(88,sn,5,6,"th",39),t.\u0275\u0275template(89,cn,7,10,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(90,43),t.\u0275\u0275template(91,dn,5,6,"th",39),t.\u0275\u0275template(92,un,4,3,"td",44),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(93,45),t.\u0275\u0275template(94,gn,5,6,"th",39),t.\u0275\u0275template(95,bn,3,3,"td",46),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(96,47),t.\u0275\u0275template(97,Cn,5,6,"th",39),t.\u0275\u0275template(98,yn,3,2,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(99,48),t.\u0275\u0275template(100,xn,5,6,"th",39),t.\u0275\u0275template(101,On,3,2,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(102,49),t.\u0275\u0275template(103,vn,5,6,"th",39),t.\u0275\u0275template(104,Sn,3,3,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(105,50),t.\u0275\u0275template(106,kn,6,7,"th",39),t.\u0275\u0275template(107,Fn,3,2,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(108,51),t.\u0275\u0275template(109,An,6,7,"th",39),t.\u0275\u0275template(110,Nn,3,2,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(111,52),t.\u0275\u0275template(112,Ln,5,6,"th",39),t.\u0275\u0275template(113,Hn,6,10,"td",46),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(114,53),t.\u0275\u0275template(115,Vn,5,6,"th",39),t.\u0275\u0275template(116,Rn,3,2,"td",40),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(117,54),t.\u0275\u0275template(118,Un,5,6,"th",39),t.\u0275\u0275template(119,Yn,5,8,"td",44),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(120,55),t.\u0275\u0275template(121,$n,5,6,"th",39),t.\u0275\u0275template(122,Jn,6,5,"td",44),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(123,56),t.\u0275\u0275template(124,Qn,3,0,"th",57),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(125,qn,1,0,"tr",58),t.\u0275\u0275template(126,Zn,1,0,"tr",58),t.\u0275\u0275template(127,Xn,1,1,"tr",59),t.\u0275\u0275template(128,ti,1,1,"tr",60),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(129,"div",61)(130,"div",62),t.\u0275\u0275pipe(131,"async"),t.\u0275\u0275element(132,"mat-paginator",63),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(133,ei,3,6,"div",64),t.\u0275\u0275pipe(134,"async"),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275property("filterBreadcrumbData",n.filterBreadcrumbData),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",(null==n.scholarFilter?null:n.scholarFilter.value)&&0!==(null==n.scholarFilter||null==n.scholarFilter.value?null:n.scholarFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(6,60,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(7,62,"CARDDETAIL.Scholar Season")),t.\u0275\u0275property("items",n.scholars)("appendTo","body")("multiple",!1)("formControl",n.scholarFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",(null==n.schoolsFilter?null:n.schoolsFilter.value)&&0!==(null==n.schoolsFilter||null==n.schoolsFilter.value?null:n.schoolsFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(13,64,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(14,66,"ADMISSION.TABLE_ADMISSION_CHANNEL.School")),t.\u0275\u0275property("items",n.school)("appendTo","body")("multiple",!0)("formControl",n.schoolsFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==n.school?null:n.school.length),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==n.campusFilter?null:n.campusFilter.value)&&0!==(null==n.campusFilter||null==n.campusFilter.value?null:n.campusFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(21,68,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(22,70,"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus")),t.\u0275\u0275property("items",n.campusList)("appendTo","body")("multiple",!0)("formControl",n.campusFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==n.campusList?null:n.campusList.length),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==n.levelFilter?null:n.levelFilter.value)&&0!==(null==n.levelFilter||null==n.levelFilter.value?null:n.levelFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(29,72,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(30,74,"ADMISSION.TABLE_ADMISSION_CHANNEL.Level")),t.\u0275\u0275property("items",n.levels)("appendTo","body")("multiple",!0)("formControl",n.levelFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==n.levels?null:n.levels.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",n.isDisabled||n.isLoading),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(36,76,"Apply Filter")," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",n.permission.exportCsvFinanceHistoryPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.filterTodayFinanceHistoryPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.filterYesterdayFinanceHistoryPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.filterLast7DaysFinanceHistoryPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.filterLast30DaysFinanceHistoryPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.filterThisMonthFinanceHistoryPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.permission.resetFinanceHistoryPerm()),t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(78),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(82,ni)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(83,ft,t.\u0275\u0275pipeBind1(131,78,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(85,ii,n.dataCount<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(87,ai)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(134,80,n.noData)))},dependencies:[l.mk,l.sg,l.O5,H.ey,Q.lW,ue.oG,W.Mq,W.hl,W.nW,q.Hw,G.KE,G.R9,lt.Nt,N.NW,et.Ou,ge.gD,V.YE,B.BZ,B.fO,B.as,B.w1,B.Dz,B.nj,B.ge,B.ev,B.XQ,B.Gk,ct.gM,_.DefaultValueAccessor,_.CheckboxControlValueAccessor,_.NgControlStatus,_.NgModel,_.FormControlDirective,nt.oO,_e.r,Z.w9,Z.ir,Z.Cm,l.Ov,l.gd,P.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}@font-face{font-family:firaSans;src:url(FiraSansExtraCondensed-Regular.4f3f4d10e46c8043.woff)}.form-field[_ngcontent-%COMP%]{margin-top:6px}.header-action[_ngcontent-%COMP%]{font-family:firaSans!important;height:50px;padding:8px;background:#424242}.person-image[_ngcontent-%COMP%]{display:inline-block;margin-right:0;height:18px;width:18px;vertical-align:baseline}.flag-icon[_ngcontent-%COMP%]{vertical-align:text-top;height:17px;width:17px}img.engagement-level-icon[_ngcontent-%COMP%]{height:15px;width:15px;display:inline;margin:0}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}th.mat-header-cell[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{align-items:center;font-size:10pt}table.mat-table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     table{font-size:10pt}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{align-items:center!important;border-right:1px solid #545454;padding:4px!important}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:3%}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:8%;min-width:100px;padding-left:.5rem!important;text-align:left;font-size:10pt}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:8%;text-align:center;font-size:10pt;min-width:60px}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:8%;text-align:center;font-size:10pt}[_nghost-%COMP%]     table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(4) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:8%;text-align:left;min-width:140px;font-size:10pt}[_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){text-align:left;width:8%;min-width:145px;padding-left:.5rem!important;padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(6) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(6) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){text-align:left;width:8%;min-width:123px;padding-left:.5rem!important;padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(7) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(7) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){width:8%;font-size:10pt;text-align:center;min-width:52px;max-width:52px}[_nghost-%COMP%]     table tr td:nth-child(8) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(8) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(9), [_nghost-%COMP%]     table tr th:nth-child(9){width:8%}[_nghost-%COMP%]     table tr td:nth-child(9) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(9) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(10), [_nghost-%COMP%]     table tr th:nth-child(10){width:7%;text-align:center!important;min-width:45px}[_nghost-%COMP%]     table tr td:nth-child(10) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(10) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(11), [_nghost-%COMP%]     table tr th:nth-child(11){width:7%;text-align:center!important;min-width:45px}[_nghost-%COMP%]     table tr td:nth-child(11) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(11) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(12), [_nghost-%COMP%]     table tr th:nth-child(12){width:8%;min-width:140px}[_nghost-%COMP%]     table tr td:nth-child(12) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(12) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(13), [_nghost-%COMP%]     table tr th:nth-child(13){width:8%;text-align:center!important;min-width:105px}[_nghost-%COMP%]     table tr td:nth-child(13) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(13) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(14), [_nghost-%COMP%]     table tr th:nth-child(14){width:7%;text-align:center;max-width:90px}[_nghost-%COMP%]     table tr td:nth-child(15), [_nghost-%COMP%]     table tr th:nth-child(15){width:8%;min-width:170px;text-align:center}[_nghost-%COMP%]     table tr td:nth-child(15) .mat-icon-button, [_nghost-%COMP%]     table tr th:nth-child(15) .mat-icon-button{height:24px!important;width:24px!important}[_nghost-%COMP%]     table tr td:nth-child(15) .mat-icon, [_nghost-%COMP%]     table tr th:nth-child(15) .mat-icon{font-size:16px;width:18px!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr td *{vertical-align:middle}[_nghost-%COMP%]     table tr th{align-items:center;text-align:center!important;font-size:10pt!important}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr th button.mat-sort-header-button{display:inline!important}[_nghost-%COMP%]     table thead tr:nth-child(1){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(1), [_nghost-%COMP%]     table thead tr:nth-child(2){background:#212121;border-bottom:none!important;font-size:10pt!important;height:auto}[_nghost-%COMP%]     table thead tr:nth-child(1) th, [_nghost-%COMP%]     table thead tr:nth-child(2) th{color:#fff}[_nghost-%COMP%]     table thead tr:nth-child(1) th .mat-icon-svgIcon, [_nghost-%COMP%]     table thead tr:nth-child(2) th .mat-icon-svgIcon{vertical-align:text-bottom}[_nghost-%COMP%]     table thead tr:nth-child(1) th:nth-child(19) .mat-icon, [_nghost-%COMP%]     table thead tr:nth-child(2) th:nth-child(19) .mat-icon{display:inline-flex;margin:8%}[_nghost-%COMP%]     table thead tr:nth-child(1) th:nth-child(10){background-color:#607d8b!important}[_nghost-%COMP%]     table thead tr:nth-child(1) th:nth-child(11){background-color:#607d8b!important}[_nghost-%COMP%]     table thead tr:nth-child(2){vertical-align:unset}[_nghost-%COMP%]     table thead tr:nth-child(2) th:nth-child(3){padding-top:0!important}.finance-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:unset!important}.action-header-column[_ngcontent-%COMP%]{text-align:right!important;vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.horizontal[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden}.hide[_ngcontent-%COMP%]{display:none}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}.icon-thumbsup[_ngcontent-%COMP%]{width:13px;padding:2px 0 0}.icon-certifier[_ngcontent-%COMP%]{width:15px}.loading-indicator[_ngcontent-%COMP%]{position:fixed;z-index:999;height:2em;width:6em;overflow:show;margin:auto;inset:0}.loading-indicator[_ngcontent-%COMP%]:before{content:"";display:block;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000004d}.yellow[_ngcontent-%COMP%]{color:#ffd740}.orange[_ngcontent-%COMP%]{color:#f49f36}.blue[_ngcontent-%COMP%]{color:#36ebf4}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.purple[_ngcontent-%COMP%]{color:#ff46f9}.black[_ngcontent-%COMP%]{color:#000}.green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#adff2f}.red-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#ff4040}.black-icon[_ngcontent-%COMP%]{font-size:25px;width:30px;color:#000}h5[_ngcontent-%COMP%]{font-weight:200}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid #8c8c8c!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{color:#000}[_nghost-%COMP%]  .mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}[_nghost-%COMP%]  .filterPanel{margin-top:25px!important}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgb(241,241,241)!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container{width:12px;height:12px;margin-left:7px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background{background-color:transparent}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-checkmark .mat-checkbox-checkmark-path{stroke:#000!important}  .all-input.mat-checkbox-indeterminate .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-mixedmark{background-color:#000!important}.super-filter[_ngcontent-%COMP%]{width:250px}.float-label[_ngcontent-%COMP%]{font-size:.82rem;color:#ffffff78;font-weight:600;position:absolute;top:-3px}  .filterPanel{margin-top:25px!important}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}']}),i})(),canActivate:[y.n],data:{permission:"finance.history.show_perm"}},{path:"**",redirectTo:"",pathMatch:"full"}];let li=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[m.Bz.forChild(oi),m.Bz]}),i})(),ri=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({providers:[l.uU],imports:[l.ez,T.m,Z.A0,U.rK,li,w.ii.forRoot()]}),i})()},95321:(J,R,p)=>{p.d(R,{g:()=>d});var l=p(13125),T=p(24850),w=p(94650),U=p(18497),m=p(89383),y=p(80529);let d=(()=>{class u{constructor(b,v,N){this.apollo=b,this.translate=v,this.httpClient=N}getMonths(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}getYears(){let b=(new Date).getFullYear(),N=b+2;const V=[];for(let B=b-20;B<=N;B++)V.push(B.toString());return V}addAcademicJourney(b,v){return this.apollo.mutate({mutation:l.ZP`
          mutation UpdateStudentInAcademicJourney($id: ID!, $lang: String!, $student_input: StudentInput) {
            UpdateStudent(_id: $id, lang: $lang, student_input: $student_input) {
              _id
              last_name
              first_name
              date_of_birth
              nationality
              place_of_birth
              professional_email
              photo
              is_photo_in_s3
              photo_s3_path
              description
              identification_type
              identification_number
              student_address {
                address
                city
                country
                department
                is_main_address
                postal_code
                region
              }
            }
          }
        `,variables:{lang:this.translate.currentLang,id:"5aa91e19155c845d8f80ddb6",student_input:v}}).pipe((0,T.U)(N=>N.data.UpdateStudent))}GetOneUser(b){return this.apollo.query({query:l.ZP`
          query{
              GetOneUser(_id:"${b}"){
                  _id
                  student_id{
                      _id
                  }
                  email
              }
              }
      `,fetchPolicy:"network-only"}).pipe((0,T.U)(v=>v.data.GetOneUser))}GetOneStudentdetails(b){return this.apollo.query({query:l.ZP`
          query{
              GetOneStudent(_id:"${b}")
              {
                  _id
                  last_name
                  civility
                  first_name
                  date_of_birth
                  nationality
                  tele_phone
                  place_of_birth
                  professional_email
                  photo
                  is_photo_in_s3
                  photo_s3_path
                  description
                  identification_type
                  identification_number
                  student_address {
                      address
                      city
                      country
                      department
                      is_main_address
                      postal_code
                      region
                  }
                  academic_journey_id {
                    diplomas {
                      institute_name
                      graduation_date{
                          month
                          year
                      }
                      qualification
                      location
                      field_of_study
                      major
                      grade
                      score
                      out_of_score
                      additional_information
                      diploma_upload_date
                      diploma_photo
                    }
                    experiences {
                      description
                      position_name
                      position_level
                      company_name
                      location
                      join_duration_from {
                          month
                          year
                      }
                      join_duration_to {
                          month
                          year
                      }
                      present
                      role
                      country
                      industry
                      monthly_salary
                      monthly_salary_currency
                      specialization_name
                    }
                    skills {
                      skill
                      level
                    }
                    languages {
                        language
                        spoken
                        written
                        primary
                    }
                    interests
                  }
                }
              }
      `,fetchPolicy:"network-only"}).pipe((0,T.U)(v=>v.data.GetOneStudent))}GetStudentId(b){return this.apollo.query({query:l.ZP`
        query GetStudentId {
          GetOneUser(_id:"${b}"){
            student_id{
                _id
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,T.U)(v=>v.data.GetOneUser))}GetStudentDataProfileFirstTime(b){return this.apollo.query({query:l.ZP`
        query GetStudentDataToPopulateProfile {
          GetOneStudent(_id:"${b}"){
            first_name
            last_name
            age
            email
            photo
            civility
            tele_phone
            date_of_birth
            place_of_birth
            nationality
            identification_type
            identification_number
            student_address{
              address
              postal_code
              city
              region
              department
              country
              is_main_address
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,T.U)(v=>v.data.GetOneStudent))}getMySummary(b){return this.apollo.query({query:l.ZP`
        query GetMyProfile {
          GetOneAcademicJourney(student_id:"${b}"){
            _id
            student_id {
              _id
            }
            general_presentation {
              first_name
              last_name
              age
              email
              description
              photo
              civility
              tele_phone
              date_of_birth
              place_of_birth
              nationality
              identification_type
              identification_number
              address {
                address
                postal_code
                city
                region
                department
                country
                is_main_address
              }
            }
            diplomas {
              institute_name
              graduation_date {
                date
                time
              }
              diploma_name
              city
              country
              qualification
              location
              field_of_study
              major
              grade
              score
              out_of_score
              additional_information
              diploma_upload_date
              diploma_photo
            }
            experiences {
              description
              position_name
              position_level
              company_name
              location
              join_duration_from {
                month
                year
              }
              join_duration_to {
                month
                year
              }
              present
              role
              country
              monthly_salary
              industry
              monthly_salary_currency
              specialization_name
            }
            skills {
              skill
              level
            }
            languages {
              language
              spoken
              written
              primary
            }
            interests {
              text
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,T.U)(v=>v.data.GetOneAcademicJourney))}getMyProfile(b){return this.apollo.query({query:l.ZP`
        query GetMyProfile {
          GetOneAcademicJourney(student_id:"${b}"){
            _id
            student_id {
              _id
            }
            general_presentation {
              first_name
              last_name
              age
              email
              description
              photo
              civility
              tele_phone
              date_of_birth
              place_of_birth
              nationality
              identification_type
              identification_number
              address {
                address
                postal_code
                city
                region
                department
                country
                is_main_address
              }
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,T.U)(v=>v.data.GetOneAcademicJourney))}getMyDiplomas(b){return this.apollo.query({query:l.ZP`
        query GetMyDiplomas {
          GetOneAcademicJourney(student_id:"${b}"){
            _id
            student_id {
              _id
            }
            diplomas {
              institute_name
              graduation_date {
                date
                time
              }
              diploma_name
              city
              country
              qualification
              location
              field_of_study
              major
              grade
              score
              out_of_score
              additional_information
              diploma_upload_date
              diploma_photo
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,T.U)(v=>v.data.GetOneAcademicJourney))}getMySkills(b){return this.apollo.query({query:l.ZP`
        query GetMySkills {
          GetOneAcademicJourney(student_id:"${b}"){
            _id
            student_id {
              _id
            }
            skills {
              skill
              level
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,T.U)(v=>v.data.GetOneAcademicJourney))}getMylanguages(b){return this.apollo.query({query:l.ZP`
        query GetMyLanguage {
          GetOneAcademicJourney(student_id:"${b}"){
            _id
            student_id {
              _id
            }
            languages {
              language
              spoken
              written
              primary
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,T.U)(v=>v.data.GetOneAcademicJourney))}getMyInterest(b){return this.apollo.query({query:l.ZP`
        query getMyInterest {
          GetOneAcademicJourney(student_id:"${b}"){
            _id
            student_id {
              _id
            }
            interests {
              text
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,T.U)(v=>v.data.GetOneAcademicJourney))}getMyExperience(b){return this.apollo.query({query:l.ZP`
        query getMyExperience {
          GetOneAcademicJourney(student_id:"${b}"){
            _id
            student_id {
              _id
            }
            experiences {
              description
              position_name
              position_level
              company_name
              location
              join_duration_from {
                month
                year
              }
              join_duration_to {
                month
                year
              }
              present
              role
              country
              monthly_salary
              industry
              monthly_salary_currency
              specialization_name
            }
          }
        }
    `,fetchPolicy:"network-only"}).pipe((0,T.U)(v=>v.data.GetOneAcademicJourney))}createAcademicJourney(b){return this.apollo.mutate({mutation:l.ZP`
          mutation CreateAcademicJourney($academic_journey_input: AcademicJourneyInput) {
            CreateAcademicJourney(academic_journey_input: $academic_journey_input) {
              _id
            }
          }
        `,variables:{academic_journey_input:b}}).pipe((0,T.U)(v=>v.data.CreateAcademicJourney))}updateAcademicJourney(b,v){return this.apollo.mutate({mutation:l.ZP`
          mutation UpdateAcademicJourney($_id: ID!, $academic_journey_input: AcademicJourneyInput) {
            UpdateAcademicJourney(_id: $_id, academic_journey_input: $academic_journey_input) {
              _id
              general_presentation {
                photo
              }
            }
          }
        `,variables:{_id:b,academic_journey_input:v}}).pipe((0,T.U)(N=>N.data.UpdateAcademicJourney))}getCurrency(){return this.httpClient.get("assets/data/currency.json")}}return u.\u0275fac=function(b){return new(b||u)(w.\u0275\u0275inject(U._M),w.\u0275\u0275inject(m.sK),w.\u0275\u0275inject(y.eN))},u.\u0275prov=w.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},83515:(J,R,p)=>{p.d(R,{w:()=>U});var l=p(15439),w=p(94650);let U=(()=>{class m{transform(d,u){return d?l(d,"HH:mm").add(-l().utcOffset(),"m").format("HH:mm"):""}transformDate(d,u){return d?l(d+u,"DD/MM/YYYYHH:mm").add(-l().utcOffset(),"m").format("DD/MM/YYYY"):""}transformDateTime(d,u){return d?l(d+u,"DD/MM/YYYYHH:mm").add(-l().utcOffset(),"m").format("DD/MM/YYYYHH:mm"):""}transformJavascriptDate(d){if(d){const u=l(d).format("DD/MM/YYYY"),M=l(d).format("HH:mm"),b=l(u+M,"DD/MM/YYYYHH:mm").add(-l().utcOffset(),"m");return{date:b.format("DD/MM/YYYY"),time:b.format("HH:mm")}}return""}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275pipe=w.\u0275\u0275definePipe({name:"parseLocalToUtc",type:m,pure:!0}),m})()},62416:(J,R,p)=>{p.d(R,{t:()=>U});var l=p(15439),w=p(94650);let U=(()=>{class m{transform(d,u){return d?l(d,"HH:mm").subtract(-l().utcOffset(),"m").format("HH:mm"):""}transformAMPM(d,u){return d?l(d,"HH:mm").subtract(-l().utcOffset(),"m").format("HH:mm"):""}transformDate(d,u){if(d&&u)return l(d+u,"DD/MM/YYYYHH:mm").subtract(-l().utcOffset(),"m").format("DD/MM/YYYY")}transformDateInDateFormat(d,u){if(d&&u)return l(d+u,"DD/MM/YYYYHH:mm").subtract(-l().utcOffset(),"m")}fixDateFormat(d){if(d&&d.includes("-")){const u=d.split("-");d=`${u[2]}/${u[1]}/${u[0]}`}return d}fixDateFormatUtc(d){if(d&&d.includes("-")){const u=d.split("-");d=`${u[2].split("T")[0]}/${u[1]}/${u[0]}`}return d}fixTimeFormat(d){return d&&!d.includes(":")&&(d="00:00"),d}transformDateToJavascriptDate(d,u){if(d=this.fixDateFormat(d),u=this.fixTimeFormat(u),d&&u)return l(d+u,"DD/MM/YYYYHH:mm").subtract(-l().utcOffset(),"m").toDate()}transformDateToStringFormat(d,u){if(d&&u)return l(d+u,"DD/MM/YYYYHH:mm").subtract(-l().utcOffset(),"m").format("MMM DD, YYYY")}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275pipe=w.\u0275\u0275definePipe({name:"parseUtcToLocal",type:m,pure:!0}),m})()}}]);