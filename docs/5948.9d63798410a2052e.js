"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[5948],{95948:(Me,N,l)=>{l.r(N),l.d(N,{TutorialModule:()=>Oe});var _=l(36895),q=l(93730),j=l(610),H=l(98739),w=l(96308),h=l(53626),S=l(68745),tt=l(35226),c=l.n(tt),u=l(65938),d=l(24006),W=l(9749),t=l(94650),E=l(93764),b=l(89383),k=l(52688),I=l(87746),F=l(84075),z=l(97255),P=l(73555),R=l(4859),U=l(97392),C=l(59549),A=l(284),D=l(51572),L=l(37204),M=l(88796);function et(o,r){1&o&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"TUTORIAL.ADD_TUTORIAL")," "))}function nt(o,r){1&o&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"TUTORIAL.MODIFYTUTORIAL")," "))}function ot(o,r){1&o&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function it(o,r){1&o&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function at(o,r){1&o&&(t.\u0275\u0275elementStart(0,"span",22),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function rt(o,r){1&o&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function lt(o,r){1&o&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"Invalid Format URL")," "))}function st(o,r){1&o&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function dt(o,r){1&o&&(t.\u0275\u0275elementStart(0,"div",23),t.\u0275\u0275element(1,"mat-progress-spinner",24),t.\u0275\u0275elementEnd())}let Y=(()=>{class o{constructor(e,n,i,a,s,p,g,m,T){this.dialogRef=e,this.tutorialService=n,this.fb=i,this.translate=a,this.data=s,this.authService=p,this.userService=g,this.utilService=m,this.testService=T,this.Editor=W,this.subs=new S.Y,this.config={placeholder:this.translate.instant("Description")},this.config1={placeholder:this.translate.instant("Message")},this.isWaitingForResponse=!1,this.modifyTutorial=!1,this.userTypes=[],this.userList=[]}ngOnInit(){this.initTutorialForm(),this.getUserTypeDropdown(),this.data&&(this.modifyTutorial=!0,this.getTutorialForm())}getTutorialForm(){const e={description:this.data.description,link:this.data.link,message:this.data.message,title:this.data.title,user_type_ids:[]};this.data.user_type_ids&&this.data.user_type_ids.length&&this.data.user_type_ids.forEach(n=>{e.user_type_ids.push(n._id)}),this.form.patchValue(e)}initTutorialForm(){this.form=this.fb.group({user_type_ids:[null,d.Validators.required],title:["",d.Validators.required],description:["",d.Validators.required],link:["",[d.Validators.required,d.Validators.pattern("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$")]],message:[this.translate.instant("TUTORIAL_MENU.MESSAGE_TEMPLATE"),d.Validators.required]})}submitTutorial(){if(!this.form.valid)return c().fire({type:"warning",title:this.translate.instant("EVAL_BY_EXPERTISE.EVAL_S2.TITLE"),text:this.translate.instant("EVAL_BY_EXPERTISE.EVAL_S2.TEXT"),confirmButtonText:this.translate.instant("EVAL_BY_EXPERTISE.EVAL_S2.BUTTON"),allowOutsideClick:!1,allowEscapeKey:!1}),void this.form.markAllAsTouched();this.data?(this.isWaitingForResponse=!0,this.subs.sink=this.tutorialService.updateTutorial(this.data._id,this.form.value).subscribe(e=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("TUTORIAL_UPDATE.TITLE"),text:this.translate.instant("TUTORIAL_UPDATE.TEXT",{title:this.data.title}),confirmButtonText:this.translate.instant("TUTORIAL_UPDATE.BUTTON")}),this.dialogRef.close()},e=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})):(this.isWaitingForResponse=!0,this.subs.sink=this.tutorialService.createTutorial(this.form.value).subscribe(e=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("TUTORIAL_SAVE.TITLE"),text:this.translate.instant("TUTORIAL_SAVE.TEXT"),confirmButtonText:this.translate.instant("TUTORIAL_SAVE.BUTTON")}),this.dialogRef.close()},e=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}ngOnDestroy(){this.subs.unsubscribe()}getUserTypeDropdown(){this.subs.sink=this.testService.getAllUserType().subscribe(e=>{this.originalUserType=e,this.userTypes=e.map(n=>({name:this.getTranslateType(n.name),id:n._id})),console.log("User Type => ",e)},e=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}getTranslateType(e){if(e)return this.translate.instant("USER_TYPES."+e)}keysrt(e){return function(n,i){return n[e]>i[e]?1:n[e]<i[e]?-1:0}}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(u.so),t.\u0275\u0275directiveInject(E.M),t.\u0275\u0275directiveInject(d.UntypedFormBuilder),t.\u0275\u0275directiveInject(b.sK),t.\u0275\u0275directiveInject(u.WI),t.\u0275\u0275directiveInject(k.e),t.\u0275\u0275directiveInject(I.K),t.\u0275\u0275directiveInject(F.t),t.\u0275\u0275directiveInject(z.J))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ms-add-tutorial-dialog"]],decls:41,vars:32,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],["svgIcon","key",2,"vertical-align","middle"],[1,"p-col-10","acad-title"],[1,"dialogTitle"],[4,"ngIf"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],["matInput","","formControlName","title",3,"placeholder"],["formControlName","description",3,"editor","config","ready"],["bindLabel","name","bindValue","id","clearAllText","Clear","formControlName","user_type_ids",1,"mrgn-btn",3,"items","multiple","hideSelected","placeholder"],["style","color: #dc3545",4,"ngIf"],["matInput","","formControlName","link",3,"placeholder"],["formControlName","message",3,"editor","config","ready"],["align","center"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],["class","loading-indicator",4,"ngIf"],[2,"color","#dc3545"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275element(4,"mat-icon",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",5)(6,"h3",6),t.\u0275\u0275template(7,et,3,3,"div",7),t.\u0275\u0275template(8,nt,3,3,"div",7),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",8)(10,"button",9)(11,"mat-icon"),t.\u0275\u0275text(12,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(13,"form",10)(14,"div",11)(15,"mat-dialog-content")(16,"mat-form-field"),t.\u0275\u0275element(17,"input",12),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275template(19,ot,3,3,"mat-error",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"ckeditor",13),t.\u0275\u0275listener("ready",function(a){return n.onReady(a)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(21,it,3,3,"mat-error",7),t.\u0275\u0275element(22,"br")(23,"ng-select",14),t.\u0275\u0275pipe(24,"translate"),t.\u0275\u0275template(25,at,3,3,"span",15),t.\u0275\u0275elementStart(26,"mat-form-field"),t.\u0275\u0275element(27,"input",16),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275template(29,rt,3,3,"mat-error",7),t.\u0275\u0275template(30,lt,3,3,"mat-error",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(31,"ckeditor",17),t.\u0275\u0275listener("ready",function(a){return n.onReady(a)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(32,st,3,3,"mat-error",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(33,"mat-dialog-actions",18)(34,"button",19),t.\u0275\u0275text(35),t.\u0275\u0275pipe(36,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(37,"button",20),t.\u0275\u0275listener("click",function(){return n.submitTutorial()}),t.\u0275\u0275text(38),t.\u0275\u0275pipe(39,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(40,dt,2,0,"div",21)),2&e&&(t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",!n.modifyTutorial),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.modifyTutorial),t.\u0275\u0275advance(5),t.\u0275\u0275property("formGroup",n.form),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(18,22,"TUTORIAL_MENU.TITLE")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.form.get("title").hasError("required")&&(n.form.get("title").dirty||n.form.get("title").touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("editor",n.Editor)("config",n.config),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.form.get("description").hasError("required")&&(n.form.get("description").dirty||n.form.get("description").touched)),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(24,24,"TUTORIAL_MENU.CATEGORY"),"*"),t.\u0275\u0275property("items",n.userTypes)("multiple",!0)("hideSelected",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.form.get("user_type_ids").hasError("required")&&(n.form.get("user_type_ids").dirty||n.form.get("user_type_ids").touched)),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(28,26,"TUTORIAL_MENU.LINK")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.form.get("link").hasError("required")&&(n.form.get("link").dirty||n.form.get("link").touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.form.get("link").hasError("pattern")&&(n.form.get("link").dirty||n.form.get("link").touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("editor",n.Editor)("config",n.config1),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.form.get("message").hasError("required")&&(n.form.get("message").dirty||n.form.get("message").touched)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(36,28,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(39,30,"SUBMIT")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse))},dependencies:[_.O5,P.Zt,P.Bh,R.lW,u.ZT,u.xY,u.H8,U.Hw,C.TO,C.KE,A.Nt,D.Ou,d.\u0275NgNoValidate,d.DefaultValueAccessor,d.NgControlStatus,d.NgControlStatusGroup,d.FormGroupDirective,d.FormControlName,L.u,M.w9,b.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-20px}"]}),o})();var f=l(17489),G=l(80013),Q=l(29521),ct=l(50777),$=l(84130),y=l(47957),K=l(3238),x=l(77331),pt=l(90455),X=l(24784);const mt=["auto"],gt=["languagesInput"];function ht(o,r){1&o&&(t.\u0275\u0275elementStart(0,"mat-icon",34),t.\u0275\u0275text(1,"cancel"),t.\u0275\u0275elementEnd())}function ut(o,r){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-chip",32),t.\u0275\u0275listener("removed",function(){const a=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.removeTo(null==a?null:a._id))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,ht,2,0,"mat-icon",33),t.\u0275\u0275elementEnd()}if(2&o){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("selectable",n.selectable)("removable",n.removable),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.removable)}}function ft(o,r){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",35),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.selectedProgram(a))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&o){const e=r.$implicit;t.\u0275\u0275property("value",null==e?null:e.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.name," ")}}function _t(o,r){1&o&&(t.\u0275\u0275elementStart(0,"span",36),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function bt(o,r){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ng-select",37),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.selectedUser())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementEnd()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(1,4,"Select User"),"*"),t.\u0275\u0275property("items",e.userList)("multiple",!0)("hideSelected",!0)}}function Ct(o,r){1&o&&(t.\u0275\u0275elementStart(0,"span",36),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Ot(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"ng-option",40),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o){const e=r.$implicit;t.\u0275\u0275property("value",null==e?null:e._id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"USER_TYPES_WITH_ENTITY."+(null==e?null:e.name_with_entity)))}}function Tt(o,r){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ng-select",38),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.selectedUserType())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275template(2,Ot,3,4,"ng-option",39),t.\u0275\u0275elementEnd()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate1("placeholder","",t.\u0275\u0275pipeBind1(1,4,"Select User Type"),"*"),t.\u0275\u0275property("multiple",!0)("hideSelected",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.userTypesList)}}function Pt(o,r){1&o&&(t.\u0275\u0275elementStart(0,"span",36),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function Mt(o,r){1&o&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function yt(o,r){1&o&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}function xt(o,r){1&o&&(t.\u0275\u0275elementStart(0,"div",41),t.\u0275\u0275element(1,"mat-spinner",42),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}let vt=(()=>{class o{constructor(e,n,i,a,s,p,g,m,T,V){this.dialogRef=e,this.fb=n,this.translate=i,this.data=a,this.userService=s,this.autService=p,this.rncpTitleService=g,this.tutorialService=m,this.utilService=T,this.ngxPermissionService=V,this.subs=new S.Y,this.Editor=W,this.config={},this.userTypes=[],this.userList=[],this.rncpTitles=[],this.schools=[],this.isWaitingForResponse=!1,this.titleReady=!1,this.userReady=!1,this.userTypeReady=!1,this.selectedTitleId=[],this.selectedUserTypeId=[],this.isUserAcadDir=!1,this.isUserAcadAdmin=!1,this.programs=[],this.programList=[],this.selectedProgramList=[],this.selectable=!0,this.removable=!0,this.filterValue={program:null},this.separatorKeysCodes=[Q.K5,Q.OC],this.addOnBlur=!0}ngOnInit(){this.isUserAcadAdmin=!!this.ngxPermissionService.getPermission("Academic Admin"),this.isUserAcadDir=!!this.ngxPermissionService.getPermission("Academic Director"),this.currentUser=this.autService.getLocalStorageUser(),this.isPermission=this.autService.getPermission();const e=this.currentUser?.entities?.find(n=>n?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id,console.log(this.data),this.initializeForm(),this.getProgramDropdown(),this.getUserTypeList(),this.initFilter()}getUserList(){let e=[];this.selectedProgramList&&this.selectedProgramList.length&&(e=this.selectedProgramList.map(n=>n.program)),this.isWaitingForResponse=!0,this.subs.sink=this.userService.getUserByProgram(e).subscribe(n=>{this.isWaitingForResponse=!1,this.userList=n.map(i=>({name:("neutral"!==i.civility?this.translate.instant(i.civility)+" ":"")+i.first_name+" "+i.last_name,id:i._id})),this.originalUserList=n.map(i=>({name:("neutral"!==i.civility?this.translate.instant(i.civility)+" ":"")+i.first_name+" "+i.last_name,id:i._id}))},n=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getSchoolList(e){if(this.isUserAcadAdmin||this.isUserAcadDir){const n=[],i=this.currentUser.entities?this.currentUser.entities[0].school._id:"";this.subs.sink=this.rncpTitleService.getAllSchoolDropdown(e).subscribe(a=>{a&&(this.schools=a,n.push(i),this.forwardTutorialForm.get("school_ids").patchValue(n),this.forwardTutorialForm.get("school_ids").disable(),console.log(this.forwardTutorialForm.get("school_ids").value,i,a))},a=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}else this.subs.sink=this.rncpTitleService.getAllSchoolDropdown(e).subscribe(n=>{this.schools=n},n=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getTitleList(){if(this.isUserAcadAdmin||this.isUserAcadDir){const e=this.currentUser.entities?this.currentUser.entities[0].type.name:"";this.subs.sink=this.autService.getUserById(this.currentUser._id).subscribe(n=>{const i=n.entities.filter(s=>s.type.name===e),a=this.utilService.getAcademicAllAssignedTitle(i);this.subs.sink=this.rncpTitleService.getRncpTitlesForTutorialAcad(a).subscribe(s=>{this.rncpTitlesList=s,this.originalRncpTitlesList=s},s=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})},n=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}else this.subs.sink=this.rncpTitleService.getRncpTitlesForTutorial().subscribe(e=>{this.rncpTitlesList=e,this.originalRncpTitlesList=e},e=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getUserTypeList(){this.isWaitingForResponse=!0,this.subs.sink=this.userService.getAllUserTypeDropdown().subscribe(e=>{this.userTypesList=e,this.originalUserTypesList=e,this.isWaitingForResponse=!1},e=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}selectedProgram(e){if(this.userReady=!1,this.selectedProgramList.push(e),this.selectedProgramList=f.uniqBy(this.selectedProgramList,"_id"),this.languagesInput.nativeElement.value="",this.forwardTutorialForm.get("program").setValue(null),this.selectedProgramList&&this.selectedProgramList.length){const n=this.selectedProgramList.map(i=>i._id);this.forwardTutorialForm.get("program_ids").patchValue(n),this.getUserList()}}setProgram(){this.languagesInput.nativeElement.value="",this.forwardTutorialForm.get("program").setValue(null)}addTo(e){!1===this.matAutocomplete.isOpen&&(e.input&&(e.input.value=""),this.forwardTutorialForm.get("program").setValue(null))}selectedUser(){this.userReady=!1}selectedUserType(){this.userReady=!1;let e=[];this.selectedProgramList&&this.selectedProgramList.length&&(e=this.selectedProgramList.map(n=>n.program)),this.subs.sink="5a067bba1c0217218c75f8ab"===this.forwardTutorialForm.get("user_type_id").value?this.userService.getUserTypeStudentPrograms(this.forwardTutorialForm.get("user_type_id").value,e).subscribe(n=>{this.userRecipientList=n},n=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.userService.getUserTypePrograms(e,this.forwardTutorialForm.get("user_type_id").value).subscribe(n=>{this.userRecipientList=n},n=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}),this.selectedUserTypeId=this.forwardTutorialForm.get("user_type_id").value}initializeForm(){this.forwardTutorialForm=this.fb.group({program:["",d.Validators.required],program_ids:[[]],category:[!0],user_id:[[]],user_type_id:[[],d.Validators.required],subject:[this.data.title,d.Validators.required],message:[this.data.message||this.translate.instant("TUTORIAL_MENU.MESSAGE_TEMPLATE"),d.Validators.required]})}userCategeryChanged(e){this.forwardTutorialForm.controls.category.setValue(e.checked)}onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}categoryChange(e){e.checked?(console.log("Check"),this.forwardTutorialForm.get("user_id").patchValue(null),this.forwardTutorialForm.get("user_id").updateValueAndValidity(),this.forwardTutorialForm.get("user_id").clearValidators(),this.forwardTutorialForm.get("user_id").updateValueAndValidity(),this.forwardTutorialForm.get("user_type_id").setValidators([d.Validators.required]),this.forwardTutorialForm.get("user_type_id").updateValueAndValidity()):(console.log("Unceck"),this.forwardTutorialForm.get("user_type_id").patchValue(null),this.forwardTutorialForm.get("user_type_id").updateValueAndValidity(),this.forwardTutorialForm.get("user_type_id").clearValidators(),this.forwardTutorialForm.get("user_type_id").updateValueAndValidity(),this.forwardTutorialForm.get("user_id").setValidators([d.Validators.required]),this.forwardTutorialForm.get("user_id").updateValueAndValidity()),console.log("Event : ",e,this.forwardTutorialForm.controls)}keyupUser(e){this.userReady=!0}keyupUserType(e){this.userTypeReady=!0}keyupTitle(e){this.titleReady=!0}valueChange(e){"title"===e?this.titleReady=!1:"user"===e?this.userReady=!1:"type"===e&&(this.userTypeReady=!1),console.log("button active : ",this.titleReady,this.userReady,this.userTypeReady)}forwardTutorial(){console.log("payload =>",this.forwardTutorialForm.value);let e,n=[];this.selectedTitleId.forEach(g=>{e=this.rncpTitlesList.filter(m=>m._id===g),n=n.concat(e)});let i="";if(n&&n.length){let g=0;n.forEach(m=>{m.long_name&&(g++,g>1&&(i+=", "),i+=m.long_name)})}console.log("selectedTitleId =>",e);const a=f.cloneDeep(this.forwardTutorialForm.value),s=this.currentUser.entities?this.currentUser.entities[0].type._id:"";this.forwardTutorialForm.get("category").value?(a.recipient_type="user_type",a.user_id=[]):(a.recipient_type="user",a.user_type_id=[]),a.tutorial_id=this.data._id;let p="";if(this.data.user_type_ids&&this.data.user_type_ids.length){let g=0;this.data.user_type_ids.forEach(m=>{m.name&&(g++,g>1&&(p+=", "),p+=m.name)})}delete a.category,delete a.program,c().fire({title:this.translate.instant("TUTORIAL_SEND2.TITLE",{title:this.data.title}),html:this.translate.instant("TUTORIAL_SEND2.TEXT",{title:this.data.title,usertype:p,nametitle:i}),type:"question",allowEscapeKey:!0,showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("TUTORIAL_SEND2.BUTTON_1"),cancelButtonText:this.translate.instant("TUTORIAL_SEND2.BUTTON_2")}).then(g=>{g.value&&(this.isWaitingForResponse=!0,this.subs.sink=this.tutorialService.sendTutorial(s,a).subscribe(m=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("TUTORIAL_SEND1.TITLE"),html:this.translate.instant("TUTORIAL_SEND1.TEXT"),allowEscapeKey:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("TUTORIAL_SEND1.BUTTON")}),this.dialogRef.close()},m=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:m&&m.message?this.translate.instant(m.message.replaceAll("GraphQL error: ","")):m,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}getProgramDropdown(e){this.isWaitingForResponse=!0;const i=e||null;this.programs=[],this.subs.sink=this.tutorialService.getAllPrograms(null,i,this.currentUserTypeId).subscribe(a=>{if(a){this.programList=f.cloneDeep(a);const s=this.programList.map(p=>{const g=p.scholar_season_id&&p.scholar_season_id.scholar_season?p.scholar_season_id.scholar_season:null;return{...p,name:g+" "+p.program}});this.programs=f.cloneDeep(s)}this.isWaitingForResponse=!1})}initFilter(){this.subs.sink=this.forwardTutorialForm.get("program").valueChanges.pipe((0,G.b)(500)).subscribe(e=>{console.log("program filter",e),e&&e.length&&(this.programs=[],this.subs.sink=this.tutorialService.getAllPrograms(null,{program:e.toString()},this.currentUserTypeId).subscribe(i=>{if(i&&i.length){this.programList=f.cloneDeep(i);const a=this.programList.map(s=>{const p=s.scholar_season_id&&s.scholar_season_id.scholar_season?s.scholar_season_id.scholar_season:null;return{...s,name:p+" "+s.program}});this.programs=f.cloneDeep(a)}console.log("selected",this.selectedProgramList)}))})}removeTo(e){if(e){const n=this.selectedProgramList.findIndex(i=>i._id===e);if(n>=0){this.selectedProgramList.splice(n,1);const i=this.selectedProgramList.map(a=>a._id);this.forwardTutorialForm.get("program_ids").patchValue(i),this.getUserList()}}}setDisableForm(){return!!(this.forwardTutorialForm.get("subject").invalid||this.forwardTutorialForm.get("message").invalid||0===this.selectedProgramList.length||this.forwardTutorialForm.get("category").value&&this.forwardTutorialForm.get("user_type_id").invalid||!this.forwardTutorialForm.get("category").value&&this.forwardTutorialForm.get("user_id").invalid)}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(u.so),t.\u0275\u0275directiveInject(d.UntypedFormBuilder),t.\u0275\u0275directiveInject(b.sK),t.\u0275\u0275directiveInject(u.WI),t.\u0275\u0275directiveInject(I.K),t.\u0275\u0275directiveInject(k.e),t.\u0275\u0275directiveInject(ct.r),t.\u0275\u0275directiveInject(E.M),t.\u0275\u0275directiveInject(F.t),t.\u0275\u0275directiveInject($.YI))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ms-forward-tutorial-dialog"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(mt,5),t.\u0275\u0275viewQuery(gt,5)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.matAutocomplete=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.languagesInput=i.first)}},decls:57,vars:41,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],["svgIcon","key",2,"vertical-align","middle"],[1,"p-col-10","acad-title"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[3,"formGroup"],[2,"color","black"],[1,"content-height"],[1,"p-col","pad-r-none","pad-l-none"],[1,"full-wid"],[3,"ngClass"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["matInput","","formControlName","program","required","",1,"form-field",3,"matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["languagesInput",""],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["style","color: #dc3545",4,"ngIf"],["checked","checked","formControlName","category",3,"change"],["bindLabel","name","bindValue","id","clearAllText","Clear","formControlName","user_id",3,"items","multiple","hideSelected","placeholder","click",4,"ngIf"],["clearAllText","Clear","formControlName","user_type_id",3,"multiple","hideSelected","placeholder","click",4,"ngIf"],["matInput","","formControlName","subject",3,"placeholder"],[4,"ngIf"],["formControlName","message",3,"editor","config","ready"],["align","center"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"disabled","click"],["class","loading-indicator",4,"ngIf"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value","click"],[2,"color","#dc3545"],["bindLabel","name","bindValue","id","clearAllText","Clear","formControlName","user_id",3,"items","multiple","hideSelected","placeholder","click"],["clearAllText","Clear","formControlName","user_type_id",3,"multiple","hideSelected","placeholder","click"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"loading-indicator"],["color","accent",3,"diameter"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275element(4,"mat-icon",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",5)(6,"h3",6),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",7)(10,"button",8)(11,"mat-icon"),t.\u0275\u0275text(12,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(13,"form",9)(14,"div",10)(15,"mat-dialog-content",11)(16,"div",2)(17,"div",12)(18,"mat-form-field",13)(19,"mat-label",14),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"mat-chip-list",null,15),t.\u0275\u0275template(24,ut,3,4,"mat-chip",16),t.\u0275\u0275elementStart(25,"input",17,18),t.\u0275\u0275listener("matChipInputTokenEnd",function(a){return n.addTo(a)}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(27,"mat-autocomplete",null,19),t.\u0275\u0275template(29,ft,2,2,"mat-option",20),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(30,_t,3,3,"span",21),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(31,"label"),t.\u0275\u0275text(32),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(34,"mat-slide-toggle",22),t.\u0275\u0275listener("change",function(a){return n.categoryChange(a)}),t.\u0275\u0275text(35),t.\u0275\u0275pipe(36,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(37,"div",2)(38,"div",12),t.\u0275\u0275template(39,bt,2,6,"ng-select",23),t.\u0275\u0275template(40,Ct,3,3,"span",21),t.\u0275\u0275template(41,Tt,3,6,"ng-select",24),t.\u0275\u0275template(42,Pt,3,3,"span",21),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(43,"mat-form-field"),t.\u0275\u0275element(44,"input",25),t.\u0275\u0275pipe(45,"translate"),t.\u0275\u0275template(46,Mt,3,3,"mat-error",26),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(47,"ckeditor",27),t.\u0275\u0275listener("ready",function(a){return n.onReady(a)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(48,yt,3,3,"mat-error",26),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(49,"mat-dialog-actions",28)(50,"button",29),t.\u0275\u0275text(51),t.\u0275\u0275pipe(52,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(53,"button",30),t.\u0275\u0275listener("click",function(){return n.forwardTutorial()}),t.\u0275\u0275text(54),t.\u0275\u0275pipe(55,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(56,xt,2,1,"div",31)),2&e){const i=t.\u0275\u0275reference(23),a=t.\u0275\u0275reference(28);t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(8,27,"MailBox.forwardMail.send")," ",null==n.data?null:n.data.title,""),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",n.forwardTutorialForm),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngClass",0!==n.selectedProgramList.length||n.forwardTutorialForm.get("program").value||!n.forwardTutorialForm.get("program").dirty&&!n.forwardTutorialForm.get("program").touched?"":"style-warning-label"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(21,29,"Select Program"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",n.selectedProgramList),t.\u0275\u0275advance(1),t.\u0275\u0275property("matAutocomplete",a)("matChipInputFor",i)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes)("matChipInputAddOnBlur",n.addOnBlur),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",n.programs),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===n.selectedProgramList.length&&!n.forwardTutorialForm.get("program").value&&(n.forwardTutorialForm.get("program").dirty||n.forwardTutorialForm.get("program").touched)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(33,31,"User")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(36,33,"TUTORIAL_MENU.CATEGORY")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",!n.forwardTutorialForm.get("category").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.forwardTutorialForm.get("user_id").hasError("required")&&(n.forwardTutorialForm.get("user_id").dirty||n.forwardTutorialForm.get("user_id").touched)&&!n.forwardTutorialForm.get("category").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.forwardTutorialForm.get("category").value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.forwardTutorialForm.get("user_type_id").hasError("required")&&(n.forwardTutorialForm.get("user_type_id").dirty||n.forwardTutorialForm.get("user_type_id").touched)&&n.forwardTutorialForm.get("category").value),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(45,35,"Subject")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.forwardTutorialForm.get("subject").hasError("required")&&(n.forwardTutorialForm.get("subject").dirty||n.forwardTutorialForm.get("subject").touched)),t.\u0275\u0275advance(1),t.\u0275\u0275property("editor",n.Editor)("config",n.config),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.forwardTutorialForm.get("message").hasError("required")&&(n.forwardTutorialForm.get("message").dirty||n.forwardTutorialForm.get("message").touched)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(52,37,"CLOSE")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",n.isWaitingForResponse||n.userReady||n.userTypeReady||n.setDisableForm()),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(55,39,"SUBMIT")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isWaitingForResponse)}},dependencies:[_.mk,_.sg,_.O5,P.Zt,P.Bh,y.XC,y.ZL,K.ey,R.lW,x.qn,x.HS,x.oH,x.qH,u.ZT,u.xY,u.H8,U.Hw,C.TO,C.KE,C.hX,A.Nt,D.Ou,pt.Rr,d.\u0275NgNoValidate,d.DefaultValueAccessor,d.NgControlStatus,d.NgControlStatusGroup,d.RequiredValidator,d.FormGroupDirective,d.FormControlName,X.oO,L.u,M.w9,M.jq,b.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}[_nghost-%COMP%]     .mat-dialog-content{max-height:80vh}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-43px}.content-height[_ngcontent-%COMP%]{max-height:65vh}.style-warning-label[_ngcontent-%COMP%]{color:#dc3545}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container .ng-value-container .ng-placeholder, [_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container .ng-value-container .ng-value, [_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container .ng-value-container .ng-input>input{color:#f44336}"]}),o})();var v=l(1059),O=l(24850),wt=l(22868),Z=l(18206),St=l(91013),Et=l(44758),kt=l(22437),It=l(67154),B=l(28255),Ft=l(10266),Rt=l(75223);function Ut(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"button",35),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-icon"),t.\u0275\u0275text(5,"expand_more"),t.\u0275\u0275elementEnd()()),2&o){t.\u0275\u0275nextContext();const e=t.\u0275\u0275reference(3),n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(1,4,"Action")," "),t.\u0275\u0275property("disabled",n.isWaitingForResponse)("matMenuTriggerFor",e),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,6,"Action")," ")}}function At(o,r){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",36),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.tutorialDialog(""))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon",37),t.\u0275\u0275text(3,"add"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()}2&o&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"TUTORIAL.ADD_TUTORIAL")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,4,"TUTORIAL.ADD_TUTORIAL")," "))}function Dt(o,r){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",28),t.\u0275\u0275template(1,Ut,6,8,"button",29),t.\u0275\u0275elementStart(2,"mat-menu",30,31),t.\u0275\u0275template(4,At,6,6,"button",32),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"button",33),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.resetFilter())}),t.\u0275\u0275element(6,"mat-icon",34),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.addTutorialPerm()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",e.permissionService.addTutorialPerm()),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,3,"RESET")," ")}}function Lt(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"th",38)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",39),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.titleFilter)}}function Bt(o,r){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-option",46),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.setUserTypeFilter(a))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&o){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,e.name)," ")}}function Vt(o,r){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",38)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",41),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"mat-autocomplete",42,43),t.\u0275\u0275listener("optionSelected",function(i){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.changeOptionUserType(i))}),t.\u0275\u0275elementStart(6,"mat-option",44),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.setUserTypeFilter("All"))}),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,Bt,3,3,"mat-option",45),t.\u0275\u0275pipe(10,"async"),t.\u0275\u0275elementEnd()()()}if(2&o){const e=t.\u0275\u0275reference(5),n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,5,"search")),t.\u0275\u0275property("formControl",n.userTypeFilter)("matAutocomplete",e),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,7,"All")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(10,9,n.listUserType))}}function Nt(o,r){1&o&&(t.\u0275\u0275elementContainerStart(0,40),t.\u0275\u0275template(1,Vt,11,11,"th",6),t.\u0275\u0275elementContainerEnd())}function jt(o,r){1&o&&t.\u0275\u0275element(0,"th",38)}function Ht(o,r){1&o&&t.\u0275\u0275element(0,"th",38)}function Wt(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"th",47),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("width",e.titleColumn,"%"),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,4,"TUTORIAL.TITLETUTORIAL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,6,"TUTORIAL.TITLETUTORIAL"))}}function zt(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"td",48),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&o){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("width",n.titleColumn,"%"),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,4,e.title)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,6,e.title)," ")}}function Yt(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"th",50),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275styleProp("width",e.userColumn,"%"),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,4,"TUTORIAL.TYPEUSER")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,6,"TUTORIAL.TYPEUSER"))}}function Gt(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"span",54),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("matTooltip",i.computeTutorialTooltip(n.user_type_ids)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"USER_TYPES."+(null==e?null:e.name))," ")}}function Qt(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"span",54),t.\u0275\u0275text(1," ... "),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext(2).$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("matTooltip",n.computeTutorialTooltip(e.user_type_ids))}}function $t(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,Gt,3,4,"span",53),t.\u0275\u0275template(2,Qt,2,1,"span",53),t.\u0275\u0275elementEnd()),2&o){const e=r.$implicit,n=r.index;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e?null:e.name)&&n<=1),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",2===n)}}function Kt(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"td",51),t.\u0275\u0275template(1,$t,3,2,"span",52),t.\u0275\u0275elementEnd()),2&o){const e=r.$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275styleProp("width",n.userColumn,"%"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n.getUniqueUserType(e.user_type_ids))}}function Xt(o,r){1&o&&(t.\u0275\u0275elementContainerStart(0,49),t.\u0275\u0275template(1,Yt,5,8,"th",15),t.\u0275\u0275template(2,Kt,2,3,"td",19),t.\u0275\u0275elementContainerEnd())}function Zt(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"th",50),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("width",e.descColumn,"%"),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,4,"Description")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,6,"Description"))}}function Jt(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"td",48),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&o){const e=r.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("width",n.descColumn,"%"),t.\u0275\u0275propertyInterpolate("matTooltip",n.utilService.cleanHTML(e.description)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.utilService.cleanHTML(e.description)," ")}}function qt(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"th",55),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("width",e.actionColumn,"%"),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,4,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,6,"Action"))}}function te(o,r){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.viewTutorial(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"remove_red_eye"),t.\u0275\u0275elementEnd()()}2&o&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"View"))}function ee(o,r){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.tutorialDialog(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}2&o&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Edit"))}function ne(o,r){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.deleteTutorial(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"clear"),t.\u0275\u0275elementEnd()()}2&o&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Delete"))}function oe(o,r){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.forwardTutorial(i))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"send"),t.\u0275\u0275elementEnd()()}2&o&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Send"))}function ie(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"td",51),t.\u0275\u0275template(1,te,4,3,"button",56),t.\u0275\u0275template(2,ee,4,3,"button",56),t.\u0275\u0275template(3,ne,4,3,"button",56),t.\u0275\u0275template(4,oe,4,3,"button",56),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("width",e.actionColumn,"%"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.viewTutorialPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.isEditable&&e.permissionService.editTutorialPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.deleteTutorialPerm()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permissionService.sendTutorialPerm())}}function ae(o,r){1&o&&(t.\u0275\u0275elementStart(0,"th",58)(1,"div",59),t.\u0275\u0275element(2,"mat-spinner",60),t.\u0275\u0275elementEnd()())}function re(o,r){1&o&&t.\u0275\u0275element(0,"tr",61)}function le(o,r){1&o&&t.\u0275\u0275element(0,"tr",61)}function se(o,r){1&o&&t.\u0275\u0275element(0,"tr",61)}function de(o,r){if(1&o&&t.\u0275\u0275element(0,"tr",62),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function ce(o,r){if(1&o&&t.\u0275\u0275element(0,"tr",62),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}const J=function(o){return{hide:o}};function pe(o,r){if(1&o&&(t.\u0275\u0275elementStart(0,"div",63),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,J,e.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"NOT RECORD FOUND")," ")}}const me=function(){return["reset"]},ge=function(){return["loading"]},he=function(o){return{"hide-pagination-buttons":o}},ue=function(){return[10]},be=[{path:"",component:(()=>{class o{constructor(e,n,i,a,s,p,g,m,T,V,Te,Pe){this.tutorialService=e,this.translate=n,this.dialog=i,this.authService=a,this.userService=s,this.testService=p,this.utilService=g,this.mailboxService=m,this.permissionService=T,this.permissions=V,this.filterBreadCrumbService=Te,this.pageTitleService=Pe,this.dataSource=new h.by([]),this.displayedColumns=[],this.filterColumns=[],this.subs=new S.Y,this.config={disableClose:!0,width:"650px"},this.isWaitingForResponse=!1,this.dataLoaded=!1,this.isReset=!1,this.sortValue=null,this.userTypeSearchFilter=new d.UntypedFormControl(""),this.indexFilter=new d.UntypedFormControl(""),this.titleFilter=new d.UntypedFormControl(""),this.userTypeFilter=new d.UntypedFormControl(""),this.descriptionFilter=new d.UntypedFormControl(""),this.filteredValues={title:"",user_type_id:""},this.isUserAcadDir=!1,this.isUserAcadAdmin=!1,this.isUserOPERATORAdmin=!1,this.isUserOPERATORDirector=!1,this.isUserOPERATORVisitor=!1,this.isEditable=!0,this.createAble=!0,this.dataCount=0,this.actionColumn=0,this.titleColumn=0,this.userColumn=0,this.descColumn=0,this.filterBreadcrumbData=[],this.userTypeForBreadcrumb=[]}ngOnInit(){this.isPermission=this.authService.getPermission(),this.currentUser=this.authService.getLocalStorageUser(),this.isUserAcadDir=!!this.permissions.getPermission("Academic Director"),this.isUserAcadAdmin=!!this.permissions.getPermission("Academic Admin"),this.isUserOPERATORAdmin=!!this.permissions.getPermission("operator_admin"),this.isUserOPERATORDirector=!!this.permissions.getPermission("operator_dir"),this.isUserOPERATORVisitor=!!this.permissions.getPermission("operator_visitor"),(this.isUserAcadAdmin||this.isUserAcadDir)&&(this.isEditable=!1,this.createAble=!1),this.isUserAcadAdmin||this.isUserAcadDir||this.isUserOPERATORAdmin||this.isUserOPERATORDirector||this.isUserOPERATORVisitor?(this.displayedColumns=["title","user_type","description","action"],this.filterColumns=["titleFilter","userTypeFilter","descriptionFilter","actionFilter"]):(this.displayedColumns=["title","description","action"],this.filterColumns=["titleFilter","descriptionFilter","actionFilter"]),this.userTypeFilter.setValue(this.translate.instant("All")),this.getColumnSectionWidth(),this.getTutorialData(),this.initializeUser(),this.getUrgentMail(),this.getUserTypeDropdown(),this.subs.sink=this.translate.onLangChange.subscribe(e=>{if(this.getUserTypeDropdown(),this.filterBreadcrumbFormat(),this.userTypeFilter.value&&("All"!==this.userTypeFilter.value||"Tous"!==this.userTypeFilter.value)&&this.filteredValues?.user_type_id&&this.userTypeForBreadcrumb?.length){const n=this.userTypeForBreadcrumb.find(i=>i._id===this.filteredValues?.user_type_id);n&&this.userTypeFilter.setValue(this.translate.instant("USER_TYPES."+n.name))}else("All"===this.userTypeFilter.value||"Tous"===this.userTypeFilter.value)&&this.filteredValues&&!this.filteredValues.user_type_id&&this.userTypeFilter.setValue(this.translate.instant("All"));this.originalUserType&&this.originalUserType.length&&(this.userTypeList=[],this.originalUserType.forEach(n=>{const i=this.getTranslateType(n.name);this.userTypeList.push({_id:n._id,name:i})}),this.userTypeList=this.userTypeList.sort(this.keysrt("text")),this.listUserType=this.userTypeFilter.valueChanges.pipe((0,v.O)(""),(0,O.U)(n=>this.userTypeList.filter(i=>!(!i||!i.name)&&i.name.toLowerCase().includes(n?n.toLowerCase():"")).sort((i,a)=>i.name.localeCompare(a.name)))))}),this.pageTitleService.setTitle("List of tutorials")}getTranslateType(e){if(e)return this.translate.instant("USER_TYPES."+e)}keysrt(e){return function(n,i){return n[e]>i[e]?1:n[e]<i[e]?-1:0}}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,v.O)(null),(0,wt.b)(()=>{this.isReset||this.getTutorialData(),this.dataLoaded=!0})).subscribe()}openUserTypeColumn(){let e=!1;return(this.isUserAcadAdmin||this.isUserAcadDir||this.isUserOPERATORAdmin||this.isUserOPERATORDirector||this.isUserOPERATORVisitor)&&(e=!0),e}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getTutorialData())}getTutorialData(){this.isWaitingForResponse=!0;const e={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},n=this.cleanFilterData();this.currentUserTypeId=this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[],this.subs.sink=this.tutorialService.getTutorialNonOperator(e,this.sortValue,n,this.currentUserTypeId).subscribe(i=>{this.isWaitingForResponse=!1,i&&i.length?(this.dataSource.data=i,this.paginator.length=i[0].count_document,this.dataCount=i[0].count_document):(this.dataSource.data=[],this.paginator.length=0,this.dataCount=0),this.noData=this.dataSource.connect().pipe((0,O.U)(a=>0===a.length)),this.isReset=!1,this.filterBreadcrumbData=[],this.filterBreadcrumbFormat()},i=>{this.dataSource.data=[],this.paginator.length=0,this.dataCount=0,this.noData=this.dataSource.connect().pipe((0,O.U)(a=>0===a.length)),this.isReset=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}cleanFilterData(){const e=f.cloneDeep(this.filteredValues);let n="";return Object.keys(e).forEach(i=>{e[i]&&(n+=` ${i}:"${e[i]}"`)}),n}initializeUser(){this.subs.sink=this.titleFilter.valueChanges.pipe((0,G.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.titleFilter.setValue(""),this.filteredValues.title="",this.paginator.pageIndex=0,this.isReset||this.getTutorialData()):(this.filteredValues.title=e||"",this.paginator.pageIndex=0,this.isReset||this.getTutorialData())},e=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}setUserTypeFilter(e){e?"All"===e?(this.userTypeFilter.setValue(this.translate.instant("All")),this.filteredValues.user_type_id=null):(this.filteredValues.user_type_id&&this.filteredValues.user_type_id!==e._id&&(this.filteredUserType=this.originalUserType),this.userTypeFilter.setValue(e.name),this.filteredValues.user_type_id=e._id):(this.userTypeFilter.setValue(null),this.filteredValues.user_type_id=null),this.paginator.pageIndex=0,this.isReset||this.getTutorialData()}resetFilter(){this.isReset=!0,this.paginator.pageIndex=0,this.sort.sort({id:"",start:"asc",disableClear:!1}),this.titleFilter.setValue("",{emitEvent:!1}),this.userTypeFilter.setValue(this.translate.instant("All"),{emitEvent:!1}),this.descriptionFilter.setValue("",{emitEvent:!1}),this.filteredValues={title:"",user_type_id:""},this.sort.direction="",this.sort.active="",this.sortValue=null,this.filterBreadcrumbData=[],this.getUserTypeDropdown(),this.getTutorialData()}deleteTutorial(e){let n=3;console.log(e),c().fire({title:"Attention",html:this.translate.instant("TUTORIAL_MENU.TUTO_S5.TEXT",{tutorialName:e.title}),type:"warning",allowEscapeKey:!0,showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:this.translate.instant("SWEET_ALERT.DELETE.CONFIRM",{timer:n}),cancelButtonText:this.translate.instant("SWEET_ALERT.DELETE.CANCEL"),onOpen:()=>{c().disableConfirmButton();const i=c().getConfirmButton(),a=setInterval(()=>{n-=1,i.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM")+" in "+n+" sec"},1e3);this.timeOutVal=setTimeout(()=>{i.innerText=this.translate.instant("SWEET_ALERT.DELETE.CONFIRM"),c().enableConfirmButton(),clearInterval(a),clearTimeout(this.timeOutVal)},1e3*n)}}).then(i=>{i.value&&(this.isWaitingForResponse=!0,this.subs.sink=this.tutorialService.deleteTutorial(e._id).subscribe(a=>{this.isWaitingForResponse=!1,c().fire({type:"success",title:this.translate.instant("TUTORIAL_SZ.TITLE"),html:this.translate.instant("TUTORIAL_SZ.TEXT"),confirmButtonText:this.translate.instant("TUTORIAL_SZ.BUTTON")}).then(()=>this.getTutorialData())},a=>{this.isWaitingForResponse=!1,c().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}getUserTypeDropdown(){this.subs.sink=this.isUserAcadAdmin||this.isUserAcadDir?this.userService.getAllUserTypePCStudentDropdown("academic","preparation_center").subscribe(e=>{this.userTypeForBreadcrumb=f.cloneDeep(e),this.originalUserType=e.map(n=>({name:this.getTranslateType(n.name),_id:n._id})),this.originalUserType=this.originalUserType.sort(this.keysrt("text")),this.listUserType=this.userTypeFilter.valueChanges.pipe((0,v.O)(""),(0,O.U)(n=>this.originalUserType.filter(i=>!(!i||!i.name)&&i.name.toLowerCase().includes(n?n.toLowerCase():"")).sort((i,a)=>i.name.localeCompare(a.name))))},e=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.testService.getAllUserType().subscribe(e=>{this.userTypeForBreadcrumb=f.cloneDeep(e),this.originalUserType=e.map(n=>({name:this.getTranslateType(n.name),_id:n._id})),this.originalUserType=this.originalUserType.sort(this.keysrt("text")),this.listUserType=this.userTypeFilter.valueChanges.pipe((0,v.O)(""),(0,O.U)(n=>this.originalUserType.filter(i=>!(!i||!i.name)&&i.name.toLowerCase().includes(n?n.toLowerCase():"")).sort((i,a)=>i.name.localeCompare(a.name))))},e=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}viewTutorial(e){window.open(`${e.link}`,"_blank")}changeOptionUserType(e){e.option&&e.option.value&&e.option.value._id&&e.option.value.name&&(this.userTypeFilter.setValue(e.option.value._id),this.userTypeSearchFilter.setValue(e.option.value.name))}computeTutorialTooltip(e){let n="",i=0;const a=f.uniqBy(e,"name");for(const s of a)i++,i>1?s&&(n+=", ",n+=this.translate.instant("USER_TYPES."+s.name)):s&&(n+=this.translate.instant("USER_TYPES."+s.name));return n}ngOnDestroy(){clearTimeout(this.timeOutVal),this.subs.unsubscribe(),this.pageTitleService.setTitle(null)}getUrgentMail(){this.subs.sink=this.mailboxService.getUrgentMail().subscribe(e=>{e&&e.length&&(this.subs.sink=this.dialog.open(Z.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:e}).afterClosed().subscribe(n=>{this.subs.sink=this.mailboxService.getUrgentMail().subscribe(i=>{i&&i.length&&(this.replyUrgentMessageDialogComponent=this.dialog.open(Z.d,{disableClose:!0,width:"825px",panelClass:"certification-rule-pop-up",data:i}))},i=>{c().fire({type:"info",title:this.translate.instant("SORRY"),text:i&&i.message?this.translate.instant(i.message.replaceAll("GraphQL error: ","")):i,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}))})}tutorialDialog(e){this.subs.sink=e?this.dialog.open(Y,{disableClose:!0,width:"650px",data:e}).afterClosed().subscribe(n=>{this.getTutorialData()}):this.dialog.open(Y,this.config).afterClosed().subscribe(n=>{this.getTutorialData()})}forwardTutorial(e){this.subs.sink=this.dialog.open(vt,{disableClose:!0,width:"800px",data:e}).afterClosed().subscribe(n=>{this.getTutorialData()})}getUniqueUserType(e){return f.uniqBy(e,"name")}getColumnSectionWidth(){this.isUserAcadAdmin||this.isUserAcadDir||this.isUserOPERATORAdmin||this.isUserOPERATORDirector||this.isUserOPERATORVisitor?(this.titleColumn=30,this.userColumn=25,this.descColumn=30,this.actionColumn=15):(this.titleColumn=40,this.descColumn=50,this.actionColumn=10)}removeFilterBreadcrumb(e){this.filterBreadCrumbService.removeFilterBreadcrumb(e,null,this.filteredValues),this.getTutorialData()}filterBreadcrumbFormat(){const e=[{type:"table_filter",name:"title",column:"TUTORIAL.TITLETUTORIAL",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.titleFilter,displayKey:null,savedValue:null,isSelectionInput:!1,noTranslate:!0},{type:"table_filter",name:"user_type_id",column:"TUTORIAL.TYPEUSER",isMultiple:!1,filterValue:this.filteredValues,filterList:this.userTypeForBreadcrumb,filterRef:this.userTypeFilter,displayKey:"name",savedValue:"_id",isSelectionInput:!0,translationPrefix:"USER_TYPES.",resetValue:this.translate.instant("All")}];this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat(e,this.filterBreadcrumbData)}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(E.M),t.\u0275\u0275directiveInject(b.sK),t.\u0275\u0275directiveInject(u.uw),t.\u0275\u0275directiveInject(k.e),t.\u0275\u0275directiveInject(I.K),t.\u0275\u0275directiveInject(z.J),t.\u0275\u0275directiveInject(F.t),t.\u0275\u0275directiveInject(St.e),t.\u0275\u0275directiveInject(Et.$),t.\u0275\u0275directiveInject($.YI),t.\u0275\u0275directiveInject(kt.q),t.\u0275\u0275directiveInject(It.Z))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ms-tutorial"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(H.NW,7),t.\u0275\u0275viewQuery(w.YE,7)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.paginator=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.sort=i.first)}},decls:34,vars:26,consts:[[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"top-space"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","5","class","action-header-column",4,"matHeaderCellDef"],["matColumnDef","titleFilter"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","userTypeFilter",4,"ngIf"],["matColumnDef","descriptionFilter"],["matColumnDef","actionFilter"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","","style","text-align: left","matTooltipPosition","above",3,"matTooltip","width",4,"matHeaderCellDef"],["mat-cell","","matTooltipPosition","above",3,"matTooltip","width",4,"matCellDef"],["matColumnDef","user_type",4,"ngIf"],["matColumnDef","description"],["mat-header-cell","","mat-sort-header","","matTooltipPosition","above",3,"width","matTooltip",4,"matHeaderCellDef"],["mat-cell","","matTooltipPosition","above",3,"width","matTooltip",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","matTooltipPosition","above",3,"width","matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"width",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","5","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",3,"ngClass",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["mat-header-cell","","colspan","5",1,"action-header-column"],["style","padding: 0px 7px !important","mat-raised-button","","color","accent",3,"matTooltip","disabled","matMenuTriggerFor",4,"ngIf"],[1,"tutorial-action-dropdown-above-table"],["action","matMenu"],["mat-menu-item","","color","accent",3,"matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-raised-button","","color","accent",2,"padding","0px 7px !important",3,"matTooltip","disabled","matMenuTriggerFor"],["mat-menu-item","","color","accent",3,"matTooltip","click"],[1,"mat-icon-default"],["mat-header-cell",""],["matInput","",1,"form-field",3,"formControl","placeholder"],["matColumnDef","userTypeFilter"],["type","text","aria-label","Number","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"optionSelected"],["auto","matAutocomplete"],["value","All",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["mat-header-cell","","mat-sort-header","","matTooltipPosition","above",2,"text-align","left",3,"matTooltip"],["mat-cell","","matTooltipPosition","above",3,"matTooltip"],["matColumnDef","user_type"],["mat-header-cell","","mat-sort-header","","matTooltipPosition","above",3,"matTooltip"],["mat-cell",""],[4,"ngFor","ngForOf"],["class","tags",3,"matTooltip",4,"ngIf"],[1,"tags",3,"matTooltip"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-icon-button","","class","margin-right-button",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"margin-right-button",3,"matTooltip","click"],["mat-header-cell","","colspan","5",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-row","",3,"hidden"],[1,"no-records",3,"ngClass"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"ms-filter-breadcrumb",0),t.\u0275\u0275listener("removeFilterTrigger",function(a){return n.removeFilterBreadcrumb(a)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",1)(2,"table",2),t.\u0275\u0275listener("matSortChange",function(a){return n.sortData(a)}),t.\u0275\u0275elementContainerStart(3,3),t.\u0275\u0275template(4,Dt,9,5,"th",4),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(5,5),t.\u0275\u0275template(6,Lt,4,4,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(7,Nt,2,0,"ng-container",7),t.\u0275\u0275elementContainerStart(8,8),t.\u0275\u0275template(9,jt,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(10,9),t.\u0275\u0275template(11,Ht,1,0,"th",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,10),t.\u0275\u0275template(13,Wt,5,8,"th",11),t.\u0275\u0275template(14,zt,4,8,"td",12),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(15,Xt,3,0,"ng-container",13),t.\u0275\u0275elementContainerStart(16,14),t.\u0275\u0275template(17,Zt,5,8,"th",15),t.\u0275\u0275template(18,Jt,2,4,"td",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(19,17),t.\u0275\u0275template(20,qt,5,8,"th",18),t.\u0275\u0275template(21,ie,5,6,"td",19),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(22,20),t.\u0275\u0275template(23,ae,3,0,"th",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(24,re,1,0,"tr",22),t.\u0275\u0275template(25,le,1,0,"tr",22),t.\u0275\u0275template(26,se,1,0,"tr",22),t.\u0275\u0275template(27,de,1,1,"tr",23),t.\u0275\u0275template(28,ce,1,1,"tr",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(29,pe,3,6,"div",25),t.\u0275\u0275pipe(30,"async"),t.\u0275\u0275elementStart(31,"div",26),t.\u0275\u0275pipe(32,"async"),t.\u0275\u0275element(33,"mat-paginator",27),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275property("filterBreadcrumbData",n.filterBreadcrumbData),t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",n.openUserTypeColumn()),t.\u0275\u0275advance(8),t.\u0275\u0275property("ngIf",n.openUserTypeColumn()),t.\u0275\u0275advance(9),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(19,me)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",n.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(20,ge)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(30,15,n.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(21,J,t.\u0275\u0275pipeBind1(32,17,n.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(23,he,n.dataCount<=10))("length",n.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(25,ue)))},dependencies:[_.mk,_.sg,_.O5,y.XC,y.ZL,K.ey,R.lW,U.Hw,C.KE,A.Nt,B.VK,B.OP,B.p6,H.NW,D.Ou,w.YE,w.nU,h.BZ,h.fO,h.as,h.w1,h.Dz,h.nj,h.ge,h.ev,h.XQ,h.Gk,Ft.gM,d.DefaultValueAccessor,d.NgControlStatus,d.FormControlDirective,X.oO,Rt.r,_.Ov,b.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.form-field[_ngcontent-%COMP%]{margin-top:6px}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(1) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(1) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr th{vertical-align:top}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em;text-align:center}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}.mat-column-user_type[_ngcontent-%COMP%], .mat-column-userTypeFilter[_ngcontent-%COMP%]{padding-left:.5rem!important}.mat-column-user_type[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .mat-column-userTypeFilter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{padding-top:6px;width:90%}.mat-column-description[_ngcontent-%COMP%]{padding-left:.5rem!important}.mat-column-description[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-column-action[_ngcontent-%COMP%]{padding-right:0!important;text-align:center!important}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important;text-align:right!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}  .mat-menu-panel.tutorial-action-dropdown-above-table{min-height:auto}"]}),o})(),canActivate:[l(25360).n],data:{permission:"tutorials.show_perm"}},{path:"**",redirectTo:"",pathMatch:"full"}];let Ce=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=t.\u0275\u0275defineInjector({imports:[j.Bz.forChild(be),j.Bz]}),o})(),Oe=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.ez,q.m,Ce,L.d,M.A0]}),o})()}}]);