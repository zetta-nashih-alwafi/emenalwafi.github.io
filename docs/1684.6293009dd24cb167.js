"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[1684],{71684:(lt,j,p)=>{p.r(j),p.d(j,{AssignmentReadmissionModule:()=>di});var S=p(36895),I=p(610),J=p(95017),f=p(24006),D=p(98739),P=p(96308),T=p(53626),d=p(35226),m=p.n(d),G=p(1059),Q=p(22868),K=p(24850),M=p(80013),k=p(68745),B=p(92340),L=p(15439),v=p(17489),$=p(83515),R=p(62416),Y=p(93021),X=p(34031),E=p(65938),t=p(94650),N=p(52688),V=p(79710),w=p(89383),O=p(96334),A=p(73555),b=p(4859),x=p(97392),C=p(59549),F=p(284),U=p(51572);const Z=["mobileNumber"];function q(s,o){1&s&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function tt(s,o){1&s&&(t.\u0275\u0275elementStart(0,"div",18),t.\u0275\u0275element(1,"mat-progress-spinner",19),t.\u0275\u0275elementEnd())}let ot=(()=>{class s{constructor(e,i,n,a,l,c,h,u){this.parentData=e,this.fb=i,this.dialogRef=n,this.authService=a,this.router=l,this.candidateService=c,this.translate=h,this.coreService=u,this.subs=new k.Y,this.typeList=["OPCO","CPF","Transition Pro","P\xf4le Emploi","R\xe9gion","Other financing organization"],this.isWaitingForResponse=!1}ngOnInit(){this.initForm(),1===this.parentData.data.length&&this.addProgramDesired.patchValue(this.parentData.data[0])}initForm(){this.addProgramDesired=this.fb.group({program_desired:["",[f.Validators.required]]})}checkFormValidity(){return!!this.addProgramDesired.invalid&&(m().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.addProgramDesired.markAllAsTouched(),!0)}submit(){if(this.checkFormValidity())return;this.isWaitingForResponse=!0;const e=v.cloneDeep(this.addProgramDesired.value);this.updateProgramDesired(this.parentData.id,e)}updateProgramDesired(e,i){this.subs.sink=this.parentData?.select_all?this.candidateService.UpdateManyJuryDecision(this.parentData?.filter,this.parentData?.select_all,this.parentData?.is_readmission,i).subscribe(n=>{this.isWaitingForResponse=!1,m().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(n)})},n=>{this.isWaitingForResponse=!1,console.log(n,n.message),this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}):this.candidateService.UpdateManyCandidates(e,i).subscribe(n=>{this.isWaitingForResponse=!1,m().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(n)})},n=>{this.isWaitingForResponse=!1,console.log(n,n.message),this.authService.postErrorLog(n),n&&n.message&&n.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}ngOnDestroy(){this.subs.unsubscribe()}closeDialog(){this.dialogRef.close()}}return s.\u0275fac=function(e){return new(e||s)(t.\u0275\u0275directiveInject(E.WI),t.\u0275\u0275directiveInject(f.UntypedFormBuilder),t.\u0275\u0275directiveInject(E.so),t.\u0275\u0275directiveInject(N.e),t.\u0275\u0275directiveInject(I.F0),t.\u0275\u0275directiveInject(V.o),t.\u0275\u0275directiveInject(w.sK),t.\u0275\u0275directiveInject(O.p))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["ms-edit-program-desired-dialog"]],viewQuery:function(e,i){if(1&e&&t.\u0275\u0275viewQuery(Z,5),2&e){let n;t.\u0275\u0275queryRefresh(n=t.\u0275\u0275loadQuery())&&(i.mobileNumberInput=n.first)}},decls:27,vars:15,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"p-col-10","no-padding"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",2,"overflow","hidden !important"],[3,"formGroup"],[1,"p-grid",2,"margin-bottom","0.5em"],[1,"p-col-12","pad-y-none",2,"align-self","center"],[1,"full-wid"],["matInput","","formControlName","program_desired","required","",3,"placeholder"],[4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end","mr-10"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-button","","mat-raised-button","","color","primary",1,"mr-0",3,"click"],["class","loading-indicator",4,"ngIf"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,i){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",5)(8,"button",6),t.\u0275\u0275listener("click",function(){return i.closeDialog()}),t.\u0275\u0275elementStart(9,"mat-icon"),t.\u0275\u0275text(10,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"mat-form-field",11),t.\u0275\u0275element(16,"input",12),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275template(18,q,3,3,"mat-error",13),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(19,"div",14)(20,"button",15),t.\u0275\u0275listener("click",function(){return i.closeDialog()}),t.\u0275\u0275text(21),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(23,"button",16),t.\u0275\u0275listener("click",function(){return i.submit()}),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(26,tt,2,0,"div",17)),2&e&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,7,"Edit Program Desired")),t.\u0275\u0275advance(7),t.\u0275\u0275property("formGroup",i.addProgramDesired),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(17,9,"Program Desired")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.addProgramDesired.get("program_desired").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(22,11,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(25,13,"Submit")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.isWaitingForResponse))},dependencies:[S.O5,A.Zt,A.Bh,b.lW,E.xY,E.H8,x.Hw,C.TO,C.KE,F.Nt,U.Ou,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,w.X$],styles:[".dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black}.no-padding[_ngcontent-%COMP%]{padding:0}.float-right[_ngcontent-%COMP%]{float:right}.mt-15[_ngcontent-%COMP%]{margin-top:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}[_nghost-%COMP%]  .mat-dialog-container{padding:10px 24px!important}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.header-dialog[_ngcontent-%COMP%]{margin-top:15px}.mat-dialog-content[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:15px;padding:0}.w-30[_ngcontent-%COMP%]{width:30px}.w-65[_ngcontent-%COMP%]{width:100px}.mt-5px[_ngcontent-%COMP%]{margin-top:5px}"]}),s})();var H=p(91750),rt=p(75994),ct=p(92741),dt=p(3238),pt=p(84385);function ht(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"mat-option",20),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s){const e=o.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"Status Financial Support."+e))}}function mt(s,o){1&s&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function ut(s,o){1&s&&(t.\u0275\u0275elementStart(0,"div",21),t.\u0275\u0275element(1,"mat-progress-spinner",22),t.\u0275\u0275elementEnd())}let gt=(()=>{class s{constructor(e,i,n,a,l,c){this.parentData=e,this.fb=i,this.dialogRef=n,this.candidateService=a,this.translate=l,this.authService=c,this.subs=new k.Y,this.isWaitingForResponse=!1,this.typeList=["ok","not_ok"]}ngOnInit(){this.formData=v.cloneDeep(this.parentData),this.initForm()}initForm(){this.financialSupportForm=this.fb.group({financial_situation:["",[f.Validators.required]]})}checkFormValidity(){return!!this.financialSupportForm.invalid&&(m().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.financialSupportForm.markAllAsTouched(),!0)}submit(){if(this.financialSupportForm.invalid)this.checkFormValidity();else{this.isWaitingForResponse=!0;const e=this.financialSupportForm.value,i=this.formData.map(n=>n._id);this.subs.sink=this.candidateService.UpdateManyCandidates(i,e).subscribe(n=>{this.isWaitingForResponse=!1,n&&m().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(!0)})},n=>{this.authService.postErrorLog(n),n&&n.message&&(n.message.includes("jwt expired")||n.message.includes("str & salt required")||n.message.includes("Authorization header is missing")||n.message.includes("salt"))?this.authService.handlerSessionExpired():n&&n.message&&n.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:n&&n.message?this.translate.instant(n.message.replaceAll("GraphQL error: ","")):n,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}closeDialog(){this.dialogRef.close()}}return s.\u0275fac=function(e){return new(e||s)(t.\u0275\u0275directiveInject(E.WI),t.\u0275\u0275directiveInject(f.UntypedFormBuilder),t.\u0275\u0275directiveInject(E.so),t.\u0275\u0275directiveInject(V.o),t.\u0275\u0275directiveInject(w.sK),t.\u0275\u0275directiveInject(N.e))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["ms-update-financial-support-status-dialog"]],decls:38,vars:26,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"p-col-10","no-padding"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",2,"overflow","hidden !important"],[3,"formGroup"],[1,"p-grid",2,"margin-bottom","0.5em"],[1,"p-col-12",2,"align-self","center"],[1,"p-col-3",2,"margin-top","15px"],[1,"p-col-9"],["formControlName","financial_situation","required","",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end","mr-10"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-button","","mat-raised-button","","color","primary",1,"mr-0",3,"click"],["class","loading-indicator",4,"ngIf"],[3,"value"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,i){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",5)(8,"button",6),t.\u0275\u0275listener("click",function(){return i.closeDialog()}),t.\u0275\u0275elementStart(9,"mat-icon"),t.\u0275\u0275text(10,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"p"),t.\u0275\u0275text(16),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(19,"div",10)(20,"div",2)(21,"div",11),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(24,"div",12)(25,"mat-form-field")(26,"mat-select",13),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275template(28,ht,3,4,"mat-option",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(29,mt,3,3,"mat-error",15),t.\u0275\u0275elementEnd()()()()()()(),t.\u0275\u0275elementStart(30,"div",16)(31,"button",17),t.\u0275\u0275listener("click",function(){return i.closeDialog()}),t.\u0275\u0275text(32),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(34,"button",18),t.\u0275\u0275listener("click",function(){return i.submit()}),t.\u0275\u0275text(35),t.\u0275\u0275pipe(36,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(37,ut,2,0,"div",19)),2&e&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,12,"Change the financial situation")),t.\u0275\u0275advance(7),t.\u0275\u0275property("formGroup",i.financialSupportForm),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate3("",t.\u0275\u0275pipeBind1(17,14,"Change the financial situation of")," ",null==i.formData?null:i.formData.length," ",t.\u0275\u0275pipeBind1(18,16,"students selected:"),""),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(23,18,"Change to:"),"*"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(27,20,"Financial situation")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",i.typeList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.financialSupportForm.get("financial_situation").hasError("required")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(33,22,"CANCEL")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(36,24,"Validate")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.isWaitingForResponse))},dependencies:[S.sg,S.O5,A.Zt,A.Bh,dt.ey,b.lW,E.xY,E.H8,x.Hw,C.TO,C.KE,U.Ou,pt.gD,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,w.X$],styles:[".dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black}.no-padding[_ngcontent-%COMP%]{padding:0}.float-right[_ngcontent-%COMP%]{float:right}.mt-15[_ngcontent-%COMP%]{margin-top:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.header-dialog[_ngcontent-%COMP%]{margin-top:15px}.mat-dialog-content[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:15px;padding:0}.w-30[_ngcontent-%COMP%]{width:30px}.w-65[_ngcontent-%COMP%]{width:100px}.mt-5px[_ngcontent-%COMP%]{margin-top:5px}  .mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}"]}),s})();var st=p(80529),ft=p(41076),_t=p(84130),Ct=p(9962),vt=p(44758),bt=p(94442),xt=p(72194),St=p(22437),Ot=p(67154),Ft=p(56709),et=p(28255),yt=p(10266),Tt=p(24784),At=p(75223),W=p(88796),it=p(30160);function Et(s,o){1&s&&(t.\u0275\u0275elementStart(0,"label",75),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.School")," "))}function Dt(s,o){if(1&s&&(t.\u0275\u0275element(0,"input",76),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate")),2&s){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,e.short_name)," ")}}function It(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",78),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.selectAllData(n,"school"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("school"))("indeterminate",e.isSomeDropdownSelected("school")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function wt(s,o){1&s&&t.\u0275\u0275template(0,It,3,5,"ng-template",77)}function Mt(s,o){1&s&&(t.\u0275\u0275elementStart(0,"label",75),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus")," "))}function Pt(s,o){if(1&s&&(t.\u0275\u0275element(0,"input",76),t.\u0275\u0275text(1)),2&s){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function kt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",78),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.selectAllData(n,"campus"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("campus"))("indeterminate",e.isSomeDropdownSelected("campus")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function Lt(s,o){1&s&&t.\u0275\u0275template(0,kt,3,5,"ng-template",77)}function Bt(s,o){1&s&&(t.\u0275\u0275elementStart(0,"label",75),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.Level")," "))}function Rt(s,o){if(1&s&&(t.\u0275\u0275element(0,"input",76),t.\u0275\u0275text(1)),2&s){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function Nt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",78),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.selectAllData(n,"level"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("level"))("indeterminate",e.isSomeDropdownSelected("level")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function Vt(s,o){1&s&&t.\u0275\u0275template(0,Nt,3,5,"ng-template",77)}function Ut(s,o){1&s&&(t.\u0275\u0275elementStart(0,"label",75),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.Sector")," "))}function jt(s,o){if(1&s&&(t.\u0275\u0275element(0,"input",76),t.\u0275\u0275text(1)),2&s){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function Kt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",78),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.selectAllData(n,"sector"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("sector"))("indeterminate",e.isSomeDropdownSelected("sector")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function $t(s,o){1&s&&t.\u0275\u0275template(0,Kt,3,5,"ng-template",77)}function Ht(s,o){1&s&&(t.\u0275\u0275elementStart(0,"label",75),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ADMISSION.TABLE_ADMISSION_CHANNEL.Speciality")," "))}function Wt(s,o){if(1&s&&(t.\u0275\u0275element(0,"input",76),t.\u0275\u0275text(1)),2&s){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function zt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",78),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.selectAllData(n,"speciality"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("checked",e.isAllDropdownSelected("speciality"))("indeterminate",e.isSomeDropdownSelected("speciality")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"All")," ")}}function Jt(s,o){1&s&&t.\u0275\u0275template(0,zt,3,5,"ng-template",77)}function Gt(s,o){1&s&&(t.\u0275\u0275elementStart(0,"div",79),t.\u0275\u0275element(1,"mat-spinner",80),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("diameter",100))}function Qt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",17),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.csvTypeSelectionUpload())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&s&&(t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(1,2,"READMISSION.Import student")," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"READMISSION.Import student")," "))}function Yt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",81),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return n.buttonClicked="jury",t.\u0275\u0275resetView(n.controllerButton("jury"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&s&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Edit Jury Decision")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Edit Jury Decision")," "))}function Xt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",81),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return n.buttonClicked="desired",t.\u0275\u0275resetView(n.controllerButton("desired"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&s&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Edit Program Desired")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Edit Program Desired")," "))}function Zt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",81),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return n.buttonClicked="program",t.\u0275\u0275resetView(n.controllerButton("program"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&s&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Assign program")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Assign program")," "))}function qt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",82),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return n.buttonClicked="email",t.\u0275\u0275resetView(n.controllerButton("email"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&s&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Send Email")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"Send Email")," "))}function te(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",83),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return n.buttonClicked="export",t.\u0275\u0275resetView(n.controllerButton("export"))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",84),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,4,"Export")),t.\u0275\u0275property("disabled",e.isWaitingForResponse)("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,6,"Export")," ")}}function ee(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",85),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.resetFilter())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",86),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,3,"Reset Filter")),t.\u0275\u0275property("disabled",e.isWaitingForResponse),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"RESET")," ")}}function ie(s,o){if(1&s&&(t.\u0275\u0275element(0,"input",76),t.\u0275\u0275text(1)),2&s){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.scholar_season," ")}}function ne(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"span",87),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(2,2,"Selected Data")," : ",e.isCheckedAll?e.dataCount-(null==e.dataUnselectUser?null:e.dataUnselectUser.length):null==e.dataSelected?null:e.dataSelected.length,"")}}function se(s,o){1&s&&(t.\u0275\u0275elementStart(0,"th",88)(1,"div",89),t.\u0275\u0275element(2,"div",90),t.\u0275\u0275elementEnd()())}function ae(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",91)(1,"mat-checkbox",92),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n?a.masterToggle(n):null)})("change",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.showOptions("all",""))}),t.\u0275\u0275elementEnd()()}if(2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&((null==e.dataUnselectUser?null:e.dataUnselectUser.length)>0||!e.isAllSelected()))("aria-label",e.checkboxLabel())}}function le(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",93)(1,"mat-checkbox",94),t.\u0275\u0275listener("click",function(n){return n.stopPropagation()})("change",function(n){const l=t.\u0275\u0275restoreView(e).$implicit,c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n?c.selection.toggle(l._id):null)})("change",function(){const a=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.showOptions("one",a))}),t.\u0275\u0275elementEnd()()}if(2&s){const e=o.$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",i.selection.isSelected(null==e?null:e._id)||i.isCheckedAll&&!i.dataUnselectUser.includes(null==e?null:e._id))("aria-label",i.checkboxLabel(e))}}function oe(s,o){1&s&&t.\u0275\u0275element(0,"th",95)}function re(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"th",95)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",96),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.numberFilter)}}function ce(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"th",95)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",96),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.nameFilter)}}function de(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"th",95)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",96),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.intakeChannelFilter)}}function pe(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"th",95)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",96),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.currentProgramFilter)}}function he(s,o){if(1&s&&(t.\u0275\u0275element(0,"input",76),t.\u0275\u0275text(1)),2&s){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function me(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",78),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.selectAllData(n,"typeOfFormation"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("typeOfFormation"))("indeterminate",e.isSomeDropdownSelected("typeOfFormation")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function ue(s,o){1&s&&t.\u0275\u0275template(0,me,3,5,"ng-template",77)}function ge(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",95)(1,"ng-select",97),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.onFilterSelectMultiple("type_of_formations"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,he,2,3,"ng-template",5),t.\u0275\u0275template(5,ue,1,0,null,6),t.\u0275\u0275elementEnd()()}if(2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,10,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,12,"search")),t.\u0275\u0275property("items",e.listTypeOfInformation)("appendTo","body")("multiple",!0)("formControl",e.typeFilter)("clearable",!1)("closeOnSelect",!1)("matTooltip",e.displayTooltip(e.typeFilter.value,e.listTypeOfInformation,"_id")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.listTypeOfInformation?null:e.listTypeOfInformation.length)}}function fe(s,o){if(1&s&&(t.\u0275\u0275element(0,"input",76),t.\u0275\u0275text(1)),2&s){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function _e(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",78),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.selectAllData(n,"finance"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("finance"))("indeterminate",e.isSomeDropdownSelected("finance")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Ce(s,o){1&s&&t.\u0275\u0275template(0,_e,3,5,"ng-template",77)}function ve(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",95)(1,"div",98)(2,"ng-select",99),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.onFilterSelectMultiple("financial_situations"))}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275template(5,fe,2,3,"ng-template",5),t.\u0275\u0275template(6,Ce,1,0,null,6),t.\u0275\u0275elementEnd()()()}if(2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(3,10,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(4,12,"search")),t.\u0275\u0275property("items",e.financeList)("appendTo","body")("multiple",!0)("formControl",e.financeFilter)("clearable",!1)("closeOnSelect",!1)("matTooltip",e.displayTooltip(e.financeFilter.value,e.financeList,"value")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.financeList?null:e.financeList.length)}}function be(s,o){if(1&s&&(t.\u0275\u0275element(0,"input",76),t.\u0275\u0275text(1)),2&s){const e=o.item,i=o.item$;t.\u0275\u0275propertyInterpolate1("id","item-",o.index,""),t.\u0275\u0275property("ngModel",i.selected),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.label," ")}}function xe(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",78),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(a.selectAllData(n,"jury"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",e.isAllDropdownSelected("jury"))("indeterminate",e.isSomeDropdownSelected("jury")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"AllM")," ")}}function Se(s,o){1&s&&t.\u0275\u0275template(0,xe,3,5,"ng-template",77)}function Oe(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",95)(1,"ng-select",99),t.\u0275\u0275listener("close",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.onFilterSelectMultiple("jury_decisions"))}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,be,2,3,"ng-template",5),t.\u0275\u0275template(5,Se,1,0,null,6),t.\u0275\u0275elementEnd()()}if(2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(2,10,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,12,"search")),t.\u0275\u0275property("items",e.juryList)("appendTo","body")("multiple",!0)("formControl",e.juryFilter)("clearable",!1)("closeOnSelect",!1)("matTooltip",e.displayTooltip(e.juryFilter.value,e.juryList,"value")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==e.juryList?null:e.juryList.length)}}function Fe(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"th",100)(1,"mat-form-field"),t.\u0275\u0275element(2,"input",96),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"search")),t.\u0275\u0275property("formControl",e.programsDesiredFilter)}}function ye(s,o){1&s&&t.\u0275\u0275element(0,"th",95)}function Te(s,o){1&s&&(t.\u0275\u0275elementStart(0,"th",101),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",102),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&s&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Source")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Source")," "))}function Ae(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"td",103),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()),2&s){const e=o.$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",i.displayTooltipSource(e)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null!=e&&e.hubspot_contact_id&&null!=e&&e.hubspot_deal_id?t.\u0275\u0275pipeBind1(2,2,"Hubspot"):null!=e&&e.oscar_campus_id?t.\u0275\u0275pipeBind1(3,4,"Oscar"):t.\u0275\u0275pipeBind1(4,6,"Manual")," ")}}function Ee(s,o){1&s&&(t.\u0275\u0275elementStart(0,"th",101),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",104)(3,"mat-icon",105),t.\u0275\u0275text(4," account_box "),t.\u0275\u0275elementEnd()()()),2&s&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Student Number"))}function De(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"td",106),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&s){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null==e?null:e.candidate_unique_number),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.candidate_unique_number," ")}}function Ie(s,o){1&s&&(t.\u0275\u0275elementStart(0,"th",101),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",102),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&s&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Student Name")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Student Name")," "))}function we(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"td",103),t.\u0275\u0275pipe(1,"uppercase"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"uppercase"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),2&s){const e=o.$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.last_name)+" "+(null==e?null:e.first_name)+" "+(null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(2,4,null==e?null:e.civility))),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,6,null==e?null:e.last_name)+" "+(null==e?null:e.first_name)+" "+(null!=e&&e.civility&&"neutral"===(null==e?null:e.civility)?"":t.\u0275\u0275pipeBind1(5,8,null==e?null:e.civility))," ")}}function Me(s,o){1&s&&(t.\u0275\u0275elementStart(0,"th",101),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",102),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&s&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Intake Channel")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Intake Channel")," "))}function Pe(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"td",107),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()),2&s){const e=o.$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,i.intakeChannel(e))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",i.intakeChannel(e)," ")}}function ke(s,o){1&s&&(t.\u0275\u0275elementStart(0,"th",101),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",102),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&s&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Current Program")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Current Program")," "))}function Le(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"td",108),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&s){const e=o.$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",i.currentProgram(e)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",i.currentProgram(e)," ")}}function Be(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"th",101),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",109),t.\u0275\u0275element(3,"img",110),t.\u0275\u0275elementEnd()()),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Type of Formation")),t.\u0275\u0275advance(3),t.\u0275\u0275property("src",e.shieldAccountIcon,t.\u0275\u0275sanitizeUrl)}}function Re(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&s){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==e||null==e.type_of_formation_id?null:e.type_of_formation_id.sigle)}}function Ne(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"td",106),t.\u0275\u0275template(1,Re,2,1,"span",6),t.\u0275\u0275elementEnd()),2&s){const e=o.$implicit;t.\u0275\u0275propertyInterpolate("matTooltip",null!=e&&null!=e.type_of_formation_id&&e.type_of_formation_id.sigle?null==e||null==e.type_of_formation_id?null:e.type_of_formation_id.sigle:null),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e||null==e.type_of_formation_id?null:e.type_of_formation_id.type_of_formation)}}function Ve(s,o){1&s&&(t.\u0275\u0275elementStart(0,"th",101),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",102),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&s&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Financial Situation")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Financial Situation")," "))}const Ue=function(s,o){return{red:s,green:o}};function je(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"td",103),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"mat-icon",111),t.\u0275\u0275text(4,"lens "),t.\u0275\u0275elementEnd()()),2&s){const e=o.$implicit;t.\u0275\u0275property("matTooltip",null!=e&&e.financial_situation?t.\u0275\u0275pipeBind1(1,2,null==e?null:e.financial_situation):t.\u0275\u0275pipeBind1(2,4,"Not set")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(6,Ue,"not_ok"===(null==e?null:e.financial_situation),"ok"===(null==e?null:e.financial_situation)))}}function Ke(s,o){1&s&&(t.\u0275\u0275elementStart(0,"th",101),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",102),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&s&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Jury Decision")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Jury Decision")," "))}function $e(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"td",103),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&s){const e=o.$implicit;t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,null==e?null:e.jury_decision)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,null==e?null:e.jury_decision)," ")}}function He(s,o){1&s&&(t.\u0275\u0275elementStart(0,"th",101),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",102),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&s&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Program Desired")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Program Desired")," "))}function We(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"td",103),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&s){const e=o.$implicit;t.\u0275\u0275property("matTooltip",null==e?null:e.program_desired),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e?null:e.program_desired," ")}}function ze(s,o){1&s&&(t.\u0275\u0275elementStart(0,"th",101),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",102),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&s&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"Action")," "))}function Je(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",114),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.sendMail(n))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3," send "),t.\u0275\u0275elementEnd()()}if(2&s){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Send an email")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function Ge(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",114),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.openAssingProgram("table",n))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",115),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Assign program")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function Qe(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",114),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.viewCandidateInfo(null==n?null:n._id))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",116),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"View student card")),t.\u0275\u0275property("disabled",e.dataSelected&&e.dataSelected.length>0||e.isCheckedAll)}}function Ye(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"td",112),t.\u0275\u0275template(1,Je,4,4,"button",113),t.\u0275\u0275template(2,Ge,3,4,"button",113),t.\u0275\u0275template(3,Qe,3,4,"button",113),t.\u0275\u0275elementEnd()),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.assignmentSendEmail()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.assignmentAssignProgram()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.assignmentViewStudentCard())}}function Xe(s,o){1&s&&(t.\u0275\u0275elementStart(0,"th",117)(1,"div",118),t.\u0275\u0275element(2,"mat-spinner",119),t.\u0275\u0275elementEnd()())}function Ze(s,o){1&s&&t.\u0275\u0275element(0,"tr",120)}function qe(s,o){1&s&&t.\u0275\u0275element(0,"tr",120)}function ti(s,o){if(1&s&&t.\u0275\u0275element(0,"tr",121),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isWaitingForResponse)}}function ei(s,o){if(1&s&&t.\u0275\u0275element(0,"tr",122),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isWaitingForResponse)}}const at=function(s){return{hide:s}};function ii(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"div",123),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,at,e.isWaitingForResponse)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"NOT RECORD FOUND"),"\n")}}function ni(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",124)(1,"div",124),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",124),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",124),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",124),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div",124)(14,"mat-form-field",125)(15,"input",126),t.\u0275\u0275listener("ngModelChange",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.exportName=n)}),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(17,"button",127),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.onDataExport())}),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()()}if(2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,7,"Export Text1")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,9,"Export Text2")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,11,"Export Text3")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(12,13,"Export Text4")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(16,15,"ExportName")),t.\u0275\u0275property("ngModel",e.exportName),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(19,17,"OK")," ")}}const si=function(){return["loading"]},ai=function(s){return{"hide-pagination-buttons":s}},li=function(){return[10]},oi=[{path:"",component:(()=>{class s{constructor(e,i,n,a,l,c,h,u,r,g,_,y,z,nt,pi,hi,mi){this.authService=e,this.permissionsService=i,this.candidatesService=n,this.dialog=a,this.translate=l,this.parseLocalToUTCPipe=c,this.parseUtcToLocalPipe=h,this.exportCsvService=u,this.permission=r,this.financeService=g,this.fb=_,this.router=y,this.intakeChannelService=z,this.coreService=nt,this.httpClient=pi,this.filterBreadCrumbService=hi,this.pageTitleService=mi,this.subs=new k.Y,this.dataSource=new T.by([]),this.selection=new J.Ov(!0,[]),this.dataCount=0,this.isReset=!1,this.dataLoaded=!1,this.isCheckedAll=!1,this.isWaitingForResponse=!1,this.disabledExport=!1,this.disabledAssign=!1,this.isLoading=!1,this.sortValue=null,this.allDataExport=[],this.dataSelected=[],this.filterBreadcrumbData=[],this.displayedColumns=["select","student_number","name","intake_channel","program","type_of_formation","financial_situation","jury_decision","program_desired","action"],this.filterColumns=["selectFilter","numberFilter","nameFilter","intakeChannelFilter","currentProgramFilter","typeFilter","financeFilter","juryFilter","desiredFilter","actionFilter"],this.dummyData=[{identity:"Mr John Doe",telephone:"93838199119",email:"johnDoe@yopmail.com",program:"EFAP PARIS - MBA MDB PT - Octobre 2021",trial:"22/09/2021"},{identity:"Mrs Danise Doe",telephone:"7827271",email:"danise@yopmail.com",program:"EFAP PARIS - MBA CME - 2021",trial:"22/10/2021"}],this.typeFilterList=[{value:"classic",key:"classic"},{value:"continuous_total_funding",key:"continuous_total_funding"},{value:"continuous_partial_funding",key:"continuous_partial_funding"},{value:"continuous_personal_funding",key:"continuous_personal_funding"}],this.financeFilterList=[{value:"reject_and_stop",key:"reject_and_stop"},{value:"ask_for_revision",key:"ask_for_revision"},{value:"accept",key:"accept"},{value:"not_started",key:"not_started"},{value:"need_validation",key:"need_validation"},{value:"no_financement",key:"no_financement"}],this.juryList=[{value:"admitted_for_next_year",key:"Admitted for next year"},{value:"admitted_if_internship_is_validated",key:"Admitted if internship is validated"},{value:"admitted_for_retake",key:"Admitted for retake"},{value:"admitted_for_repetition",key:"Admitted for repetition"},{value:"excluded",key:"Excluded"},{value:"graduated",key:"Graduated"},{value:"waiting_for_jury",key:"Waiting for jury"}],this.isDirectorAdmission=!1,this.shieldAccountIcon="../../../../../assets/img/shield-account.png",this.numberFilter=new f.UntypedFormControl(""),this.nameFilter=new f.UntypedFormControl(""),this.intakeChannelFilter=new f.UntypedFormControl(""),this.currentProgramFilter=new f.UntypedFormControl(""),this.schoolsFilter=new f.UntypedFormControl(null),this.campusFilter=new f.UntypedFormControl(null),this.levelFilter=new f.UntypedFormControl(null),this.sectorsFilter=new f.UntypedFormControl(null),this.specialitiesFilter=new f.UntypedFormControl(null),this.schoolsAboveFilter=new f.UntypedFormControl(null),this.campusAboveFilter=new f.UntypedFormControl(null),this.levelAboveFilter=new f.UntypedFormControl(null),this.programsDesiredFilter=new f.UntypedFormControl(null),this.typeFilter=new f.UntypedFormControl(null),this.financeFilter=new f.UntypedFormControl(null),this.juryFilter=new f.UntypedFormControl(null),this.newScholarFilter=new f.UntypedFormControl,this.dateFilter=new f.UntypedFormControl(""),this.programsFilterCtrl=new f.UntypedFormControl(""),this.programsList=[],this.tenantKeyList=[],this.previousLength=0,this.pageSelected=[],this.school=[],this.levels=[],this.scholars=[],this.originalScholar=[],this.scholarSelected=[],this.levelSelected=[],this.campusSelected=[],this.trialDateList=["22/09/2021","22/10/2021"],this.schoolList=[],this.campusList=[],this.levelList=[],this.specilityList=[],this.sectorList=[],this.filteredValues={candidate:"",intake_channel_name:"",candidate_unique_number:"",scholar_season:"",campus:"",level:"",school:"",sectors:null,specialities:null,jury_decision:null,financement:null,programs_desired:"",candidate_admission_statuses:null,readmission_status:"assignment_table",initial_intake_channel:"",type_of_formation:"",latest_previous_program:"",type_of_readmission:"",last_reminder_date:"",convention:"",date_readmission_assigned:"",financial_situation:null},this.programSelected="",this.tenantKeySelected="",this.sourceFilterList=[{value:"All",key:"AllM"},{value:"oscar",key:"Oscar"},{value:"manual",key:"Manual"},{value:"hubspot",key:"Hubspot"}],this.sourceFilterCtrl=new f.UntypedFormControl("All"),this.source_type="",this.previous_school=[],this.previous_campus=[],this.previous_level=[],this.allStudentForCheckbox=[],this.campusListBackup=[],this.levelListBackup=[],this.schoolName="",this.campusName="",this.levelName="",this.dataUnselectUser=[],this.buttonClicked="",this.allExportForCheckbox=[],this.allFinancialForCheckbox=[],this.allJuryForCheckbox=[],this.allDesiredForCheckbox=[],this.allProgramForCheckbox=[],this.allEmailForCheckbox=[],this.superFilter={scholar_season:"",school:"",campus:"",level:"",sectors:null,specialities:null},this.isDisabled=!0,this.isMultipleFilter=!1,this.financeList=[],this.isFirstLoad=!0}ngOnInit(){this.getDataScholarSeasons(),this.initFilter(),this.initFilterForm(),this.currentUser=this.authService.getLocalStorageUser(),this.isPermission=this.authService.getPermission();const e=this.currentUser?.entities?.find(i=>i?.type?.name===this.isPermission[0]);this.currentUserTypeId=e?.type?._id,this.isDirectorAdmission=!!this.permissionsService.getPermission("Director of Admissions"),this.sortingDropdownFilter(),this.initDropdown(),this.subs.sink=this.translate.onLangChange.subscribe(i=>{this.scholars=[],this.scholars=this.originalScholar.sort((n,a)=>n.scholar_season>a.scholar_season?1:a.scholar_season>n.scholar_season?-1:0),this.scholars=v.uniqBy(this.scholars,"_id"),this.sortingDropdownFilter(),this.initDropdown(),this.getAssignmentData()}),this.pageTitleService.setTitle("NAV.Assignment")}initDropdown(){this.financeList=[{value:"ok",key:"OK",label:this.translate.instant("OK")},{value:"not_ok",key:"NOT OK",label:this.translate.instant("NOT OK")}],this.juryList=this.juryList.map(e=>({...e,label:this.translate.instant(e.value)}))}sortingDropdownFilter(){this.juryList=this.juryList.sort((e,i)=>this.translate.instant(e.value).toLowerCase().localeCompare(this.translate.instant(i.value).toLowerCase())),this.getAllTypeOfInformation()}translateDate(e,i){return e&&i?this.parseUtcToLocalPipe.transformDate(e,i):""}translateTime(e){if(e){const i=this.parseUtcToLocalPipe.transform(e);return i&&"Invalid date"!==i&&"Invalid date"!==L(i,"HH:mm").format("HH[h]mm")?L(i,"HH:mm").format("HH[h]mm"):"00h00"}return""}ngAfterViewInit(){this.subs.sink=this.paginator.page.pipe((0,G.O)(null),(0,Q.b)(()=>{!this.isReset&&!this.isFirstLoad&&this.getAssignmentData(),this.dataLoaded=!0})).subscribe()}getUpdateInfo(){this.subs.sink=this.candidatesService.getAppPermission().subscribe(e=>{e&&e.candidate_import&&(this.tableUpdateInfo=e.candidate_import)},e=>{this.authService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():e&&e.message&&e.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}initFilterForm(){this.filterForm=this.fb.group({schools:[null],campuses:[null],levels:[null]})}getAssignmentData(){this.isWaitingForResponse=!0,this.isFirstLoad=!1,this.dataSource.data=[],this.paginator.length=0,this.dataCount=0;const e={limit:this.paginator.pageSize?this.paginator.pageSize:10,page:this.paginator.pageIndex?this.paginator.pageIndex:0},i=this.cleanFilterData();this.subs.sink=this.candidatesService.getAllAssignment(e,this.sortValue,i,null,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(a=>{if(console.log(a),a&&a.length){const l=v.cloneDeep(a);this.dataSource.data=l,this.paginator.length=a[0].count_document,this.dataCount=a[0].count_document}else this.dataSource.data=[],this.paginator.length=0,this.dataCount=0;this.noData=this.dataSource.connect().pipe((0,K.U)(l=>0===l.length)),this.isReset=!1,this.isWaitingForResponse=!1,this.filterBreadcrumbData=[],this.filterBreadcrumbFormat()},a=>{this.isReset=!1,this.isWaitingForResponse=!1,this.authService.postErrorLog(a),a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.authService.handlerSessionExpired():a&&a.message&&a.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDataForList(e){const i=e||"";this.subs.sink=this.candidatesService.GetAllSchoolFilter(i,`filter: { scholar_season_id:"${i}"}`,this.currentUserTypeId).subscribe(a=>{if(a){if(this.currentUser&&this.currentUser.entities&&this.currentUser.entities.length&&this.currentUser.app_data&&this.currentUser.app_data.school_package&&this.currentUser.app_data.school_package.length){const l=[];this.currentUser.app_data.school_package.forEach(c=>{l.push(c.school)}),this.listObjective=l,this.school=this.listObjective,this.school=this.school.sort((c,h)=>c.short_name>h.short_name?1:h.short_name>c.short_name?-1:0)}else this.listObjective=a,this.school=this.listObjective,this.school=this.school.sort((l,c)=>l.short_name>c.short_name?1:c.short_name>l.short_name?-1:0);this.getDataCampus()}},a=>{this.authService.postErrorLog(a),a&&a.message&&(a.message.includes("jwt expired")||a.message.includes("str & salt required")||a.message.includes("Authorization header is missing")||a.message.includes("salt"))?this.authService.handlerSessionExpired():a&&a.message&&a.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}getDataScholarSeasons(){this.isWaitingForResponse=!0,this.subs.sink=this.financeService.GetAllScholarSeasonsPublished().subscribe(e=>{if(e&&e.length){this.originalScholar=v.cloneDeep(e),this.scholars=[],this.scholars=this.originalScholar.sort((a,l)=>a.scholar_season>l.scholar_season?1:l.scholar_season>a.scholar_season?-1:0),this.scholars=v.uniqBy(this.scholars,"_id");let i=(new Date).getFullYear().toString().substring(2);i=i.replace(i,"-"+i),this.currentScholar=this.scholars.find(a=>a.scholar_season.includes(i)),this.newScholarFilter.patchValue(this.currentScholar._id,{emitEvent:!1}),this.filteredValues.scholar_season=this.newScholarFilter.value,this.superFilter.scholar_season=this.newScholarFilter.value,this.getDataForList(this.newScholarFilter.value?this.newScholarFilter.value:""),this.getAssignmentData()}else this.getDataForList(this.newScholarFilter.value?this.newScholarFilter.value:""),this.isWaitingForResponse=!1;this.isFirstLoad=!1},e=>{this.authService.postErrorLog(e),this.isWaitingForResponse=!1,this.isFirstLoad=!1,e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():e&&e.message&&e.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}newScholarSelect(){this.levels=[],this.campusList=[],this.sectorList=[],this.specilityList=[],this.campusFilter.value&&this.campusFilter.setValue(null),this.levelFilter.value&&this.levelFilter.setValue(null),this.sectorsFilter.value&&this.sectorsFilter.setValue(null),this.specialitiesFilter.value&&this.specialitiesFilter.setValue(null),this.superFilter.scholar_season=this.newScholarFilter.value?this.newScholarFilter.value:null,this.scholarSelected=this.newScholarFilter.value?this.newScholarFilter.value:null,this.getDataForList(this.newScholarFilter.value?this.newScholarFilter.value:"")}checkSuperFilterSchool(){const e=this.schoolsFilter.value;this.schoolsFilter.patchValue(e&&e.length?e:null),this.getDataCampus()}checkSuperFilterCampus(){const e=this.campusFilter.value;this.campusFilter.patchValue(e&&e.length?e:null),this.getDataLevel()}checkSuperFilterLevel(){const e=this.levelFilter.value;this.levelFilter.patchValue(e&&e.length?e:null),this.getDataByLevel()}checkSuperFilterSector(){const e=this.sectorsFilter.value;this.sectorsFilter.patchValue(e&&e.length?e:null),this.getDataSpecialityBySector()}checkSuperFilterSpecialities(){const e=this.specialitiesFilter.value;this.specialitiesFilter.patchValue(e&&e.length?e:null)}getDataCampus(){this.schoolName="",this.levels=[],this.campusList=[],this.sectorList=[],this.specilityList=[],this.campusFilter.value&&this.campusFilter.setValue(null),this.levelFilter.value&&this.levelFilter.setValue(null),this.sectorsFilter.value&&this.sectorsFilter.setValue(null),this.specialitiesFilter.value&&this.specialitiesFilter.setValue(null);const e=this.schoolsFilter.value;this.currentUser&&this.currentUser.entities&&this.currentUser.entities.length&&this.currentUser.app_data&&this.currentUser.app_data.school_package&&this.currentUser.app_data.school_package.length&&this.schoolsFilter.value&&this.schoolsFilter.value.length?(e&&!e.includes("All")&&e.forEach(i=>{const n=this.school.find(a=>a._id===i);this.schoolName=this.schoolName?this.schoolName+","+n.short_name:n.short_name}),this.currentUser.app_data.school_package.forEach(i=>{i&&i.school&&i.school._id&&(e.includes(i.school._id)||e.includes("All"))&&(this.campusList=v.concat(this.campusList,i.school.campuses))})):e&&!e.includes("All")?(e.forEach(n=>{const a=this.school.find(l=>l._id===n);this.schoolName=this.schoolName?this.schoolName+","+a.short_name:a.short_name}),this.listObjective.filter(n=>e.includes(n._id)).filter((n,a)=>{n.campuses&&n.campuses.length&&n.campuses.filter((l,c)=>{this.campusList.push(l),this.campusListBackup=this.campusList})})):e&&e.includes("All")&&this.listObjective&&this.listObjective.length?this.listObjective.forEach((i,n)=>{i.campuses&&i.campuses.length&&i.campuses.forEach((a,l)=>{this.campusList.push(a),this.campusListBackup=this.campusList})}):this.campusList=[],this.getDataLevel(),this.campusList=v.uniqBy(this.campusList,"name"),this.campusList=this.campusList.sort((i,n)=>i.name>n.name?1:n.name>i.name?-1:0)}getDataLevel(){this.levels=[],this.sectorList=[],this.specilityList=[],this.campusName="",this.levelFilter.value&&this.levelFilter.setValue(null),this.sectorsFilter.value&&this.sectorsFilter.setValue(null),this.specialitiesFilter.value&&this.specialitiesFilter.setValue(null),this.campusSelected=[];const e=this.schoolsFilter.value,i=this.campusFilter.value;this.currentUser&&this.currentUser.entities&&this.currentUser.entities.length&&this.currentUser.app_data&&this.currentUser.app_data.school_package&&this.currentUser.app_data.school_package.length&&this.campusFilter.value&&this.campusFilter.value.length?i&&i.length&&!i.includes("All")?this.currentUser.app_data.school_package.forEach(n=>{n&&n.school&&n.school._id&&(e.includes(n.school._id)||e.includes("All"))&&this.campusList.filter(l=>i.includes(l.name)).forEach(l=>{l&&l.levels&&l.levels.length&&(this.levels=v.concat(this.levels,l.levels))})}):i&&i.includes("All")&&this.campusList&&this.campusList.length&&this.campusList.forEach(n=>{n&&n.levels&&n.levels.length&&(this.levels=v.concat(this.levels,n.levels))}):e&&i&&!i.includes("All")?(i.forEach(a=>{const l=this.campusList.find(c=>c.name===a);this.campusSelected.push(l._id),this.campusName=this.campusName?this.campusName+","+l.name:l.name}),this.campusList.filter(a=>i.includes(a.name)).forEach(a=>{a&&a.levels&&a.levels.length&&a.levels.forEach(l=>{this.levels.push(l)})})):i&&i.includes("All")?this.campusList.forEach(n=>{n&&n.levels&&n.levels.length&&n.levels.forEach(a=>{this.levels.push(a)})}):(this.levels=[],this.sectorList=[],this.specilityList=[]),this.levels=v.uniqBy(this.levels,"name"),this.levels=this.levels.sort((n,a)=>n.name>a.name?1:a.name>n.name?-1:0)}getDataByLevel(){this.levels=v.uniqBy(this.levels,"name"),this.levels=this.levels.sort((e,i)=>e.name>i.name?1:i.name>e.name?-1:0),this.levelName="",this.levelSelected=[],this.levelFilter.value&&!this.levelFilter.value.includes("All")&&this.levelFilter.value.forEach(i=>{const n=this.levels.find(a=>a.name===i);this.levelSelected.push(n._id),console.log(n),this.levelName=this.levelName?this.levelName+","+n.name:n.name}),this.getDataSectorByLevel()}cleanFilterData(){const e=v.cloneDeep(this.filteredValues);let n,a,l,c,h,u,i="";return Object.keys(e).forEach(r=>{(e[r]||!1===e[r])&&("candidate"===r||"intake_channel_name"===r||"candidate_unique_number"===r||"scholar_season"===r||"initial_intake_channel"===r||"type_of_formation"===r||"latest_previous_program"===r||"type_of_readmission"===r||"last_reminder_date"===r||"convention"===r||"date_readmission_assigned"===r?i+=` ${r}:"${e[r]}"`:"candidate_admission_statuses"===r||"financial_situations"===r||"jury_decisions"===r?i+=` ${r}:[${e[r]}]`:"school"===r?(n=e.school.map(g=>'"'+g+'"'),i+=` schools:[${n}]`):"level"===r?(a=e.level.map(g=>'"'+g+'"'),i+=` candidate_levels:[${a}]`):"campus"===r?(l=e.campus.map(g=>'"'+g+'"'),i+=` candidate_campuses:[${l}]`):"sectors"===r?(h=e.sectors.map(g=>'"'+g+'"'),i+=` sectors:[${h}]`):"specialities"===r?(c=e.specialities.map(g=>'"'+g+'"'),i+=` specialities:[${c}]`):"programs_desired"===r?i+=` programs_desired:["${e[r]}"]`:"type_of_formations"===r?(u=e[r].map(g=>'"'+g+'"'),i+=` ${r}:[${u}]`):i+=` ${r}:${e[r]}`)}),this.isDirectorAdmission&&!this.filteredValues.school&&this.currentUser&&this.currentUser.entities&&(this.schoolsFilter.setValue(this.currentUser.entities[0].candidate_school),i+=` school: "${this.currentUser.entities[0].candidate_school}"`),console.log(i),"filter: {"+i+"}"}cleanFilterDataEditJury(){const e=v.cloneDeep(this.filteredValues);let n,a,l,c,h,i="";return Object.keys(e).forEach(u=>{(e[u]||!1===e[u])&&("candidate"===u||"intake_channel_name"===u||"candidate_unique_number"===u||"scholar_season"===u||"initial_intake_channel"===u||"type_of_formation"===u||"latest_previous_program"===u||"type_of_readmission"===u||"last_reminder_date"===u||"convention"===u||"date_readmission_assigned"===u?i+=` ${u}:"${e[u]}"`:"candidate_admission_statuses"===u?i+=` ${u}:[${e[u]}]`:"school"===u?(n=e.school.map(r=>'"'+r+'"'),i+=` schools:[${n}]`):"level"===u?(a=e.level.map(r=>'"'+r+'"'),i+=` candidate_levels:[${a}]`):"campus"===u?(l=e.campus.map(r=>'"'+r+'"'),i+=` candidate_campuses:[${l}]`):"sectors"===u?(h=e.sectors.map(r=>'"'+r+'"'),i+=` sectors:[${h}]`):"specialities"===u?(c=e.specialities.map(r=>'"'+r+'"'),i+=` specialities:[${c}]`):"programs_desired"===u?i+=` programs_desired:["${e[u]}"]`:"readmission_status"===u||(i+=` ${u}:${e[u]}`))}),this.isDirectorAdmission&&!this.filteredValues.school&&this.currentUser&&this.currentUser.entities&&(this.schoolsFilter.setValue(this.currentUser.entities[0].candidate_school),i+=` school: "${this.currentUser.entities[0].candidate_school}"`),console.log(i),"filter: {"+i+"}"}cleanFilterDataExport(){const e=v.cloneDeep(this.filteredValues);let i,n,a,l,c,u,h="";return Object.keys(e).forEach(r=>{(e[r]||!1===e[r])&&("candidate"===r||"intake_channel_name"===r||"candidate_unique_number"===r||"scholar_season"===r||"jury_decision"===r||"financement"===r||"program_desired"===r||"initial_intake_channel"===r||"type_of_formation"===r||"latest_previous_program"===r||"type_of_readmission"===r||"last_reminder_date"===r||"convention"===r||"date_readmission_assigned"===r||"financial_situation"===r?h=h?h+`,"${r}":"${e[r]}"`:h+`"${r}":"${e[r]}"`:"candidate_admission_statuses"===r||"type_of_formations"===r||"financial_situations"===r||"jury_decisions"===r?(u=e[r].map(g=>'"'+g+'"'),h=h?h+`,"${r}":[${u}]`:h+`"${r}":[${u}]`):"candidate_admission_statuses"===r?h=h?h+`,"${r}":["${e[r]}"]`:h+`"${r}":["${e[r]}"]`:"school"===r?(i=e.school.map(g=>'"'+g+'"'),h+=`,"schools":[${i}]`):"level"===r?(n=e.level.map(g=>'"'+g+'"'),h+=`,"candidate_levels":[${n}]`):"sectors"===r?(l=e.sectors.map(g=>'"'+g+'"'),h+=`,"sectors":[${l}]`):"specialities"===r?(c=e.specialities.map(g=>'"'+g+'"'),h+=`,"specialities":[${c}]`):"campus"===r?(a=e.campus.map(g=>'"'+g+'"'),h+=`,"candidate_campuses":[${a}]`):"readmission_status"===r||(h=h?h+`,"${r}":${e[r]}`:h+`"${r}":${e[r]}`))}),"filter={"+h+"}"}sortData(e){this.sortValue=e.active?{[e.active]:e.direction?e.direction:"asc"}:null,this.dataLoaded&&(this.paginator.pageIndex=0,this.isReset||this.getAssignmentData())}initFilter(){this.subs.sink=this.nameFilter.valueChanges.pipe((0,M.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.nameFilter.setValue(""),this.filteredValues.candidate="",this.paginator.pageIndex=0,this.isReset||this.getAssignmentData()):this.isReset||(this.nameFilter.value?(this.filteredValues.candidate=e||"",this.paginator.pageIndex=0,this.getAssignmentData()):!e&&""!==this.filteredValues.candidate&&(this.nameFilter.setValue(""),this.filteredValues.candidate="",this.paginator.pageIndex=0,this.isReset||this.getAssignmentData()))}),this.subs.sink=this.numberFilter.valueChanges.pipe((0,M.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.numberFilter.setValue(""),this.filteredValues.candidate_unique_number="",this.paginator.pageIndex=0,this.isReset||this.getAssignmentData()):this.isReset||(this.numberFilter.value?(this.filteredValues.candidate_unique_number=e||"",this.paginator.pageIndex=0,this.getAssignmentData()):!e&&""!==this.filteredValues.candidate_unique_number&&(this.numberFilter.setValue(""),this.filteredValues.candidate_unique_number="",this.paginator.pageIndex=0,this.isReset||this.getAssignmentData()))}),this.subs.sink=this.intakeChannelFilter.valueChanges.pipe((0,M.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.intakeChannelFilter.setValue(""),this.filteredValues.initial_intake_channel="",this.paginator.pageIndex=0,this.isReset||this.getAssignmentData()):this.isReset||(this.intakeChannelFilter.value?(this.filteredValues.initial_intake_channel=e||"",this.paginator.pageIndex=0,this.getAssignmentData()):!e&&""!==this.filteredValues.initial_intake_channel&&(this.intakeChannelFilter.setValue(""),this.filteredValues.initial_intake_channel="",this.paginator.pageIndex=0,this.isReset||this.getAssignmentData()))}),this.subs.sink=this.typeFilter.valueChanges.subscribe(e=>{this.isMultipleFilter=!0}),this.subs.sink=this.financeFilter.valueChanges.subscribe(e=>{this.isMultipleFilter=!0}),this.subs.sink=this.juryFilter.valueChanges.subscribe(e=>{this.isMultipleFilter=!0}),this.subs.sink=this.newScholarFilter.valueChanges.subscribe(e=>{this.filteredValues.scholar_season=e||"",this.superFilter.scholar_season=e||null,this.schoolsFilter.value&&this.schoolsFilter.setValue(null),this.getDataForList(e||""),this.isReset||this.getAssignmentData()}),this.subs.sink=this.schoolsFilter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.level="",this.superFilter.campus="",this.superFilter.school=""===e||e&&e.includes("All")?"":e}),this.subs.sink=this.campusFilter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.level="",this.superFilter.campus=""===e||e&&e.includes("All")?"":e}),this.subs.sink=this.levelFilter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.level=""===e||e&&e.includes("All")?"":e}),this.subs.sink=this.sectorsFilter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.sectors=""===e||e&&e.includes("All")?"":e}),this.subs.sink=this.specialitiesFilter.valueChanges.subscribe(e=>{this.isDisabled=!1,this.superFilter.specialities=""===e||e&&e.includes("All")?"":e}),this.subs.sink=this.campusAboveFilter.valueChanges.subscribe(e=>{this.campusFilter.setValue(null),this.filteredValues.campus=e,this.paginator.pageIndex=0,this.isReset||this.getAssignmentData()}),this.subs.sink=this.schoolsAboveFilter.valueChanges.subscribe(e=>{this.schoolsFilter.setValue(null),this.previous_school=e,this.paginator.pageIndex=0,this.isReset||this.getAssignmentData()}),this.subs.sink=this.levelAboveFilter.valueChanges.subscribe(e=>{this.levelFilter.setValue(null),this.previous_level=e,this.paginator.pageIndex=0,this.isReset||this.getAssignmentData()}),this.subs.sink=this.programsDesiredFilter.valueChanges.pipe((0,M.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.programsDesiredFilter.setValue(""),this.filteredValues.programs_desired="",this.paginator.pageIndex=0,this.isReset||this.getAssignmentData()):this.isReset||(this.programsDesiredFilter.value?(this.filteredValues.programs_desired=e||"",this.paginator.pageIndex=0,this.getAssignmentData()):!e&&""!==this.filteredValues.programs_desired&&(this.programsDesiredFilter.setValue(""),this.filteredValues.programs_desired="",this.paginator.pageIndex=0,this.isReset||this.getAssignmentData()))}),this.subs.sink=this.currentProgramFilter.valueChanges.pipe((0,M.b)(400)).subscribe(e=>{e.match(/[()|{}\[\]:;<>?,\/]/)||e.match(/\\/)?(this.currentProgramFilter.setValue(""),this.filteredValues.intake_channel_name="",this.paginator.pageIndex=0,this.isReset||this.getAssignmentData()):this.isReset||(this.currentProgramFilter.value?(this.filteredValues.intake_channel_name=e||"",this.paginator.pageIndex=0,this.getAssignmentData()):!e&&""!==this.filteredValues.intake_channel_name&&(this.currentProgramFilter.setValue(""),this.filteredValues.intake_channel_name="",this.paginator.pageIndex=0,this.isReset||this.getAssignmentData()))})}clearSelectIfFilter(){this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!1,this.dataUnselectUser=[],this.allExportForCheckbox=[]}showOptions(e,i){if(this.isCheckedAll){if(i)if(this.dataUnselectUser.includes(i._id)){const a=this.dataUnselectUser.findIndex(l=>l===i._id);this.dataUnselectUser.splice(a,1),this.selection.select(i._id)}else this.dataUnselectUser.push(i._id),this.selection.deselect(i._id)}else if(i)if(this.dataSelected&&this.dataSelected.length){const a=this.dataSelected.filter(l=>l._id===i._id);if(a&&a.length<1)this.dataSelected.push(i);else{const l=this.dataSelected.findIndex(c=>c._id===i._id);this.dataSelected.splice(l,1)}}else this.dataSelected.push(i);this.selection.selected.length>0?(this.disabledExport=!1,this.disabledAssign=!1):(this.disabledExport=!0,this.disabledAssign=!0),console.log("this.selection",this.selection),this.selectType=e}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}masterToggle(){this.isAllSelected()?(this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!1,this.dataUnselectUser=[],this.allStudentForCheckbox=[],this.allEmailForCheckbox=[],this.allExportForCheckbox=[],this.allFinancialForCheckbox=[],this.allJuryForCheckbox=[],this.allProgramForCheckbox=[],this.allDesiredForCheckbox=[]):(this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!0,this.dataUnselectUser=[],this.allStudentForCheckbox=[],this.allEmailForCheckbox=[],this.allExportForCheckbox=[],this.allFinancialForCheckbox=[],this.allJuryForCheckbox=[],this.allProgramForCheckbox=[],this.allDesiredForCheckbox=[],this.dataSource.data.forEach(e=>{this.dataUnselectUser.includes(e._id)||this.selection.select(e._id)}))}getDataAllForCheckbox(e){const i={limit:500,page:e};this.isWaitingForResponse=!0;const n=this.cleanFilterData();this.subs.sink=this.candidatesService.getAllAssignmentCheckbox(n,this.sortValue,i,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(l=>{l&&l.length?(this.allStudentForCheckbox.push(...l),this.getDataAllForCheckbox(e+1)):(this.isWaitingForResponse=!1,this.isCheckedAll?(this.allStudentForCheckbox&&this.allStudentForCheckbox.length&&this.allStudentForCheckbox.forEach(c=>{this.dataSelected.push(c),this.selection.select(c._id)}),this.pageSelected.push(this.paginator.pageIndex)):this.pageSelected=[])},l=>{this.isReset=!1,this.isWaitingForResponse=!1,this.authService.postErrorLog(l),l&&l.message&&(l.message.includes("jwt expired")||l.message.includes("str & salt required")||l.message.includes("Authorization header is missing")||l.message.includes("salt"))?this.authService.handlerSessionExpired():l&&l.message&&l.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}isAllSelected(){return!!this.isCheckedAll||this.selection.selected.length===this.dataSource.data.length}refetchDataKeepFilter(){this.clearSelectIfFilter(),this.getAssignmentData()}resetFilter(){this.isReset=!0,this.isMultipleFilter=!1,this.selection.clear(),this.dataSelected=[],this.dataUnselectUser=[],this.isCheckedAll=!1,this.allExportForCheckbox=[],this.allEmailForCheckbox=[],this.allFinancialForCheckbox=[],this.allJuryForCheckbox=[],this.allProgramForCheckbox=[],this.allDesiredForCheckbox=[],this.filterBreadcrumbData=[],this.sort.sort({id:"",start:"asc",disableClear:!1}),this.filteredValues={candidate:"",intake_channel_name:"",candidate_unique_number:"",scholar_season:this.currentScholar?._id,campus:"",level:"",school:"",sectors:"",specialities:"",jury_decision:null,financement:null,programs_desired:"",candidate_admission_statuses:null,readmission_status:"assignment_table",initial_intake_channel:"",type_of_formation:"",latest_previous_program:"",type_of_readmission:"",last_reminder_date:"",convention:"",date_readmission_assigned:"",financial_situation:null},this.superFilter={scholar_season:this.currentScholar?._id,school:"",campus:"",level:"",sectors:null,specialities:null},this.numberFilter.patchValue(null,{emitEvent:!1}),this.nameFilter.patchValue(null,{emitEvent:!1}),this.intakeChannelFilter.patchValue(null,{emitEvent:!1}),this.currentProgramFilter.patchValue(null,{emitEvent:!1}),this.programsDesiredFilter.patchValue(null,{emitEvent:!1}),this.typeFilter.patchValue(null,{emitEvent:!1}),this.financeFilter.patchValue(null,{emitEvent:!1}),this.juryFilter.patchValue(null,{emitEvent:!1}),this.campusFilter.patchValue(null),this.levelFilter.patchValue(null),this.sectorsFilter.patchValue(null),this.specialitiesFilter.patchValue(null),this.schoolsFilter.patchValue(null),this.newScholarFilter.patchValue(this.currentScholar?._id,{emitEvent:!1}),this.programsFilterCtrl.patchValue(null,{emitEvent:!1}),this.sortValue=null,this.selectType="",this.sort.direction="",this.sort.active="",this.isDisabled=!0,this.getAssignmentData(),this.getDataForList(this.newScholarFilter.value?this.newScholarFilter.value:"")}customFilterPredicate(){return function(i,n){console.log("_ini filter",n);const a=JSON.parse(n),l=-1!==i.identity.toString().trim().toLowerCase().indexOf(a.name.toLowerCase()),c=-1!==i.telephone.toString().trim().toLowerCase().indexOf(a.tel.toLowerCase()),h=-1!==i.email.toString().trim().toLowerCase().indexOf(a.email.toLowerCase()),u=-1!==i.school.toString().trim().toLowerCase().indexOf(a.school.toLowerCase()),r=-1!==i.campus.toString().trim().toLowerCase().indexOf(a.campus.toLowerCase()),g=-1!==i.email.toString().trim().toLowerCase().indexOf(a.level.toLowerCase()),_=!a.program||"alls"===a.program.toLowerCase()||0===i.program.toString().trim().toLowerCase().indexOf(a.program.toLowerCase()),y=!a.trial||"alls"===a.trial.toLowerCase()||0===i.trial.toString().trim().toLowerCase().indexOf(a.trial.toLowerCase());return l&&c&&h&&u&&r&&g&&_&&y}}openAssingProgram(e,i){if("above"===e)if(this.dataSelected.length<1)m().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else if(this.dataSelected.some(a=>""===a.jury_decision||null===a.jury_decision||""===a.financial_situation||null===a.financial_situation))m().fire({type:"info",title:this.translate.instant("ReAdmission_S1.Title"),text:this.translate.instant("ReAdmission_S1.Text"),confirmButtonText:this.translate.instant("ReAdmission_S1.Button"),showCancelButton:!1,allowEscapeKey:!1,allowOutsideClick:!1});else{let a,l,c;"one"===this.selectType?(a="one",l=null,console.log("candidatesId",this.dataSelected)):(a="all",l=v.cloneDeep(this.filteredValues),l.crm_table="hubspot",this.source_type&&(l.source_type=this.source_type),l=this.checkFilterAboveTable(l),c=this.dataCount),this.dataSelected.filter(u=>"not_ok"===u.financial_situation)?.length?m().fire({type:"warning",title:this.translate.instant("ReAdmission_S9.TITLE"),text:this.translate.instant("ReAdmission_S9.TEXT"),confirmButtonText:this.translate.instant("ReAdmission_S9.BUTTON1"),cancelButtonText:this.translate.instant("ReAdmission_S9.BUTTON2"),showCancelButton:!0,allowEscapeKey:!1,allowOutsideClick:!1}).then(u=>{u?.value&&(this.subs.sink=this.dialog.open(H.U,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,autoFocus:!1,restoreFocus:!1,data:{candidateId:this.dataSelected,type:a,filter:l,countDocument:c,from:"readmission"}}).afterClosed().subscribe(r=>{r&&(this.disabledExport=!0,this.disabledAssign=!0,this.refetchDataKeepFilter())}))}):(this.oscarAssignProgramDialogComponent=this.dialog.open(H.U,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,autoFocus:!1,restoreFocus:!1,data:{candidateId:this.dataSelected,type:a,filter:l,countDocument:c,from:"readmission"}}),this.subs.sink=this.oscarAssignProgramDialogComponent.afterClosed().subscribe(u=>{u&&(this.disabledExport=!0,this.disabledAssign=!0,this.refetchDataKeepFilter()),this.oscarAssignProgramDialogComponent=null}))}else if(i.jury_decision&&i.financial_situation){const n=[];n.push(i),"not_ok"===i?.financial_situation?m().fire({type:"warning",title:this.translate.instant("ReAdmission_S9.TITLE"),text:this.translate.instant("ReAdmission_S9.TEXT"),confirmButtonText:this.translate.instant("ReAdmission_S9.BUTTON1"),cancelButtonText:this.translate.instant("ReAdmission_S9.BUTTON2"),showCancelButton:!0,allowEscapeKey:!1,allowOutsideClick:!1}).then(a=>{a?.value&&(this.subs.sink=this.dialog.open(H.U,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,autoFocus:!1,restoreFocus:!1,data:{candidateId:n,from:"readmission"}}).afterClosed().subscribe(l=>{l&&(this.disabledExport=!0,this.disabledAssign=!0,this.refetchDataKeepFilter())}))}):(this.oscarAssignProgramDialogComponent=this.dialog.open(H.U,{width:"600px",minHeight:"100px",panelClass:"certification-rule-pop-up",disableClose:!0,autoFocus:!1,restoreFocus:!1,data:{candidateId:n,from:"readmission"}}),this.subs.sink=this.oscarAssignProgramDialogComponent.afterClosed().subscribe(a=>{a&&(this.disabledExport=!0,this.disabledAssign=!0,this.refetchDataKeepFilter()),this.oscarAssignProgramDialogComponent=null}))}else m().fire({type:"info",title:this.translate.instant("ReAdmission_S1.Title"),text:this.translate.instant("ReAdmission_S1.Text"),confirmButtonText:this.translate.instant("ReAdmission_S1.Button"),showCancelButton:!1,allowEscapeKey:!1,allowOutsideClick:!1})}getAllTypeOfInformation(){this.subs.sink=this.intakeChannelService.getAllTypeOfInformationDropdown().subscribe(e=>{e&&(this.listTypeOfInformation=e.map(i=>({...i,label:this.translate.instant("type_formation."+i.type_of_formation)})),this.listTypeOfInformation=this.listTypeOfInformation.sort((i,n)=>this.translate.instant("type_formation."+i.type_of_formation).toLowerCase().localeCompare(this.translate.instant("type_formation."+n.type_of_formation).toLowerCase())))},e=>{this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("OK")})})}checkFilterAboveTable(e){if(this.schoolsAboveFilter.value&&(e.schools=this.schoolsAboveFilter.value),this.campusAboveFilter.value&&(e.campuses=this.campusAboveFilter.value),this.levelAboveFilter.value&&(e.levels=this.levelAboveFilter.value),this.schoolsFilter.value){const i=[];i.push(this.schoolsFilter.value),e.schools=i}if(this.campusFilter.value){const i=[];i.push(this.campusFilter.value),e.campuses=i}if(this.levelFilter.value){const i=[];i.push(this.levelFilter.value),e.levels=i}if(this.sectorsFilter.value){let i=[];i=this.sectorsFilter.value,e.sectors=i}if(this.specialitiesFilter.value){let i=[];i=this.specialitiesFilter.value,e.specialities=i}return e}refetchCandidateData(){this.isLoading=!0,this.subs.sink=this.candidatesService.getLatestCandidateOscarTable().subscribe(e=>{console.log(e),this.isLoading=!1,this.swalFetchComplete(e.total_created)},e=>{this.isLoading=!1,this.authService.postErrorLog(e),e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt"))?this.authService.handlerSessionExpired():e&&e.message&&e.message.includes("Network error: Http failure response for")?m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):this.handleError(e)})}refreshCandidateFromHubSpot(){this.isLoading=!0,this.subs.sink=this.candidatesService.refreshCandidateFromHubSpot().subscribe(e=>{this.getUpdateInfo(),console.log(e),e&&("Candidate import from HubSpot is in progress"===e&&(this.clearSelectIfFilter(),this.getAssignmentData(),m().fire({type:"success",title:this.translate.instant("HUBSPOT_S1.TITLE"),text:this.translate.instant("HUBSPOT_S1.TEXT"),confirmButtonText:this.translate.instant("HUBSPOT_S1.BUTTON 1"),showCancelButton:!1,allowEscapeKey:!1,allowOutsideClick:!1})),this.isLoading=!1)},e=>{if(console.log(e),this.authService.postErrorLog(e),e&&e.message){if(e&&e.message&&(e.message.includes("jwt expired")||e.message.includes("str & salt required")||e.message.includes("Authorization header is missing")||e.message.includes("salt")))return void this.authService.handlerSessionExpired();e&&e.message&&e.message.includes("Network error: Http failure response for")&&m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}),console.log(e.message),"GraphQL error: Import from hubspot already in progress"===e.message?(m().fire({type:"info",title:this.translate.instant("HUBSPOT_S2.TITLE"),text:this.translate.instant("HUBSPOT_S2.TEXT"),confirmButtonText:this.translate.instant("HUBSPOT_S2.BUTTON 1"),showCancelButton:!1,allowEscapeKey:!1,allowOutsideClick:!1}),this.isLoading=!1,this.clearSelectIfFilter(),this.getAssignmentData()):(this.isLoading=!1,this.clearSelectIfFilter(),this.getAssignmentData(),this.handleError(e))}})}swalFetchComplete(e){m().fire({type:"success",title:this.translate.instant("OSCAR_S6.Title"),text:this.translate.instant("OSCAR_S6.Text",{numberOfStudent:e}),confirmButtonText:this.translate.instant("OSCAR_S6.BUTTON"),showCancelButton:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(i=>{i.value&&this.getAssignmentData()})}transformDate(e){return e?this.parseUtcToLocalPipe.fixDateFormatUtc(e):""}onDataExport(){if("one"===this.selectType){const e=[];if(this.dataSelected.length){console.log("selection",this.dataSelected);for(const h of this.dataSelected){const u=[],r=this.transformDate(h.date_added),g=h.civility&&h.last_name&&h.first_name?(h.civility&&"neutral"!==h.civility?this.translate.instant(h.civility):"")+" "+(h.last_name?h.last_name.toUpperCase():"")+" "+(h.first_name?h.first_name:""):"-";u[0]=r||"-",u[1]=g,u[2]=h.telephone?h.telephone:"-",u[3]=h.email?h.email:"-",u[4]=h.program_desired?h.program_desired:"-",u[5]=h.trial_date?h.trial_date:"-",e.push(u)}console.log("data",e);const i={values:e},n=L().format("DD-MM-YYYY");this.exportCsvService.createAndUpdateSpreadsheet(i,this.exportName+"_"+n,{spreadsheetId:"1_zJPBU3NVCU9J-XwvC0eeAN6h-nIEj1mCUkhc2a0On0",sheetId:"en"===this.translate.currentLang?0:595478485,range:"A7"})}m().close()}}exportAllData(e){const i=v.uniqBy(e,"_id"),n=[];if(i&&i.length){console.log("selection",i);for(const r of i){const g=[],_=this.transformDate(r.date_added),y=r.civility&&r.last_name&&r.first_name?(r.civility&&"neutral"!==r.civility?this.translate.instant(r.civility):"")+" "+(r.last_name?r.last_name.toUpperCase():"")+" "+(r.first_name?r.first_name:""):"-";g[0]=_||"-",g[1]=y,g[2]=r.telephone?r.telephone:"-",g[3]=r.email?r.email:"-",g[4]=r.program_desired?r.program_desired:"-",g[5]=r.trial_date?r.trial_date:"-",n.push(g)}console.log("data",n);const a={values:n},l=L().format("DD-MM-YYYY");this.exportCsvService.createAndUpdateSpreadsheet(a,this.exportName+"_"+l,{spreadsheetId:"1_zJPBU3NVCU9J-XwvC0eeAN6h-nIEj1mCUkhc2a0On0",sheetId:"en"===this.translate.currentLang?0:595478485,range:"A7"})}m().close()}downloadCSV(){if(this.dataSelected&&this.dataSelected.length<1&&(!this.isCheckedAll||this.isCheckedAll&&this.dataUnselectUser.length>1))m().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else{const e={",":this.translate.instant("IMPORT_DECISION_S1.COMMA"),";":this.translate.instant("IMPORT_DECISION_S1.SEMICOLON"),tab:this.translate.instant("IMPORT_DECISION_S1.TAB")};m().fire({type:"question",title:this.translate.instant("EXPORT_DECISION.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translate.instant("IMPORT_DECISION_S1.CANCEL"),confirmButtonText:this.translate.instant("IMPORT_DECISION_S1.OK"),input:"radio",inputOptions:e,inputValue:this.translate&&"fr"===this.translate.currentLang?";":"",inputValidator:i=>new Promise((n,a)=>{i?(n(""),m().enableConfirmButton()):(m().disableConfirmButton(),a(this.translate.instant("IMPORT_DECISION_S1.INVALID")))}),onOpen:function(){m().disableConfirmButton(),m().getContent().addEventListener("click",function(a){m().enableConfirmButton()}),";"===m().getInput().getAttribute("value")&&m().enableConfirmButton()}}).then(i=>{i.value&&this.openDownloadCsv(i.value)})}}openDownloadCsv(e){let i=B.N.apiUrl;i=i.replace("graphql",""),document.createElement("a");const a=this.translate.currentLang.toLowerCase(),l=this.cleanFilterDataExport();let c;if(this.dataSelected.length&&!this.isCheckedAll||this.dataUnselectUser&&this.dataUnselectUser.length){const z='"candidate_ids":['+this.dataSelected.map(nt=>'"'+nt._id+'"').toString()+"]";c=l.length>9?l.slice(0,8)+'"readmission_status":"assignment_table",'+z+","+l.slice(8):l.slice(0,8)+'"readmission_status":"assignment_table",'+z+l.slice(8)}else this.isCheckedAll&&(c="}"===l.slice(8)?l.slice(0,8)+'"readmission_status":"assignment_table"'+l.slice(8):l.slice(0,8)+'"readmission_status":"assignment_table",'+l.slice(8));console.log(c);const h=this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id.map(y=>'"'+y+'"'):[],r=this.sortingForExport();let g;g=i+"downloadAssignmentTableCSV/"+e+"/"+a+"/"+this.currentUser._id+"/"+this.currentUserTypeId+"?"+c+"&"+r+"&user_type_ids=["+h+"]",console.log("fullURL",g);const _={headers:new st.WM({Authorization:JSON.parse(localStorage.getItem("admtc-token-encryption"))})};this.isLoading=!0,this.httpClient.get(`${encodeURI(g)}`,_).subscribe(y=>{console.log("uat 389",y),y?(this.isLoading=!1,m().fire({type:"success",title:this.translate.instant("ReAdmission_S3.TITLE"),text:this.translate.instant("ReAdmission_S3.TEXT"),confirmButtonText:this.translate.instant("ReAdmission_S3.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>this.clearSelectIfFilter())):this.isLoading=!1},y=>{console.log("uat 389 error",y),this.isLoading=!1})}sortingForExport(){let e="";if(this.sortValue){const i=v.cloneDeep(this.sortValue);Object.keys(i).forEach(n=>{i[n]&&(e=e?e+`,"${n}":"${i[n]}"`:e+`"${n}":"${i[n]}"`)})}return"sorting={"+e+"}"}handleError(e){"GraphQL error: Some data cannot be imported!"===e.message?m().fire({type:"info",title:this.translate.instant("OSCAR_S5.TITLE"),text:this.translate.instant("OSCAR_S5.TEXT"),confirmButtonText:this.translate.instant("OSCAR_S5.BUTTON"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}):m().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}displayUserTelephone(e){return e}displayTooltipSource(e){return this.translate.instant(e.oscar_campus_id?"Oscar":e.hubspot_contact_id&&e.hubspot_deal_id?"Hubspot":"Manual")}openImport(){this.dialog.open(Y.u,{disableClose:!0,width:"600px",minHeight:"100px"}).afterClosed().subscribe(i=>{i&&this.getAssignmentData()})}ngOnDestroy(){this.subs.unsubscribe(),this.pageTitleService.setTitle(null)}checkIsSelected(e){return this.selection.isSelected(e._id)}editJury(){this.dataSelected.length<1?m().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")}):this.dialog.open(X.t,{width:"660px",minHeight:"100px",disableClose:!0,data:{id:this.dataSelected.map(i=>i._id),select_all:!!(this.isCheckedAll&&this.dataUnselectUser.length<1),filter:this.cleanFilterDataEditJury(),is_readmission:!0,data:this.dataSelected}}).afterClosed().subscribe(i=>{i&&(this.clearSelectIfFilter(),this.getAssignmentData())})}editProgram(){this.dataSelected.length<1?m().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")}):this.dialog.open(ot,{width:"660px",minHeight:"100px",disableClose:!0,data:{id:this.dataSelected.map(i=>i._id),select_all:!!(this.isCheckedAll&&this.dataUnselectUser.length<1),filter:this.cleanFilterDataEditJury(),is_readmission:!0,data:this.dataSelected}}).afterClosed().subscribe(i=>{i&&(this.clearSelectIfFilter(),this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!1,this.getAssignmentData())})}viewCandidateInfo(e,i){const n={selectedCandidate:e,sortValue:JSON.stringify(this.sortValue)||"",tab:i||"",paginator:JSON.stringify({pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize})};if(i){const a=this.router.createUrlTree(["candidate-file"],{queryParams:n});window.open(a.toString(),"_blank")}else{const a=this.router.createUrlTree(["candidate-file"],{queryParams:n});window.open(a.toString(),"_blank")}}sendMultipleEmail(){if(this.dataSelected.length<1)m().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")});else{let e=this.dataSelected;e=e.map(i=>({candidate:{email:i.email,emailDefault:i.school_mail}})),this.sendMultipleEmailComponent=this.dialog.open(ft.v,{disableClose:!0,width:"750px",data:e,autoFocus:!1}),this.subs.sink=this.sendMultipleEmailComponent.afterClosed().subscribe(i=>{i&&(this.clearSelectIfFilter(),this.getAssignmentData()),this.sendMultipleEmailComponent=null})}}intakeChannel(e){return e&&e.initial_intake_channel&&e.scholar_season&&e.intake_channel.program&&e.scholar_season.scholar_season?(e.scholar_season.scholar_season.concat(" ",e.initial_intake_channel.program),e.initial_intake_channel):""}currentProgram(e){let i="";return e&&e.intake_channel&&e.intake_channel.scholar_season_id&&e.intake_channel.program&&e.intake_channel.scholar_season_id.scholar_season?(i=e.intake_channel.scholar_season_id.scholar_season.concat(" ",e.intake_channel.program),i):""}sendMail(e){e&&(this.subs.sink=this.dialog.open(rt.v,{width:"600px",minHeight:"100px",disableClose:!0,data:{candidate_id:{candidate_admission_status:e.candidate_admission_status,civility:e.civility,email:e.email,first_name:e.first_name,last_name:e.last_name},financial_supports:e.payment_supports,fromCandidate:!0}}).afterClosed().subscribe(n=>{!this.isReset&&n&&this.getAssignmentData()}))}templateForImport(){const e={",":this.translate.instant("IMPORT_TEMPLATE_S1.COMMA"),";":this.translate.instant("IMPORT_TEMPLATE_S1.SEMICOLON"),tab:this.translate.instant("IMPORT_TEMPLATE_S1.TAB")};m().fire({type:"question",title:this.translate.instant("IMPORT_TEMPLATE_S1.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translate.instant("IMPORT_TEMPLATE_S1.CANCEL"),confirmButtonText:this.translate.instant("IMPORT_TEMPLATE_S1.OK"),input:"radio",inputValue:";",inputOptions:e}).then(i=>{console.log(i),i&&i.value&&this.downloadCSVTemplate(i.value)})}downloadCSVTemplate(e){let i=B.N.apiUrl;i=i.replace("graphql","");const n=document.createElement("a");let c="downloadAssignmentTemplateCSV";c=c+"/"+e+"/"+this.translate.currentLang.toLowerCase(),n.href=i+c+"",n.target="_blank",n.download="Template Import CSV",document.body.appendChild(n),n.click(),document.body.removeChild(n)}csvTypeSelectionUpload(){const e={",":this.translate.instant("IMPORT_DECISION_S1.COMMA"),";":this.translate.instant("IMPORT_DECISION_S1.SEMICOLON"),tab:this.translate.instant("IMPORT_DECISION_S1.TAB")};m().fire({type:"question",title:this.translate.instant("IMPORT_DECISION_S1.TITLE"),width:465,allowEscapeKey:!0,showCancelButton:!0,cancelButtonText:this.translate.instant("IMPORT_DECISION_S1.CANCEL"),confirmButtonText:this.translate.instant("IMPORT_DECISION_S1.OK"),input:"radio",inputOptions:e,inputValue:";",inputValidator:i=>new Promise((n,a)=>{i?(n(""),m().enableConfirmButton()):(m().disableConfirmButton(),a(this.translate.instant("IMPORT_DECISION_S1.INVALID")))}),onOpen:function(){m().disableConfirmButton(),m().getContent().addEventListener("click",function(a){m().enableConfirmButton()}),";"===m().getInput().getAttribute("value")&&m().enableConfirmButton()}}).then(i=>{i.value&&this.openImportDialog(i.value)})}openImportDialog(e){let i=null;switch(e){case",":i=",";break;case";":i=";";break;case"tab":i="tab";break;default:i=null}this.dialog.open(ct.q,{width:"500px",panelClass:"certification-rule-pop-up",minHeight:"200px",disableClose:!0,data:{delimeter:i,type:"assignment"}}).afterClosed().subscribe(n=>{n&&(this.isLoading=!1,this.clearSelectIfFilter(),this.getAssignmentData())})}openFinancialDialog(){this.dataSelected.length<1?m().fire({type:"info",title:this.translate.instant("Followup_S8.Title"),html:this.translate.instant("Followup_S8.Text",{menu:this.translate.instant("Candidate")}),confirmButtonText:this.translate.instant("Followup_S8.Button")}):this.dialog.open(gt,{width:"660px",minHeight:"100px",disableClose:!0,data:this.dataSelected}).afterClosed().subscribe(i=>{i&&(this.isLoading=!1,this.clearSelectIfFilter(),this.getAssignmentData())})}getDataSectorByLevel(){const e=!!this.newScholarFilter.value,i=!(!this.schoolsFilter.value||!this.schoolsFilter.value.length),n=!(!this.campusSelected||!this.campusSelected.length),a=!(!this.levelSelected||!this.levelSelected.length);let l=[],c=[],h=[];this.schoolsFilter.value&&this.schoolsFilter.value.includes("All")&&this.listObjective&&this.listObjective.length&&(l=this.listObjective.map(_=>_._id)),this.campusFilter.value&&this.campusFilter.value.includes("All")&&this.campusList&&this.campusList.length&&(c=this.campusList.map(_=>_._id)),this.levelFilter.value&&this.levelFilter.value.includes("All")&&this.levels&&this.levels.length&&(h=this.levels.map(_=>_._id));const u={scholar_season_id:e?this.newScholarFilter.value:null,candidate_school_ids:l&&l.length>0?l:i?this.schoolsFilter.value:null,campuses:c&&c.length>0?c:n?this.campusSelected:null,levels:h&&h.length>0?h:a?this.levelSelected:null};this.sectorList=[],this.specilityList=[];const r=this.superFilter.campus,g=this.superFilter.level;i||n?this.subs.sink=this.financeService.GetAllSectorsDropdown(u).subscribe(_=>{!this.campusFilter.value&&r&&(this.campusFilter.setValue(r),this.getDataLevel()),!this.levelFilter.value&&g&&this.levelFilter.setValue(g),_&&_.length&&(this.sectorsFilter.setValue(null),this.specialitiesFilter.setValue(null),this.superFilter.sectors=null,this.superFilter.specialities=null,this.sectorList=_)},_=>{this.authService.postErrorLog(_),_&&_.message&&_.message.includes("Network error: Http failure response for")&&m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})}):(this.sectorsFilter.setValue(null,{emitEvent:!1}),this.specialitiesFilter.setValue(null,{emitEvent:!1}),this.superFilter.sectors=null,this.superFilter.specialities=null)}getDataSpecialityBySector(){const e=!!this.newScholarFilter.value,i=!(!this.schoolsFilter.value||!this.schoolsFilter.value.length),n=!(!this.campusSelected||!this.campusSelected.length),a=!(!this.levelSelected||!this.levelSelected.length),l=!(!this.sectorsFilter.value||!this.sectorsFilter.value.length);let c=[],h=[],u=[],r=[];this.schoolsFilter.value&&this.schoolsFilter.value.includes("All")&&this.listObjective&&this.listObjective.length&&(c=this.listObjective.map(_=>_._id)),this.campusFilter.value&&this.campusFilter.value.includes("All")&&this.campusList&&this.campusList.length&&(h=this.campusList.map(_=>_._id)),this.levelFilter.value&&this.levelFilter.value.includes("All")&&this.levels&&this.levels.length&&(u=this.levels.map(_=>_._id)),this.sectorsFilter.value&&this.sectorsFilter.value.includes("All")&&this.sectorList&&this.sectorList.length&&(r=this.sectorList.map(_=>_._id));const g={scholar_season_id:e?this.newScholarFilter.value:null,candidate_school_ids:c&&c.length?c:i?this.schoolsFilter.value:null,campuses:h&&h.length?h:n?this.campusSelected:null,levels:u&&u.length?u:a?this.levelSelected:null,sectors:r&&r.length?r:l?this.sectorsFilter.value:null};this.specilityList=[],i||n||l?this.subs.sink=this.candidatesService.GetAllSpecializationsByScholar(g).subscribe(_=>{_&&_.length&&(this.specialitiesFilter.setValue(null),this.superFilter.specialities=null,this.specilityList=_)},_=>{this.authService.postErrorLog(_),_&&_.message&&_.message.includes("Network error: Http failure response for")&&m().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1})}):(this.specialitiesFilter.setValue(null,{emitEvent:!1}),this.superFilter.specialities=null)}getAllIdForCheckbox(e){if("export"===this.buttonClicked)if(this.isCheckedAll)if(this.dataUnselectUser.length<1)this.downloadCSV();else{0===e&&(this.allExportForCheckbox=[],this.dataSelected=[]);const i={limit:500,page:e};this.isLoading=!0;const n=this.cleanFilterData();this.subs.sink=this.candidatesService.getAllIdForAssignmentCheckbox(i,this.sortValue,n,null,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(l=>{l&&l.length?(this.allExportForCheckbox.push(...l),this.getAllIdForCheckbox(e+1)):(this.isLoading=!1,this.isCheckedAll&&this.allExportForCheckbox&&this.allExportForCheckbox.length&&(this.dataSelected=this.allExportForCheckbox.filter(c=>!this.dataUnselectUser.includes(c._id)),this.dataSelected=v.uniqBy(this.dataSelected,"_id"),console.log("getAllIdForCheckbox",this.dataSelected),this.downloadCSV()))},l=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(l),m().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("OK")})})}else this.downloadCSV()}getDataForFinancial(e){if("financial"===this.buttonClicked)if(this.isCheckedAll){0===e&&(this.allFinancialForCheckbox=[],this.dataSelected=[]);const i={limit:500,page:e};this.isLoading=!0;const n=this.cleanFilterData();this.subs.sink=this.candidatesService.getAllIdForAssignmentCheckbox(i,this.sortValue,n,null,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(l=>{l&&l.length?(this.allFinancialForCheckbox.push(...l),this.getDataForFinancial(e+1)):(this.isLoading=!1,this.isCheckedAll&&this.allFinancialForCheckbox&&this.allFinancialForCheckbox.length&&(this.dataSelected=this.allFinancialForCheckbox.filter(c=>!this.dataUnselectUser.includes(c._id)),this.dataSelected=v.uniqBy(this.dataSelected,"_id"),console.log("getAllIdForCheckbox",this.dataSelected),this.dataSelected&&this.dataSelected.length&&this.openFinancialDialog()))},l=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(l),m().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("OK")})})}else this.openFinancialDialog()}getDataForJury(e){if("jury"===this.buttonClicked)if(this.isCheckedAll){0===e&&(this.allJuryForCheckbox=[],this.dataSelected=[]);const i={limit:500,page:e};this.isLoading=!0;const n=this.cleanFilterData();this.subs.sink=this.candidatesService.getAllJuryForAssignmentCheckbox(i,this.sortValue,n,null,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(l=>{l&&l.length?(this.allJuryForCheckbox.push(...l),this.getDataForJury(e+1)):(this.isLoading=!1,this.isCheckedAll&&this.allJuryForCheckbox&&this.allJuryForCheckbox.length&&(this.dataSelected=this.allJuryForCheckbox.filter(c=>!this.dataUnselectUser.includes(c._id)),this.dataSelected=v.uniqBy(this.dataSelected,"_id"),console.log("getAllIdForCheckbox",this.dataSelected),this.dataSelected&&this.dataSelected.length&&this.editJury()))},l=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(l),m().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("OK")})})}else this.editJury()}getDataForDesired(e){if("desired"===this.buttonClicked)if(this.isCheckedAll){0===e&&(this.allDesiredForCheckbox=[],this.dataSelected=[]);const i={limit:500,page:e};this.isLoading=!0;const n=this.cleanFilterData();this.subs.sink=this.candidatesService.getAllDesiredForAssignmentCheckbox(i,this.sortValue,n,null,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(l=>{l&&l.length?(this.allDesiredForCheckbox.push(...l),this.getDataForDesired(e+1)):(this.isLoading=!1,this.isCheckedAll&&this.allDesiredForCheckbox&&this.allDesiredForCheckbox.length&&(this.dataSelected=this.allDesiredForCheckbox.filter(c=>!this.dataUnselectUser.includes(c._id)),this.dataSelected=v.uniqBy(this.dataSelected,"_id"),console.log("getAllIdForCheckbox",this.dataSelected),this.dataSelected&&this.dataSelected.length&&this.editProgram()))},l=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(l),m().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("OK")})})}else this.editProgram()}getDataForProgram(e){if("program"===this.buttonClicked)if(this.isCheckedAll){0===e&&(this.allProgramForCheckbox=[],this.dataSelected=[]);const i={limit:500,page:e};this.isLoading=!0;const n=this.cleanFilterData();this.subs.sink=this.candidatesService.getAllProgramForAssignmentCheckbox(i,this.sortValue,n,null,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(l=>{l&&l.length?(this.allProgramForCheckbox.push(...l),this.getDataForProgram(e+1)):(this.isLoading=!1,this.isCheckedAll&&this.allProgramForCheckbox&&this.allProgramForCheckbox.length&&(this.dataSelected=this.allProgramForCheckbox.filter(c=>!this.dataUnselectUser.includes(c._id)),this.dataSelected=v.uniqBy(this.dataSelected,"_id"),console.log("getAllIdForCheckbox",this.dataSelected),this.dataSelected&&this.dataSelected.length&&this.openAssingProgram("above")))},l=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(l),m().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("OK")})})}else this.openAssingProgram("above")}getDataForEmail(e){if("email"===this.buttonClicked)if(this.isCheckedAll){0===e&&(this.allEmailForCheckbox=[],this.dataSelected=[]);const i={limit:500,page:e};this.isLoading=!0;const n=this.cleanFilterData();this.subs.sink=this.candidatesService.getAllEmailForAssignmentCheckbox(i,this.sortValue,n,null,this.currentUser&&this.currentUser.app_data?this.currentUser.app_data.user_type_id:[]).subscribe(l=>{l&&l.length?(this.allEmailForCheckbox.push(...l),this.getDataForEmail(e+1)):(this.isLoading=!1,this.isCheckedAll&&this.allEmailForCheckbox&&this.allEmailForCheckbox.length&&(this.dataSelected=this.allEmailForCheckbox.filter(c=>!this.dataUnselectUser.includes(c._id)),this.dataSelected=v.uniqBy(this.dataSelected,"_id"),console.log("getAllIdForCheckbox",this.dataSelected),this.dataSelected&&this.dataSelected.length&&this.sendMultipleEmail()))},l=>{this.isReset=!1,this.isLoading=!1,this.authService.postErrorLog(l),m().fire({type:"info",title:this.translate.instant("SORRY"),text:l&&l.message?this.translate.instant(l.message.replaceAll("GraphQL error: ","")):l,confirmButtonText:this.translate.instant("OK")})})}else this.sendMultipleEmail()}controllerButton(e){switch(e){case"export":setTimeout(()=>{this.getAllIdForCheckbox(0)},500);break;case"financial":setTimeout(()=>{this.getDataForFinancial(0)},500);break;case"jury":setTimeout(()=>{this.getDataForJury(0)},500);break;case"desired":setTimeout(()=>{this.getDataForDesired(0)},500);break;case"program":setTimeout(()=>{this.getDataForProgram(0)},500);break;case"email":setTimeout(()=>{this.getDataForEmail(0)},500);break;default:this.refetchDataKeepFilter()}}applySuperFilter(){this.filteredValues={...this.filteredValues,scholar_season:this.superFilter.scholar_season,school:this.superFilter.school,campus:this.superFilter.campus,level:this.superFilter.level,sectors:this.superFilter.sectors,specialities:this.superFilter.specialities},this.paginator.firstPage(),this.isDisabled=!0,this.getAssignmentData()}removeFilterBreadcrumb(e){this.filterBreadCrumbService.removeFilterBreadcrumb(e,this.superFilter,this.filteredValues),"scholar_season"===e.name?(this.newScholarFilter.setValue("All"),this.filteredValues.scholar_season=null,this.filteredValues.school=null,this.filteredValues.campus=null,this.filteredValues.level=null,this.filteredValues.sectors=null,this.filteredValues.specialities=null,this.newScholarSelect()):"school"===e.name?(this.schoolsFilter.setValue(null),this.filteredValues.school=null,this.filteredValues.campus=null,this.filteredValues.level=null,this.filteredValues.sectors=null,this.filteredValues.specialities=null,this.getDataCampus()):"campus"===e.name?(this.campusFilter.setValue(null),this.filteredValues.campus=null,this.filteredValues.level=null,this.filteredValues.sectors=null,this.filteredValues.specialities=null,this.getDataByLevel()):"level"===e.name?(this.levelFilter.setValue(null),this.filteredValues.level=null,this.filteredValues.sectors=null,this.filteredValues.specialities=null,this.getDataSectorByLevel()):"sectors"===e.name?(this.sectorsFilter.setValue(null),this.filteredValues.sectors=null,this.filteredValues.specialities=null,this.getDataSpecialityBySector()):"specialities"===e.name&&(this.specialitiesFilter.setValue(null),this.filteredValues.specialities=null),this.clearSelectIfFilter(),this.getAssignmentData()}filterBreadcrumbFormat(){const e={school:"All",campus:"All",level:"All",sectors:"All",specialities:"All",type_of_formations:"All",jury_decisions:"All",financial_situations:"All"};this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat([{type:"super_filter",name:"scholar_season",column:"CARDDETAIL.Scholar Season",isMultiple:!1,filterValue:this.superFilter,filterList:this.scholars,filterRef:this.newScholarFilter,isSelectionInput:!0,displayKey:"scholar_season",savedValue:"_id"},{type:"super_filter",name:"school",column:"ADMISSION.TABLE_ADMISSION_CHANNEL.School",isMultiple:this.schoolsFilter?.value?.length!==this.school?.length,filterValue:this.schoolsFilter?.value?.length===this.school?.length?e:this.superFilter,filterList:this.schoolsFilter?.value?.length===this.school?.length?null:this.school,filterRef:this.schoolsFilter,displayKey:this.schoolsFilter?.value?.length===this.school?.length?null:"short_name",savedValue:this.schoolsFilter?.value?.length===this.school?.length?null:"_id",isSelectionInput:this.schoolsFilter?.value?.length!==this.school?.length},{type:"super_filter",name:"campus",column:"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus",isMultiple:this.campusFilter?.value?.length!==this.campusList?.length,filterValue:this.campusFilter?.value?.length===this.campusList?.length?e:this.superFilter,filterList:this.campusFilter?.value?.length===this.campusList?.length?null:this.campusList,filterRef:this.campusFilter,displayKey:this.campusFilter?.value?.length===this.campusList?.length?null:"name",savedValue:this.campusFilter?.value?.length===this.campusList?.length?null:"name",isSelectionInput:this.campusFilter?.value?.length!==this.campusList?.length},{type:"super_filter",name:"level",column:"ADMISSION.TABLE_ADMISSION_CHANNEL.Level",isMultiple:this.levelFilter?.value?.length!==this.levels?.length,filterValue:this.levelFilter?.value?.length===this.levels?.length?e:this.superFilter,filterList:this.levelFilter?.value?.length===this.levels?.length?null:this.levels,filterRef:this.levelFilter,displayKey:this.levelFilter?.value?.length===this.levels?.length?null:"name",savedValue:this.levelFilter?.value?.length===this.levels?.length?null:"name",isSelectionInput:this.levelFilter?.value?.length!==this.levels?.length},{type:"super_filter",name:"sectors",column:"ALUMNI.Sector",isMultiple:this.sectorsFilter?.value?.length!==this.sectorList?.length,filterValue:this.sectorsFilter?.value?.length===this.sectorList?.length?e:this.superFilter,filterList:this.sectorsFilter?.value?.length===this.sectorList?.length?null:this.sectorList,filterRef:this.sectorsFilter,displayKey:this.sectorsFilter?.value?.length===this.sectorList?.length?null:"name",savedValue:this.sectorsFilter?.value?.length===this.sectorList?.length?null:"_id",isSelectionInput:this.sectorsFilter?.value?.length!==this.sectorList?.length},{type:"super_filter",name:"specialities",column:"ALUMNI.Speciality",isMultiple:this.specialitiesFilter?.value?.length!==this.specilityList?.length,filterValue:this.specialitiesFilter?.value?.length===this.specilityList?.length?e:this.superFilter,filterList:this.specialitiesFilter?.value?.length===this.specilityList?.length?null:this.specilityList,filterRef:this.specialitiesFilter,displayKey:this.specialitiesFilter?.value?.length===this.specilityList?.length?null:"name",savedValue:this.specialitiesFilter?.value?.length===this.specilityList?.length?null:"_id",isSelectionInput:this.specialitiesFilter?.value?.length!==this.specilityList?.length},{type:"table_filter",name:"candidate_unique_number",column:"Student Number",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.numberFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"candidate",column:"Student Name",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.nameFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"initial_intake_channel",column:"Intake Channel",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.intakeChannelFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"intake_channel_name",column:"Current Program",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.currentProgramFilter,displayKey:null,savedValue:null,isSelectionInput:!1},{type:"table_filter",name:"type_of_formations",column:"Type of Formation",isMultiple:this.typeFilter?.value?.length!==this.listTypeOfInformation?.length,filterValue:this.typeFilter?.value?.length===this.listTypeOfInformation?.length?e:this.filteredValues,filterList:this.typeFilter?.value?.length===this.listTypeOfInformation?.length?null:this.listTypeOfInformation,filterRef:this.typeFilter,displayKey:this.typeFilter?.value?.length===this.listTypeOfInformation?.length?null:"type_of_formation",savedValue:this.typeFilter?.value?.length===this.listTypeOfInformation?.length?null:"_id",isSelectionInput:this.typeFilter?.value?.length!==this.listTypeOfInformation?.length,translationPrefix:this.typeFilter?.value?.length===this.listTypeOfInformation?.length?null:"type_formation."},{type:"table_filter",name:"financial_situations",column:"Financial Situation",isMultiple:this.financeFilter?.value?.length!==this.financeList?.length,filterValue:this.financeFilter?.value?.length===this.financeList?.length?e:this.filteredValues,filterList:this.financeFilter?.value?.length===this.financeList?.length?null:this.financeList,filterRef:this.financeFilter,displayKey:this.financeFilter?.value?.length===this.financeList?.length?null:"key",savedValue:this.financeFilter?.value?.length===this.financeList?.length?null:"value",isSelectionInput:this.financeFilter?.value?.length!==this.financeList?.length},{type:"table_filter",name:"jury_decisions",column:"Jury Decision",isMultiple:this.juryFilter?.value?.length!==this.juryList?.length,filterValue:this.juryFilter?.value?.length===this.juryList?.length?e:this.filteredValues,filterList:this.juryFilter?.value?.length===this.juryList?.length?null:this.juryList,filterRef:this.juryFilter,displayKey:this.juryFilter?.value?.length===this.juryList?.length?null:"value",savedValue:this.juryFilter?.value?.length===this.juryList?.length?null:"value",isSelectionInput:this.juryFilter?.value?.length!==this.juryList?.length},{type:"table_filter",name:"programs_desired",column:"Program Desired",isMultiple:!1,filterValue:this.filteredValues,filterList:null,filterRef:this.programsDesiredFilter,displayKey:null,savedValue:null,isSelectionInput:!1}],this.filterBreadcrumbData)}isAllDropdownSelected(e){if("scholar"===e){const i=this.newScholarFilter.value;return i&&0!==i.length&&i.length===this.scholars.length}if("school"===e){const i=this.schoolsFilter.value;return i&&0!==i.length&&i.length===this.school.length}if("campus"===e){const i=this.campusFilter.value;return i&&0!==i.length&&i.length===this.campusList.length}if("level"===e){const i=this.levelFilter.value;return i&&0!==i.length&&i.length===this.levels.length}if("sector"===e){const i=this.sectorsFilter.value;return i&&0!==i.length&&i.length===this.sectorList.length}if("speciality"===e){const i=this.specialitiesFilter.value;return i&&0!==i.length&&i.length===this.specilityList.length}if("typeOfFormation"===e){const i=this.typeFilter.value;return i&&0!==i.length&&i.length===this.listTypeOfInformation.length}if("finance"===e){const i=this.financeFilter.value;return i&&0!==i.length&&i.length===this.financeList.length}if("jury"===e){const i=this.juryFilter.value;return i&&0!==i.length&&i.length===this.juryList.length}}isSomeDropdownSelected(e){if("scholar"===e){const i=this.newScholarFilter.value;return i&&0!==i.length&&i.length!==this.scholars.length}if("school"===e){const i=this.schoolsFilter.value;return i&&0!==i.length&&i.length!==this.school.length}if("campus"===e){const i=this.campusFilter.value;return i&&0!==i.length&&i.length!==this.campusList.length}if("level"===e){const i=this.levelFilter.value;return i&&0!==i.length&&i.length!==this.levels.length}if("sector"===e){const i=this.sectorsFilter.value;return i&&0!==i.length&&i.length!==this.sectorList.length}if("speciality"===e){const i=this.specialitiesFilter.value;return i&&0!==i.length&&i.length!==this.specilityList.length}if("typeOfFormation"===e){const i=this.typeFilter.value;return i&&0!==i.length&&i.length!==this.listTypeOfInformation.length}if("finance"===e){const i=this.financeFilter.value;return i&&0!==i.length&&i.length!==this.financeList.length}if("jury"===e){const i=this.juryFilter.value;return i&&0!==i.length&&i.length!==this.juryList.length}}selectAllData(e,i){if("scholar"===i)this.newScholarFilter.patchValue(this.currentScholar,{emitEvent:!1});else if("school"===i)if(e.checked){const n=this.school.map(a=>a._id);this.schoolsFilter.patchValue(n,{emitEvent:!1})}else this.schoolsFilter.patchValue(null,{emitEvent:!1});else if("campus"===i)if(e.checked){const n=this.campusList.map(a=>a.name);this.campusFilter.patchValue(n,{emitEvent:!1})}else this.campusFilter.patchValue(null,{emitEvent:!1});else if("level"===i)if(e.checked){const n=this.levels.map(a=>a.name);this.levelFilter.patchValue(n,{emitEvent:!1})}else this.levelFilter.patchValue(null,{emitEvent:!1});else if("sector"===i)if(e.checked){const n=this.sectorList.map(a=>a._id);this.sectorsFilter.patchValue(n,{emitEvent:!1})}else this.sectorsFilter.patchValue(null,{emitEvent:!1});else if("speciality"===i)if(e.checked){const n=this.specilityList.map(a=>a._id);this.specialitiesFilter.patchValue(n,{emitEvent:!1})}else this.specialitiesFilter.patchValue(null,{emitEvent:!1});else if("typeOfFormation"===i)if(this.isMultipleFilter=!0,e.checked){const n=this.listTypeOfInformation.map(a=>a._id);this.typeFilter.patchValue(n,{emitEvent:!1})}else this.typeFilter.patchValue(null,{emitEvent:!1});else if("finance"===i)if(this.isMultipleFilter=!0,e.checked){const n=this.financeList.map(a=>a.value);this.financeFilter.patchValue(n,{emitEvent:!1})}else this.financeFilter.patchValue(null,{emitEvent:!1});else if("jury"===i)if(this.isMultipleFilter=!0,e.checked){const n=this.juryList.map(a=>a.value);this.juryFilter.patchValue(n,{emitEvent:!1})}else this.juryFilter.patchValue(null,{emitEvent:!1})}onFilterSelectMultiple(e){if(this.isMultipleFilter){this.isMultipleFilter=!1;const i="type_of_formations"===e?this.typeFilter.value:"financial_situations"===e?this.financeFilter.value:"jury_decisions"===e?this.juryFilter.value:null;this.filteredValues[e]=i?.length?i:null,this.paginator.pageIndex=0,this.selection.clear(),this.dataSelected=[],this.isCheckedAll=!1,this.isReset||this.getAssignmentData()}}displayTooltip(e,i,n){if(e?.length&&i?.length){const a=i.filter(l=>e.includes(l[n]));if(a?.length)return a.map(l=>l?.label)?.join(", ")}}}return s.\u0275fac=function(e){return new(e||s)(t.\u0275\u0275directiveInject(N.e),t.\u0275\u0275directiveInject(_t.YI),t.\u0275\u0275directiveInject(V.o),t.\u0275\u0275directiveInject(E.uw),t.\u0275\u0275directiveInject(w.sK),t.\u0275\u0275directiveInject($.w),t.\u0275\u0275directiveInject(R.t),t.\u0275\u0275directiveInject(Ct.J),t.\u0275\u0275directiveInject(vt.$),t.\u0275\u0275directiveInject(bt.N),t.\u0275\u0275directiveInject(f.UntypedFormBuilder),t.\u0275\u0275directiveInject(I.F0),t.\u0275\u0275directiveInject(xt.p),t.\u0275\u0275directiveInject(O.p),t.\u0275\u0275directiveInject(st.eN),t.\u0275\u0275directiveInject(St.q),t.\u0275\u0275directiveInject(Ot.Z))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["ms-assignment-readmission"]],viewQuery:function(e,i){if(1&e&&(t.\u0275\u0275viewQuery(D.NW,7),t.\u0275\u0275viewQuery(P.YE,7)),2&e){let n;t.\u0275\u0275queryRefresh(n=t.\u0275\u0275loadQuery())&&(i.paginator=n.first),t.\u0275\u0275queryRefresh(n=t.\u0275\u0275loadQuery())&&(i.sort=n.first)}},features:[t.\u0275\u0275ProvidersFeature([$.w,R.t])],decls:147,vars:138,consts:[[3,"filterBreadcrumbData","isReadmission","removeFilterTrigger"],[1,"p-grid","p-align-baseline",2,"position","relative"],[1,"p-col-fixed","no-padding",2,"width","130px","float","left","padding-right","15px !important"],["class","float-label",4,"ngIf"],["bindValue","_id","bindLabel","short_name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["ng-option-tmp",""],[4,"ngIf"],["bindValue","name","bindLabel","name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],["bindValue","_id","bindLabel","name",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","close"],[1,"p-col-fixed","no-padding",2,"float","left","padding-right","15px !important","margin-top","13px"],["mat-button","","mat-raised-button","","color","accent",3,"disabled","click"],["class","inner-loading-indicator",4,"ngIf"],[2,"margin-top","15px"],[1,"horizontal","header-button","header-action"],[1,"text-right",2,"display","inline-block","float","right"],["mat-raised-button","","color","accent",2,"padding","0px 7px !important",3,"matTooltip","disabled","matMenuTriggerFor"],["action","matMenu"],["mat-menu-item","",1,"border-button",3,"matTooltip","click"],["mat-menu-item","","class","border-button",3,"matTooltip","click",4,"ngIf"],["mat-menu-item","","aria-hidden","true","class","border-button",3,"matTooltip","click",4,"ngIf"],["mat-menu-item","","aria-hidden","true",3,"matTooltip","click",4,"ngIf"],["matTooltipPosition","above","mat-raised-button","","color","primary",3,"disabled","matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"matTooltip","disabled","click",4,"ngIf"],[1,"p-grid",2,"float","left"],[1,"text-right",2,"padding-top","2px"],[1,"select-above"],["bindValue","_id","bindLabel","scholar_season",1,"custom-dropdownpanel",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable"],[1,"text-right","text-count"],["style","font-family: 'firaSans' !important",4,"ngIf"],[1,"horizontal","mat-elevation-z8","finance-table"],["mat-table","","matSort","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","reset"],["mat-header-cell","","colspan","100%","class","action-header-column text-right",4,"matHeaderCellDef"],["matColumnDef","select","sticky",""],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","selectFilter","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","numberFilter"],["matColumnDef","nameFilter"],["matColumnDef","intakeChannelFilter"],["matColumnDef","currentProgramFilter"],["matColumnDef","typeFilter"],["matColumnDef","financeFilter"],["matColumnDef","juryFilter"],["matColumnDef","desiredFilter"],["mat-header-cell","","style","padding-right: 1rem",4,"matHeaderCellDef"],["matColumnDef","actionFilter","stickyEnd",""],["matColumnDef","source"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","","class","pad-l-xs",3,"matTooltip",4,"matCellDef"],["matColumnDef","student_number"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","intake_channel"],["mat-cell","","style","text-align: start; padding-left: 0.5rem !important",3,"matTooltip",4,"matCellDef"],["matColumnDef","program"],["mat-cell","","class","pad-l-xs","style","text-align: start; padding-left: 0.5rem !important",3,"matTooltip",4,"matCellDef"],["matColumnDef","type_of_formation"],["matColumnDef","financial_situation"],["matColumnDef","jury_decision"],["matColumnDef","program_desired"],["matColumnDef","action","stickyEnd",""],["mat-cell","","class","pad-l-xs",4,"matCellDef"],["matColumnDef","loading"],["mat-header-cell","","colspan","100%","style","text-align: center !important",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",3,"ngClass",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],[3,"title","showConfirmButton"],["exportConfirmSwal",""],["class","",4,"swalPartial"],[1,"float-label"],["type","checkbox",3,"id","ngModel"],["ng-header-tmp",""],[1,"all-input",2,"cursor","pointer",3,"checked","indeterminate","change"],[1,"inner-loading-indicator"],["color","accent",3,"diameter"],["mat-menu-item","","aria-hidden","true",1,"border-button",3,"matTooltip","click"],["mat-menu-item","","aria-hidden","true",3,"matTooltip","click"],["matTooltipPosition","above","mat-raised-button","","color","primary",3,"disabled","matTooltip","click"],["svgIcon","file-excel-outline",1,"mat-icon-svgIcon"],["mat-raised-button","","color","primary",3,"matTooltip","disabled","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],[2,"font-family","'firaSans' !important"],["mat-header-cell","","colspan","100%",1,"action-header-column","text-right"],[1,"p-grid"],[1,"p-col-12","no-padding","text-right"],["mat-header-cell","",1,"text-center"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"text-center"],[3,"checked","aria-label","click","change"],["mat-header-cell",""],["matInput","",1,"form-field",3,"formControl","placeholder"],["bindValue","_id","bindLabel","label",1,"custom-dropdownpanel-tableassignment",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","matTooltip","close"],[1,"no-padding",2,"width","100%","float","left","padding-right","15px !important"],["bindValue","value","bindLabel","label",1,"custom-dropdownpanel-tableassignment",3,"items","appendTo","multiple","notFoundText","placeholder","formControl","clearable","closeOnSelect","matTooltip","close"],["mat-header-cell","",2,"padding-right","1rem"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],[2,"text-align","center !important"],["mat-cell","",1,"pad-l-xs",3,"matTooltip"],["mat-sort-header","candidate_unique_number",2,"text-align","center !important"],[1,"mat-icon-status"],["mat-cell","",3,"matTooltip"],["mat-cell","",2,"text-align","start","padding-left","0.5rem !important",3,"matTooltip"],["mat-cell","",1,"pad-l-xs",2,"text-align","start","padding-left","0.5rem !important",3,"matTooltip"],[1,"tw-flex","tw-justify-center","type-formation-header"],[1,"img-responsive","engagement-level-icon",3,"src"],["aria-hidden","true",1,"mat-icon-status",3,"ngClass"],["mat-cell","",1,"pad-l-xs"],["mat-icon-button","","class","margin-right-button",3,"matTooltip","disabled","click",4,"ngIf"],["mat-icon-button","",1,"margin-right-button",3,"matTooltip","disabled","click"],["svgIcon","clipboard-check"],["svgIcon","eye"],["mat-header-cell","","colspan","100%",2,"text-align","center !important"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-header-row","",3,"hidden"],["mat-row","",3,"hidden"],[1,"no-records",3,"ngClass"],[1,""],["color","accent",1,"full-wid"],["matInput","",3,"ngModel","placeholder","ngModelChange"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){if(1&e&&(t.\u0275\u0275elementStart(0,"ms-filter-breadcrumb",0),t.\u0275\u0275listener("removeFilterTrigger",function(a){return i.removeFilterBreadcrumb(a)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",1)(2,"div",2),t.\u0275\u0275template(3,Et,3,3,"label",3),t.\u0275\u0275elementStart(4,"ng-select",4),t.\u0275\u0275listener("close",function(){return i.checkSuperFilterSchool()}),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275template(7,Dt,3,5,"ng-template",5),t.\u0275\u0275template(8,wt,1,0,null,6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",2),t.\u0275\u0275template(10,Mt,3,3,"label",3),t.\u0275\u0275elementStart(11,"ng-select",7),t.\u0275\u0275listener("close",function(){return i.checkSuperFilterCampus()}),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275template(14,Pt,2,3,"ng-template",5),t.\u0275\u0275template(15,Lt,1,0,null,6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(16,"div",2),t.\u0275\u0275template(17,Bt,3,3,"label",3),t.\u0275\u0275elementStart(18,"ng-select",7),t.\u0275\u0275listener("close",function(){return i.checkSuperFilterLevel()}),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275template(21,Rt,2,3,"ng-template",5),t.\u0275\u0275template(22,Vt,1,0,null,6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",2),t.\u0275\u0275template(24,Ut,3,3,"label",3),t.\u0275\u0275elementStart(25,"ng-select",8),t.\u0275\u0275listener("close",function(){return i.checkSuperFilterSector()}),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275template(28,jt,2,3,"ng-template",5),t.\u0275\u0275template(29,$t,1,0,null,6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(30,"div",2),t.\u0275\u0275template(31,Ht,3,3,"label",3),t.\u0275\u0275elementStart(32,"ng-select",8),t.\u0275\u0275listener("close",function(){return i.checkSuperFilterSpecialities()}),t.\u0275\u0275pipe(33,"translate"),t.\u0275\u0275pipe(34,"translate"),t.\u0275\u0275template(35,Wt,2,3,"ng-template",5),t.\u0275\u0275template(36,Jt,1,0,null,6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(37,"div",9)(38,"button",10),t.\u0275\u0275listener("click",function(){return i.applySuperFilter()}),t.\u0275\u0275text(39),t.\u0275\u0275pipe(40,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(41,Gt,2,1,"div",11),t.\u0275\u0275elementStart(42,"div",12)(43,"div",13)(44,"div",14)(45,"button",15),t.\u0275\u0275pipe(46,"translate"),t.\u0275\u0275text(47),t.\u0275\u0275pipe(48,"translate"),t.\u0275\u0275elementStart(49,"mat-icon"),t.\u0275\u0275text(50,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(51,"mat-menu",null,16)(53,"button",17),t.\u0275\u0275listener("click",function(){return i.buttonClicked="financial",i.controllerButton("financial")}),t.\u0275\u0275pipe(54,"translate"),t.\u0275\u0275text(55),t.\u0275\u0275pipe(56,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(57,Qt,4,6,"button",18),t.\u0275\u0275template(58,Yt,4,6,"button",19),t.\u0275\u0275template(59,Xt,4,6,"button",19),t.\u0275\u0275template(60,Zt,4,6,"button",19),t.\u0275\u0275template(61,qt,4,6,"button",20),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(62,te,5,8,"button",21),t.\u0275\u0275template(63,ee,5,7,"button",22),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(64,"div",23)(65,"span",24),t.\u0275\u0275text(66),t.\u0275\u0275pipe(67,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(68,"div",25)(69,"ng-select",26),t.\u0275\u0275pipe(70,"translate"),t.\u0275\u0275pipe(71,"translate"),t.\u0275\u0275template(72,ie,2,3,"ng-template",5),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(73,"div",27),t.\u0275\u0275template(74,ne,3,4,"span",28),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(75,"div",29)(76,"table",30),t.\u0275\u0275listener("matSortChange",function(a){return i.sortData(a)}),t.\u0275\u0275elementContainerStart(77,31),t.\u0275\u0275template(78,se,3,0,"th",32),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(79,33),t.\u0275\u0275template(80,ae,2,3,"th",34),t.\u0275\u0275template(81,le,2,2,"td",35),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(82,36),t.\u0275\u0275template(83,oe,1,0,"th",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(84,38),t.\u0275\u0275template(85,re,4,4,"th",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(86,39),t.\u0275\u0275template(87,ce,4,4,"th",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(88,40),t.\u0275\u0275template(89,de,4,4,"th",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(90,41),t.\u0275\u0275template(91,pe,4,4,"th",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(92,42),t.\u0275\u0275template(93,ge,6,14,"th",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(94,43),t.\u0275\u0275template(95,ve,7,14,"th",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(96,44),t.\u0275\u0275template(97,Oe,6,14,"th",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(98,45),t.\u0275\u0275template(99,Fe,4,4,"th",46),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(100,47),t.\u0275\u0275template(101,ye,1,0,"th",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(102,48),t.\u0275\u0275template(103,Te,5,6,"th",49),t.\u0275\u0275template(104,Ae,5,8,"td",50),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(105,51),t.\u0275\u0275template(106,Ee,5,3,"th",49),t.\u0275\u0275template(107,De,2,2,"td",52),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(108,53),t.\u0275\u0275template(109,Ie,5,6,"th",49),t.\u0275\u0275template(110,we,6,10,"td",50),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(111,54),t.\u0275\u0275template(112,Me,5,6,"th",49),t.\u0275\u0275template(113,Pe,3,4,"td",55),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(114,56),t.\u0275\u0275template(115,ke,5,6,"th",49),t.\u0275\u0275template(116,Le,2,2,"td",57),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(117,58),t.\u0275\u0275template(118,Be,4,4,"th",49),t.\u0275\u0275template(119,Ne,2,2,"td",52),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(120,59),t.\u0275\u0275template(121,Ve,5,6,"th",49),t.\u0275\u0275template(122,je,5,9,"td",50),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(123,60),t.\u0275\u0275template(124,Ke,5,6,"th",49),t.\u0275\u0275template(125,$e,4,6,"td",50),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(126,61),t.\u0275\u0275template(127,He,5,6,"th",49),t.\u0275\u0275template(128,We,2,2,"td",50),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(129,62),t.\u0275\u0275template(130,ze,5,6,"th",49),t.\u0275\u0275template(131,Ye,4,3,"td",63),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(132,64),t.\u0275\u0275template(133,Xe,3,0,"th",65),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(134,Ze,1,0,"tr",66),t.\u0275\u0275template(135,qe,1,0,"tr",66),t.\u0275\u0275template(136,ti,1,1,"tr",67),t.\u0275\u0275template(137,ei,1,1,"tr",68),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(138,ii,3,6,"div",69),t.\u0275\u0275pipe(139,"async"),t.\u0275\u0275elementStart(140,"div",70),t.\u0275\u0275pipe(141,"async"),t.\u0275\u0275element(142,"mat-paginator",71),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(143,"swal",72,73),t.\u0275\u0275pipe(145,"translate"),t.\u0275\u0275template(146,ni,20,19,"div",74),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275reference(52);t.\u0275\u0275property("filterBreadcrumbData",i.filterBreadcrumbData)("isReadmission",!0),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==i.schoolsFilter?null:i.schoolsFilter.value)&&0!==(null==i.schoolsFilter||null==i.schoolsFilter.value?null:i.schoolsFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(5,90,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(6,92,"ADMISSION.TABLE_ADMISSION_CHANNEL.School")),t.\u0275\u0275property("items",i.school)("appendTo","body")("multiple",!0)("formControl",i.schoolsFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==i.school?null:i.school.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==i.campusFilter?null:i.campusFilter.value)&&0!==(null==i.campusFilter||null==i.campusFilter.value?null:i.campusFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(12,94,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(13,96,"ADMISSION.TABLE_ADMISSION_CHANNEL.Campus")),t.\u0275\u0275property("items",i.campusList)("appendTo","body")("multiple",!0)("formControl",i.campusFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==i.campusList?null:i.campusList.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==i.levelFilter?null:i.levelFilter.value)&&0!==(null==i.levelFilter||null==i.levelFilter.value?null:i.levelFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(19,98,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(20,100,"ADMISSION.TABLE_ADMISSION_CHANNEL.Level")),t.\u0275\u0275property("items",i.levels)("appendTo","body")("multiple",!0)("formControl",i.levelFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==i.levels?null:i.levels.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==i.sectorsFilter?null:i.sectorsFilter.value)&&0!==(null==i.sectorsFilter||null==i.sectorsFilter.value?null:i.sectorsFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(26,102,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(27,104,"ADMISSION.TABLE_ADMISSION_CHANNEL.Sector")),t.\u0275\u0275property("items",i.sectorList)("appendTo","body")("multiple",!0)("formControl",i.sectorsFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==i.sectorList?null:i.sectorList.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==i.specialitiesFilter?null:i.specialitiesFilter.value)&&0!==(null==i.specialitiesFilter||null==i.specialitiesFilter.value?null:i.specialitiesFilter.value.length)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(33,106,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(34,108,"ADMISSION.TABLE_ADMISSION_CHANNEL.Speciality")),t.\u0275\u0275property("items",i.specilityList)("appendTo","body")("multiple",!0)("formControl",i.specialitiesFilter)("clearable",!1)("closeOnSelect",!1),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==i.specilityList?null:i.specilityList.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",i.isDisabled||i.isWaitingForResponse),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(40,110,"Apply Filter")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.isLoading),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(46,112,"Action")," "),t.\u0275\u0275property("disabled",i.isWaitingForResponse)("matMenuTriggerFor",n),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(48,114,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(54,116,"Financial situation")," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(56,118,"Financial situation")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.permission.importFileInReadmissionAssignment()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permission.assignmentEditJuryDecision()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permission.assignmentEditProgramDesired()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permission.assignmentAssignProgramMultiple()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permission.assignmentSendEmail()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permission.assignmentExport()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.permission.assignmentReset()),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(67,120,"Assignment Please select a scholar season")),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("notFoundText",t.\u0275\u0275pipeBind1(70,122,"NOT RECORD FOUND")),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(71,124,"CARDDETAIL.Scholar Season")),t.\u0275\u0275property("items",i.scholars)("appendTo","body")("multiple",!1)("formControl",i.newScholarFilter)("clearable",!1),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",(null==i.dataSelected?null:i.dataSelected.length)||i.isCheckedAll&&i.dataCount),t.\u0275\u0275advance(2),t.\u0275\u0275property("dataSource",i.dataSource),t.\u0275\u0275advance(58),t.\u0275\u0275property("matHeaderRowDef",i.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",i.filterColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(132,si)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",i.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(139,126,i.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(133,at,t.\u0275\u0275pipeBind1(141,128,i.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(135,ai,i.paginator.length<=10))("length",i.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(137,li)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(145,130,"Export Title")),t.\u0275\u0275property("showConfirmButton",!1)}},dependencies:[S.mk,S.O5,b.lW,Ft.oG,x.Hw,C.KE,F.Nt,et.VK,et.OP,et.p6,D.NW,U.Ou,P.YE,P.nU,T.BZ,T.fO,T.as,T.w1,T.Dz,T.nj,T.ge,T.ev,T.XQ,T.Gk,yt.gM,f.DefaultValueAccessor,f.CheckboxControlValueAccessor,f.NgControlStatus,f.NgModel,f.FormControlDirective,Tt.oO,At.r,W.w9,W.ir,W.Cm,it.q1,it.sC,S.Ov,S.gd,w.X$],styles:['.top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.items-center[_ngcontent-%COMP%]{display:flex;align-items:center}.finance-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:unset!important}.header-action[_ngcontent-%COMP%]{font-family:firaSans!important;height:50px;padding:8px;background:#424242}.text-info[_ngcontent-%COMP%]{margin:0;display:flex;flex-direction:row;align-items:center;justify-content:center;margin-left:.25rem}.red[_ngcontent-%COMP%]{color:#ff4040}.green[_ngcontent-%COMP%]{color:#adff2f}.horizontal[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#212121}.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:50px;background:#eaa11c!important}.hide[_ngcontent-%COMP%]{display:none}.mat-form-field[_ngcontent-%COMP%]{padding-left:.5rem!important}.pad-top-miss[_ngcontent-%COMP%]{padding-top:1.8px!important}.form-field[_ngcontent-%COMP%]{margin-top:.5px}.tag-container[_ngcontent-%COMP%]{white-space:normal;text-align:left!important;line-height:2.3;overflow-wrap:break-word}.green[_ngcontent-%COMP%]{color:#adff2f}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:2%;min-width:28px;padding-left:0!important}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:5%;font-size:14px;font-weight:400!important;min-width:90px;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:80%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:10%;font-size:14px;font-weight:400!important;min-width:135px;padding-left:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:14%;padding-left:.5rem!important;font-size:14px;font-weight:400!important;min-width:174px}[_nghost-%COMP%]     table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(4) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:15%;padding-left:.5rem!important;font-size:14px;font-weight:400!important;min-width:90px;max-width:100px}[_nghost-%COMP%]     table tr td:nth-child(5) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(5) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(5) .ng-select, [_nghost-%COMP%]     table tr th:nth-child(5) .ng-select{padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){width:15%;padding-left:.5rem!important;font-size:14px;font-weight:400!important;min-width:115px;max-width:115px}[_nghost-%COMP%]     table tr td:nth-child(6) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(6) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(6) .ng-select, [_nghost-%COMP%]     table tr th:nth-child(6) .ng-select{padding-right:.5em!important}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){width:8%;padding-left:.5rem!important;font-size:14px;font-weight:400!important;min-width:120px;max-width:120px;text-align:center}[_nghost-%COMP%]     table tr td:nth-child(7) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(7) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){width:14%;padding-left:.5rem!important;font-size:14px;font-weight:400!important;min-width:174px;max-width:174px}[_nghost-%COMP%]     table tr td:nth-child(8) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(8) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(8) .ng-select, [_nghost-%COMP%]     table tr th:nth-child(8) .ng-select{padding-right:.5rem!important}[_nghost-%COMP%]     table tr td:nth-child(9), [_nghost-%COMP%]     table tr th:nth-child(9){width:14%;padding-left:.5rem!important;font-size:14px;font-weight:400!important;min-width:148px}[_nghost-%COMP%]     table tr td:nth-child(9) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(9) .mat-form-field{width:100%}[_nghost-%COMP%]     table tr td:nth-child(10), [_nghost-%COMP%]     table tr th:nth-child(10){width:14%;padding-left:.5rem!important;font-size:14px;font-weight:400!important;min-width:174px;text-align:center}[_nghost-%COMP%]     table tr td:nth-child(10) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(10) .mat-form-field{width:100%}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding-top:.5em;padding-bottom:.5em}[_nghost-%COMP%]     table tr td:nth-child(2){padding-left:0!important;padding-right:0!important;vertical-align:middle;text-align:center;justify-content:center;margin:auto}[_nghost-%COMP%]     table tr th{vertical-align:top}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(1) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(1){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(1), [_nghost-%COMP%]     table thead tr:nth-child(2){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(1) th, [_nghost-%COMP%]     table thead tr:nth-child(2) th{color:#fff}[_nghost-%COMP%]     table td.mat-cell:last-of-type{padding-right:0!important}.red[_ngcontent-%COMP%]{color:#ff4040}.person-image[_ngcontent-%COMP%]{display:inline-block;margin-right:0;height:18px;width:18px;vertical-align:baseline}.action-header-column[_ngcontent-%COMP%]{vertical-align:middle!important;padding-right:0!important}.action-header-column[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:unset!important}.left-margin[_ngcontent-%COMP%]{margin-left:3%}[_nghost-%COMP%]     .swal2-checkbox label, .swal2-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em!important}.school-backdrop[_ngcontent-%COMP%] + .cdk-overlay-pane[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:visible}.mat-column-select[_ngcontent-%COMP%]{overflow:initial}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.pc-section[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:5px;display:inline-block}.cr-section[_ngcontent-%COMP%]{width:50%;text-align:left;display:inline-block}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid #d1d1d1!important;min-height:40px;align-items:end;padding-bottom:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding:0}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{color:#000}.top-wraper[_ngcontent-%COMP%]{display:flex;gap:1rem}.update-info[_ngcontent-%COMP%]{display:table}.update-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:table-row;margin-bottom:0}.update-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:table-cell;padding-right:10px}.status[_ngcontent-%COMP%]{padding:.25rem .5rem;background-color:green;color:#fff;font-size:.75rem;border-radius:.375rem;cursor:pointer}.status-re[_ngcontent-%COMP%]{padding:.25rem .5rem;background-color:#f49f36;color:#fff;font-size:.75rem;border-radius:.375rem;cursor:pointer}.ml-2[_ngcontent-%COMP%]{margin-left:.5rem}.admission-button[_ngcontent-%COMP%]{background:#4aa744!important}.icon-menu[_ngcontent-%COMP%]{margin-left:-2px;margin-top:-5px;margin-right:0!important;width:18px!important;font-size:20px}.icon-menu-add[_ngcontent-%COMP%]{font-size:22px!important;margin-left:-3px!important;margin-top:-4px;margin-right:0!important;width:18px!important}.menu-icon[_ngcontent-%COMP%]{font-size:18px!important;margin-top:-4px!important}.border-button[_ngcontent-%COMP%]{border-bottom:1px solid #dadada!important}  .custom-matselect-dropdown.mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}  .custom-style-ngselect-readmission.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{white-space:normal!important}  .custom-style-ngselect-readmission.ng-dropdown-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;width:auto!important}[_nghost-%COMP%]  .filterPanel{margin-top:25px!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr, [_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border:none!important}[_nghost-%COMP%]  .ng-select .ng-select-container{background-color:#fff0;color:#fff;border:none;border-radius:0!important;border-bottom:1px solid rgb(241,241,241)!important;min-height:36px;align-items:center}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-select-container{border-bottom:1px solid #f44336!important}[_nghost-%COMP%]  .ng-select.ng-invalid.ng-touched .ng-placeholder{color:#f44336!important}[_nghost-%COMP%]  .mat-select-arrow-wrapper{padding-right:5px}[_nghost-%COMP%]  .mat-select-value-text{margin-left:10px;font-size:13px}[_nghost-%COMP%]  .ng-select{margin-bottom:16px;padding-top:3px}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container .ng-input>input{color:#fff;box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;padding-left:0!important;width:100%}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:0!important}[_nghost-%COMP%]  .ng-select .ng-select-container .ng-value-container{padding-left:0!important}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container, .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:14px!important}.ng-select-custom-header[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]  .ng-select .ng-dropdown-panel{text-align:left!important;font-size:15px!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:nowrap!important}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:transparent;color:#fff}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value:not(:nth-last-child(2)):after{content:","}[_nghost-%COMP%]  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}[_nghost-%COMP%]  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-placeholder{font-size:16px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container{width:12px;height:12px;margin-left:7px}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background{background-color:transparent}  .all-input .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-checkmark .mat-checkbox-checkmark-path{stroke:#000!important}  .all-input.mat-checkbox-indeterminate .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background .mat-checkbox-mixedmark{background-color:#000!important}.super-filter[_ngcontent-%COMP%]{width:250px}.float-label[_ngcontent-%COMP%]{font-size:.82rem;color:#ffffff78;font-weight:600;position:absolute;top:-3px}  .filterPanel{margin-top:25px!important}  .ng-dropdown-panel.custom-dropdownpanel{width:-moz-fit-content!important;width:fit-content!important}.text-count[_ngcontent-%COMP%]{display:inline-block;float:left;padding-top:4px}  .ng-dropdown-panel.custom-dropdownpanel-tableassignment{width:-moz-fit-content!important;width:fit-content!important}  .ng-dropdown-panel.custom-dropdownpanel-tableassignment .ng-dropdown-panel-items .ng-option{white-space:normal!important}  .custom-dropdownpanel-tableassignment .ng-dropdown-header,   .custom-dropdownpanel .ng-dropdown-header{margin-left:0!important;border-bottom:1px solid #ccc!important}.select-above[_ngcontent-%COMP%]{position:relative;bottom:5px;width:150px;padding:0 15px}.type-formation-header[_ngcontent-%COMP%]{text-align:center!important}']}),s})()}];let ri=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=t.\u0275\u0275defineInjector({imports:[I.Bz.forChild(oi),I.Bz]}),s})();var ci=p(93730);let di=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=t.\u0275\u0275defineInjector({imports:[S.ez,ci.m,ri,W.A0,it.ii.forRoot()]}),s})()},34031:(lt,j,p)=>{p.d(j,{t:()=>w});var S=p(24006),I=p(65938),J=p(68745),f=p(35226),D=p.n(f),P=p(17489),d=p(94650),m=p(52688),G=p(610),Q=p(79710),K=p(89383),M=p(96334),k=p(36895),B=p(73555),L=p(3238),v=p(4859),$=p(97392),R=p(59549),Y=p(51572),X=p(84385);const E=["mobileNumber"];function t(O,A){if(1&O&&(d.\u0275\u0275elementStart(0,"mat-option",19),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&O){const b=A.$implicit;d.\u0275\u0275property("value",b.key),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,2,b.key))}}function N(O,A){1&O&&(d.\u0275\u0275elementStart(0,"mat-error"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&O&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"This field is required")))}function V(O,A){1&O&&(d.\u0275\u0275elementStart(0,"div",20),d.\u0275\u0275element(1,"mat-progress-spinner",21),d.\u0275\u0275elementEnd())}let w=(()=>{class O{constructor(b,x,C,F,U,Z,q,tt){this.parentData=b,this.fb=x,this.dialogRef=C,this.authService=F,this.router=U,this.candidateService=Z,this.translate=q,this.coreService=tt,this.subs=new J.Y,this.typeList=[{key:"admitted_for_next_year",value:"Admitted for next year"},{key:"admitted_for_retake",value:"Admitted for retake"},{key:"admitted_for_repetition",value:"Admitted for repetition"},{key:"excluded",value:"Excluded"},{key:"graduated",value:"Graduated"},{key:"admitted_if_internship_is_validated",value:"Admitted if internship is validated"},{key:"waiting_for_jury",value:"Waiting for jury"}],this.isWaitingForResponse=!1}ngOnInit(){this.initForm(),1===this.parentData.data.length&&this.juryDecisionForm.patchValue(this.parentData.data[0]),this.typeList=this.typeList.sort((b,x)=>this.translate.instant(b.key).toLowerCase().localeCompare(this.translate.instant(x.key).toLowerCase()))}initForm(){this.juryDecisionForm=this.fb.group({jury_decision:["",[S.Validators.required]]})}checkFormValidity(){return!!this.juryDecisionForm.invalid&&(D().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),this.juryDecisionForm.markAllAsTouched(),!0)}submit(){if(this.checkFormValidity())return;this.isWaitingForResponse=!0;const b=P.cloneDeep(this.juryDecisionForm.value);this.updateJuryDecision(this.parentData.id,b)}updateJuryDecision(b,x){if(this.parentData?.select_all)this.subs.sink=this.candidateService.UpdateManyJuryDecision(this.parentData?.filter,this.parentData?.select_all,this.parentData?.is_readmission,x).subscribe(C=>{this.isWaitingForResponse=!1,D().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(C)})},C=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(C),C&&C.message&&C.message.includes("Network error: Http failure response for")?D().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):D().fire({type:"info",title:this.translate.instant("SORRY"),text:C&&C.message?this.translate.instant(C.message.replaceAll("GraphQL error: ","")):C,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})});else{const C=this.getCandidateEditJury(this.parentData?.data,this.parentData?.from);this.subs.sink=this.candidateService.UpdateJuryDecisionCandidates(C,x).subscribe(F=>{this.isWaitingForResponse=!1,D().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close(F)})},F=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(F),F&&F.message&&F.message.includes("Network error: Http failure response for")?D().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):D().fire({type:"info",title:this.translate.instant("SORRY"),text:F&&F.message?this.translate.instant(F.message.replaceAll("GraphQL error: ","")):F,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}}getCandidateEditJury(b,x){return b?.map(C=>"readmission_follow_up"===x?{scholar_season_id:C?.latest_previous_program?.scholar_season_id?._id,candidate_id:C?._id}:{scholar_season_id:C?.intake_channel?.scholar_season_id?._id,candidate_id:C?._id})}ngOnDestroy(){this.subs.unsubscribe()}closeDialog(){this.dialogRef.close()}}return O.\u0275fac=function(b){return new(b||O)(d.\u0275\u0275directiveInject(I.WI),d.\u0275\u0275directiveInject(S.UntypedFormBuilder),d.\u0275\u0275directiveInject(I.so),d.\u0275\u0275directiveInject(m.e),d.\u0275\u0275directiveInject(G.F0),d.\u0275\u0275directiveInject(Q.o),d.\u0275\u0275directiveInject(K.sK),d.\u0275\u0275directiveInject(M.p))},O.\u0275cmp=d.\u0275\u0275defineComponent({type:O,selectors:[["ms-edit-jury-decision-dialog"]],viewQuery:function(b,x){if(1&b&&d.\u0275\u0275viewQuery(E,5),2&b){let C;d.\u0275\u0275queryRefresh(C=d.\u0275\u0275loadQuery())&&(x.mobileNumberInput=C.first)}},decls:32,vars:19,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialog-border"],[1,"dialogTitleWrapper"],[1,"p-grid"],[1,"p-col-10","no-padding"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","tabindex","-1",1,"close-icon","float-right",3,"click"],["mat-dialog-content","",1,"mat-dialog-content","dialog-body",2,"overflow","hidden !important"],[3,"formGroup"],[1,"p-grid",2,"margin-bottom","0.5em"],[1,"p-col-12","pad-y-none",2,"align-self","center"],[1,"full-wid"],["formControlName","jury_decision","required","",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end","mr-10"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-button","","mat-raised-button","","color","primary",1,"mr-0",3,"click"],["class","loading-indicator",4,"ngIf"],[3,"value"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(b,x){1&b&&(d.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),d.\u0275\u0275text(5),d.\u0275\u0275pipe(6,"translate"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(7,"div",5)(8,"button",6),d.\u0275\u0275listener("click",function(){return x.closeDialog()}),d.\u0275\u0275elementStart(9,"mat-icon"),d.\u0275\u0275text(10,"close"),d.\u0275\u0275elementEnd()()()()()(),d.\u0275\u0275elementStart(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"p"),d.\u0275\u0275text(16),d.\u0275\u0275pipe(17,"translate"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(18,"div",10)(19,"mat-form-field",11)(20,"mat-select",12),d.\u0275\u0275pipe(21,"translate"),d.\u0275\u0275template(22,t,3,4,"mat-option",13),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(23,N,3,3,"mat-error",14),d.\u0275\u0275elementEnd()()()()(),d.\u0275\u0275elementStart(24,"div",15)(25,"button",16),d.\u0275\u0275listener("click",function(){return x.closeDialog()}),d.\u0275\u0275text(26),d.\u0275\u0275pipe(27,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(28,"button",17),d.\u0275\u0275listener("click",function(){return x.submit()}),d.\u0275\u0275text(29),d.\u0275\u0275pipe(30,"translate"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275template(31,V,2,0,"div",18)),2&b&&(d.\u0275\u0275advance(5),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(6,9,"Edit Jury Decision")),d.\u0275\u0275advance(7),d.\u0275\u0275property("formGroup",x.juryDecisionForm),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(17,11,"Please select the jury decision")),d.\u0275\u0275advance(4),d.\u0275\u0275propertyInterpolate("placeholder",d.\u0275\u0275pipeBind1(21,13,"Jury Decision")),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngForOf",x.typeList),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",x.juryDecisionForm.get("jury_decision").hasError("required")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(27,15,"CANCEL")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(30,17,"Submit")," "),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",x.isWaitingForResponse))},dependencies:[k.sg,k.O5,B.Zt,B.Bh,L.ey,v.lW,I.xY,I.H8,$.Hw,R.TO,R.KE,Y.Ou,X.gD,S.NgControlStatus,S.NgControlStatusGroup,S.RequiredValidator,S.FormGroupDirective,S.FormControlName,K.X$],styles:[".dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black}.no-padding[_ngcontent-%COMP%]{padding:0}.float-right[_ngcontent-%COMP%]{float:right}.mt-15[_ngcontent-%COMP%]{margin-top:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.header-dialog[_ngcontent-%COMP%]{margin-top:15px}.mat-dialog-content[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:15px;padding:0}.w-30[_ngcontent-%COMP%]{width:30px}.w-65[_ngcontent-%COMP%]{width:100px}.mt-5px[_ngcontent-%COMP%]{margin-top:5px}[_nghost-%COMP%]  .mat-select-panel{max-width:-moz-fit-content!important;max-width:fit-content!important}"]}),O})()}}]);