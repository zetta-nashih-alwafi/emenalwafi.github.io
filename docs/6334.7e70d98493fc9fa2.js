"use strict";(self.webpackChunkGene=self.webpackChunkGene||[]).push([[6334],{75223:(j,B,g)=>{g.d(B,{r:()=>R});var n=g(94650),k=g(89383),y=g(36895),C=g(97392);function l(c,_){1&c&&(n.\u0275\u0275elementStart(0,"span",12),n.\u0275\u0275text(1," , "),n.\u0275\u0275elementEnd())}function u(c,_){if(1&c&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275template(3,l,2,0,"span",11),n.\u0275\u0275elementContainerEnd()),2&c){const o=_.$implicit,x=_.last;n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,2,o)," "),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",!x)}}function p(c,_){if(1&c){const o=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"mat-icon",13),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(o);const O=n.\u0275\u0275nextContext(3),w=O.$implicit,T=O.index,S=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(S.removeFilter(w,T))}),n.\u0275\u0275text(1,"close"),n.\u0275\u0275elementEnd()}}function m(c,_){if(1&c&&(n.\u0275\u0275elementStart(0,"span",9),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275template(3,u,4,4,"ng-container",7),n.\u0275\u0275template(4,p,2,0,"mat-icon",10),n.\u0275\u0275elementEnd()),2&c){const o=n.\u0275\u0275nextContext(2).$implicit,x=n.\u0275\u0275nextContext(3);n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1("",n.\u0275\u0275pipeBind1(2,3,null==o?null:o.column)," : "),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",null==o?null:o.key),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!(x.isReadmission&&"scholar_season"===(null==o?null:o.name)))}}function h(c,_){if(1&c){const o=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"mat-icon",13),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(o);const O=n.\u0275\u0275nextContext(3),w=O.$implicit,T=O.index,S=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(S.removeFilter(w,T))}),n.\u0275\u0275text(1,"close"),n.\u0275\u0275elementEnd()}}function f(c,_){if(1&c&&(n.\u0275\u0275elementStart(0,"span",9),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275template(4,h,2,0,"mat-icon",10),n.\u0275\u0275elementEnd()),2&c){const o=n.\u0275\u0275nextContext(2).$implicit,x=n.\u0275\u0275nextContext(3);n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate2("",n.\u0275\u0275pipeBind1(2,3,null==o?null:o.column)," : ",n.\u0275\u0275pipeBind1(3,5,null==o?null:o.key)," "),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngIf",!(x.isReadmission&&"scholar_season"===(null==o?null:o.name)))}}function v(c,_){if(1&c&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,m,5,5,"span",8),n.\u0275\u0275template(2,f,5,7,"span",8),n.\u0275\u0275elementContainerEnd()),2&c){const o=n.\u0275\u0275nextContext().$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==o?null:o.isMultiple),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!(null!=o&&o.isMultiple))}}function F(c,_){if(1&c&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,v,3,2,"ng-container",1),n.\u0275\u0275elementContainerEnd()),2&c){const o=_.$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","super_filter"===(null==o?null:o.type))}}function P(c,_){if(1&c&&(n.\u0275\u0275elementStart(0,"div",4)(1,"span",5),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"span"),n.\u0275\u0275text(5,":"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"span",6),n.\u0275\u0275template(7,F,2,1,"ng-container",7),n.\u0275\u0275elementEnd()()),2&c){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275property("ngClass","en"===o.translate.currentLang?"filter-type":"filter-type-fr"),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1("",n.\u0275\u0275pipeBind1(3,3,"Super Filter")," "),n.\u0275\u0275advance(5),n.\u0275\u0275property("ngForOf",o.filterBreadcrumbData)}}function t(c,_){1&c&&(n.\u0275\u0275elementStart(0,"span",12),n.\u0275\u0275text(1," , "),n.\u0275\u0275elementEnd())}function I(c,_){if(1&c&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275template(3,t,2,0,"span",11),n.\u0275\u0275elementContainerEnd()),2&c){const o=_.$implicit,x=_.last,O=n.\u0275\u0275nextContext(3).$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",null!=O&&O.noTranslate?o:n.\u0275\u0275pipeBind1(2,2,o)," "),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",!x)}}function E(c,_){if(1&c){const o=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"span",9),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275template(4,I,4,4,"ng-container",7),n.\u0275\u0275elementStart(5,"mat-icon",13),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(o);const O=n.\u0275\u0275nextContext(2),w=O.$implicit,T=O.index,S=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(S.removeFilter(w,T))}),n.\u0275\u0275text(6,"close"),n.\u0275\u0275elementEnd()()}if(2&c){const o=n.\u0275\u0275nextContext(2).$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1("",null!=o&&o.stepColumnName?n.\u0275\u0275pipeBind1(2,2,null==o?null:o.stepColumnName)+" "+(null==o?null:o.column):n.\u0275\u0275pipeBind1(3,4,null==o?null:o.column)," : "),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngForOf",null==o?null:o.key)}}function N(c,_){if(1&c){const o=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"span",9),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275pipe(4,"translate"),n.\u0275\u0275elementStart(5,"mat-icon",13),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(o);const O=n.\u0275\u0275nextContext(2),w=O.$implicit,T=O.index,S=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(S.removeFilter(w,T))}),n.\u0275\u0275text(6,"close"),n.\u0275\u0275elementEnd()()}if(2&c){const o=n.\u0275\u0275nextContext(2).$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate2("",null!=o&&o.stepColumnName?n.\u0275\u0275pipeBind1(2,2,null==o?null:o.stepColumnName)+" "+(null==o?null:o.column):n.\u0275\u0275pipeBind1(3,4,null==o?null:o.column)," : ",!0===(null==o?null:o.noTranslate)?null==o?null:o.key:n.\u0275\u0275pipeBind1(4,6,null==o?null:o.key)," ")}}function A(c,_){if(1&c&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,E,7,6,"span",8),n.\u0275\u0275template(2,N,7,8,"span",8),n.\u0275\u0275elementContainerEnd()),2&c){const o=n.\u0275\u0275nextContext().$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==o?null:o.isMultiple),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!(null!=o&&o.isMultiple))}}function D(c,_){if(1&c&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,A,3,2,"ng-container",1),n.\u0275\u0275elementContainerEnd()),2&c){const o=_.$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","table_filter"===(null==o?null:o.type))}}function L(c,_){if(1&c&&(n.\u0275\u0275elementStart(0,"div",14)(1,"span",5),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"span"),n.\u0275\u0275text(5,":"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"span",6),n.\u0275\u0275template(7,D,2,1,"ng-container",7),n.\u0275\u0275elementEnd()()),2&c){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275property("ngClass","en"===o.translate.currentLang?"filter-type":"filter-type-fr"),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1("",n.\u0275\u0275pipeBind1(3,3,"Table Filter")," "),n.\u0275\u0275advance(5),n.\u0275\u0275property("ngForOf",o.filterBreadcrumbData)}}function V(c,_){if(1&c){const o=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275elementStart(1,"span",9),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementStart(4,"mat-icon",13),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(o);const O=n.\u0275\u0275nextContext(),w=O.$implicit,T=O.index,S=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(S.removeFilter(w,T))}),n.\u0275\u0275text(5,"close"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementContainerEnd()}if(2&c){const o=n.\u0275\u0275nextContext().$implicit;n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate1("",n.\u0275\u0275pipeBind1(3,1,null==o?null:o.key)," ")}}function U(c,_){if(1&c&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,V,6,3,"ng-container",1),n.\u0275\u0275elementContainerEnd()),2&c){const o=_.$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","action_filter"===(null==o?null:o.type))}}function z(c,_){if(1&c&&(n.\u0275\u0275elementStart(0,"div",14)(1,"span",5),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"span"),n.\u0275\u0275text(5,":"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"span",6),n.\u0275\u0275template(7,U,2,1,"ng-container",7),n.\u0275\u0275elementEnd()()),2&c){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275property("ngClass","en"===o.translate.currentLang?"filter-type":"filter-type-fr"),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1("",n.\u0275\u0275pipeBind1(3,3,"Action Filter")," "),n.\u0275\u0275advance(5),n.\u0275\u0275property("ngForOf",o.filterBreadcrumbData)}}function H(c,_){if(1&c&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,P,8,5,"div",2),n.\u0275\u0275template(2,L,8,5,"div",3),n.\u0275\u0275template(3,z,8,5,"div",3),n.\u0275\u0275elementContainerEnd()),2&c){const o=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",o.filterDataExist("super_filter")),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",o.filterDataExist("table_filter")),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",o.filterDataExist("action_filter"))}}let R=(()=>{class c{constructor(o){this.translate=o,this.removeFilterTrigger=new n.EventEmitter}ngOnInit(){}filterDataExist(o){return!!this.filterBreadcrumbData.find(O=>O?.type===o)}removeFilter(o,x){this.filterBreadcrumbData.splice(x,1),this.removeFilterTrigger.emit(o)}}return c.\u0275fac=function(o){return new(o||c)(n.\u0275\u0275directiveInject(k.sK))},c.\u0275cmp=n.\u0275\u0275defineComponent({type:c,selectors:[["ms-filter-breadcrumb"]],inputs:{filterBreadcrumbData:"filterBreadcrumbData",isReadmission:"isReadmission"},outputs:{removeFilterTrigger:"removeFilterTrigger"},decls:2,vars:1,consts:[[1,"filter-breadcrumb"],[4,"ngIf"],["class","filter-breadcrumb-container mt-10",4,"ngIf"],["class","filter-breadcrumb-container",4,"ngIf"],[1,"filter-breadcrumb-container","mt-10"],[3,"ngClass"],[1,"breadcrumb-value"],[4,"ngFor","ngForOf"],["class","breadcrumb-filter",4,"ngIf"],[1,"breadcrumb-filter"],["class","icon-remove",3,"click",4,"ngIf"],["class","comma",4,"ngIf"],[1,"comma"],[1,"icon-remove",3,"click"],[1,"filter-breadcrumb-container"]],template:function(o,x){1&o&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275template(1,H,4,3,"ng-container",1),n.\u0275\u0275elementEnd()),2&o&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==x.filterBreadcrumbData?null:x.filterBreadcrumbData.length))},dependencies:[y.mk,y.sg,y.O5,C.Hw,k.X$],styles:[".filter-breadcrumb[_ngcontent-%COMP%]{padding:1rem}.filter-breadcrumb-container[_ngcontent-%COMP%]{display:flex;align-items:baseline}.filter-breadcrumb-container[_ngcontent-%COMP%] ~ .filter-breadcrumb-container[_ngcontent-%COMP%]{margin-top:1rem}.breadcrumb-value[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:0 1rem;gap:4px}.filter-type[_ngcontent-%COMP%]{width:100px}.filter-type-fr[_ngcontent-%COMP%]{width:150px}.breadcrumb-filter[_ngcontent-%COMP%]{background-color:#ffd740;color:#000;padding:.25rem .5rem;border-radius:.375rem;font-size:.75rem;display:flex;flex-wrap:wrap;align-items:center}.comma[_ngcontent-%COMP%]{margin-right:4px}.icon-remove[_ngcontent-%COMP%]{vertical-align:middle;margin-left:.25rem;font-size:inherit;cursor:pointer}"]}),c})()},22437:(j,B,g)=>{g.d(B,{q:()=>k});var n=g(94650);let k=(()=>{class y{constructor(){this.filterSingle=(l,u,p,m,h="")=>null==u?"":h+l?.find(f=>f[p]===u)?.[m],this.filterSingleBoolean=(l,u,p,m,h="")=>null==u?"":h+l?.find(f=>"boolean"==typeof f[p]?JSON.stringify(f[p])===u:"string"==typeof f[p]?f[p]===u:void 0)?.[m],this.filterMultiple=(l,u,p,m,h="")=>u?.length?null===p&&null===m?l.filter(f=>u?.includes(f)).map(f=>h+f):l.filter(f=>u?.includes(f[p]))?.map(f=>h+f[m]):[],this.isValueObject=l=>"object"==typeof l&&!Array.isArray(l)&&null!==l,this.getNestedObjectValue=(l,u)=>{for(const p in l){if(p===u)return l[u];if(this.isValueObject(l[u]))return this.getNestedObjectValue(l[p],u)}},this.getKey=l=>{if(null===l?.filterValue)return null;const u=null===l?.name?l?.filterValue:"boolean"==typeof l?.filterValue?.[l?.name]?String(l?.filterValue?.[l.name]):l.filterValue?.[l.name],p=l.isMultiple,m=l.isSelectionInput,h=l?.fixedValues,f=l?.translationPrefix??"";if(null==u)return null;if(!m&&this.isValueObject(u)&&l?.nestedKey)return f+this.getNestedObjectValue(u,l.nestedKey);if(!m)return f+u;let v;if(h)if(Array.isArray(u))v=h?.filter(P=>u?.includes(P));else if("string"==typeof u||"boolean"==typeof u)return v=h?.find(P=>u===P),v;const F=p?this.filterMultiple(l.filterList,u,l.savedValue,l.displayKey,l.translationPrefix):"boolean"==typeof l?.filterValue?.[l?.name]||"false"===l?.filterValue?.[l?.name]||"true"===l?.filterValue?.[l?.name]?this.filterSingleBoolean(l.filterList,u,l.savedValue,l.displayKey,l.translationPrefix):this.filterSingle(l.filterList,u,l.savedValue,l.displayKey,l.translationPrefix);return p&&v?F.concat(...h):F}}filterBreadcrumb(l,u){const{type:p,column:m}=l,h=u.findIndex(f=>f?.type===p&&f?.column===m);-1!==h?(u[h]=l,!(Array.isArray(u[h]?.value)?u[h]?.value?.length:u[h]?.value)&&!(Array.isArray(u[h]?.key)?u[h]?.key?.length:u[h]?.key)&&u.splice(h,1)):(-1===h&&Array.isArray(l?.value)?l?.value?.length:l?.value)&&u.push(l)}removeFilterBreadcrumb(l,u,p,m,h=!1){"super_filter"===l.type&&u?u[l.name]=null:"table_filter"===l.type&&p?p[l.name]=null:"action_filter"===l.type&&m&&(m[l.name]=null),l?.filterRef?.patchValue(l?.resetValue??null,{emitEvent:h})}filterBreadcrumbFormat(l,u){const p=[...u];for(const m of l){const h=null===m.name?m?.filterValue:"boolean"==typeof m?.filterValue?.[m.name]?String(m?.filterValue?.[m.name]):m?.filterValue?.[m.name],f={type:m.type,name:m.name,column:m.column,filterList:m?.filterList,value:h||null,isMultiple:m.isMultiple,filterRef:m.filterRef,resetValue:m.resetValue,noTranslate:m?.noTranslate,stepColumnName:m?.stepColumnName,key:this.getKey(m)};this.filterBreadcrumb(f,p)}return p}}return y.\u0275fac=function(l){return new(l||y)},y.\u0275prov=n.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},36334:(j,B,g)=>{g.r(B),g.d(B,{CampusModule:()=>Yt});var n=g(36895),k=g(610),y=g(25360),C=g(24006),l=g(68745),u=g(35226),p=g.n(u),m=g(17489),h=g(98739),f=g(96308),v=g(53626),F=g(95017),P=g(65938),t=g(94650),I=g(72194),E=g(89383),N=g(52688),A=g(73555),D=g(4859),L=g(97392),V=g(88796);function U(i,d){1&i&&(t.\u0275\u0275elementStart(0,"span",18),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"This field is required")," "))}let z=(()=>{class i{constructor(e,a,r,s,b,M){this.dialogRef=e,this.intakeChannelService=a,this.data=r,this.translate=s,this.fb=b,this.authService=M,this.subs=new l.Y,this.listOriginSite=[],this.dataSiteList=[]}ngOnInit(){this.initForm(),this.getAllSite(),console.log("this.data",this.data),this.data&&this.data.allData&&(this.campusData=m.cloneDeep(this.data.allData),this.populateData(m.cloneDeep(this.data)))}getAllSite(){this.subs.sink=this.intakeChannelService.GetAllSites().subscribe(e=>{if(e&&e.length&&(this.listOriginSite=m.cloneDeep(e),this.data&&this.data.allData&&this.data.allData.sites)){const a=this.data.allData.sites.map(s=>s.site_id._id),r=this.listOriginSite.filter(s=>!a.includes(s._id));this.dataSiteList=m.cloneDeep(r.sort((s,b)=>s.name.toLowerCase()>b.name.toLowerCase()?1:b.name.toLowerCase()>s.name.toLowerCase()?-1:0)),this.data.dataRow&&this.data.dataRow.site_id&&this.dataSiteList.push(this.data.dataRow.site_id)}},e=>{this.authService.postErrorLog(e)})}initForm(){this.campusSiteForm=this.fb.group({_id:[null,C.Validators.required]}),this.campusForm=this.fb.group({sites:this.fb.array([])})}campussArray(){return this.campusForm.get("sites")}initCampus(){return this.fb.group({site_id:[null],is_main_address:[!1]})}addCampus(){this.campussArray().push(this.initCampus())}removeCampus(e){this.campussArray().removeAt(e)}populateData(e){const a=this.campusForm.get("sites").value;for(let s=m.cloneDeep(a).length-1;s>=0;s--)this.removeCampus(s);e&&e.allData&&e.allData.sites&&e.allData.sites.length&&(e.allData.sites.forEach(s=>{this.addCampus()}),e.allData.sites=e.allData.sites.map(s=>({site_id:s.site_id._id,is_main_address:s.is_main_address}))),console.log("data",e),this.campusForm.patchValue(e.allData),e.dataRow&&e.dataRow.site_id&&this.campusSiteForm.get("_id").setValue(e.dataRow.site_id._id),console.log("data",e,this.campusForm.value,this.campusSiteForm.value)}saveCampus(){if(this.campusSiteForm.invalid)return p().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),html:this.translate.instant("Invalid_Form_Warning.TEXT"),confirmButtonText:this.translate.instant("Invalid_Form_Warning.BUTTON")}),void this.campusForm.markAllAsTouched();const e=m.cloneDeep(this.campusForm.value);if(this.data.dataRow){if(this.campusSiteForm.get("_id").value){const r={site_id:this.campusSiteForm.get("_id").value,is_main_address:!1},s=this.data.allData.sites.findIndex(b=>b.site_id._id===this.data.dataRow.site_id._id);s>=0&&(e.sites[s]=r),console.log("idx",s,this.data,r,e)}}else if(this.campusSiteForm.get("_id").value){const r={site_id:this.campusSiteForm.get("_id").value,is_main_address:!1};e.sites.push(r)}const a=this.dataSiteList.find(r=>r._id===this.campusSiteForm.get("_id").value);this.data.allData._id&&(console.log(e),this.subs.sink=this.intakeChannelService.UpdateCampus(e,this.data.allData._id).subscribe(r=>{r&&p().fire({type:"success",title:this.translate.instant("CAMPUS_S5.Title"),html:this.translate.instant("CAMPUS_S5.Text",{site:a.name,campus:this.data.allData.name}),confirmButtonText:this.translate.instant("CAMPUS_S5.Button1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.dialogRef.close()})},r=>{this.authService.postErrorLog(r),r&&r.message&&r.message.includes("Network error: Http failure response for")?p().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):p().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),text:r&&r.message?this.translate.instant(r.message.replaceAll("GraphQL error: ","")):r,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(P.so),t.\u0275\u0275directiveInject(I.p),t.\u0275\u0275directiveInject(P.WI),t.\u0275\u0275directiveInject(E.sK),t.\u0275\u0275directiveInject(C.UntypedFormBuilder),t.\u0275\u0275directiveInject(N.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-add-site-campus-dialog"]],decls:31,vars:16,consts:[[1,"dialog-border"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"dialogTitleWrapper"],[1,"p-grid"],[1,"w-30","no-padding"],[2,"vertical-align","middle"],[1,"p-col-10","acad-title"],[1,"dialogTitle"],[1,"w-65","no-padding"],["mat-icon-button","","mat-dialog-close","","tabindex","-1",1,"close-icon","float-right"],[3,"formGroup"],[1,"fontColor"],[1,"p-col-12","no-padding"],[1,"p-col","no-padding","custom-input"],["aria-required","true","bindLabel","name","bindValue","_id","clearAllText","Clear","formControlName","_id",1,"mrgn-btn","custom-ngselect-dropdown",3,"items","appendTo","placeholder"],["style","color: #f44336; font-size: 75%; margin: 0",4,"ngIf"],["align","right"],["mat-raised-button","","type","button","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[2,"color","#f44336","font-size","75%","margin","0"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.\u0275\u0275text(5,"location_on"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",5)(7,"h3",6),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",7)(11,"button",8)(12,"mat-icon"),t.\u0275\u0275text(13,"close"),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(14,"form",9)(15,"div",10)(16,"mat-dialog-content")(17,"div",2)(18,"div",11)(19,"div",2)(20,"div",12),t.\u0275\u0275element(21,"ng-select",13),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275template(23,U,3,3,"span",14),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(24,"mat-dialog-actions",15)(25,"button",16),t.\u0275\u0275text(26),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(28,"button",17),t.\u0275\u0275listener("click",function(){return a.saveCampus()}),t.\u0275\u0275text(29),t.\u0275\u0275pipe(30,"translate"),t.\u0275\u0275elementEnd()()()()),2&e&&(t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,8,"Choose a site")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",a.campusSiteForm),t.\u0275\u0275advance(7),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(22,10,"Choose a site")),t.\u0275\u0275property("items",a.dataSiteList)("appendTo","body"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.campusSiteForm.get("_id").hasError("required")&&(a.campusSiteForm.get("_id").touched||a.campusSiteForm.get("_id").dirty)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(27,12,"FORM_BUILDER.Cancel")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(30,14,"FORM_BUILDER.Validate")," "))},dependencies:[n.O5,A.Zt,A.Bh,D.lW,P.ZT,P.xY,P.H8,L.Hw,C.\u0275NgNoValidate,C.NgControlStatus,C.NgControlStatusGroup,C.FormGroupDirective,C.FormControlName,V.w9,E.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.mrgn-btn[_ngcontent-%COMP%]{margin-bottom:15px}.icon-style[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1rem;cursor:pointer}.imgContainer[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.imgContainer[_ngcontent-%COMP%]{width:172px;height:200px;line-height:200px;text-align:center;overflow:hidden;position:relative;background-color:transparent}.text[_ngcontent-%COMP%]{width:165px;color:#fff;font-size:20px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;margin-left:0}.no-image[_ngcontent-%COMP%]{height:200px;background-color:#6f6f6f;line-height:200px;color:#fff;text-align:center;cursor:pointer;width:173px}.overlay[_ngcontent-%COMP%]{position:absolute;height:200px;width:173px;bottom:0;opacity:0;transition:.5s ease;background-color:#2f2f2f!important;cursor:pointer}.logo-img-wrapper[_ngcontent-%COMP%]{height:200px;background-color:#6f6f6f;text-align:center;overflow:hidden;position:relative;margin:auto auto auto 0;width:173px}.text-logo-section[_ngcontent-%COMP%]{width:200px;display:flex;justify-content:center}.buttonContainer[_ngcontent-%COMP%]{width:172px;text-align:center}.center-image[_ngcontent-%COMP%]{max-height:100%;max-width:100%;width:auto;height:auto;position:absolute;inset:0;margin:auto;padding:3px}.image-text[_ngcontent-%COMP%]{font-size:larger;font-weight:700;padding-top:1rem}.logo-spinner-wrapper[_ngcontent-%COMP%]{height:200px;width:173px;background-color:#6f6f6f;margin:auto;display:flex;align-items:center}.dialogTitle[_ngcontent-%COMP%]{display:inline-block}.dialogTitleWrapper[_ngcontent-%COMP%]{color:#000}.header-dialog[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px 0 15px}.specialization-pill[_ngcontent-%COMP%]{width:auto;display:inline-block;position:relative;margin-right:5px;padding:5px;background:#4141cd;color:#fff;border-radius:4px;text-align:center;margin-top:5px}.level-pill[_ngcontent-%COMP%]{width:auto;display:inline-block;position:relative;margin-right:5px;padding:5px;background:#ffd740;color:#000;border-radius:4px;text-align:center;margin-top:5px}.icon-mat-change[_ngcontent-%COMP%]{font-size:14px;display:inline-block;position:relative;top:2px}.dialog-border[_ngcontent-%COMP%]{border-bottom:1px solid black;margin-bottom:15px}[_nghost-%COMP%]  .mat-radio-outer-circle{border-color:#0000008a!important}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#0000001f!important}.acad-title[_ngcontent-%COMP%]{padding:0;margin-right:25px}.w-30[_ngcontent-%COMP%]{padding-top:4px!important;margin-right:7px!important}.w-65[_ngcontent-%COMP%]{float:right;position:relative;right:-24px}.no-padding-left[_ngcontent-%COMP%]{padding-left:0!important}.label-align[_ngcontent-%COMP%]{align-self:center}.border-white[_ngcontent-%COMP%]{border:1px solid rgb(116,116,116)}.flex-hidden-mr-1[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow:hidden;margin-right:1rem!important}[_nghost-%COMP%]  .ng-select .ng-select-container{height:36px;border-left:0px!important;border-right:0px!important;border-top:0px!important;border-radius:0!important;width:612px!important;max-width:612px!important}  .custom-ngselect-dropdown.ng-dropdown-panel{width:-moz-fit-content!important;width:fit-content!important}"]}),i})();var H=g(24850),R=g(67154),c=g(84075),_=g(44758),o=g(56709),x=g(59549),O=g(284),w=g(28255),T=g(51572),S=g(10266),G=g(24784);function J(i,d){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",44),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.saveCampus())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"SAVE")))}function q(i,d){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function tt(i,d){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function et(i,d){if(1&i&&(t.\u0275\u0275elementStart(0,"div",10)(1,"mat-form-field",11),t.\u0275\u0275element(2,"input",45),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275template(4,tt,3,3,"mat-error",13),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();let a;t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"Sigle")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.campusForm||null==(a=e.campusForm.get("short_name"))?null:a.hasError("required"))}}function nt(i,d){1&i&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"This field is required")))}function it(i,d){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",53),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.connectSite(""))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTAKE_CHANNEL.Add site")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"INTAKE_CHANNEL.Add site")," "))}function at(i,d){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",46)(1,"div",9)(2,"div",47)(3,"button",48),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"expand_more"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"mat-menu",null,49),t.\u0275\u0275template(11,it,4,6,"button",50),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"button",51),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.resetTable())}),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275element(14,"mat-icon",52),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&i){const e=t.\u0275\u0275reference(10),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate1("matTooltip","",t.\u0275\u0275pipeBind1(4,7,"Action")," "),t.\u0275\u0275property("disabled",a.isWaitingForResponse)("matMenuTriggerFor",e),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,9,"Action")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",a.permission.addSiteCampus()),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(13,11,"Reset Filter")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(16,13,"RESET")," ")}}function ot(i,d){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",54)(1,"mat-checkbox",55),t.\u0275\u0275listener("change",function(r){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r?s.masterToggle():null)})("change",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.showOptions("all"))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.selection.hasValue()&&e.isAllSelected()||e.isCheckedAll)("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function rt(i,d){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",56)(1,"mat-checkbox",57),t.\u0275\u0275listener("click",function(r){return r.stopPropagation()})("change",function(r){const b=t.\u0275\u0275restoreView(e).$implicit,M=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r?M.selection.toggle(b):null)})("change",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.showOptions("one"))}),t.\u0275\u0275elementEnd()()}if(2&i){const e=d.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",a.selection.isSelected(e)||a.isCheckedAll)("aria-label",a.checkboxLabel(e))}}function lt(i,d){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",59),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTAKE_CHANNEL.Name")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"INTAKE_CHANNEL.Name")))}function st(i,d){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=d.$implicit;t.\u0275\u0275property("matTooltip",null==e||null==e.site_id?null:e.site_id.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.site_id?null:e.site_id.name," ")}}function ct(i,d){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",59),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTAKE_CHANNEL.Address")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"INTAKE_CHANNEL.Address")))}function dt(i,d){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=d.$implicit;t.\u0275\u0275property("matTooltip",null==e||null==e.site_id?null:e.site_id.address),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.site_id?null:e.site_id.address," ")}}function pt(i,d){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",59),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTAKE_CHANNEL.Postal code")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"INTAKE_CHANNEL.Postal code")))}function mt(i,d){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=d.$implicit;t.\u0275\u0275property("matTooltip",null==e||null==e.site_id?null:e.site_id.zip_code),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.site_id?null:e.site_id.zip_code," ")}}function gt(i,d){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",59),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTAKE_CHANNEL.City")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"INTAKE_CHANNEL.City")))}function ut(i,d){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=d.$implicit;t.\u0275\u0275property("matTooltip",null==e||null==e.site_id?null:e.site_id.city),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.site_id?null:e.site_id.city," ")}}function ht(i,d){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",59),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTAKE_CHANNEL.Country")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"INTAKE_CHANNEL.Country")))}function _t(i,d){if(1&i&&(t.\u0275\u0275elementStart(0,"td",60),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=d.$implicit;t.\u0275\u0275property("matTooltip",null==e||null==e.site_id?null:e.site_id.country),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==e||null==e.site_id?null:e.site_id.country," ")}}function ft(i,d){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",59),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"INTAKE_CHANNEL.Main address")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"INTAKE_CHANNEL.Main address")))}function Ct(i,d){1&i&&(t.\u0275\u0275elementStart(0,"mat-icon",63),t.\u0275\u0275text(1," lens "),t.\u0275\u0275elementEnd())}function bt(i,d){if(1&i&&(t.\u0275\u0275elementStart(0,"td",61),t.\u0275\u0275template(1,Ct,2,0,"mat-icon",62),t.\u0275\u0275elementEnd()),2&i){const e=d.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.is_main_address)}}function xt(i,d){1&i&&(t.\u0275\u0275elementStart(0,"th",58),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"h5",59),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,2,"Action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"Action")))}function Ot(i,d){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",66),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext().$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.changeMainAddredd(r))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"push_pin"),t.\u0275\u0275elementEnd()()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"INTAKE_CHANNEL.Main address"))}function Mt(i,d){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",67),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.goToSite())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"edit"),t.\u0275\u0275elementEnd()()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Edit"))}function vt(i,d){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",66),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext().$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.removeSiteCampus(r))}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"mat-icon"),t.\u0275\u0275text(3,"delete"),t.\u0275\u0275elementEnd()()}2&i&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Delete"))}function Pt(i,d){if(1&i&&(t.\u0275\u0275elementStart(0,"td",61),t.\u0275\u0275template(1,Ot,4,3,"button",64),t.\u0275\u0275template(2,Mt,4,3,"button",65),t.\u0275\u0275template(3,vt,4,3,"button",64),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.pinSiteCampus()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.editSiteCampus()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.permission.deleteSiteCampus())}}function yt(i,d){1&i&&(t.\u0275\u0275elementStart(0,"th",68)(1,"div",69),t.\u0275\u0275element(2,"mat-spinner",70),t.\u0275\u0275elementEnd()())}function wt(i,d){1&i&&t.\u0275\u0275element(0,"tr",71)}function Tt(i,d){1&i&&t.\u0275\u0275element(0,"tr",71)}function St(i,d){if(1&i&&t.\u0275\u0275element(0,"tr",72),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",!e.isLoading)}}function kt(i,d){if(1&i&&t.\u0275\u0275element(0,"tr",72),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("hidden",e.isLoading)}}const Q=function(i){return{hide:i}};function Et(i,d){if(1&i&&(t.\u0275\u0275elementStart(0,"div",73),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,Q,e.isLoading)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"NOT RECORD FOUND")," ")}}function Bt(i,d){1&i&&(t.\u0275\u0275elementStart(0,"div",74),t.\u0275\u0275element(1,"mat-progress-spinner",75),t.\u0275\u0275elementEnd())}const Ft=function(){return["reset"]},It=function(){return["loading"]},Nt=function(i){return{"hide-pagination-buttons":i}},Dt=function(){return[10]};let X=(()=>{class i{constructor(e,a,r,s,b,M,$,Zt,Jt,qt){this.intakeChannelService=e,this.pageTitleService=a,this.utilService=r,this.translate=s,this.router=b,this.dialog=M,this.fb=$,this.route=Zt,this.permission=Jt,this.authService=qt,this.subs=new l.Y,this.isWaitingForResponse=!1,this.isLoading=!1,this.dataSource=new v.by([]),this.selection=new F.Ov(!0,[]),this.displayedColumns=["select","name","address","postcode","city","country","mainAddress","action"],this.dataLoaded=!1,this.dataCount=0,this.previousLength=0,this.pageSelected=[],this.isCheckedAll=!1,this.disabledExport=!0,this.allDataForCheckbox=[],this.dataSelected=[],this.hideCampusSigle=!1}ngOnInit(){this.pageTitleService.setTitle(this.translate.instant("Campus")),this.subs.sink=this.router.paramMap.subscribe(e=>{this.campusId=e.get("id")}),this.getDataCampus(),this.initForm()}getDataCampus(){this.campusId&&(this.isWaitingForResponse=!0,this.subs.sink=this.intakeChannelService.GetOneCampus(this.campusId).subscribe(e=>{e?(this.campusData=m.cloneDeep(e),this.populateData(m.cloneDeep(e))):(this.dataSource.data=[],this.paginator.length=0,this.dataCount=0),this.noData=this.dataSource.connect().pipe((0,H.U)(a=>0===a.length)),this.isWaitingForResponse=!1},e=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?p().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):p().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}populateData(e){const a=this.campusForm.get("sites").value;for(let s=m.cloneDeep(a).length-1;s>=0;s--)this.removeCampus(s);e&&e.sites&&e.sites.length&&(e.sites.forEach(s=>{this.addCampus()}),e.sites=e.sites.map(s=>({site_id:s.site_id._id,is_main_address:s.is_main_address}))),this.campusForm.patchValue(e),this.firstForm=m.cloneDeep(this.campusForm.value),this.dataSource.data=m.cloneDeep(this.campusData.sites),this.paginator.length=this.campusData.sites.length,this.dataSource.paginator=this.paginator,this.dataCount=this.campusData.sites.length,console.log("data",e,this.campusForm.value),this.refreshTitle()}refreshTable(){this.campusId&&(this.isLoading=!0,this.subs.sink=this.intakeChannelService.GetOneCampus(this.campusId).subscribe(e=>{this.isLoading=!1,e&&(this.campusData=m.cloneDeep(e),this.dataSource.data=m.cloneDeep(this.campusData.sites),this.paginator.length=this.campusData.sites.length,this.dataSource.paginator=this.paginator,this.dataCount=this.campusData.sites.length)},e=>{this.isLoading=!1,this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?p().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):p().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}refreshTitle(){this.campusId?(this.pageTitleService.setTitle(this.translate.instant("Campus")+" - "+this.campusForm.get("name").value),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.pageTitleService.setTitle(this.translate.instant("Campus")+" - "+this.campusForm.get("name").value)})):(this.pageTitleService.setTitle(this.translate.instant("Campus")),this.subs.sink=this.translate.onLangChange.subscribe(e=>{this.pageTitleService.setTitle(this.translate.instant("Campus"))}))}initForm(){this.campusForm=this.fb.group({name:[null,C.Validators.required],short_name:[null,C.Validators.required],analytical_code:[null,C.Validators.required],sites:this.fb.array([])}),this.firstForm=m.cloneDeep(this.campusForm.value)}campussArray(){return this.campusForm.get("sites")}initCampus(){return this.fb.group({site_id:[null],is_main_address:[!1]})}addCampus(){this.campussArray().push(this.initCampus())}removeCampus(e){this.campussArray().removeAt(e)}comparison(){return JSON.stringify(this.firstForm)===JSON.stringify(this.campusForm.value)}isAllSelected(){const e=this.selection.selected.length,a=this.dataSource.data.length;return e===a||e>a}masterToggle(){this.isAllSelected()?(this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.isCheckedAll=!1):(this.selection.clear(),this.dataSelected=[],this.allDataForCheckbox=[],this.isCheckedAll=!0,this.dataSource.data.forEach(e=>this.selection.select(e)))}showOptions(e,a){this.disabledExport=!(this.selection.selected.length>0),this.userSelected=[],this.userSelectedId=[],this.selectType=e,this.selection.selected.forEach(b=>{this.userSelected.push(b),this.userSelectedId.push(b._id)})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}saveCampus(){if(this.campusForm.invalid)return p().fire({type:"warning",title:this.translate.instant("FormSave_S1.TITLE"),html:this.translate.instant("FormSave_S1.TEXT"),confirmButtonText:this.translate.instant("FormSave_S1.BUTTON")}),void this.campusForm.markAllAsTouched();const e=m.cloneDeep(this.campusForm.value);this.hideCampusSigle&&delete e.short_name,this.campusId?(console.log(e),this.isWaitingForResponse=!0,this.subs.sink=this.intakeChannelService.UpdateCampus(e,this.campusId).subscribe(a=>{this.isWaitingForResponse=!1,a&&p().fire({type:"success",title:this.translate.instant("CAMPUS_S6.Title"),html:this.translate.instant("CAMPUS_S6.Text",{campus:this.campusForm.get("name").value}),confirmButtonText:this.translate.instant("CAMPUS_S6.Button1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.getDataCampus()})},a=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(a),"GraphQL error: Short name already use"===a.message?p().fire({title:this.translate.instant("CAMPUS_SIGLE_S1.Title"),html:this.translate.instant("CAMPUS_SIGLE_S1.Text"),type:"warning",showConfirmButton:!0,confirmButtonText:this.translate.instant("CAMPUS_SIGLE_S1.Button1")}):a&&a.message&&a.message.includes("Network error: Http failure response for")?p().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):p().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})):(console.log(e),this.isWaitingForResponse=!0,this.subs.sink=this.intakeChannelService.CreateCampus(e).subscribe(a=>{this.isWaitingForResponse=!1,a&&p().fire({type:"success",title:this.translate.instant("CAMPUS_S6.Title"),html:this.translate.instant("CAMPUS_S6.Text",{campus:this.campusForm.get("name").value}),confirmButtonText:this.translate.instant("CAMPUS_S6.Button1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.route.navigate([`/campus/campus-form/${a._id}`])})},a=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(a),"GraphQL error: Name already exists!"===a.message||"GraphQL error: Campus name already used"===a.message?p().fire({title:this.translate.instant("USERADD_S2.TITLE"),html:this.translate.instant("Name is already exists. Please use another name"),type:"warning",showConfirmButton:!0,confirmButtonText:this.translate.instant("USERADD_S2.BUTTON")}):"GraphQL error: Short name already use"===a.message?p().fire({title:this.translate.instant("CAMPUS_SIGLE_S1.Title"),html:this.translate.instant("CAMPUS_SIGLE_S1.Text"),type:"warning",showConfirmButton:!0,confirmButtonText:this.translate.instant("CAMPUS_SIGLE_S1.Button1")}):a&&a.message&&a.message.includes("Network error: Http failure response for")?p().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):p().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),text:a&&a.message?this.translate.instant(a.message.replaceAll("GraphQL error: ","")):a,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))}checkIfMainAddress(e){return console.log(e),!(!e||!e.is_main_address||(p().fire({title:this.translate.instant("CAMPUS_S7.Title",{site:e.site_id.name,campus:this.campusForm.get("name").value}),html:this.translate.instant("CAMPUS_S7.Text"),type:"info",confirmButtonText:this.translate.instant("CAMPUS_S7.Button1"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}),0))}changeMainAddredd(e){if(this.checkIfMainAddress(e))return;const a=m.cloneDeep(this.campusForm.value);a.sites&&a.sites.length&&(a.sites=a.sites.map(r=>({site_id:r.site_id,is_main_address:!1})),a.sites.forEach((r,s)=>{r.site_id===e.site_id._id&&(a.sites[s].is_main_address=!0)})),console.log("payload change main",a),p().fire({title:this.translate.instant("CAMPUS_S1.Title",{site:e.site_id.name}),html:this.translate.instant("CAMPUS_S1.Text",{site:e.site_id.name,campus:this.campusForm.get("name").value}),type:"info",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("CAMPUS_S1.Button1"),cancelButtonText:this.translate.instant("CAMPUS_S1.Button2"),allowOutsideClick:!1,allowEnterKey:!1}).then(r=>{r.value&&(this.isWaitingForResponse=!0,delete a.name,this.subs.sink=this.intakeChannelService.UpdateCampus(a,this.campusId).subscribe(s=>{this.isWaitingForResponse=!1,s&&p().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.refreshTable()})},s=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(s),s&&s.message&&s.message.includes("Network error: Http failure response for")?p().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):p().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),text:s&&s.message?this.translate.instant(s.message.replaceAll("GraphQL error: ","")):s,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})}))})}removeSiteCampus(e){if(e&&e.is_main_address)return void p().fire({type:"warning",title:this.translate.instant("CAMPUS_S4.Title"),html:this.translate.instant("CAMPUS_S4.Text",{site:e.site_id.name,campus:this.campusForm.get("name").value}),confirmButtonText:this.translate.instant("CAMPUS_S4.Button1")});let a=3;p().fire({title:this.translate.instant("CAMPUS_S3.Title"),html:this.translate.instant("CAMPUS_S3.Text",{site:e.site_id.name,campus:this.campusForm.get("name").value}),type:"info",allowEscapeKey:!0,showCancelButton:!0,confirmButtonText:this.translate.instant("CAMPUS_S3.Button1",{timer:a}),cancelButtonText:this.translate.instant("CAMPUS_S3.Button2"),allowOutsideClick:!1,allowEnterKey:!1,onOpen:()=>{p().disableConfirmButton();const r=p().getConfirmButton(),s=setInterval(()=>{a-=1,r.innerText=this.translate.instant("CAMPUS_S3.Button1")+` (${a})`},1e3);this.timeOutVal=setTimeout(()=>{r.innerText=this.translate.instant("CAMPUS_S3.Button1"),p().enableConfirmButton(),clearInterval(s),clearTimeout(this.timeOutVal)},1e3*a)}}).then(r=>{if(clearTimeout(this.timeOutVal),r.value){const s=this.campusData.sites.findIndex(M=>M.site_id._id===e.site_id._id);this.removeCampus(s);const b=m.cloneDeep(this.campusForm.value);console.log("payload change main",b,s),this.isWaitingForResponse=!0,this.subs.sink=this.intakeChannelService.UpdateCampus(b,this.campusId).subscribe(M=>{this.isWaitingForResponse=!1,M&&p().fire({type:"success",title:this.translate.instant("Bravo!"),confirmButtonText:this.translate.instant("OK"),allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(()=>{this.refreshTable()})},M=>{this.isWaitingForResponse=!1,this.authService.postErrorLog(M),M&&M.message&&M.message.includes("Network error: Http failure response for")?p().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):p().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),text:M&&M.message?this.translate.instant(M.message.replaceAll("GraphQL error: ","")):M,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}})}resetTable(){this.selection.clear(),this.dataSelected=[],this.pageSelected=[],this.isCheckedAll=!1,this.refreshTable()}ngOnDestroy(){clearTimeout(this.timeOutVal),clearInterval(this.intVal),this.subs.unsubscribe()}goToSite(){const e=this.route.createUrlTree(["/site"]);window.open(e.toString(),"_blank")}connectSite(e){e&&e.is_main_address?p().fire({type:"warning",title:this.translate.instant("Invalid_Form_Warning.TITLE"),confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")}):this.subs.sink=this.dialog.open(z,{disableClose:!0,width:"660px",data:{allData:this.campusData,dataRow:e||null}}).afterClosed().subscribe(a=>{this.refreshTable()})}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(I.p),t.\u0275\u0275directiveInject(R.Z),t.\u0275\u0275directiveInject(c.t),t.\u0275\u0275directiveInject(E.sK),t.\u0275\u0275directiveInject(k.gz),t.\u0275\u0275directiveInject(P.uw),t.\u0275\u0275directiveInject(C.UntypedFormBuilder),t.\u0275\u0275directiveInject(k.F0),t.\u0275\u0275directiveInject(_.$),t.\u0275\u0275directiveInject(N.e))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-intake-campus-form"]],viewQuery:function(e,a){if(1&e&&(t.\u0275\u0275viewQuery(v.BZ,5),t.\u0275\u0275viewQuery(h.NW,5),t.\u0275\u0275viewQuery(f.YE,5)),2&e){let r;t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(a.table=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(a.paginator=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(a.sort=r.first)}},decls:73,vars:43,consts:[[3,"formGroup"],[1,"fieldset-class"],[1,"p-grid","save-button-section"],[1,"p-col-12","text-right",2,"padding-right","0px"],["mat-raised-button","","color","warn","type","button","routerLink","/campus"],["mat-raised-button","","color","accent","style","margin-right: 0px",3,"click",4,"ngIf"],[1,"p-grid","yellow-border","card-row","school-detail-fieldset"],[1,"section-header","display-flex"],[1,"p-col-12"],[1,"p-grid"],[1,"p-col-4"],["color","accent",1,"balance-dropdown","full-width"],["matInput","","required","","type","text","formControlName","name",1,"text-white",3,"placeholder"],[4,"ngIf"],["class","p-col-4",4,"ngIf"],["color","accent",1,"full-width","p-top-8"],["type","text","required","","matInput","","formControlName","analytical_code",3,"placeholder"],[1,"p-grid","yellow-border","card-row","rncp-title-fieldset"],[1,"section-header"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","reset"],["mat-header-cell","","colspan","8","class","action-header-column",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","address"],["matColumnDef","postcode"],["matColumnDef","city"],["matColumnDef","country"],["matColumnDef","mainAddress"],["mat-cell","",4,"matCellDef"],["matColumnDef","action"],["matColumnDef","loading"],["mat-header-cell","","colspan","8","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","no-records",3,"ngClass",4,"ngIf"],[3,"ngClass"],["showFirstLastButtons","",3,"ngClass","length","hidePageSize","pageSize"],["class","loading-indicator",4,"ngIf"],["mat-raised-button","","color","accent",2,"margin-right","0px",3,"click"],["matInput","","required","","type","text","formControlName","short_name",1,"text-white",3,"placeholder"],["mat-header-cell","","colspan","8",1,"action-header-column"],[1,"p-col-12","text-right"],["mat-raised-button","","color","accent",2,"padding","0px 7px !important",3,"matTooltip","disabled","matMenuTriggerFor"],["action","matMenu"],["mat-menu-item","",3,"matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary","matTooltipPosition","above",3,"matTooltip","click"],["svgIcon","loop",1,"mat-icon-svgIcon"],["mat-menu-item","",3,"matTooltip","click"],["mat-header-cell","",1,"text-center"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"text-center"],[3,"checked","aria-label","click","change"],["mat-header-cell","","matTooltipPosition","above",3,"matTooltip"],[1,"text-center"],["mat-cell","",3,"matTooltip"],["mat-cell",""],["class","green-icon",4,"ngIf"],[1,"green-icon"],["mat-icon-button","","class","margin-right-button",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","class","margin-right-button","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"margin-right-button",3,"matTooltip","click"],["mat-icon-button","","matTooltipPosition","above",1,"margin-right-button",3,"matTooltip","click"],["mat-header-cell","","colspan","8",1,"text-center"],[1,"center-spinner"],["color","accent"],["mat-header-row",""],["mat-row","",3,"hidden"],[1,"no-records",3,"ngClass"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"form",0)(1,"fieldset",1)(2,"div",2)(3,"div",3)(4,"button",4),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,J,3,3,"button",5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",6)(9,"div",7)(10,"h3"),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(13,"div",8)(14,"div",9)(15,"div",8)(16,"div",9)(17,"div",10)(18,"mat-form-field",11),t.\u0275\u0275element(19,"input",12),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275template(21,q,3,3,"mat-error",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(22,et,5,4,"div",14),t.\u0275\u0275elementStart(23,"div",10)(24,"mat-form-field",15),t.\u0275\u0275element(25,"input",16),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275template(27,nt,3,3,"mat-error",13),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275elementStart(28,"div",17)(29,"div",18)(30,"h3"),t.\u0275\u0275text(31),t.\u0275\u0275pipe(32,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(33,"div",8)(34,"table",19),t.\u0275\u0275elementContainerStart(35,20),t.\u0275\u0275template(36,at,17,15,"th",21),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(37,22),t.\u0275\u0275template(38,ot,2,3,"th",23),t.\u0275\u0275template(39,rt,2,2,"td",24),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(40,25),t.\u0275\u0275template(41,lt,5,6,"th",26),t.\u0275\u0275template(42,st,2,2,"td",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(43,28),t.\u0275\u0275template(44,ct,5,6,"th",26),t.\u0275\u0275template(45,dt,2,2,"td",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(46,29),t.\u0275\u0275template(47,pt,5,6,"th",26),t.\u0275\u0275template(48,mt,2,2,"td",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(49,30),t.\u0275\u0275template(50,gt,5,6,"th",26),t.\u0275\u0275template(51,ut,2,2,"td",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(52,31),t.\u0275\u0275template(53,ht,5,6,"th",26),t.\u0275\u0275template(54,_t,2,2,"td",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(55,32),t.\u0275\u0275template(56,ft,5,6,"th",26),t.\u0275\u0275template(57,bt,2,1,"td",33),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(58,34),t.\u0275\u0275template(59,xt,5,6,"th",26),t.\u0275\u0275template(60,Pt,4,3,"td",33),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(61,35),t.\u0275\u0275template(62,yt,3,0,"th",36),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(63,wt,1,0,"tr",37),t.\u0275\u0275template(64,Tt,1,0,"tr",37),t.\u0275\u0275template(65,St,1,1,"tr",38),t.\u0275\u0275template(66,kt,1,1,"tr",39),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(67,Et,3,6,"div",40),t.\u0275\u0275pipe(68,"async"),t.\u0275\u0275elementStart(69,"div",41),t.\u0275\u0275pipe(70,"async"),t.\u0275\u0275element(71,"mat-paginator",42),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(72,Bt,2,0,"div",43)),2&e){let r,s;t.\u0275\u0275property("formGroup",a.campusForm),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,22,"CANCEL")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.permission.saveSiteCampus()),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(12,24,"INTAKE_CHANNEL.Campus details")),t.\u0275\u0275advance(8),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(20,26,"INTAKE_CHANNEL.Campus name")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.campusForm||null==(r=a.campusForm.get("name"))?null:r.hasError("required")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a.hideCampusSigle),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(26,28,"INTAKE_CHANNEL.Analytical code")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==a.campusForm||null==(s=a.campusForm.get("analytical_code"))?null:s.hasError("required")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(32,30,"Sites")),t.\u0275\u0275advance(3),t.\u0275\u0275property("dataSource",a.dataSource),t.\u0275\u0275advance(29),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(36,Ft)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matHeaderRowDef",t.\u0275\u0275pureFunction0(37,It)),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",a.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(68,32,a.noData)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(38,Q,t.\u0275\u0275pipeBind1(70,34,a.noData))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(40,Nt,a.dataCount<=10))("length",a.dataCount)("hidePageSize",!0)("pageSize",t.\u0275\u0275pureFunction0(42,Dt)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isWaitingForResponse)}},dependencies:[n.mk,n.O5,k.rH,D.lW,o.oG,L.Hw,x.TO,x.KE,O.Nt,w.VK,w.OP,w.p6,h.NW,T.Ou,f.YE,v.BZ,v.fO,v.as,v.w1,v.Dz,v.nj,v.ge,v.ev,v.XQ,v.Gk,S.gM,C.\u0275NgNoValidate,C.DefaultValueAccessor,C.NgControlStatus,C.NgControlStatusGroup,C.RequiredValidator,C.FormGroupDirective,C.FormControlName,G.oO,n.Ov,E.X$],styles:[".top-space[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:inline-table}table[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:table-cell;max-width:0}table[_ngcontent-%COMP%]   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) th{font-weight:400}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:first-child{height:40px}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-child(2){border-top:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table:not(.no-action-header):not(.notif-table) tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}[_nghost-%COMP%]     table.no-action-header th{font-weight:400}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-child(1){border-top:4px solid #607d8b;border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:not(:first-child){border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:nth-last-child(2){border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header thead>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr{border-left:4px solid #607d8b;border-right:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody>tr:last-child{border-bottom:4px solid #607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd){background-color:#607d8b}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(odd) .mat-icon-button{background:#353535;line-height:0!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even){background-color:#353535}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button .mat-icon{line-height:1!important}[_nghost-%COMP%]     table.no-action-header tbody tr:nth-child(even) .mat-icon-button{background:#607d8b;line-height:0!important}.horizontal[_ngcontent-%COMP%]{overflow:auto}.child-tab-font[_ngcontent-%COMP%]{font-size:.8rem}.center-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none!important}.header-div[_ngcontent-%COMP%]{border-bottom:1px solid black;display:flex;padding:1rem}.header-text[_ngcontent-%COMP%]{color:#000;margin-left:1rem;margin-bottom:0!important}.header-icon[_ngcontent-%COMP%]{align-self:center;margin-left:auto!important;background-color:transparent!important}.baseline-align[_ngcontent-%COMP%]{align-items:baseline}.admtc-table-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2.8em;font-size:1.2em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-table-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.5em;margin-right:.3em}.admtc-normal-button[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]{min-width:7em;height:2em;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif!important}.admtc-normal-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%]   .mat-icon[svgicon][_ngcontent-%COMP%]{margin-top:.3em;margin-right:.2em}.background-accent[_ngcontent-%COMP%], button.yellow-button-normal.mat-raised-button[_ngcontent-%COMP%], button.yellow-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#fdd835!important;color:#000000de}.background-warn[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.background-success[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.background-primary[_ngcontent-%COMP%]{background-color:#607d8b!important;color:#fff}.background-medium-grey[_ngcontent-%COMP%]{background-color:#424242!important;color:#fff}.background-black[_ngcontent-%COMP%]{background-color:#212121!important;color:#fff}button.blue-patina-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#607d8b!important}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{background-color:#fdd835}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffc10780}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.15rem}[_nghost-%COMP%]     mat-form-field.mat-form-field-should-float label{font-size:18px;font-weight:600;color:#000}.status-icon[_ngcontent-%COMP%], .red-icon[_ngcontent-%COMP%], .purple-icon[_ngcontent-%COMP%], .black-icon[_ngcontent-%COMP%], .greenyellow-icon[_ngcontent-%COMP%], .yellow-icon[_ngcontent-%COMP%], .green-icon[_ngcontent-%COMP%]{font-size:25px;width:30px}.is-loading[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{display:flex;justify-content:center}.display-flex[_ngcontent-%COMP%]{display:flex}.green-icon[_ngcontent-%COMP%]{color:#4caf50}.yellow-icon[_ngcontent-%COMP%]{color:#ff0}.greenyellow-icon[_ngcontent-%COMP%]{color:#adff2f}.black-icon[_ngcontent-%COMP%]{color:#000}.purple-icon[_ngcontent-%COMP%]{color:purple}.red-icon[_ngcontent-%COMP%], .red-text[_ngcontent-%COMP%]{color:red}.text-white[_ngcontent-%COMP%]{color:#fff}.greenyellow-text[_ngcontent-%COMP%]{color:#adff2f!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center}.tags[_ngcontent-%COMP%]{background-color:#fdd835;color:#000;padding:3px 5px;border-radius:3px;margin-right:5px}.p-grid[_ngcontent-%COMP%]{margin-right:unset!important;margin-left:unset!important;margin-top:unset!important}.add-btn[_ngcontent-%COMP%]{background:#fdd835;width:10rem}.color[_ngcontent-%COMP%]{background:#607d8b;width:10rem}.alignment[_ngcontent-%COMP%]{text-align:right;padding-right:0}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:50px;border:1px solid #b8b8b8;background:white;color:#000}.fontColor[_ngcontent-%COMP%]{color:#000}.yellow-border[_ngcontent-%COMP%]{border:2px solid #fdd835}.silver-border[_ngcontent-%COMP%]{border:2px solid whitesmoke}.red-border[_ngcontent-%COMP%]{border:2px solid red}.certification-rule-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}.one-time-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{width:800px!important}.dark-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#303030}.grey-mode-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{color:#fff;background:#7c7c7c}.view-step-validation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{max-height:590px}.image-preview-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.231372549);box-shadow:none;padding:0;overflow:hidden}.pass-fail-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0 24px 18px}.expected-doc-task[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:16px!important;overflow:visible}.no-padding-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible}.questionnaire-simulation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:scroll;width:60vw;max-height:90vh;background-color:#607d8b;color:#fff}.reply-message-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px}.send-pro-evaluation-pop-up[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;min-height:430px;visibility:hidden}.banner-connect-snackbar[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;max-height:0!important}.editor-background-white[_ngcontent-%COMP%]{background-color:#fafafa;color:#000}.editor-background-white[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important}.small-text-fieldset[_ngcontent-%COMP%]{font-size:12px}.small-icon[_ngcontent-%COMP%]{transform:scale(.6)}.padding-0[_ngcontent-%COMP%]{padding:0!important}.mt-1rem[_ngcontent-%COMP%]{margin-top:1rem}.mr-1rem[_ngcontent-%COMP%]{margin-right:1rem}.mb-1rem[_ngcontent-%COMP%]{margin-bottom:1rem}.ellipsis-one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.span-block[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:block;max-width:-webkit-fill-available;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dialog-title[_ngcontent-%COMP%]{color:#000}.icon-self-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.dialog-body[_ngcontent-%COMP%]{color:#000}.no-padding[_ngcontent-%COMP%]{padding:0!important}.no-padding-x[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.no-padding-y[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.no-padding-r[_ngcontent-%COMP%]{padding-right:0!important}.no-padding-l[_ngcontent-%COMP%]{padding-left:0!important}.no-padding-t[_ngcontent-%COMP%]{padding-top:0!important}.no-padding-b[_ngcontent-%COMP%]{padding-bottom:0!important}.no-margin[_ngcontent-%COMP%]{margin:0}.align-center[_ngcontent-%COMP%]{text-align:center}.align-end[_ngcontent-%COMP%]{text-align:end}.one-line-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:7px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:#00000080;box-shadow:0 0 1px #ffffff80;-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}.ckeditor-small[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:140px!important;max-height:140px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-medium[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important;border:1px solid rgba(0,0,0,.5)!important}.ckeditor-big[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:500px!important;max-height:500px!important}.ckeditor-white-background[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.custom-dialog-container-publishable-doc[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{overflow:unset;padding:15px}.align-input-field[_ngcontent-%COMP%]{margin-bottom:9px}.hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-first[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-previous[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-next[_ngcontent-%COMP%], .hide-pagination-buttons[_ngcontent-%COMP%]   .mat-paginator-navigation-last[_ngcontent-%COMP%]{display:none!important}.clickable[_ngcontent-%COMP%]{cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.flex-layout-row-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;box-sizing:border-box}.section-header[_ngcontent-%COMP%]{background-color:#363636;margin-top:-1.6rem;padding-left:1rem;padding-right:1rem}.no-image[_ngcontent-%COMP%]{height:200px;background-color:#6f6f6f;line-height:200px;color:#fff;text-align:center;cursor:pointer;width:173px}.imgContainer[_ngcontent-%COMP%]{width:auto;height:200px;line-height:200px;text-align:center;overflow:hidden;position:relative;background-color:transparent}.imgContainer[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.school-details-img[_ngcontent-%COMP%]{display:block;width:100%;height:auto}.text[_ngcontent-%COMP%]{width:165px;color:#fff;font-size:20px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;margin-left:0}.overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:200px;width:173px;opacity:0;transition:.5s ease;background-color:#2f2f2f;cursor:pointer}.logo-img-wrapper[_ngcontent-%COMP%]{height:200px;background-color:#6f6f6f;text-align:center;overflow:hidden;position:relative;margin:auto auto auto 0;width:173px}.center-image[_ngcontent-%COMP%]{max-height:100%;max-width:100%;width:auto;height:auto;position:absolute;inset:0;margin:auto;padding:3px}.card-row[_ngcontent-%COMP%]{padding:8px}.balance-dropdown[_ngcontent-%COMP%]{margin-top:8px}.save-button-section[_ngcontent-%COMP%]{margin-top:3rem}.school-detail-fieldset[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:2rem}.rncp-title-fieldset[_ngcontent-%COMP%]{margin-top:3rem;margin-bottom:6rem}.image-text[_ngcontent-%COMP%]{font-size:larger;font-weight:700;padding-top:1rem}.logo-spinner-wrapper[_ngcontent-%COMP%]{height:200px;width:auto;background-color:#6f6f6f;margin:auto;display:flex;align-items:center}.border-white[_ngcontent-%COMP%]{border:1px solid white}.text-bold[_ngcontent-%COMP%]{display:flex;align-items:flex-end;font-size:1.2rem;font-weight:700}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{border-right:1px solid #545454}[_nghost-%COMP%]     table tr td:nth-child(1), [_nghost-%COMP%]     table tr th:nth-child(1){width:3%;max-width:50px;min-width:50px;padding-left:0!important}[_nghost-%COMP%]     table tr td:nth-child(1) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(1) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(2), [_nghost-%COMP%]     table tr th:nth-child(2){width:15%;min-width:280px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(2) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(2) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(3), [_nghost-%COMP%]     table tr th:nth-child(3){width:20%;min-width:390px;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(3) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(3) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(4), [_nghost-%COMP%]     table tr th:nth-child(4){width:11%;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(4) .mat-form-field, [_nghost-%COMP%]     table tr th:nth-child(4) .mat-form-field{width:90%}[_nghost-%COMP%]     table tr td:nth-child(5), [_nghost-%COMP%]     table tr th:nth-child(5){width:10%;min-width:120px;padding-right:0!important;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(6), [_nghost-%COMP%]     table tr th:nth-child(6){width:10%;padding-right:0!important;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(7), [_nghost-%COMP%]     table tr th:nth-child(7){width:10%;padding-left:0!important;padding-right:0!important;text-align:center!important}[_nghost-%COMP%]     table tr td:nth-child(8), [_nghost-%COMP%]     table tr th:nth-child(8){width:10%;min-width:130px;max-width:130px;padding-left:0!important;padding-right:0!important;text-align:center!important}[_nghost-%COMP%]     table tr td{overflow:hidden;text-overflow:ellipsis;max-width:0;white-space:nowrap;padding:.5em 10px;box-sizing:border-box!important}[_nghost-%COMP%]     table tr td p{margin-bottom:0}[_nghost-%COMP%]     table tr td:nth-child(1){padding:0!important}[_nghost-%COMP%]     table tr td:nth-child(2){text-align:left!important}[_nghost-%COMP%]     table tr td:nth-child(3){text-align:left!important}[_nghost-%COMP%]     table tr td:nth-child(4){text-align:left!important}[_nghost-%COMP%]     table tr td:nth-child(5){text-align:left!important}[_nghost-%COMP%]     table tr td:nth-child(6){text-align:left!important}[_nghost-%COMP%]     table tr th{vertical-align:top}[_nghost-%COMP%]     table tr th .mat-form-field-infix{width:unset!important}[_nghost-%COMP%]     table tr:nth-child(2) th{padding-top:.9em}[_nghost-%COMP%]     table thead tr:nth-child(2){height:35px}[_nghost-%COMP%]     table thead tr:nth-child(2), [_nghost-%COMP%]     table thead tr:nth-child(3){background:#212121}[_nghost-%COMP%]     table thead tr:nth-child(2) th, [_nghost-%COMP%]     table thead tr:nth-child(3) th{color:#fff}[_nghost-%COMP%]     table .action-header-column{vertical-align:middle!important;padding-right:0!important}[_nghost-%COMP%]     table .action-header-column .p-grid{margin-top:unset!important}.spinner-wrapper[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;justify-content:center;align-items:center;top:0;left:0;z-index:998;background-color:#3a3a3a85}.logo-section[_ngcontent-%COMP%]{padding-left:5px;display:inline;position:relative}.text-logo-section[_ngcontent-%COMP%]{width:200px;display:flex;justify-content:center}.ml-0[_ngcontent-%COMP%]{margin-left:0}.m-auto[_ngcontent-%COMP%]{margin:0 auto}.p-top-8[_ngcontent-%COMP%]{padding-top:8px}.fieldset-class[_ngcontent-%COMP%]{padding:0;border:0px}[_nghost-%COMP%]     body .app-dark .mat-form-field-appearance-legacy .mat-form-field-label{color:#cacaca!important}[_nghost-%COMP%]     mat-input-element{color:#fff!important}.pad-top-30[_ngcontent-%COMP%]{padding-top:30px}.text-white[_ngcontent-%COMP%]{color:#fff!important}.pc-section[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:5px;display:inline-block}.cr-section[_ngcontent-%COMP%]{width:50%;text-align:left;display:inline-block}.buttonContainer[_ngcontent-%COMP%]{width:172px;text-align:center}.questionMarkSpan[_ngcontent-%COMP%]{margin:0;padding:0!important;margin-left:10px!important;margin-top:10px!important;line-height:16px;width:16px!important;min-width:16px;cursor:pointer}.green-icon[_ngcontent-%COMP%]{color:green}.no-records[_ngcontent-%COMP%]{background-color:#424242;font-size:14px;padding:10px 12px;border-right:1px solid #545454;border-bottom:1px solid #545454}  .mat-menu-panel{min-height:auto}  .mat-menu-content:not(:empty){padding-bottom:0}"]}),i})();var At=g(1059),Lt=g(22437),Y=g(73546),Vt=g(44850),W=g(3848),Rt=g(75223);const K=function(){return{first:!1,second:!0}},Z=function(){return{second:!1,third:!0}};function Kt(i,d){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"mat-card",15)(2,"mat-card-content",16),t.\u0275\u0275listener("click",function(){const s=t.\u0275\u0275restoreView(e).$implicit,b=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(b.goToCampus(s))}),t.\u0275\u0275elementStart(3,"h5",17)(4,"b",18),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"slice"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",19)(8,"div",20),t.\u0275\u0275element(9,"mat-divider"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",21),t.\u0275\u0275text(11),t.\u0275\u0275elementEnd()()()()()}if(2&i){const e=d.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass.md",t.\u0275\u0275pureFunction0(12,K))("ngClass.sm",t.\u0275\u0275pureFunction0(13,K))("ngClass.xs",t.\u0275\u0275pureFunction0(14,Z)),t.\u0275\u0275advance(2),t.\u0275\u0275styleProp("font-size",a.getFontSize(e.name),"px"),t.\u0275\u0275propertyInterpolate("matTooltip",e.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind3(6,8,e.name,0,11)," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",e.site_name," ")}}function Ut(i,d){if(1&i&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275template(1,Kt,12,15,"div",12),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.listCampusCards)}}function zt(i,d){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"mat-card",15)(2,"mat-card-content",16),t.\u0275\u0275listener("click",function(){const s=t.\u0275\u0275restoreView(e).$implicit,b=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(b.goToCampus(s))}),t.\u0275\u0275elementStart(3,"h5",17)(4,"b",18),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"slice"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",19)(8,"div",20),t.\u0275\u0275element(9,"mat-divider"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",21),t.\u0275\u0275text(11),t.\u0275\u0275elementEnd()()()()()}if(2&i){const e=d.$implicit,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass.md",t.\u0275\u0275pureFunction0(12,K))("ngClass.sm",t.\u0275\u0275pureFunction0(13,K))("ngClass.xs",t.\u0275\u0275pureFunction0(14,Z)),t.\u0275\u0275advance(2),t.\u0275\u0275styleProp("font-size",a.getFontSize(e.name),"px"),t.\u0275\u0275propertyInterpolate("matTooltip",e.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind3(6,8,e.name,0,11)," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",e.site_name," ")}}function Ht(i,d){if(1&i&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275template(1,zt,12,15,"div",12),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.listCampusCards)}}function Wt(i,d){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-tab",10),t.\u0275\u0275pipe(2,"uppercase"),t.\u0275\u0275template(3,Ht,2,1,"ng-template",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&i){const e=d.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(2,1,null==e?null:e.name))}}function $t(i,d){1&i&&(t.\u0275\u0275elementStart(0,"div",22),t.\u0275\u0275element(1,"mat-progress-spinner",23),t.\u0275\u0275elementEnd())}const jt=[{path:"",component:(()=>{class i{constructor(e,a,r,s,b,M,$){this.intakeChannelService=e,this.utilService=a,this.translate=r,this.route=s,this.filterBreadCrumbService=b,this.authService=M,this.pageTitleService=$,this.searchForm=new C.UntypedFormControl(""),this.subs=new l.Y,this.listCampusCards=[],this.listBlackCampus=[],this.isWaitingForResponse=!1,this.tabIndex=0,this.filteredValues={scholar_season_id:null,school_id:null},this.fromBlackCard=!1,this.filterBreadcrumbData=[]}ngOnInit(){this.currentUser=this.utilService.getCurrentUser(),this.getAllCampus(),this.initForm(),this.pageTitleService.setTitle("INTAKE_CHANNEL.PAGE_TITLE.Campus")}getAllCampus(){this.isWaitingForResponse=!0,this.subs.sink=this.intakeChannelService.GetAllCampuses(this.filteredValues).subscribe(e=>{this.listCampusCards=[],this.listBlackCampus=[],this.isWaitingForResponse=!1,e&&e.length&&(e.forEach((a,r)=>{a.name&&(e[r].name=a.name.toLowerCase()),a.sites&&a.sites.length&&a.sites.forEach((s,b)=>{s.is_main_address&&(e[r].site_name=a.sites[b].site_id.name)})}),this.listCampusCards=m.cloneDeep(e),this.listBlackCampus=m.cloneDeep(e)),this.filterBreadcrumbData=[],this.filterBreadcrumbFormat()},e=>{this.isWaitingForResponse=!1,this.listCampusCards=[],this.listBlackCampus=[],this.authService.postErrorLog(e),e&&e.message&&e.message.includes("Network error: Http failure response for")?p().fire({type:"warning",title:this.translate.instant("BAD_CONNECTION.Title"),html:this.translate.instant("BAD_CONNECTION.Text"),confirmButtonText:this.translate.instant("BAD_CONNECTION.Button"),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1}):p().fire({type:"info",title:this.translate.instant("SORRY"),text:e&&e.message?this.translate.instant(e.message.replaceAll("GraphQL error: ","")):e,confirmButtonText:this.translate.instant("DISCONNECT_SCHOOL.BUTTON3")})})}initForm(){this.subs.sink=this.searchForm.valueChanges.pipe((0,At.O)("")).subscribe(e=>{setTimeout(()=>{this.fromBlackCard&&(this.tabIndex=0),this.listCampusCards=this.listBlackCampus.filter(a=>!!a.name&&-1!==this.utilService.simpleDiacriticSensitiveRegex(a.name).toLowerCase().indexOf(this.utilService.simpleDiacriticSensitiveRegex(e).toLowerCase().trim())),this.filterBreadcrumbData=[],this.filterBreadcrumbFormat()},500)})}ngOnDestroy(){this.subs.unsubscribe(),this.pageTitleService.setTitle(null)}goToCampus(e){this.route.navigate([`/campus/campus-form/${e._id}`])}addCampus(){this.route.navigate(["/campus/campus-form"])}getFontSize(e){return 26}filterBlackCard(e){"all"===e||""===e||"All"===e||"Tous"===e?(this.listCampusCards=this.listBlackCampus,this.fromBlackCard=!1):(this.listCampusCards=this.listBlackCampus.filter(a=>a.name.toLowerCase().trim().includes(e.toLowerCase())),this.fromBlackCard=!0),this.fromBlackCard&&(this.searchForm.patchValue("",{emitEvent:!1}),this.filterBreadcrumbData=[]),console.log("schoolSelected",e,this.listCampusCards,this.listBlackCampus)}resetSearch(){this.tabIndex=0,this.filteredValues={scholar_season_id:null,school_id:null},this.searchForm.patchValue(""),this.listCampusCards=this.listBlackCampus,this.filterBreadcrumbData=[]}filterBreadcrumbFormat(){this.filterBreadcrumbData=this.filterBreadCrumbService.filterBreadcrumbFormat([{type:"super_filter",name:null,column:"Search by name",isMultiple:!1,filterValue:this.searchForm.value,filterList:null,filterRef:this.searchForm,isSelectionInput:!1,displayKey:null,savedValue:null}],this.filterBreadcrumbData)}removeFilterBreadcrumb(e){e&&this.filterBreadCrumbService.removeFilterBreadcrumb(e,null,null,null,!0)}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(I.p),t.\u0275\u0275directiveInject(c.t),t.\u0275\u0275directiveInject(E.sK),t.\u0275\u0275directiveInject(k.F0),t.\u0275\u0275directiveInject(Lt.q),t.\u0275\u0275directiveInject(N.e),t.\u0275\u0275directiveInject(R.Z))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ms-campus"]],decls:23,vars:20,consts:[[3,"filterBreadcrumbData","removeFilterTrigger"],[1,"p-grid","p-justify-end","search-title-row"],[1,"p-col","content-end"],[1,"search-field"],[1,"full-width"],["matInput","",3,"placeholder","formControl"],[1,"search-btn"],["mat-raised-button","","color","primary",3,"matTooltip","click"],["mat-raised-button","","color","accent",3,"click"],["animationDuration","500ms",3,"selectedIndex","selectedIndexChange","selectedTabChange"],[3,"label"],["matTabContent",""],[4,"ngFor","ngForOf"],["class","loading-indicator",4,"ngIf"],[1,"center-card","mrgn-btn50","mrgn-t1","flex-layout-row-wrap"],[1,"rncp-title-tile","card-dashboard"],["ngClass","first content-dashboard",3,"ngClass.md","ngClass.sm","ngClass.xs","click"],[1,"little-title","only-2-line",2,"-webkit-box-orient","vertical !important"],["matTooltipPosition","above",1,"test",3,"matTooltip"],[1,"detail-content"],[1,"divider-line-container"],["matTooltip","",1,"season",2,"-webkit-box-orient","vertical !important","display","-webkit-box !important","-webkit-line-clamp","2 !important","overflow","hidden","height","auto !important"],[1,"loading-indicator"],["mode","indeterminate","color","accent"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"ms-filter-breadcrumb",0),t.\u0275\u0275listener("removeFilterTrigger",function(s){return a.removeFilterBreadcrumb(s)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-form-field",4),t.\u0275\u0275element(5,"input",5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",6)(8,"button",7),t.\u0275\u0275listener("click",function(){return a.resetSearch()}),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",6)(13,"button",8),t.\u0275\u0275listener("click",function(){return a.addCampus()}),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(16,"div")(17,"mat-tab-group",9),t.\u0275\u0275listener("selectedIndexChange",function(s){return a.tabIndex=s})("selectedTabChange",function(s){return a.filterBlackCard(s.tab.textLabel)}),t.\u0275\u0275elementStart(18,"mat-tab",10),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275template(20,Ut,2,1,"ng-template",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(21,Wt,4,3,"ng-container",12),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(22,$t,2,0,"div",13)),2&e&&(t.\u0275\u0275property("filterBreadcrumbData",a.filterBreadcrumbData),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(6,10,"Search by name")),t.\u0275\u0275property("formControl",a.searchForm),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(9,12,"Reset Filter")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(11,14,"Reset")," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(15,16,"Add campus")),t.\u0275\u0275advance(3),t.\u0275\u0275property("selectedIndex",a.tabIndex),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(19,18,"All")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",a.listBlackCampus),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.isWaitingForResponse))},dependencies:[n.mk,n.sg,n.O5,D.lW,Y.a8,Y.dn,Vt.d,x.KE,O.Nt,T.Ou,W.SP,W.uX,W.Vc,S.gM,C.DefaultValueAccessor,C.NgControlStatus,C.FormControlDirective,G.oO,Rt.r,n.gd,n.OU,E.X$],styles:["[_nghost-%COMP%]     h5{font-size:23px}[_nghost-%COMP%]     p{height:37px;overflow:hidden}[_nghost-%COMP%]     .mat-card{text-align:center;display:block;margin:7px;padding:5.5px;color:#fff;overflow:hidden;word-wrap:break-word}[_nghost-%COMP%]     .mat-card h5{height:30%;text-transform:uppercase}[_nghost-%COMP%]     .mat-button-toggle-label-content{line-height:28px!important}.content[_ngcontent-%COMP%]{display:contents!important}.container[_ngcontent-%COMP%]{border:1px solid #607d8b!important;margin-top:1em;margin-bottom:1em;background-color:#fff;width:100%;box-sizing:border-box;display:flex;overflow-x:scroll}.container[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px;width:4px;border:1px solid #d5d5d5}.container[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:0;background:#212121}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:50px;background:rgba(96,125,139,.4117647059)}.add-rncp-button[_ngcontent-%COMP%]{float:right}.search-title-row[_ngcontent-%COMP%]{margin-top:1em;margin-left:10px;text-align:left}.search-field[_ngcontent-%COMP%]{display:inline-block;width:15rem;margin-right:8px}.search-btn[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]     .mat-tab-label{min-width:90px!important;background-color:#000!important;font-size:15px;opacity:1!important;color:#fff!important;font-weight:900!important}[_nghost-%COMP%]     .mat-tab-list .mat-tab-labels .mat-tab-label-active{border:1px solid #607d8b!important;background-color:#607d8b!important;color:#ffe77a!important}[_nghost-%COMP%]     .mat-ink-bar{background-color:unset!important}.content-end[_ngcontent-%COMP%]{text-align:end}.rncp-title-tile[_ngcontent-%COMP%]{background-color:#607d8b!important;border-radius:0!important}.rncp-title-tile[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d28104!important;box-shadow:0 0 10px #a0a0a0!important}.rncp-title-tile-not-published[_ngcontent-%COMP%]{background-color:#9d3730!important;border-radius:0}.rncp-title-tile-not-published[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d28104!important;box-shadow:0 0 10px #a0a0a0!important}.first[_ngcontent-%COMP%]{height:190px;width:223px}.test[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,sans-serif}.second[_ngcontent-%COMP%]{height:200px;width:202px;font-size:20px}.third[_ngcontent-%COMP%]{height:160px;width:160px;font-size:14px}.rncp-menu-btn[_ngcontent-%COMP%]{background-color:#212121;border:none!important}.rncp-menu-btn-selected[_ngcontent-%COMP%]{background-color:#607d8b;border:none!important}.center-card[_ngcontent-%COMP%]{justify-content:center}.divider-line-container[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-color:#fff!important;width:90%;margin-left:1rem}.title-long-name[_ngcontent-%COMP%]{font-size:14px;height:25%!important;max-height:25%;margin-top:1rem}.card-dashboard[_ngcontent-%COMP%]{padding:0!important}.mrgn-t1[_ngcontent-%COMP%]{margin-top:1rem}.content-dashboard[_ngcontent-%COMP%]{padding:1rem 0px 0px;margin-bottom:0;position:relative}.detail-title[_ngcontent-%COMP%]{height:auto!important;margin-top:2px;word-break:break-word;overflow:visible;margin-bottom:10px}.icon-status[_ngcontent-%COMP%]{font-size:14px!important}.little-title[_ngcontent-%COMP%]{padding:0 12px 0 0;height:auto!important;margin-bottom:0;width:237px;overflow:hidden;text-align:center}.font-26[_ngcontent-%COMP%]{font-size:26px}.font-16[_ngcontent-%COMP%]{font-size:16px}.mrgn-t10[_ngcontent-%COMP%]{margin-top:10px}.detail-content[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,sans-serif;padding:0rem 1rem}.detail-content[_ngcontent-%COMP%]   .date-season[_ngcontent-%COMP%]{text-align:start;padding-top:5px;font-size:16px}.detail-content[_ngcontent-%COMP%]   .season[_ngcontent-%COMP%]{padding-top:5px;font-size:16px;position:relative;min-height:48px}.only-2-line[_ngcontent-%COMP%]{display:-webkit-box!important;-webkit-line-clamp:2!important;-webkit-box-orient:vertical!important}.mrgn-btn50[_ngcontent-%COMP%]{margin-bottom:50px}.certifier-logo-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;padding-bottom:5px}.logo-white-bg[_ngcontent-%COMP%]{background-color:#fff;width:150px;height:50px;border-radius:5px}.certifier-logo[_ngcontent-%COMP%]{height:50px!important}"]}),i})(),canActivate:[y.n],data:{permission:"intake_channel.show_perm"}},{path:"campus-form",children:[{path:"",component:X},{path:":id",component:X}],canActivate:[y.n],data:{permission:"intake_channel.show_perm"}},{path:"**",redirectTo:"",pathMatch:"full"}];let Gt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[k.Bz.forChild(jt),k.Bz]}),i})();var Qt=g(93730),Xt=g(33300);let Yt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[n.ez,Gt,Qt.m,V.A0,Xt.rK]}),i})()}}]);